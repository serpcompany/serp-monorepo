{"version":3,"file":"index4.mjs","sources":["../../../../../../../packages/utils-cloudflare-pages/server/api/companies/index.ts"],"sourcesContent":null,"names":["index","defineEventHandler","async","event","page","limit","categorySlug","getQuery","pageNumber","Number","limitNumber","Math","min","isNaN","isInteger","createError","statusCode","message","offset","baseQuery","useDrizzle","select","id","companyCache","name","slug","oneLiner","excerpt","logo","serplyLink","categories","screenshots","rating","upvotes","downvotes","featured","featuredOrder","from","where","sql","orderBy","desc","asc","totalQuery","count","results","total","Promise","all","execute","length","companies","map","company","pagination","currentPage","pageSize","totalItems","categoryName","category","getCategoryName"],"mappings":"yZAKA,MAAAA,EAAAC,GAAAC,MAAAC,IACA,MAAAC,KAAAA,EAAA,EAAAC,MAAAA,EAAA,iBAAAC,GAAAC,EAAAJ,GAEAK,EAAAC,OAAAL,GACAM,EAAAC,KAAAC,IAAAH,OAAAJ,GAAA,KAEA,GAAAQ,MAAAL,IAAAA,EAAA,IAAAC,OAAAK,UAAAN,GACA,MAAAO,EAAA,CACAC,WAAA,IACAC,QAAA,qCAIA,GAAAJ,MAAAH,IAAAA,EAAA,IAAAD,OAAAK,UAAAJ,GACA,MAAAK,EAAA,CACAC,WAAA,IACAC,QAAA,sCAIA,MAAAC,GAAAV,EAAA,GAAAE,EAEA,IAAAS,EAAAC,IACAC,OAAA,CACAC,GAAAC,EAAAD,GACAE,KAAAD,EAAAC,KACAC,KAAAF,EAAAE,KACAC,SAAAH,EAAAG,SACAC,QAAAJ,EAAAI,QACAC,KAAAL,EAAAK,KACAC,WAAAN,EAAAM,WACAC,WAAAP,EAAAO,WACAC,YAAAR,EAAAQ,YACAC,OAAAT,EAAAS,OACAC,QAAAV,EAAAU,QACAC,UAAAX,EAAAW,UACAC,SAAAZ,EAAAY,SACAC,cAAAb,EAAAa,gBAEAC,KAAAd,GAEAjB,IACAa,EAAAA,EAAAmB,MACAC,CAAA;;YAEAhB,EAAAO;;uCAEAxB;;UAMAa,EAAAA,EACAqB,QAAAC,EAAAlB,EAAAY,UAAAO,EAAAnB,EAAAa,gBACA/B,MAAAK,GACAQ,OAAAA,GAEA,IAAAyB,EAAAvB,IACAC,OAAA,CAAAuB,MAAAL,CAAA,aACAF,KAAAd,GAEAjB,IACAqC,EAAAA,EAAAL,MACAC,CAAA;;YAEAhB,EAAAO;;uCAEAxB;;UAMA,MAAAuC,IAAAD,MAAAE,WAAAC,QAAAC,IAAA,CACA7B,EAAA8B,UACAN,EAAAM,YAGA,IAAAJ,EAAAK,OACA,MAAAnC,EAAA,CACAC,WAAA,IACAC,QAAA,cAIA,MAAAkC,EAAAN,EAAAO,KAAAC,GAAAA,IAEAC,EAAA,CACAC,YAAA/C,EACAgD,SAAA9C,EACA+C,WAAAhD,OAAAqC,IAaAY,EAVA,MACA,GAAAP,GAAAA,EAAAD,QAAAC,EAAA,GAAArB,YACA,IAAA,MAAA6B,KAAAR,EAAA,GAAArB,WACA,GAAA6B,EAAAlC,OAAAnB,EACA,OAAAqD,EAAAnC,UAGA,EAGAoC,GAQA,MANA,CACAT,YACAG,aACAI,eAGA"}