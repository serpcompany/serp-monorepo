import{d as o,a as t,c as e}from"../../../nitro/nitro.mjs";import{u as r,e as s}from"../index5.mjs";import{f as i}from"../db/schema.mjs";import"node:buffer";import"node:process";import"node:timers";import"node:events";import"node:net";import"node:async_hooks";import"node:assert";import"node:util";import"node:url";import"node:stream";import"node:crypto";import"node:dns";import"node:string_decoder";const n=o((async o=>{const n=t(o,"slug");if(!n)throw e({statusCode:400,message:"Slug parameter is required"});const m=r().select().from(i).where(s(i.slug,n)).limit(1),a=await m.execute();if(!a.length)throw e({statusCode:404,message:"Song not found"});const d=a[0];var p;return d.lyrics&&(d.lyrics=(p=d.lyrics)?p.split("\n").map((o=>o.trim()?`<p>${o}</p>`:"<br>")).join(""):null),d}));export{n as default};
//# sourceMappingURL=_slug_.mjs.map
