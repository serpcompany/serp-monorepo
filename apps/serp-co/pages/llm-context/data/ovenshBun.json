[
  {
    "owner": "oven-sh",
    "repo": "bun",
    "content": "TITLE: Running a Bun HTTP Server from CLI\nDESCRIPTION: Executes the HTTP server by running the index.ts file directly with Bun, which will transpile TypeScript and start the server on port 3000.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun index.ts\nListening on http://localhost:3000 ...\n```\n\n----------------------------------------\n\nTITLE: Non-Cryptographic Hashing with Bun.hash\nDESCRIPTION: Shows usage of Bun.hash for non-cryptographic hashing using the Wyhash algorithm. It accepts various input types and an optional seed parameter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nBun.hash(\"some data here\");\n// 11562320457524636935n\n\nconst arr = new Uint8Array([1, 2, 3, 4]);\n\nBun.hash(\"some data here\");\nBun.hash(arr);\nBun.hash(arr.buffer);\nBun.hash(new DataView(arr.buffer));\n\nBun.hash(\"some data here\", 1234);\n// 15724820720172937558n\n```\n\n----------------------------------------\n\nTITLE: Generating JUnit XML Test Reports with Bun using Shell Command\nDESCRIPTION: Shows how to configure `bun test` to generate a JUnit XML report using the `--reporter=junit` flag and specify the output file path with `--reporter-outfile`. This is useful for integrating test results into CI/CD systems like GitLab that support this format. Standard output remains unaffected.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --reporter=junit --reporter-outfile=./bun.xml\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic HTTP Server in Bun and Node.js\nDESCRIPTION: Comparison of minimal HTTP server implementations that respond with 'Bun!' to all requests. The Bun implementation uses Bun.serve while Node.js uses the http module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req: Request) {\n    return new Response(\"Bun!\");\n  },\n  port: 3000,\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\nrequire(\"http\")\n  .createServer((req, res) => res.end(\"Bun!\"))\n  .listen(8080);\n```\n\n----------------------------------------\n\nTITLE: Basic Redis Operations in Bun\nDESCRIPTION: Demonstrates fundamental Redis operations using Bun's native Redis client, including setting and getting keys, incrementing counters, checking key existence, and deleting keys.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { redis } from \"bun\";\n\n// Set a key\nawait redis.set(\"greeting\", \"Hello from Bun!\");\n\n// Get a key\nconst greeting = await redis.get(\"greeting\");\nconsole.log(greeting); // \"Hello from Bun!\"\n\n// Increment a counter\nawait redis.set(\"counter\", 0);\nawait redis.incr(\"counter\");\n\n// Check if a key exists\nconst exists = await redis.exists(\"greeting\");\n\n// Delete a key\nawait redis.del(\"greeting\");\n```\n\n----------------------------------------\n\nTITLE: Sending Different Message Types (TypeScript)\nDESCRIPTION: This snippet showcases the different types of data that can be sent using the `ws.send()` method of a `ServerWebSocket` instance, including strings, ArrayBuffers, and TypedArrays.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nws.send(\"Hello world\"); // string\nws.send(response.arrayBuffer()); // ArrayBuffer\nws.send(new Uint8Array([1, 2, 3])); // TypedArray | DataView\n```\n\n----------------------------------------\n\nTITLE: Inheriting stdout from child process to parent in TypeScript\nDESCRIPTION: This snippet demonstrates how to pipe the stdout from a child process directly to the parent process's stdout using the 'inherit' option in Bun.spawn(). This allows output to appear directly in the terminal.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn-stdout.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"], {\n  stdout: \"inherit\",\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Test Timeout with Bun Test Runner\nDESCRIPTION: Shows how to configure test timeout duration using Bun's CLI flag instead of Jest's testTimeout configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --timeout 10000\n```\n\n----------------------------------------\n\nTITLE: Creating an HTTP Server with Routing in Bun\nDESCRIPTION: This snippet demonstrates a complete HTTP server setup using Bun.serve that handles various endpoint types. It includes routes for HTML responses, redirects, file serving, JSON responses, POST request handling for both JSON and form data, and 404 error handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/server.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  async fetch(req) {\n    const path = new URL(req.url).pathname;\n\n    // respond with text/html\n    if (path === \"/\") return new Response(\"Welcome to Bun!\");\n\n    // redirect\n    if (path === \"/abc\") return Response.redirect(\"/source\", 301);\n\n    // send back a file (in this case, *this* file)\n    if (path === \"/source\") return new Response(Bun.file(import.meta.path));\n\n    // respond with JSON\n    if (path === \"/api\") return Response.json({ some: \"buns\", for: \"you\" });\n\n    // receive JSON data to a POST request\n    if (req.method === \"POST\" && path === \"/api/post\") {\n      const data = await req.json();\n      console.log(\"Received JSON:\", data);\n      return Response.json({ success: true, data });\n    }\n\n    // receive POST data from a form\n    if (req.method === \"POST\" && path === \"/form\") {\n      const data = await req.formData();\n      console.log(data.get(\"someField\"));\n      return new Response(\"Success\");\n    }\n\n    // 404s\n    return new Response(\"Page not found\", { status: 404 });\n  },\n});\n\nconsole.log(`Listening on ${server.url}`);\n\n```\n\n----------------------------------------\n\nTITLE: Setting WebSocket Context Data with Cookies in Bun\nDESCRIPTION: This snippet shows how to read cookies from the incoming request, use them to retrieve user data, and then set the user data as contextual data on the WebSocket connection.  It assumes the existence of functions `parseCookies` and `getUserFromToken`. The example demonstrates how to access user-specific data within the WebSocket `message` handler for tasks like saving messages to a database.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/context.md#_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\ntype WebSocketData = {\n  createdAt: number;\n  token: string;\n  userId: string;\n};\n\n// TypeScript: specify the type of `data`\nBun.serve<WebSocketData>({\n  async fetch(req, server) {\n    // use a library to parse cookies\n    const cookies = parseCookies(req.headers.get(\"Cookie\"));\n    const token = cookies[\"X-Token\"];\n    const user = await getUserFromToken(token);\n\n    const upgraded = server.upgrade(req, {\n      data: {\n        createdAt: Date.now(),\n        token: cookies[\"X-Token\"],\n        userId: user.id,\n      },\n    });\n\n    if (upgraded) return undefined;\n  },\n  websocket: {\n    async message(ws, message) {\n      // save the message to a database\n      await saveMessageToDatabase({\n        message: String(message),\n        userId: ws.data.userId,\n      });\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Rate Limiting with Bun Redis Client in TypeScript\nDESCRIPTION: This function imposes a request rate limit per IP by storing counters in Redis using Bun's client. It increments a request counter and applies a time window for the rate limit, setting an expiry on first access. The function uses the async Redis API (e.g., incr and expire), requiring a properly configured Redis client instance as a prerequisite. Inputs include the client IP address, maximum allowed requests (default 100), and window duration in seconds (default 3600); the output is an object indicating whether the limit was reached and how many requests remain. Designed for stateless server-side rate limiting in scalable applications, it assumes atomic Redis operations and may require distributed locking or advanced guards for highly concurrent scenarios.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_14\n\nLANGUAGE: TypeScript\nCODE:\n```\nasync function rateLimit(ip, limit = 100, windowSecs = 3600) {\n  const key = `ratelimit:${ip}`;\n\n  // Increment counter\n  const count = await redis.incr(key);\n\n  // Set expiry if this is the first request in window\n  if (count === 1) {\n    await redis.expire(key, windowSecs);\n  }\n\n  // Check if limit exceeded\n  return {\n    limited: count > limit,\n    remaining: Math.max(0, limit - count),\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Hot Reloading Server Handlers in Bun\nDESCRIPTION: Shows how to update a server's handlers without restarting using the server.reload() method. This allows changing route handlers and the main fetch handler dynamically during development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  routes: {\n    \"/api/version\": Response.json({ version: \"v1\" }),\n  },\n  fetch(req) {\n    return new Response(\"v1\");\n  },\n});\n\n// Update to new handler\nserver.reload({\n  routes: {\n    \"/api/version\": Response.json({ version: \"v2\" }),\n  },\n  fetch(req) {\n    return new Response(\"v2\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: WebSocket Event Handlers (TypeScript)\nDESCRIPTION: This snippet shows the available WebSocket event handlers that can be defined within the `websocket` parameter of `Bun.serve`. These handlers include `message`, `open`, `close`, and `drain`, each corresponding to a WebSocket event.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {}, // upgrade logic\n  websocket: {\n    message(ws, message) {}, // a message is received\n    open(ws) {}, // a socket is opened\n    close(ws, code, message) {}, // a socket is closed\n    drain(ws) {}, // the socket is ready to receive more data\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing a Pub-Sub WebSocket Chat Server in TypeScript with Bun\nDESCRIPTION: This code creates a WebSocket server using Bun's native API. It handles user connections, subscribes them to a chat channel, and broadcasts messages to all subscribers. The server manages user join/leave events and message relaying.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/pubsub.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve<{ username: string }>({\n  fetch(req, server) {\n    const cookies = req.headers.get(\"cookie\");\n    const username = getUsernameFromCookies(cookies);\n    const success = server.upgrade(req, { data: { username } });\n    if (success) return undefined;\n\n    return new Response(\"Hello world\");\n  },\n  websocket: {\n    open(ws) {\n      const msg = `${ws.data.username} has entered the chat`;\n      ws.subscribe(\"the-group-chat\");\n      server.publish(\"the-group-chat\", msg);\n    },\n    message(ws, message) {\n      // the server re-broadcasts incoming messages to everyone\n      server.publish(\"the-group-chat\", `${ws.data.username}: ${message}`);\n    },\n    close(ws) {\n      const msg = `${ws.data.username} has left the chat`;\n      server.publish(\"the-group-chat\", msg);\n      ws.unsubscribe(\"the-group-chat\");\n    },\n  },\n});\n\nconsole.log(`Listening on ${server.hostname}:${server.port}`);\n```\n\n----------------------------------------\n\nTITLE: Implementing WebSocket Server with Bun.serve\nDESCRIPTION: Creates a WebSocket server that handles connection upgrades and message processing. The server responds to WebSocket messages with an echo response and serves 'Hello world!' for regular HTTP requests. Uses TypeScript with a generic type parameter for authentication token.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/simple.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve<{ authToken: string }>({\n  fetch(req, server) {\n    const success = server.upgrade(req);\n    if (success) {\n      // Bun automatically returns a 101 Switching Protocols\n      // if the upgrade succeeds\n      return undefined;\n    }\n\n    // handle HTTP request normally\n    return new Response(\"Hello world!\");\n  },\n  websocket: {\n    // this is called when a message is received\n    async message(ws, message) {\n      console.log(`Received ${message}`);\n      // send back a message\n      ws.send(`You said: ${message}`);\n    },\n  },\n});\n\nconsole.log(`Listening on ${server.hostname}:${server.port}`);\n```\n\n----------------------------------------\n\nTITLE: Complex Environment Variable Expansion for Database Connections\nDESCRIPTION: Example of using environment variable expansion to construct a database connection string from individual components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_10\n\nLANGUAGE: txt\nCODE:\n```\nDB_USER=postgres\nDB_PASSWORD=secret\nDB_HOST=localhost\nDB_PORT=5432\nDB_URL=postgres://$DB_USER:$DB_PASSWORD@$DB_HOST:$DB_PORT/$DB_NAME\n```\n\n----------------------------------------\n\nTITLE: Initializing Drizzle Database with Neon Serverless Driver (TypeScript)\nDESCRIPTION: Illustrates connecting Neon Postgres via the Neon serverless driver and wrapping it with Drizzle ORM in a Bun environment. Requires @neondatabase/serverless and drizzle-orm as dependencies, and expects Bun to load environment variables. Exports a configured db instance for reuse.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport { neon } from '@neondatabase/serverless';\\nimport { drizzle } from 'drizzle-orm/neon-http';\\n\\n// Bun automatically loads the DATABASE_URL from .env.local\\n// Refer to: https://bun.sh/docs/runtime/env for more information\\nconst sql = neon(process.env.DATABASE_URL!);\\n\\nexport const db = drizzle(sql);\n```\n\n----------------------------------------\n\nTITLE: Password Hashing and Verification in Bun\nDESCRIPTION: Demonstrates how to use Bun.password.hash to create a password hash and Bun.password.verify to check if a password matches a hash. This snippet uses the default Argon2 algorithm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\n\nconst hash = await Bun.password.hash(password);\n// => $argon2id$v=19$m=65536,t=2,p=1$tFq+9AVr1bfPxQdh6E8DQRhEXg/M/SqYCNu6gVdRRNs$GzJ8PuBi+K+BVojzPfS5mjnC8OpLGtv8KJqF99eP6a4\n\nconst isMatch = await Bun.password.verify(password, hash);\n// => true\n```\n\n----------------------------------------\n\nTITLE: Redis Caching Example in Bun\nDESCRIPTION: Demonstrates a caching use case using Bun's Redis client, including fetching data from cache, storing data in cache with expiration, and falling back to database queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getUserWithCache(userId) {\n  const cacheKey = `user:${userId}`;\n\n  // Try to get from cache first\n  const cachedUser = await redis.get(cacheKey);\n  if (cachedUser) {\n    return JSON.parse(cachedUser);\n  }\n\n  // Not in cache, fetch from database\n  const user = await database.getUser(userId);\n\n  // Store in cache for 1 hour\n  await redis.set(cacheKey, JSON.stringify(user));\n  await redis.expire(cacheKey, 3600);\n\n  return user;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic HTTP Server with Bun in TypeScript\nDESCRIPTION: This snippet demonstrates how to use Bun.serve() to create a simple HTTP server that listens on port 3000 and responds to all requests with a welcome message. The server is configured with a port and a fetch handler function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/simple.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  port: 3000,\n  fetch(request) {\n    return new Response(\"Welcome to Bun!\");\n  },\n});\n\nconsole.log(`Listening on ${server.url}`);\n```\n\n----------------------------------------\n\nTITLE: Echoing Messages with ServerWebSocket (TypeScript)\nDESCRIPTION: This example demonstrates how to echo back incoming messages to the client using the `ws.send()` method within the `message` event handler. The `ServerWebSocket` instance is passed as the first argument to the handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {}, // upgrade logic\n  websocket: {\n    message(ws, message) {\n      ws.send(message); // echo back the message\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Starting a Basic HTTP Server with Bun.serve\nDESCRIPTION: A comprehensive example showing how to set up an HTTP server using Bun.serve with various routing approaches including static routes, dynamic routes with parameters, per-HTTP method handlers, wildcards, redirects, and serving static files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  // `routes` requires Bun v1.2.3+\n  routes: {\n    // Static routes\n    \"/api/status\": new Response(\"OK\"),\n\n    // Dynamic routes\n    \"/users/:id\": req => {\n      return new Response(`Hello User ${req.params.id}!`);\n    },\n\n    // Per-HTTP method handlers\n    \"/api/posts\": {\n      GET: () => new Response(\"List posts\"),\n      POST: async req => {\n        const body = await req.json();\n        return Response.json({ created: true, ...body });\n      },\n    },\n\n    // Wildcard route for all routes that start with \"/api/\" and aren't otherwise matched\n    \"/api/*\": Response.json({ message: \"Not found\" }, { status: 404 }),\n\n    // Redirect from /blog/hello to /blog/hello/world\n    \"/blog/hello\": Response.redirect(\"/blog/hello/world\"),\n\n    // Serve a file by buffering it in memory\n    \"/favicon.ico\": new Response(await Bun.file(\"./favicon.ico\").bytes(), {\n      headers: {\n        \"Content-Type\": \"image/x-icon\",\n      },\n    }),\n  },\n\n  // (optional) fallback for unmatched routes:\n  // Required if Bun's version < 1.2.3\n  fetch(req) {\n    return new Response(\"Not Found\", { status: 404 });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring tsconfig.json for Bun Projects\nDESCRIPTION: This JSON configuration sets up recommended compiler options for a Bun project, enabling features like top-level await, extensioned or extensionless imports, and JSX support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/typescript.md#2025-04-22_snippet_1\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"compilerOptions\": {\n    // Environment setup & latest features\n    \"lib\": [\"ESNext\"],\n    \"target\": \"ESNext\",\n    \"module\": \"ESNext\",\n    \"moduleDetection\": \"force\",\n    \"jsx\": \"react-jsx\",\n    \"allowJs\": true,\n\n    // Bundler mode\n    \"moduleResolution\": \"bundler\",\n    \"allowImportingTsExtensions\": true,\n    \"verbatimModuleSyntax\": true,\n    \"noEmit\": true,\n\n    // Best practices\n    \"strict\": true,\n    \"skipLibCheck\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noUncheckedIndexedAccess\": true,\n\n    // Some stricter flags (disabled by default)\n    \"noUnusedLocals\": false,\n    \"noUnusedParameters\": false,\n    \"noPropertyAccessFromIndexSignature\": false,\n  },\n}\n```\n\n----------------------------------------\n\nTITLE: Replacing Jest Commands with Bun Test\nDESCRIPTION: Demonstrates how to replace Jest testing commands with Bun's test runner command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n- $ npx jest\n- $ yarn test\n+ $ bun test\n```\n\n----------------------------------------\n\nTITLE: Specifying SSL/TLS Modes via Connection Strings in Bun SQL Client - TypeScript\nDESCRIPTION: Demonstrates initializing the `bun:sql` client using PostgreSQL connection strings where the SSL/TLS mode is specified via the `sslmode` query parameter (e.g., `postgres://.../?sslmode=prefer` or `postgres://.../?sslmode=verify-full`). This provides an alternative to object-based configuration for setting connection security.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\n// Using prefer mode\nconst sql = new SQL(\"postgres://user:password@localhost/mydb?sslmode=prefer\");\n\n// Using verify-full mode\nconst sql = new SQL(\n  \"postgres://user:password@localhost/mydb?sslmode=verify-full\",\n);\n```\n```\n\n----------------------------------------\n\nTITLE: Returning Promises in Bun.serve Route Handlers\nDESCRIPTION: Example showing how to return a Promise<Response> directly from a route handler, useful for operations that need to be wrapped in a Promise like setTimeout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql, serve } from \"bun\";\n\nserve({\n  routes: {\n    \"/api/version\": () => {\n      return new Promise(resolve => {\n        setTimeout(async () => {\n          const [version] = await sql`SELECT version()`;\n          resolve(Response.json(version));\n        }, 100);\n      });\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing a Worker Thread in TypeScript\nDESCRIPTION: Example of a worker implementation that receives messages from the main thread and responds back. Includes TypeScript declaration to prevent errors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// prevents TS errors\ndeclare var self: Worker;\n\nself.onmessage = (event: MessageEvent) => {\n  console.log(event.data);\n  postMessage(\"world\");\n};\n```\n\n----------------------------------------\n\nTITLE: Hot Route Reloading with server.reload()\nDESCRIPTION: Example showing how to update routes at runtime without restarting the server, allowing for zero-downtime deployments of new route configurations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  routes: {\n    \"/api/version\": () => Response.json({ version: \"1.0.0\" }),\n  },\n});\n\n// Deploy new routes without downtime\nserver.reload({\n  routes: {\n    \"/api/version\": () => Response.json({ version: \"2.0.0\" }),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Seeding the Database with Sample Data using Drizzle ORM (TypeScript)\nDESCRIPTION: Populates the `movies` table with sample data using Drizzle's `insert` method. It imports the `db` instance from `./db.ts` and the `schema` definitions from `./schema.ts`. An array of movie objects is provided to the `values` method to insert multiple rows in a single operation. A confirmation message is logged upon completion. Depends on `db.ts`, `schema.ts`, and the `movies` table existing in the database.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\n#seed.ts\nimport { db } from \"./db\";\nimport * as schema from \"./schema\";\n\nawait db.insert(schema.movies).values([\n  {\n    title: \"The Matrix\",\n    releaseYear: 1999,\n  },\n  {\n    title: \"The Matrix Reloaded\",\n    releaseYear: 2003,\n  },\n  {\n    title: \"The Matrix Revolutions\",\n    releaseYear: 2003,\n  },\n]);\n\nconsole.log(`Seeding complete.`);\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun S3Client for MinIO - TypeScript\nDESCRIPTION: This snippet illustrates connecting Bun's S3Client to a MinIO server by providing MinIO's endpoint and credentials. Change 'endpoint' to match your MinIO's server URL; do not use 'localhost' in production. Requires the 'bun' module and correct access credentials and bucket name.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\nconst minio = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n\n  // Make sure to use the correct endpoint URL\n  // It might not be localhost in production!\n  endpoint: \\\"http://localhost:9000\\\",\n});\n```\n\n----------------------------------------\n\nTITLE: Attaching Contextual Data to WebSocket (TypeScript)\nDESCRIPTION: This snippet shows how to attach contextual data to a new WebSocket connection during the upgrade process using the `data` option in `server.upgrade()`. This data can then be accessed within the WebSocket handlers via the `ws.data` property.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\ntype WebSocketData = {\n  createdAt: number;\n  channelId: string;\n  authToken: string;\n};\n\n// TypeScript: specify the type of `data`\nBun.serve<WebSocketData>({\n  fetch(req, server) {\n    const cookies = new Bun.CookieMap(req.headers.get(\"cookie\")!);\n\n    server.upgrade(req, {\n      // this object must conform to WebSocketData\n      data: {\n        createdAt: Date.now(),\n        channelId: new URL(req.url).searchParams.get(\"channelId\"),\n        authToken: cookies.get(\"X-Token\"),\n      },\n    });\n\n    return undefined;\n  },\n  websocket: {\n    // handler called when a message is received\n    async message(ws, message) {\n      const user = getUserFromToken(ws.data.authToken);\n\n      await saveMessageToDatabase({\n        channel: ws.data.channelId,\n        message: String(message),\n        userId: user.id,\n      });\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Advanced WebSocket Options in Bun Server\nDESCRIPTION: Demonstrates the full range of WebSocket configuration options available in Bun's server, including message size limits, backpressure handling, compression, ping/pong frames, and publish settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  websocket: {\n    // Maximum message size (in bytes)\n    maxPayloadLength: 64 * 1024,\n\n    // Backpressure limit before messages are dropped\n    backpressureLimit: 1024 * 1024,\n\n    // Close connection if backpressure limit is hit\n    closeOnBackpressureLimit: true,\n\n    // Handler called when backpressure is relieved\n    drain(ws) {\n      console.log(\"Backpressure relieved\");\n    },\n\n    // Enable per-message deflate compression\n    perMessageDeflate: {\n      compress: true,\n      decompress: true,\n    },\n\n    // Send ping frames to keep connection alive\n    sendPings: true,\n\n    // Handlers for ping/pong frames\n    ping(ws, data) {\n      console.log(\"Received ping\");\n    },\n    pong(ws, data) {\n      console.log(\"Received pong\");\n    },\n\n    // Whether server receives its own published messages\n    publishToSelf: false,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Request Timeout with AbortSignal in TypeScript\nDESCRIPTION: Demonstrates how to set a timeout for a fetch request using AbortSignal.timeout, which will automatically abort the request after the specified time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  signal: AbortSignal.timeout(1000),\n});\n```\n\n----------------------------------------\n\nTITLE: Filtering Workspace Scripts\nDESCRIPTION: Command for filtering and running scripts across multiple workspaces using glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --filter 'lib-*' my-script\n# instead of:\n# npm run --workspace lib-foo --workspace lib-bar my-script\n```\n\n----------------------------------------\n\nTITLE: Hot Reloading Static Routes with server.reload()\nDESCRIPTION: Demonstrates how to update static routes without restarting the server using server.reload(). This allows for dynamic content updates while the server continues running.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  static: {\n    \"/api/time\": new Response(new Date().toISOString()),\n  },\n\n  fetch(req) {\n    return new Response(\"404!\");\n  },\n});\n\n// Update the time every second.\nsetInterval(() => {\n  server.reload({\n    static: {\n      \"/api/time\": new Response(new Date().toISOString()),\n    },\n\n    fetch(req) {\n      return new Response(\"404!\");\n    },\n  });\n}, 1000);\n```\n\n----------------------------------------\n\nTITLE: Reading a File and Creating an HTTP Response in Bun\nDESCRIPTION: This snippet demonstrates how to read a file from disk using Bun.file() and create an HTTP response from it. The BunFile instance can be passed directly to the Response constructor.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-file.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nconst file = Bun.file(path);\nconst resp = new Response(file);\n```\n\n----------------------------------------\n\nTITLE: Declaring Package Binaries in package.json for bunx (JSONC)\nDESCRIPTION: Shows how to declare a binary executable in an npm package's package.json under the 'bin' field, enabling bunx and other tools to discover and execute it. Requires a valid Node.js project structure. The 'bin' field maps the CLI name ('my-cli') to the script file location ('dist/index.js'). Input is the configuration JSON; output is discovery by bunx/npx/yarn dlx.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_1\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  // ... other fields\n  \"name\": \"my-cli\",\n  \"bin\": {\n    \"my-cli\": \"dist/index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Vite Project with Bun\nDESCRIPTION: Initializes a new Vite project using Bun create command, selecting React with TypeScript + SWC template\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create vite my-app\n✔ Select a framework: › React\n✔ Select a variant: › TypeScript + SWC\nScaffolding project in /path/to/my-app...\n```\n\n----------------------------------------\n\nTITLE: Installing TypeScript Definitions for Bun\nDESCRIPTION: This command installs the TypeScript definitions for Bun's built-in APIs as a development dependency.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/typescript.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add -d @types/bun # dev dependency\n```\n\n----------------------------------------\n\nTITLE: Calling FFI Function with TypedArray Pointer (TypeScript)\nDESCRIPTION: Presents a full FFI function call in Bun, showing how to load a dynamic library and call a native function (encode_png) with a TypedArray passed as a pointer. Uses dlopen and FFIType from 'bun:ffi'. Key concepts include symbol mapping, TypedArray-filling, and parameter passing. Inputs are the pixel buffer and dimensions; output is a pointer to encoded data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dlopen, FFIType } from \"bun:ffi\";\n\nconst {\n  symbols: { encode_png },\n} = dlopen(myLibraryPath, {\n  encode_png: {\n    // FFIType's can be specified as strings too\n    args: [\"ptr\", \"u32\", \"u32\"],\n    returns: FFIType.ptr,\n  },\n});\n\nconst pixels = new Uint8ClampedArray(128 * 128 * 4);\npixels.fill(254);\npixels.subarray(0, 32 * 32 * 2).fill(0);\n\nconst out = encode_png(\n  // pixels will be passed as a pointer\n  pixels,\n\n  128,\n  128,\n);\n\n```\n\n----------------------------------------\n\nTITLE: Decoding ArrayBuffer to String using TextDecoder in TypeScript\nDESCRIPTION: This snippet demonstrates how to convert an ArrayBuffer to a string using the standard TextDecoder API in a Bun environment. It first creates an ArrayBuffer, then instantiates a TextDecoder, and finally uses the `decode` method to perform the conversion. This relies on Bun's implementation of the Web-standard TextDecoder API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst buf = new ArrayBuffer(64);\nconst decoder = new TextDecoder();\nconst str = decoder.decode(buf);\n```\n\n----------------------------------------\n\nTITLE: Monitoring Server Activity with Built-in Counters\nDESCRIPTION: Shows how to monitor server activity using the pendingRequests and pendingWebSockets properties. These provide real-time counts of active HTTP requests and WebSocket connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch(req, server) {\n    return new Response(\n      `Active requests: ${server.pendingRequests}\\n` +\n        `Active WebSockets: ${server.pendingWebSockets}`,\n    );\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Creating an HTTP Server with Bun.serve in TypeScript\nDESCRIPTION: This snippet demonstrates how to create a simple HTTP server using Bun's native 'Bun.serve' API. It defines a fetch handler that responds to all requests with a 'Success!' message.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bun-apis.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req: Request) {\n    return new Response(\"Success!\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Getting Current File Path with import.meta in Bun TypeScript\nDESCRIPTION: Shows how to use import.meta.path to get the absolute path of the current module file in Bun. This utility is part of Bun's module-specific utilities provided through the import.meta object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/import-meta-path.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.path; // => \"/a/b/c.ts\"\n```\n\n----------------------------------------\n\nTITLE: Per-HTTP Method Routing in Bun.serve\nDESCRIPTION: Implementation of method-specific handlers for a single route, allowing different logic to be executed based on the HTTP method (GET, POST, PUT, DELETE, etc.) of the incoming request.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    \"/api/posts\": {\n      // Different handlers per method\n      GET: () => new Response(\"List posts\"),\n      POST: async req => {\n        const post = await req.json();\n        return Response.json({ id: crypto.randomUUID(), ...post });\n      },\n      PUT: async req => {\n        const updates = await req.json();\n        return Response.json({ updated: true, ...updates });\n      },\n      DELETE: () => new Response(null, { status: 204 }),\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: WebSocket Pub/Sub Implementation (TypeScript)\nDESCRIPTION: This snippet showcases Bun's native publish-subscribe API using `ws.subscribe()`, `ws.unsubscribe()`, and `server.publish()`. It implements a simple group chat where users can join, send messages, and leave the chat. The messages are broadcasted to all other subscribers of the topic.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve<{ username: string }>({ \n  fetch(req, server) {\n    const url = new URL(req.url);\n    if (url.pathname === \"/chat\") {\n      console.log(`upgrade!`);\n      const username = getUsernameFromReq(req);\n      const success = server.upgrade(req, { data: { username } });\n      return success\n        ? undefined\n        : new Response(\"WebSocket upgrade error\", { status: 400 });\n    }\n\n    return new Response(\"Hello world\");\n  },\n  websocket: {\n    open(ws) {\n      const msg = `${ws.data.username} has entered the chat`;\n      ws.subscribe(\"the-group-chat\");\n      server.publish(\"the-group-chat\", msg);\n    },\n    message(ws, message) {\n      // this is a group chat\n      // so the server re-broadcasts incoming message to everyone\n      server.publish(\"the-group-chat\", `${ws.data.username}: ${message}`);\n    },\n    close(ws) {\n      const msg = `${ws.data.username} has left the chat`;\n      ws.unsubscribe(\"the-group-chat\");\n      server.publish(\"the-group-chat\", msg);\n    },\n  },\n});\n\nconsole.log(`Listening on ${server.hostname}:${server.port}`);\n```\n\n----------------------------------------\n\nTITLE: Creating a TCP Server with Bun.listen()\nDESCRIPTION: Creates a TCP server that listens on a specified hostname and port. The socket handlers manage connection events including data reception, connection establishment, closure, drain events, and errors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.listen({\n  hostname: \"localhost\",\n  port: 8080,\n  socket: {\n    data(socket, data) {}, // message received from client\n    open(socket) {}, // socket opened\n    close(socket, error) {}, // socket closed\n    drain(socket) {}, // socket ready for more data\n    error(socket, error) {}, // error handler\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Package Filtering using Bun CLI (Bash)\nDESCRIPTION: These bash commands demonstrate how to selectively install dependencies in a monorepo using the --filter flag with bun install. Patterns can be used to include or exclude specific workspaces or directories. Key parameters include patterns like '!pkg-c' (exclude), './packages/*' (include all in packages dir), and '!./' (exclude root). Outputs are dependency installations for targeted packages only. Requires Bun to be installed in the project and a monorepo setup with workspaces.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/filter.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# Install dependencies for all workspaces except `pkg-c`\n$ bun install --filter '!pkg-c'\n\n# Install dependencies for packages in `./packages` (`pkg-a`, `pkg-b`, `pkg-c`)\n$ bun install --filter './packages/*'\n\n# Save as above, but exclude the root package.json\n$ bun install --filter --filter '!./' --filter './packages/*'\n\n```\n\n----------------------------------------\n\nTITLE: Writing Different Data Types to ArrayBufferSink\nDESCRIPTION: Demonstrates writing different data types to ArrayBufferSink, including strings, typed arrays, and ArrayBuffer. The sink handles conversion appropriately.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nsink.write(\"h\");\nsink.write(new Uint8Array([101, 108]));\nsink.write(Buffer.from(\"lo\").buffer);\n\nsink.end();\n```\n\n----------------------------------------\n\nTITLE: Stopping a Bun HTTP Server\nDESCRIPTION: Shows how to gracefully stop a Bun server using the server.stop() method. By default, it waits for in-flight requests to complete, but can be forced to immediately terminate all connections by passing true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch(req) {\n    return new Response(\"Hello!\");\n  },\n});\n\n// Gracefully stop the server (waits for in-flight requests)\nawait server.stop();\n\n// Force stop and close all active connections\nawait server.stop(true);\n```\n\n----------------------------------------\n\nTITLE: Basic S3 Operations with Bun\nDESCRIPTION: Demonstrates basic S3 operations including downloading, uploading, presigning URLs, and deleting files. The example shows how to use Bun's S3 API with environment variables for credentials.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { s3, write, S3Client } from \"bun\";\n\n// Bun.s3 reads environment variables for credentials\n// file() returns a lazy reference to a file on S3\nconst metadata = s3.file(\"123.json\");\n\n// Download from S3 as JSON\nconst data = await metadata.json();\n\n// Upload to S3\nawait write(metadata, JSON.stringify({ name: \"John\", age: 30 }));\n\n// Presign a URL (synchronous - no network request needed)\nconst url = metadata.presign({\n  acl: \"public-read\",\n  expiresIn: 60 * 60 * 24, // 1 day\n});\n\n// Delete the file\nawait metadata.delete();\n```\n\n----------------------------------------\n\nTITLE: Sending a GET Request with fetch in Bun\nDESCRIPTION: Demonstrates how to send a simple GET request to a URL using fetch and extract the HTML response text.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/fetch.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://bun.sh\");\nconst html = await response.text(); // HTML string\n```\n\n----------------------------------------\n\nTITLE: Server-Side Rendering a React Component with Bun HTTP Server in TypeScript\nDESCRIPTION: This TypeScript server snippet uses Bun and React 18+ to server-side render (SSR) a React component in response to HTTP requests. It uses 'renderToReadableStream' from 'react-dom/server' to generate an HTML stream from JSX, serves via Bun's HTTP API on port 4000, and sets the appropriate content-type header. Dependencies are Bun, React 18.3+, and react-dom/server. The handler expects GET requests and streams an HTML document as output. This SSR setup leverages Bun's fast ReadableStream implementation and is suited for scalable, high-performance server-rendered React apps.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/react.md#2025-04-22_snippet_3\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport {renderToReadableStream} from 'react-dom/server';\n\nfunction Component(props: {message: string}) {\n  return (\n    <body>\n      <h1 style={{color: 'red'}}>{props.message}</h1>\n    </body>\n  );\n}\n\nBun.serve({\n  port: 4000,\n  async fetch() {\n    const stream = await renderToReadableStream(\n      <Component message=\"Hello from server!\" />\n    );\n    return new Response(stream, {\n      headers: {'Content-Type': 'text/html'},\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Basic Password Hashing with Argon2id in Bun.js\nDESCRIPTION: Demonstrates the basic usage of Bun.password.hash() function using the default Argon2id algorithm. Returns a secure hash of the provided password string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/hash-a-password.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\n\nconst hash = await Bun.password.hash(password);\n// => $argon2id$v=19$m=65536,t=2,p=1$tFq+9AVr1bfPxQdh6E8DQRhEXg/M/...\n```\n\n----------------------------------------\n\nTITLE: Initializing and Querying SQLite Database in Bun\nDESCRIPTION: This snippet demonstrates how to import the SQLite module, create an in-memory database, and execute a simple query. It showcases the basic usage of Bun's SQLite integration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database(\":memory:\");\nconst query = db.query(\"select 'Hello world' as message;\");\nquery.get(); // => { message: \"Hello world\" }\n```\n\n----------------------------------------\n\nTITLE: Buffer Operations: Creating and Manipulating Binary Data Buffers (Bun/Node.js, JavaScript/TypeScript)\nDESCRIPTION: This snippet demonstrates usage of the Buffer class—a Node.js API available in Bun—for working with binary data. It shows how to create a Buffer from a string, access its length and individual byte values, write data directly via writeUInt8, and convert the buffer to a string. This API is a subclass of Uint8Array and supports additional binary and text encoding/decoding operations. Requires Bun or Node.js environment with Buffer support. Input may be a string or various data sources; output is a Buffer instance whose bytes can be read/written and converted to formatted text.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_15\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello world\");\n// => Buffer(11) [ 104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100 ]\n\nbuf.length; // => 11\nbuf[0]; // => 104, ascii for 'h'\nbuf.writeUInt8(72, 0); // => ascii for 'H'\n\nconsole.log(buf.toString());\n// => Hello world\n```\n\n----------------------------------------\n\nTITLE: Handling File Upload with FormData in Bun\nDESCRIPTION: Extended version of the server code that handles the form submission at the '/action' endpoint. It extracts the name and profile picture from the FormData object and saves the uploaded file to disk using Bun.write().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/file-uploads.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  port: 4000,\n  async fetch(req) {\n    const url = new URL(req.url);\n\n    // return index.html for root path\n    if (url.pathname === \"/\")\n      return new Response(Bun.file(\"index.html\"), {\n        headers: {\n          \"Content-Type\": \"text/html\",\n        },\n      });\n\n   // parse formdata at /action\n   if (url.pathname === '/action') {\n     const formdata = await req.formData();\n     const name = formdata.get('name');\n     const profilePicture = formdata.get('profilePicture');\n     if (!profilePicture) throw new Error('Must upload a profile picture.');\n     // write profilePicture to disk\n     await Bun.write('profilePicture.png', profilePicture);\n     return new Response(\"Success\");\n   }\n\n    return new Response(\"Not Found\", { status: 404 });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Executing Basic Transactions with Bun SQL Client in TypeScript\nDESCRIPTION: Illustrates performing atomic database operations using `sql.begin`. An async callback function receives a transaction-scoped `sql` instance (`tx`). All queries executed with `tx` within the callback run in a single transaction, which automatically commits if the callback completes successfully or rolls back if any error is thrown.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nawait sql.begin(async tx => {\n  // All queries in this function run in a transaction\n  await tx`INSERT INTO users (name) VALUES (${ \"Alice\" })`;\n  await tx`UPDATE accounts SET balance = balance - 100 WHERE user_id = 1`;\n\n  // Transaction automatically commits if no errors are thrown\n  // Rolls back if any error occurs\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Bun Built-in Modules\nDESCRIPTION: Built-in modules providing additional functionality for SQLite database operations, Foreign Function Interface (FFI), DNS operations, and testing capabilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/index.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport { Database } from \"bun:sqlite\"  // SQLite operations\nimport { dlopen } from \"bun:ffi\"      // FFI functionality\nimport * as dns from \"bun:dns\"        // DNS operations\nimport { test } from \"bun:test\"       // Testing utilities\n```\n\n----------------------------------------\n\nTITLE: Sending a POST Request with JSON Payload in Bun\nDESCRIPTION: Shows how to send a POST request with a JSON payload to an API endpoint, including setting the proper Content-Type header and parsing the JSON response.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/fetch.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://bun.sh/api\", {\n  method: \"POST\",\n  body: JSON.stringify({ message: \"Hello from Bun!\" }),\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\nconst body = await response.json();\n```\n\n----------------------------------------\n\nTITLE: Handling Dynamic Route Parameters in FileSystemRouter\nDESCRIPTION: Example demonstrating how the router automatically parses URL parameters from dynamic routes (paths with [param] syntax) and includes them in the params property of the match result.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nrouter.match(\"/blog/my-cool-post\");\n\n// =>\n{\n  filePath: \"/Users/colinmcd94/Documents/bun/fun/pages/blog/[slug].tsx\",\n  kind: \"dynamic\",\n  name: \"/blog/[slug]\",\n  pathname: \"/blog/my-cool-post\",\n  src: \"https://mydomain.com/_next/static/pages/blog/[slug].tsx\",\n  params: {\n    slug: \"my-cool-post\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Bun's Bundler with JavaScript API\nDESCRIPTION: This snippet demonstrates how to use Bun's bundler via the JavaScript API. It specifies entry points and an output directory for the bundled files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './build',\n});\n```\n\n----------------------------------------\n\nTITLE: Managing Session Storage with Bun Redis Client in TypeScript\nDESCRIPTION: These functions implement user session creation and retrieval by storing session data in Redis using Bun's TypeScript client. createSession generates a unique session ID, persists user ID and associated data as a Redis hash, and sets a 24-hour expiry. getSession checks for existence and reconstructs the session object by extracting and parsing the hash fields. These snippets require the Bun Redis client, the global crypto object for UUID generation, and JSON-serializable session data. Inputs include the user ID and session data upon creation or a session ID for retrieval; outputs are the new session ID or a session object, or null if expired or missing. The design supports low-latency session persistence, but scalability and security (e.g., session hijacking protections) must be considered for real-world deployments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_15\n\nLANGUAGE: TypeScript\nCODE:\n```\nasync function createSession(userId, data) {\n  const sessionId = crypto.randomUUID();\n  const key = `session:${sessionId}`;\n\n  // Store session with expiration\n  await redis.hmset(key, [\n    \"userId\",\n    userId.toString(),\n    \"created\",\n    Date.now().toString(),\n    \"data\",\n    JSON.stringify(data),\n  ]);\n  await redis.expire(key, 86400); // 24 hours\n\n  return sessionId;\n}\n\nasync function getSession(sessionId) {\n  const key = `session:${sessionId}`;\n\n  // Get session data\n  const exists = await redis.exists(key);\n  if (!exists) return null;\n\n  const [userId, created, data] = await redis.hmget(key, [\n    \"userId\",\n    \"created\",\n    \"data\",\n  ]);\n\n  return {\n    userId: Number(userId),\n    created: Number(created),\n    data: JSON.parse(data),\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Using Static Responses in Bun.serve Routes\nDESCRIPTION: Example of using static Response objects directly in routes for optimized, zero-allocation dispatch. Ideal for health checks, redirects, and fixed API responses for improved performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    // Health checks\n    \"/health\": new Response(\"OK\"),\n    \"/ready\": new Response(\"Ready\", {\n      headers: {\n        // Pass custom headers\n        \"X-Ready\": \"1\",\n      },\n    }),\n\n    // Redirects\n    \"/blog\": Response.redirect(\"https://bun.sh/blog\"),\n\n    // API responses\n    \"/api/config\": Response.json({\n      version: \"1.0.0\",\n      env: \"production\",\n    }),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Data Insertion Operations in TypeScript\nDESCRIPTION: Shows different methods of inserting data into PostgreSQL using Bun's SQL client, including single row insertion and object-based insertion with automatic field mapping.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql } from \"bun\";\n\n// Basic insert with direct values\nconst [user] = await sql`\n  INSERT INTO users (name, email) \n  VALUES (${name}, ${email})\n  RETURNING *\n`;\n\n// Using object helper for cleaner syntax\nconst userData = {\n  name: \"Alice\",\n  email: \"alice@example.com\",\n};\n\nconst [newUser] = await sql`\n  INSERT INTO users ${sql(userData)}\n  RETURNING *\n`;\n```\n\n----------------------------------------\n\nTITLE: Accessing Environment Variables in Bun with TypeScript\nDESCRIPTION: Demonstrates how to access environment variables in a Bun application using either Bun.env or process.env. Both methods allow access to the same environment variables that are set in the system or .env files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/set-env.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.env.API_TOKEN; // => \"secret\"\nprocess.env.API_TOKEN; // => \"secret\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun S3Client for supabase Storage - TypeScript\nDESCRIPTION: Shows how to set up Bun's S3Client for supabase storage, specifying the required endpoint (with account ID and '/storage/v1/s3/storage' path), credentials, region, and bucket. Ensure S3 protocol access is enabled in your supabase dashboard and use the informed region value. Requires Bun's S3Client and correct parameters provided by supabase.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\nconst supabase = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n  region: \\\"us-west-1\\\",\n  endpoint: \\\"https://<account-id>.supabase.co/storage/v1/s3/storage\\\",\n});\n```\n\n----------------------------------------\n\nTITLE: Reading Output from a Child Process in Bun\nDESCRIPTION: Demonstrates how to read the stdout of a spawned child process. This example shows accessing the process stdout as a ReadableStream and converting it to text using the Response API, allowing you to capture the output of the executed command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"]);\n\nconst output = await new Response(proc.stdout).text();\noutput; // => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Multiple Organization Scopes with Different Authentication Methods in bunfig.toml\nDESCRIPTION: This snippet shows different ways to configure private registry access for npm organization scopes using the bunfig.toml configuration file. It demonstrates three authentication methods: direct URL with embedded credentials, separate username/password fields with environment variable support, and token-based authentication.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/registry-scope.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\n# as a string\n\"@myorg1\" = \"https://username:password@registry.myorg.com/\"\n\n# as an object with username/password\n# you can reference environment variables\n\"@myorg2\" = {\n  username = \"myusername\",\n  password = \"$npm_pass\",\n  url = \"https://registry.myorg.com/\"\n}\n\n# as an object with token\n\"@myorg3\" = { token = \"$npm_token\", url = \"https://registry.myorg.com/\" }\n\n```\n\n----------------------------------------\n\nTITLE: Sending Messages with postMessage in Worker Threads\nDESCRIPTION: Examples of sending messages between main thread and worker thread using the postMessage API, which uses the HTML Structured Clone Algorithm for object serialization.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n// On the worker thread, `postMessage` is automatically \"routed\" to the parent thread.\npostMessage({ hello: \"world\" });\n\n// On the main thread\nworker.postMessage({ hello: \"world\" });\n```\n\n----------------------------------------\n\nTITLE: Defining Non-npm Dependencies in package.json\nDESCRIPTION: Example `package.json` demonstrating how Bun supports installing dependencies directly from various sources beyond the npm registry. This includes Git repositories (using different protocols like HTTPS, SSH), GitHub shorthand, remotely hosted tarballs, and aliasing packages using `npm:`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"dayjs\": \"git+https://github.com/iamkun/dayjs.git\",\n    \"lodash\": \"git+ssh://github.com/lodash/lodash.git#4.17.21\",\n    \"moment\": \"git@github.com:moment/moment.git\",\n    \"zod\": \"github:colinhacks/zod\",\n    \"react\": \"https://registry.npmjs.org/react/-/react-18.2.0.tgz\",\n    \"bun-types\": \"npm:@types/bun\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Default Coverage Reporting in Bun\nDESCRIPTION: This snippet shows how to configure Bun to always enable coverage reporting by default. The configuration is added to the bunfig.toml file, setting the coverage option to true under the [test] section.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverage = true # always enable coverage\n```\n\n----------------------------------------\n\nTITLE: Extended Fetch Options in Bun TypeScript\nDESCRIPTION: Demonstrates Bun-specific extensions to the fetch API options, including controls for automatic decompression, connection reuse, and debug logging.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  // Control automatic response decompression (default: true)\n  decompress: true,\n\n  // Disable connection reuse for this request\n  keepalive: false,\n\n  // Debug logging level\n  verbose: true, // or \"curl\" for more detailed output\n});\n```\n\n----------------------------------------\n\nTITLE: Backend Server Setup with Bun\nDESCRIPTION: Example backend code that serves an HTML file as a route and handles API requests through the fetch handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport dashboard from \"../public/dashboard.html\";\nimport { serve } from \"bun\";\n\nserve({\n  routes: {\n    \"/\": dashboard,\n  },\n\n  async fetch(req) {\n    // ...api requests\n    return new Response(\"hello world\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to ArrayBuffer in TypeScript using Bun\nDESCRIPTION: This snippet demonstrates how to use Bun's readableStreamToArrayBuffer utility function to convert a ReadableStream into an ArrayBuffer. This is useful for when you need to work with the binary data from a stream in memory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst buf = await Bun.readableStreamToArrayBuffer(stream);\n```\n\n----------------------------------------\n\nTITLE: Redis String Operations in Bun\nDESCRIPTION: Demonstrates various string operations using Bun's Redis client, including setting and getting keys, deleting keys, checking existence, and managing key expiration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// Set a key\nawait redis.set(\"user:1:name\", \"Alice\");\n\n// Get a key\nconst name = await redis.get(\"user:1:name\");\n\n// Delete a key\nawait redis.del(\"user:1:name\");\n\n// Check if a key exists\nconst exists = await redis.exists(\"user:1:name\");\n\n// Set expiration (in seconds)\nawait redis.set(\"session:123\", \"active\");\nawait redis.expire(\"session:123\", 3600); // expires in 1 hour\n\n// Get time to live (in seconds)\nconst ttl = await redis.ttl(\"session:123\");\n```\n\n----------------------------------------\n\nTITLE: Reading Command Output as Blob in Bun Shell\nDESCRIPTION: Demonstrates how to read the output of a command as a Blob using the .blob() method in Bun Shell. This snippet shows executing an echo command and converting its output to a Blob.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_18\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst result = await $`echo \"Hello World!\"`.blob();\n\nconsole.log(result); // Blob(13) { size: 13, type: \"text/plain\" }\n```\n\n----------------------------------------\n\nTITLE: Enabling Lifecycle Scripts for Trusted Dependencies\nDESCRIPTION: Shows how to configure `package.json` to allow Bun to execute potentially risky lifecycle scripts (like `postinstall`) for specific dependencies. Add the package name to the `trustedDependencies` array to enable its scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_4\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"version\": \"1.0.0\",\n+   \"trustedDependencies\": [\"my-trusted-package\"]\n  }\n```\n\n----------------------------------------\n\nTITLE: Dynamic Table References in TypeScript\nDESCRIPTION: Demonstrates safe dynamic table name references using the sql helper function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// Safely reference tables dynamically\nawait sql`SELECT * FROM ${sql(\"users\")}`;\n\n// With schema qualification\nawait sql`SELECT * FROM ${sql(\"public.users\")}`;\n```\n\n----------------------------------------\n\nTITLE: Initializing a Bun Project via CLI - Bash\nDESCRIPTION: This Bash snippet demonstrates running the interactive bun init command to scaffold a new Bun project. It guides users through naming the package, selecting the entry point, and automatically generates files like package.json, index.ts, tsconfig.json, .gitignore, and README.md. After responding to the prompts or using the -y option to auto-accept defaults, Bun sets up sensible defaults and performs an initial dependency installation using bun install. Dependencies: Bun installed globally. Parameters: optional prompts for package name and entry point, -y flag for non-interactive mode. Input: via terminal prompts or CLI flags. Output: Project files and node modules installed in the current directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/init.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n```bash\\n$ bun init\\nbun init helps you get started with a minimal project and tries to\\nguess sensible defaults. Press ^C anytime to quit.\\n\\npackage name (quickstart):\\nentry point (index.ts):\\n\\nDone! A package.json file was saved in the current directory.\\n + index.ts\\n + .gitignore\\n + tsconfig.json (for editor auto-complete)\\n + README.md\\n\\nTo get started, run:\\n  bun run index.ts\\n```\n```\n\n----------------------------------------\n\nTITLE: Creating Executables with Bun Build\nDESCRIPTION: Creates a standalone executable containing both the application code and the Bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_66\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./cli.tsx --outfile mycli --compile\n$ ./mycli\n```\n\n----------------------------------------\n\nTITLE: Listing All Dependencies with Bun\nDESCRIPTION: Lists all installed dependencies, including direct and transitive (nth-order) dependencies, using the `--all` flag. This provides a complete view of the entire dependency tree installed in `node_modules`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm ls --all\n/path/to/project node_modules (135)\n├── @eslint-community/eslint-utils@4.4.0\n├── @eslint-community/regexpp@4.5.0\n├── @eslint/eslintrc@2.0.2\n├── @eslint/js@8.38.0\n├── @nodelib/fs.scandir@2.1.5\n├── @nodelib/fs.stat@2.0.5\n├── @nodelib/fs.walk@1.2.8\n├── acorn@8.8.2\n├── acorn-jsx@5.3.2\n├── ajv@6.12.6\n├── ansi-regex@5.0.1\n├── ...\n```\n\n----------------------------------------\n\nTITLE: HTTP Server with Hot Reload State Persistence\nDESCRIPTION: A TypeScript HTTP server example that maintains a counter across hot reloads, showing how state persists when using Bun's --hot mode.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\nglobalThis.count ??= 0;\nglobalThis.count++;\n\nBun.serve({\n  fetch(req: Request) {\n    return new Response(`Reloaded ${globalThis.count} times`);\n  },\n  port: 3000,\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing Express HTTP Server on Bun - TypeScript\nDESCRIPTION: This TypeScript snippet sets up a basic Express web server that listens on port 8080 and responds to root (\"/\") GET requests with 'Hello World!'. It demonstrates Bun's compatibility with Express out of the box. Dependencies include the 'express' package; ensure it is installed. The server accepts HTTP requests on localhost:8080 and logs a message when started—there are no authentication or routing constraints, making this suitable for basic demonstrations or as a starting template.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/express.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport express from \"express\";\n\nconst app = express();\nconst port = 8080;\n\napp.get(\"/\", (req, res) => {\n  res.send(\"Hello World!\");\n});\n\napp.listen(port, () => {\n  console.log(`Listening on port ${port}...`);\n});\n```\n\n----------------------------------------\n\nTITLE: Defining a Bun Macro for Fetching and Parsing Meta Tags in TypeScript\nDESCRIPTION: This TypeScript async function `extractMetaTags` acts as a Bun macro. It accepts a URL string, uses the built-in `fetch` API to retrieve the content of the URL, and then employs `HTMLRewriter` to parse the HTML response. It specifically looks for the `<title>` tag and `<meta>` tags (with `name`, `property`, or `itemprop` attributes) to extract their content. The function returns an object containing the extracted title and meta tag key-value pairs. This function is intended to be executed at bundle-time when imported as a macro.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nexport async function extractMetaTags(url: string) {\n  const response = await fetch(url);\n  const meta = {\n    title: \"\",\n  };\n  new HTMLRewriter()\n    .on(\"title\", {\n      text(element) {\n        meta.title += element.text;\n      },\n    })\n    .on(\"meta\", {\n      element(element) {\n        const name =\n          element.getAttribute(\"name\") || element.getAttribute(\"property\") || element.getAttribute(\"itemprop\");\n\n        if (name) meta[name] = element.getAttribute(\"content\");\n      },\n    })\n    .transform(response);\n\n  return meta;\n}\n```\n\n----------------------------------------\n\nTITLE: Using Relative Paths with Bun.file()\nDESCRIPTION: This snippet shows how to use relative paths with Bun.file(). Relative paths are resolved relative to the project root, which is the nearest directory containing a package.json file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/string.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"./file.txt\";\nconst file = Bun.file(path);\n```\n\n----------------------------------------\n\nTITLE: Encoding and Decoding Base64 Strings in Bun with btoa and atob\nDESCRIPTION: This example demonstrates how to encode a string to base64 using the btoa function and then decode it back using the atob function in Bun. These are Web-standard functions implemented in the Bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/base64.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst data = \"hello world\";\nconst encoded = btoa(data); // => \"aGVsbG8gd29ybGQ=\"\nconst decoded = atob(encoded); // => \"hello world\"\n```\n\n----------------------------------------\n\nTITLE: Basic HTTP Request with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to send a basic HTTP request using fetch and process the response. It shows how to check the response status and extract the response body as text.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\");\n\nconsole.log(response.status); // => 200\n\nconst text = await response.text(); // or response.json(), response.formData(), etc.\n```\n\n----------------------------------------\n\nTITLE: Converting Uint8Array to String using TextDecoder in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates how to use the Web-standard `TextDecoder` API, available in Bun, to convert a `Uint8Array` (representing binary data, in this case, ASCII codes for \"hello\") into a JavaScript string. It initializes a `Uint8Array`, creates a `TextDecoder` instance, and then uses the `decode` method to perform the conversion. This relies on the built-in TextDecoder API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst arr = new Uint8Array([104, 101, 108, 108, 111]);\nconst decoder = new TextDecoder();\nconst str = decoder.decode(arr);\n// => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Mapping Query Results to a Class with Bun SQLite (TypeScript)\nDESCRIPTION: Uses the .as(Class) method from Bun's SQLite wrapper to map query results directly into instances of a custom class in TypeScript. This attaches class methods and getters to result objects, but skips constructor logic and private fields. Parameters include the database query and a class definition, with expected output being TypeScript instances with both properties and class-defined methods or getters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_13\n\nLANGUAGE: TypeScript\nCODE:\n```\nclass Movie {\n  title: string;\n  year: number;\n\n  get isMarvel() {\n    return this.title.includes(\"Marvel\");\n  }\n}\n\nconst query = db.query(\"SELECT title, year FROM movies\").as(Movie);\nconst movies = query.all();\nconst first = query.get();\nconsole.log(movies[0].isMarvel); // => true\nconsole.log(first.isMarvel); // => true\n\n```\n\n----------------------------------------\n\nTITLE: Setting up a Fullstack App with Bun.serve() Routes\nDESCRIPTION: A complete example of setting up a fullstack application using Bun.serve() with HTML routes for the frontend and API endpoints for the backend. Shows how to bundle HTML files and handle API requests with SQL integration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql, serve } from \"bun\";\nimport dashboard from \"./dashboard.html\";\nimport homepage from \"./index.html\";\n\nconst server = serve({\n  routes: {\n    // ** HTML imports **\n    // Bundle & route index.html to \"/\". This uses HTMLRewriter to scan the HTML for `<script>` and `<link>` tags, run's Bun's JavaScript & CSS bundler on them, transpiles any TypeScript, JSX, and TSX, downlevels CSS with Bun's CSS parser and serves the result.\n    \"/\": homepage,\n    // Bundle & route dashboard.html to \"/dashboard\"\n    \"/dashboard\": dashboard,\n\n    // ** API endpoints ** (Bun v1.2.3+ required)\n    \"/api/users\": {\n      async GET(req) {\n        const users = await sql`SELECT * FROM users`;\n        return Response.json(users);\n      },\n      async POST(req) {\n        const { name, email } = await req.json();\n        const [user] =\n          await sql`INSERT INTO users (name, email) VALUES (${name}, ${email})`;\n        return Response.json(user);\n      },\n    },\n    \"/api/users/:id\": async req => {\n      const { id } = req.params;\n      const [user] = await sql`SELECT * FROM users WHERE id = ${id}`;\n      return Response.json(user);\n    },\n  },\n\n  // Enable development mode for:\n  // - Detailed error messages\n  // - Hot reloading (Bun v1.2.3+ required)\n  development: true,\n\n  // Prior to v1.2.3, the `fetch` option was used to handle all API requests. It is now optional.\n  // async fetch(req) {\n  //   // Return 404 for unmatched routes\n  //   return new Response(\"Not Found\", { status: 404 });\n  // },\n});\n\nconsole.log(`Listening on ${server.url}`);\n```\n\n----------------------------------------\n\nTITLE: Defining a Database Table Schema with Drizzle ORM (TypeScript)\nDESCRIPTION: Defines a database table named `movies` using Drizzle ORM's schema definition syntax for SQLite. It imports necessary functions (`sqliteTable`, `text`, `integer`) from `drizzle-orm/sqlite-core` and declares the table structure with columns for `id` (primary key, integer), `title` (text, mapped to SQL column `name`), and `releaseYear` (integer, mapped to SQL column `release_year`). The `movies` schema object is exported for use in migrations and queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\n#schema.ts\nimport { sqliteTable, text, integer } from \"drizzle-orm/sqlite-core\";\n\nexport const movies = sqliteTable(\"movies\", {\n  id: integer(\"id\").primaryKey(),\n  title: text(\"name\"),\n  releaseYear: integer(\"release_year\"),\n});\n```\n\n----------------------------------------\n\nTITLE: Basic Command Execution in Bun Shell\nDESCRIPTION: Demonstrates how to execute a simple shell command using Bun Shell's $ template literal tag. The example shows running the 'echo' command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst response = await fetch(\"https://example.com\");\n\n// Use Response as stdin.\nawait $`cat < ${response} | wc -c`; // 1256\n```\n\n----------------------------------------\n\nTITLE: Redis Numeric Operations in Bun\nDESCRIPTION: Shows how to perform numeric operations like incrementing and decrementing counters using Bun's Redis client.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// Set initial value\nawait redis.set(\"counter\", \"0\");\n\n// Increment by 1\nawait redis.incr(\"counter\");\n\n// Decrement by 1\nawait redis.decr(\"counter\");\n```\n\n----------------------------------------\n\nTITLE: Publishing with Access Flag using Bun CLI - Shell\nDESCRIPTION: Shows how to publish a package with a specified access level (public or restricted) using the `--access` flag in the Bun CLI. Unscoped packages can only be published as public; attempting otherwise will result in an error. Requires a valid npm package, Bun CLI environment, and proper permissions. The command expects the access level as a parameter and publishes the package with the requested scope.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun publish --access public\n```\n\n----------------------------------------\n\nTITLE: Redis URL Formats in Bun\nDESCRIPTION: Demonstrates various URL formats supported by Bun's Redis client, including standard Redis URLs, authentication, database selection, TLS connections, and Unix socket connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\n// Standard Redis URL\nnew RedisClient(\"redis://localhost:6379\");\nnew RedisClient(\"redis://localhost:6379\");\n\n// With authentication\nnew RedisClient(\"redis://username:password@localhost:6379\");\n\n// With database number\nnew RedisClient(\"redis://localhost:6379/0\");\n\n// TLS connections\nnew RedisClient(\"rediss://localhost:6379\");\nnew RedisClient(\"rediss://localhost:6379\");\nnew RedisClient(\"redis+tls://localhost:6379\");\nnew RedisClient(\"redis+tls://localhost:6379\");\n\n// Unix socket connections\nnew RedisClient(\"redis+unix:///path/to/socket\");\nnew RedisClient(\"redis+unix:///path/to/socket\");\n\n// TLS over Unix socket\nnew RedisClient(\"redis+tls+unix:///path/to/socket\");\nnew RedisClient(\"redis+tls+unix:///path/to/socket\");\n```\n\n----------------------------------------\n\nTITLE: Rendering React component to HTML stream in Bun\nDESCRIPTION: Code demonstrating how to render a React component to a ReadableStream for server-side rendering. It imports the renderToReadableStream function from react-dom/server and creates a basic component with a message prop.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/ssr-react.md#2025-04-22_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { renderToReadableStream } from \"react-dom/server\";\n\nfunction Component(props: { message: string }) {\n  return (\n    <body>\n      <h1>{props.message}</h1>\n    </body>\n  );\n}\n\nconst stream = await renderToReadableStream(\n  <Component message=\"Hello from server!\" />,\n);\n```\n\n----------------------------------------\n\nTITLE: Creating and Executing Transactions in Bun SQLite (TypeScript)\nDESCRIPTION: Shows how to bundle multiple SQL operations atomically using db.transaction() in Bun. The resulting function must be called to execute the transaction, which commits if successful or rolls back on error. Referenced example inserts multiple records into a table inside a single transaction.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_24\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst insertCat = db.prepare(\"INSERT INTO cats (name) VALUES ($name)\");\nconst insertCats = db.transaction(cats => {\n  for (const cat of cats) insertCat.run(cat);\n});\n\n```\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst insert = db.prepare(\"INSERT INTO cats (name) VALUES ($name)\");\nconst insertCats = db.transaction(cats => {\n  for (const cat of cats) insert.run(cat);\n  return cats.length;\n});\n\nconst count = insertCats([\n  { $name: \"Keanu\" },\n  { $name: \"Salem\" },\n  { $name: \"Crookshanks\" },\n]);\n\nconsole.log(`Inserted ${count} cats`);\n\n```\n\n----------------------------------------\n\nTITLE: Setting Azure Artifacts Token in .env File for Bun Install\nDESCRIPTION: This snippet demonstrates how to create a .env file to store the Azure Personal Access Token for use with Bun install. The token is assigned to the NPM_PASSWORD environment variable.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/azure-artifacts.md#2025-04-22_snippet_1\n\nLANGUAGE: txt\nCODE:\n```\nNPM_PASSWORD=<paste token here>\n```\n\n----------------------------------------\n\nTITLE: Verifying Passwords in Bun.js\nDESCRIPTION: Shows how to verify a password against its hash using Bun.password.verify(). The function automatically detects the algorithm and parameters from the hash string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/hash-a-password.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\nconst hash = await Bun.password.hash(password);\n\nconst isMatch = await Bun.password.verify(password, hash);\n// => true\n```\n\n----------------------------------------\n\nTITLE: Reading File Contents to Uint8Array using Bun.file() in TypeScript\nDESCRIPTION: This snippet demonstrates how to read a file's contents into a Uint8Array using Bun's file API. It creates a BunFile instance from a file path and then uses the .bytes() method to asynchronously read the file contents into a Uint8Array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/uint8array.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nconst byteArray = await file.bytes();\n\nbyteArray[0]; // first byteArray\nbyteArray.length; // length of byteArray\n```\n\n----------------------------------------\n\nTITLE: Creating an SSR HTTP server with Bun.serve() and React\nDESCRIPTION: Implementation of a simple HTTP server using Bun.serve() that renders React components server-side. The server returns the rendered HTML stream with appropriate content type headers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/ssr-react.md#2025-04-22_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nBun.serve({\n  async fetch() {\n    const stream = await renderToReadableStream(\n      <Component message=\"Hello from server!\" />,\n    );\n    return new Response(stream, {\n      headers: { \"Content-Type\": \"text/html\" },\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Writing and Uploading Files to S3\nDESCRIPTION: Shows various methods to write or upload files to S3, including writing strings, Buffers, Response objects, and streaming. Also demonstrates setting content types and using Bun.write.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// Write a string (replacing the file)\nawait s3file.write(\"Hello World!\");\n\n// Write a Buffer (replacing the file)\nawait s3file.write(Buffer.from(\"Hello World!\"));\n\n// Write a Response (replacing the file)\nawait s3file.write(new Response(\"Hello World!\"));\n\n// Write with content type\nawait s3file.write(JSON.stringify({ name: \"John\", age: 30 }), {\n  type: \"application/json\",\n});\n\n// Write using a writer (streaming)\nconst writer = s3file.writer({ type: \"application/json\" });\nwriter.write(\"Hello\");\nwriter.write(\" World!\");\nawait writer.end();\n\n// Write using Bun.write\nawait Bun.write(s3file, \"Hello World!\");\n```\n\n----------------------------------------\n\nTITLE: Converting Uint8Array to Blob in TypeScript using Bun\nDESCRIPTION: This snippet shows how to create a Blob from a Uint8Array, enabling binary data manipulation in TypeScript environments such as Bun. It demonstrates instantiating a Uint8Array containing ASCII character codes, constructing a Blob from it, then asynchronously extracting the text content to verify correct conversion. No external dependencies are required, but an environment that supports the Blob API, such as Bun or a modern browser, is needed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-blob.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr = new Uint8Array([0x68, 0x65, 0x6c, 0x6c, 0x6f]);\nconst blob = new Blob([arr]);\nconsole.log(await blob.text());\n// => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Implementing a Basic Static File Server with Bun.serve()\nDESCRIPTION: This snippet demonstrates a complete static file server implementation using Bun.serve(). It extracts the pathname from the request URL, reads the corresponding file, and returns it as a response.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-file.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// static file server\nBun.serve({\n  async fetch(req) {\n    const path = new URL(req.url).pathname;\n    const file = Bun.file(path);\n    return new Response(file);\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Defining Test Suites and Cases in TypeScript\nDESCRIPTION: Shows how to structure tests using describe blocks and individual test cases with assertions using the expect API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/run-tests.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { test, expect, describe } from \"bun:test\";\n\ndescribe(\"math\", () => {\n  test(\"add\", () => {\n    expect(2 + 2).toEqual(4);\n  });\n\n  test(\"multiply\", () => {\n    expect(2 * 2).toEqual(4);\n  });\n});\n```\n\n----------------------------------------\n\nTITLE: Browser WebSocket Client Connection (TypeScript)\nDESCRIPTION: This snippet demonstrates how to connect to a WebSocket server from a browser using the `WebSocket` API. It creates a new WebSocket instance and listens for incoming messages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = new WebSocket(\"ws://localhost:3000/chat\");\n\nsocket.addEventListener(\"message\", event => {\n  console.log(event.data);\n})\n```\n\n----------------------------------------\n\nTITLE: Running a Sample SQL Query with Neon Driver in Bun - TypeScript\nDESCRIPTION: This TypeScript snippet imports the Neon serverless driver, loads the database connection URL from .env.local, and performs a SQL query to retrieve the Postgres server version. Dependencies include the @neondatabase/serverless package, Bun runtime, and a properly configured .env.local file. The main parameter is process.env.DATABASE_URL, and the expected output is the server version string printed to the console. This example demonstrates SQL-over-HTTP usage and requires Bun's support for top-level await.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-serverless-postgres.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport { neon } from \"@neondatabase/serverless\";\\n\\n// Bun automatically loads the DATABASE_URL from .env.local\\n// Refer to: https://bun.sh/docs/runtime/env for more information\\nconst sql = neon(process.env.DATABASE_URL);\\n\\nconst rows = await sql`SELECT version()`;\\n\\nconsole.log(rows[0].version);\n```\n\n----------------------------------------\n\nTITLE: Basic Plugin Structure in TypeScript\nDESCRIPTION: Demonstrates the basic structure of a Bun plugin with name and setup function properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin, type BunPlugin } from \"bun\";\n\nconst myPlugin: BunPlugin = {\n  name: \"Custom loader\",\n  setup(build) {\n    // implementation\n  },\n};\n\nplugin(myPlugin);\n```\n\n----------------------------------------\n\nTITLE: Updating Snapshots with Bun CLI\nDESCRIPTION: Example of updating existing snapshots using the --update-snapshots flag. This regenerates the snapshot files based on the current test results.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_5\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test --update-snapshots\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest/snap.test.ts:\n✓ snapshot [0.86ms]\n\n 1 pass\n 0 fail\n snapshots: +1 added  # the snapshot was regenerated\n 1 expect() calls\nRan 1 tests across 1 files. [102.00ms]\n```\n\n----------------------------------------\n\nTITLE: Listing Available Package.json Scripts with Bun Run\nDESCRIPTION: Shows that executing `bun run` without any arguments will list all the scripts defined within the `scripts` section of the project's `package.json` file. It displays the script name and the associated command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run\nquickstart scripts:\n\n bun run clean\n   rm -rf dist && echo 'Done.'\n\n bun run dev\n   bun server.ts\n\n2 scripts\n```\n\n----------------------------------------\n\nTITLE: Initializing and Using FileSystemRouter for Exact Route Matching\nDESCRIPTION: Example of creating a new FileSystemRouter instance with Next.js style configuration and matching an exact route (\"/\"). The router returns the file path, route kind, name, pathname, and asset source URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nconst router = new Bun.FileSystemRouter({\n  style: \"nextjs\",\n  dir: \"./pages\",\n  origin: \"https://mydomain.com\",\n  assetPrefix: \"_next/static/\"\n});\nrouter.match(\"/\");\n\n// =>\n{\n  filePath: \"/path/to/pages/index.tsx\",\n  kind: \"exact\",\n  name: \"/\",\n  pathname: \"/\",\n  src: \"https://mydomain.com/_next/static/pages/index.tsx\"\n}\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Import Example\nDESCRIPTION: Shows how to use require() to import a module in CommonJS format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nconst { hello } = require(\"./hello\");\n\nhello();\n```\n\n----------------------------------------\n\nTITLE: Converting Pointer to ArrayBuffer in Bun (TypeScript)\nDESCRIPTION: Shows how to convert a pointer value back to an ArrayBuffer using toArrayBuffer from 'bun:ffi'. Allows specifying byteOffset and byteLength for precise memory reads. Needs the pointer value, offset, and length; returns a TypedArray backed by the dereferenced ArrayBuffer. Null-termination behavior applies if length is omitted.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { ptr, toArrayBuffer } from \"bun:ffi\";\nlet myTypedArray = new Uint8Array(32);\nconst myPtr = ptr(myTypedArray);\n\n// toArrayBuffer accepts a `byteOffset` and `byteLength`\n// if `byteLength` is not provided, it is assumed to be a null-terminated pointer\nmyTypedArray = new Uint8Array(toArrayBuffer(myPtr, 0, 32), 0, 32);\n\n```\n\n----------------------------------------\n\nTITLE: Initializing WebSocket Client\nDESCRIPTION: This code snippet demonstrates how to create a WebSocket client that connects to a WebSocket server using the `ws://` protocol in Bun. It creates a new `WebSocket` object, establishing a connection to the specified URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = new WebSocket(\"ws://localhost:3000\");\n```\n\n----------------------------------------\n\nTITLE: Working with BuildArtifact Objects\nDESCRIPTION: Example showing how to access and work with build outputs, demonstrating how to extract content from build artifacts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_61\n\nLANGUAGE: typescript\nCODE:\n```\nconst build = await Bun.build({\n  /* */\n});\n\nfor (const output of build.outputs) {\n  await output.arrayBuffer(); // => ArrayBuffer\n  await output.bytes(); // => Uint8Array\n  await output.text(); // string\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests with Coverage Reporting\nDESCRIPTION: This snippet demonstrates how to run Bun tests with the --coverage flag to generate a code coverage report. The report shows the percentage of functions and lines executed, as well as uncovered line numbers for each file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --coverage\n\ntest.test.ts:\n✓ math > add [0.71ms]\n✓ math > multiply [0.03ms]\n✓ random [0.13ms]\n-------------|---------|---------|-------------------\nFile         | % Funcs | % Lines | Uncovered Line #s\n-------------|---------|---------|-------------------\nAll files    |   66.67 |   77.78 |\n math.ts     |   50.00 |   66.67 |\n random.ts   |   50.00 |   66.67 |\n-------------|---------|---------|-------------------\n\n 3 pass\n 0 fail\n 3 expect() calls\n```\n\n----------------------------------------\n\nTITLE: Composing Classes Across Separate CSS Module Files - CSS\nDESCRIPTION: This set of snippets demonstrates how to compose a class in one CSS module from a class in another module using the 'composes' property with the 'from' keyword. The first file provides a reusable background style, while the second composes it into a new button style. Dependencies: Bun with CSS modules support. Input: at least two CSS module files; output: composed class with merged, non-conflicting rules across files. Limitation: Behavior is undefined if properties conflict between composed classes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_7\n\nLANGUAGE: css\nCODE:\n```\n/* background.module.css */\n.background {\n  background-color: blue;\n}\n\n/* styles.module.css */\n.button {\n  composes: background from \"./background.module.css\";\n  color: red;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Initializing a Next.js App with a Template using Bun (Shell)\nDESCRIPTION: This command demonstrates initializing a Next.js project using a specific starter template provided by Next.js examples. The `--example` flag followed by the template name (e.g., `with-supabase`) instructs `create-next-app` (run via Bun) to use that template.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nextjs.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create next-app --example with-supabase\n✔ What is your project named? … my-app\n...\n```\n\n----------------------------------------\n\nTITLE: Generating Presigned URLs with S3Client.presign\nDESCRIPTION: Demonstrates how to generate presigned URLs for S3 objects with expiration times using the S3Client.presign static method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\nconst url = S3Client.presign(\"my-file.txt\", {\n  ...credentials,\n  expiresIn: 3600,\n});\n```\n\n----------------------------------------\n\nTITLE: Resolving paths relative to current file in TypeScript\nDESCRIPTION: Shows how to resolve paths relative to the directory containing the current file using import.meta.dir with Bun.resolveSync().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_29\n\nLANGUAGE: typescript\nCODE:\n```\nBun.resolveSync(\"./foo.ts\", import.meta.dir);\n```\n\n----------------------------------------\n\nTITLE: Correctly Placing Bun Flags with Bun Run\nDESCRIPTION: Provides examples demonstrating the correct (`bun --watch run dev`) and incorrect (`bun run dev --watch`) placement for Bun-specific flags like `--watch` when running package.json scripts. Flags intended for Bun itself must precede the `run` keyword and the script name.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch run dev # ✔️ do this\n$ bun run dev --watch # ❌ don't do this\n```\n\n----------------------------------------\n\nTITLE: Counting WebSocket Topic Subscribers\nDESCRIPTION: Demonstrates how to get the count of subscribers for a WebSocket topic using the server.subscriberCount() method. This is useful for tracking how many clients are subscribed to specific channels.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch(req, server) {\n    const chatUsers = server.subscriberCount(\"chat\");\n    return new Response(`${chatUsers} users in chat`);\n  },\n  websocket: {\n    message(ws) {\n      ws.subscribe(\"chat\");\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Forcing Script Execution with Bun using --bun Flag\nDESCRIPTION: Shows how to use the `--bun` flag with `bun run` to force a script (like the `vite` CLI, which typically uses Node.js via its shebang) to be executed with the Bun runtime instead. This overrides the default behavior dictated by the shebang.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run --bun vite\n```\n\n----------------------------------------\n\nTITLE: Using export default Syntax for Bun HTTP Server in TypeScript\nDESCRIPTION: Demonstrates the alternative export default syntax for creating a Bun HTTP server instead of explicitly calling Bun.serve. The server responds with 'Bun!' for all requests and satisfies the Serve type.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport {type Serve} from \"bun\";\n\nexport default {\n  fetch(req) {\n    return new Response(\"Bun!\");\n  },\n} satisfies Serve;\n```\n\n----------------------------------------\n\nTITLE: Managing Distributed Transactions (2PC) with Bun SQL Client in TypeScript\nDESCRIPTION: Illustrates how to handle distributed transactions using `sql.beginDistributed`, `sql.commitDistributed`, and `sql.rollbackDistributed`. `beginDistributed` starts a transaction with a unique identifier, allowing it to be committed or rolled back later, potentially across different sessions or processes, supporting protocols like Two-Phase Commit (2PC).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\n// Begin a distributed transaction\nawait sql.beginDistributed(\"tx1\", async tx => {\n  await tx`INSERT INTO users (name) VALUES (${ \"Alice\" })`;\n});\n\n// Later, commit or rollback\nawait sql.commitDistributed(\"tx1\");\n// or\nawait sql.rollbackDistributed(\"tx1\");\n```\n```\n\n----------------------------------------\n\nTITLE: Preparing SQLite Queries in Bun\nDESCRIPTION: This example demonstrates how to prepare SQL queries using the query() and prepare() methods. It highlights the difference between cached and non-cached prepared statements.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst query = db.query(`select \"Hello world\" as message`);\n\n// compile the prepared statement\nconst query = db.prepare(\"SELECT * FROM foo WHERE bar = ?\");\n```\n\n----------------------------------------\n\nTITLE: Basic Test Definition in TypeScript\nDESCRIPTION: Demonstrates how to write a basic test using Bun's test framework with the expect assertion\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, test } from \"bun:test\";\n\ntest(\"2 + 2\", () => {\n  expect(2 + 2).toBe(4);\n});\n```\n\n----------------------------------------\n\nTITLE: Omitting Specific Dependency Types During Installation\nDESCRIPTION: Illustrates using the `--omit` flag to exclude certain types of dependencies during installation. The first example excludes `devDependencies` for the root package and workspaces. The second example installs only `dependencies` by omitting dev, peer, and optional dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\n# Exclude \"devDependencies\" from the installation. This will apply to the\n# root package and workspaces if they exist. Transitive dependencies will\n# not have \"devDependencies\".\n$ bun install --omit dev\n\n# Install only dependencies from \"dependencies\"\n$ bun install --omit=dev --omit=peer --omit=optional\n```\n\n----------------------------------------\n\nTITLE: Executing Basic Shell Commands with Bun Shell\nDESCRIPTION: This snippet demonstrates how to import and use the `$` function from the `bun` package to run a simple shell command. The command's output is returned as a string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/shell.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { $ } from \"bun\";\n\nawait $`echo Hello, world!`; // => \"Hello, world!\"\n```\n\n----------------------------------------\n\nTITLE: Setting Custom Headers with Fetch in TypeScript\nDESCRIPTION: Shows how to set custom HTTP headers in a fetch request by passing a headers object in the options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  headers: {\n    \"X-Custom-Header\": \"value\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Advanced onStart Usage with Asynchronous Operations\nDESCRIPTION: Demonstrates advanced usage of onStart callbacks in Bun plugins, including asynchronous operations and multiple plugins. The bundler waits for all onStart callbacks to complete before continuing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"./app.ts\"],\n  outdir: \"./dist\",\n  sourcemap: \"external\",\n  plugins: [\n    {\n      name: \"Sleep for 10 seconds\",\n      setup(build) {\n        build.onStart(async () => {\n          await Bunlog.sleep(10_000);\n        });\n      },\n    },\n    {\n      name: \"Log bundle time to a file\",\n      setup(build) {\n        build.onStart(async () => {\n          const now = Date.now();\n          await Bun.$`echo ${now} > bundle-time.txt`;\n        });\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Creating a Streaming HTTP Server with Node.js Streams in Bun\nDESCRIPTION: This code snippet demonstrates how to set up a streaming HTTP server using Bun's serve function and Node.js Readable streams. It creates a server on port 3000 that responds with a streamed 'Hello, world!' message. The Response object accepts a Readable stream created from an array of strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-node-streams-in-bun.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nimport { serve } from \"bun\";\nserve({\n  port: 3000,\n  fetch(req) {\n    return new Response(Readable.from([\"Hello, \", \"world!\"]), {\n      headers: { \"Content-Type\": \"text/plain\" },\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Recommended TypeScript Compiler Options for Bun\nDESCRIPTION: This JSON configuration provides recommended compiler options for a Bun project, enabling features like top-level await, JSX, and extensioned .ts imports without TypeScript warnings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/typescript.md#2025-04-22_snippet_2\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"compilerOptions\": {\n    // Environment setup & latest features\n    \"lib\": [\"ESNext\"],\n    \"target\": \"ESNext\",\n    \"module\": \"ESNext\",\n    \"moduleDetection\": \"force\",\n    \"jsx\": \"react-jsx\",\n    \"allowJs\": true,\n\n    // Bundler mode\n    \"moduleResolution\": \"bundler\",\n    \"allowImportingTsExtensions\": true,\n    \"verbatimModuleSyntax\": true,\n    \"noEmit\": true,\n\n    // Best practices\n    \"strict\": true,\n    \"skipLibCheck\": true,\n    \"noFallthroughCasesInSwitch\": true,\n    \"noUncheckedIndexedAccess\": true,\n\n    // Some stricter flags (disabled by default)\n    \"noUnusedLocals\": false,\n    \"noUnusedParameters\": false,\n    \"noPropertyAccessFromIndexSignature\": false,\n  },\n}\n```\n\n----------------------------------------\n\nTITLE: Defining an HTTP Server with Hono on Bun (TypeScript)\nDESCRIPTION: This snippet demonstrates how to initialize an HTTP server using the Hono framework in a Bun environment. It imports the Hono class, sets up a new application instance, and defines a route handler that responds with plain text when the root endpoint ('/') is accessed. The app instance is exported for use by the Bun runtime or other modules. Requires 'hono' npm package and a Bun runtime environment. The input is an HTTP GET request to '/', and the output is a plain text response of 'Hono!'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/hono.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Hono } from \\\"hono\\\";\nconst app = new Hono();\n\napp.get(\\\"/\\\", c => c.text(\\\"Hono!\\\"));\n\nexport default app;\n```\n\n----------------------------------------\n\nTITLE: HTTPS Request with Fetch in TypeScript\nDESCRIPTION: Shows how to send an HTTPS request using fetch, which works the same way as HTTP requests but with secure connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://example.com\");\n```\n\n----------------------------------------\n\nTITLE: Importing CSS in TypeScript\nDESCRIPTION: A TypeScript file that imports CSS files. Bun will bundle these CSS files together and generate a separate CSS output file alongside the JavaScript bundle.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport \"./styles.css\";\nimport \"./more-styles.css\";\n```\n\n----------------------------------------\n\nTITLE: Generating Lockfile Hash with Bun\nDESCRIPTION: Computes and prints a hash representing the current state of the `bun.lockb` lockfile. This hash is based on the dependencies and their versions specified in the lockfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm hash\n```\n\n----------------------------------------\n\nTITLE: Buffering External API Responses for Static Routes\nDESCRIPTION: Technique to use external API data with static routes by buffering responses in memory first, since static routes don't support streaming response bodies directly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst time = await fetch(\"https://api.example.com/v1/data\");\n// Buffer the response in memory first.\nconst blob = await time.blob();\n\nconst server = Bun.serve({\n  static: {\n    \"/api/data\": new Response(blob),\n  },\n\n  fetch(req) {\n    return new Response(\"404!\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Path Remapping in tsconfig.json\nDESCRIPTION: Sets up import path aliasing in a tsconfig.json file. This configuration allows mapping 'my-custom-name' to the 'zod' package and creating an '@components' directory alias that points to './src/components/'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/tsconfig-paths.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"my-custom-name\": [\"zod\"],\n      \"@components/*\": [\"./src/components/*\"]\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Connecting to SQLite and Initializing Drizzle ORM in Bun (TypeScript)\nDESCRIPTION: Establishes a connection to a SQLite database file named `sqlite.db` using Bun's built-in `Database` class from `bun:sqlite`. It then initializes the Drizzle ORM instance by passing the SQLite connection object to the `drizzle` function from `drizzle-orm/bun-sqlite`. The `db` instance is exported for use in other parts of the application. Depends on `drizzle-orm` and `bun:sqlite`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\n#db.ts\nimport { drizzle } from \"drizzle-orm/bun-sqlite\";\nimport { Database } from \"bun:sqlite\";\n\nconst sqlite = new Database(\"sqlite.db\");\nexport const db = drizzle(sqlite);\n```\n\n----------------------------------------\n\nTITLE: Redis Command Execution and Pipelining in Bun\nDESCRIPTION: Shows how to use automatic pipelining and execute raw Redis commands using Bun's Redis client. It also demonstrates how to disable automatic pipelining.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// Commands are automatically pipelined by default\nconst [infoResult, listResult] = await Promise.all([\n  redis.get(\"user:1:name\"),\n  redis.get(\"user:2:email\"),\n]);\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new RedisClient(\"redis://localhost:6379\", {\n  enableAutoPipelining: false,\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\n// Run any Redis command\nconst info = await redis.send(\"INFO\", []);\n\n// LPUSH to a list\nawait redis.send(\"LPUSH\", [\"mylist\", \"value1\", \"value2\"]);\n\n// Get list range\nconst list = await redis.send(\"LRANGE\", [\"mylist\", \"0\", \"-1\"]);\n```\n\n----------------------------------------\n\nTITLE: Streaming Request Body with ReadableStream in TypeScript\nDESCRIPTION: Shows how to create and use a ReadableStream for streaming data in a request body, which is useful for uploading large files without loading them entirely into memory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream({\n  start(controller) {\n    controller.enqueue(\"Hello\");\n    controller.enqueue(\" \");\n    controller.enqueue(\"World\");\n    controller.close();\n  },\n});\n\nconst response = await fetch(\"http://example.com\", {\n  method: \"POST\",\n  body: stream,\n});\n```\n\n----------------------------------------\n\nTITLE: Reading File Contents in Different Formats\nDESCRIPTION: Shows different methods to read file contents using BunFile's Blob interface methods.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst foo = Bun.file(\"foo.txt\");\n\nawait foo.text(); // contents as a string\nawait foo.stream(); // contents as ReadableStream\nawait foo.arrayBuffer(); // contents as ArrayBuffer\nawait foo.bytes(); // contents as Uint8Array\n```\n\n----------------------------------------\n\nTITLE: Redis Hash Operations in Bun\nDESCRIPTION: Illustrates hash operations using Bun's Redis client, including setting multiple fields, getting multiple fields, and incrementing numeric fields in a hash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// Set multiple fields in a hash\nawait redis.hmset(\"user:123\", [\n  \"name\",\n  \"Alice\",\n  \"email\",\n  \"alice@example.com\",\n  \"active\",\n  \"true\",\n]);\n\n// Get multiple fields from a hash\nconst userFields = await redis.hmget(\"user:123\", [\"name\", \"email\"]);\nconsole.log(userFields); // [\"Alice\", \"alice@example.com\"]\n\n// Increment a numeric field in a hash\nawait redis.hincrby(\"user:123\", \"visits\", 1);\n\n// Increment a float field in a hash\nawait redis.hincrbyfloat(\"user:123\", \"score\", 1.5);\n```\n\n----------------------------------------\n\nTITLE: Listening for SIGINT (CTRL+C) Signal in TypeScript\nDESCRIPTION: This code demonstrates how to listen for the SIGINT event which is triggered when a user presses CTRL+C. The event handler logs a message and then explicitly calls process.exit() to terminate the process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/ctrl-c.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.on(\"SIGINT\", () => {\n  console.log(\"Ctrl-C was pressed\");\n  process.exit();\n});\n```\n\n----------------------------------------\n\nTITLE: Dynamic WHERE IN Queries in TypeScript\nDESCRIPTION: Demonstrates how to construct WHERE IN clauses with arrays and object arrays.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nawait sql`SELECT * FROM users WHERE id IN ${sql([1, 2, 3])}`;\n\nconst users = [\n  { id: 1, name: \"Alice\" },\n  { id: 2, name: \"Bob\" },\n  { id: 3, name: \"Charlie\" },\n];\nawait sql`SELECT * FROM users WHERE id IN ${sql(users, \"id\")}`;\n```\n\n----------------------------------------\n\nTITLE: Using ES Module Imports with Different File Types\nDESCRIPTION: Shows how to use ES module import syntax with various file types including CommonJS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\nimport { foo } from \"./foo\"; // extensions are optional\nimport bar from \"./bar.ts\";\nimport { stuff } from \"./my-commonjs.cjs\";\n```\n\n----------------------------------------\n\nTITLE: Plugin Usage with Bun.build\nDESCRIPTION: Demonstration of how to use a plugin with Bun's build configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: [\"./app.ts\"],\n  outdir: \"./out\",\n  plugins: [myPlugin],\n});\n```\n\n----------------------------------------\n\nTITLE: Enabling Compression (TypeScript)\nDESCRIPTION: This snippet demonstrates how to enable per-message compression for a WebSocket server using the `perMessageDeflate` parameter in the `websocket` configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {}, // upgrade logic\n  websocket: {\n    // enable compression and decompression\n    perMessageDeflate: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Prisma dependencies in Bun\nDESCRIPTION: Commands to install Prisma CLI as a development dependency and Prisma Client as a regular dependency using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add -d prisma\n$ bun add @prisma/client\n```\n\n----------------------------------------\n\nTITLE: Implementing Snapshot Testing in Bun Tests using TypeScript\nDESCRIPTION: Shows a basic example of snapshot testing in Bun using the `toMatchSnapshot` matcher from `bun:test`. When run for the first time, it creates a snapshot file containing the serialized value (in this case, `{ a: 1 }`). Subsequent runs compare the current value against the stored snapshot, failing if they don't match.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_14\n\nLANGUAGE: ts\nCODE:\n```\n// example usage of toMatchSnapshot\nimport { test, expect } from \"bun:test\";\n\ntest(\"snapshot\", () => {\n  expect({ a: 1 }).toMatchSnapshot();\n});\n```\n\n----------------------------------------\n\nTITLE: Verifying Sentry Integration with a Test Error\nDESCRIPTION: Example code that verifies Sentry is working correctly by intentionally triggering an error and capturing it with Sentry. The error is wrapped in a try-catch block and sent to Sentry using captureException.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sentry.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nsetTimeout(() => {\n  try {\n    foo();\n  } catch (e) {\n    Sentry.captureException(e);\n  }\n}, 99);\n```\n\n----------------------------------------\n\nTITLE: Reading stdout from a child process as text in TypeScript\nDESCRIPTION: This snippet shows how to capture the standard output from a child process spawned with Bun.spawn() by converting the stdout ReadableStream to text using Response. It demonstrates capturing 'echo hello' output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn-stdout.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"]);\n\nconst output = await new Response(proc.stdout).text();\noutput; // => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Encoding and Decoding with Uint8Array: Base64 and Hex (Bun, JavaScript/TypeScript)\nDESCRIPTION: This snippet demonstrates Bun's extensions for encoding a Uint8Array to base64 and hexadecimal strings, and decoding from them. The toBase64 and toHex instance methods, and corresponding static fromBase64 and fromHex, enable easy conversions between binary data and encoded strings. This functionality is specific to Bun or JavaScript environments polyfilled with these methods; not standard in all runtimes. The code expects an input Uint8Array or encoded string, and outputs either a string (for encoding) or a Uint8Array (for decoding).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_13\n\nLANGUAGE: TypeScript\nCODE:\n```\nnew Uint8Array([1, 2, 3, 4, 5]).toBase64(); // \"AQIDBA==\"\nUint8Array.fromBase64(\"AQIDBA==\"); // Uint8Array(4) [1, 2, 3, 4, 5]\n\nnew Uint8Array([255, 254, 253, 252, 251]).toHex(); // \"fffefdfcfb==\"\nUint8Array.fromHex(\"fffefdfcfb\"); // Uint8Array(5) [255, 254, 253, 252, 251]\n```\n\n----------------------------------------\n\nTITLE: Using Jest-Compatible Mock Syntax (jest.fn) in Bun Tests\nDESCRIPTION: Illustrates the alternative `jest.fn()` syntax for creating mock functions in Bun tests, which is provided for Jest compatibility and behaves identically to `bun:test`'s `mock()` function. The diff highlights changing the import from `mock` to `jest` and using `jest.fn()` instead of `mock()`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_13\n\nLANGUAGE: ts-diff\nCODE:\n```\n- import { test, expect, mock } from \"bun:test\";\n+ import { test, expect, jest } from \"bun:test\";\n\n- const random = mock(() => Math.random());\n+ const random = jest.fn(() => Math.random());\n```\n\n----------------------------------------\n\nTITLE: Output Directory Configuration with JavaScript API\nDESCRIPTION: Example showing how to specify an output directory when using Bun's bundler with the JavaScript API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: ['./index.ts'],\n  outdir: './out'\n});\n// => { success: boolean, outputs: BuildArtifact[], logs: BuildMessage[] }\n```\n\n----------------------------------------\n\nTITLE: Using Async/Await in Bun.serve Route Handlers\nDESCRIPTION: Example demonstrating how to use async/await in route handlers to handle asynchronous operations, like database queries, and return a Promise<Response>.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql, serve } from \"bun\";\n\nserve({\n  port: 3001,\n  routes: {\n    \"/api/version\": async () => {\n      const [version] = await sql`SELECT version()`;\n      return Response.json(version);\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Using and Closing the Connection Pool in Bun SQL Client - TypeScript\nDESCRIPTION: Illustrates the automatic connection pooling mechanism: connections are established lazily on first query (`Bun.sql()`), reused (`await sql\\`...\\``), and multiple connections can be active simultaneously (`Promise.all`). It also shows different ways to explicitly close the connection pool using `sql.close()` with optional timeout parameters for graceful or immediate shutdown.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nconst sql = Bun.sql(); // no connection are created\n\nawait sql`...`; // pool is started until max is reached (if possible), first available connection is used\nawait sql`...`; // previous connection is reused\n\n// two connections are used now at the same time\nawait Promise.all([\n  sql`INSERT INTO users ${sql({ name: \"Alice\" })}`,\n  sql`UPDATE users SET name = ${user.name} WHERE id = ${user.id}`,\n]);\n\nawait sql.close(); // await all queries to finish and close all connections from the pool\nawait sql.close({ timeout: 5 }); // wait 5 seconds and close all connections from the pool\nawait sql.close({ timeout: 0 }); // close all connections from the pool immediately\n```\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Discord Bot Logic in TypeScript\nDESCRIPTION: Presents a simple Discord bot written in TypeScript using the `discord.js` library. It imports necessary modules (`Client`, `Events`, `GatewayIntentBits`), creates a new client instance with Guild intents, logs a message when the bot is ready (`ClientReady` event), and logs in using the token stored in `process.env.DISCORD_TOKEN`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\n// import discord.js\nimport {Client, Events, GatewayIntentBits} from 'discord.js';\n\n// create a new Client instance\nconst client = new Client({intents: [GatewayIntentBits.Guilds]});\n\n// listen for the client to be ready\nclient.once(Events.ClientReady, (c) => {\n  console.log(`Ready! Logged in as ${c.user.tag}`);\n});\n\n// login with the token from .env.local\nclient.login(process.env.DISCORD_TOKEN);\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables via Command Line in Linux/macOS\nDESCRIPTION: Shows how to set environment variables directly from the command line in Linux or macOS when running a Bun application. This method allows for temporary variable definition for a single execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/set-env.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ FOO=helloworld bun run dev\n```\n\n----------------------------------------\n\nTITLE: Defining and Compiling an Addition Function in Rust\nDESCRIPTION: This snippet demonstrates how to create a simple addition function in Rust and compile it as a dynamic library for use with bun:ffi.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_2\n\nLANGUAGE: rust\nCODE:\n```\n// add.rs\n#[no_mangle]\npub extern \"C\" fn add(a: i32, b: i32) -> i32 {\n    a + b\n}\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ rustc --crate-type cdylib add.rs\n```\n\n----------------------------------------\n\nTITLE: Configuring a proxy server in fetch API (TypeScript)\nDESCRIPTION: Demonstrates how to send HTTP requests through a proxy server by adding the proxy option to fetch(). The proxy URL can include authentication credentials and specify either HTTP or HTTPS protocol.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/proxy.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nawait fetch(\"https://example.com\", {\n  // The URL of the proxy server\n  proxy: \"https://username:password@proxy.example.com:8080\",\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Argon2id Parameters in Bun.js\nDESCRIPTION: Shows how to customize the Argon2id hashing parameters including memory cost and time cost. These parameters affect the computational intensity of the hashing process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/hash-a-password.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\n\n// use argon2 (default)\nconst argonHash = await Bun.password.hash(password, {\n  memoryCost: 4, // memory usage in kibibytes\n  timeCost: 3, // the number of iterations\n});\n```\n\n----------------------------------------\n\nTITLE: Creating Basic Mock Function in Bun Test\nDESCRIPTION: Shows how to create a simple mock function that wraps Math.random() using the mock utility from bun:test.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-functions.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\n\nconst random = mock(() => Math.random());\n```\n\n----------------------------------------\n\nTITLE: Conditional Query Construction in TypeScript\nDESCRIPTION: Shows how to build dynamic queries with conditional clauses using the sql helper function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// Optional WHERE clauses\nconst filterAge = true;\nconst minAge = 21;\nconst ageFilter = sql`AND age > ${minAge}`;\nawait sql`\n  SELECT * FROM users\n  WHERE active = ${true}\n  ${filterAge ? ageFilter : sql``}\n`;\n```\n\n----------------------------------------\n\nTITLE: Appending File Content Synchronously in TypeScript\nDESCRIPTION: Uses fs.appendFileSync to synchronously append data to a file. This blocks the main thread until the operation completes and specifies utf8 encoding.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/append.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { appendFileSync } from \"node:fs\";\n\nappendFileSync(\"message.txt\", \"data to append\", \"utf8\");\n```\n\n----------------------------------------\n\nTITLE: Writing a Fetch Response to a File using Bun.write()\nDESCRIPTION: This snippet fetches data from a URL and saves the response to a local file. It uses Bun.write() to efficiently write the Response object to disk, automatically handling the content type. The first parameter is the destination file path, and the second is the Response object to save.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/response.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await fetch(\"https://bun.sh\");\nconst path = \"./file.txt\";\nawait Bun.write(path, result);\n```\n\n----------------------------------------\n\nTITLE: Copying Files\nDESCRIPTION: Shows how to copy files using Bun.write.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst input = Bun.file(\"input.txt\");\nconst output = Bun.file(\"output.txt\"); // doesn't exist yet!\nawait Bun.write(output, input);\n```\n\n----------------------------------------\n\nTITLE: Redis Set Operations in Bun\nDESCRIPTION: Demonstrates set operations using Bun's Redis client, including adding and removing members, checking membership, retrieving all members, and popping random members.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// Add member to set\nawait redis.sadd(\"tags\", \"javascript\");\n\n// Remove member from set\nawait redis.srem(\"tags\", \"javascript\");\n\n// Check if member exists in set\nconst isMember = await redis.sismember(\"tags\", \"javascript\");\n\n// Get all members of a set\nconst allTags = await redis.smembers(\"tags\");\n\n// Get a random member\nconst randomTag = await redis.srandmember(\"tags\");\n\n// Pop (remove and return) a random member\nconst poppedTag = await redis.spop(\"tags\");\n```\n\n----------------------------------------\n\nTITLE: Environment Variable Expansion in .env Files\nDESCRIPTION: Demonstrates how Bun automatically expands environment variables referenced within other variable definitions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_8\n\nLANGUAGE: txt\nCODE:\n```\nFOO=world\nBAR=hello$FOO\n```\n\n----------------------------------------\n\nTITLE: Running TypeScript Files with Bun CLI\nDESCRIPTION: Example showing how to execute a TypeScript file using the Bun CLI, which automatically handles module resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun index.ts\nHello world!\n```\n\n----------------------------------------\n\nTITLE: Writing Fetch Response Body Directly to File using Bun API in TypeScript\nDESCRIPTION: This snippet shows how to use the `Bun.write` function (imported as `write`) to efficiently write the body of a Fetch API `Response` object directly to a file on disk. This is presented as a performant alternative to methods like `response.text()` or `response.arrayBuffer()` when the goal is to save the response content to the filesystem, potentially avoiding buffering the entire response in memory. It requires the `bun` runtime and a `Response` object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport { write } from \"bun\";\n\nawait write(\"output.txt\", response);\n```\n```\n\n----------------------------------------\n\nTITLE: Importing and Using a TOML File in TypeScript with Bun\nDESCRIPTION: Demonstrates how to import a TOML file in TypeScript using Bun's native support, accessing the data as a JavaScript object with full type information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-toml.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport data from \"./data.toml\";\n\ndata.name; // => \"bun\"\ndata.version; // => \"1.0.0\"\ndata.author.name; // => \"John Dough\"\n```\n\n----------------------------------------\n\nTITLE: Using Bun's Bundler with CLI\nDESCRIPTION: This snippet shows how to use Bun's bundler through the command line interface, specifying an entry point and output directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./build\n```\n\n----------------------------------------\n\nTITLE: Batching WebSocket Operations with .cork()\nDESCRIPTION: This code demonstrates how to use the `cork` method to batch a set of operations on a WebSocket connection.  The `cork` method accepts a callback function that receives the `ServerWebSocket` instance, allowing multiple `send` calls to be grouped together for efficiency.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nws.cork((ws) => {\n  ws.send(\"first\");\n  ws.send(\"second\");\n  ws.send(\"third\");\n});\n```\n\n----------------------------------------\n\nTITLE: Handling Non-Existent Files\nDESCRIPTION: Shows how BunFile handles references to non-existent files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst notreal = Bun.file(\"notreal.txt\");\nnotreal.size; // 0\nnotreal.type; // \"text/plain;charset=utf-8\"\nconst exists = await notreal.exists(); // false\n```\n\n----------------------------------------\n\nTITLE: Defining Scripts in package.json for Bun\nDESCRIPTION: Example `package.json` structure showing how to define named scripts, such as `clean` and `dev`, within the `scripts` object. These scripts associate a name with a shell command that can be executed using `bun run <script>`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  // ... other fields\n  \"scripts\": {\n    \"clean\": \"rm -rf dist && echo 'Done.'\",\n    \"dev\": \"bun server.ts\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Preconnecting to a Host using Bun Fetch API in TypeScript\nDESCRIPTION: This snippet shows how to use the `fetch.preconnect` function available in Bun to proactively establish a connection to a specified host. This includes performing the DNS lookup, establishing the TCP socket connection, and completing the TLS handshake early. This is beneficial when a connection to the host is anticipated soon but the request isn't ready yet. It requires the `bun` runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport { fetch } from \"bun\";\n\nfetch.preconnect(\"https://bun.sh\");\n```\n```\n\n----------------------------------------\n\nTITLE: Iterating Over CookieMap Entries\nDESCRIPTION: Various ways to iterate over cookies in a CookieMap, including using for...of loops with entries(), keys(), values(), and the forEach method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// Iterate over [name, cookie] entries\nfor (const [name, value] of cookies) {\n  console.log(`${name}: ${value}`);\n}\n\n// Using entries()\nfor (const [name, value] of cookies.entries()) {\n  console.log(`${name}: ${value}`);\n}\n\n// Using keys()\nfor (const name of cookies.keys()) {\n  console.log(name);\n}\n\n// Using values()\nfor (const value of cookies.values()) {\n  console.log(value);\n}\n\n// Using forEach\ncookies.forEach((value, name) => {\n  console.log(`${name}: ${value}`);\n});\n```\n\n----------------------------------------\n\nTITLE: WebSocket Event Listeners\nDESCRIPTION: This code adds event listeners to the WebSocket to handle different events such as receiving a message, opening the socket, closing the socket, and handling errors.  Each event listener executes a callback function when the corresponding event occurs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\n// message is received\nsocket.addEventListener(\"message\", event => {});\n\n// socket opened\nsocket.addEventListener(\"open\", event => {});\n\n// socket closed\nsocket.addEventListener(\"close\", event => {});\n\n// error handler\nsocket.addEventListener(\"error\", event => {});\n```\n\n----------------------------------------\n\nTITLE: Uploading Files with S3Client.prototype.write - TypeScript\nDESCRIPTION: Demonstrates using Bun's S3Client 'write' method to upload files to an S3-compatible bucket. Files can be provided as a string or a Response instance. The equivalent usage with the file method is also noted. Requires an S3-compatible endpoint, access credentials, and target bucket.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new Bun.S3Client({\n  accessKeyId: \\\"your-access-key\\\",\n  secretAccessKey: \\\"your-secret-key\\\",\n  endpoint: \\\"https://s3.us-east-1.amazonaws.com\\\",\n  bucket: \\\"my-bucket\\\",\n});\nawait client.write(\\\"my-file.txt\\\", \\\"Hello World!\\\");\nawait client.write(\\\"my-file.txt\\\", new Response(\\\"Hello World!\\\"));\n\n// equivalent to\n// await client.file(\\\"my-file.txt\\\").write(\\\"Hello World!\\\");\n```\n\n----------------------------------------\n\nTITLE: Using Bun.ArrayBufferSink for Incremental Buffer Construction\nDESCRIPTION: Demonstrates the ArrayBufferSink class for efficiently constructing an ArrayBuffer incrementally. This is useful for building binary data of unknown size.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst sink = new Bun.ArrayBufferSink();\n\nsink.write(\"h\");\nsink.write(\"e\");\nsink.write(\"l\");\nsink.write(\"l\");\nsink.write(\"o\");\n\nsink.end();\n// ArrayBuffer(5) [ 104, 101, 108, 108, 111 ]\n```\n\n----------------------------------------\n\nTITLE: Copying a File Using Bun.write() in TypeScript\nDESCRIPTION: This snippet demonstrates how to copy a file to another location using Bun's file I/O API. It first creates a BunFile instance from the source path, then uses Bun.write() to create a copy at the destination path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/file-cp.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst file = Bun.file(\"/path/to/original.txt\");\nawait Bun.write(\"/path/to/copy.txt\", file);\n```\n\n----------------------------------------\n\nTITLE: Setting Coverage Report Directory in Bun Tests\nDESCRIPTION: Specifies the directory where coverage reports will be saved. Only works with persistent reporters like lcov.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_15\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageDir = \"path/to/somewhere\"  # default \"coverage\"\n```\n\n----------------------------------------\n\nTITLE: Cryptographic Hashing with Bun.CryptoHasher\nDESCRIPTION: Introduces Bun.CryptoHasher for incremental cryptographic hashing. It supports various algorithms and can process different input types.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst hasher = new Bun.CryptoHasher(\"sha256\");\nhasher.update(\"hello world\");\nhasher.digest();\n// Uint8Array(32) [ <byte>, <byte>, ... ]\n\nconst hasher = new Bun.CryptoHasher(\"sha256\");\n\nhasher.update(\"hello world\");\nhasher.update(new Uint8Array([1, 2, 3]));\nhasher.update(new ArrayBuffer(10));\n\nhasher.update(\"hello world\"); // defaults to utf8\nhasher.update(\"hello world\", \"hex\");\nhasher.update(\"hello world\", \"base64\");\nhasher.update(\"hello world\", \"latin1\");\n\nhasher.digest();\n// => Uint8Array(32) [ 185, 77, 39, 185, 147, ... ]\n\nhasher.digest(\"base64\");\n// => \"uU0nuZNNPgilLlLX2n2r+sSE7+N6U4DukIj3rOLvzek=\"\n\nhasher.digest(\"hex\");\n// => \"b94d27b9934d3e08a52e52d7da7dabfac484efe37a5380ee9088f7ace2efcde9\"\n\nconst arr = new Uint8Array(32);\n\nhasher.digest(arr);\n\nconsole.log(arr);\n// => Uint8Array(32) [ 185, 77, 39, 185, 147, ... ]\n```\n\n----------------------------------------\n\nTITLE: Creating a Project from npm Package in Bun\nDESCRIPTION: Shows how to use 'bun create' to initialize a project from an npm package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create <template> [<destination>]\n```\n\n----------------------------------------\n\nTITLE: Setting Chunk Size When Streaming from Blob in TypeScript\nDESCRIPTION: This code demonstrates how to set a custom chunk size when streaming binary data from a Blob. It creates a Uint8Array, wraps it in a Blob, and then calls blob.stream() with a chunk size argument of 1024 bytes, thus controlling the granularity of streaming. Dependencies: Blob and ReadableStream. Input: a Uint8Array, custom chunk size. Output: a ReadableStream that yields data in the specified chunk size. Limitation: Blob.stream(chunkSize) may not be supported in all browser environments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-readablestream.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst arr = new Uint8Array(64);\nconst blob = new Blob([arr]);\n\n// set chunk size of 1024 bytes\nconst stream = blob.stream(1024);\n```\n\n----------------------------------------\n\nTITLE: Adding Language-Specific Styles with :lang() Selector - CSS\nDESCRIPTION: Shows usage of the enhanced :lang() selector for language-based styling with examples for multiple arguments and Bun's fallback with :is() for broader support. Requires HTML elements to be properly marked with language attributes for selectors to match. Inputs are language lists; outputs are typographic and style variations for each group.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_19\n\nLANGUAGE: css\nCODE:\n```\n/* Typography adjustments for CJK languages */\n:lang(zh, ja, ko) {\n  line-height: 1.8;\n  font-size: 1.05em;\n}\n\n/* Different quote styles by language group */\nblockquote:lang(fr, it, es, pt) {\n  font-style: italic;\n}\n\nblockquote:lang(de, nl, da, sv) {\n  font-weight: 500;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* Multiple languages grouped with :is() for better browser support */\n:is(:lang(zh), :lang(ja), :lang(ko)) {\n  line-height: 1.8;\n  font-size: 1.05em;\n}\n\nblockquote:is(:lang(fr), :lang(it), :lang(es), :lang(pt)) {\n  font-style: italic;\n}\n\nblockquote:is(:lang(de), :lang(nl), :lang(da), :lang(sv)) {\n  font-weight: 500;\n}\n```\n\n----------------------------------------\n\nTITLE: Starting the Astro Dev Server with the Bun Runtime\nDESCRIPTION: This shell command uses `bunx` with the `--bun` flag to execute the `astro dev` command. This explicitly tells Astro to use the Bun runtime environment for the development server, instead of the default Node.js. The output confirms the server has started and provides the local URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/astro.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bunx --bun astro dev\n  🚀  astro  v3.1.4 started in 200ms\n\n  ┃ Local    http://localhost:4321/\n  ┃ Network  use --host to expose\n```\n\n----------------------------------------\n\nTITLE: Using Request Object with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to create and use a Request object with the fetch API. The example shows creating a POST request with a text body.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst request = new Request(\"http://example.com\", {\n  method: \"POST\",\n  body: \"Hello, world!\",\n});\n\nconst response = await fetch(request);\n```\n\n----------------------------------------\n\nTITLE: File-Based Queries in TypeScript\nDESCRIPTION: Demonstrates how to execute SQL queries from files with optional parameters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await sql.file(\"query.sql\", [1, 2, 3]);\n```\n\n----------------------------------------\n\nTITLE: Writing Data to S3 Bucket using S3Client.write\nDESCRIPTION: Examples of writing different types of data to S3 using S3Client.write static method. Shows string, JSON, fetch response, and public HTML file uploads with ACL settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\n// Write string\nawait S3Client.write(\"my-file.txt\", \"Hello World\");\n\n// Write JSON with type\nawait S3Client.write(\n  \"data.json\",\n  JSON.stringify({hello: \"world\"}),\n  {\n    ...credentials,\n    type: \"application/json\",\n  }\n);\n\n// Write from fetch\nconst res = await fetch(\"https://example.com/data\");\nawait S3Client.write(\"data.bin\", res, credentials);\n\n// Write with ACL\nawait S3Client.write(\"public.html\", html, {\n  ...credentials,\n  acl: \"public-read\",\n  type: \"text/html\"\n});\n```\n\n----------------------------------------\n\nTITLE: Creating a Chunked ReadableStream from Uint8Array Using Blob in TypeScript\nDESCRIPTION: This snippet demonstrates converting a Uint8Array to a Blob and then using the Blob.stream() method to create a ReadableStream that automatically chunks the data. Dependencies: Blob and ReadableStream web APIs. Input: a Uint8Array. Output: a ReadableStream that streams the Blob's contents in default-sized chunks. This method offers more efficient streaming with better memory usage for large data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-readablestream.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst arr = new Uint8Array(64);\nconst blob = new Blob([arr]);\nconst stream = blob.stream();\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to JSON using Bun\nDESCRIPTION: Demonstrates how to convert a ReadableStream instance to JSON format using Bun's readableStreamToJSON utility function. This async operation returns a parsed JSON object from the stream's contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-json.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst json = await Bun.readableStreamToJSON(stream);\n```\n\n----------------------------------------\n\nTITLE: CSS Modules Implementation\nDESCRIPTION: Shows implementation of CSS modules with class name scoping and importing into TSX components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_27\n\nLANGUAGE: css\nCODE:\n```\n/* styles.module.css */\n.button {\n  color: red;\n}\n\n/* other-styles.module.css */\n.button {\n  color: blue;\n}\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport styles from \"./styles.module.css\";\nimport otherStyles from \"./other-styles.module.css\";\n\nexport default function App() {\n  return (\n    <>\n      <button className={styles.button}>Red button!</button>\n      <button className={otherStyles.button}>Blue button!</button>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Spawning a Basic Child Process in TypeScript with Bun\nDESCRIPTION: Demonstrates how to spawn a simple child process using Bun.spawn() and wait for its completion. The example shows creating an echo process and using the await keyword with the proc.exited property to wait until the process finishes execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"]);\n\n// await completion\nawait proc.exited;\n```\n\n----------------------------------------\n\nTITLE: Configuring tag in publishConfig Field - JSON\nDESCRIPTION: Shows how to set the default publication tag (here, \"next\") in `publishConfig` inside `package.json`. This ensures that new publishes use the custom tag unless overridden by a command-line flag. This pattern supports consistent CI/CD tagging workflows in npm packages. Requires a properly filled package.json; the tag will be applied when using `bun publish`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\\n  \"publishConfig\": {\\n    \"tag\": \"next\"\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Spawning a Basic Child Process in TypeScript\nDESCRIPTION: Demonstrates how to spawn a simple child process using Bun.spawn() and wait for its completion.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"]);\nconsole.log(await proc.exited); // 0\n```\n\n----------------------------------------\n\nTITLE: Running the Bun HTTP Server\nDESCRIPTION: Command-line instruction to start the Bun server by running the index.ts file. The server will listen on port 4000 where the form will be accessible.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/file-uploads.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.ts\nListening on http://localhost:4000\n```\n\n----------------------------------------\n\nTITLE: Configuring SvelteKit Adapter for Bun\nDESCRIPTION: Configuration changes required in svelte.config.js to use the Bun adapter for production builds, replacing the default auto adapter with svelte-adapter-bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sveltekit.md#2025-04-22_snippet_2\n\nLANGUAGE: ts-diff\nCODE:\n```\n- import adapter from \"@sveltejs/adapter-auto\";\n+ import adapter from \"svelte-adapter-bun\";\n  import { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\n\n  /** @type {import('@sveltejs/kit').Config} */\n  const config = {\n  \t// Consult https://svelte.dev/docs/kit/integrations#preprocessors\n  \t// for more information about preprocessors\n  \tpreprocess: vitePreprocess(),\n  \n  \tkit: {\n  \t\t// adapter-auto only supports some environments, see https://svelte.dev/docs/kit/adapter-auto for a list.\n  \t\t// If your environment is not supported, or you settled on a specific environment, switch out the adapter.\n  \t\t// See https://svelte.dev/docs/kit/adapters for more information about adapters.\n  \t\tadapter: adapter()\n  \t}\n  };\n  \n  export default config;\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to UTF-8 String in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to a UTF-8 string: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nawait new Response(stream).text();\n\n// with Bun function\nawait Bun.readableStreamToText(stream);\n```\n\n----------------------------------------\n\nTITLE: Checking File Existence with S3Client.prototype.exists - TypeScript\nDESCRIPTION: Shows how to check if a file exists in an S3 bucket using the Bun S3Client 'exists' method. Equivalent usage via client.file().exists() is also included. Requires an instantiated S3Client with proper credentials and bucket.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new Bun.S3Client({\n  accessKeyId: \\\"your-access-key\\\",\n  secretAccessKey: \\\"your-secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n});\n\nconst exists = await client.exists(\\\"my-file.txt\\\");\n// equivalent to\n// const exists = await client.file(\\\"my-file.txt\\\").exists();\n```\n\n----------------------------------------\n\nTITLE: Checking Cookie Expiration with isExpired()\nDESCRIPTION: How to check if a cookie has expired using the isExpired() method in different scenarios: expired cookies, valid cookies with maxAge, and session cookies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\n// Expired cookie (Date in the past)\nconst expiredCookie = new Bun.Cookie(\"name\", \"value\", {\n  expires: new Date(Date.now() - 1000),\n});\nconsole.log(expiredCookie.isExpired()); // true\n\n// Valid cookie (Using maxAge instead of expires)\nconst validCookie = new Bun.Cookie(\"name\", \"value\", {\n  maxAge: 3600, // 1 hour in seconds\n});\nconsole.log(validCookie.isExpired()); // false\n\n// Session cookie (no expiration)\nconst sessionCookie = new Bun.Cookie(\"name\", \"value\");\nconsole.log(sessionCookie.isExpired()); // false\n```\n\n----------------------------------------\n\nTITLE: Sending POST Request with Fetch in TypeScript\nDESCRIPTION: Shows how to send a POST request by specifying the method and body in the fetch options. The body can be a string or other supported types.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  method: \"POST\",\n  body: \"Hello, world!\",\n});\n```\n\n----------------------------------------\n\nTITLE: 16 ANSI Color Examples in TypeScript\nDESCRIPTION: Examples of converting colors to 16 ANSI format using Bun.color() with 'ansi-16' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"ansi-16\"); // \"\\u001b[38;5;\\tm\"\nBun.color(0xff0000, \"ansi-16\"); // \"\\u001b[38;5;\\tm\"\nBun.color(\"#f00\", \"ansi-16\"); // \"\\u001b[38;5;\\tm\"\nBun.color(\"#ff0000\", \"ansi-16\"); // \"\\u001b[38;5;\\tm\"\n```\n\n----------------------------------------\n\nTITLE: Importing and Applying CSS Modules in React Components - TSX\nDESCRIPTION: This snippet demonstrates importing two CSS module files into a TSX (TypeScript React) file and applying the scoped classes to JSX elements. The imported objects provide mappings of the class names to uniquely scoped identifiers. Requires Bun bundler support, React, and TypeScript. Key parameters include the import paths and usage of the 'className' attribute. Expected input files are \".module.css\" files, and the output is a React component with styled buttons, each using class names unique to its source module. Constraints: only works with supported frameworks and valid module imports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport styles from \"./styles.module.css\";\nimport otherStyles from \"./other-styles.module.css\";\n\nexport default function App() {\n  return (\n    <>\n      <button className={styles.button}>Red button!</button>\n      <button className={otherStyles.button}>Blue button!</button>\n    </>\n  );\n}\n\n```\n\n----------------------------------------\n\nTITLE: Iterating Over Query Results with .iterate() or @@iterator (TypeScript)\nDESCRIPTION: Demonstrates how to incrementally retrieve and process rows from a SQLite query using Bun's .iterate() method or JavaScript's iterable protocol. Ideal for handling large datasets to avoid memory overhead, with each loop iteration yielding a single row.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_14\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(\"SELECT * FROM foo\");\nfor (const row of query.iterate()) {\n  console.log(row);\n}\n\n```\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(\"SELECT * FROM foo\");\nfor (const row of query) {\n  console.log(row);\n}\n\n```\n\n----------------------------------------\n\nTITLE: Starting Bun with PM2 using Configuration File\nDESCRIPTION: Command to start a Bun application using a PM2 configuration file that contains all the necessary settings and environment variables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/pm2.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npm2 start pm2.config.js\n```\n\n----------------------------------------\n\nTITLE: Accessing Environment Variables Using Bun.env in TypeScript\nDESCRIPTION: This snippet shows how to access environment variables using Bun.env, which is an alias of process.env. It provides the same functionality but with Bun-specific syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/read-env.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.env.API_TOKEN; // => \"secret\"\n```\n\n----------------------------------------\n\nTITLE: Finding Executable Paths with Bun.which in TypeScript\nDESCRIPTION: Demonstrates using Bun.which to locate executable files in the system path. Returns the absolute path if found or null if the executable doesn't exist. Examples show looking up common executables like 'sh' and 'bun'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/which-path-to-executable-bin.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.which(\"sh\"); // => \"/bin/sh\"\nBun.which(\"notfound\"); // => null\nBun.which(\"bun\"); // => \"/home/user/.bun/bin/bun\"\n```\n\n----------------------------------------\n\nTITLE: Building with ESM Format - Bun CLI - CLI\nDESCRIPTION: Performs the ES Module bundling operation using the Bun CLI. Explicitly sets entrypoint, output directory, and format. For command line use with Bun installed. Produces .js files in ES Module format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_22\n\nLANGUAGE: CLI\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --format esm\n```\n\n----------------------------------------\n\nTITLE: Specifying Chunk Size When Streaming Buffer Data with Blob.stream() (TypeScript)\nDESCRIPTION: This snippet shows how to set a specific chunk size (e.g., 1024 bytes) when streaming Buffer data as a ReadableStream via the Blob API. After wrapping the Buffer in a Blob, blob.stream(1024) is used to emit chunks of the given size. This approach allows fine-grained control over how much data is read per chunk from the stream, making it suitable for large buffers or when a certain chunk size is required for downstream consumers. Key parameters: the chunk size (in bytes) as the stream() argument.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-readablestream.md#2025-04-22_snippet_2\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello world\");\nconst blob = new Blob([buf]);\n\n// set chunk size of 1024 bytes\nconst stream = blob.stream(1024);\n```\n\n----------------------------------------\n\nTITLE: Copying File Contents Using BunFile and Bun.write()\nDESCRIPTION: This snippet shows how to copy the contents of one file to another using BunFile and Bun.write(). It creates a BunFile instance from an input file and writes its contents to an output file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/blob.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"./out.txt\";\nconst data = Bun.file(\"./in.txt\");\n\n// write the contents of ./in.txt to ./out.txt\nawait Bun.write(path, data);\n```\n\n----------------------------------------\n\nTITLE: Reading Partial Data and Types from S3File - TypeScript\nDESCRIPTION: Shows how to use the S3File slice method to read a partial byte range from a remote file, and demonstrates reading that partial as either a Uint8Array or string. Uses direct async method calls. Relies on existing S3File instance and Bun's compatibility with Blob API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\nconst partial = s3file.slice(0, 1024);\n\n// Read the partial range as a Uint8Array\nconst bytes = await partial.bytes();\n\n// Read the partial range as a string\nconst text = await partial.text();\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Uint8Array via ArrayBuffer in Bun\nDESCRIPTION: This snippet demonstrates how to convert a ReadableStream to a Uint8Array by first reading the stream into an ArrayBuffer using Bun.readableStreamToArrayBuffer, then creating a Uint8Array that points to that buffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-typedarray.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst buf = await Bun.readableStreamToArrayBuffer(stream);\nconst uint8 = new Uint8Array(buf);\n```\n\n----------------------------------------\n\nTITLE: Specifying Dependency Overrides in package.json\nDESCRIPTION: Demonstrates adding an `overrides` field to `package.json`. This mechanism, similar to Yarn's `resolutions`, allows specifying exact versions or version ranges for transitive dependencies (dependencies of your dependencies), ensuring consistent versions across the project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_8\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"dependencies\": {\n      \"foo\": \"^2.0.0\"\n    },\n+   \"overrides\": {\n+     \"bar\": \"~4.4.0\"\n+   }\n  }\n```\n\n----------------------------------------\n\nTITLE: Creating Project Directory for Bun HTTP Server\nDESCRIPTION: Creates a new directory called 'quickstart' and navigates into it to prepare for a Bun project setup.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ mkdir quickstart\n$ cd quickstart\n```\n\n----------------------------------------\n\nTITLE: Installing Basic Package Dependencies with Bun\nDESCRIPTION: Basic package installation commands using bun add, including version specification and ranges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add preact\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add zod@3.20.0\n$ bun add zod@^3.0.0\n$ bun add zod@latest\n```\n\n----------------------------------------\n\nTITLE: File Asset Embedding\nDESCRIPTION: Examples of embedding and accessing files in compiled Bun applications.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport icon from \"./icon.png\" with { type: \"file\" };\nimport { file } from \"bun\";\n\nexport default {\n  fetch(req) {\n    // Embedded files can be streamed from Response objects\n    return new Response(file(icon));\n  },\n};\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport icon from \"./icon.png\" with { type: \"file\" };\nimport { file } from \"bun\";\n\nconst bytes = await file(icon).arrayBuffer();\n```\n\n----------------------------------------\n\nTITLE: Streaming Files from a Bun HTTP Server\nDESCRIPTION: Shows how to stream a file in a Bun server by returning a Response with a BunFile object as the body. This leverages the sendfile(2) system call for zero-copy file transfers when possible.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req) {\n    return new Response(Bun.file(\"./hello.txt\"));\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Reading Data from Pointer Using DataView in Bun (TypeScript)\nDESCRIPTION: Illustrates using DataView to read binary data from native memory exposed via pointer, after converting it to ArrayBuffer using toArrayBuffer from 'bun:ffi'. Requires prior acquisition of the pointer. Demonstrates reading multiple bytes and endian consideration; suitable for long-lived pointers. Outputs integer values for each byte read.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport { toArrayBuffer } from \"bun:ffi\";\nlet myDataView = new DataView(toArrayBuffer(myPtr, 0, 32));\n\nconsole.log(\n  myDataView.getUint8(0, true),\n  myDataView.getUint8(1, true),\n  myDataView.getUint8(2, true),\n  myDataView.getUint8(3, true),\n);\n\n```\n\n----------------------------------------\n\nTITLE: Building and Running a Remix App in Production with Bun\nDESCRIPTION: Shows how to build a Remix application for production using 'bun run build' and then start the production server with 'bun start'. The build command creates optimized assets for production, and the start command serves the application from the built files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/remix.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run build\n $ remix build\n info  building... (NODE_ENV=production)\n info  built (158ms)\n$ bun start\n $ remix-serve ./build/index.js\n [remix-serve] http://localhost:3000 (http://192.168.86.237:3000)\n```\n\n----------------------------------------\n\nTITLE: Piping stderr from a Child Process in Bun\nDESCRIPTION: This snippet demonstrates how to spawn a child process with stderr configured as a pipe, making it available as a ReadableStream for further processing. The 'pipe' option redirects the child process's stderr to a stream instead of inheriting the parent's stderr.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn-stderr.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"], {\n  stderr: \"pipe\",\n});\nproc.stderr; // => ReadableStream\n```\n\n----------------------------------------\n\nTITLE: Brace Expansion in Bun Shell\nDESCRIPTION: Shows how to use the $.braces utility for brace expansion in Bun Shell. This function implements simple brace expansion for shell commands, similar to bash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_19\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nawait $.braces(`echo {1,2,3}`);\n// => [\"echo 1\", \"echo 2\", \"echo 3\"]\n```\n\n----------------------------------------\n\nTITLE: Running a File in Watch Mode with Bun\nDESCRIPTION: Shows how to use the `--watch` flag with `bun` (placed immediately after `bun`) to execute a file (`index.tsx`) in watch mode. In this mode, Bun monitors the file and its dependencies for changes and automatically re-runs the script upon detection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch run index.tsx\n```\n\n----------------------------------------\n\nTITLE: Writing String to BunFile Object in TypeScript\nDESCRIPTION: This snippet illustrates how to use a BunFile object as the destination for Bun.write(). The method will write the data to the file associated with the BunFile path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/basic.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = Bun.file(\"./file.txt\");\nawait Bun.write(path, \"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Creating a Custom HTML Processing Plugin for Bun\nDESCRIPTION: A TypeScript example demonstrating how to create a custom plugin that transforms HTML content using Bun's HTMLRewriter. This example converts all HTML tags and text to lowercase before bundling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: [\"./index.html\"],\n  outdir: \"./dist\",\n  minify: true,\n\n  plugins: [\n    {\n      // A plugin that makes every HTML tag lowercase\n      name: \"lowercase-html-plugin\",\n      setup({ onLoad }) {\n        const rewriter = new HTMLRewriter().on(\"*\", {\n          element(element) {\n            element.tagName = element.tagName.toLowerCase();\n          },\n          text(element) {\n            element.replace(element.text.toLowerCase());\n          },\n        });\n\n        onLoad({ filter: /\\.html$/ }, async args => {\n          const html = await Bun.file(args.path).text();\n\n          return {\n            // Bun's bundler will scan the HTML for <script> tags, <link rel=\"stylesheet\"> tags, and other assets\n            // and bundle them automatically\n            contents: rewriter.transform(html),\n            loader: \"html\",\n          };\n        });\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Binding Named Parameters in Bun SQLite Queries (TypeScript)\nDESCRIPTION: Illustrates using named parameters in SQL queries by passing an object of key-value pairs to the .all() method in Bun's query interface. Allows dynamic and secure parameter replacement in SELECT queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_18\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(\"SELECT * FROM foo WHERE bar = $bar\");\nconst results = query.all({\n  $bar: \"bar\",\n});\n\n```\n\n----------------------------------------\n\nTITLE: Using Strict Mode for Parameter Binding in Bun's SQLite\nDESCRIPTION: This snippet illustrates how to use strict mode in Bun's SQLite driver to bind parameters without prefixes. It's a feature added in Bun v1.1.14 that changes the behavior of parameter binding.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database(\":memory:\", {\n  // bind values without prefixes\n  strict: true,\n});\n\nconst query = db.query(`select $message;`);\n\n// strict: true\nquery.all({ message: \"Hello world\" });\n\n// strict: false\n// query.all({ $message: \"Hello world\" });\n```\n\n----------------------------------------\n\nTITLE: Configuring Bytecode Output in Bun Build (JavaScript)\nDESCRIPTION: Generates bytecode for JavaScript/TypeScript entrypoints to improve startup times for large applications. Only works with CommonJS format and Bun target.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_64\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: [\"./index.tsx\"],\n  outdir: \"./out\",\n  bytecode: true,\n})\n```\n\n----------------------------------------\n\nTITLE: Using Custom .env Files with the --env-file Flag\nDESCRIPTION: Examples of specifying particular .env files to load using the --env-file command line option in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --env-file=.env.1 src/index.ts\n\n$ bun --env-file=.env.abc --env-file=.env.def run build\n```\n\n----------------------------------------\n\nTITLE: Accessing Standard Streams\nDESCRIPTION: Shows how to access stdin, stdout and stderr as BunFile instances.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nBun.stdin; // readonly\nBun.stdout;\nBun.stderr;\n```\n\n----------------------------------------\n\nTITLE: Basic Unix Socket GET Request in Bun\nDESCRIPTION: Demonstrates how to perform a basic GET request over a unix domain socket using fetch. Uses the docker socket as an example to retrieve server information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/fetch-unix.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst unix = \"/var/run/docker.sock\";\n\nconst response = await fetch(\"http://localhost/info\", { unix });\n\nconst body = await response.json();\nconsole.log(body); // { ... }\n```\n\n----------------------------------------\n\nTITLE: Reserving and Releasing Dedicated Connections in Bun SQL Client - TypeScript\nDESCRIPTION: Demonstrates how to obtain an exclusive connection from the pool using `await sql.reserve()`. This is useful for operations requiring a dedicated, isolated connection. The connection must be released back to the pool either manually using `reserved.release()` within a `try...finally` block or automatically using a `using` block (leveraging `Symbol.dispose`).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\n// Get exclusive connection from pool\nconst reserved = await sql.reserve();\n\ntry {\n  await reserved`INSERT INTO users (name) VALUES (${ \"Alice\" })`;\n} finally {\n  // Important: Release connection back to pool\n  reserved.release();\n}\n\n// Or using Symbol.dispose\n{\n  using reserved = await sql.reserve();\n  await reserved`SELECT 1`;\n} // Automatically released\n```\n```\n\n----------------------------------------\n\nTITLE: Establishing Redis Connections in Bun\nDESCRIPTION: Shows how to create Redis connections using both the default client and a custom client. It also demonstrates how to use environment variables for connection information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { redis, RedisClient } from \"bun\";\n\n// Using the default client (reads connection info from environment)\n// process.env.REDIS_URL is used by default\nawait redis.set(\"hello\", \"world\");\nconst result = await redis.get(\"hello\");\n\n// Creating a custom client\nconst client = new RedisClient(\"redis://username:password@localhost:6379\");\nawait client.set(\"counter\", \"0\");\nawait client.incr(\"counter\");\n```\n\n----------------------------------------\n\nTITLE: Inter-Process Communication (IPC) in Child Process with TypeScript\nDESCRIPTION: Demonstrates how to send and receive messages in a Bun child process using IPC.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.send(\"Hello from child as string\");\nprocess.send({ message: \"Hello from child as object\" });\n\nprocess.on(\"message\", (message) => {\n  // print message from parent\n  console.log(message);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Minification in Bun\nDESCRIPTION: Demonstrates how to enable and configure minification options including whitespace, identifiers, and syntax minification.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_45\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  minify: {\n    whitespace: true,\n    identifiers: true,\n    syntax: true,\n  },\n})\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --minify-whitespace --minify-identifiers --minify-syntax\n```\n\n----------------------------------------\n\nTITLE: Accessing ReadableStream from Response in TypeScript\nDESCRIPTION: Demonstrates how to directly access and use the ReadableStream object from a fetch response for more control over streaming.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\");\n\nconst stream = response.body;\n\nconst reader = stream.getReader();\nconst { value, done } = await reader.read();\n```\n\n----------------------------------------\n\nTITLE: Custom TLS Validation with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to implement custom TLS validation logic by providing a checkServerIdentity function in the TLS options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nawait fetch(\"https://example.com\", {\n  tls: {\n    checkServerIdentity: (hostname, peerCertificate) => {\n      // Return an Error if the certificate is invalid\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Inlining Environment Variables By Prefix - env: \"PUBLIC_*\" - Bun CLI - CLI\nDESCRIPTION: Equivalent prefix-based environment variable inlining using the CLI. Demonstrates use of shell variables and the --env flag. Only variables matching the supplied prefix will be replaced in the bundle output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_39\n\nLANGUAGE: CLI\nCODE:\n```\n$ FOO=bar BAZ=123 ACME_PUBLIC_URL=https://acme.com bun build ./index.tsx --outdir ./out --env 'ACME_PUBLIC_*'\n```\n\n----------------------------------------\n\nTITLE: Enabling Per-Message WebSocket Compression in Bun\nDESCRIPTION: Shows how to selectively enable compression for individual WebSocket messages by passing true as the second parameter to the ws.send() method. This allows for more granular control over which messages get compressed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/compression.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  // ...\n  websocket: {\n    async message(ws, message) {\n      // send a compressed message\n      ws.send(message, true);\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Using bcrypt Algorithm in Bun.js\nDESCRIPTION: Demonstrates how to use the bcrypt algorithm instead of the default Argon2id. Shows configuration of the cost parameter which determines the computational complexity.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/hash-a-password.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// use bcrypt\nconst bcryptHash = await Bun.password.hash(password, {\n  algorithm: \"bcrypt\",\n  cost: 4, // number between 4-31\n});\n```\n\n----------------------------------------\n\nTITLE: Updating package.json for Development Dependencies\nDESCRIPTION: This JSON diff illustrates the changes made to the package.json file when adding a development dependency. It shows the addition of the 'zod' package to the devDependencies section.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-dev.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"devDependencies\": {\n+   \"zod\": \"^3.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Importing PrismaClient in TypeScript\nDESCRIPTION: TypeScript code to import the generated Prisma Client from @prisma/client package. This is the first step to interact with the database in your application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport {PrismaClient} from \"@prisma/client\";\n```\n\n----------------------------------------\n\nTITLE: Svelte Plugin Implementation\nDESCRIPTION: A plugin implementation that enables importing and compiling Svelte components in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nawait plugin({\n  name: \"svelte loader\",\n  async setup(build) {\n    const { compile } = await import(\"svelte/compiler\");\n\n    // when a .svelte file is imported...\n    build.onLoad({ filter: /\\.svelte$/ }, async ({ path }) => {\n\n      // read and compile it with the Svelte compiler\n      const file = await Bun.file(path).text();\n      const contents = compile(file, {\n        filename: path,\n        generate: \"ssr\",\n      }).js.code;\n\n      // and return the compiled source code as \"js\"\n      return {\n        contents,\n        loader: \"js\",\n      };\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Integrating a Native Plugin into Bun Build Process (TypeScript)\nDESCRIPTION: Demonstrates how to configure and use a compiled native NAPI plugin within a Bun build script using `Bun.build()`. It imports the native addon, defines a plugin configuration, and registers the native `onBeforeParse` hook by specifying the NAPI module (`myNativeAddon`), the exported symbol (`replace_foo_with_bar`), and filtering for specific files (`**/*.tsx`).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport myNativeAddon from \"./my-native-addon\";\nBun.build({\n  entrypoints: [\"./app.tsx\"],\n  plugins: [\n    {\n      name: \"my-plugin\",\n\n      setup(build) {\n        build.onBeforeParse(\n          {\n            namespace: \"file\",\n            filter: \"**/*.tsx\",\n          },\n          {\n            napiModule: myNativeAddon,\n            symbol: \"replace_foo_with_bar\",\n            // external: myNativeAddon.getSharedState()\n          },\n        );\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Basic SQL Queries with Template Literals in TypeScript\nDESCRIPTION: Demonstrates basic SELECT queries using Bun's SQL tagged template literals with parameterized values for safe query construction.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql } from \"bun\";\n\nconst users = await sql`\n  SELECT * FROM users\n  WHERE active = ${true}\n  LIMIT ${10}\n`;\n\n// Select with multiple conditions\nconst activeUsers = await sql`\n  SELECT * \n  FROM users \n  WHERE active = ${true} \n  AND age >= ${18}\n`;\n```\n\n----------------------------------------\n\nTITLE: Bulk Insert Operations in TypeScript\nDESCRIPTION: Demonstrates how to perform bulk insertions using arrays of objects with Bun's SQL client.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst users = [\n  { name: \"Alice\", email: \"alice@example.com\" },\n  { name: \"Bob\", email: \"bob@example.com\" },\n  { name: \"Charlie\", email: \"charlie@example.com\" },\n];\n\nawait sql`INSERT INTO users ${sql(users)}`;\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic TLS for Bun HTTP Server in TypeScript\nDESCRIPTION: This snippet shows how to set up basic TLS configuration for a Bun HTTP server. It uses the 'tls' key to specify the certificate and private key files, which are read using Bun.file().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/tls.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch: request => new Response(\"Welcome to Bun!\"),\n  tls: {\n    cert: Bun.file(\"cert.pem\"),\n    key: Bun.file(\"key.pem\"),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Compiled Output for LAB/Perceptual Color Spaces - Bun Bundler CSS\nDESCRIPTION: Bun generates layered fallbacks for modern color formats: RGB/hex for legacy browsers, P3 for wide-gamut support, and preserves original advanced functions. Output covers all levels of browser support without manual intervention. Applies to color and background properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_9\n\nLANGUAGE: css\nCODE:\n```\n.vibrant-element {\\n  /* Fallback to closest RGB approximation */\\n  color: #ff0f52;\\n  /* P3 fallback for browsers with wider gamut support */\\n  color: color(display-p3 1 0.12 0.37);\\n  /* Original value preserved for browsers that support it */\\n  color: lab(55% 78 35);\\n\\n  background: linear-gradient(to right, #cd4e15, #3887ab);\\n  background: linear-gradient(\\n    to right,\\n    oklch(65% 0.25 10deg),\\n    oklch(65% 0.25 250deg)\\n  );\\n}\n```\n\n----------------------------------------\n\nTITLE: Reading Output from Pointer and Writing to File in Bun (TypeScript)\nDESCRIPTION: Explains how to consume an FFI-encoded pointer (e.g., PNG data) by converting the pointer to an ArrayBuffer, creating a Uint8Array, and writing it to disk using Bun.write. Assumes the pointer is zero-terminated. Useful for outputting binary data from native code to files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nconst out = encode_png(\n  // pixels will be passed as a pointer\n  pixels,\n\n  // dimensions:\n  128,\n  128,\n);\n\n// assuming it is 0-terminated, it can be read like this:\nlet png = new Uint8Array(toArrayBuffer(out));\n\n// save it to disk:\nawait Bun.write(\"out.png\", png);\n\n```\n\n----------------------------------------\n\nTITLE: Element Handler Operations in HTMLRewriter\nDESCRIPTION: Shows various element handler operations including attribute manipulation, content modification, and element positioning.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.on(\"div.content\", {\n  // Handle elements\n  element(element) {\n    element.setAttribute(\"class\", \"new-content\");\n    element.append(\"<p>New content</p>\", { html: true });\n  },\n  // Handle text nodes\n  text(text) {\n    text.replace(\"new text\");\n  },\n  // Handle comments\n  comments(comment) {\n    comment.remove();\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Scanning Directory with TypeScript Glob Pattern\nDESCRIPTION: Demonstrates how to scan a directory recursively for TypeScript files using Bun's Glob class.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Glob } from \"bun\";\n\nconst glob = new Glob(\"**/*.ts\");\n\n// Scans the current working directory and each of its sub-directories recursively\nfor await (const file of glob.scan(\".\")) {\n  console.log(file); // => \"index.ts\"\n}\n```\n\n----------------------------------------\n\nTITLE: Compressing and Decompressing Data with Bun DEFLATE\nDESCRIPTION: Shows how to compress a string into a Uint8Array using Bun.deflateSync() and decompress it back using Bun.inflateSync(). The example demonstrates the conversion between string data and compressed binary format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/deflate.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst data = Buffer.from(\"Hello, world!\");\nconst compressed = Bun.deflateSync(\"Hello, world!\");\n// => Uint8Array\n\nconst decompressed = Bun.inflateSync(compressed);\n// => Uint8Array\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Array of Numbers in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to an array of numbers: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nconst arr = await new Response(stream).bytes();\nArray.from(arr);\n\n// with Bun function\nArray.from(new Uint8Array(Bun.readableStreamToArrayBuffer(stream)));\n```\n\n----------------------------------------\n\nTITLE: Installing Tarball Dependencies with Bun\nDESCRIPTION: Commands and configuration for installing packages from tarball URLs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add zod@https://registry.npmjs.org/zod/-/zod-3.21.4.tgz\n```\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"zod\": \"https://registry.npmjs.org/zod/-/zod-3.21.4.tgz\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: IPC Between Bun and Node.js Processes in JavaScript\nDESCRIPTION: Shows how to set up IPC between a Bun process and a Node.js process using JSON serialization.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nif (typeof Bun !== \"undefined\") {\n  const prefix = `[bun ${process.versions.bun} 🐇]`;\n  const node = Bun.spawn({\n    cmd: [\"node\", __filename],\n    ipc({ message }) {\n      console.log(message);\n      node.send({ message: `${prefix} 👋 hey node` });\n      node.kill();\n    },\n    stdio: [\"inherit\", \"inherit\", \"inherit\"],\n    serialization: \"json\",\n  });\n\n  node.send({ message: `${prefix} 👋 hey node` });\n} else {\n  const prefix = `[node ${process.version}]`;\n  process.on(\"message\", ({ message }) => {\n    console.log(message);\n    process.send({ message: `${prefix} 👋 hey bun` });\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing an EdgeDB Project and Instance using the CLI\nDESCRIPTION: This command initializes a new EdgeDB project in the current directory. It walks the user through steps including instance naming, version selection, and creates project files (`edgedb.toml`, schema dir). Interactive prompts are presented for configuration; output includes confirmation and migration messages. Dependencies: EdgeDB CLI installed. Input: User responses to prompts. Output: Project configuration suitable for starting development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nedgedb project init\nNo `edgedb.toml` found in `/Users/colinmcd94/Documents/bun/fun/examples/my-edgedb-app` or above\nDo you want to initialize a new project? [Y/n]\n> Y\nSpecify the name of EdgeDB instance to use with this project [default: my_edgedb_app]:\n> my_edgedb_app\nChecking EdgeDB versions...\nSpecify the version of EdgeDB to use with this project [default: x.y]:\n> x.y\n┌─────────────────────┬────────────────────────────────────────────────────────────────────────┐\n│ Project directory   │ /Users/colinmcd94/Documents/bun/fun/examples/my-edgedb-app             │\n│ Project config      │ /Users/colinmcd94/Documents/bun/fun/examples/my-edgedb-app/edgedb.toml │\n│ Schema dir (empty)  │ /Users/colinmcd94/Documents/bun/fun/examples/my-edgedb-app/dbschema    │\n│ Installation method │ portable package                                                       │\n│ Version             │ x.y+6d5921b                                                            │\n│ Instance name       │ my_edgedb_app                                                          │\n└─────────────────────┴────────────────────────────────────────────────────────────────────────┘\nVersion x.y+6d5921b is already downloaded\nInitializing EdgeDB instance...\nApplying migrations...\nEverything is up to date. Revision initial\nProject initialized.\nTo connect to my_edgedb_app, run `edgedb`\n```\n\n----------------------------------------\n\nTITLE: Using Bail Option with Bun Test Runner\nDESCRIPTION: Shows how to replace Jest's bail configuration with Bun's CLI flag to stop testing after a certain number of failures.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --bail=3\n```\n\n----------------------------------------\n\nTITLE: Setting Headers on WebSocket Upgrade (TypeScript)\nDESCRIPTION: This example demonstrates how to attach additional headers to the `101 Switching Protocols` response during the WebSocket upgrade process using the `server.upgrade()` method. This can be used to set cookies or other headers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {\n    const sessionId = await generateSessionId();\n    server.upgrade(req, {\n      headers: {\n        \"Set-Cookie\": `SessionId=${sessionId}`,\n      },\n    });\n  },\n  websocket: {}, // handlers\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun S3Client for Cloudflare R2 - TypeScript\nDESCRIPTION: This snippet demonstrates how to instantiate Bun's S3Client for Cloudflare R2 by specifying the R2 endpoint containing the account ID. It requires the 'bun' package and valid access credentials. The bucket, accessKeyId, and secretAccessKey are passed in, and the endpoint format should match your Cloudflare R2 instance. No region parameter is required for R2 endpoints; ensure access credentials and bucket name are correct for connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\n// CloudFlare R2\nconst r2 = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n  endpoint: \\\"https://<account-id>.r2.cloudflarestorage.com\\\",\n});\n```\n\n----------------------------------------\n\nTITLE: Writing a Simple Bun Test in TypeScript\nDESCRIPTION: Provides an example TypeScript test file (`math.test.ts`) demonstrating the basic structure of a Bun test using the `test` function and `expect` assertions from the `bun:test` module. This specific test checks if the sum of 2 and 2 equals 4.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\n// math.test.ts\nimport { expect, test } from \"bun:test\";\n\ntest(\"2 + 2\", () => {\n  expect(2 + 2).toBe(4);\n});\n```\n\n----------------------------------------\n\nTITLE: Extracting Social Metadata from Webpages using Bun's HTMLRewriter in TypeScript\nDESCRIPTION: This code provides a function that extracts social media metadata (Open Graph tags, Twitter Card tags, and standard HTML elements) from a webpage URL. It defines an interface for social metadata, fetches the page content, and uses Bun's HTMLRewriter to efficiently parse the HTML and extract relevant tags. The function also handles relative image URLs by converting them to absolute URLs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/html-rewriter/extract-social-meta.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ninterface SocialMetadata {\n  title?: string;\n  description?: string;\n  image?: string;\n  url?: string;\n  siteName?: string;\n  type?: string;\n}\n\nasync function extractSocialMetadata(url: string): Promise<SocialMetadata> {\n  const metadata: SocialMetadata = {};\n  const response = await fetch(url);\n\n  const rewriter = new HTMLRewriter()\n    // Extract Open Graph meta tags\n    .on('meta[property^=\"og:\"]', {\n      element(el) {\n        const property = el.getAttribute(\"property\");\n        const content = el.getAttribute(\"content\");\n        if (property && content) {\n          // Convert \"og:image\" to \"image\" etc.\n          const key = property.replace(\"og:\", \"\") as keyof SocialMetadata;\n          metadata[key] = content;\n        }\n      },\n    })\n    // Extract Twitter Card meta tags as fallback\n    .on('meta[name^=\"twitter:\"]', {\n      element(el) {\n        const name = el.getAttribute(\"name\");\n        const content = el.getAttribute(\"content\");\n        if (name && content) {\n          const key = name.replace(\"twitter:\", \"\") as keyof SocialMetadata;\n          // Only use Twitter Card data if we don't have OG data\n          if (!metadata[key]) {\n            metadata[key] = content;\n          }\n        }\n      },\n    })\n    // Fallback to regular meta tags\n    .on('meta[name=\"description\"]', {\n      element(el) {\n        const content = el.getAttribute(\"content\");\n        if (content && !metadata.description) {\n          metadata.description = content;\n        }\n      },\n    })\n    // Fallback to title tag\n    .on(\"title\", {\n      text(text) {\n        if (!metadata.title) {\n          metadata.title = text.text;\n        }\n      },\n    });\n\n  // Process the response\n  await rewriter.transform(response).blob();\n\n  // Convert relative image URLs to absolute\n  if (metadata.image && !metadata.image.startsWith(\"http\")) {\n    try {\n      metadata.image = new URL(metadata.image, url).href;\n    } catch {\n      // Keep the original URL if parsing fails\n    }\n  }\n\n  return metadata;\n}\n\n// Example usage\nconst metadata = await extractSocialMetadata(\"https://bun.sh\");\nconsole.log(metadata);\n// {\n//   title: \"Bun — A fast all-in-one JavaScript runtime\",\n//   description: \"Bundle, transpile, install and run JavaScript & TypeScript projects — all in Bun. Bun is a fast all-in-one JavaScript runtime & toolkit designed for speed, complete with a bundler, test runner, and Node.js-compatible package manager.\",\n//   image: \"https://bun.sh/share.jpg\",\n//   type: \"website\",\n//   ...\n// }\n```\n\n----------------------------------------\n\nTITLE: Error Handling in Bun Shell\nDESCRIPTION: Demonstrates how to handle errors in Bun Shell commands using try-catch and the ShellError object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\ntry {\n  const output = await $`something-that-may-fail`.text();\n  console.log(output);\n} catch (err) {\n  console.log(`Failed with code ${err.exitCode}`);\n  console.log(err.stdout.toString());\n  console.log(err.stderr.toString());\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Set-Cookie Headers from CookieMap\nDESCRIPTION: Example of using toSetCookieHeaders() to get Set-Cookie header values from a CookieMap in a Node.js HTTP server context.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nimport { createServer } from \"node:http\";\nimport { CookieMap } from \"bun\";\n\nconst server = createServer((req, res) => {\n  const cookieHeader = req.headers.cookie || \"\";\n  const cookies = new CookieMap(cookieHeader);\n\n  cookies.set(\"view-count\", Number(cookies.get(\"view-count\") || \"0\") + 1);\n  cookies.delete(\"session\");\n\n  res.writeHead(200, {\n    \"Content-Type\": \"text/plain\",\n    \"Set-Cookie\": cookies.toSetCookieHeaders(),\n  });\n  res.end(`Found ${cookies.size} cookies`);\n});\n\nserver.listen(3000, () => {\n  console.log(\"Server running at http://localhost:3000/\");\n});\n```\n\n----------------------------------------\n\nTITLE: Converting Entire ArrayBuffer to Buffer using Buffer.from() (TypeScript)\nDESCRIPTION: This snippet demonstrates the basic conversion of a JavaScript `ArrayBuffer` into a Node.js `Buffer`. It initializes an `ArrayBuffer` of 64 bytes and then uses the static `Buffer.from(arrayBuffer)` method to create a new `Buffer` instance that references the same underlying memory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-buffer.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst arrBuffer = new ArrayBuffer(64);\nconst nodeBuffer = Buffer.from(arrBuffer);\n```\n\n----------------------------------------\n\nTITLE: Configuring Workspaces in package.json\nDESCRIPTION: Example `package.json` demonstrating how to define workspaces using the `workspaces` field. This allows Bun to manage dependencies for multiple packages within a monorepo structure, pointing to directories containing sub-packages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-app\",\n  \"version\": \"1.0.0\",\n  \"workspaces\": [\"packages/*\"],\n  \"dependencies\": {\n    \"preact\": \"^10.5.13\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating and Running an Elysia Project with Bun (Bash)\nDESCRIPTION: This Bash script demonstrates the commands to initialize a new Elysia project named 'myapp' using `bun create elysia`, navigate into the created project directory, and start the development server using `bun run dev`. These commands require Bun to be installed on the system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/elysia.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create elysia myapp\n$ cd myapp\n$ bun run dev\n```\n\n----------------------------------------\n\nTITLE: Type-Safe Route Parameters in Bun.serve\nDESCRIPTION: Implementation of type-safe route parameters in Bun.serve that provides autocomplete support in TypeScript when accessing request.params. Shows both implicit and explicit type parameter passing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { BunRequest } from \"bun\";\n\nBun.serve({\n  routes: {\n    // TypeScript knows the shape of params when passed as a string literal\n    \"/orgs/:orgId/repos/:repoId\": req => {\n      const { orgId, repoId } = req.params;\n      return Response.json({ orgId, repoId });\n    },\n\n    \"/orgs/:orgId/repos/:repoId/settings\": (\n      // optional: you can explicitly pass a type to BunRequest:\n      req: BunRequest<\"/orgs/:orgId/repos/:repoId/settings\">,\n    ) => {\n      const { orgId, repoId } = req.params;\n      return Response.json({ orgId, repoId });\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Importing and Using Bun.color Macro in TypeScript\nDESCRIPTION: This TypeScript code imports the `color` function from Bun specifically as a macro. It then calls this macro with a CSS hex color (`#f00`) and the format type (`\"css\"`), logging the result. This code is designed to be processed by the Bun bundler, which will evaluate the macro at build time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\n```ts#client-side.ts\nimport { color } from \"bun\" with { type: \"macro\" };\n\nconsole.log(color(\"#f00\", \"css\"));\n```\n```\n\n----------------------------------------\n\nTITLE: Using Bun.sleepSync() for Synchronous Delays\nDESCRIPTION: Shows how to use Bun.sleepSync() to create blocking synchronous delays in code execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"hello\");\nBun.sleepSync(1000); // blocks thread for one second\nconsole.log(\"hello one second later!\");\n```\n\n----------------------------------------\n\nTITLE: Building with Code Splitting - Bun CLI - CLI\nDESCRIPTION: Shows enabling code splitting with the Bun CLI. Includes splitting flag, causing shared code to be output as separate chunks, reducing duplication. Bun CLI must be available; outputs multiple files in the specified directory if code is shared between entrypoints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_26\n\nLANGUAGE: CLI\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --splitting\n```\n\n----------------------------------------\n\nTITLE: Creating Bun.Cookie Instances\nDESCRIPTION: Different ways to create a Bun.Cookie instance, including basic cookies, cookies with options, parsing from a cookie string, and creating from option objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Cookie } from \"bun\";\n\n// Create a basic cookie\nconst cookie = new Bun.Cookie(\"name\", \"value\");\n\n// Create a cookie with options\nconst secureSessionCookie = new Bun.Cookie(\"session\", \"abc123\", {\n  domain: \"example.com\",\n  path: \"/admin\",\n  expires: new Date(Date.now() + 86400000), // 1 day\n  httpOnly: true,\n  secure: true,\n  sameSite: \"strict\",\n});\n\n// Parse from a cookie string\nconst parsedCookie = new Bun.Cookie(\"name=value; Path=/; HttpOnly\");\n\n// Create from an options object\nconst objCookie = new Bun.Cookie({\n  name: \"theme\",\n  value: \"dark\",\n  maxAge: 3600,\n  secure: true,\n});\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to TypedArray in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to a TypedArray (Int8Array in this example): the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nconst buf = await new Response(stream).arrayBuffer();\nnew Int8Array(buf);\n\n// with Bun function\nnew Int8Array(Bun.readableStreamToArrayBuffer(stream));\n```\n\n----------------------------------------\n\nTITLE: Building a Bundle with JavaScript API\nDESCRIPTION: This code demonstrates creating a bundle using Bun's JavaScript API, specifying entry points and output directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n})\n```\n\n----------------------------------------\n\nTITLE: Running Query Script and Displaying Results (Shell)\nDESCRIPTION: Executes the updated `index.ts` script (which now queries the `movies` table) using `bun run`. The output displays an array of JavaScript objects, each representing a row fetched from the `movies` table, including `id`, `title`, and `releaseYear`. Assumes `index.ts` has been updated as per the previous snippet, and the database has been seeded.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_12\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run index.ts\nbun run index.ts\n[\n  {\n    id: 1,\n    title: \"The Matrix\",\n    releaseYear: 1999\n  }, {\n    id: 2,\n    title: \"The Matrix Reloaded\",\n    releaseYear: 2003\n  }, {\n    id: 3,\n    title: \"The Matrix Revolutions\",\n    releaseYear: 2003\n  }\n]\n```\n\n----------------------------------------\n\nTITLE: Configuring S3Client for AWS S3\nDESCRIPTION: Shows how to configure the S3Client specifically for AWS S3, which is the default service. Demonstrates using region or endpoint options for AWS S3.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\n// AWS S3\nconst s3 = new S3Client({\n  accessKeyId: \"access-key\",\n  secretAccessKey: \"secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // region: \"us-east-1\",\n});\n```\n\n----------------------------------------\n\nTITLE: Adding a Linked Package to Dependencies - package.json - JSON-Diff\nDESCRIPTION: This snippet demonstrates modifying the dependencies in a project's package.json to specify a linked package using Bun's special 'link:' version specifier. The addition triggers Bun to symlink the package from the local registry instead of installing from npm. Dependency: Bun CLI. Key parameters: dependency field, package name, version specifier. Inputs: package.json structure before and after; Output: modified dependencies entry for the linked package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/link.md#2025-04-22_snippet_2\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\\n    \"name\": \"my-app\",\\n    \"version\": \"1.0.0\",\\n    \"dependencies\": {\\n+     \"cool-pkg\": \"link:cool-pkg\"\\n    }\\n  }\n```\n\n----------------------------------------\n\nTITLE: Reading File to ArrayBuffer with Bun\nDESCRIPTION: Demonstrates loading a file into an ArrayBuffer using Bun.file(). The BunFile class extends Blob and provides lazy file reading capabilities in various formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nconst buffer = await file.arrayBuffer();\n```\n\n----------------------------------------\n\nTITLE: Executing Code from Stdin with Bun Run -\nDESCRIPTION: Demonstrates using `bun run -` to execute JavaScript code piped directly from standard input (stdin) via the `echo` command. This avoids the need to write the code to a temporary file before execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\n$ echo \"console.log('Hello')\" | bun run -\nHello\n```\n\n----------------------------------------\n\nTITLE: Implementing Range Requests for File Streaming in Bun\nDESCRIPTION: Demonstrates how to implement HTTP range requests to stream partial file content. This example parses the Range header and uses the slice() method on a BunFile object to return only the requested portion of a file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req) {\n    // parse `Range` header\n    const [start = 0, end = Infinity] = req.headers\n      .get(\"Range\") // Range: bytes=0-100\n      .split(\"=\") // [\"Range: bytes\", \"0-100\"]\n      .at(-1) // \"0-100\"\n      .split(\"-\") // [\"0\", \"100\"]\n      .map(Number); // [0, 100]\n\n    // return a slice of the file\n    const bigFile = Bun.file(\"./big-video.mp4\");\n    return new Response(bigFile.slice(start, end));\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Adding Git Dependencies with Various Protocols using Bun\nDESCRIPTION: These commands demonstrate different ways to add Git dependencies using Bun, including HTTPS, SSH, and GitHub shorthand. They also show how to specify a particular version or branch.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-git.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add git+https://github.com/lodash/lodash.git\n$ bun add git+ssh://github.com/lodash/lodash.git#4.17.21\n$ bun add git@github.com:lodash/lodash.git\n$ bun add github:colinhacks/zod\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript for Bun Projects\nDESCRIPTION: TypeScript configuration in tsconfig.json needed for Bun compatibility. This includes setting the module resolution strategy to 'bundler' and enabling ESNext features.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"compilerOptions\": {\n    \"lib\": [\"ESNext\"],\n    \"target\": \"ESNext\",\n    \"module\": \"ESNext\",\n    \"moduleDetection\": \"force\",\n    \"moduleResolution\": \"bundler\",\n    \"allowImportingTsExtensions\": true,\n    \"verbatimModuleSyntax\": true,\n    \"noEmit\": true,\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Artifacts Registry Using Environment Variable for Bun Install\nDESCRIPTION: This bash command shows how to set the NPM_CONFIG_REGISTRY environment variable to configure Azure Artifacts without using bunfig.toml. It includes the registry URL with username and password as query parameters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/azure-artifacts.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nNPM_CONFIG_REGISTRY=https://pkgs.dev.azure.com/my-azure-artifacts-user/_packaging/my-azure-artifacts-user/npm/registry/:username=<USERNAME>:_password=<PASSWORD>\n```\n\n----------------------------------------\n\nTITLE: Reading individual bytes from multi-byte values with DataView\nDESCRIPTION: Demonstrates how to access individual bytes that make up a multi-byte value previously written to an ArrayBuffer. This shows the flexibility of DataView for working with binary data at different granularities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nconsole.log(dv.getUint8(1)); // => 2\nconsole.log(dv.getUint8(2)); // => 1\n```\n\n----------------------------------------\n\nTITLE: Escaping HTML special characters with Bun.escapeHTML()\nDESCRIPTION: Demonstrates how to use Bun.escapeHTML() to safely escape HTML special characters in a string. The function converts characters like quotes, ampersands, and angle brackets to their HTML entity equivalents, making the content safe to include in HTML documents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/escape-html.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.escapeHTML(\"<script>alert('Hello World!')</script>\");\n// &lt;script&gt;alert(&#x27;Hello World!&#x27;)&lt;&#x2F;script&gt;\n```\n\n----------------------------------------\n\nTITLE: Creating an Optimized Direct ReadableStream\nDESCRIPTION: Illustrates Bun's optimized direct ReadableStream implementation that avoids unnecessary data copying and queue management. Uses the controller.write method instead of enqueue.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream({\n  type: \"direct\",\n  pull(controller) {\n    controller.write(\"hello\");\n    controller.write(\"world\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Basic Snapshot Testing in TypeScript with Bun\nDESCRIPTION: Demonstrates basic snapshot testing using the toMatchSnapshot() matcher. The test compares a string value against a saved snapshot stored in a __snapshots__ directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/snapshots.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"snap\", () => {\n  expect(\"foo\").toMatchSnapshot();\n});\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Blob using Bun utility\nDESCRIPTION: This snippet demonstrates how to use Bun's readableStreamToBlob function to convert a ReadableStream instance into a Blob object. The function returns a Promise that resolves to a Blob containing the entire contents of the stream.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-blob.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst blob = await Bun.readableStreamToBlob(stream);\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Prop Punning in JSX with Bun and React in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates two syntactic approaches to passing props into JSX components in Bun: the traditional explicit key-value assignment, and the Bun-supported prop punning shorthand for variables with matching prop names. No external dependencies aside from React and Bun's transpiler integration are required. The component expects a 'className' prop, and returns a div with the provided className using both syntaxes. This improves developer ergonomics and code brevity.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/react.md#2025-04-22_snippet_2\n\nLANGUAGE: TypeScript\nCODE:\n```\nfunction Div(props: {className: string;}) {\n  const {className} = props;\n\n  // without punning\n  return <div className={className} />;\n  // with punning\n  return <div {className} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStreams with Bun utility functions in TypeScript\nDESCRIPTION: Demonstrates Bun's convenience functions for consuming ReadableStream data and converting it to various formats. Shows examples for conversions to ArrayBuffer, Uint8Array, Blob, JSON, text, and more.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = (await fetch(\"https://bun.sh\")).body;\nstream; // => ReadableStream\n\nawait Bun.readableStreamToArrayBuffer(stream);\n// => ArrayBuffer\n\nawait Bun.readableStreamToBytes(stream);\n// => Uint8Array\n\nawait Bun.readableStreamToBlob(stream);\n// => Blob\n\nawait Bun.readableStreamToJSON(stream);\n// => object\n\nawait Bun.readableStreamToText(stream);\n// => string\n\n// returns all chunks as an array\nawait Bun.readableStreamToArray(stream);\n// => unknown[]\n\n// returns all chunks as a FormData object (encoded as x-www-form-urlencoded)\nawait Bun.readableStreamToFormData(stream);\n\n// returns all chunks as a FormData object (encoded as multipart/form-data)\nawait Bun.readableStreamToFormData(stream, multipartFormBoundary);\n```\n\n----------------------------------------\n\nTITLE: Composing Classes Using CSS Modules - CSS\nDESCRIPTION: This example demonstrates how to use the 'composes' property in a CSS Module to compose the '.button' class from a separate '.background' class within the same file. Bun will merge the composed class’s styles into the resulting class, allowing style reuse. No dependencies other than Bun's CSS modules support. Inputs: class selectors with 'composes' property; output: merged class definitions. Limitation: 'composes' must precede other properties and be applied only to single class selectors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_4\n\nLANGUAGE: css\nCODE:\n```\n/* styles.module.css */\n.button {\n  composes: background;\n  color: red;\n}\n\n.background {\n  background-color: blue;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Accessing Subset of ArrayBuffer with Uint8Array Offset and Length in TypeScript\nDESCRIPTION: Shows how a Uint8Array can be initialized as a view over a subset of an existing ArrayBuffer by specifying the byteOffset and byteLength parameters. The arr.buffer property returns the full ArrayBuffer (64 bytes), while arr.byteOffset and arr.byteLength specify the view's start offset (16 bytes) and length (32 bytes), respectively. This technique is important for managing partial views over binary data, often used in parsing protocols or file formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-arraybuffer.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr = new Uint8Array(64, 16, 32);\narr.buffer; // => ArrayBuffer(64)\narr.byteOffset; // => 16\narr.byteLength; // => 32\n```\n\n----------------------------------------\n\nTITLE: Installing Sentry SDK for Bun\nDESCRIPTION: Command to install the Sentry Bun SDK package using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sentry.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add @sentry/bun\n```\n\n----------------------------------------\n\nTITLE: Getting Bytes Written with Bun.write() in TypeScript\nDESCRIPTION: This example shows that Bun.write() returns the number of bytes written to disk. It can be useful for confirming the amount of data written or for logging purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/basic.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"./file.txt\";\nconst bytes = await Bun.write(path, \"Lorem ipsum\");\n// => 11\n```\n\n----------------------------------------\n\nTITLE: Defining and Logging a React JSX Component with Bun in TypeScript\nDESCRIPTION: This TypeScript snippet defines a functional React component that accepts a message prop and renders it inside a styled H1. It demonstrates how JSX files are natively supported and transpiled by Bun, and also logs a React element to the console. Dependencies include Bun and React typings for TypeScript. The component expects a 'message' string prop, and the output displays the serialized JSX element in the Bun runtime, aiding debugging. Input is a single prop; output is the console representation of the JSX element.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/react.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nfunction Component(props: {message: string}) {\n  return (\n    <body>\n      <h1 style={{color: 'red'}}>{props.message}</h1>\n    </body>\n  );\n}\n\nconsole.log(<Component message=\"Hello world!\" />);\n```\n\n----------------------------------------\n\nTITLE: Utilizing Logical Properties for International Layouts - CSS\nDESCRIPTION: Illustrates how to leverage CSS logical properties to create layouts responsive to writing modes and directionality, with examples for both standard syntax and for browser fallback to physical properties. Requires understanding of logical vs. physical properties and may invoke a post-processing step via Bun for legacy browser support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_17\n\nLANGUAGE: css\nCODE:\n```\n.multilingual-component {\n  /* Margin that adapts to writing direction */\n  margin-inline-start: 1rem;\n\n  /* Padding that makes sense regardless of text direction */\n  padding-block: 1rem 2rem;\n\n  /* Border radius for the starting corner at the top */\n  border-start-start-radius: 4px;\n\n  /* Size that respects the writing mode */\n  inline-size: 80%;\n  block-size: auto;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* For left-to-right languages */\n.multilingual-component:dir(ltr) {\n  margin-left: 1rem;\n  padding-top: 1rem;\n  padding-bottom: 2rem;\n  border-top-left-radius: 4px;\n  width: 80%;\n  height: auto;\n}\n\n/* For right-to-left languages */\n.multilingual-component:dir(rtl) {\n  margin-right: 1rem;\n  padding-top: 1rem;\n  padding-bottom: 2rem;\n  border-top-right-radius: 4px;\n  width: 80%;\n  height: auto;\n}\n```\n\n----------------------------------------\n\nTITLE: Running Svelte Tests with Bun\nDESCRIPTION: Command to run the Svelte component tests using Bun's test runner, which will use the configured plugin to load and test the Svelte components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test\n```\n\n----------------------------------------\n\nTITLE: Creating TypedArray from Arrays and Other TypedArrays (JavaScript/TypeScript)\nDESCRIPTION: This code demonstrates constructing a new typed array (Uint8Array) from a plain array of numbers, allowing direct byte initialization. It also shows how a new typed array can be created as a copy of another typed array, which duplicates the existing buffer. No external libraries are needed; works wherever TypedArrays are available. The resulting Uint8Arrays contain either the source numbers or a copy of the source array's contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_11\n\nLANGUAGE: TypeScript\nCODE:\n```\n// from an array of numbers\nconst arr1 = new Uint8Array([0, 1, 2, 3, 4, 5, 6, 7]);\narr1[0]; // => 0;\narr1[7]; // => 7;\n\n// from another typed array\nconst arr2 = new Uint8Array(arr);\n```\n\n----------------------------------------\n\nTITLE: Creating and Applying EdgeDB Migrations using CLI (Shell)\nDESCRIPTION: This shell sequence demonstrates creating an initial database migration based on the schema and then applying it. Output details include file paths and migration summaries. Dependencies: EdgeDB CLI, defined schema. Input: None. Output: Migration file creation and schema applied on database instance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\nedgedb migration create\nCreated /Users/colinmcd94/Documents/bun/fun/examples/my-edgedb-app/dbschema/migrations/00001.edgeql, id: m1uwekrn4ni4qs7ul7hfar4xemm5kkxlpswolcoyqj3xdhweomwjrq\nedgedb migrate\nApplied m1uwekrn4ni4qs7ul7hfar4xemm5kkxlpswolcoyqj3xdhweomwjrq (00001.edgeql)\n```\n\n----------------------------------------\n\nTITLE: Fetching Local Files with file:// Protocol in TypeScript\nDESCRIPTION: Demonstrates how to fetch local files using the file:// protocol, which provides a consistent way to read local files using the fetch API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"file:///path/to/file.txt\");\nconst text = await response.text();\n```\n\n----------------------------------------\n\nTITLE: Start a WebSocket Server with Bun.serve (TypeScript)\nDESCRIPTION: This snippet demonstrates how to start a basic WebSocket server using Bun.serve(). It upgrades incoming HTTP requests to WebSocket connections and returns an error response if the upgrade fails. The websocket handler is initialized as an empty object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {\n    // upgrade the request to a WebSocket\n    if (server.upgrade(req)) {\n      return; // do not return a Response\n    }\n    return new Response(\"Upgrade failed\", { status: 500 });\n  },\n  websocket: {}, // handlers\n});\n```\n\n----------------------------------------\n\nTITLE: Simulating a Publish with Dry-Run using Bun CLI - Shell\nDESCRIPTION: Uses the `--dry-run` flag to simulate the package publishing process with Bun CLI. This action runs through all packaging steps and outputs what would happen, without actually uploading files to the registry. Useful for validating changes and troubleshooting without affecting registry state. Requires project structure and Bun; outputs indicative process details with no side effects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n$ bun publish --dry-run\n```\n\n----------------------------------------\n\nTITLE: Listing S3 Bucket Objects with S3Client.list\nDESCRIPTION: Shows how to list objects in an S3 bucket with pagination and filtering options using S3Client.list static method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\n// List (up to) 1000 objects in the bucket\nconst allObjects = await S3Client.list(null, credentials);\n\n// List (up to) 500 objects under `uploads/` prefix, with owner field for each object\nconst uploads = await S3Client.list({\n  prefix: 'uploads/',\n  maxKeys: 500,\n  fetchOwner: true,\n}, credentials);\n\n// Check if more results are available\nif (uploads.isTruncated) {\n  // List next batch of objects under `uploads/` prefix\n  const moreUploads = await S3Client.list({\n    prefix: 'uploads/',\n    maxKeys: 500,\n    startAfter: uploads.contents!.at(-1).key\n    fetchOwner: true,\n  }, credentials);\n}\n```\n\n----------------------------------------\n\nTITLE: Declaring a Mongoose Schema and Model - TypeScript\nDESCRIPTION: Defines the 'Animal' schema with 'name' and 'sound' fields, both required strings, and declares a 'speak' method for model instances that logs the sound. The snippet requires the 'mongoose' package and TypeScript environment. Inputs include attribute values for 'name' and 'sound', and it outputs a reusable Mongoose model and associated type. Designed for modular reuse by exporting from 'schema.ts'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/mongoose.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport * as mongoose from 'mongoose';\\n\\nconst animalSchema = new mongoose.Schema(\\n  {\\n    name: {type: String, required: true},\\n    sound: {type: String, required: true},\\n  },\\n  {\\n    methods: {\\n      speak() {\\n        console.log(\\`${this.sound}!\\`);\\n      },\\n    },\\n  }\\n);\\n\\nexport type Animal = mongoose.InferSchemaType<typeof animalSchema>;\\nexport const Animal = mongoose.model('Animal', animalSchema);\n```\n\n----------------------------------------\n\nTITLE: Sample Input Code for Inline Environment Variables - JavaScript\nDESCRIPTION: Shows example JavaScript where process.env values are referenced. These will be replaced by literals when built with env inlining. Input for illustrating environmental variable inlining functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_36\n\nLANGUAGE: JavaScript\nCODE:\n```\nconsole.log(process.env.FOO);\nconsole.log(process.env.BAZ);\n```\n\n----------------------------------------\n\nTITLE: Spawning Multiple Bun HTTP Server Instances as a Cluster\nDESCRIPTION: This script creates a cluster by spawning multiple instances of the HTTP server based on the number of CPU cores available. It handles proper process management by setting up event listeners to terminate all spawned processes when the main process exits.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/cluster.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { spawn } from \"bun\";\n\nconst cpus = navigator.hardwareConcurrency; // Number of CPU cores\nconst buns = new Array(cpus);\n\nfor (let i = 0; i < cpus; i++) {\n  buns[i] = spawn({\n    cmd: [\"bun\", \"./server.ts\"],\n    stdout: \"inherit\",\n    stderr: \"inherit\",\n    stdin: \"inherit\",\n  });\n}\n\nfunction kill() {\n  for (const bun of buns) {\n    bun.kill();\n  }\n}\n\nprocess.on(\"SIGINT\", kill);\nprocess.on(\"exit\", kill);\n```\n\n----------------------------------------\n\nTITLE: Creating SvelteKit Project with Bun\nDESCRIPTION: Interactive CLI command to create a new SvelteKit project using the Svelte CLI with Bun as the package manager. Shows the complete initialization process including template selection and TypeScript configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sveltekit.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bunx sv create my-app\n┌  Welcome to the Svelte CLI! (v0.5.7)\n│\n◇  Which template would you like?\n│  SvelteKit demo\n│\n◇  Add type checking with Typescript?\n│  Yes, using Typescript syntax\n│\n◆  Project created\n│\n◇  What would you like to add to your project?\n│  none\n│\n◇  Which package manager do you want to install dependencies with?\n│  bun\n│\n◇  Successfully installed dependencies\n│\n◇  Project next steps ─────────────────────────────────────────────────────╮\n│                                                                          │\n│  1: cd my-app                                                            │\n│  2: git init && git add -A && git commit -m \"Initial commit\" (optional)  │\n│  3: bun run dev -- --open                                                │\n│                                                                          │\n│  To close the dev server, hit Ctrl-C                                     │\n│                                                                          │\n│  Stuck? Visit us at https://svelte.dev/chat                              │\n│                                                                          │\n├──────────────────────────────────────────────────────────────────────────╯\n│\n└  You're all set!\n```\n\n----------------------------------------\n\nTITLE: Executing a JavaScript File with Bun Run\nDESCRIPTION: Shows the basic command `bun run <filename>` to execute a JavaScript source file (`index.js`) using the Bun runtime. This command is analogous to `node <file>` for Node.js environments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.js\n```\n\n----------------------------------------\n\nTITLE: Forcing Latest Version Update - Bun CLI --latest Flag - Shell\nDESCRIPTION: This shell command uses the Bun CLI's --latest flag to update all dependencies to their absolute latest versions, regardless of version constraints in the package.json. Bun and a valid package.json are required. This flag may install versions outside specified version ranges and should be used with caution, as it can introduce breaking changes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/update.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun update --latest\n```\n\n----------------------------------------\n\nTITLE: Inlining Environment Variables - env: \"inline\" - Bun JavaScript API - JavaScript\nDESCRIPTION: Demonstrates inlining all environment variables into the bundle by converting process.env.* references to their actual values using 'env: \"inline\"'. Requires setting the necessary environment variables before running the build process. Outputs files where environment variables are hard-coded as strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_34\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  env: \"inline\",\n})\n```\n\n----------------------------------------\n\nTITLE: Sleeping for a Fixed Duration Using Bun.sleep in TypeScript\nDESCRIPTION: This snippet demonstrates how to use the Bun.sleep method to pause execution for a specified number of milliseconds. In this example, it creates a 1-second delay.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/sleep.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// sleep for 1 second\nawait Bun.sleep(1000);\n```\n\n----------------------------------------\n\nTITLE: Basic Link Extraction using Bun HTMLRewriter\nDESCRIPTION: Demonstrates how to extract all href attributes from anchor tags in a webpage using Bun's HTMLRewriter. The function fetches a URL, processes the HTML content, and collects unique links in a Set.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/html-rewriter/extract-links.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nasync function extractLinks(url: string) {\n  const links = new Set<string>();\n  const response = await fetch(url);\n\n  const rewriter = new HTMLRewriter().on(\"a[href]\", {\n    element(el) {\n      const href = el.getAttribute(\"href\");\n      if (href) {\n        links.add(href);\n      }\n    },\n  });\n\n  // Wait for the response to be processed\n  await rewriter.transform(response).blob();\n  console.log([...links]); // [\"https://bun.sh\", \"/docs\", ...]\n}\n\n// Extract all links from the Bun website\nawait extractLinks(\"https://bun.sh\");\n```\n\n----------------------------------------\n\nTITLE: Setting Buffer Size for ArrayBufferSink\nDESCRIPTION: Shows how to set the highWaterMark option to control the internal buffer size of ArrayBufferSink, which can improve performance for small chunks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst sink = new Bun.ArrayBufferSink();\nsink.start({\n  highWaterMark: 1024 * 1024, // 1 MB\n});\n```\n\n----------------------------------------\n\nTITLE: Reading File Contents as String with Bun.file()\nDESCRIPTION: This snippet demonstrates how to use Bun.file() to create a BunFile instance and then read its contents as a string using the .text() method. The BunFile class extends Blob, allowing lazy reading of file content in various formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/string.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nconst file = Bun.file(path);\n\nconst text = await file.text();\n// string\n```\n\n----------------------------------------\n\nTITLE: Running interactive stdin example in Bun\nDESCRIPTION: This shell example shows the output of running the line-by-line stdin reader, demonstrating how it prompts for input and echoes back what the user types in an interactive loop.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/stdin.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun run index.ts\nType something: hello\nYou typed: hello\nType something: hello again\nYou typed: hello again\n```\n\n----------------------------------------\n\nTITLE: Writing String Data to File\nDESCRIPTION: Example of writing a string to a file using Bun.write.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst data = `It was the best of times, it was the worst of times.`;\nawait Bun.write(\"output.txt\", data);\n```\n\n----------------------------------------\n\nTITLE: Accessing Mock Function Call History in Bun Test\nDESCRIPTION: Shows how to access the mock function's call history and results through the .mock property, which tracks arguments and return values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-functions.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { mock } from \"bun:test\";\n\nconst random = mock((multiplier: number) => multiplier * Math.random());\n\nrandom(2);\nrandom(10);\n\nrandom.mock.calls;\n// [[ 2 ], [ 10 ]]\n\nrandom.mock.results;\n//  [\n//    { type: \"return\", value: 0.6533907460954099 },\n//    { type: \"return\", value: 0.6452713933037312 }\n//  ]\n```\n\n----------------------------------------\n\nTITLE: Creating a Svelte Loader Plugin for Bun\nDESCRIPTION: A plugin that enables loading Svelte components in Bun using the compiler. It configures the environment with happy-dom for testing and handles the compilation of .svelte files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\nimport { compile } from \"svelte/compiler\";\nimport { readFileSync } from \"fs\";\nimport { beforeEach, afterEach } from \"bun:test\";\nimport { GlobalRegistrator } from \"@happy-dom/global-registrator\";\n\nbeforeEach(async () => {\n  await GlobalRegistrator.register();\n});\n\nafterEach(async () => {\n  await GlobalRegistrator.unregister();\n});\n\nplugin({\n  name: \"svelte loader\",\n  setup(builder) {\n    builder.onLoad({ filter: /\\.svelte(\\?[^.]+)?$/ }, ({ path }) => {\n      try {\n        const source = readFileSync(\n          path.substring(\n            0,\n            path.includes(\"?\") ? path.indexOf(\"?\") : path.length\n          ),\n          \"utf-8\"\n        );\n\n        const result = compile(source, {\n          filename: path,\n          generate: \"client\",\n          dev: false,\n        });\n\n        return {\n          contents: result.js.code,\n          loader: \"js\",\n        };\n      } catch (err) {\n        throw new Error(`Failed to compile Svelte component: ${err.message}`);\n      }\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Checking Multiple Workspaces for Outdated Dependencies - Markdown\nDESCRIPTION: Shows how to pass multiple '--filter' flags to the terminal directive, simulating a check for outdated dependencies across several workspaces ('@monorepo/types' and '@monorepo/cli') using the 'glob' pattern '{e,t}*'. Useful in large monorepo projects managed by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_6\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal  glob=\"{e,t}*\" displayGlob=\"--filter @monorepo/types --filter @monorepo/cli\" /%}\n```\n\n----------------------------------------\n\nTITLE: Piping data to Bun's stdin stream example\nDESCRIPTION: This shell example demonstrates how to pipe data into a Bun process that reads from stdin as a stream, showing how the chunked input is processed and displayed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/stdin.md#2025-04-22_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\n$ echo \"hello\" | bun run stdin.ts\nChunk: hello\n```\n\n----------------------------------------\n\nTITLE: Implementing an interactive addition calculator using Bun's console in TypeScript\nDESCRIPTION: Shows a practical example of using Bun's console as an AsyncIterable to create an interactive addition calculator. The program continuously prompts for input, adds the entered number to a running total, and displays the updated count.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/console.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(`Let's add some numbers!`);\nconsole.write(`Count: 0\\n> `);\n\nlet count = 0;\nfor await (const line of console) {\n  count += Number(line);\n  console.write(`Count: ${count}\\n> `);\n}\n```\n\n----------------------------------------\n\nTITLE: Creating an ArrayBuffer in JavaScript\nDESCRIPTION: Creates a new ArrayBuffer with a capacity of 8 bytes. ArrayBuffer is a fundamental data structure that represents a fixed-length binary data buffer in memory, but doesn't provide direct read/write access to its contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\n// this buffer can store 8 bytes\nconst buf = new ArrayBuffer(8);\n```\n\n----------------------------------------\n\nTITLE: Using bun Shebang in a Script for Bun Runtime (Plain text)\nDESCRIPTION: Shows the use of a shebang pointing to 'bun' for scripts that must always run with the Bun runtime. Place this as the first line in an executable file. No further parameters or dependencies are required, apart from having Bun installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_7\n\nLANGUAGE: text\nCODE:\n```\n#!/usr/bin/env bun\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom JSX Factory and Fragment\nDESCRIPTION: Configuration for specifying both custom JSX factory and fragment factory functions, which control how JSX elements and fragments are transformed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_12\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"react\",\n  \"jsxFactory\": \"myjsx\",\n  \"jsxFragmentFactory\": \"MyFragment\"\n}\n```\n\n----------------------------------------\n\nTITLE: Plugin Configuration Access\nDESCRIPTION: Shows how to read and modify build configuration within a Bun plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: [\"./app.ts\"],\n  outdir: \"./dist\",\n  sourcemap: \"external\",\n  plugins: [\n    {\n      name: \"demo\",\n      setup(build) {\n        console.log(build.config.sourcemap); // \"external\"\n\n        build.config.minify = true; // enable minification\n\n        // `plugins` is readonly\n        console.log(`Number of plugins: ${build.config.plugins.length}`);\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Argon2 Hash Format Example in Bun\nDESCRIPTION: Demonstrates the PHC format used by Argon2 algorithm in Bun.password.hash. The format includes algorithm, version, memory cost, iterations, parallelism, salt, and hash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.password.hash(\"hello\", {\n  algorithm: \"argon2id\",\n});\n```\n\nLANGUAGE: sh\nCODE:\n```\n$argon2id$v=19$m=65536,t=2,p=1$xXnlSvPh4ym5KYmxKAuuHVlDvy2QGHBNuI6bJJrRDOs$2YY6M48XmHn+s5NoBaL+ficzXajq2Yj8wut3r0vnrwI\n```\n\n----------------------------------------\n\nTITLE: Preconnecting to a Host at Startup using Bun CLI Flag in Shell\nDESCRIPTION: This snippet demonstrates how to use the `--fetch-preconnect` command-line flag when running a Bun script. This instructs Bun to preconnect to the specified URL (performing DNS lookup, TCP connection, and TLS handshake) immediately upon application startup. This feature is analogous to `<link rel=\"preconnect\">` in HTML and requires the `bun` CLI. Note: This feature is currently not implemented on Windows.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_25\n\nLANGUAGE: sh\nCODE:\n```\n```sh\n$ bun --fetch-preconnect https://bun.sh ./my-script.ts\n```\n```\n\n----------------------------------------\n\nTITLE: Managing TCP Server Lifecycle\nDESCRIPTION: Shows how to control a TCP server after creation, including stopping the server and using unref() to allow the Bun process to exit even if the server is still active.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.listen({\n  /* config*/\n});\n\n// stop listening\n// parameter determines whether active connections are closed\nserver.stop(true);\n\n// let Bun process exit even if server is still listening\nserver.unref();\n```\n\n----------------------------------------\n\nTITLE: Running a NPM Package Executable via bunx (Shell - bash)\nDESCRIPTION: Demonstrates running an npm package executable ('cowsay') directly with bunx from the CLI. No explicit dependencies are required; bunx will fetch and execute the package as needed. The primary parameter is the command to execute and its arguments—here, the string 'Hello world!'. Output is the result of executing the npm package as a binary in the shell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx cowsay \"Hello world!\"\n```\n\n----------------------------------------\n\nTITLE: Implementing onResolve Callback in Bun Plugin\nDESCRIPTION: Example of using the onResolve callback in a Bun plugin. This callback allows custom module resolution logic, such as redirecting imports to different paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"onResolve example\",\n  setup(build) {\n    build.onResolve({ filter: /.*/, namespace: \"file\" }, args => {\n      if (args.path.startsWith(\"images/\")) {\n        return {\n          path: args.path.replace(\"images/\", \"./public/images/\"),\n        };\n      }\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Reading stderr as Text from a Child Process in Bun\nDESCRIPTION: This example shows how to capture and read the complete stderr output as text using Bun.readableStreamToText() utility. It waits for the child process to finish and converts the stderr stream to a string, allowing for error checking and handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn-stderr.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"hello\"], {\n  stderr: \"pipe\",\n});\n\nconst errors: string = await Bun.readableStreamToText(proc.stderr);\nif (errors) {\n  // handle errors\n}\n```\n\n----------------------------------------\n\nTITLE: Running Scripts with Bun\nDESCRIPTION: Examples of running package.json scripts, executables, and JavaScript/TypeScript files using bun command line interface.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n# Run a package.json script:\n$ bun my-script\n$ bun run my-script\n\n# Run an executable in node_modules/.bin:\n$ bun my-executable # such as tsc, esbuild, etc.\n$ bun run my-executable\n\n# Run a JavaScript/TypeScript file:\n$ bun ./index.ts\n```\n\n----------------------------------------\n\nTITLE: Executing the Database Migration Script using Bun (Shell)\nDESCRIPTION: Executes the `migrate.ts` script using `bun run`. This command applies the SQL changes defined in the migration files located in the `./drizzle` directory to the `sqlite.db` database. Assumes `migrate.ts` exists and the `drizzle` directory contains valid migration files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run migrate.ts\n```\n\n----------------------------------------\n\nTITLE: Converting File URLs to Absolute Paths with Bun.fileURLToPath()\nDESCRIPTION: Uses Bun.fileURLToPath() to convert a file:// URL to an absolute file path. This utility takes a file URL string as input and returns the corresponding absolute path as a string, which is useful for file system operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/file-url-to-path.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.fileURLToPath(\"file:///path/to/file.txt\");\n// => \"/path/to/file.txt\"\n```\n\n----------------------------------------\n\nTITLE: Creating Multiple Typed Array Views from a Single ArrayBuffer in TypeScript\nDESCRIPTION: Demonstrates creating various typed array instances (Uint8Array, Uint16Array, Uint32Array, Float32Array, Float64Array, BigInt64Array, BigUint64Array) that all share and provide different views (interpretations) of the same underlying 64-byte ArrayBuffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-typedarray.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nconst buffer = new ArrayBuffer(64);\n\nconst arr1 = new Uint8Array(buffer);\nconst arr2 = new Uint16Array(buffer);\nconst arr3 = new Uint32Array(buffer);\nconst arr4 = new Float32Array(buffer);\nconst arr5 = new Float64Array(buffer);\nconst arr6 = new BigInt64Array(buffer);\nconst arr7 = new BigUint64Array(buffer);\n```\n\n----------------------------------------\n\nTITLE: Basic JSX Syntax with Bun\nDESCRIPTION: Example of basic JSX syntax that Bun will transpile. This represents a simple React element creation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/react.md#2025-04-22_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\nconst element = <h1>Hello, world!</h1>;\n```\n\n----------------------------------------\n\nTITLE: Reading stdin as a stream using Bun.stdin in TypeScript\nDESCRIPTION: This snippet demonstrates how to read from stdin using Bun.stdin.stream() which provides raw chunk access to input data. It processes input as Uint8Array chunks and converts them to text, without guaranteeing line-by-line splitting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/stdin.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nfor await (const chunk of Bun.stdin.stream()) {\n  // chunk is Uint8Array\n  // this converts it to text (assumes ASCII encoding)\n  const chunkText = Buffer.from(chunk).toString();\n  console.log(`Chunk: ${chunkText}`);\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Max Payload Length (TypeScript)\nDESCRIPTION: This example demonstrates how to set the maximum payload length for WebSocket messages using the `maxPayloadLength` parameter. Connections receiving messages larger than the specified length will be closed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {}, // upgrade logic\n  websocket: {\n    maxPayloadLength: 1024 * 1024, // 1 MB\n\n    // ...\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Command Line Output from Sample Query (Shell Script)\nDESCRIPTION: Displays the expected output from running the sample index.ts query script. Output format matches what's printed by console.log in a typical Bun process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run index.ts\\n[\\n  {\\n    text: \"hello world\",\\n  }\\n]\n```\n\n----------------------------------------\n\nTITLE: Error Snapshot Testing in TypeScript with Bun\nDESCRIPTION: Demonstrates how to create snapshots of error messages using toThrowErrorMatchingSnapshot() and toThrowErrorMatchingInlineSnapshot() matchers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/snapshots.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"error snapshot\", () => {\n  expect(() => {\n    throw new Error(\"Something went wrong\");\n  }).toThrowErrorMatchingSnapshot();\n\n  expect(() => {\n    throw new Error(\"Another error\");\n  }).toThrowErrorMatchingInlineSnapshot();\n});\n```\n\n----------------------------------------\n\nTITLE: LAB and Perceptual Color Spaces in CSS - Bun Bundler\nDESCRIPTION: Demonstrates using advanced LAB/LCH/OKLAB/OKLCH color spaces and gradients for improved perceptual color uniformity. Inputs use lab() and oklch() functions. Bun outputs browser- and gamut-compatible fallbacks plus originals for progressive enhancement. No additional dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_8\n\nLANGUAGE: css\nCODE:\n```\n.vibrant-element {\\n  /* A vibrant red that exceeds sRGB gamut boundaries */\\n  color: lab(55% 78 35);\\n\\n  /* A smooth gradient using perceptual color space */\\n  background: linear-gradient(\\n    to right,\\n    oklch(65% 0.25 10deg),\\n    oklch(65% 0.25 250deg)\\n  );\\n}\n```\n\n----------------------------------------\n\nTITLE: Using Bun Global in TypeScript\nDESCRIPTION: This snippet demonstrates how to use the Bun global in a TypeScript file to log the Bun version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/typescript.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(Bun.version);\n```\n\n----------------------------------------\n\nTITLE: JSX Component Example in TypeScript\nDESCRIPTION: Illustrates a simple React-like component written in TypeScript with JSX syntax. This example shows how Bun supports .tsx files and can handle JSX transpilation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component(props: {message: string}) {\n  return (\n    <body>\n      <h1 style={{color: 'red'}}>{props.message}</h1>\n    </body>\n  );\n}\n\nconsole.log(<Component message=\"Hello world!\" />);\n```\n\n----------------------------------------\n\nTITLE: Reading Command Output as JSON in Bun Shell\nDESCRIPTION: Demonstrates how to read the output of a command as JSON using the .json() method in Bun Shell. This snippet shows executing an echo command and parsing its output as JSON.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst result = await $`echo '{\"foo\": \"bar\"}'`.json();\n\nconsole.log(result); // { foo: \"bar\" }\n```\n\n----------------------------------------\n\nTITLE: Redis Client Configuration in Bun\nDESCRIPTION: Illustrates how to configure a Redis client in Bun with various connection options, including timeouts, reconnection settings, and TLS options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new RedisClient(\"redis://localhost:6379\", {\n  // Connection timeout in milliseconds (default: 10000)\n  connectionTimeout: 5000,\n\n  // Idle timeout in milliseconds (default: 0 = no timeout)\n  idleTimeout: 30000,\n\n  // Whether to automatically reconnect on disconnection (default: true)\n  autoReconnect: true,\n\n  // Maximum number of reconnection attempts (default: 10)\n  maxRetries: 10,\n\n  // Whether to queue commands when disconnected (default: true)\n  enableOfflineQueue: true,\n\n  // Whether to automatically pipeline commands (default: true)\n  enableAutoPipelining: true,\n\n  // TLS options (default: false)\n  tls: true,\n  // Alternatively, provide custom TLS config:\n  // tls: {\n  //   rejectUnauthorized: true,\n  //   ca: \"path/to/ca.pem\",\n  //   cert: \"path/to/cert.pem\",\n  //   key: \"path/to/key.pem\",\n  // }\n});\n```\n\n----------------------------------------\n\nTITLE: Using Synchronous Child Process API in TypeScript\nDESCRIPTION: Demonstrates how to use the blocking Bun.spawnSync API to spawn a child process and retrieve its output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawnSync([\"echo\", \"hello\"]);\n\nconsole.log(proc.stdout.toString());\n// => \"hello\\n\"\n```\n\n----------------------------------------\n\nTITLE: Setting proxy via environment variables in Bun\nDESCRIPTION: Shows how to configure proxy servers using environment variables. Setting HTTPS_PROXY or HTTP_PROXY environment variables allows all fetch requests to route through the specified proxy server.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/proxy.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nHTTPS_PROXY=https://username:password@proxy.example.com:8080 bun run index.ts\n```\n\n----------------------------------------\n\nTITLE: Getting File Metadata with S3Client.stat\nDESCRIPTION: Demonstrates how to retrieve metadata including size, etag, and last modified date for an S3 file using S3Client.stat static method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_30\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\nconst stat = await S3Client.stat(\"my-file.txt\", credentials);\n```\n\n----------------------------------------\n\nTITLE: Configuring drop in Bun Build (JavaScript)\nDESCRIPTION: Removes function calls from bundles, such as console.log or debugger statements, including their arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_58\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  drop: [\"console\", \"debugger\", \"anyIdentifier.or.propertyAccess\"],\n})\n```\n\n----------------------------------------\n\nTITLE: Defining the Movie Type in EdgeDB Schema (ESDL/Text)\nDESCRIPTION: This EdgeDB schema snippet defines a `Movie` type within the default module. The type specifies a required string property `title` and an optional (or required, if modified) `releaseYear` of type int64. Dependencies: Valid EdgeDB schema file. Input: None. Output: Used by EdgeDB migrations and introspection to generate database structure. Limitations: Should be placed within `default.esdl`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_6\n\nLANGUAGE: txt\nCODE:\n```\nmodule default {\n  type Movie {\n    required title: str;\n    releaseYear: int64;\n  }\n};\n```\n\n----------------------------------------\n\nTITLE: Compiled Fallbacks for color() Usage - Bun Bundler CSS\nDESCRIPTION: Shows how Bun emits RGB-based fallbacks and progressive enhancement for color() usage. Ensures vivid colors display on new browsers while legacy browsers see close approximations. No dependencies; supports color and background-color properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_11\n\nLANGUAGE: css\nCODE:\n```\n.vivid-element {\\n  /* RGB fallback first for maximum compatibility */\\n  color: #fa1a4c;\\n  /* Keep original for browsers that support it */\\n  color: color(display-p3 1 0.1 0.3);\\n\\n  background-color: #6a805d;\\n  background-color: color(a98-rgb 0.44 0.5 0.37);\\n}\n```\n\n----------------------------------------\n\nTITLE: Controlling Transaction Modes in Bun SQLite (TypeScript)\nDESCRIPTION: Demonstrates how to specify transaction modes (BEGIN, BEGIN DEFERRED, BEGIN IMMEDIATE, BEGIN EXCLUSIVE) using Bun's transaction function variants, allowing explicit control over when locks are taken and isolation level within SQLite.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_26\n\nLANGUAGE: TypeScript\nCODE:\n```\ninsertCats(cats); // uses \"BEGIN\"\ninsertCats.deferred(cats); // uses \"BEGIN DEFERRED\"\ninsertCats.immediate(cats); // uses \"BEGIN IMMEDIATE\"\ninsertCats.exclusive(cats); // uses \"BEGIN EXCLUSIVE\"\n\n```\n\n----------------------------------------\n\nTITLE: Creating a Buffer View from an ArrayBuffer Slice (TypeScript)\nDESCRIPTION: This snippet shows how to create a Node.js `Buffer` that represents only a specific portion (slice) of an existing `ArrayBuffer`. It initializes a 64-byte `ArrayBuffer` and then uses the `Buffer.from(arrayBuffer, byteOffset, length)` overload to create a `Buffer` that views only the first 16 bytes of the original `ArrayBuffer`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-buffer.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nconst arrBuffer = new ArrayBuffer(64);\nconst nodeBuffer = Buffer.from(arrBuffer, 0, 16); // view first 16 bytes\n```\n\n----------------------------------------\n\nTITLE: Working with ArrayBuffer properties and slicing\nDESCRIPTION: Demonstrates how to check the size of an ArrayBuffer using byteLength property and create a new ArrayBuffer by slicing an existing one. These are the basic operations available directly on ArrayBuffer instances.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nconst buf = new ArrayBuffer(8);\nbuf.byteLength; // => 8\n\nconst slice = buf.slice(0, 4); // returns new ArrayBuffer\nslice.byteLength; // => 4\n```\n\n----------------------------------------\n\nTITLE: Converting DataView to String using TextDecoder (TypeScript)\nDESCRIPTION: This TypeScript snippet shows how to convert a DataView instance, assumed to contain ASCII-encoded text, into a JavaScript string. It utilizes the built-in TextDecoder class by creating an instance and calling its `decode` method with the DataView.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/dataview-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst dv: DataView = ...;\nconst decoder = new TextDecoder();\nconst str = decoder.decode(dv);\n```\n\n----------------------------------------\n\nTITLE: Defining Scoped Styles Using CSS Modules - CSS\nDESCRIPTION: This snippet shows how to create two distinct CSS Module files, each defining a \".button\" class with different color values. The purpose is to demonstrate how CSS Modules scope styles locally to avoid class name collisions. No dependencies or build prerequisites are needed other than Bun's bundler support. Key parameters are the file names and scoped class names. The inputs are CSS selectors with rules, and each file results in a unique identifier mapping for its classes when imported. Ensure to use the \".module.css\" extension for Bun to recognize them as CSS modules.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n/* styles.module.css */\n.button {\n  color: red;\n}\n\n/* other-styles.module.css */\n.button {\n  color: blue;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Publishing with Tag using Bun CLI - Shell\nDESCRIPTION: Demonstrates publishing a package with a specific tag (e.g., alpha) using the `--tag` flag. Both an explicit and the default tag (latest) will be applied. Useful for version management (like beta/alpha releases) in npm workflows. Requires Bun and configured registry access. The input is a valid project directory, and the result is a published package tagged on the npm registry.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ bun publish --tag alpha\n```\n\n----------------------------------------\n\nTITLE: Finalizing and Cleaning Up Query Statements with .finalize() (TypeScript)\nDESCRIPTION: Demonstrates explicit resource management by invoking .finalize() on a SQLite Statement object in Bun to free resources. Highlights that finalized statements cannot be reused, which is important for cleanup in performance-sensitive scenarios.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_16\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(\"SELECT title, year FROM movies\");\nconst movies = query.all();\nquery.finalize();\n\n```\n\n----------------------------------------\n\nTITLE: Enabling BigInt for Large Numbers in Bun SQL Client\nDESCRIPTION: Shows how to configure Bun's SQL client to return large numbers as BigInt instead of strings by setting the bigint option to true. This allows working with large integers as native JavaScript BigInt values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nconst sql = new SQL({\n  bigint: true,\n});\n\nconst [{ x }] = await sql`SELECT 9223372036854777 as x`;\n\nconsole.log(typeof x, x); // \"bigint\" 9223372036854777n\n```\n\n----------------------------------------\n\nTITLE: Setting Timeout and Kill Signal for Child Process in TypeScript\nDESCRIPTION: Shows how to set a timeout and specify a kill signal for a child process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\n// Kill the process after 5 seconds\nconst proc = Bun.spawn({\n  cmd: [\"sleep\", \"10\"],\n  timeout: 5000, // 5 seconds in milliseconds\n});\n\nawait proc.exited; // Will resolve after 5 seconds\n\n// Kill the process with SIGKILL after 5 seconds\nconst proc2 = Bun.spawn({\n  cmd: [\"sleep\", \"10\"],\n  timeout: 5000,\n  killSignal: \"SIGKILL\", // Can be string name or signal number\n});\n```\n\n----------------------------------------\n\nTITLE: Preloading Setup Files for Bun Tests using Bash\nDESCRIPTION: Shows how to use the `--preload` flag with `bun test` to execute a setup script (e.g., `./setup.ts` written in TypeScript) before any tests are run. This is commonly used for defining global lifecycle hooks (like `beforeAll`, `afterAll`) or other test environment initializations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test --preload ./setup.ts\n```\n\n----------------------------------------\n\nTITLE: Running Scripts Across Multiple Packages with --filter\nDESCRIPTION: Illustrates using the `--filter` argument with `bun run` in a monorepo setup. This example executes `<script>` only in packages whose names match the provided pattern ('ba*'), effectively targeting `bar` and `baz` but excluding `foo` in this scenario.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\nbun run --filter 'ba*' <script>\n```\n\n----------------------------------------\n\nTITLE: Estimating memory usage with estimateShallowMemoryUsageOf in JavaScript\nDESCRIPTION: Shows how to estimate the shallow memory usage of JavaScript objects in bytes using the estimateShallowMemoryUsageOf function from bun:jsc. Provides examples with different types of objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_31\n\nLANGUAGE: javascript\nCODE:\n```\nimport { estimateShallowMemoryUsageOf } from \"bun:jsc\";\n\nconst obj = { foo: \"bar\" };\nconst usage = estimateShallowMemoryUsageOf(obj);\nconsole.log(usage); // => 16\n\nconst buffer = Buffer.alloc(1024 * 1024);\nestimateShallowMemoryUsageOf(buffer);\n// => 1048624\n\nconst req = new Request(\"https://bun.sh\");\nestimateShallowMemoryUsageOf(req);\n// => 167\n\nconst array = Array(1024).fill({ a: 1 });\n// Arrays are usually not stored contiguously in memory, so this will not return a useful value (which isn't a bug).\nestimateShallowMemoryUsageOf(array);\n// => 16\n```\n\n----------------------------------------\n\nTITLE: Adding a Basic Dependency with Bun\nDESCRIPTION: Uses the 'bun add' command to add a package as a dependency. By default, this uses the caret (^) range specifier to allow minor and patch version updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod\n```\n\n----------------------------------------\n\nTITLE: Streaming Response Body with Async Iterators in TypeScript\nDESCRIPTION: Shows how to stream and process a response body using async iterators, allowing you to handle large responses chunk by chunk.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\");\n\nfor await (const chunk of response.body) {\n  console.log(chunk);\n}\n```\n\n----------------------------------------\n\nTITLE: Converting Relative URLs to Absolute URLs with Bun HTMLRewriter\nDESCRIPTION: Shows how to extract links from a webpage while converting relative URLs to absolute URLs using the URL constructor. The function handles URL resolution and maintains a collection of unique absolute URLs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/html-rewriter/extract-links.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nasync function extractLinksFromURL(url: string) {\n  const response = await fetch(url);\n  const links = new Set<string>();\n\n  const rewriter = new HTMLRewriter().on(\"a[href]\", {\n    element(el) {\n      const href = el.getAttribute(\"href\");\n      if (href) {\n        // Convert relative URLs to absolute\n        try {\n          const absoluteURL = new URL(href, url).href;\n          links.add(absoluteURL);\n        } catch {\n          links.add(href);\n        }\n      }\n    },\n  });\n\n  // Wait for the response to be processed\n  await rewriter.transform(response).blob();\n  return [...links];\n}\n\nconst websiteLinks = await extractLinksFromURL(\"https://example.com\");\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic ReadableStream in TypeScript\nDESCRIPTION: Demonstrates how to create a simple ReadableStream with the standard enqueue pattern. The controller enqueues data chunks and then closes the stream when finished.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream({\n  start(controller) {\n    controller.enqueue(\"hello\");\n    controller.enqueue(\"world\");\n    controller.close();\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Copying Files Efficiently with Bun.js\nDESCRIPTION: This snippet demonstrates how to use Bun.file() to create a Blob representing a file, and then use Bun.write() to efficiently copy it. On Linux, this uses the copy_file_range syscall, while on macOS it uses clonefile or fcopyfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst blob = Bun.file(\"input.txt\");\nawait Bun.write(\"output.txt\", blob);\n```\n\n----------------------------------------\n\nTITLE: Replacing global with globalThis using --define\nDESCRIPTION: This shell command shows how to use --define to replace all instances of 'global' with 'globalThis'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\nbun --define global=\"globalThis\" src/index.ts\n```\n\n----------------------------------------\n\nTITLE: Using Bun Shell Loader\nDESCRIPTION: Shows how to run Bun Shell scripts using the sh loader, which is only available when starting Bun itself.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run ./script.sh\n```\n\n----------------------------------------\n\nTITLE: Pipelining Queries within a Transaction using Bun SQL Client in TypeScript\nDESCRIPTION: Shows an alternative way to structure transactions using `sql.begin` by returning an array of query promises from the callback. This allows Bun's SQL client to potentially pipeline the execution of these queries within the transaction scope for optimized performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nawait sql.begin(async tx => {\n  return [\n    tx`INSERT INTO users (name) VALUES (${ \"Alice\" })`,\n    tx`UPDATE accounts SET balance = balance - 100 WHERE user_id = 1`,\n  ];\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Running initial Prisma migration\nDESCRIPTION: Command to generate and run the initial migration for the Prisma schema. This creates the database tables based on the defined models.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx prisma migrate dev --name init\nEnvironment variables loaded from .env\nPrisma schema loaded from prisma/schema.prisma\nDatasource \"db\": SQLite database \"dev.db\" at \"file:./dev.db\"\n\nSQLite database dev.db created at file:./dev.db\n\nApplying migration `20230928182242_init`\n\nThe following migration(s) have been created and applied from new schema changes:\n\nmigrations/\n  └─ 20230928182242_init/\n    └─ migration.sql\n\nYour database is now in sync with your schema.\n\n✔ Generated Prisma Client (v5.3.1) to ./node_modules/@prisma/client in 41ms\n```\n\n----------------------------------------\n\nTITLE: Listening for Worker Close Event\nDESCRIPTION: Example of listening for the 'close' event, which is emitted when a worker has been terminated. This is a Bun-specific extension not available in browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href);\n\nworker.addEventListener(\"close\", event => {\n  console.log(\"worker is being closed\");\n});\n```\n\n----------------------------------------\n\nTITLE: Creating a Memory-Optimized Worker with smol Mode\nDESCRIPTION: Example of creating a worker with reduced memory usage using the smol option, which sacrifices some performance for lower memory footprint.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nconst worker = new Worker(\"./i-am-smol.ts\", {\n  smol: true,\n});\n```\n\n----------------------------------------\n\nTITLE: Handling Both BeforeExit and Exit Events in Bun\nDESCRIPTION: Shows how to listen for both beforeExit (triggered when the event loop is empty) and exit events. This pattern is useful for performing cleanup operations before the process terminates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/os-signals.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.on(\"beforeExit\", code => {\n  console.log(`Event loop is empty!`);\n});\n\nprocess.on(\"exit\", code => {\n  console.log(`Process is exiting with code ${code}`);\n});\n```\n\n----------------------------------------\n\nTITLE: Using Callbacks with JSCallback in FFI\nDESCRIPTION: This snippet demonstrates how to use the JSCallback class from bun:ffi to create JavaScript callback functions that can be passed to C/FFI functions. It includes an example of creating a search callback and using it with a native library function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dlopen, JSCallback, ptr, CString } from \"bun:ffi\";\n\nconst {\n  symbols: { search },\n  close,\n} = dlopen(\"libmylib\", {\n  search: {\n    returns: \"usize\",\n    args: [\"cstring\", \"callback\"],\n  },\n});\n\nconst searchIterator = new JSCallback(\n  (ptr, length) => /hello/.test(new CString(ptr, length)),\n  {\n    returns: \"bool\",\n    args: [\"ptr\", \"usize\"],\n  },\n);\n\nconst str = Buffer.from(\"wwutwutwutwutwutwutwutwutwutwutut\\0\", \"utf8\");\nif (search(ptr(str), searchIterator)) {\n  // found a match!\n}\n\n// Sometime later:\nsetTimeout(() => {\n  searchIterator.close();\n  close();\n}, 5000);\n```\n\n----------------------------------------\n\nTITLE: Using Dynamic Passwords with Bun SQL Client in TypeScript\nDESCRIPTION: Demonstrates configuring the `bun:sql` client to use a dynamic password function. This function, which can be async as shown, is called when establishing a connection to retrieve the current password. This is useful for scenarios like rotating credentials or using authentication tokens (e.g., fetching a token via `signer.getAuthToken()`).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport { SQL } from \"bun\";\n\nconst sql = new SQL(url, {\n  // Other connection config\n  ...\n  // Password function for the database user\n  password: async () => await signer.getAuthToken(),\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Configuring Color Schemes with light-dark() - CSS\nDESCRIPTION: Demonstrates use of the proposed light-dark() CSS color function for seamless theme adaptation between light and dark color schemes, and how Bun's CSS bundler transpiles this to variable-based implementations for wider browser support. Requires CSS variables and may need a bundling step in environments that lack native light-dark() support. Parameters define colors for each scheme and tie into color-scheme property for system integration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_16\n\nLANGUAGE: css\nCODE:\n```\n:root {\n  /* Define color scheme support */\n  color-scheme: light dark;\n}\n\n.themed-component {\n  /* Automatically picks the right color based on system preference */\n  background-color: light-dark(#ffffff, #121212);\n  color: light-dark(#333333, #eeeeee);\n  border-color: light-dark(#dddddd, #555555);\n}\n\n/* Override system preference when needed */\n.light-theme {\n  color-scheme: light;\n}\n\n.dark-theme {\n  color-scheme: dark;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n:root {\n  --lightningcss-light: initial;\n  --lightningcss-dark: ;\n  color-scheme: light dark;\n}\n\n@media (prefers-color-scheme: dark) {\n  :root {\n    --lightningcss-light: ;\n    --lightningcss-dark: initial;\n  }\n}\n\n.light-theme {\n  --lightningcss-light: initial;\n  --lightningcss-dark: ;\n  color-scheme: light;\n}\n\n.dark-theme {\n  --lightningcss-light: ;\n  --lightningcss-dark: initial;\n  color-scheme: dark;\n}\n\n.themed-component {\n  background-color: var(--lightningcss-light, #ffffff)\n    var(--lightningcss-dark, #121212);\n  color: var(--lightningcss-light, #333333) var(--lightningcss-dark, #eeeeee);\n  border-color: var(--lightningcss-light, #dddddd)\n    var(--lightningcss-dark, #555555);\n}\n```\n\n----------------------------------------\n\nTITLE: Checking for HMR Availability in Bun\nDESCRIPTION: Shows how to check if the HMR API is available in the current environment. This pattern is used to conditionally execute HMR-related code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nif (import.meta.hot) {\n  // HMR APIs are available.\n}\n```\n\n----------------------------------------\n\nTITLE: Using --define flag in Bun for runtime and build\nDESCRIPTION: This snippet shows how to use the --define flag to set NODE_ENV to 'production' for both runtime execution and build process in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --define process.env.NODE_ENV=\"'production'\" src/index.ts # Runtime\n$ bun build --define process.env.NODE_ENV=\"'production'\" src/index.ts # Build\n```\n\n----------------------------------------\n\nTITLE: Writing to Standard Output\nDESCRIPTION: Example of writing file contents to stdout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst input = Bun.file(\"input.txt\");\nawait Bun.write(Bun.stdout, input);\n```\n\n----------------------------------------\n\nTITLE: onResolve Implementation Example\nDESCRIPTION: Example of implementing the onResolve lifecycle hook for custom module resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"onResolve example\",\n  setup(build) {\n    build.onResolve({ filter: /.*/, namespace: \"file\" }, args => {\n      if (args.path.startsWith(\"images/\")) {\n        return {\n          path: args.path.replace(\"images/\", \"./public/images/\"),\n        };\n      }\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Prepared Statements in Bun SQL Client\nDESCRIPTION: Shows how to disable the automatic creation of named prepared statements in Bun's SQL client by setting prepare: false in the connection options. This might be necessary when using PGBouncer, debugging query plans, or working with dynamic SQL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nconst sql = new SQL({\n  // ... other options ...\n  prepare: false, // Disable persisting named prepared statements on the server\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Bundler Plugins with bunfig.toml\nDESCRIPTION: Configuration for adding bundler plugins to Bun.serve() using the bunfig.toml file. This example adds TailwindCSS support to HTML routes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_12\n\nLANGUAGE: toml\nCODE:\n```\n[serve.static]\nplugins = [\"bun-plugin-tailwind\"]\n```\n\n----------------------------------------\n\nTITLE: Configuring a systemd Service File for Bun Applications\nDESCRIPTION: A template service file for running a Bun application as a system service. Includes settings for service type, user permissions, working directory, and restart policies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_1\n\nLANGUAGE: ini\nCODE:\n```\n[Unit]\n# describe the app\nDescription=My App\n# start the app after the network is available\nAfter=network.target\n\n[Service]\n# usually you'll use 'simple'\n# one of https://www.freedesktop.org/software/systemd/man/systemd.service.html#Type=\nType=simple\n# which user to use when starting the app\nUser=YOUR_USER\n# path to your application's root directory\nWorkingDirectory=/home/YOUR_USER/path/to/my-app\n# the command to start the app\n# requires absolute paths\nExecStart=/home/YOUR_USER/.bun/bin/bun run index.ts\n# restart policy\n# one of {no|on-success|on-failure|on-abnormal|on-watchdog|on-abort|always}\nRestart=always\n\n[Install]\n# start the app automatically\nWantedBy=multi-user.target\n```\n\n----------------------------------------\n\nTITLE: Manually generating Prisma Client\nDESCRIPTION: Command to manually regenerate the Prisma Client. This is useful after schema changes when you don't need to run a migration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx prisma generate\n```\n\n----------------------------------------\n\nTITLE: Using Environment Variables in bunfig.toml for Registry Authentication\nDESCRIPTION: This code example shows how to use environment variables in bunfig.toml for private registry authentication. Bun automatically loads environment variables from .env.local, .env.[NODE_ENV], and .env files, making it easy to store sensitive credentials securely.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/registry-scope.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\n\"@myorg3\" = { token = \"$npm_token\", url = \"https://registry.myorg.com/\" }\n```\n\n----------------------------------------\n\nTITLE: Packing and Publishing a Tarball Separately with Bun CLI - Shell\nDESCRIPTION: Illustrates the process of first packing a package into a tarball using `bun pm pack`, then publishing that tarball using `bun publish` with the path to the .tgz file. This workflow allows more control or inspection before publishing and can be used in CI/CD pipelines. When publishing from a tarball, lifecycle scripts are not executed. Requires Bun installation and a valid package structure. Inputs include the current project directory; outputs are the .tgz package file and a registry-published package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun pm pack\\n...\\n$ bun publish ./package.tgz\n```\n\n----------------------------------------\n\nTITLE: Running Migrations Using drizzle-orm Migrator (TypeScript)\nDESCRIPTION: Scripts database schema migrations using Drizzle ORM's migrator library, connecting to the Neon Postgres instance. Iterates through available migrations in the specified folder, handles errors, and offers feedback via logging. Requires a valid db export and the drizzle-orm/neon-http/migrator dependency.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\nimport { db } from './db';\\nimport { migrate } from \"drizzle-orm/neon-http/migrator\";\\n\\nconst main = async () => {\\n  try {\\n    await migrate(db, { migrationsFolder: \"drizzle\" });\\n    console.log(\"Migration completed\");\\n  } catch (error) {\\n    console.error(\"Error during migration:\", error);\\n    process.exit(1);\\n  }\\n};\\n\\nmain();\n```\n\n----------------------------------------\n\nTITLE: Accessing Environment Variables Using process.env in TypeScript\nDESCRIPTION: This snippet demonstrates how to access environment variables using the standard process.env object in Bun. In this example, it retrieves the value of API_TOKEN from the environment.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/read-env.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.env.API_TOKEN; // => \"secret\"\n```\n\n----------------------------------------\n\nTITLE: Parsing Command-line Arguments with util.parseArgs in TypeScript\nDESCRIPTION: Shows how to use the util.parseArgs function to convert raw command-line arguments into a structured object with typed values. This approach defines expected options with their types and handles both named options and positional arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/argv.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { parseArgs } from \"util\";\n\nconst { values, positionals } = parseArgs({\n  args: Bun.argv,\n  options: {\n    flag1: {\n      type: 'boolean',\n    },\n    flag2: {\n      type: 'string',\n    },\n  },\n  strict: true,\n  allowPositionals: true,\n});\n\nconsole.log(values);\nconsole.log(positionals);\n```\n\n----------------------------------------\n\nTITLE: Configuring TLS with Client Certificates in TypeScript\nDESCRIPTION: Shows how to use client certificates for TLS authentication in a fetch request by providing key and certificate files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nawait fetch(\"https://example.com\", {\n  tls: {\n    key: Bun.file(\"/path/to/key.pem\"),\n    cert: Bun.file(\"/path/to/cert.pem\"),\n    // ca: [Bun.file(\"/path/to/ca.pem\")],\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: HTML Form for File Upload with FormData\nDESCRIPTION: An HTML form that allows users to input their name and upload a profile picture. The form is configured to submit data to the '/action' endpoint using POST method with 'multipart/form-data' encoding.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/file-uploads.md#2025-04-22_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Form</title>\n  </head>\n  <body>\n    <form action=\"/action\" method=\"post\" enctype=\"multipart/form-data\">\n      <input type=\"text\" name=\"name\" placeholder=\"Name\" />\n      <input type=\"file\" name=\"profilePicture\" />\n      <input type=\"submit\" value=\"Submit\" />\n    </form>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Changing Environment Variables for Commands in Bun Shell\nDESCRIPTION: Demonstrates how to change environment variables for individual commands or globally using .env() and $.env.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\n$.env({ FOO: \"bar\" });\n\n// the globally-set $FOO\nawait $`echo $FOO`; // bar\n\n// the locally-set $FOO\nawait $`echo $FOO`.env({ FOO: \"baz\" }); // baz\n```\n\n----------------------------------------\n\nTITLE: Configuring a Child Process with Options in Bun\nDESCRIPTION: Shows how to spawn a child process with configuration options. This example demonstrates setting the working directory, environment variables, and an exit handler function that gets called when the process terminates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/spawn.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"echo\", \"Hello, world!\"], {\n  cwd: \"/tmp\",\n  env: { FOO: \"bar\" },\n  onExit(proc, exitCode, signalCode, error) {\n    // exit handler\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Calling SQLite3 Version Function with FFI in TypeScript\nDESCRIPTION: This snippet demonstrates how to use bun:ffi to call the sqlite3_libversion function from the SQLite3 library. It imports necessary functions from bun:ffi, opens the library, defines the function signature, and calls the function to print the SQLite3 version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dlopen, FFIType, suffix } from \"bun:ffi\";\n\n// `suffix` is either \"dylib\", \"so\", or \"dll\" depending on the platform\n// you don't have to use \"suffix\", it's just there for convenience\nconst path = `libsqlite3.${suffix}`;\n\nconst {\n  symbols: {\n    sqlite3_libversion, // the function to call\n  },\n} = dlopen(\n  path, // a library name or file path\n  {\n    sqlite3_libversion: {\n      // no arguments, returns a string\n      args: [],\n      returns: FFIType.cstring,\n    },\n  },\n);\n\nconsole.log(`SQLite 3 version: ${sqlite3_libversion()}`);\n```\n\n----------------------------------------\n\nTITLE: Initializing Bun SQL Client with Manual Configuration in TypeScript\nDESCRIPTION: Shows how to initialize the `bun:sql` client by providing a configuration object with properties for connection details (URL, hostname, port, database, credentials), pool settings (max connections, timeouts), SSL/TLS options, and connection lifecycle callbacks (`onconnect`, `onclose`). This allows for detailed control over the database connection behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport { SQL } from \"bun\";\n\nconst db = new SQL({\n  // Required\n  url: \"postgres://user:pass@localhost:5432/dbname\",\n\n  // Optional configuration\n  hostname: \"localhost\",\n  port: 5432,\n  database: \"myapp\",\n  username: \"dbuser\",\n  password: \"secretpass\",\n\n  // Connection pool settings\n  max: 20, // Maximum connections in pool\n  idleTimeout: 30, // Close idle connections after 30s\n  maxLifetime: 0, // Connection lifetime in seconds (0 = forever)\n  connectionTimeout: 30, // Timeout when establishing new connections\n\n  // SSL/TLS options\n  tls: true,\n  // tls: {\n  //   rejectUnauthorized: true,\n  //   requestCert: true,\n  //   ca: \"path/to/ca.pem\",\n  //   key: \"path/to/key.pem\",\n  //   cert: \"path/to/cert.pem\",\n  //   checkServerIdentity(hostname, cert) {\n  //     ...\n  //   },\n  // },\n\n  // Callbacks\n  onconnect: client => {\n    console.log(\"Connected to database\");\n  },\n  onclose: client => {\n    console.log(\"Connection closed\");\n  },\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Implementing onLoad Callback in Bun Plugin\nDESCRIPTION: Example of using the onLoad callback in a Bun plugin. This callback allows modification of module contents before they are parsed by Bun, such as transforming imports or generating dynamic content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"env plugin\",\n  setup(build) {\n    build.onLoad({ filter: /env/, namespace: \"file\" }, args => {\n      return {\n        contents: `export default ${JSON.stringify(process.env)}`,\n        loader: \"js\",\n      };\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Compressing and decompressing data with gzip in Bun using TypeScript\nDESCRIPTION: This snippet demonstrates how to compress a buffer using Bun.gzipSync() and then decompress it using Bun.gunzipSync(). Both functions work with Uint8Array data and return Uint8Array results.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/gzip.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst data = Buffer.from(\"Hello, world!\");\nconst compressed = Bun.gzipSync(data);\n// => Uint8Array\n\nconst decompressed = Bun.gunzipSync(compressed);\n// => Uint8Array\n```\n\n----------------------------------------\n\nTITLE: Importing JSON File in TypeScript using Import Attributes\nDESCRIPTION: This snippet shows how to import a JSON file in TypeScript using the Import Attributes syntax. It demonstrates accessing the same properties as in the standard import method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-json.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport data from \"./package.json\" with { type: \"json\" };\n\ndata.name; // => \"bun\"\ndata.version; // => \"1.0.0\"\ndata.author.name; // => \"John Dough\"\n```\n\n----------------------------------------\n\nTITLE: Writing ReadableStream to a File in TypeScript using Bun.write()\nDESCRIPTION: This snippet demonstrates how to write a ReadableStream to disk by first converting it to a Response object. The Bun.write() function is then used to write the Response to a file path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/stream.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream: ReadableStream = ...;\nconst path = \"./file.txt\";\nconst response = new Response(stream);\n\nawait Bun.write(path, response);\n```\n\n----------------------------------------\n\nTITLE: Converting ArrayBuffer to Typed Array\nDESCRIPTION: Shows how to convert an ArrayBuffer into a typed array (Int8Array) for binary data manipulation. The example demonstrates accessing array elements and length properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/arraybuffer.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst buffer = await file.arrayBuffer();\nconst bytes = new Int8Array(buffer);\n\nbytes[0];\nbytes.length;\n```\n\n----------------------------------------\n\nTITLE: Running a Simple Query with Drizzle and Neon (TypeScript)\nDESCRIPTION: Queries the database using Drizzle ORM with a raw SQL statement, printing results to the console. Demonstrates use of Drizzle's SQL tag and Bun's top-level await. Assumes a valid db export and successful Postgres connection. Outputs query result rows.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { db } from \"./db\";\\nimport { sql } from \"drizzle-orm\";\\n\\nconst query = sql`select 'hello world' as text`;\\nconst result = await db.execute(query);\\nconsole.log(result.rows);\n```\n\n----------------------------------------\n\nTITLE: Running the Express Server with Bun (Shell)\nDESCRIPTION: Executes the TypeScript server file (`server.ts`) using the Bun runtime. This command starts the HTTP server defined in the script, making it accessible (typically on `localhost:8080` based on the example). Requires Bun to be installed and the `server.ts` file to exist.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/express.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun server.ts\n```\n\n----------------------------------------\n\nTITLE: Implementing onStart Callback in Bun Plugin\nDESCRIPTION: Example of using the onStart callback in a Bun plugin. This callback is executed when the bundler starts a new bundle and can be used for initialization tasks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"onStart example\",\n\n  setup(build) {\n    build.onStart(() => {\n      console.log(\"Bundle started!\");\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Resolving file paths with Bun.resolveSync() in TypeScript\nDESCRIPTION: Shows how to resolve file paths or module specifiers using Bun's internal module resolution algorithm. Examples demonstrate resolving relative paths and node modules.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nBun.resolveSync(\"./foo.ts\", \"/path/to/project\");\n// => \"/path/to/project/foo.ts\"\n\nBun.resolveSync(\"zod\", \"/path/to/project\");\n// => \"/path/to/project/node_modules/zod/index.ts\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Postgres Connection String for Neon (Shell Environment Variable)\nDESCRIPTION: Shows how to declare a Neon Postgres database connection string in a .env.local file, required by the Neon serverless driver. Expects real credentials for production. Input and output are managed by Bun's dotenv support; constraints require correct URL format and credentials.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nDATABASE_URL=postgresql://username:password@ep-adj-noun-guid.us-east-1.aws.neon.tech/neondb?sslmode=require\n```\n\n----------------------------------------\n\nTITLE: Running TypeScript with Prisma using Bun\nDESCRIPTION: Command output showing how to run the TypeScript file with Bun and demonstrates the results of multiple executions. Each run creates a new user and shows the updated count.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.ts\nCreated john-0.12802932895402364@example.com\nThere are 1 users in the database.\n$ bun run index.ts\nCreated john-0.8671308799782803@example.com\nThere are 2 users in the database.\n$ bun run index.ts\nCreated john-0.4465968383115295@example.com\nThere are 3 users in the database.\n```\n\n----------------------------------------\n\nTITLE: Recursive Directory Reading\nDESCRIPTION: Shows how to recursively read directory contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport { readdir } from \"node:fs/promises\";\n\n// read all the files in the current directory, recursively\nconst files = await readdir(\"../\", { recursive: true });\n```\n\n----------------------------------------\n\nTITLE: Processing Command Output Line by Line with Bun Shell\nDESCRIPTION: This snippet demonstrates how to process each line of a command's output separately using the `lines()` method, which returns an async iterable of lines that can be used with a for-await loop.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/shell.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { $ } from \"bun\";\n\nfor await (const line of $`ls -l`.lines()) {\n  console.log(line);\n}\n```\n\n----------------------------------------\n\nTITLE: Publishing with One-Time Password (OTP) using Bun CLI - Shell\nDESCRIPTION: Demonstrates providing a one-time password directly in the publish command using the `--otp` flag, bypassing the prompt for interactive input. This is particularly useful in automated workflows and CI environments where manual entry isn't feasible. The command expects a valid 2FA code as a parameter, and, given correct credentials and permissions, publishes the package to the npm registry.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\n$ bun publish --otp 123456\n```\n\n----------------------------------------\n\nTITLE: Enabling Test Coverage in bunfig.toml\nDESCRIPTION: This snippet shows how to enable test coverage by default in bunfig.toml configuration. Setting coverage = true will make Bun always generate coverage reports when running tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n\n# always enable coverage\ncoverage = true\n```\n\n----------------------------------------\n\nTITLE: Worker Implementation in Standalone Executable\nDESCRIPTION: Example of implementing Web Workers in a compiled Bun application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"Hello from Bun!\");\n\n// Any of these will work:\nnew Worker(\"./my-worker.ts\");\nnew Worker(new URL(\"./my-worker.ts\", import.meta.url));\nnew Worker(new URL(\"./my-worker.ts\", import.meta.url).href);\n```\n\n----------------------------------------\n\nTITLE: Configuring Files to Exclude from Docker Build Context\nDESCRIPTION: This `.dockerignore` file lists files and directories that should be excluded from the Docker build context. This prevents unnecessary files (like `node_modules`, build artifacts, Git history, environment files, and editor configurations) from being sent to the Docker daemon and included in the image layers, improving build speed and security.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_1\n\nLANGUAGE: txt\nCODE:\n```\n#.dockerignore\nnode_modules\nDockerfile*\ndocker-compose*\n.dockerignore\n.git\n.gitignore\nREADME.md\nLICENSE\n.vscode\nMakefile\nhelm-charts\n.env\n.editorconfig\n.idea\ncoverage*\n```\n\n----------------------------------------\n\nTITLE: Proxying HTTP Requests with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to proxy an HTTP request through a specified proxy server by using the proxy option in fetch.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  proxy: \"http://proxy.com\",\n});\n```\n\n----------------------------------------\n\nTITLE: Setting HTTP Method for Presigned URLs\nDESCRIPTION: Shows how to set the HTTP method for a presigned URL using the method option. This allows for different operations like PUT, DELETE, GET, HEAD, and POST.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst url = s3file.presign({\n  method: \"PUT\",\n  // method: \"DELETE\",\n  // method: \"GET\",\n  // method: \"HEAD\",\n  // method: \"POST\",\n  // method: \"PUT\",\n});\n```\n\n----------------------------------------\n\nTITLE: Executing Node.js Spawn Benchmark Script in Bash\nDESCRIPTION: Shows the execution and output of a benchmark script (`spawn.node.mjs`) using Node.js (version 18.9.1) on an Apple M1 Max processor. It measures the performance of `spawnSync echo hi` for comparison with Bun, reporting an average time of 1.47 ms per iteration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_16\n\nLANGUAGE: bash\nCODE:\n```\n$ node spawn.node.mjs\ncpu: Apple M1 Max\nruntime: node v18.9.1 (arm64-darwin)\n\nbenchmark              time (avg)             (min … max)       p75       p99      p995\n--------------------------------------------------------- -----------------------------\nspawnSync echo hi    1.47 ms/iter     (1.14 ms … 2.64 ms)   1.57 ms   2.37 ms   2.52 ms\n```\n\n----------------------------------------\n\nTITLE: Configuring NPM Registry in bunfig.toml for Bun Install\nDESCRIPTION: This snippet demonstrates various ways to configure the npm registry in bunfig.toml for Bun install. It shows how to set a custom registry URL, add authentication tokens, and use username/password authentication.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/custom-registry.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# set default registry as a string\nregistry = \"https://registry.npmjs.org\"\n\n# if needed, set a token\nregistry = { url = \"https://registry.npmjs.org\", token = \"123456\" }\n\n# if needed, set a username/password\nregistry = \"https://username:password@registry.npmjs.org\"\n```\n\n----------------------------------------\n\nTITLE: Reading Command Output Line-by-Line in Bun Shell\nDESCRIPTION: Shows how to read the output of a command line-by-line using the .lines() method in Bun Shell. This snippet demonstrates iterating over the lines of output from an echo command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nfor await (let line of $`echo \"Hello World!\"`.lines()) {\n  console.log(line); // Hello World!\n}\n```\n\n----------------------------------------\n\nTITLE: Installing specific versions of Bun on Linux/Mac\nDESCRIPTION: This snippet demonstrates how to install a specific version of Bun on Linux and Mac using the install script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ curl -fsSL https://bun.sh/install | bash -s \"bun-v$BUN_LATEST_VERSION\"\n```\n\n----------------------------------------\n\nTITLE: Enabling Safe Integer Support for SQLite Queries in Bun (TypeScript)\nDESCRIPTION: Uses Bun's Database constructor option safeIntegers: true to return SQLite integer fields as BigInt in JavaScript, preventing loss of precision when dealing with 64-bit integers. Checks for value overflows when binding BigInts exceeding SQLite's 64-bit integer range.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_22\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database(\":memory:\", { safeIntegers: true });\nconst query = db.query(\n  `SELECT ${BigInt(Number.MAX_SAFE_INTEGER) + 102n} as max_int`,\n);\nconst result = query.get();\nconsole.log(result.max_int); // => 9007199254741093n\n\n```\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database(\":memory:\", { safeIntegers: true });\ndb.run(\"CREATE TABLE test (id INTEGER PRIMARY KEY, value INTEGER)\");\n\nconst query = db.query(\"INSERT INTO test (value) VALUES ($value)\");\n\ntry {\n  query.run({ $value: BigInt(Number.MAX_SAFE_INTEGER) ** 2n });\n} catch (e) {\n  console.log(e.message); // => BigInt value '81129638414606663681390495662081' is out of range\n}\n\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests in Watch Mode\nDESCRIPTION: Command to run Bun tests with the --watch flag to automatically re-run tests when source files change.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch test\n```\n\n----------------------------------------\n\nTITLE: Bun's first optimization step: Constant replacement\nDESCRIPTION: This diff shows how Bun replaces process.env.NODE_ENV with the string 'production' as the first step of optimization.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_2\n\nLANGUAGE: ts-diff\nCODE:\n```\n+ if (\"production\" === \"production\") {\n    console.log(\"Production mode\");\n  } else {\n    console.log(\"Development mode\");\n  }\n```\n\n----------------------------------------\n\nTITLE: Deleting Directory Recursively with Force Option in TypeScript\nDESCRIPTION: This snippet demonstrates how to delete a directory and all its contents using the 'rm' function from node:fs/promises. It uses the recursive and force options to ensure complete deletion without errors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/delete-directory.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { rm } from \"node:fs/promises\";\n\n// Delete a directory and all its contents\nawait rm(\"path/to/directory\", { recursive: true, force: true });\n```\n\n----------------------------------------\n\nTITLE: Writing DOM Tests with Bun and Happy DOM\nDESCRIPTION: Example test file showing how to write DOM-based tests using Happy DOM's mocked browser APIs\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/happy-dom.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"set button text\", () => {\n  document.body.innerHTML = `<button>My button</button>`;\n  const button = document.querySelector(\"button\");\n  expect(button?.innerText).toEqual(\"My button\");\n});\n```\n\n----------------------------------------\n\nTITLE: Converting a Blob to a String using .text() in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates how to convert the contents of a `Blob` object into a string. It first creates a `Blob` containing \"hello world\", then uses the asynchronous `text()` method, which returns a Promise resolving to the string representation of the Blob's content. This is a standard method available on the Blob API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/blob-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst blob = new Blob([\"hello world\"]);\nconst str = await blob.text();\n// => \"hello world\"\n```\n\n----------------------------------------\n\nTITLE: Using the Shorthand Bun Command for File Execution\nDESCRIPTION: Demonstrates the alternative \"naked\" command syntax (`bun <filename>`) which behaves identically to `bun run <filename>` for executing source files like `index.tsx` and `index.js`. This provides a more concise way to run files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun index.tsx\n$ bun index.js\n```\n\n----------------------------------------\n\nTITLE: Getting Mocked Time with jest.now() in bun:test\nDESCRIPTION: Shows how to use jest.now() to retrieve the current mocked timestamp directly when using fake timers, without creating a new Date object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, jest } from \"bun:test\";\n\ntest(\"get the current mocked time\", () => {\n  jest.useFakeTimers();\n  jest.setSystemTime(new Date(\"2020-01-01T00:00:00.000Z\"));\n  \n  expect(Date.now()).toBe(1577836800000); // Jan 1, 2020 timestamp\n  expect(jest.now()).toBe(1577836800000); // Same value\n  \n  jest.useRealTimers();\n});\n```\n\n----------------------------------------\n\nTITLE: Test with Timeout\nDESCRIPTION: Demonstrates setting a custom timeout for a test case\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test } from \"bun:test\";\n\ntest(\"wat\", async () => {\n  const data = await slowOperation();\n  expect(data).toBe(42);\n}, 500);\n```\n\n----------------------------------------\n\nTITLE: TypeScript Import Variants\nDESCRIPTION: Shows different ways to import modules in TypeScript, including with and without file extensions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { hello } from \"./hello\";\nimport { hello } from \"./hello.ts\"; // this works\n```\n\n----------------------------------------\n\nTITLE: Disabling Runtime Transpiler Cache\nDESCRIPTION: Command to disable Bun's runtime transpiler cache for environments like Docker or ephemeral filesystems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_19\n\nLANGUAGE: sh\nCODE:\n```\nBUN_RUNTIME_TRANSPILER_CACHE_PATH=0 bun run dev\n```\n\n----------------------------------------\n\nTITLE: Creating a Response with an Async Generator Stream\nDESCRIPTION: Demonstrates creating a Response object with an async generator function as the body. This approach enables simple creation of a ReadableStream from asynchronous data sources.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = new Response(async function* () {\n  yield \"hello\";\n  yield \"world\";\n}());\n\nawait response.text(); // \"helloworld\"\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Completions Manually\nDESCRIPTION: Commands for manually installing Bun shell completions. The first command outputs completions to a file, while the second installs them to a specified directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-completions.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nbun completions > path-to-file\n```\n\nLANGUAGE: shell\nCODE:\n```\nbun completions /path/to/directory\n```\n\n----------------------------------------\n\nTITLE: Defining and Compiling an Addition Function in Zig\nDESCRIPTION: This snippet shows how to define a simple addition function in Zig and compile it as a dynamic library. It then demonstrates how to use this library with bun:ffi in TypeScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_1\n\nLANGUAGE: zig\nCODE:\n```\n// add.zig\npub export fn add(a: i32, b: i32) i32 {\n  return a + b;\n}\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ zig build-lib add.zig -dynamic -OReleaseFast\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dlopen, FFIType, suffix } from \"bun:ffi\";\nconst { i32 } = FFIType;\n\nconst path = `libadd.${suffix}`;\n\nconst lib = dlopen(path, {\n  add: {\n    args: [i32, i32],\n    returns: i32,\n  },\n});\n\nconsole.log(lib.symbols.add(1, 2));\n```\n\n----------------------------------------\n\nTITLE: Accepting Multiple Module Updates in Bun HMR\nDESCRIPTION: Shows how to accept updates from multiple imported modules using import.meta.hot.accept with an array of module paths and a callback that receives an array of updated modules.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.hot.accept([\"./foo\", \"./bar\"], newModules => {\n  // newModules is an array where each item corresponds to the updated module\n  // or undefined if that module had a syntax error\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Bun and Running Basic Commands in GitHub Actions\nDESCRIPTION: This workflow example demonstrates how to set up Bun in a GitHub Actions runner and run common Bun commands like install, execute TypeScript files, and run build scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/cicd.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nname: my-workflow\njobs:\n  my-job:\n    name: my-job\n    runs-on: ubuntu-latest\n    steps:\n      # ...\n      - uses: actions/checkout@v4\n     - uses: oven-sh/setup-bun@v2\n\n      # run any `bun` or `bunx` command\n     - run: bun install\n     - run: bun index.ts\n     - run: bun run build\n```\n\n----------------------------------------\n\nTITLE: Creating a Worker from the Main Thread in JavaScript\nDESCRIPTION: Example of creating a Worker instance in the main thread and setting up basic communication with postMessage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst worker = new Worker(\"./worker.ts\");\n\nworker.postMessage(\"hello\");\nworker.onmessage = event => {\n  console.log(event.data);\n};\n```\n\n----------------------------------------\n\nTITLE: Opening Files in Editor with Bun.openInEditor()\nDESCRIPTION: Shows how to use Bun.openInEditor() to open files in the default or specified editor, with options for line and column numbers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst currentFile = import.meta.url;\nBun.openInEditor(currentFile);\n```\n\nLANGUAGE: toml\nCODE:\n```\n[debug]\neditor = \"code\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nBun.openInEditor(import.meta.url, {\n  editor: \"vscode\", // or \"subl\"\n  line: 10,\n  column: 5,\n});\n```\n\n----------------------------------------\n\nTITLE: Running Specific Test Files in Bun\nDESCRIPTION: Demonstrates how to run specific test files by passing a file path pattern to the test command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/run-tests.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test test3\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest3.test.js:\n✓ add [1.40ms]\n✓ multiply [0.03ms]\n\n 2 pass\n 0 fail\n 2 expect() calls\nRan 2 tests across 1 files. [15.00ms]\n```\n\n----------------------------------------\n\nTITLE: Checking Linux Kernel Version in Bash\nDESCRIPTION: This command checks the currently running Linux kernel version. Bun recommends version 5.6 or higher for optimal performance, particularly for HTTP requests using io_uring's connect() operation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# If this returns a version >= 5.6, you don't need to do anything\n$ uname -r\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables Programmatically in Bun\nDESCRIPTION: How to set environment variables programmatically by assigning values to process.env properties in TypeScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nprocess.env.FOO = \"hello\";\n```\n\n----------------------------------------\n\nTITLE: Querying Movies from EdgeDB with Type-Safe Query Builder (TypeScript)\nDESCRIPTION: In this TypeScript snippet, the code imports the generated EdgeQL query builder, constructs a query for all movies (fetching title and releaseYear), runs it, and prints results. Dependencies: EdgeDB client, generated query builder files, migrated schema. Input: None. Output: Array of movie data, printed to console. EdgeQL builder provides typesafety for returned objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nimport { createClient } from \"edgedb\";\nimport e from \"./dbschema/edgeql-js\";\n\nconst client = createClient();\n\nconst query = e.select(e.Movie, () => ({\n  title: true,\n  releaseYear: true,\n}));\n\nconst results = await query.run(client);\nconsole.log(results);\n\nresults; // { title: string, releaseYear: number | null }[]\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun S3Client for DigitalOcean Spaces - TypeScript\nDESCRIPTION: This code sample shows how to connect Bun's S3Client to DigitalOcean Spaces by specifying the Spaces endpoint in the S3Client constructor. It requires DigitalOcean Spaces credentials, bucket name, and the endpoint URL (with region). The region parameter is optional. This sets up the client to target DigitalOcean Spaces for subsequent S3 operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\nconst spaces = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n  // region: \\\"nyc3\\\",\n  endpoint: \\\"https://<region>.digitaloceanspaces.com\\\",\n});\n```\n\n----------------------------------------\n\nTITLE: Accessing Main Script Path in Bun\nDESCRIPTION: Shows how to get the absolute path of the entrypoint script using Bun.main and demonstrates its use for determining direct script execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.main;\n// /path/to/script.ts\n```\n\nLANGUAGE: typescript\nCODE:\n```\nif (import.meta.path === Bun.main) {\n  // this script is being directly executed\n} else {\n  // this file is being imported from another script\n}\n```\n\n----------------------------------------\n\nTITLE: Transformed JavaScript Output\nDESCRIPTION: Shows the resulting vanilla JavaScript code after TSX transformation\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { __require as require } from \"bun:wrap\";\nimport * as JSX from \"react/jsx-dev-runtime\";\nvar jsx = require(JSX).jsxDEV;\n\nexport default jsx(\n  \"div\",\n  {\n    children: \"hi!\",\n  },\n  undefined,\n  false,\n  undefined,\n  this,\n);\n```\n\n----------------------------------------\n\nTITLE: Running the SolidStart Development Server\nDESCRIPTION: This command starts the SolidStart development server. Two equivalent commands are shown - one using bun run with the dev script, and another using bunx to directly execute solid-start.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/solidstart.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run dev\n# or, equivalently\n$ bunx solid-start dev\n```\n\n----------------------------------------\n\nTITLE: Building the Docker Image for the Bun Application in Bash\nDESCRIPTION: This command uses `docker build` to create a Docker image from the `Dockerfile` located in the current directory (`.`). The `-t bun-hello-world` flag tags the image with the name `bun-hello-world`. The `--pull` flag ensures that the latest version of the base image (`oven/bun`) is downloaded before building. The output shows the steps involved in the build process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ docker build --pull -t bun-hello-world .\n[+] Building 0.9s (21/21) FINISHED\n => [internal] load build definition from Dockerfile                                                                                     0.0s\n => => transferring dockerfile: 37B                                                                                                      0.0s\n => [internal] load .dockerignore                                                                                                        0.0s\n => => transferring context: 35B                                                                                                         0.0s\n => [internal] load metadata for docker.io/oven/bun:1                                                                                    0.8s\n => [auth] oven/bun:pull token for registry-1.docker.io                                                                                  0.0s\n => [base 1/2] FROM docker.io/oven/bun:1@sha256:373265748d3cd3624cb3f3ee6004f45b1fc3edbd07a622aeeec17566d2756997                         0.0s\n => [internal] load build context                                                                                                        0.0s\n => => transferring context: 155B                                                                                                        0.0s\n # ...lots of commands...\n => exporting to image                                                                                                                   0.0s\n => => exporting layers                                                                                                                  0.0s\n => => writing image sha256:360663f7fdcd6f11e8e94761d5592e2e4dfc8d167f034f15cd5a863d5dc093c4                                             0.0s\n => => naming to docker.io/library/bun-hello-world                                                                                       0.0s\n```\n\n----------------------------------------\n\nTITLE: Retrieving Child Process Resource Usage in TypeScript\nDESCRIPTION: Shows how to get information about a child process's resource usage after it has exited.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"]);\nawait proc.exited;\n\nconst usage = proc.resourceUsage();\nconsole.log(`Max memory used: ${usage.maxRSS} bytes`);\nconsole.log(`CPU time (user): ${usage.cpuTime.user} µs`);\nconsole.log(`CPU time (system): ${usage.cpuTime.system} µs`);\n```\n\n----------------------------------------\n\nTITLE: Running TypeScript and JSX Files with Bun\nDESCRIPTION: Demonstrates how to execute TypeScript and JSX files using Bun's command-line interface. Bun transpiles these files on the fly without performing type checking.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun index.js\n$ bun index.jsx\n$ bun index.ts\n$ bun index.tsx\n```\n\n----------------------------------------\n\nTITLE: Using DataView to read and write Uint8 values\nDESCRIPTION: Creates a DataView for an ArrayBuffer and demonstrates setting and getting an 8-bit unsigned integer at a specific byte offset. DataView provides a low-level interface for manipulating data in an ArrayBuffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nconst buf = new ArrayBuffer(4);\n// [0b00000000, 0b00000000, 0b00000000, 0b00000000]\n\nconst dv = new DataView(buf);\ndv.setUint8(0, 3); // write value 3 at byte offset 0\ndv.getUint8(0); // => 3\n// [0b00000011, 0b00000000, 0b00000000, 0b00000000]\n```\n\n----------------------------------------\n\nTITLE: Creating Directories\nDESCRIPTION: Example of recursively creating directories using mkdir.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nimport { mkdir } from \"node:fs/promises\";\n\nawait mkdir(\"path/to/dir\", { recursive: true });\n```\n\n----------------------------------------\n\nTITLE: JSX Prop Punning Example\nDESCRIPTION: An example of Bun's support for 'prop punning' in JSX, which is a shorthand syntax for assigning a variable to a prop with the same name, reducing redundancy in component code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_24\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Div(props: {className: string;}) {\n  const {className} = props;\n\n  // without punning\n  return <div className={className} />;\n  // with punning\n  return <div {className} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing Project and Installing Drizzle Dependencies using Bun (Shell)\nDESCRIPTION: Initializes a new Bun project using `bun init -y` and installs the necessary Drizzle ORM packages. `drizzle-orm` is added as a runtime dependency, and `drizzle-kit` (the migration tool) is added as a development dependency (`-D`). Requires Bun to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun init -y\n$ bun add drizzle-orm\n$ bun add -D drizzle-kit\n```\n\n----------------------------------------\n\nTITLE: Creating a ReadableStream from a File in Bun\nDESCRIPTION: This snippet demonstrates how to use Bun.file() to create a BunFile instance from a file path and then convert it to a ReadableStream. This allows for lazy and incremental reading of the file content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/stream.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nconst stream = file.stream();\n```\n\n----------------------------------------\n\nTITLE: Applying Database Migrations with Drizzle ORM in Bun (TypeScript)\nDESCRIPTION: This script applies pending database migrations found in the specified folder (`./drizzle`). It first establishes a database connection similar to `db.ts` and then calls the `migrate` function from `drizzle-orm/bun-sqlite/migrator`, passing the Drizzle database instance and the path to the migrations folder. Depends on `drizzle-orm`, `bun:sqlite`, and the existence of the `drizzle` migration folder.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\n#migrate.ts\nimport { migrate } from \"drizzle-orm/bun-sqlite/migrator\";\n\nimport { drizzle } from \"drizzle-orm/bun-sqlite\";\nimport { Database } from \"bun:sqlite\";\n\nconst sqlite = new Database(\"sqlite.db\");\nconst db = drizzle(sqlite);\nmigrate(db, { migrationsFolder: \"./drizzle\" });\n```\n\n----------------------------------------\n\nTITLE: Converting Node.js Readable to Blob using Response in TypeScript\nDESCRIPTION: This snippet shows how to create a Blob from a Node.js Readable stream using the Response object in Bun. It imports the Readable class from the 'stream' module, creates a stream from an array of strings, and then uses Response and its blob() method to convert the stream to a Blob.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/node-readable-to-blob.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nconst stream = Readable.from([\"Hello, \", \"world!\"]);\nconst blob = await new Response(stream).blob();\n```\n\n----------------------------------------\n\nTITLE: Running a Custom CLI Binary with bunx (Shell - bash)\nDESCRIPTION: Demonstrates invoking a user-defined CLI ('my-cli') via bunx, assuming it has been published to npm and declared in package.json. No prior installation is needed; bunx will auto-install if necessary. Input is the CLI executable name; output is determined by the CLI script's logic.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx my-cli\n```\n\n----------------------------------------\n\nTITLE: Running Bun in Watch Mode with a File\nDESCRIPTION: Command to run a TypeScript/JSX file with Bun's --watch mode, which will automatically restart the process when any imported files change.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch index.tsx\n```\n\n----------------------------------------\n\nTITLE: Basic CSS Module Composition in the Same File\nDESCRIPTION: Demonstrates how to use the 'composes' property to reuse style rules across multiple classes within the same CSS module file. This example shows a button class composing styles from a background class.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_28\n\nLANGUAGE: css\nCODE:\n```\n/* styles.module.css */\n.button {\n  composes: background;\n  color: red;\n}\n\n.background {\n  background-color: blue;\n}\n```\n\n----------------------------------------\n\nTITLE: Output of Parsed Command-line Arguments in Bun\nDESCRIPTION: Shows the structured output when running a Bun script with parsed command-line arguments using util.parseArgs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/argv.md#2025-04-22_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\n$ bun run cli.ts --flag1 --flag2 value\n{\n  flag1: true,\n  flag2: \"value\",\n}\n[ \"/path/to/bun\", \"/path/to/cli.ts\" ]\n```\n\n----------------------------------------\n\nTITLE: Consuming ReadableStream Chunks with Async Iteration in Bun\nDESCRIPTION: This snippet shows how to consume the chunks of a ReadableStream using an async iterable with a for await loop. Each chunk is a Uint8Array containing a portion of the file's data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/stream.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nfor await (const chunk of stream) {\n  chunk; // => Uint8Array\n}\n```\n\n----------------------------------------\n\nTITLE: Defining a Node-Compatible CLI Script with Shebang (JavaScript)\nDESCRIPTION: Provides a minimal JavaScript executable script with a shebang for Node.js. This file can be targeted by the 'bin' mapping in package.json and will be run via node or via bunx depending on configuration. The shebang tells the OS to use Node to run the script. No dependencies beyond Node.js; outputs 'Hello world!' to stdout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_2\n\nLANGUAGE: js\nCODE:\n```\n#!/usr/bin/env node\n\nconsole.log(\"Hello world!\");\n```\n\n----------------------------------------\n\nTITLE: Using Environment Variables in bunfig.toml for NPM Registry Configuration\nDESCRIPTION: This snippet shows how to use environment variables in bunfig.toml to configure the npm registry for Bun install. It demonstrates setting the registry URL and using an environment variable for the authentication token.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/custom-registry.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nregistry = { url = \"https://registry.npmjs.org\", token = \"$npm_token\" }\n```\n\n----------------------------------------\n\nTITLE: JSX with Custom Import Source - React JSX\nDESCRIPTION: Configuration for using a custom JSX import source with the react-jsx transform mode, useful for integrating with libraries like Preact that provide their own JSX runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_16\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"jsx\": \"react-jsx\",\n  \"jsxImportSource\": \"preact\",\n}\n```\n\n----------------------------------------\n\nTITLE: Reading a File to Buffer in Bun using TypeScript\nDESCRIPTION: This snippet demonstrates how to read a file into a Buffer in Bun. It first creates a BunFile instance using Bun.file(), then reads the file content as an ArrayBuffer using .arrayBuffer(), and finally converts it to a Buffer using Buffer.from().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/buffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nconst arrbuf = await file.arrayBuffer();\nconst buffer = Buffer.from(arrbuf);\n```\n\n----------------------------------------\n\nTITLE: Plugin Type Definitions in TypeScript\nDESCRIPTION: Type definitions for Bun's plugin system, including PluginBuilder interface and supported loaders.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ntype PluginBuilder = {\n  onStart(callback: () => void): void;\n  onResolve: (\n    args: { filter: RegExp; namespace?: string },\n    callback: (args: { path: string; importer: string }) => {\n      path: string;\n      namespace?: string;\n    } | void,\n  ) => void;\n  onLoad: (\n    args: { filter: RegExp; namespace?: string },\n    defer: () => Promise<void>,\n    callback: (args: { path: string }) => {\n      loader?: Loader;\n      contents?: string;\n      exports?: Record<string, any>;\n    },\n  ) => void;\n  config: BuildConfig;\n};\n\ntype Loader = \"js\" | \"jsx\" | \"ts\" | \"tsx\" | \"css\" | \"json\" | \"toml\";\n```\n\n----------------------------------------\n\nTITLE: Querying Outdated Dependencies with Package Filtering using Bun CLI (Bash)\nDESCRIPTION: These bash commands show how to display outdated dependencies for a subset of packages using bun outdated with the --filter flag. This allows querying by package name patterns (e.g. 'pkg-*') or targeting just the root package.json ('./'). Requires Bun and a monorepo configuration. Outputs a report of outdated dependencies for the filtered packages only.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/filter.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# Display outdated dependencies for workspaces starting with `pkg-`\n$ bun outdated --filter 'pkg-*'\n\n# Display outdated dependencies for only the root package.json\n$ bun outdated --filter './'\n\n```\n\n----------------------------------------\n\nTITLE: Ensuring Reproducible Installs with Frozen Lockfile\nDESCRIPTION: Demonstrates using the `--frozen-lockfile` flag with `bun install`. This ensures that the exact package versions specified in the `bun.lock` file are installed, preventing any updates to the lockfile and exiting with an error if `package.json` conflicts with the lockfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --frozen-lockfile\n```\n\n----------------------------------------\n\nTITLE: Reading from a ReadableStream using for-await Loop\nDESCRIPTION: Shows how to consume a ReadableStream chunk by chunk using a for-await loop. This pattern allows processing stream data as it becomes available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nfor await (const chunk of stream) {\n  console.log(chunk);\n  // => \"hello\"\n  // => \"world\"\n}\n```\n\n----------------------------------------\n\nTITLE: Redis Error Handling in Bun\nDESCRIPTION: Shows how to handle errors thrown by Bun's Redis client, including connection errors and authentication failures.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\ntry {\n  await redis.get(\"non-existent-key\");\n} catch (error) {\n  if (error.code === \"ERR_REDIS_CONNECTION_CLOSED\") {\n    console.error(\"Connection to Redis server was closed\");\n  } else if (error.code === \"ERR_REDIS_AUTHENTICATION_FAILED\") {\n    console.error(\"Authentication failed\");\n  } else {\n    console.error(\"Unexpected error:\", error);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating CookieMap Instances in TypeScript\nDESCRIPTION: Different ways to initialize a Bun.CookieMap, including empty maps, from cookie strings, objects, or arrays of name-value pairs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// Empty cookie map\nconst cookies = new Bun.CookieMap();\n\n// From a cookie string\nconst cookies1 = new Bun.CookieMap(\"name=value; foo=bar\");\n\n// From an object\nconst cookies2 = new Bun.CookieMap({\n  session: \"abc123\",\n  theme: \"dark\",\n});\n\n// From an array of name/value pairs\nconst cookies3 = new Bun.CookieMap([\n  [\"session\", \"abc123\"],\n  [\"theme\", \"dark\"],\n]);\n```\n\n----------------------------------------\n\nTITLE: Compiled Output for Nested Media Queries - Bun Bundler CSS\nDESCRIPTION: Displays how Bun un-nests media queries from inside selectors to global media rules. Separates @media block and selector for browser consumption. No dependencies. Maintains intended responsive behavior in compatible browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_3\n\nLANGUAGE: css\nCODE:\n```\n.responsive-element {\\n  display: block;\\n}\\n\\n@media (min-width: 768px) {\\n  .responsive-element {\\n    display: flex;\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Promise-based Directory Watching with fs/promises in Bun\nDESCRIPTION: This example uses the fs/promises module with for await...of syntax instead of callbacks to listen for file system changes, providing a more modern approach to handling file events.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/watch.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { watch } from \"fs/promises\";\n\nconst watcher = watch(import.meta.dir);\nfor await (const event of watcher) {\n  console.log(`Detected ${event.eventType} in ${event.filename}`);\n}\n```\n\n----------------------------------------\n\nTITLE: Query Execution and Cancellation in TypeScript\nDESCRIPTION: Demonstrates how to execute and cancel queries using the execute() and cancel() methods.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nconst query = await sql`SELECT * FROM users`.execute();\nsetTimeout(() => query.cancel(), 100);\nawait query;\n```\n\n----------------------------------------\n\nTITLE: Generating lcov Coverage Reports in Bun\nDESCRIPTION: This snippet shows how to configure Bun to generate lcov coverage reports. The lcov format is widely used and compatible with many coverage visualization tools. The report will be saved as lcov.info in the coverage directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_7\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageReporter = \"lcov\"\n```\n\n----------------------------------------\n\nTITLE: Accessing Typed Environment Variables\nDESCRIPTION: Shows how to access environment variables after adding proper TypeScript type definitions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_18\n\nLANGUAGE: ts\nCODE:\n```\nprocess.env.AWESOME; // => string\n```\n\n----------------------------------------\n\nTITLE: Writing Assertions for Mock Function Behavior in Bun Test\nDESCRIPTION: Demonstrates how to write test assertions to verify mock function behavior, including call count, arguments passed, and return values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-functions.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\n\nconst random = mock((multiplier: number) => multiplier * Math.random());\n\ntest(\"random\", async () => {\n  const a = random(1);\n  const b = random(2);\n  const c = random(3);\n\n  expect(random).toHaveBeenCalled();\n  expect(random).toHaveBeenCalledTimes(3);\n  expect(random.mock.args).toEqual([[1], [2], [3]]);\n  expect(random.mock.results[0]).toEqual({ type: \"return\", value: a });\n});\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Array using Bun in TypeScript\nDESCRIPTION: This snippet shows how to use the Bun.readableStreamToArray function to convert a ReadableStream into an array of chunks. It creates a new ReadableStream and then uses the utility function to read its contents into an array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-array.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst str = await Bun.readableStreamToArray(stream);\n```\n\n----------------------------------------\n\nTITLE: Converting Blob to ArrayBuffer in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates creating a `Blob` object from a string and then asynchronously converting it into an `ArrayBuffer` using the `arrayBuffer()` method. This is a standard Web API method useful for handling binary data, shown here likely in the context of the Bun runtime. The `await` keyword indicates the asynchronous nature of the operation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/blob-to-arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst blob = new Blob([\"hello world\"]);\nconst buf = await blob.arrayBuffer();\n```\n\n----------------------------------------\n\nTITLE: Writing String to Relative Path File in TypeScript\nDESCRIPTION: This example shows how to write a string to a file using a relative path with Bun.write(). Relative paths are resolved from the project root (nearest directory with a package.json file).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/basic.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"./file.txt\";\nawait Bun.write(path, \"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Running the Bun Program to Output PostgreSQL Version - Shell\nDESCRIPTION: This shell snippet illustrates how to execute the main TypeScript script using Bun and the kind of output to expect on success. It assumes index.ts has been implemented as instructed and the Neon Postgres database is accessible. Executing this command prints the Postgres server version to the console, allowing you to verify the connection and query.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-serverless-postgres.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun ./index.ts\\nPostgreSQL 16.2 on x86_64-pc-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit\n```\n\n----------------------------------------\n\nTITLE: Defining Bun Spawn API Interfaces in TypeScript\nDESCRIPTION: Provides TypeScript interface definitions for Bun's process spawning API. It includes the main `Bun` interface methods (`spawn`, `spawnSync`), the `SpawnOptions` namespace with detailed configuration options (like `cwd`, `env`, `stdio`, `onExit`), the `Subprocess` interface for asynchronous processes, the `SyncSubprocess` interface for synchronous processes, the `ResourceUsage` structure, and a `Signal` type listing possible signal names. These types define the shape and behavior of the API, enabling strong typing in applications using Bun's spawning capabilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\ninterface Bun {\n  spawn(command: string[], options?: SpawnOptions.OptionsObject): Subprocess;\n  spawnSync(\n    command: string[],\n    options?: SpawnOptions.OptionsObject,\n  ): SyncSubprocess;\n\n  spawn(options: { cmd: string[] } & SpawnOptions.OptionsObject): Subprocess;\n  spawnSync(\n    options: { cmd: string[] } & SpawnOptions.OptionsObject,\n  ): SyncSubprocess;\n}\n\nnamespace SpawnOptions {\n  interface OptionsObject {\n    cwd?: string;\n    env?: Record<string, string | undefined>;\n    stdio?: [Writable, Readable, Readable];\n    stdin?: Writable;\n    stdout?: Readable;\n    stderr?: Readable;\n    onExit?(\n      subprocess: Subprocess,\n      exitCode: number | null,\n      signalCode: number | null,\n      error?: ErrorLike,\n    ): void | Promise<void>;\n    ipc?(message: any, subprocess: Subprocess): void;\n    serialization?: \"json\" | \"advanced\";\n    windowsHide?: boolean;\n    windowsVerbatimArguments?: boolean;\n    argv0?: string;\n    signal?: AbortSignal;\n    timeout?: number;\n    killSignal?: string | number;\n    maxBuffer?: number;\n  }\n\n  type Readable =\n    | \"pipe\"\n    | \"inherit\"\n    | \"ignore\"\n    | null // equivalent to \"ignore\"\n    | undefined // to use default\n    | BunFile\n    | ArrayBufferView\n    | number;\n\n  type Writable =\n    | \"pipe\"\n    | \"inherit\"\n    | \"ignore\"\n    | null // equivalent to \"ignore\"\n    | undefined // to use default\n    | BunFile\n    | ArrayBufferView\n    | number\n    | ReadableStream\n    | Blob\n    | Response\n    | Request;\n}\n\ninterface Subprocess extends AsyncDisposable {\n  readonly stdin: FileSink | number | undefined;\n  readonly stdout: ReadableStream<Uint8Array> | number | undefined;\n  readonly stderr: ReadableStream<Uint8Array> | number | undefined;\n  readonly readable: ReadableStream<Uint8Array> | number | undefined;\n  readonly pid: number;\n  readonly exited: Promise<number>;\n  readonly exitCode: number | null;\n  readonly signalCode: NodeJS.Signals | null;\n  readonly killed: boolean;\n\n  kill(exitCode?: number | NodeJS.Signals): void;\n  ref(): void;\n  unref(): void;\n\n  send(message: any): void;\n  disconnect(): void;\n  resourceUsage(): ResourceUsage | undefined;\n}\n\ninterface SyncSubprocess {\n  stdout: Buffer | undefined;\n  stderr: Buffer | undefined;\n  exitCode: number;\n  success: boolean;\n  resourceUsage: ResourceUsage;\n  signalCode?: string;\n  exitedDueToTimeout?: true;\n  pid: number;\n}\n\ninterface ResourceUsage {\n  contextSwitches: {\n    voluntary: number;\n    involuntary: number;\n  };\n\n  cpuTime: {\n    user: number;\n    system: number;\n    total: number;\n  };\n  maxRSS: number;\n\n  messages: {\n    sent: number;\n    received: number;\n  };\n  ops: {\n    in: number;\n    out: number;\n  };\n  shmSize: number;\n  signalCount: number;\n  swapCount: number;\n}\n\ntype Signal =\n  | \"SIGABRT\"\n  | \"SIGALRM\"\n  | \"SIGBUS\"\n  | \"SIGCHLD\"\n  | \"SIGCONT\"\n  | \"SIGFPE\"\n  | \"SIGHUP\"\n  | \"SIGILL\"\n  | \"SIGINT\"\n  | \"SIGIO\"\n  | \"SIGIOT\"\n  | \"SIGKILL\"\n  | \"SIGPIPE\"\n  | \"SIGPOLL\"\n  | \"SIGPROF\"\n  | \"SIGPWR\"\n  | \"SIGQUIT\"\n  | \"SIGSEGV\"\n  | \"SIGSTKFLT\"\n  | \"SIGSTOP\"\n  | \"SIGSYS\"\n  | \"SIGTERM\"\n  | \"SIGTRAP\"\n  | \"SIGTSTP\"\n  | \"SIGTTIN\"\n  | \"SIGTTOU\"\n  | \"SIGUNUSED\"\n  | \"SIGURG\"\n  | \"SIGUSR1\"\n  | \"SIGUSR2\"\n  | \"SIGVTALRM\"\n  | \"SIGWINCH\"\n  | \"SIGXCPU\"\n  | \"SIGXFSZ\"\n  | \"SIGBREAK\"\n  | \"SIGLOST\"\n  | \"SIGINFO\";\n```\n\n----------------------------------------\n\nTITLE: Nesting Selectors with Bun Bundler - CSS\nDESCRIPTION: Shows how Bun's CSS bundler transpiles modern nested selectors into flat, browser-compatible CSS. No external dependencies beyond a Bun build or compatible environment. Nested .title and .content elements within .card are compiled to conventional descendant selectors. Inputs: nested selectors; Outputs: flat selectors. Useful for more readable, maintainable CSS authoring.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n/* With nesting */\\n.card {\\n  background: white;\\n  border-radius: 4px;\\n\\n  .title {\\n    font-size: 1.2rem;\\n    font-weight: bold;\\n  }\\n\\n  .content {\\n    padding: 1rem;\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Directory Structure for Next.js-style Routing\nDESCRIPTION: Example of a pages directory structure for Next.js-style routing, showing various file patterns including index files, dynamic routes with [slug] syntax, and catchall routes with [[...catchall]] syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_0\n\nLANGUAGE: txt\nCODE:\n```\npages\n├── index.tsx\n├── settings.tsx\n├── blog\n│   ├── [slug].tsx\n│   └── index.tsx\n└── [[...catchall]].tsx\n```\n\n----------------------------------------\n\nTITLE: Quotation Marks in .env Files\nDESCRIPTION: Different ways to quote values in .env files, showing that Bun supports double quotes, single quotes, and backticks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_7\n\nLANGUAGE: txt\nCODE:\n```\nFOO='hello'\nFOO=\"hello\"\nFOO=`hello`\n```\n\n----------------------------------------\n\nTITLE: Compiled Output for Relative Color Syntax - Bun Bundler CSS\nDESCRIPTION: Presents the static output for CSS relative color expressions as compiled by Bun. If color values are static, Bun evaluates and outputs numerically-based lch and oklch expressions. Inputs using CSS variables may not be evaluated at build time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_7\n\nLANGUAGE: css\nCODE:\n```\n.theme-color {\\n  --accent: lch(69.32% 58.34 328.37);\\n  --subtle-blue: oklch(60.92% 0.112 240.01);\\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Cookies with Bun.Cookie.from()\nDESCRIPTION: Using the factory method Cookie.from() to create a cookie with a name, value, and optional settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = Bun.Cookie.from(\"session\", \"abc123\", {\n  httpOnly: true,\n  secure: true,\n  maxAge: 3600,\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Discord Bot Token in .env.local\nDESCRIPTION: Illustrates setting the Discord bot's private token in a `.env.local` file. Bun automatically loads variables from this file into `process.env`. The example token provided is invalidated and should be replaced with a real one.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_2\n\nLANGUAGE: txt\nCODE:\n```\nDISCORD_TOKEN=NzkyNzE1NDU0MTk2MDg4ODQy.X-hvzA.Ovy4MCQywSkoMRRclStW4xAYK7I\n```\n\n----------------------------------------\n\nTITLE: Running a File via Stdin Redirection with Bun Run -\nDESCRIPTION: Shows creating a file (`secretly-typescript.js`) containing TypeScript-like code and then executing its contents using input redirection with `bun run -`. Bun treats code passed via stdin as TypeScript with JSX support, regardless of the original file's name or extension.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\n$ echo \"console.log!('This is TypeScript!' as any)\" > secretly-typescript.js\n$ bun run - < secretly-typescript.js\nThis is TypeScript!\n```\n\n----------------------------------------\n\nTITLE: Importing and Using TypeScript Modules in Bun\nDESCRIPTION: Basic example of importing a function from a TypeScript module and using it. Shows how Bun handles relative imports without file extensions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nimport { hello } from \"./hello\";\n\nhello();\n```\n\n----------------------------------------\n\nTITLE: Using spyOn for Function Tracking in Bun Test Framework (TypeScript)\nDESCRIPTION: Demonstrates how to use `spyOn()` to track calls to a function without replacing it with a mock. The spy can be used with assertions like `toHaveBeenCalled()` and `toHaveBeenCalledTimes()`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, spyOn } from \"bun:test\";\n\nconst ringo = {\n  name: \"Ringo\",\n  sayHi() {\n    console.log(`Hello I'm ${this.name}`);\n  },\n};\n\nconst spy = spyOn(ringo, \"sayHi\");\n\ntest(\"spyon\", () => {\n  expect(spy).toHaveBeenCalledTimes(0);\n  ringo.sayHi();\n  expect(spy).toHaveBeenCalledTimes(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Installing shadcn/ui Components with Bun\nDESCRIPTION: Demonstrates the command used to install detected shadcn/ui components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx shadcn@canary add accordion button # and any other components\n```\n\n----------------------------------------\n\nTITLE: Initializing Bun Project and Directory - Shell Script\nDESCRIPTION: Initializes a new directory for the project and sets up the Bun project environment. These commands require Bun to be installed on your machine. No input parameters are required except the intended directory name, and the commands must be run in a shell environment. The output is a new directory with Bun project scaffolding.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/mongoose.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n$ mkdir mongoose-app\\n$ cd mongoose-app\\n$ bun init\n```\n\n----------------------------------------\n\nTITLE: Running JSX Files with Bun\nDESCRIPTION: Shows how to run a JSX file using Bun and demonstrates Bun's special logging for JSX to facilitate debugging.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run react.tsx\n<Component message=\"Hello world!\" />\n```\n\n----------------------------------------\n\nTITLE: Basic Bun Binary Compilation\nDESCRIPTION: Basic example of compiling a TypeScript file into a standalone binary executable using Bun's bundler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./cli.ts --compile --outfile mycli\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"Hello world!\");\n```\n\n----------------------------------------\n\nTITLE: Starting Next.js Dev Server with Bun Runtime (Shell)\nDESCRIPTION: These commands first navigate into the newly created Next.js project directory (`my-app`) and then start the development server. The `bun --bun run dev` command explicitly tells Bun to use its own runtime environment to execute the `dev` script defined in the project's `package.json`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nextjs.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ cd my-app\n$ bun --bun run dev\n```\n\n----------------------------------------\n\nTITLE: Initializing a Remix App with Bun\nDESCRIPTION: Uses the Bun CLI to create a new Remix application. The command walks through the project setup process including specifying the project directory, choosing a template, initializing git, and installing dependencies using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/remix.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create remix\n\n remix   v1.19.3 💿 Let's build a better website...\n\n   dir   Where should we create your new project?\n         ./my-app\n\n      ◼  Using basic template See https://remix.run/docs/en/main/guides/templates#templates for more\n      ✔  Template copied\n\n   git   Initialize a new git repository?\n         Yes\n\n  deps   Install dependencies with bun?\n         Yes\n\n      ✔  Dependencies installed\n\n      ✔  Git initialized\n\n  done   That's it!\n\n         Enter your project directory using cd ./my-app\n         Check out README.md for development and deploy instructions.\n```\n\n----------------------------------------\n\nTITLE: Creating a TCP Client with Bun.connect()\nDESCRIPTION: Establishes a connection to a TCP server using Bun.connect(). Includes both the standard socket handlers and client-specific handlers for connection errors, server-initiated closures, and timeouts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// The client\nconst socket = await Bun.connect({\n  hostname: \"localhost\",\n  port: 8080,\n\n  socket: {\n    data(socket, data) {},\n    open(socket) {},\n    close(socket, error) {},\n    drain(socket) {},\n    error(socket, error) {},\n\n    // client-specific handlers\n    connectError(socket, error) {}, // connection failed\n    end(socket) {}, // connection closed by server\n    timeout(socket) {}, // connection timed out\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Serializable Object Macro Example\nDESCRIPTION: Example showing how to return serializable data structures from macros.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nexport function getObject() {\n  return {\n    foo: \"bar\",\n    baz: 123,\n    array: [ 1, 2, { nested: \"value\" }],\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: React Component Definition\nDESCRIPTION: Simple React component definition in TypeScript JSX (TSX) that will be bundled and served by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nexport function App() {\n  return <div>Hello World</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Coverage Reporters in Bun Tests\nDESCRIPTION: Sets the format for coverage reports. The text format is displayed in console, while lcov creates files for CI environments and other tools.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_14\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageReporter  = [\"text\", \"lcov\"]  # default [\"text\"]\n```\n\n----------------------------------------\n\nTITLE: Sending UDP Datagram\nDESCRIPTION: Shows how to send a UDP datagram to a specific destination port and address\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nsocket.send(\"Hello, world!\", 41234, \"127.0.0.1\");\n```\n\n----------------------------------------\n\nTITLE: Setting Up Bun Preload Configuration\nDESCRIPTION: TOML configuration file that tells Bun to preload the Happy DOM setup file before running tests\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/happy-dom.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = \"./happydom.ts\"\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript Path Mapping\nDESCRIPTION: Example tsconfig.json configuration showing how to set up path remapping for import specifiers using TypeScript compiler options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_18\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"compilerOptions\": {\n    \"paths\": {\n      \"config\": [\"./config.ts\"],         // map specifier to file\n      \"components/*\": [\"components/*\"],  // wildcard matching\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Escaping Environment Variable Expansion\nDESCRIPTION: Shows how to escape the $ character to prevent environment variable expansion in .env files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_11\n\nLANGUAGE: txt\nCODE:\n```\nFOO=world\nBAR=hello\\$FOO\n```\n\n----------------------------------------\n\nTITLE: Creating an HTTP Server with Port Reuse in Bun\nDESCRIPTION: This code creates an HTTP server using Bun.serve() with the reusePort option enabled to allow multiple processes to listen on the same port. Each server instance generates a unique ID to identify itself in responses.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/cluster.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { serve } from \"bun\";\n\nconst id = Math.random().toString(36).slice(2);\n\nserve({\n  port: process.env.PORT || 8080,\n  development: false,\n\n  // Share the same port across multiple processes\n  // This is the important part!\n  reusePort: true,\n\n  async fetch(request) {\n    return new Response(\"Hello from Bun #\" + id + \"!\\n\");\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Defining HTML Structure for Bun Bundler\nDESCRIPTION: An HTML entry point file demonstrating how to structure a basic web page with CSS stylesheet and TypeScript module imports that Bun's bundler will process automatically.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html>\n  <head>\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n    <script src=\"./app.ts\" type=\"module\"></script>\n  </head>\n  <body>\n    <img src=\"./logo.png\" />\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Receiving Messages in Worker and Main Threads\nDESCRIPTION: Examples of receiving messages using event listeners or onmessage property in both worker and main threads.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n// Worker thread:\nself.addEventListener(\"message\", event => {\n  console.log(event.data);\n});\n// or use the setter:\n// self.onmessage = fn\n\n// if on the main thread\nworker.addEventListener(\"message\", event => {\n  console.log(event.data);\n});\n// or use the setter:\n// worker.onmessage = fn\n```\n\n----------------------------------------\n\nTITLE: Registering a Local Package as Linkable - Bun CLI - Bash\nDESCRIPTION: The snippet demonstrates how to register a local directory as a linkable package using the Bun CLI. It starts with viewing the package.json to confirm the package details, then uses 'bun link' to register the package. Dependencies: Bun CLI must be installed and initial package.json must exist. Key parameters include the package name and path; Inputs: local directory with package.json; Outputs: confirmation of package registration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/link.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ cd /path/to/cool-pkg\\n$ cat package.json\\n{\\n  \"name\": \"cool-pkg\",\\n  \"version\": \"1.0.0\"\\n}\\n$ bun link\\nbun link v1.x (7416672e)\\nSuccess! Registered \"cool-pkg\"\\n\\nTo use cool-pkg in a project, run:\\n  bun link cool-pkg\\n\\nOr add it in dependencies in your package.json file:\\n  \"cool-pkg\": \"link:cool-pkg\"\n```\n\n----------------------------------------\n\nTITLE: Building for Production with Bun's JavaScript API\nDESCRIPTION: A TypeScript example using Bun's JavaScript API to build an HTML-based project for production. This provides more control over the build process including detailed minification options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nBun.build({\n  entrypoints: [\"./index.html\"],\n  outdir: \"./dist\",\n  minify: {\n    whitespace: true,\n    identifiers: true,\n    syntax: true,\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Managing External Dependencies in Bun\nDESCRIPTION: Shows how to specify external dependencies that should not be included in the final bundle using both wildcard and specific package names.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_46\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  external: [\"lodash\", \"react\"], // default: []\n})\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --external lodash --external react\n```\n\n----------------------------------------\n\nTITLE: Setting Detailed Coverage Thresholds\nDESCRIPTION: Configures specific coverage thresholds for different metrics (lines, functions, statements) which will cause tests to fail if coverage falls below these thresholds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n# Set specific thresholds for different coverage metrics\ncoverageThreshold = { lines = 0.9, functions = 0.8, statements = 0.85 }\n```\n\n----------------------------------------\n\nTITLE: Basic Plugin Implementation Example\nDESCRIPTION: Example of creating a basic Bun plugin with name and setup function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { BunPlugin } from \"bun\";\n\nconst myPlugin: BunPlugin = {\n  name: \"Custom loader\",\n  setup(build) {\n    // implementation\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Writing String Data to File Using Bun.write()\nDESCRIPTION: This snippet demonstrates how to write a string to a file using Bun.write(). It specifies a file path and writes a simple string to that location.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/blob.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nawait Bun.write(path, \"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Initializing a Next.js App Interactively with Bun (Shell)\nDESCRIPTION: This command uses Bun to execute `create-next-app`, scaffolding a new Next.js project. It interactively prompts the user for configuration options such as project name, TypeScript usage, ESLint integration, `src/` directory structure, experimental `app/` directory usage, and import alias configuration. Dependencies are installed automatically.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nextjs.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create next-app\n✔ What is your project named? … my-app\n✔ Would you like to use TypeScript with this project? … No / Yes\n✔ Would you like to use ESLint with this project? … No / Yes\n✔ Would you like to use `src/` directory with this project? … No / Yes\n✔ Would you like to use experimental `app/` directory with this project? … No / Yes\n✔ What import alias would you like configured? … @/*\nCreating a new Next.js app in /path/to/my-app.\n```\n\n----------------------------------------\n\nTITLE: Managing Worker Lifetime with ref() and unref()\nDESCRIPTION: Example of toggling between ref and unref to control whether a worker keeps the main process alive.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href);\nworker.unref();\n// later...\nworker.ref();\n```\n\n----------------------------------------\n\nTITLE: Explicit S3Client Instantiation and File Operations - TypeScript\nDESCRIPTION: This snippet shows how to explicitly instantiate Bun's S3Client object with custom credentials and endpoints, including support for Cloudflare R2 and MinIO. The sample demonstrates writing to a file, presigning a URL for access, and deleting a file using the S3Client or derived S3File methods. Dependencies include the 'bun' package and appropriate endpoint/credential setup. Input parameters include accessKeyId, secretAccessKey, bucket, and endpoint. File write operations accept a Response object; presigning configures expiration and ACL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\nconst client = new S3Client({\n  accessKeyId: \\\"your-access-key\\\",\n  secretAccessKey: \\\"your-secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n  // sessionToken: \\\"...\\\"\n  endpoint: \\\"https://s3.us-east-1.amazonaws.com\\\",\n  // endpoint: \\\"https://<account-id>.r2.cloudflarestorage.com\\\", // Cloudflare R2\n  // endpoint: \\\"http://localhost:9000\\\", // MinIO\n});\n\n// Write using a Response\nawait file.write(new Response(\\\"Hello World!\\\"));\n\n// Presign a URL\nconst url = file.presign({\n  expiresIn: 60 * 60 * 24, // 1 day\n  acl: \\\"public-read\\\",\n});\n\n// Delete the file\nawait file.delete();\n```\n\n----------------------------------------\n\nTITLE: Adding npm Dependencies to a Specific Workspace in Bun\nDESCRIPTION: These shell commands demonstrate how to add npm dependencies to a specific workspace in a Bun monorepo. It shows navigating to the workspace directory and using 'bun add' to install a package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/workspaces.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ cd packages/stuff-a\n$ bun add zod\n```\n\n----------------------------------------\n\nTITLE: Handling Child Process Exit in TypeScript\nDESCRIPTION: Shows how to use the onExit callback and the exited promise to handle process termination.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"], {\n  onExit(proc, exitCode, signalCode, error) {\n    // exit handler\n  },\n});\n\nawait proc.exited; // resolves when process exit\nproc.killed; // boolean — was the process killed?\nproc.exitCode; // null | number\nproc.signalCode; // null | \"SIGABRT\" | \"SIGALRM\" | ...\n```\n\n----------------------------------------\n\nTITLE: Loading Node-API Modules with require() in Bun\nDESCRIPTION: Demonstrates how to load a .node native module in Bun using the require() function. This is the simplest way to import Node-API modules, identical to how it works in Node.js.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/node-api.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst napi = require(\"./my-node-module.node\");\n```\n\n----------------------------------------\n\nTITLE: Clearing All Mocks with mock.clearAllMocks() in Bun Test Framework (TypeScript)\nDESCRIPTION: Demonstrates how to use `mock.clearAllMocks()` to reset the state of all mock functions without restoring their original implementation. This is useful for clearing call history between tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, mock, test } from \"bun:test\";\n\nconst random1 = mock(() => Math.random());\nconst random2 = mock(() => Math.random());\n\ntest(\"clearing all mocks\", () => {\n  random1();\n  random2();\n  \n  expect(random1).toHaveBeenCalledTimes(1);\n  expect(random2).toHaveBeenCalledTimes(1);\n  \n  mock.clearAllMocks();\n  \n  expect(random1).toHaveBeenCalledTimes(0);\n  expect(random2).toHaveBeenCalledTimes(0);\n  \n  // Note: implementations are preserved\n  expect(typeof random1()).toBe(\"number\");\n  expect(typeof random2()).toBe(\"number\");\n});\n```\n\n----------------------------------------\n\nTITLE: Creating V8 Heap Snapshots in Bun\nDESCRIPTION: This snippet demonstrates how to create a V8 heap snapshot to debug memory usage in a Bun application. It imports the v8 module from Node.js and generates a heap snapshot file with an auto-generated name, then logs the path where the snapshot was saved.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/heap-snapshot.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport v8 from \"node:v8\";\n\n// Creates a heap snapshot file with an auto-generated name\nconst snapshotPath = v8.writeHeapSnapshot();\nconsole.log(`Heap snapshot written to: ${snapshotPath}`);\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Hono App in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates the creation of a minimal Hono web application. It imports the `Hono` class, instantiates the application, defines a GET route for the root path ('/') that returns the text 'Hono!', and exports the app instance, likely for use with a server runtime like Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/hono.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Hono } from \"hono\";\nconst app = new Hono();\n\napp.get(\"/\", c => c.text(\"Hono!\"));\n\nexport default app;\n```\n\n----------------------------------------\n\nTITLE: Switching SQLite Library for Extension Support on macOS (TypeScript and Bash)\nDESCRIPTION: Explains how macOS users can use a Homebrew-installed vanilla SQLite build for extension support, requiring the path to a custom SQLite .dylib file. Bash snippet installs SQLite via Homebrew. Precedes the creation of a Bun Database instance with Database.setCustomSQLite().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_28\n\nLANGUAGE: Bash\nCODE:\n```\n$ brew install sqlite\n$ which sqlite # get path to binary\n\n```\n\n----------------------------------------\n\nTITLE: Configuring Password Hashing Algorithms in Bun\nDESCRIPTION: Shows how to configure different hashing algorithms (Argon2 and bcrypt) with custom parameters when using Bun.password.hash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\n\n// use argon2 (default)\nconst argonHash = await Bun.password.hash(password, {\n  algorithm: \"argon2id\", // \"argon2id\" | \"argon2i\" | \"argon2d\"\n  memoryCost: 4, // memory usage in kibibytes\n  timeCost: 3, // the number of iterations\n});\n\n// use bcrypt\nconst bcryptHash = await Bun.password.hash(password, {\n  algorithm: \"bcrypt\",\n  cost: 4, // number between 4-31\n});\n```\n\n----------------------------------------\n\nTITLE: Single Character Glob Pattern Matching\nDESCRIPTION: Example of using the '?' glob pattern to match any single character.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"???.ts\");\nglob.match(\"foo.ts\"); // => true\nglob.match(\"foobar.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Listing Untrusted Dependencies with Bun\nDESCRIPTION: Lists dependencies currently installed in `node_modules` that contain lifecycle scripts (like `postinstall`) but are not included in the `trustedDependencies` list in `package.json`. By default, Bun blocks these scripts from running unless explicitly trusted.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm untrusted\n\n./node_modules/@biomejs/biome @1.8.3\n » [postinstall]: node scripts/postinstall.js\n\nThese dependencies had their lifecycle scripts blocked during install.\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Express HTTP Server (TypeScript)\nDESCRIPTION: Defines a simple HTTP server using Express in TypeScript. It imports `express`, creates an application instance, sets up a GET route for the root path ('/') that responds with 'Hello World!', and starts the server listening on port 8080. This code should be saved in a file (e.g., `server.ts`) and requires the `express` package to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/express.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport express from \"express\";\n\nconst app = express();\nconst port = 8080;\n\napp.get(\"/\", (req, res) => {\n  res.send(\"Hello World!\");\n});\n\napp.listen(port, () => {\n  console.log(`Listening on port ${port}...`);\n});\n```\n\n----------------------------------------\n\nTITLE: Capturing Command Output as Text with Bun Shell\nDESCRIPTION: This snippet shows how to capture the text output from a shell command using the `text()` method. The command lists files in the current directory with detailed information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/shell.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst output = await $`ls -l`.text();\nconsole.log(output);\n```\n\n----------------------------------------\n\nTITLE: Configuring Scoped Registry in .npmrc for Bun\nDESCRIPTION: Sets a specific registry URL for packages under a particular scope using .npmrc. This allows different scopes to use different registries for package resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_2\n\nLANGUAGE: ini\nCODE:\n```\n@myorg:registry=http://localhost:4873/\n```\n\n----------------------------------------\n\nTITLE: Fetching Windows Files with file:// Protocol in TypeScript\nDESCRIPTION: Shows how to fetch local files on Windows using the file:// protocol, with automatic path normalization to handle Windows path separators.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\n// Both work on Windows\nconst response = await fetch(\"file:///C:/path/to/file.txt\");\nconst response2 = await fetch(\"file:///c:/path\\\\to/file.txt\");\n```\n\n----------------------------------------\n\nTITLE: Installing Bun in GitHub Actions Workflow\nDESCRIPTION: This snippet shows how to set up Bun in a GitHub Actions workflow and run the 'bun install' command to install dependencies. It uses the official oven-sh/setup-bun action alongside actions/checkout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/cicd.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nname: my-workflow\njobs:\n  my-job:\n    name: my-job\n    runs-on: ubuntu-latest\n    steps:\n      # ...\n      - uses: actions/checkout@v4\n     - uses: oven-sh/setup-bun@v2\n\n      # run any `bun` or `bunx` command\n     - run: bun install\n```\n\n----------------------------------------\n\nTITLE: Syntax for Running Package.json Scripts with Bun\nDESCRIPTION: Outlines the general command structure for executing a named script defined in `package.json` using `bun run`. It indicates the positions for optional Bun-specific flags (like `--watch`, `--bun`) and flags intended to be passed to the script itself.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n$ bun [bun flags] run <script> [script flags]\n```\n\n----------------------------------------\n\nTITLE: Command Substitution in Bun Shell\nDESCRIPTION: Demonstrates how to use command substitution to insert the output of one command into another using the $(...) syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\n// Prints out the hash of the current commit\nawait $`echo Hash of current commit: $(git rev-parse HEAD)`;\n```\n\n----------------------------------------\n\nTITLE: Using beforeEach and afterEach hooks in Bun tests\nDESCRIPTION: Example of using beforeEach and afterEach hooks to perform setup and teardown logic that runs for each individual test. The beforeEach function executes before each test runs, and afterEach executes after each test completes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { beforeEach, afterEach } from \"bun:test\";\n\nbeforeEach(() => {\n  console.log(\"running test.\");\n});\n\nafterEach(() => {\n  console.log(\"done with test.\");\n});\n\n// tests...\n```\n\n----------------------------------------\n\nTITLE: Adding Workspace Dependencies in Bun Monorepo\nDESCRIPTION: This JSON diff shows how to add dependencies between workspaces in a Bun monorepo. It demonstrates adding 'stuff-a' as a dependency of 'stuff-b' using the 'workspace:*' syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/workspaces.md#2025-04-22_snippet_2\n\nLANGUAGE: json-diff\nCODE:\n```\n{\n  \"name\": \"stuff-b\",\n  \"dependencies\": {\n+   \"stuff-a\": \"workspace:*\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting Files Using Bun.file() in TypeScript\nDESCRIPTION: Shows how to create a BunFile instance and delete a file using the .delete() method. The example demonstrates deleting a file at a specified path using Bun's file API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/unlink.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nconst file = Bun.file(path);\n\nawait file.delete();\n```\n\n----------------------------------------\n\nTITLE: Bundled Output After Bun Macro Execution in TypeScript\nDESCRIPTION: This TypeScript code shows the resulting JavaScript bundle after the Bun build process has executed the `extractMetaTags` macro. The original macro import and call are replaced by the actual data fetched and processed at bundle time ('Example Domain', 'width=device-width, initial-scale=1'). The `Head` component is now defined using standard React JSX runtime functions (`jsx`, `jsxs`) with the static data embedded directly. This demonstrates the core principle of Bun macros: executing code at compile time and inlining the results.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nexport const Head = () => {\n  jsxs(\"head\", {\n    children: [\n      jsx(\"title\", {\n        children: \"Example Domain\",\n      }),\n      jsx(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\",\n      }),\n    ],\n  });\n};\n\nexport { Head };\n```\n\n----------------------------------------\n\nTITLE: Redis Connection Status Monitoring in Bun\nDESCRIPTION: Shows how to check the connection status and monitor buffered data for Redis clients in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\n// Check if connected\nconsole.log(client.connected); // boolean indicating connection status\n\n// Check amount of data buffered (in bytes)\nconsole.log(client.bufferedAmount);\n```\n\n----------------------------------------\n\nTITLE: Capturing Command Output as Text in Bun Shell\nDESCRIPTION: Demonstrates how to capture the output of a shell command as a string using the .text() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\n// .text() automatically calls .quiet() for you\nconst welcome = await $`echo \"Hello World!\"`.text();\n\nconsole.log(welcome); // Hello World!\\n\n```\n\n----------------------------------------\n\nTITLE: Importing HTML Files as Routes in Bun\nDESCRIPTION: Shows how to import HTML files to use as routes in a Bun application. HTML imports serve as entrypoints for frontend routes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport dashboard from \"./dashboard.html\";\nimport homepage from \"./index.html\";\n```\n\n----------------------------------------\n\nTITLE: Configuring Sourcemap Generation in Bun\nDESCRIPTION: Examples showing how to configure sourcemap generation using both JavaScript API and CLI. Supports different sourcemap types including linked, external, and inline formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_44\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  sourcemap: 'linked', // default 'none'\n})\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --sourcemap=linked\n```\n\n----------------------------------------\n\nTITLE: Output Directory Configuration with CLI\nDESCRIPTION: Example showing how to specify an output directory when using Bun's bundler with the CLI.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build --entrypoints ./index.ts --outdir ./out\n# a summary of bundled files will be printed to stdout\n```\n\n----------------------------------------\n\nTITLE: Getting Client IP Information in Bun Server\nDESCRIPTION: Shows how to retrieve client IP address and port information using the server.requestIP() method. This returns an object with address and port properties for the client connection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch(req, server) {\n    const address = server.requestIP(req);\n    if (address) {\n      return new Response(\n        `Client IP: ${address.address}, Port: ${address.port}`,\n      );\n    }\n    return new Response(\"Unknown client\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Building SvelteKit for Production with Bun\nDESCRIPTION: Command to build the SvelteKit application for production using Bun runtime, showing the build process output including module transformation and build completion.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sveltekit.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --bun run build\n  $ vite build\n  vite v5.4.10 building SSR bundle for production...\n  \"confetti\" is imported from external module \"@neoconfetti/svelte\" but never used in \"src/routes/sverdle/+page.svelte\".\n  ✓ 130 modules transformed.\n  vite v5.4.10 building for production...\n  ✓ 148 modules transformed.\n  ...\n  ✓ built in 231ms\n  ...\n  ✓ built in 899ms\n  \n  Run npm run preview to preview your production build locally.\n  \n  > Using svelte-adapter-bun\n    ✔ Start server with: bun ./build/index.js\n    ✔ done\n```\n\n----------------------------------------\n\nTITLE: Installing discord.js Dependency using Bun\nDESCRIPTION: Shows how to add the `discord.js` library to the project using the `bun add` command. This command downloads and installs the package and updates the project's dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add discord.js\n```\n\n----------------------------------------\n\nTITLE: Handling Large Files with Streaming and Multipart Uploads\nDESCRIPTION: Shows how to work with large files using Bun's streaming capabilities and automatic multipart uploads. Includes configuration for retries, queue size, and part size.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// Write a large file\nconst bigFile = Buffer.alloc(10 * 1024 * 1024); // 10MB\nconst writer = s3file.writer({\n  // Automatically retry on network errors up to 3 times\n  retry: 3,\n\n  // Queue up to 10 requests at a time\n  queueSize: 10,\n\n  // Upload in 5 MB chunks\n  partSize: 5 * 1024 * 1024,\n});\nfor (let i = 0; i < 10; i++) {\n  await writer.write(bigFile);\n}\nawait writer.end();\n```\n\n----------------------------------------\n\nTITLE: Package.json Changes After Adding a Dependency\nDESCRIPTION: Shows the diff of package.json after adding a dependency with bun add. The dependency is added with the caret (^) version range by default.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add.md#2025-04-22_snippet_1\n\nLANGUAGE: json-diff\nCODE:\n```\n{\n  \"dependencies\": {\n+     \"zod\": \"^3.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing an Exact Version with Bun\nDESCRIPTION: Demonstrates how to pin an exact version of a package using the '--exact' flag, which removes the caret (^) version range specifier.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod --exact\n```\n\n----------------------------------------\n\nTITLE: Using Remapped Import Paths in TypeScript\nDESCRIPTION: Demonstrates how to use the configured path aliases in TypeScript files. The example shows importing from the 'my-custom-name' alias (which points to 'zod') and from the '@components' directory alias.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/tsconfig-paths.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { z } from \"my-custom-name\"; // imports from \"zod\"\nimport { Button } from \"@components/Button\"; // imports from \"./src/components/Button\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Global Variable Replacement in Bun\nDESCRIPTION: Uses the define field to replace global identifiers with constant expressions. Values are parsed as JSON with support for single-quoted strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[define]\n# Replace any usage of \"process.env.bagel\" with the string `lox`.\n# The values are parsed as JSON, except single-quoted strings are supported and `'undefined'` becomes `undefined` in JS.\n# This will probably change in a future release to be just regular TOML instead. It is a holdover from the CLI argument parsing.\n\"process.env.bagel\" = \"'lox'\"\n```\n\n----------------------------------------\n\nTITLE: Configuring global installation behavior in bunfig.toml\nDESCRIPTION: TOML configuration for setting global installation directories for packages and binaries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# where `bun install --global` installs packages\nglobalDir = \"~/.bun/install/global\"\n\n# where globally-installed package bins are linked\nglobalBinDir = \"~/.bun/bin\"\n```\n\n----------------------------------------\n\nTITLE: Inlining Environment Variables By Prefix - env: \"PUBLIC_*\" - Bun JavaScript API - JavaScript\nDESCRIPTION: Bun.build example inlining only environment variables with a matching prefix (e.g., 'ACME_PUBLIC_*'). This allows selective inlining (useful for public-only variables) while leaving other process.env references untouched. Requires Bun and correctly named environment variables; output bundles have only the matching variables replaced.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_38\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n\n  // Inline all env vars that start with \"ACME_PUBLIC_\"\n  env: \"ACME_PUBLIC_*\",\n})\n```\n\n----------------------------------------\n\nTITLE: Executing Parameterized SQLite Queries in Bun\nDESCRIPTION: This code demonstrates how to execute parameterized SQLite queries in Bun. It shows both named and positional parameter binding techniques.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst query = db.query(`select $message;`);\nquery.all({ $message: \"Hello world\" });\n// => [{ message: \"Hello world\" }]\n\nconst query = db.query(`select ?1;`);\nquery.all(\"Hello world\");\n```\n\n----------------------------------------\n\nTITLE: Reading Files with Bun.file()\nDESCRIPTION: Creates a BunFile instance for lazy file loading. Demonstrates basic file properties access.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst foo = Bun.file(\"foo.txt\"); // relative to cwd\nfoo.size; // number of bytes\nfoo.type; // MIME type\n```\n\n----------------------------------------\n\nTITLE: Accessing Bun.Cookie Properties\nDESCRIPTION: Available properties on a Bun.Cookie instance, including name, value, domain, path, expires, security settings, and other cookie attributes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\ncookie.name; // string - Cookie name\ncookie.value; // string - Cookie value\ncookie.domain; // string | null - Domain scope (null if not specified)\ncookie.path; // string - URL path scope (defaults to \"/\")\ncookie.expires; // number | undefined - Expiration timestamp (ms since epoch)\ncookie.secure; // boolean - Require HTTPS\ncookie.sameSite; // \"strict\" | \"lax\" | \"none\" - SameSite setting\ncookie.partitioned; // boolean - Whether the cookie is partitioned (CHIPS)\ncookie.maxAge; // number | undefined - Max age in seconds\ncookie.httpOnly; // boolean - Accessible only via HTTP (not JavaScript)\n```\n\n----------------------------------------\n\nTITLE: Object inspection with Bun.inspect() in TypeScript\nDESCRIPTION: Demonstrates how to use Bun.inspect() to serialize objects to strings, similar to console.log() output. Examples show serialization of a simple object and a Uint8Array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\nconst obj = { foo: \"bar\" };\nconst str = Bun.inspect(obj);\n// => '{\\nfoo: \"bar\" \\n}'\n\nconst arr = new Uint8Array([1, 2, 3]);\nconst str = Bun.inspect(arr);\n// => \"Uint8Array(3) [ 1, 2, 3 ]\"\n```\n\n----------------------------------------\n\nTITLE: Running JavaScript and TypeScript Files with Bun\nDESCRIPTION: Examples of how to execute different file types with Bun. Bun natively supports JavaScript, JSX, TypeScript, and TSX files without additional configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/index.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun index.js\n$ bun index.jsx\n$ bun index.ts\n$ bun index.tsx\n```\n\n----------------------------------------\n\nTITLE: Terminating a Worker Forcefully\nDESCRIPTION: Example of forcefully terminating a worker using the terminate() method from the main thread.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href);\n\n// ...some time later\nworker.terminate();\n```\n\n----------------------------------------\n\nTITLE: Scaffolding and Running an Elysia Project using Bun CLI\nDESCRIPTION: This Bash snippet shows the command-line steps to create a new Elysia project and start its development server using Bun. The `bun create elysia ./myapp` command scaffolds a new project in the `myapp` directory. `cd myapp` navigates into the newly created project directory. Finally, `bun run dev` starts the development server, typically with hot reloading enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/elysia.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n```bash\n$ bun create elysia ./myapp\n$ cd myapp\n$ bun run dev\n```\n```\n\n----------------------------------------\n\nTITLE: Using Custom Conditions with Bun CLI\nDESCRIPTION: Examples of using the --conditions flag with bun build and bun runtime to specify conditions for resolving packages from package.json exports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_16\n\nLANGUAGE: sh\nCODE:\n```\n# Use it with bun build:\n$ bun build --conditions=\"react-server\" --target=bun ./app/foo/route.js\n\n# Use it with bun's runtime:\n$ bun --conditions=\"react-server\" ./app/foo/route.js\n```\n\n----------------------------------------\n\nTITLE: Restoring Multiple Mocks with mock.restore() in TypeScript\nDESCRIPTION: Demonstrates how to use mock.restore() to reset multiple function mocks simultaneously in a Bun test. Shows spying on multiple module functions, implementing mock behaviors, and restoring original implementations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, mock, spyOn, test } from \"bun:test\";\n\nimport * as fooModule from './foo.ts';\nimport * as barModule from './bar.ts';\nimport * as bazModule from './baz.ts';\n\ntest('foo, bar, baz', () => {\n  const fooSpy = spyOn(fooModule, 'foo');\n  const barSpy = spyOn(barModule, 'bar');\n  const bazSpy = spyOn(bazModule, 'baz');\n\n  expect(fooSpy).toBe('foo');\n  expect(barSpy).toBe('bar');\n  expect(bazSpy).toBe('baz');\n\n  fooSpy.mockImplementation(() => 42);\n  barSpy.mockImplementation(() => 43);\n  bazSpy.mockImplementation(() => 44);\n\n  expect(fooSpy).toBe(42);\n  expect(barSpy).toBe(43);\n  expect(bazSpy).toBe(44);\n\n  mock.restore();\n\n  expect(fooSpy).toBe('foo');\n  expect(barSpy).toBe('bar');\n  expect(bazSpy).toBe('baz');\n});\n```\n\n----------------------------------------\n\nTITLE: Decompressing data with Bun.inflateSync() in TypeScript\nDESCRIPTION: Shows how to decompress DEFLATE-compressed data using the INFLATE algorithm. The example demonstrates a complete compression-decompression cycle, recovering the original text.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\nconst buf = Buffer.from(\"hello\".repeat(100));\nconst compressed = Bun.deflateSync(buf);\n\nconst dec = new TextDecoder();\nconst decompressed = Bun.inflateSync(compressed);\ndec.decode(decompressed);\n// => \"hellohellohello...\"\n```\n\n----------------------------------------\n\nTITLE: Configuring S3Client for Google Cloud Storage\nDESCRIPTION: Shows how to configure the S3Client to work with Google Cloud Storage by setting the appropriate endpoint. This demonstrates Bun's compatibility with different S3-compatible services.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\n// Google Cloud Storage\nconst gcs = new S3Client({\n  accessKeyId: \"access-key\",\n  secretAccessKey: \"secret-key\",\n  bucket: \"my-bucket\",\n  endpoint: \"https://storage.googleapis.com\",\n});\n```\n\n----------------------------------------\n\nTITLE: Valid and Invalid HMR API Usage Patterns in Bun\nDESCRIPTION: Shows examples of invalid and valid ways to use the import.meta.hot API in Bun. The API must be called directly without indirection for proper tree-shaking in production.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// INVALID: Assigning `hot` to a variable\nconst hot = import.meta.hot;\nhot.accept();\n\n// INVALID: Assigning `import.meta` to a variable\nconst meta = import.meta;\nmeta.hot.accept();\nconsole.log(meta.hot.data);\n\n// INVALID: Passing to a function\ndoSomething(import.meta.hot.dispose);\n\n// OK: The full phrase \"import.meta.hot.<API>\" must be called directly:\nimport.meta.hot.accept();\n\n// OK: `data` can be passed to functions:\ndoSomething(import.meta.hot.data);\n```\n\n----------------------------------------\n\nTITLE: Creating and Using a FileSink in TypeScript\nDESCRIPTION: This snippet shows how to create a FileSink instance from a BunFile and use it to write data incrementally to a file. It demonstrates writing multiple strings and flushing the data to disk.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/filesink.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst file = Bun.file(\"/path/to/file.txt\");\nconst writer = file.writer();\n\nwriter.write(\"lorem\");\nwriter.write(\"ipsum\");\nwriter.write(\"dolor\");\n\nwriter.flush();\n\n// continue writing & flushing\n```\n\n----------------------------------------\n\nTITLE: Converting Blob to DataView in TypeScript\nDESCRIPTION: This TypeScript snippet creates a Blob containing the string 'hello world', asynchronously retrieves its contents as an ArrayBuffer using the `arrayBuffer()` method, and then initializes a DataView with the resulting buffer. This allows low-level read/write access to the blob's binary data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/blob-to-dataview.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst blob = new Blob([\"hello world\"]);\nconst arr = new DataView(await blob.arrayBuffer());\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Root Directory in Bun\nDESCRIPTION: Sets the root directory from which Bun runs tests. Default is the current directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_7\n\nLANGUAGE: toml\nCODE:\n```\n[test]\nroot = \"./__tests__\"\n```\n\n----------------------------------------\n\nTITLE: Converting Bun.Cookie to JSON\nDESCRIPTION: How to convert a Bun.Cookie instance to a plain object suitable for JSON serialization using the toJSON() method, which works with JSON.stringify().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = new Bun.Cookie(\"session\", \"abc123\", {\n  secure: true,\n  httpOnly: true,\n});\n\nconst json = cookie.toJSON();\n// => {\n//   name: \"session\",\n//   value: \"abc123\",\n//   path: \"/\",\n//   secure: true,\n//   httpOnly: true,\n//   sameSite: \"lax\",\n//   partitioned: false\n// }\n\n// Works with JSON.stringify\nconst jsonString = JSON.stringify(cookie);\n```\n\n----------------------------------------\n\nTITLE: Handling Query Parameters with FileSystemRouter\nDESCRIPTION: Example showing how the router parses query parameters from the URL and includes them in the query property of the match result.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nrouter.match(\"/settings?foo=bar\");\n\n// =>\n{\n  filePath: \"/Users/colinmcd94/Documents/bun/fun/pages/settings.tsx\",\n  kind: \"dynamic\",\n  name: \"/settings\",\n  pathname: \"/settings?foo=bar\",\n  src: \"https://mydomain.com/_next/static/pages/settings.tsx\",\n  query: {\n    foo: \"bar\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Simple HTTP Server with Auto-Reload Logging\nDESCRIPTION: A TypeScript file that creates a simple HTTP server with Bun and logs the timestamp when the server restarts in watch mode.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { serve } from \"bun\";\nconsole.log(\"I restarted at:\", Date.now());\n\nserve({\n  port: 4003,\n\n  fetch(request) {\n    return new Response(\"Sup\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Creating Mock Function with Arguments in Bun Test\nDESCRIPTION: Demonstrates creating a mock function that accepts parameters, specifically a multiplier for the random value.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-functions.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\n\nconst random = mock((multiplier: number) => multiplier * Math.random());\n```\n\n----------------------------------------\n\nTITLE: Async Element Handler Example\nDESCRIPTION: Demonstrates how to use async handlers with HTMLRewriter, including handling promises and delayed operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.on(\"div\", {\n  async element(element) {\n    await Bun.sleep(1000);\n    element.setInnerContent(\"<span>replace</span>\", { html: true });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Comparing Bun and Node.js Execution Speed\nDESCRIPTION: Demonstrates running a JavaScript file (`hello.js`) with both `bun` and `node`, highlighting Bun's significantly faster execution time (5.2ms vs 25.1ms reported on Linux in the example context). This illustrates a key performance benefit of using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun hello.js\n```\n\nLANGUAGE: text\nCODE:\n```\n5.2ms\n```\n\nLANGUAGE: bash\nCODE:\n```\nnode hello.js\n```\n\nLANGUAGE: text\nCODE:\n```\n25.1ms\n```\n\n----------------------------------------\n\nTITLE: Configuring S3Client with Explicit Credentials\nDESCRIPTION: Shows how to initialize an S3Client with explicit credentials instead of relying on environment variables. The example includes various configuration options for different S3-compatible services.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst client = new S3Client({\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // sessionToken: \"...\"\n  // acl: \"public-read\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n  // endpoint: \"https://<region>.digitaloceanspaces.com\", // DigitalOcean Spaces\n  // endpoint: \"http://localhost:9000\", // MinIO\n});\n\n// Bun.s3 is a global singleton that is equivalent to `new Bun.S3Client()`\n```\n\n----------------------------------------\n\nTITLE: Dynamic Updates in TypeScript\nDESCRIPTION: Shows how to perform dynamic updates using object properties and column selection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nawait sql`UPDATE users SET ${sql(user, \"name\", \"email\")} WHERE id = ${user.id}`;\n// uses all keys from the object to update the row\nawait sql`UPDATE users SET ${sql(user)} WHERE id = ${user.id}`;\n```\n\n----------------------------------------\n\nTITLE: Installing Bun on macOS/Linux using curl\nDESCRIPTION: This snippet shows how to install Bun on macOS, Linux, and WSL using curl. It also demonstrates how to install a specific version of Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ curl -fsSL https://bun.sh/install | bash # for macOS, Linux, and WSL\n# to install a specific version\n$ curl -fsSL https://bun.sh/install | bash -s \"bun-v$BUN_LATEST_VERSION\"\n```\n\n----------------------------------------\n\nTITLE: Applying Styles Based on Text Direction with :dir() - CSS\nDESCRIPTION: Explains styling according to text direction using the :dir() pseudo-class and demonstrates Bun's fallback mechanism using :lang() selectors. Dependencies include text direction being set via markup or inherited, and fallback relies on correct language code mapping for accurate results. Typical usage targets bidirectional/cross-lingual UI adjustments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_18\n\nLANGUAGE: css\nCODE:\n```\n/* Apply different styles based on text direction */\n.nav-arrow:dir(ltr) {\n  transform: rotate(0deg);\n}\n\n.nav-arrow:dir(rtl) {\n  transform: rotate(180deg);\n}\n\n/* Position elements based on text flow */\n.sidebar:dir(ltr) {\n  border-right: 1px solid #ddd;\n}\n\n.sidebar:dir(rtl) {\n  border-left: 1px solid #ddd;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* Converted to use language-based selectors as fallback */\n.nav-arrow:lang(en, fr, de, es, it, pt, nl) {\n  transform: rotate(0deg);\n}\n\n.nav-arrow:lang(ar, he, fa, ur) {\n  transform: rotate(180deg);\n}\n\n.sidebar:lang(en, fr, de, es, it, pt, nl) {\n  border-right: 1px solid #ddd;\n}\n\n.sidebar:lang(ar, he, fa, ur) {\n  border-left: 1px solid #ddd;\n}\n```\n\n----------------------------------------\n\nTITLE: Passing Arguments and Flags to bunx Executables (Shell - bash)\nDESCRIPTION: Illustrates passing additional command-line flags and arguments ('--foo bar') through bunx to a package binary. The executable will receive these flags as process.argv entries. No special prerequisites beyond a compatible cli package and bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx my-cli --foo bar\n```\n\n----------------------------------------\n\nTITLE: Initializing Bun Project with Drizzle and Neon Dependencies (Shell Script)\nDESCRIPTION: Demonstrates the shell commands necessary to set up a new Bun project with Drizzle ORM and the Neon serverless Postgres driver, including developer dependencies for Drizzle migrations. Assumes Bun is installed and available in the system PATH. No input parameters; produces a project directory with required dependencies installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ mkdir bun-drizzle-neon\\n$ cd bun-drizzle-neon\\n$ bun init -y\\n$ bun add drizzle-orm @neondatabase/serverless\\n$ bun add -D drizzle-kit\n```\n\n----------------------------------------\n\nTITLE: Setting Cookies in Bun Server Responses\nDESCRIPTION: Shows how to set cookies in HTTP responses using the cookies.set() method. The example demonstrates setting cookies with various options including maxAge, httpOnly, secure, and path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    \"/login\": req => {\n      const cookies = req.cookies;\n\n      // Set a cookie with various options\n      cookies.set(\"user_id\", \"12345\", {\n        maxAge: 60 * 60 * 24 * 7, // 1 week\n        httpOnly: true,\n        secure: true,\n        path: \"/\",\n      });\n\n      // Add a theme preference cookie\n      cookies.set(\"theme\", \"dark\");\n\n      // Modified cookies from the request are automatically applied to the response\n      return new Response(\"Login successful\");\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Running a Bun TypeScript file from the command line\nDESCRIPTION: Demonstrates how to execute a Bun TypeScript file (adder.ts) from the command line and shows the expected interactive output. This snippet illustrates the usage of the previously defined addition calculator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/console.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun adder.ts\nLet's add some numbers!\nCount: 0\n> 5\nCount: 5\n> 5\nCount: 10\n> 5\nCount: 15\n```\n\n----------------------------------------\n\nTITLE: Creating a Blob from a Buffer in Bun (TypeScript)\nDESCRIPTION: This TypeScript snippet shows how to initialize a `Blob` object using a Node.js `Buffer`. First, a `Buffer` is created from the string 'hello'. Then, this `Buffer` is passed inside an array to the `Blob` constructor to create a new `Blob` instance. This leverages Bun's support for standard Web APIs like `Blob` and Node.js APIs like `Buffer`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-blob.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nconst buf = Buffer.from(\"hello\");\nconst blob = new Blob([buf]);\n```\n```\n\n----------------------------------------\n\nTITLE: Appending File Content Using Promise-Based API in TypeScript\nDESCRIPTION: Uses the promise-based fs.appendFile from node:fs/promises to asynchronously append string data to a file. This will create the file if it doesn't exist.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/append.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nimport { appendFile } from \"node:fs/promises\";\n\nawait appendFile(\"message.txt\", \"data to append\");\n```\n\n----------------------------------------\n\nTITLE: Defining the Bun Application Docker Build Process in Dockerfile\nDESCRIPTION: This multi-stage Dockerfile defines the steps to build a container image for a Bun application. It starts from the official `oven/bun` base image, installs dependencies separately for development and production to optimize caching and final image size, copies application code, optionally runs tests and builds, and configures the final image to run the application on port 3000.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_0\n\nLANGUAGE: dockerfile\nCODE:\n```\n# use the official Bun image\n# see all versions at https://hub.docker.com/r/oven/bun/tags\nFROM oven/bun:1 AS base\nWORKDIR /usr/src/app\n\n# install dependencies into temp directory\n# this will cache them and speed up future builds\nFROM base AS install\nRUN mkdir -p /temp/dev\nCOPY package.json bun.lock /temp/dev/\nRUN cd /temp/dev && bun install --frozen-lockfile\n\n# install with --production (exclude devDependencies)\nRUN mkdir -p /temp/prod\nCOPY package.json bun.lock /temp/prod/\nRUN cd /temp/prod && bun install --frozen-lockfile --production\n\n# copy node_modules from temp directory\n# then copy all (non-ignored) project files into the image\nFROM base AS prerelease\nCOPY --from=install /temp/dev/node_modules node_modules\nCOPY . .\n\n# [optional] tests & build\nENV NODE_ENV=production\nRUN bun test\nRUN bun run build\n\n# copy production dependencies and source code into final image\nFROM base AS release\nCOPY --from=install /temp/prod/node_modules node_modules\nCOPY --from=prerelease /usr/src/app/index.ts .\nCOPY --from=prerelease /usr/src/app/package.json .\n\n# run the app\nUSER bun\nEXPOSE 3000/tcp\nENTRYPOINT [ \"bun\", \"run\", \"index.ts\" ]\n```\n\n----------------------------------------\n\nTITLE: Querying Database Table using Drizzle Query Builder (TypeScript)\nDESCRIPTION: Demonstrates how to query data from the `movies` table using Drizzle's query builder API. It imports the `schema` and `db` instance. The `db.select().from(schema.movies)` statement constructs and executes a query to select all columns from the `movies` table. The retrieved results are then logged to the console. Depends on `db.ts`, `schema.ts`, and the `movies` table containing data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_11\n\nLANGUAGE: ts\nCODE:\n```\n#index.ts\nimport * as schema from \"./schema\";\nimport { db } from \"./db\";\n\nconst result = await db.select().from(schema.movies);\nconsole.log(result);\n```\n\n----------------------------------------\n\nTITLE: Converting Node.js Readable Stream to JSON using Response in Bun\nDESCRIPTION: This code demonstrates how to convert a Node.js Readable stream containing JSON data into a JavaScript object in Bun. It creates a Readable stream from a JSON string, then uses the Response constructor and its json() method to parse the stream data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/node-readable-to-json.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nconst stream = Readable.from([JSON.stringify({ hello: \"world\" })]);\nconst json = await new Response(stream).json();\nconsole.log(json); // { hello: \"world\" }\n```\n\n----------------------------------------\n\nTITLE: Compiled Output for Modern Color Notation - Bun Bundler CSS\nDESCRIPTION: Shows how Bun transpiles modern notations to widely supported formats: comma-separated rgb(), explicit rgba() for alpha, and rgba() equivalents for hex+alpha. This achieves comprehensive browser compatibility while supporting modern authoring.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_15\n\nLANGUAGE: css\nCODE:\n```\n.modern-styling {\\n  /* Converted to comma format for older browsers */\\n  color: rgb(50, 100, 200);\\n\\n  /* Alpha channels handled appropriately */\\n  border-color: rgba(100, 50, 200, 0.75);\\n\\n  /* Hex+alpha converted to rgba when needed */\\n  background-color: rgba(0, 170, 255, 0.5);\\n\\n  box-shadow: 0 5px 10px rgba(38, 115, 153, 0.4);\\n}\n```\n\n----------------------------------------\n\nTITLE: Synchronous Code Transformation Example\nDESCRIPTION: Demonstrates synchronous transformation of TSX code to vanilla JavaScript using transformSync method\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst transpiler = new Bun.Transpiler({\n  loader: 'tsx',\n});\n\nconst code = `\nimport * as whatever from \"./whatever.ts\"\nexport function Home(props: {title: string}){\n  return <p>{props.title}</p>;\n}`;\n\nconst result = transpiler.transformSync(code);\n```\n\n----------------------------------------\n\nTITLE: Element Manipulation Operations\nDESCRIPTION: Comprehensive example of element manipulation methods including attribute operations, content modification, and position handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.on(\"div\", {\n  element(el) {\n    // Attributes\n    el.setAttribute(\"class\", \"new-class\").setAttribute(\"data-id\", \"123\");\n\n    const classAttr = el.getAttribute(\"class\"); // \"new-class\"\n    const hasId = el.hasAttribute(\"id\"); // boolean\n    el.removeAttribute(\"class\");\n\n    // Content manipulation\n    el.setInnerContent(\"New content\"); // Escapes HTML by default\n    el.setInnerContent(\"<p>HTML content</p>\", { html: true }); // Parses HTML\n    el.setInnerContent(\"\"); // Clear content\n\n    // Position manipulation\n    el.before(\"Content before\")\n      .after(\"Content after\")\n      .prepend(\"First child\")\n      .append(\"Last child\");\n\n    // HTML content insertion\n    el.before(\"<span>before</span>\", { html: true })\n      .after(\"<span>after</span>\", { html: true })\n      .prepend(\"<span>first</span>\", { html: true })\n      .append(\"<span>last</span>\", { html: true });\n\n    // Removal\n    el.remove(); // Remove element and contents\n    el.removeAndKeepContent(); // Remove only the element tags\n\n    // Properties\n    console.log(el.tagName); // Lowercase tag name\n    console.log(el.namespaceURI); // Element's namespace URI\n    console.log(el.selfClosing); // Whether element is self-closing (e.g. <div />)\n    console.log(el.canHaveContent); // Whether element can contain content (false for void elements like <br>)\n    console.log(el.removed); // Whether element was removed\n\n    // Attributes iteration\n    for (const [name, value] of el.attributes) {\n      console.log(name, value);\n    }\n\n    // End tag handling\n    el.onEndTag(endTag => {\n      endTag.before(\"Before end tag\");\n      endTag.after(\"After end tag\");\n      endTag.remove(); // Remove the end tag\n      console.log(endTag.name); // Tag name in lowercase\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing a Bun Project\nDESCRIPTION: Runs the 'bun init' command to scaffold a new project, accepting default settings. This creates basic files including index.ts, tsconfig.json, and package.json.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun init\nbun init helps you get started with a minimal project and tries to\nguess sensible defaults. Press ^C anytime to quit.\n\npackage name (quickstart):\nentry point (index.ts):\n\nDone! A package.json file was saved in the current directory.\n + index.ts\n + .gitignore\n + tsconfig.json (for editor auto-complete)\n + README.md\n\nTo get started, run:\n  bun run index.ts\n```\n\n----------------------------------------\n\nTITLE: Detecting Main Thread vs Worker Context\nDESCRIPTION: Example of using Bun.isMainThread to conditionally execute code based on whether it's running in the main thread or a worker thread.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nif (Bun.isMainThread) {\n  console.log(\"I'm the main thread\");\n} else {\n  console.log(\"I'm in a worker\");\n}\n```\n\n----------------------------------------\n\nTITLE: Running a Qwik Development Server with Bun\nDESCRIPTION: This command starts the Qwik development server using Bun. It runs Vite in SSR mode and provides local development URL and other helpful information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/qwik.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run dev\n  $ vite--mode ssr\n\n  VITE v4.4.7  ready in 1190 ms\n\n  ➜  Local:   http://localhost:5173/\n  ➜  Network: use --host to expose\n  ➜  press h to show help\n```\n\n----------------------------------------\n\nTITLE: Using setSystemTime with Lifecycle Hooks in Bun Tests\nDESCRIPTION: This snippet shows how to use setSystemTime in conjunction with the beforeAll lifecycle hook to create a deterministic testing environment with a fixed date for all tests in the suite.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-clock.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, beforeAll, setSystemTime } from \"bun:test\";\n\nbeforeAll(() => {\n  const date = new Date(\"1999-01-01T00:00:00.000Z\");\n  setSystemTime(date); // it's now January 1, 1999\n});\n\n// tests...\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun to Preload the Svelte Plugin\nDESCRIPTION: TOML configuration for bunfig.toml that tells Bun to preload the Svelte loader plugin before running tests, enabling support for Svelte components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n# Tell Bun to load this plugin before your tests run\npreload = [\"./svelte-loader.js\"]\n\n# This also works:\n# test.preload = [\"./svelte-loader.js\"]\n```\n\n----------------------------------------\n\nTITLE: Updating All Dependencies - Bun CLI - Shell\nDESCRIPTION: This shell snippet demonstrates how to update all project dependencies to the latest versions that satisfy the ranges specified in the package.json, using the Bun CLI. Requires Bun to be installed and a valid package.json file in the project directory. The command updates all dependencies listed, respecting any version constraints; no parameters are needed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/update.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun update\n```\n\n----------------------------------------\n\nTITLE: Getting TypedArray Pointer and Calling FFI ('Hardmode') (TypeScript)\nDESCRIPTION: Demonstrates manually obtaining a pointer to a TypedArray using ptr from 'bun:ffi' and explicitly passing it to an FFI function. Examples include both pointer extraction and FFI invocation with precise buffer control. Useful for advanced scenarios where direct pointer manipulation or offset is necessary.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dlopen, FFIType, ptr } from \"bun:ffi\";\n\nconst {\n  symbols: { encode_png },\n} = dlopen(myLibraryPath, {\n  encode_png: {\n    // FFIType's can be specified as strings too\n    args: [\"ptr\", \"u32\", \"u32\"],\n    returns: FFIType.ptr,\n  },\n});\n\nconst pixels = new Uint8ClampedArray(128 * 128 * 4);\npixels.fill(254);\n\n// this returns a number! not a BigInt!\nconst myPtr = ptr(pixels);\n\nconst out = encode_png(\n  myPtr,\n\n  // dimensions:\n  128,\n  128,\n);\n\n```\n\n----------------------------------------\n\nTITLE: Importing Aliased Package in TypeScript\nDESCRIPTION: Demonstrates how to import and use the aliased package in TypeScript code, showing that the package can be referenced using the custom name while maintaining its original functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/npm-alias.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { z } from \"my-custom-name\";\n\nz.string();\n```\n\n----------------------------------------\n\nTITLE: Forcing Bun's Runtime Using the --bun Flag in bunx (Shell - bash)\nDESCRIPTION: Shows how to force bunx to use Bun's own runtime for a package executable instead of the runtime specified in the file's shebang. The '--bun' flag must precede the executable name. Suitable for overriding default shebang handling. Input is the '--bun' flag and executable name; output depends on the CLI logic.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx --bun my-cli\n```\n\n----------------------------------------\n\nTITLE: Piping Commands in Bun Shell\nDESCRIPTION: Shows how to pipe the output of one command to another using the | operator in Bun Shell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst result = await $`echo \"Hello World!\" | wc -w`.text();\n\nconsole.log(result); // 2\\n\n```\n\n----------------------------------------\n\nTITLE: Appending File Content Using Callback-Based API in TypeScript\nDESCRIPTION: Uses the callback-based fs.appendFile from node:fs to asynchronously append string data to a file. Includes error handling in the callback function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/append.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport { appendFile } from \"node:fs\";\n\nappendFile(\"message.txt\", \"data to append\", err => {\n  if (err) throw err;\n  console.log('The \"data to append\" was appended to file!');\n});\n```\n\n----------------------------------------\n\nTITLE: Incremental File Writing with FileSink\nDESCRIPTION: Examples of using FileSink for incremental file writing and configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nconst file = Bun.file(\"output.txt\");\nconst writer = file.writer();\n\nwriter.write(\"it was the best of times\\n\");\nwriter.write(\"it was the worst of times\\n\");\n```\n\n----------------------------------------\n\nTITLE: Packing a Workspace with Bun\nDESCRIPTION: Creates a compressed tarball (`.tgz`) file from the current workspace's contents, similar to `npm pack`. This is useful for publishing or distributing the package. Various options allow customization of the output and process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm pack\n```\n\n----------------------------------------\n\nTITLE: Importing Tailwind CSS in a CSS File\nDESCRIPTION: CSS example showing how to import Tailwind CSS using the @import directive, which will be processed by Bun's bundler using the Tailwind plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_11\n\nLANGUAGE: css\nCODE:\n```\n/* Import TailwindCSS in your CSS */\n@import \"tailwindcss\";\n```\n\n----------------------------------------\n\nTITLE: Importing TailwindCSS in Component CSS\nDESCRIPTION: Shows how TailwindCSS is imported in the component's CSS file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_3\n\nLANGUAGE: css\nCODE:\n```\n@import \"tailwindcss\";\n```\n\n----------------------------------------\n\nTITLE: Cleanup with dispose() Method in Bun HMR\nDESCRIPTION: Shows how to use import.meta.hot.dispose to clean up side effects before a module is replaced. This callback runs just before the module is replaced with another copy.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst sideEffect = setupSideEffect();\n\nimport.meta.hot.dispose(() => {\n  sideEffect.cleanup();\n});\n```\n\n----------------------------------------\n\nTITLE: Writing DOM Tests with Bun and Happy DOM\nDESCRIPTION: Example test file showing how to write DOM tests using Bun's test runner with Happy DOM. The test creates a button element and verifies its text content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport {test, expect} from 'bun:test';\n\ntest('dom test', () => {\n  document.body.innerHTML = `<button>My button</button>`;\n  const button = document.querySelector('button');\n  expect(button?.innerText).toEqual('My button');\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Packages with Bun\nDESCRIPTION: Installs the figlet package for ASCII art generation and its type declarations for TypeScript support using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add figlet\n$ bun add -d @types/figlet # TypeScript users only\n```\n\n----------------------------------------\n\nTITLE: Using toArrayBuffer with Custom Deallocator (TypeScript)\nDESCRIPTION: Demonstrates calling toArrayBuffer from 'bun:ffi' with an explicit deallocation callback and optional context pointer. Headings explain both the context-aware and context-less usage forms. Inputs include pointers, offsets, lengths, deallocator context, and callback function. Ensures native memory is cleaned up appropriately when buffers are GC'ed in JS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nimport { toArrayBuffer } from \"bun:ffi\";\n\n// with a deallocatorContext:\ntoArrayBuffer(\n  bytes,\n  byteOffset,\n\n  byteLength,\n\n  // this is an optional pointer to a callback\n  deallocatorContext,\n\n  // this is a pointer to a function\n  jsTypedArrayBytesDeallocator,\n);\n\n// without a deallocatorContext:\ntoArrayBuffer(\n  bytes,\n  byteOffset,\n\n  byteLength,\n\n  // this is a pointer to a function\n  jsTypedArrayBytesDeallocator,\n);\n\n```\n\n----------------------------------------\n\nTITLE: Using CookieMap in Bun HTTP Server\nDESCRIPTION: Example showing how to access, check, and set cookies in a Bun HTTP server route handler. The cookies property on the request object is an instance of CookieMap that allows manipulation of cookies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  routes: {\n    \"/\": req => {\n      // Access request cookies\n      const cookies = req.cookies;\n\n      // Get a specific cookie\n      const sessionCookie = cookies.get(\"session\");\n      if (sessionCookie != null) {\n        console.log(sessionCookie);\n      }\n\n      // Check if a cookie exists\n      if (cookies.has(\"theme\")) {\n        // ...\n      }\n\n      // Set a cookie, it will be automatically applied to the response\n      cookies.set(\"visited\", \"true\");\n\n      return new Response(\"Hello\");\n    },\n  },\n});\n\nconsole.log(\"Server listening at: \" + server.url);\n```\n\n----------------------------------------\n\nTITLE: SQLite Database Integration\nDESCRIPTION: Examples of using SQLite databases in compiled Bun applications, including embedded databases.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport db from \"./my.db\" with { type: \"sqlite\" };\n\nconsole.log(db.query(\"select * from users LIMIT 1\").get());\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport myEmbeddedDb from \"./my.db\" with { type: \"sqlite\", embed: \"true\" };\n\nconsole.log(myEmbeddedDb.query(\"select * from users LIMIT 1\").get());\n```\n\n----------------------------------------\n\nTITLE: Converting Blob to Uint8Array using Bun - TypeScript\nDESCRIPTION: This code snippet demonstrates how to convert the binary data stored in a Blob object into a Uint8Array in TypeScript. It first creates a new Blob containing the string 'hello world', then reads its contents as an ArrayBuffer asynchronously, and finally constructs a Uint8Array from the resulting buffer. Requires a runtime supporting the standard Blob API (such as browsers or Bun). The blob must be readable and calling arrayBuffer() returns a promise; awaiting it provides the input for the Uint8Array constructor. The resulting Uint8Array contains the raw bytes of the original Blob.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/blob-to-typedarray.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst blob = new Blob([\"hello world\"]);\nconst arr = new Uint8Array(await blob.arrayBuffer());\n```\n\n----------------------------------------\n\nTITLE: Installing Tailwind CSS Plugin for Bun\nDESCRIPTION: A bash command to install the Tailwind CSS plugin for Bun's bundler, which enables automatic processing of Tailwind CSS directives.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n# Or any npm client\n$ bun install --dev bun-plugin-tailwind\n```\n\n----------------------------------------\n\nTITLE: Re-running Tests Multiple Times with Bun Test Runner in Shell\nDESCRIPTION: This command uses the --rerun-each flag to run each test 10 times in the Bun test runner. This approach is particularly useful for detecting flaky or non-deterministic tests that may not fail consistently.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/rerun-each.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n# re-run each test 10 times\n$ bun test --rerun-each 10\n```\n\n----------------------------------------\n\nTITLE: Converting Node.js Readable to ArrayBuffer using Bun Response\nDESCRIPTION: Creates a Readable stream from string chunks and converts it to an ArrayBuffer using Bun's Response object. The method leverages Bun's built-in Response API to handle stream conversion efficiently.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/node-readable-to-arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nconst stream = Readable.from([\"Hello, \", \"world!\"]);\nconst buf = await new Response(stream).arrayBuffer();\n```\n\n----------------------------------------\n\nTITLE: Disabling Sourcemap Usage for Coverage Analysis\nDESCRIPTION: Opts out of using sourcemaps for coverage analysis, which can be useful for debugging coverage issues but may lead to confusing results due to code transpilation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_6\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageIgnoreSourcemaps = true  # Don't use sourcemaps for coverage analysis\n```\n\n----------------------------------------\n\nTITLE: Hot Reloading Handlers for a TCP Server\nDESCRIPTION: Updates the event handlers for all active sockets on a server without interrupting connections. This allows for dynamically changing behavior of a running server.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.listen({ /* config */ })\n\n// reloads handlers for all active server-side sockets\nserver.reload({\n  socket: {\n    data(){\n      // new 'data' handler\n    }\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Bun Core API References\nDESCRIPTION: List of core Bun APIs including HTTP server (Bun.serve), file operations (Bun.file, Bun.write), process management (Bun.spawn), TCP networking (Bun.listen), transpilation (Bun.Transpiler), routing (Bun.FileSystemRouter), HTML manipulation (HTMLRewriter), and various utilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/index.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nBun.serve          // HTTP server\nBun.file           // File operations\nBun.write          // File writing\nBun.spawn          // Process spawning\nBun.spawnSync      // Synchronous process spawning\nBun.listen         // TCP server\nBun.connect        // TCP client\nBun.Transpiler     // Code transpilation\nBun.FileSystemRouter // File-based routing\nHTMLRewriter       // HTML manipulation\nBun.peek           // Memory inspection\nBun.which          // Path resolution\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Bundler with YAML Plugin\nDESCRIPTION: TypeScript code snippet showing how to use the YAML plugin with Bun's bundler by adding it to the plugins array in the build configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport yamlPlugin from \"bun-plugin-yaml\";\n\nawait Bun.build({\n  entrypoints: [\"./index.tsx\"],\n  // other config\n\n  plugins: [yamlPlugin()],\n});\n```\n\n----------------------------------------\n\nTITLE: Deleting an S3File Object - TypeScript\nDESCRIPTION: Demonstrates deleting a file from S3 using an S3File object's delete method. The snippet also references the unlink method as an equivalent alternative. Assumes an existing and accessible S3File instance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\nawait s3file.delete();\n// await s3File.unlink();\n```\n\n----------------------------------------\n\nTITLE: Creating a .env File for Bun Applications\nDESCRIPTION: Example of a .env file structure for setting environment variables in Bun. This file defines key-value pairs where each line represents an environment variable and its value.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/set-env.md#2025-04-22_snippet_1\n\nLANGUAGE: txt\nCODE:\n```\nFOO=hello\nBAR=world\n```\n\n----------------------------------------\n\nTITLE: Scaffolding a Hono Project with Bun Template (Shell)\nDESCRIPTION: This snippet provides shell commands for generating a new Hono project using Bun's project scaffolding tool. It guides the user through running 'bun create hono myapp', selecting the 'bun' template, navigating into the created directory, and installing dependencies. The process requires the 'bun' runtime and internet access to clone templates. Inputs include user selections in the interactive CLI and outputs are a new project folder with all dependencies installed. Some commands are interactive and rely on available templates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/hono.md#2025-04-22_snippet_1\n\nLANGUAGE: Shell\nCODE:\n```\n$ bun create hono myapp\n✔ Which template do you want to use? › bun\ncloned honojs/starter#main to /path/to/myapp\n✔ Copied project files\n$ cd myapp\n$ bun install\n```\n\n----------------------------------------\n\nTITLE: Peeking Promise Results with Bun.peek()\nDESCRIPTION: Demonstrates how to use Bun.peek() to read a promise's result without await or .then, and how to check promise status with peek.status().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { peek } from \"bun\";\n\nconst promise = Promise.resolve(\"hi\");\n\n// no await!\nconst result = peek(promise);\nconsole.log(result); // \"hi\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { peek } from \"bun\";\nimport { expect, test } from \"bun:test\";\n\ntest(\"peek\", () => {\n  const promise = Promise.resolve(true);\n\n  // no await necessary!\n  expect(peek(promise)).toBe(true);\n\n  // if we peek again, it returns the same value\n  const again = peek(promise);\n  expect(again).toBe(true);\n\n  // if we peek a non-promise, it returns the value\n  const value = peek(42);\n  expect(value).toBe(42);\n\n  // if we peek a pending promise, it returns the promise again\n  const pending = new Promise(() => {});\n  expect(peek(pending)).toBe(pending);\n\n  // If we peek a rejected promise, it:\n  // - returns the error\n  // - does not mark the promise as handled\n  const rejected = Promise.reject(\n    new Error(\"Successfully tested promise rejection\"),\n  );\n  expect(peek(rejected).message).toBe(\"Successfully tested promise rejection\");\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { peek } from \"bun\";\nimport { expect, test } from \"bun:test\";\n\ntest(\"peek.status\", () => {\n  const promise = Promise.resolve(true);\n  expect(peek.status(promise)).toBe(\"fulfilled\");\n\n  const pending = new Promise(() => {});\n  expect(peek.status(pending)).toBe(\"pending\");\n\n  const rejected = Promise.reject(new Error(\"oh nooo\"));\n  expect(peek.status(rejected)).toBe(\"rejected\");\n});\n```\n\n----------------------------------------\n\nTITLE: Running Production Server with Bun\nDESCRIPTION: Command to start the application in production mode using Bun runtime\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/cli/init/README2.default.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nbun start\n```\n\n----------------------------------------\n\nTITLE: Resource Management with prune() Method in Bun HMR\nDESCRIPTION: Demonstrates using import.meta.hot.prune to clean up resources when a module's imports are removed. This example shows managing a WebSocket connection across HMR updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { something } from \"./something\";\n\n// Initialize or re-use a WebSocket connection\nexport const ws = (import.meta.hot.data.ws ??= new WebSocket(location.origin));\n\n// If the module's import is removed, clean up the WebSocket connection.\nimport.meta.hot.prune(() => {\n  ws.close();\n});\n```\n\n----------------------------------------\n\nTITLE: Using import.meta.resolve for module resolution\nDESCRIPTION: Example of using import.meta.resolve to resolve a module specifier to a URL, equivalent to import.meta.resolve in browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/import-meta.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.resolve(\"zod\");\n// => \"file:///path/to/project/node_modules/zod/index.ts\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Cache Behavior in Bun\nDESCRIPTION: Settings to control cache directory location and behavior, including options to disable cache and manifest resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_30\n\nLANGUAGE: toml\nCODE:\n```\n[install.cache]\n\n# the directory to use for the cache\ndir = \"~/.bun/install/cache\"\n\n# when true, don't load from the global cache.\n# Bun may still write to node_modules/.cache\ndisable = false\n\n# when true, always resolve the latest versions from the registry\ndisableManifest = false\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic HTTP Server with Bun.serve\nDESCRIPTION: Implements a simple HTTP server using Bun's built-in serve API. The server listens on port 3000 and responds with 'Bun!' to all requests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nconst server = Bun.serve({\n  port: 3000,\n  fetch(req) {\n    return new Response(\"Bun!\");\n  },\n});\n\nconsole.log(`Listening on http://localhost:${server.port} ...`);\n```\n\n----------------------------------------\n\nTITLE: Testing a Svelte Component with Bun Test\nDESCRIPTION: A test case that demonstrates how to import and test a Svelte component using Bun's test runner and @testing-library/svelte. It checks component state before and after events.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\nimport { render, fireEvent } from \"@testing-library/svelte\";\nimport Counter from \"./Counter.svelte\";\n\ntest(\"Counter increments when clicked\", async () => {\n  const { getByText, component } = render(Counter);\n  const button = getByText(\"+1\");\n\n  // Initial state\n  expect(component.$$.ctx[0]).toBe(0); // initialCount is the first prop\n\n  // Click the increment button\n  await fireEvent.click(button);\n\n  // Check the new state\n  expect(component.$$.ctx[0]).toBe(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Creating HTTP Server for File Upload in Bun\nDESCRIPTION: Initial setup of a Bun HTTP server that serves an HTML form for file uploads. The server listens on port 4000 and serves an index.html file at the root path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/file-uploads.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  port: 4000,\n  async fetch(req) {\n    const url = new URL(req.url);\n\n    // return index.html for root path\n    if (url.pathname === \"/\")\n      return new Response(Bun.file(\"index.html\"), {\n        headers: {\n          \"Content-Type\": \"text/html\",\n        },\n      });\n\n    return new Response(\"Not Found\", { status: 404 });\n  },\n});\n\nconsole.log(`Listening on http://localhost:${server.port}`);\n```\n\n----------------------------------------\n\nTITLE: Accessing Expanded Environment Variables\nDESCRIPTION: Shows how to access environment variables that have been expanded based on other variables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\nprocess.env.BAR; // => \"helloworld\"\n```\n\n----------------------------------------\n\nTITLE: Streaming HTTP Response with AsyncIterable Object in Bun\nDESCRIPTION: Demonstrates creating a streaming HTTP server using an object that implements the Symbol.asyncIterator protocol as the Response body. This approach uses an object literal with an async generator method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-iterator.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nBun.serve({\n  port: 3000,\n  fetch(req) {\n    return new Response(\n      {\n        [Symbol.asyncIterator]: async function* () {\n          yield \"Hello, \";\n          await Bun.sleep(100);\n          yield \"world!\";\n        },\n      },\n      { headers: { \"Content-Type\": \"text/plain\" } },\n    );\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Batch UDP Packet Sending\nDESCRIPTION: Demonstrates how to send multiple UDP packets in a single operation using sendMany()\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.udpSocket({})\n// sends 'Hello' to 127.0.0.1:41234, and 'foo' to 1.1.1.1:53 in a single operation\nsocket.sendMany(['Hello', 41234, '127.0.0.1', 'foo', 53, '1.1.1.1'])\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.udpSocket({\n  connect: {\n    port: 41234,\n    hostname: 'localhost',\n  }\n});\nsocket.sendMany(['foo', 'bar', 'baz']);\n```\n\n----------------------------------------\n\nTITLE: Redis Connection Event Handling in Bun\nDESCRIPTION: Demonstrates how to register and handle connection events for Redis clients in Bun, including connect and close events.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new RedisClient();\n\n// Called when successfully connected to Redis server\nclient.onconnect = () => {\n  console.log(\"Connected to Redis server\");\n};\n\n// Called when disconnected from Redis server\nclient.onclose = error => {\n  console.error(\"Disconnected from Redis server:\", error);\n};\n\n// Manually connect/disconnect\nawait client.connect();\nclient.close();\n```\n\n----------------------------------------\n\nTITLE: Redirecting Output to JavaScript Objects in Bun Shell\nDESCRIPTION: Shows how to redirect the output of a shell command to a JavaScript Buffer object using the > operator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst buffer = Buffer.alloc(100);\nawait $`echo \"Hello World!\" > ${buffer}`;\n\nconsole.log(buffer.toString()); // Hello World!\\n\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables in Bun Shell\nDESCRIPTION: Shows how to set environment variables for shell commands in Bun Shell, including using string interpolation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst foo = \"bar123\";\n\nawait $`FOO=${foo + \"456\"} bun -e 'console.log(process.env.FOO)'`; // bar123456\\n\n```\n\n----------------------------------------\n\nTITLE: CSS Output with Hashed Asset References\nDESCRIPTION: The resulting CSS after Bun has processed asset references, showing how paths are rewritten to include content hashes for cache busting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_6\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  background-image: url(\"./logo-[ABC123].png\");\n}\n```\n\n----------------------------------------\n\nTITLE: Integrating Bun Tests into GitHub Actions Workflow using YAML\nDESCRIPTION: Provides a YAML configuration snippet for a GitHub Actions workflow. It demonstrates the steps required to check out the code, install Bun using the `oven-sh/setup-bun` action, install project dependencies (optional), and finally execute the tests using `bun test`. Bun automatically detects GitHub Actions and emits annotations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\njobs:\n  build:\n    name: build-app\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v4\n      - name: Install bun\n        uses: oven-sh/setup-bun@v2\n      - name: Install dependencies # (assuming your project has dependencies)\n        run: bun install # You can use npm/yarn/pnpm instead if you prefer\n      - name: Run tests\n        run: bun test\n```\n\n----------------------------------------\n\nTITLE: Event Handling with on() Method in Bun HMR\nDESCRIPTION: Shows how to listen for HMR runtime events using import.meta.hot.on, which lets you execute code at specific points in the HMR lifecycle.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.hot.on(\"bun:beforeUpdate\", () => {\n  console.log(\"before a hot update\");\n});\n```\n\n----------------------------------------\n\nTITLE: Streaming Buffer Data in Chunks Using Blob.stream() (TypeScript)\nDESCRIPTION: This example illustrates how to convert a Buffer to a ReadableStream that streams data in smaller chunks, by first wrapping the Buffer in a Blob and then invoking blob.stream(). This method leverages the Blob API, which is available in Bun and Web environments, and can handle larger data efficiently by splitting it into manageable pieces. The resulting ReadableStream emits the Buffer's content incrementally, reducing memory pressure during streaming.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-readablestream.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello world\");\nconst blob = new Blob([buf]);\nconst stream = blob.stream();\n```\n\n----------------------------------------\n\nTITLE: Text File Import Example\nDESCRIPTION: Example of importing a text file in a bundle, which will be included as a string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport contents from \"./file.txt\";\nconsole.log(contents); // => \"Hello, world!\"\n```\n\n----------------------------------------\n\nTITLE: Running a Bun Script from package.json\nDESCRIPTION: Executes the 'start' script defined in package.json using 'bun run start', which in turn runs index.ts with Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run start\n  $ bun run index.ts\n  Listening on http://localhost:3000 ...\n```\n\n----------------------------------------\n\nTITLE: Using 'using' Statement with SQLite in Bun\nDESCRIPTION: This example demonstrates the use of the 'using' statement to ensure proper closure of a database connection. It automatically closes the connection when exiting the block.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\n{\n  using db = new Database(\"mydb.sqlite\");\n  using query = db.query(\"select 'Hello world' as message;\");\n  console.log(query.get()); // => { message: \"Hello world\" }\n}\n```\n\n----------------------------------------\n\nTITLE: Optimized Socket Writing Pattern\nDESCRIPTION: Shows a more efficient approach to writing data to a socket by combining multiple characters into a single write operation, reducing syscall overhead and improving performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nsocket.write(\"hello\");\n```\n\n----------------------------------------\n\nTITLE: Using .lines() on Completed Command in Bun Shell\nDESCRIPTION: Illustrates how to use the .lines() method on a completed command in Bun Shell. This snippet shows searching for a specific term in a file using cat and grep, then iterating over the results.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst search = \"bun\";\n\nfor await (let line of $`cat list.txt | grep ${search}`.lines()) {\n  console.log(line);\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Dependencies with Bun\nDESCRIPTION: Commands for updating single or multiple dependencies, including options for version control and latest updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n# Update a single dependency\n$ bun update @types/bun\n\n# Update all dependencies\n$ bun update\n\n# Ignore semver, update to the latest version\n$ bun update @types/bun --latest\n\n# Update a dependency to a specific version\n$ bun update @types/bun@$BUN_LATEST_VERSION\n\n# Update all dependencies to the latest versions\n$ bun update --latest\n```\n\n----------------------------------------\n\nTITLE: Creating Lazy References to S3 Files\nDESCRIPTION: Shows how to create a lazy reference to a file on S3 using the S3Client's file method. This operation is synchronous and doesn't perform any network requests until needed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// A lazy reference to a file on S3\nconst s3file: S3File = client.file(\"123.json\");\n```\n\n----------------------------------------\n\nTITLE: Environment Variables Plugin Example\nDESCRIPTION: Example of implementing a plugin that exports environment variables using onLoad.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nconst envPlugin: BunPlugin = {\n  name: \"env plugin\",\n  setup(build) {\n    build.onLoad({ filter: /env/, namespace: \"file\" }, args => {\n      return {\n        contents: `export default ${JSON.stringify(process.env)}`,\n        loader: \"js\",\n      };\n    });\n  },\n};\n\nBun.build({\n  entrypoints: [\"./app.ts\"],\n  outdir: \"./dist\",\n  plugins: [envPlugin],\n});\n```\n\n----------------------------------------\n\nTITLE: Creating File References\nDESCRIPTION: Demonstrates creating file references using file descriptors and URLs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nBun.file(1234);\nBun.file(new URL(import.meta.url)); // reference to the current file\n```\n\n----------------------------------------\n\nTITLE: Seeding the Movie Table in EdgeDB with the JavaScript Client (TypeScript)\nDESCRIPTION: This TypeScript snippet connects to the EdgeDB project, constructs a bulk insert EdgeQL query for movies, and executes it using the EdgeDB JS client. It uses the `.execute()` method for inserting multiple movie records efficiently via the `for` expression. Dependencies: `edgedb` client, valid connection settings, Bun environment. Inputs: Array of movie objects. Outputs: None (console log upon completion, process exit). Limitations: Assumes EdgeDB instance is running and schema is migrated.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\nimport { createClient } from \"edgedb\";\n\nconst client = createClient();\n\nconst INSERT_MOVIE = `\n  with movies := <array<tuple<title: str, year: int64>>>$movies\n  for movie in array_unpack(movies) union (\n    insert Movie {\n      title := movie.title,\n      releaseYear := movie.year,\n    }\n  )\n`;\n\nconst movies = [\n  { title: \"The Matrix\", year: 1999 },\n  { title: \"The Matrix Reloaded\", year: 2003 },\n  { title: \"The Matrix Revolutions\", year: 2003 },\n];\n\nawait client.execute(INSERT_MOVIE, { movies });\n\nconsole.log(`Seeding complete.`);\nprocess.exit();\n```\n\n----------------------------------------\n\nTITLE: Running Bun tests with coverage reporting\nDESCRIPTION: Command to run Bun tests with the --coverage flag to generate a coverage report showing function and line coverage percentages for each file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage-threshold.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --coverage\n\ntest.test.ts:\n✓ math > add [0.71ms]\n✓ math > multiply [0.03ms]\n✓ random [0.13ms]\n-------------|---------|---------|-------------------\nFile         | % Funcs | % Lines | Uncovered Line #s\n-------------|---------|---------|-------------------\nAll files    |   66.67 |   77.78 |\n math.ts     |   50.00 |   66.67 |\n random.ts   |   50.00 |   66.67 |\n-------------|---------|---------|-------------------\n\n 3 pass\n 0 fail\n 3 expect() calls\n```\n\n----------------------------------------\n\nTITLE: Running Tests in Specific Directory with Bun Test\nDESCRIPTION: Example showing how to run all test files within the 'utils' directory by using a path filter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test utils\n```\n\n----------------------------------------\n\nTITLE: Querying Inserted Author Records with Drizzle ORM (TypeScript)\nDESCRIPTION: Demonstrates querying all rows from the authors table using Drizzle ORM's select API, with the result printed to the console. Assumes previous seeding of table and a valid db/schema import; result is an array of author objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nimport * as schema from \"./schema\";\\nimport { db } from \"./db\";\\n\\nconst result = await db.select().from(schema.authors);\\nconsole.log(result);\n```\n\n----------------------------------------\n\nTITLE: Writing and reading Uint16 values with DataView\nDESCRIPTION: Shows how to write a 16-bit unsigned integer (which uses 2 bytes) to an ArrayBuffer using DataView. The example demonstrates the byte-level representation of the value 513 (2*256 + 1).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\ndv.setUint16(1, 513);\n// [0b00000011, 0b00000010, 0b00000001, 0b00000000]\n\nconsole.log(dv.getUint16(1)); // => 513\n```\n\n----------------------------------------\n\nTITLE: Manual Buffering with ArrayBufferSink\nDESCRIPTION: Implements a manual buffering solution using Bun's ArrayBufferSink to efficiently collect multiple small writes before sending them to a socket in a single operation, with handling for backpressure.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport { ArrayBufferSink } from \"bun\";\n\nconst sink = new ArrayBufferSink();\nsink.start({ stream: true, highWaterMark: 1024 });\n\nsink.write(\"h\");\nsink.write(\"e\");\nsink.write(\"l\");\nsink.write(\"l\");\nsink.write(\"o\");\n\nqueueMicrotask(() => {\n  const data = sink.flush();\n  const wrote = socket.write(data);\n  if (wrote < data.byteLength) {\n    // put it back in the sink if the socket is full\n    sink.write(data.subarray(wrote));\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Running Bun from Pull Request\nDESCRIPTION: Downloads a release build from a specified GitHub pull request using `bunx bun-pr`, adding it to the PATH with a PR-specific name for testing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_21\n\nLANGUAGE: sh\nCODE:\n```\nbunx bun-pr <pr-number>\nbunx bun-pr <branch-name>\nbunx bun-pr \"https://github.com/oven-sh/bun/pull/1234566\"\n```\n\n----------------------------------------\n\nTITLE: Executing Bun Tests using Bash\nDESCRIPTION: Shows the basic command to run all tests in the current project using the Bun test runner. It recursively searches the working directory for files matching specific patterns (*.test.*, *_test.*, *.spec.*, *_spec.*) and executes them.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test\n```\n\n----------------------------------------\n\nTITLE: Using AbortSignal with Child Process in TypeScript\nDESCRIPTION: Demonstrates how to abort a child process using an AbortSignal.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst controller = new AbortController();\nconst { signal } = controller;\n\nconst proc = Bun.spawn({\n  cmd: [\"sleep\", \"100\"],\n  signal,\n});\n\n// Later, to abort the process:\ncontroller.abort();\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Buffer in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to a Buffer: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nconst buf = await new Response(stream).arrayBuffer();\nBuffer.from(buf);\n\n// with Bun function\nBuffer.from(Bun.readableStreamToArrayBuffer(stream));\n```\n\n----------------------------------------\n\nTITLE: Importing Text Files in TypeScript\nDESCRIPTION: Demonstrates how to import text files as strings in TypeScript using Bun. This feature allows direct import of text file contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport text from \"./text.txt\";\nconsole.log(text);\n// => \"Hello world!\"\n```\n\nLANGUAGE: txt\nCODE:\n```\nHello world!\n```\n\n----------------------------------------\n\nTITLE: Using Bun.inspect for Syntax-Highlighted Error Previews\nDESCRIPTION: Demonstrates how to use Bun.inspect() to generate a syntax-highlighted source code preview for an error, which helps with debugging by showing the exact location where an error occurred.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\n// Create an error\nconst err = new Error(\"Something went wrong\");\nconsole.log(Bun.inspect(err, { colors: true }));\n```\n\n----------------------------------------\n\nTITLE: Killing and Detaching Child Processes in TypeScript\nDESCRIPTION: Demonstrates how to kill a child process and detach it from the parent process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"]);\nproc.kill();\nproc.killed; // true\n\nproc.kill(15); // specify a signal code\nproc.kill(\"SIGTERM\"); // specify a signal name\n\nconst proc2 = Bun.spawn([\"bun\", \"--version\"]);\nproc2.unref();\n```\n\n----------------------------------------\n\nTITLE: Importing JSON in TypeScript\nDESCRIPTION: Shows how to import JSON files directly in TypeScript. During bundling, the JSON is inlined as a JavaScript object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport pkg from \"./package.json\";\npkg.name; // => \"my-package\"\n```\n\n----------------------------------------\n\nTITLE: Running Dev Server with Bun Script\nDESCRIPTION: Starts the development server using the updated package.json script\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nbun run dev\n```\n\n----------------------------------------\n\nTITLE: Handling Process Exit Event in Bun\nDESCRIPTION: Demonstrates how to listen for the process exit event, which is triggered when the process is about to exit. The callback receives the exit code as a parameter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/os-signals.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.on(\"exit\", code => {\n  console.log(`Process exited with code ${code}`);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom File Loaders in Bun\nDESCRIPTION: Maps file extensions to specific loaders, allowing Bun to handle custom file types. This example treats .bagel files as TSX files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[loader]\n# when a .bagel file is imported, treat it like a tsx file\n\".bagel\" = \"tsx\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Discovery Root Directory\nDESCRIPTION: Sets a specific root directory for test discovery, limiting test scanning to a particular directory instead of the entire project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[test]\nroot = \"src\"  # Only scan for tests in the src directory\n```\n\n----------------------------------------\n\nTITLE: Writing Different Data Types to FileSink in TypeScript\nDESCRIPTION: This snippet demonstrates how to write different types of data to a FileSink, including strings, Buffer objects, and Uint8Array. It shows the flexibility of the .write() method in accepting various data formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/filesink.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nw.write(\"hello\");\nw.write(Buffer.from(\"there\"));\nw.write(new Uint8Array([0, 255, 128]));\nwriter.flush();\n```\n\n----------------------------------------\n\nTITLE: Creating entitlements.plist for JavaScript engine permissions\nDESCRIPTION: Defines a macOS entitlements file with special permissions required for JavaScript engines to function properly, including JIT compilation, unsigned executable memory, and dynamic library loading.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/codesign-macos-executable.md#2025-04-22_snippet_2\n\nLANGUAGE: xml\nCODE:\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.allow-unsigned-executable-memory</key>\n    <true/>\n    <key>com.apple.security.cs.disable-executable-page-protection</key>\n    <true/>\n    <key>com.apple.security.cs.allow-dyld-environment-variables</key>\n    <true/>\n    <key>com.apple.security.cs.disable-library-validation</key>\n    <true/>\n</dict>\n</plist>\n```\n\n----------------------------------------\n\nTITLE: Dashboard HTML Template for React Integration\nDESCRIPTION: HTML template that serves as the container for a React application. The script tag references a TypeScript/React file that will be bundled by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Dashboard</title>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"../src/frontend.tsx\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Error Handling in Bun.serve\nDESCRIPTION: Implementation of structured error handling in Bun.serve with automatic error catching in routes and a global error handler for consistent error responses.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    // Errors are caught automatically\n    \"/api/risky\": () => {\n      throw new Error(\"Something went wrong\");\n    },\n  },\n  // Global error handler\n  error(error) {\n    console.error(error);\n    return new Response(`Internal Error: ${error.message}`, {\n      status: 500,\n      headers: {\n        \"Content-Type\": \"text/plain\",\n      },\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Trusted Dependencies for Lifecycle Scripts in Bun\nDESCRIPTION: This diff shows how to add a package to the trustedDependencies array in package.json, allowing Bun to execute its lifecycle scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lifecycle.md#2025-04-22_snippet_1\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"version\": \"1.0.0\",\n+   \"trustedDependencies\": [\"node-sass\"]\n  }\n```\n\n----------------------------------------\n\nTITLE: Creating TypedArray from ArrayBuffer Slice with Byte Offset and Length (JavaScript/TypeScript)\nDESCRIPTION: This code demonstrates creating a typed array (Uint32Array) that views only a specific slice of an ArrayBuffer. By passing both byteOffset and length to the constructor, you can select a valid region of the buffer, avoiding errors triggered by incompatible buffer sizes. Comments illustrate how the underlying bytes map onto array elements. No external dependencies; works in Node.js, Bun, or browsers with ES2015+ support. Provides both the exact byte offset and logical length available from the resulting TypedArray.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_9\n\nLANGUAGE: TypeScript\nCODE:\n```\n// create typed array from ArrayBuffer slice\nconst buf = new ArrayBuffer(10);\nconst arr = new Uint32Array(buf, 0, 2);\n\n/*\n  buf    _ _ _ _ _ _ _ _ _ _    10 bytes\n  arr   [_______,_______]       2 4-byte elements\n*/\n\narr.byteOffset; // 0\narr.length; // 2\n```\n\n----------------------------------------\n\nTITLE: Error Handling in HTMLRewriter\nDESCRIPTION: Example of proper error handling for HTMLRewriter operations including try-catch block usage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\ntry {\n  const result = rewriter.transform(input);\n  // Process result\n} catch (error) {\n  console.error(\"HTMLRewriter error:\", error);\n}\n```\n\n----------------------------------------\n\nTITLE: Automatic Content-Type Detection for Files in Bun HTTP Responses\nDESCRIPTION: This snippet shows how Bun automatically detects and sets the appropriate Content-Type header based on the file extension. Different file types result in different content type headers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-file.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nnew Response(Bun.file(\"./package.json\")).headers.get(\"Content-Type\");\n// => application/json;charset=utf-8\n\nnew Response(Bun.file(\"./test.txt\")).headers.get(\"Content-Type\");\n// => text/plain;charset=utf-8\n\nnew Response(Bun.file(\"./index.tsx\")).headers.get(\"Content-Type\");\n// => text/javascript;charset=utf-8\n\nnew Response(Bun.file(\"./img.png\")).headers.get(\"Content-Type\");\n// => image/png\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Root Directory in bunfig.toml\nDESCRIPTION: Specify a custom root directory for test discovery by adding a [test] section to your bunfig.toml configuration file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[test]\nroot = \"src\"  # Only scan for tests in the src directory\n```\n\n----------------------------------------\n\nTITLE: Custom object inspection with Bun.inspect.custom in TypeScript\nDESCRIPTION: Shows how to customize object inspection by implementing the Bun.inspect.custom symbol method. This allows control over how objects are displayed when using console.log() or Bun.inspect().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nclass Foo {\n  [Bun.inspect.custom]() {\n    return \"foo\";\n  }\n}\n\nconst foo = new Foo();\nconsole.log(foo); // => \"foo\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Minification Options in Bun.build using TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates configuring minification in `Bun.build`. The `minify` option can be set to `true` to enable all minification types (identifiers, syntax, whitespace). Alternatively, it can be an object to selectively enable or disable specific minification aspects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  // enable all minification\n  minify: true\n\n  // granular options\n  minify: {\n    identifiers: true,\n    syntax: true,\n    whitespace: true\n  }\n})\n```\n```\n\n----------------------------------------\n\nTITLE: Resetting System Time in bun:test\nDESCRIPTION: Demonstrates how to reset the system time to the real time by calling setSystemTime without arguments after previously setting a mock time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { setSystemTime, expect, test } from \"bun:test\";\n\ntest(\"it was 2020, for a moment.\", () => {\n  // Set it to something!\n  setSystemTime(new Date(\"2020-01-01T00:00:00.000Z\"));\n  expect(new Date().getFullYear()).toBe(2020);\n\n  // reset it!\n  setSystemTime();\n\n  expect(new Date().getFullYear()).toBeGreaterThan(2020);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Happy DOM Global Registration\nDESCRIPTION: TypeScript setup file that registers Happy DOM's mocked browser APIs in the global scope\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/happy-dom.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { GlobalRegistrator } from \"@happy-dom/global-registrator\";\n\nGlobalRegistrator.register();\n```\n\n----------------------------------------\n\nTITLE: Setting Port Access Permissions for Non-Root Users\nDESCRIPTION: Command to grant Bun permission to bind to privileged ports (80, 443) when running as a non-root user.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo setcap CAP_NET_BIND_SERVICE=+eip ~/.bun/bin/bun\n```\n\n----------------------------------------\n\nTITLE: Writing Byte Arrays\nDESCRIPTION: Demonstrates writing encoded byte arrays to files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst encoder = new TextEncoder();\nconst data = encoder.encode(\"datadatadata\"); // Uint8Array\nawait Bun.write(\"output.txt\", data);\n```\n\n----------------------------------------\n\nTITLE: Using Shebang with Bun Runtime\nDESCRIPTION: Commands for forcing bun runtime instead of node when executing scripts with shebangs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\n# Force using Bun's runtime instead of node\n$ bun --bun my-script\n\n# This also works:\n$ bun run --bun my-script\n```\n\n----------------------------------------\n\nTITLE: Building with ESM Format - Bun JavaScript API - JavaScript\nDESCRIPTION: Configures Bun.build to output ES Module-formatted bundles, using explicit format 'esm'. Supports top-level await, import.meta, and is optimal for modern browsers or environments supporting ES Modules. Requires specifying entry file(s) and output directory. Outputs files in ES Module format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_21\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  format: \"esm\",\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring test preloads in bunfig.toml\nDESCRIPTION: Configuration of test preload files in bunfig.toml. This allows you to specify files that should be automatically preloaded when running tests, without having to specify the --preload flag each time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = [\"./setup.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Virtual Module Plugin Example\nDESCRIPTION: Demonstrates how to create virtual modules at runtime using Bun's plugin API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"my-virtual-module\",\n\n  setup(build) {\n    build.module(\n      // The specifier, which can be any string - except a built-in, such as \"buffer\"\n      \"my-transpiled-virtual-module\",\n      // The callback to run when the module is imported or required for the first time\n      () => {\n        return {\n          contents: \"console.log('hello world!')\",\n          loader: \"js\",\n        };\n      },\n    );\n\n    build.module(\"my-object-virtual-module\", () => {\n      return {\n        exports: {\n          foo: \"bar\",\n        },\n        loader: \"object\",\n      };\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: DNS Prefetch with Fetch Example\nDESCRIPTION: Demonstrates a practical usage of dns.prefetch before making an HTTP request with fetch(). By prefetching the DNS entry, the subsequent fetch call can avoid the initial DNS lookup delay.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/dns.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport {dns} from \"bun\";\n\ndns.prefetch(\"bun.sh\", 443);\n//\n// ... sometime later ...\nawait fetch(\"https://bun.sh\");\n```\n\n----------------------------------------\n\nTITLE: Executing a Raw SQL Query with Drizzle in Bun (TypeScript)\nDESCRIPTION: Demonstrates executing a simple raw SQL query using Drizzle's `sql` template tag helper and the `db.get` method. It imports the initialized `db` instance from `./db.ts` and executes a query to select the string \"hello world\". The result, typed as an object with a `text` property, is then logged to the console. Depends on the `db` instance from `db.ts`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\n#index.ts\nimport { db } from \"./db\";\nimport { sql } from \"drizzle-orm\";\n\nconst query = sql`select \\\"hello world\\\" as text`;\nconst result = db.get<{ text: string }>(query);\nconsole.log(result);\n```\n\n----------------------------------------\n\nTITLE: Converting Uint8Array to Buffer using Buffer.from() (TypeScript)\nDESCRIPTION: This TypeScript snippet demonstrates creating a Node.js `Buffer` instance from a `Uint8Array`. It uses the static `Buffer.from()` method, which accepts the `Uint8Array` (`arr`) as input and returns a new `Buffer` (`buf`) containing the same binary data. This conversion is useful when needing access to the additional methods provided by the `Buffer` class compared to a standard `Uint8Array`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-buffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nconst arr: Uint8Array = ...\nconst buf = Buffer.from(arr);\n```\n```\n\n----------------------------------------\n\nTITLE: Hot Reload Counter Example in TypeScript\nDESCRIPTION: A TypeScript file that demonstrates hot reloading by tracking the number of times it has been reloaded while preserving global state between reloads.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\n// make TypeScript happy\ndeclare global {\n  var count: number;\n}\n\nglobalThis.count ??= 0;\nconsole.log(`Reloaded ${globalThis.count} times`);\nglobalThis.count++;\n\n// prevent `bun run` from exiting\nsetInterval(function () {}, 1000000);\n```\n\n----------------------------------------\n\nTITLE: Async Test Definition\nDESCRIPTION: Example of writing an async test using async/await syntax\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, test } from \"bun:test\";\n\ntest(\"2 * 2\", async () => {\n  const result = await Promise.resolve(2 * 2);\n  expect(result).toEqual(4);\n});\n```\n\n----------------------------------------\n\nTITLE: Verifying Code Signature of a macOS Executable using Shell\nDESCRIPTION: This shell command uses the `codesign` utility with the `-vvv --verify` flags to check the validity of the code signature applied to a macOS executable (`./myapp`). Successful verification confirms the executable is properly signed and satisfies its designated requirements.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\n$ codesign -vvv --verify ./myapp\n./myapp: valid on disk\n./myapp: satisfies its Designated Requirement\n```\n\n----------------------------------------\n\nTITLE: Installing bun-plugin-svelte with Bun\nDESCRIPTION: Command to install bun-plugin-svelte as a development dependency using Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-svelte/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add -D bun-plugin-svelte\n```\n\n----------------------------------------\n\nTITLE: Converting CookieMap to JSON\nDESCRIPTION: How to convert a CookieMap to a serializable format using the toJSON() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst json = cookies.toJSON();\n```\n\n----------------------------------------\n\nTITLE: Installing Happy DOM Dependencies\nDESCRIPTION: Command to install Happy DOM global registrator package as a dev dependency.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nbun add -D @happy-dom/global-registrator\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to DataView in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to a DataView: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nconst buf = await new Response(stream).arrayBuffer();\nnew DataView(buf);\n\n// with Bun function\nnew DataView(Bun.readableStreamToArrayBuffer(stream));\n```\n\n----------------------------------------\n\nTITLE: Preparing a Package for Patching with Bun\nDESCRIPTION: This snippet demonstrates different ways to prepare a package for patching using the `bun patch` command. It shows how to specify a package by name, version, or path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/patch.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# you can supply the package name\n$ bun patch react\n\n# ...and a precise version in case multiple versions are installed\n$ bun patch react@17.0.2\n\n# or the path to the package\n$ bun patch node_modules/react\n```\n\n----------------------------------------\n\nTITLE: Mixed Import and Require Usage\nDESCRIPTION: Demonstrates how Bun allows using both import and require in the same file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_10\n\nLANGUAGE: ts\nCODE:\n```\nimport { stuff } from \"./my-commonjs.cjs\";\nimport Stuff from \"./my-commonjs.cjs\";\nconst myStuff = require(\"./my-commonjs.cjs\");\n```\n\n----------------------------------------\n\nTITLE: Resolving paths relative to current locations in TypeScript\nDESCRIPTION: Demonstrates techniques for resolving paths relative to the current working directory or current file using Bun.resolveSync(). Shows different approaches for getting context-aware path resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_28\n\nLANGUAGE: typescript\nCODE:\n```\nBun.resolveSync(\"./foo.ts\", process.cwd());\nBun.resolveSync(\"./foo.ts\", \"/path/to/project\");\n```\n\n----------------------------------------\n\nTITLE: Installing EdgeDB JS Client and Codegen CLI, Creating Seed File (Shell)\nDESCRIPTION: This snippet installs the EdgeDB JavaScript client and the `@edgedb/generate` CLI as dev dependencies using Bun, then creates a new `seed.ts` file. Dependencies: Bun. Input: None. Output: Project is set up for interacting with EdgeDB from JavaScript and for generating typed query builders.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nbun add edgedb\nbun add -D @edgedb/generate\ntouch seed.ts\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables via Command Line on Linux/macOS\nDESCRIPTION: How to set environment variables from the command line when running Bun applications on Unix-based systems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ FOO=helloworld bun run dev\n```\n\n----------------------------------------\n\nTITLE: Running Bun in Hot Reload Mode\nDESCRIPTION: Command to run a TypeScript server file with Bun's --hot mode, which performs soft reloads when files change without restarting the process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --hot server.ts\n```\n\n----------------------------------------\n\nTITLE: Attaching Data to Sockets with Generic Types\nDESCRIPTION: Shows how to associate custom data with a socket connection using TypeScript generics. The example attaches a session ID in the open handler and later references it when responding to data events.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\ntype SocketData = { sessionId: string };\n\nBun.listen<SocketData>({\n  hostname: \"localhost\",\n  port: 8080,\n  socket: {\n    data(socket, data) {\n      socket.write(`${socket.data.sessionId}: ack`);\n    },\n    open(socket) {\n      socket.data = { sessionId: \"abcd\" };\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Creating an Unreferenced Worker with Constructor Options\nDESCRIPTION: Example of creating a worker that doesn't keep the main process alive by setting ref: false in the constructor options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href, {\n  ref: false,\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Git dependencies with Bun\nDESCRIPTION: Command to install a dependency from a Git repository using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install git@github.com:moment/moment.git\n```\n\n----------------------------------------\n\nTITLE: Optimized File Operations using Bun.file and Bun.write\nDESCRIPTION: Demonstrates Bun's optimized file operations using Bun.file to create a lazily-loaded Blob and Bun.write for efficient file copying using system-specific optimizations like copy_file_range on Linux or clonefile on macOS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst blob = Bun.file(\"input.txt\");\nawait Bun.write(\"output.txt\", blob);\n```\n\n----------------------------------------\n\nTITLE: JSON Import Example\nDESCRIPTION: Example of importing a JSON file in a bundle, which will be parsed and included as a JavaScript object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport pkg from \"./package.json\";\npkg.name; // => \"my-package\"\n```\n\n----------------------------------------\n\nTITLE: Child Process IPC Communication\nDESCRIPTION: Shows how the child process can communicate with its parent using process.send() and process.on('message'). Compatible with Node.js child_process.fork() API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/ipc.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.send(\"Hello from child as string\");\nprocess.send({ message: \"Hello from child as object\" });\n\nprocess.on(\"message\", (message) => {\n  // print message from parent\n  console.log(message);\n});\n```\n\n----------------------------------------\n\nTITLE: Using Bun's Bundler in Watch Mode\nDESCRIPTION: This command runs Bun's bundler in watch mode, which automatically rebuilds when source files change.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --watch\n```\n\n----------------------------------------\n\nTITLE: Creating SQLite Database if Not Exists\nDESCRIPTION: This example demonstrates how to create a new SQLite database file if it doesn't already exist. It uses the 'create' option in the Database constructor.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\nconst db = new Database(\"mydb.sqlite\", { create: true });\n```\n\n----------------------------------------\n\nTITLE: Configuring loader in Bun Build (JavaScript)\nDESCRIPTION: Maps file extensions to built-in loader types, customizing how specific file types are processed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_52\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  loader: {\n    \".png\": \"dataurl\",\n    \".txt\": \"file\",\n  },\n})\n```\n\n----------------------------------------\n\nTITLE: Setting Registry-Specific Authentication in bunfig.toml for Bun\nDESCRIPTION: Configures registry authentication using the install.scopes section in bunfig.toml, providing URL, username, and password fields. This is the Bun-specific equivalent to the registry-specific authentication in .npmrc.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\nmyorg = { url = \"http://localhost:4873/\", username = \"myusername\", password = \"$NPM_PASSWORD\" }\n```\n\n----------------------------------------\n\nTITLE: Initializing TypedArray from ArrayBuffer (JavaScript/TypeScript)\nDESCRIPTION: This example shows how to create a typed array, specifically a Uint8Array, from a pre-allocated ArrayBuffer. The first elements are then set, with the rest automatically initialized to zero. The code demonstrates direct construction and assignment, and highlights that all elements start as zero, emphasizing predictable buffer initialization. This approach is dependencies-free and works with any JavaScript or TypeScript environment supporting TypedArrays. Outputs a newly constructed Uint8Array with user-specified and zero-filled elements.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_7\n\nLANGUAGE: TypeScript\nCODE:\n```\n// create typed array from ArrayBuffer\nconst buf = new ArrayBuffer(10);\nconst arr = new Uint8Array(buf);\n\narr[0] = 30;\narr[1] = 60;\n\n// all elements are initialized to zero\nconsole.log(arr); // => Uint8Array(10) [ 30, 60, 0, 0, 0, 0, 0, 0, 0, 0 ];\n```\n\n----------------------------------------\n\nTITLE: Sample Output Code After Inline Environment Variables - JavaScript\nDESCRIPTION: Represents the result of building with env: 'inline': process.env references have been replaced by actual values from environment variables at build time. Used as a didactic illustration for the environment variable inlining feature.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_37\n\nLANGUAGE: JavaScript\nCODE:\n```\nconsole.log(\"bar\");\nconsole.log(\"123\");\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies (Ubuntu/Debian)\nDESCRIPTION: Installs the necessary dependencies for building Bun on Ubuntu or Debian-based systems using apt. It includes compilers, build tools, and libraries required for the project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo apt install curl wget lsb-release software-properties-common cargo ccache cmake git golang libtool ninja-build pkg-config rustc ruby-full xz-utils\n```\n\n----------------------------------------\n\nTITLE: Running the Database Seeding Script (Shell Script)\nDESCRIPTION: Shows the Bun shell command for running the seed script and the expected console output upon completion. Input: seed.ts script; output: success message on successful seeding.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run seed.ts\\nSeeding completed\n```\n\n----------------------------------------\n\nTITLE: Printing All Environment Variables Using Bun CLI\nDESCRIPTION: This shell command demonstrates how to print all currently-set environment variables to the command line for debugging purposes using the 'bun --print process.env' command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/read-env.md#2025-04-22_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n$ bun --print process.env\nBAZ=stuff\nFOOBAR=aaaaaa\n<lots more lines>\n```\n\n----------------------------------------\n\nTITLE: Writing File Contents to stdout in Bun with TypeScript\nDESCRIPTION: This code reads a file from a specified path and writes its contents to standard output using Bun's file I/O API. It demonstrates how Bun exposes stdout as a BunFile that can be used as a destination for Bun.write(), similar to the Unix 'cat' command functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/cat.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nconst file = Bun.file(path);\nawait Bun.write(Bun.stdout, file);\n```\n\n----------------------------------------\n\nTITLE: Output After Prefix Based Inlining - JavaScript\nDESCRIPTION: Shows the bundle output code where only the environment variable with the public prefix has been inlined, while others remain as process.env references. Demonstrates partial inlining capability.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_42\n\nLANGUAGE: JavaScript\nCODE:\n```\nconsole.log(process.env.FOO);\nconsole.log(\"https://acme.com\");\nconsole.log(process.env.BAZ);\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Preload Scripts in Bun\nDESCRIPTION: Specifies scripts to run before executing tests with bun test. Useful for test setup and initialization.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_8\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = [\"./setup.ts\"]\n```\n\n----------------------------------------\n\nTITLE: JSX Import Source Pragma Example\nDESCRIPTION: Example of using the JSX import source pragma to set the JSX import source on a per-file basis rather than in configuration. The pragma is a special comment that overrides the compiler setting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_22\n\nLANGUAGE: ts\nCODE:\n```\n// @jsxImportSource preact\n```\n\n----------------------------------------\n\nTITLE: HTML with TailwindCSS Import\nDESCRIPTION: HTML file example showing how to import TailwindCSS for use with the bun-plugin-tailwind plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_13\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html>\n  <head>\n    <title>Home</title>\n    <link rel=\"stylesheet\" href=\"tailwindcss\" />\n  </head>\n  <body>\n    <!-- the rest of your HTML... -->\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun to Preload Happy DOM with bunfig.toml\nDESCRIPTION: TOML configuration for Bun that preloads the Happy DOM setup file before running tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = \"./happydom.ts\"\n```\n\n----------------------------------------\n\nTITLE: Running the Discord Bot using Bun\nDESCRIPTION: Shows the command `bun run bot.ts` used to execute the TypeScript bot file (`bot.ts`). It also displays example console output indicating the bot has successfully initialized and logged in.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run bot.ts\nReady! Logged in as my-bot#1234\n```\n\n----------------------------------------\n\nTITLE: Structuring an HTML Entry Point for Single Page Applications\nDESCRIPTION: An HTML template for a React or other client-side routing SPA that renders into a root div element. Bun will automatically handle the TypeScript/JSX transpilation and bundling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html>\n  <head>\n    <title>My SPA</title>\n    <script src=\"./app.tsx\" type=\"module\"></script>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Creating UDP Socket in Bun\nDESCRIPTION: Demonstrates how to create and bind a UDP socket with optional port specification using Bun.udpSocket()\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.udpSocket({})\nconsole.log(socket.port); // assigned by the operating system\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.udpSocket({\n  port: 41234\n})\nconsole.log(socket.port); // 41234\n```\n\n----------------------------------------\n\nTITLE: Configuring Max Simultaneous HTTP Requests using Environment Variable in Shell\nDESCRIPTION: This snippet illustrates how to adjust the maximum number of simultaneous `fetch` requests allowed by Bun using the `BUN_CONFIG_MAX_HTTP_REQUESTS` environment variable. By default, Bun limits this to 256 to improve stability and encourage connection reuse. Setting this variable allows overriding the default limit when running a Bun script. Requires the `bun` CLI and a shell environment.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_26\n\nLANGUAGE: sh\nCODE:\n```\n```sh\n$ BUN_CONFIG_MAX_HTTP_REQUESTS=512 bun ./my-script.ts\n```\n```\n\n----------------------------------------\n\nTITLE: JSX Pretty Printing Example\nDESCRIPTION: An example demonstrating Bun's special JSX pretty-printing for console.log, which makes debugging component trees easier by showing a more readable representation of JSX components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_23\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Stack, UserCard } from \"./components\";\n\nconsole.log(\n  <Stack>\n    <UserCard name=\"Dom\" bio=\"Street racer and Corona lover\" />\n    <UserCard name=\"Jakob\" bio=\"Super spy and Dom's secret brother\" />\n  </Stack>\n);\n```\n\n----------------------------------------\n\nTITLE: Converting a Uint8Array to a Regular Array in TypeScript\nDESCRIPTION: This snippet illustrates converting the contents of an ArrayBuffer (viewed as a Uint8Array) into a regular array of numbers using Array.from(). This is useful when operations require JavaScript Arrays instead of TypedArrays. No dependencies are needed; key parameters are the original buffer and the conversion target. Input is a Uint8Array; output is an array of numbers, with possible performance considerations when converting large buffers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-array.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = new ArrayBuffer(64);\nconst uintArr = new Uint8Array(buf);\nconst regularArr = Array.from(uintArr);\n// number[]\n```\n\n----------------------------------------\n\nTITLE: Defining a Basic Elysia HTTP Server (TypeScript)\nDESCRIPTION: This TypeScript code initializes a new Elysia application using `new Elysia()`. It defines a GET route for the root path ('/') that returns the string 'Hello Elysia' when requested. Finally, it starts the HTTP server, making it listen for incoming requests on port 8080. A confirmation message is logged to the console indicating the server is running and on which port.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/elysia.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// server.ts\nimport { Elysia } from 'elysia'\n\nconst app = new Elysia()\n\t.get('/', () => 'Hello Elysia')\n\t.listen(8080)\n\nconsole.log(`\\ud83e\\udd8a Elysia is running at on port ${app.server?.port}...`)\n```\n\n----------------------------------------\n\nTITLE: Disabling Content Hashing for Embedded Assets in Bun Build (Shell)\nDESCRIPTION: This shell command demonstrates how to compile a Bun application (`./index.ts`) into a standalone executable while preventing the default behavior of adding a content hash to embedded asset filenames. The `--asset-naming=\"[name].[ext]\"` flag ensures original filenames are preserved.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\n$ bun build --compile --asset-naming=\"[name].[ext]\" ./index.ts\n```\n\n----------------------------------------\n\nTITLE: Running the Remix Development Server with Bun\nDESCRIPTION: Demonstrates how to start the Remix development server by running the 'bun run dev' command. This command starts the dev server which runs on http://localhost:3000. Note that Node.js is used under the hood to run the actual server.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/remix.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ cd my-app\n$ bun run dev\n  $ remix dev\n\n  💿  remix dev\n\n  info  building...\n  info  built (263ms)\n  Remix App Server started at http://localhost:3000 (http://172.20.0.143:3000)\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Install with bunfig.toml\nDESCRIPTION: TOML configuration file for bun install showing various settings including scoped packages, registry configuration, installation options, and cache settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-install.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n# Using scoped packages with bun install\n[install.scopes]\n\n\"@mybigcompany\" = { token = \"123456\", url = \"https://registry.mybigcompany.com\" }\nmybigcompany2 = { token = \"123456\" }\nmybigcompany3 = { token = \"$npm_config_token\" }\nmybigcompany4 = { username = \"myusername\", password = \"$npm_config_password\", url = \"https://registry.yarnpkg.com/\" }\nmybigcompany5 = \"https://username:password@registry.yarnpkg.com/\"\nmybigcompany6 = \"https://:$NPM_CONFIG_TOKEN@registry.yarnpkg.com/\"\n\n[install]\nregistry = \"https://registry.yarnpkg.com/\"\nproduction = false\nsaveTextLockfile = false\nfrozenLockfile = false\ndryRun = true\noptional = true\ndev = true\npeer = true\nconcurrentScripts = 16\nglobalDir = \"~/.bun/install/global\"\nglobalBinDir = \"~/.bun/bin\"\n\n[install.cache]\ndir = \"~/.bun/install/cache\"\ndisable = false\ndisableManifest = false\n\n[install.lockfile]\nprint = \"yarn\"\nsave = true\n```\n\n----------------------------------------\n\nTITLE: Using CSS Math Functions\nDESCRIPTION: Demonstrates usage of CSS mathematical functions including clamp, round, trigonometric and exponential functions for dynamic styling. Shows how Bun optimizes these expressions at build time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_22\n\nLANGUAGE: css\nCODE:\n```\n.dynamic-sizing {\n  width: clamp(200px, 50%, 800px);\n  padding: round(14.8px, 5px);\n  transform: rotate(calc(sin(45deg) * 50deg));\n  --scale-factor: pow(1.25, 3);\n  font-size: calc(16px * var(--scale-factor));\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n.dynamic-sizing {\n  width: clamp(200px, 50%, 800px);\n  padding: 15px;\n  transform: rotate(35.36deg);\n  --scale-factor: 1.953125;\n  font-size: calc(16px * var(--scale-factor));\n}\n```\n\n----------------------------------------\n\nTITLE: Embedding SQLite Database in Bundle\nDESCRIPTION: Shows how to embed a SQLite database into the bundle using the embed attribute, useful for standalone executables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\n// embed the database into the bundle\nimport db from \"./my.db\" with { type: \"sqlite\", embed: \"true\" };\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Text using Bun\nDESCRIPTION: Demonstrates the usage of Bun.readableStreamToText() utility function to convert a ReadableStream instance into a string. The function returns a Promise that resolves to the stream's contents as a string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst str = await Bun.readableStreamToText(stream);\n```\n\n----------------------------------------\n\nTITLE: Setting Time Zone via Command Line in Bun (Shell)\nDESCRIPTION: This command demonstrates how to set the time zone when running a Bun command from the command line. It sets the TZ environment variable before executing the 'bun run dev' command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/timezone.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ TZ=America/New_York bun run dev\n```\n\n----------------------------------------\n\nTITLE: Getting All Query Results as Arrays with .values() (TypeScript)\nDESCRIPTION: Uses Bun's query.values() to obtain all matching rows as arrays of column values, rather than objects. Demonstrates usage with both named parameters and positional arguments, returning JavaScript arrays with records.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_15\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(`select $message;`);\nquery.values({ $message: \"Hello world\" });\n\nquery.values(2);\n// [\n//   [ \"Iron Man\", 2008 ],\n//   [ \"The Avengers\", 2012 ],\n//   [ \"Ant-Man: Quantumania\", 2023 ],\n// ]\n\n```\n\n----------------------------------------\n\nTITLE: Replacing global identifiers with --define\nDESCRIPTION: This shell command demonstrates how to use --define to replace all instances of 'window' with 'undefined'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nbun --define window=\"undefined\" src/index.ts\n```\n\n----------------------------------------\n\nTITLE: Setting Time Zone Programmatically in Bun (TypeScript)\nDESCRIPTION: This snippet shows how to programmatically set the default time zone for a Bun process by setting the TZ environment variable. This affects the time zone for the entire process lifetime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/timezone.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.env.TZ = \"America/New_York\";\n```\n\n----------------------------------------\n\nTITLE: Using BuildArtifact with HTTP Responses\nDESCRIPTION: Example showing how to use build artifacts directly in HTTP responses with proper content-type headers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_62\n\nLANGUAGE: typescript\nCODE:\n```\nconst build = await Bun.build({\n  /* */\n});\n\nconst artifact = build.outputs[0];\n\n// Content-Type header is automatically set\nreturn new Response(artifact);\n```\n\n----------------------------------------\n\nTITLE: Updating a Specific Dependency - Bun CLI - Shell\nDESCRIPTION: This shell snippet shows how to update a single specified dependency to its latest version that satisfies the version range in the package.json, using the Bun CLI. Requires Bun and a valid package.json. The [package] argument should be replaced with the dependency name (e.g., react, lodash); only the targeted package will be updated.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/update.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun update [package]\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Uint8Array in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to a Uint8Array: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nnew Response(stream).bytes();\n\n// with Bun function\nBun.readableStreamToBytes(stream);\n```\n\n----------------------------------------\n\nTITLE: Creating a Worker with a Single Preloaded Module\nDESCRIPTION: Example of creating a Worker with a single string passed to the preload option instead of an array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst worker = new Worker(\"./worker.ts\", {\n  preload: \"./load-sentry.js\",\n});\n```\n\n----------------------------------------\n\nTITLE: TypeScript Experimental Decorators Example\nDESCRIPTION: Implementation of a logging decorator using TypeScript's experimental decorators syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// Simple logging decorator\nfunction log(target: any, propertyKey: string, descriptor: PropertyDescriptor) {\n  const originalMethod = descriptor.value;\n\n  descriptor.value = function(...args: any[]) {\n    console.log(`Calling ${propertyKey} with:`, args);\n    return originalMethod.apply(this, args);\n  };\n}\n\nclass Example {\n  @log\n  greet(name: string) {\n    return `Hello ${name}!`;\n  }\n}\n\n// Usage\nconst example = new Example();\nexample.greet(\"world\"); // Logs: \"Calling greet with: ['world']\"\n```\n\n----------------------------------------\n\nTITLE: Configuring banner in Bun Build (CLI)\nDESCRIPTION: Command-line interface for adding text at the beginning of bundled files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_55\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --banner \"\\\"use client\\\";\"\n```\n\n----------------------------------------\n\nTITLE: Performance-Optimized Handler Pattern in Bun\nDESCRIPTION: Demonstrates Bun's approach to socket handlers, which declares handlers once per server instead of per socket to reduce garbage collection pressure and memory usage in performance-sensitive applications.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.listen({\n  hostname: \"localhost\",\n  port: 8080,\n  socket: {\n    open(socket) {},\n    data(socket, data) {},\n    drain(socket) {},\n    close(socket, error) {},\n    error(socket, error) {},\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Reading Child Process Output in TypeScript\nDESCRIPTION: Demonstrates how to read the output of a child process using the stdout property.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"]);\nconst text = await new Response(proc.stdout).text();\nconsole.log(text); // => \"$BUN_LATEST_VERSION\"\n```\n\n----------------------------------------\n\nTITLE: Deleting Cookies with CookieMap.delete()\nDESCRIPTION: How to remove cookies from a CookieMap using the delete() method, either by name or with domain and path options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// Delete by name using default domain and path.\ncookies.delete(\"session\");\n\n// Delete with domain/path options.\ncookies.delete({\n  name: \"session\",\n  domain: \"example.com\",\n  path: \"/admin\",\n});\n```\n\n----------------------------------------\n\nTITLE: Splitting a ReadableStream in TypeScript\nDESCRIPTION: A method to split a ReadableStream into two independent streams that can be consumed separately.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nconst [a, b] = stream.tee();\n```\n\n----------------------------------------\n\nTITLE: Transformed TypeScript code after property replacement\nDESCRIPTION: This TypeScript snippet shows the result of the --define transformation, where console.write is replaced with console.log.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_13\n\nLANGUAGE: ts\nCODE:\n```\nconsole.log(\"Hello, world!\");\n```\n\n----------------------------------------\n\nTITLE: Package.json Changes for Optional Dependencies\nDESCRIPTION: Diff showing how package.json is modified when adding an optional dependency. The package gets added to the optionalDependencies section with its version number.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-optional.md#2025-04-22_snippet_1\n\nLANGUAGE: json-diff\nCODE:\n```\n{\n  \"optionalDependencies\": {\n+   \"zod\": \"^3.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running the Hono Development Server with Bun (Shell)\nDESCRIPTION: This shell snippet shows the command to start the development server for a Hono project using Bun. By executing 'bun run dev' within the project directory, the HTTP server will launch and start listening for incoming requests. Requires the Bun runtime, an installed Hono project, and the presence of a 'dev' script in the project's package configuration. Input is the shell command, and the output is the running development server, typically accessible at 'localhost:3000'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/hono.md#2025-04-22_snippet_2\n\nLANGUAGE: Shell\nCODE:\n```\n$ bun run dev\n```\n\n----------------------------------------\n\nTITLE: Setting Cookies with CookieMap.set()\nDESCRIPTION: Different ways to set cookies using CookieMap.set() method, including by name-value pair, using options object, or with a Cookie instance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// Set by name and value\ncookies.set(\"session\", \"abc123\");\n\n// Set using options object\ncookies.set({\n  name: \"theme\",\n  value: \"dark\",\n  maxAge: 3600,\n  secure: true,\n});\n\n// Set using Cookie instance\nconst cookie = new Bun.Cookie(\"visited\", \"true\");\ncookies.set(cookie);\n```\n\n----------------------------------------\n\nTITLE: Configuring Scoped Registries in Bun\nDESCRIPTION: Sets different registries for specific npm scopes with various authentication methods. Supports environment variables with $variable notation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_28\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\n# registry as string\nmyorg = \"https://username:password@registry.myorg.com/\"\n\n# registry with username/password\n# you can reference environment variables\nmyorg = { username = \"myusername\", password = \"$npm_password\", url = \"https://registry.myorg.com/\" }\n\n# registry with token\nmyorg = { token = \"$npm_token\", url = \"https://registry.myorg.com/\" }\n```\n\n----------------------------------------\n\nTITLE: Listing Embedded Files in Bun using JavaScript\nDESCRIPTION: This snippet demonstrates how to access the list of files embedded within a Bun executable compiled with `--compile`. It imports an image file as an embedded asset and then uses `Bun.embeddedFiles` to access the array of embedded file blobs, logging the name of the first file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_5\n\nLANGUAGE: js\nCODE:\n```\nimport \"./icon.png\" with { type: \"file\" };\nimport { embeddedFiles } from \"bun\";\n\nconsole.log(embeddedFiles[0].name); // `icon-${hash}.png`\n```\n\n----------------------------------------\n\nTITLE: HTML Imports with Bun.serve for Single Page Applications\nDESCRIPTION: Using HTML imports with Bun.serve to integrate client-side single-page applications. Leverages Bun's bundler functionality for a complete frontend development solution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport myReactSinglePageApp from \"./index.html\";\n\nBun.serve({\n  routes: {\n    \"/\": myReactSinglePageApp,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing ArrayBuffer and Accessing Data with Uint8Array in TypeScript\nDESCRIPTION: This example demonstrates how to create an ArrayBuffer of 64 bytes and view its contents using a Uint8Array. The Uint8Array allows indexed access and shows that the buffer is initialized to zeros. No external dependencies are required. The main parameter is the buffer size; outputs include the array length and default value at index 0.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-array.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = new ArrayBuffer(64);\nconst arr = new Uint8Array(buf);\narr.length; // 64\narr[0]; // 0 (instantiated with all zeros)\n```\n\n----------------------------------------\n\nTITLE: Enabling WAL Mode for SQLite in Bun\nDESCRIPTION: This snippet shows how to enable Write-Ahead Logging (WAL) mode for a SQLite database in Bun. WAL mode can significantly improve performance, especially in concurrent read/write scenarios.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\ndb.exec(\"PRAGMA journal_mode = WAL;\");\n```\n\n----------------------------------------\n\nTITLE: Wildcard Character Glob Pattern\nDESCRIPTION: Example of using the '*' glob pattern to match multiple characters except path separators.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"*.ts\");\nglob.match(\"index.ts\"); // => true\nglob.match(\"src/index.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Enabling Verbose Debugging for Fetch in TypeScript\nDESCRIPTION: Demonstrates how to enable verbose debug logging for fetch requests, which prints request and response headers to the terminal for debugging purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"http://example.com\", {\n  verbose: true,\n});\n```\n\n----------------------------------------\n\nTITLE: Running Shell Scripts with Bun Shell\nDESCRIPTION: Demonstrates how to use Bun Shell to run simple shell scripts with a .sh extension. This allows for cross-platform shell scripting using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_22\n\nLANGUAGE: sh\nCODE:\n```\necho \"Hello World! pwd=$(pwd)\"\n```\n\n----------------------------------------\n\nTITLE: Inline Snapshot Testing in TypeScript with Bun\nDESCRIPTION: Example of inline snapshot testing where the snapshot is stored directly in the test file. Shows how the test file is automatically updated with the snapshot after first run.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/snapshots.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"inline snapshot\", () => {\n  // First run: snapshot will be inserted automatically\n  expect({ hello: \"world\" }).toMatchInlineSnapshot();\n\n  // After first run, the test file will be updated to:\n  // expect({ hello: \"world\" }).toMatchInlineSnapshot(`\n  //   {\n  //     \"hello\": \"world\",\n  //   }\n  // `);\n});\n```\n\n----------------------------------------\n\nTITLE: Adding Bun to PATH on Linux/Mac\nDESCRIPTION: This snippet shows how to add Bun to the PATH environment variable on Linux and Mac for different shells.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n# add to ~/.zshrc\nexport BUN_INSTALL=\"$HOME/.bun\"\nexport PATH=\"$BUN_INSTALL/bin:$PATH\"\n```\n\nLANGUAGE: bash\nCODE:\n```\n# add to ~/.bashrc\nexport BUN_INSTALL=\"$HOME/.bun\"\nexport PATH=\"$BUN_INSTALL/bin:$PATH\"\n```\n\nLANGUAGE: sh\nCODE:\n```\n# add to ~/.config/fish/config.fish\nexport BUN_INSTALL=\"$HOME/.bun\"\nexport PATH=\"$BUN_INSTALL/bin:$PATH\"\n```\n\n----------------------------------------\n\nTITLE: Creating and Using Mocks in Bun Test Framework (TypeScript)\nDESCRIPTION: Demonstrates how to create a mock function using the `mock` function from 'bun:test', and how to use it in a test case with expectations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\nconst random = mock(() => Math.random());\n\ntest(\"random\", async () => {\n  const val = random();\n  expect(val).toBeGreaterThan(0);\n  expect(random).toHaveBeenCalled();\n  expect(random).toHaveBeenCalledTimes(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Building Production Bundle with Bun\nDESCRIPTION: Builds the production-ready application bundle using Vite with Bun runtime\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx --bun vite build\n```\n\n----------------------------------------\n\nTITLE: Module Mocking with mock.module() in Bun Test Framework (TypeScript)\nDESCRIPTION: Shows how to use `mock.module()` to override the behavior of a module. This function supports both `import` and `require` syntax for module importing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\n\nmock.module(\"./module\", () => {\n  return {\n    foo: \"bar\",\n  };\n});\n\ntest(\"mock.module\", async () => {\n  const esm = await import(\"./module\");\n  expect(esm.foo).toBe(\"bar\");\n\n  const cjs = require(\"./module\");\n  expect(cjs.foo).toBe(\"bar\");\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Development Dependencies in Bun Install\nDESCRIPTION: Controls whether development dependencies are installed during bun install. Default is true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_17\n\nLANGUAGE: toml\nCODE:\n```\n[install]\ndev = true\n```\n\n----------------------------------------\n\nTITLE: Basic database operations with Prisma in Bun\nDESCRIPTION: TypeScript code that demonstrates creating a new user and counting users in the database using Prisma Client. The example shows how to perform basic CRUD operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PrismaClient } from \"@prisma/client\";\n\nconst prisma = new PrismaClient();\n\n// create a new user\nawait prisma.user.create({\n  data: {\n    name: \"John Dough\",\n    email: `john-${Math.random()}@example.com`,\n  },\n});\n\n// count the number of users\nconst count = await prisma.user.count();\nconsole.log(`There are ${count} users in the database.`);\n```\n\n----------------------------------------\n\nTITLE: Creating a Worker from a File Object\nDESCRIPTION: Example of creating a Worker from a File object with a filename to indicate the file type for proper processing of TypeScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst file = new File(\n  [\n    `\n  self.onmessage = (event: MessageEvent) => postMessage(event.data)`,\n  ],\n  \"worker.ts\",\n);\nconst url = URL.createObjectURL(file);\nconst worker = new Worker(url);\n```\n\n----------------------------------------\n\nTITLE: Deleting S3 Files with S3Client.delete\nDESCRIPTION: Shows how to delete files from S3 using S3Client.delete static method and its alias S3Client.unlink.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_31\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n};\n\nawait S3Client.delete(\"my-file.txt\", credentials);\n// equivalent to\n// await new S3Client(credentials).delete(\"my-file.txt\");\n\n// S3Client.unlink is alias of S3Client.delete\nawait S3Client.unlink(\"my-file.txt\", credentials);\n```\n\n----------------------------------------\n\nTITLE: Importing SQLite Databases in TypeScript\nDESCRIPTION: Demonstrates how to import SQLite databases directly in TypeScript using the sqlite loader. Includes options for embedding the database into the bundle.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\nimport db from \"./my.db\" with { type: \"sqlite\" };\n```\n\n----------------------------------------\n\nTITLE: Building with Plugins - Bun JavaScript API - JavaScript\nDESCRIPTION: Illustrates the use of the plugins array in Bun.build for extending the bundler's capabilities. No plugins are included in this stub, developers can specify custom plugins as required. Dependencies: Bun and any desired plugin modules. Plugins can manipulate the bundling process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_33\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  plugins: [/* ... */],\n})\n```\n\n----------------------------------------\n\nTITLE: Importing a file that uses Bun.main\nDESCRIPTION: This example demonstrates importing another TypeScript file (foo.ts) that uses Bun.main. When this file is executed, Bun.main will refer to the path of index.ts, not foo.ts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/main.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport \"./foo.ts\";\n```\n\n----------------------------------------\n\nTITLE: Installing Dev Dependencies with Bun\nDESCRIPTION: Commands for adding development dependencies using the --dev flag or its aliases.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add --dev @types/react\n$ bun add -d @types/react\n```\n\n----------------------------------------\n\nTITLE: Configuring Entry, Asset, and Chunk Naming in Bun.build using TypeScript\nDESCRIPTION: This TypeScript snippet illustrates two ways to configure output file naming in `Bun.build`. Setting `naming` to a string (`\"[name].[ext]\"`) acts as a shorthand for `entryNames`. Alternatively, `naming` can be an object allowing granular control over `entry`, `asset`, and `chunk` file naming templates. The `[ext]` placeholder is mandatory in these templates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nBun.build({\n  entrypoints: [\"./index.tsx\"],\n  // when string, this is equivalent to entryNames\n  naming: \"[name].[ext]\",\n\n  // granular naming options\n  naming: {\n    entry: \"[name].[ext]\",\n    asset: \"[name].[ext]\",\n    chunk: \"[name].[ext]\",\n  },\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Enabling Memory-Saving Mode for Test Runner\nDESCRIPTION: Enables the smol memory-saving mode for the test runner to reduce memory usage during test execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[test]\nsmol = true  # Reduce memory usage during test runs\n```\n\n----------------------------------------\n\nTITLE: Configuring Shell Settings for Bun Run\nDESCRIPTION: Settings to specify which shell to use when running package.json scripts via bun run or bun command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_32\n\nLANGUAGE: toml\nCODE:\n```\n[run]\n# default outside of Windows\nshell = \"system\"\n```\n\nLANGUAGE: toml\nCODE:\n```\n[run]\n# default on Windows\nshell = \"bun\"\n```\n\n----------------------------------------\n\nTITLE: Basic HMR Acceptance in Bun\nDESCRIPTION: Shows how to indicate that a module can be hot-replaced using the accept() method without arguments. This creates a hot-reloading boundary for all imported modules.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { getCount } from \"./foo.ts\";\n\nconsole.log(\"count is \", getCount());\n\nimport.meta.hot.accept();\n\nexport function getNegativeCount() {\n  return -getCount();\n}\n```\n\n----------------------------------------\n\nTITLE: Negation Glob Pattern\nDESCRIPTION: Example of using the negation operator in glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"!index.ts\");\nglob.match(\"index.ts\"); // => false\nglob.match(\"foo.ts\"); // => true\n```\n\n----------------------------------------\n\nTITLE: EdgeDB Schema File Structure (Text Tree)\nDESCRIPTION: This snippet provides an overview of the default EdgeDB schema directory structure created during project initialization. It shows the presence of the main schema file (`default.esdl`) and the migrations directory. Input: None. Output: Text representation for user orientation—no executable code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_5\n\nLANGUAGE: txt\nCODE:\n```\ndbschema\n├── default.esdl\n└── migrations\n```\n\n----------------------------------------\n\nTITLE: Configuring publicPath in Bun Build (CLI)\nDESCRIPTION: Command-line interface for setting a prefix for import paths in bundled code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_49\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --public-path https://cdn.example.com/\n```\n\n----------------------------------------\n\nTITLE: Referencing Tailwind CSS in HTML\nDESCRIPTION: HTML example showing how to reference Tailwind CSS in an HTML file using a link tag, which Bun will process using the Tailwind plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<!-- Reference TailwindCSS in your HTML -->\n<link rel=\"stylesheet\" href=\"tailwindcss\" />\n```\n\n----------------------------------------\n\nTITLE: Initializing WebSocket Client with Custom Headers\nDESCRIPTION: This snippet shows how to create a WebSocket client and set custom headers in the constructor. This is a Bun-specific extension of the WebSocket standard and will not work in browsers. The headers are included in the WebSocket upgrade request.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = new WebSocket(\"ws://localhost:3000\", {\n  headers: {\n    // custom headers\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Building with Target Option - Bun JavaScript API - JavaScript\nDESCRIPTION: Demonstrates how to use the Bun.build JavaScript API to specify the build target for the bundle (in this case, 'browser'). This configures module resolution and optimization behaviors for the intended execution environment. The core parameters include entrypoints (source files), outdir (output directory), and target (environment type). Requires Bun to be installed and available as an import; outputs bundled files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_19\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.ts'],\n  outdir: './out',\n  target: 'browser', // default\n})\n```\n\n----------------------------------------\n\nTITLE: Installing Specific Versions or Tags with Bun\nDESCRIPTION: Shows how to install a specific version or a distribution tag of a package using the @ notation in the bun add command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod@3.0.0\n$ bun add zod@next\n```\n\n----------------------------------------\n\nTITLE: Importing JSON and TOML Files in TypeScript\nDESCRIPTION: Shows how to directly import JSON and TOML files in TypeScript using Bun. The contents are loaded and returned as JavaScript objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nimport pkg from \"./package.json\";\nimport data from \"./data.toml\";\n```\n\n----------------------------------------\n\nTITLE: Inspecting CSS Module Class Name Mappings - TSX\nDESCRIPTION: This snippet shows how to log the objects returned when importing CSS module files into a TSX/JSX module. The output illustrates mapping from original class names to their unique identifier strings to avoid collisions. Requires Bun bundler, TypeScript (or JavaScript), and appropriate CSS module imports. Input: module import statements; output: objects containing unique class name mappings. There are no special limitations, but meaningful output depends upon the CSS file content and correct setup.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport styles from \"./styles.module.css\";\nimport otherStyles from \"./other-styles.module.css\";\n\nconsole.log(styles);\nconsole.log(otherStyles);\n\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies for All Workspaces in Bun\nDESCRIPTION: This shell command installs dependencies for all workspaces in a Bun monorepo project. It should be run from the project root after adding or updating dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/workspaces.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun install\n```\n\n----------------------------------------\n\nTITLE: Custom Plugin Configuration in bunfig.toml\nDESCRIPTION: Configuration for adding custom bundler plugins to Bun.serve() using the bunfig.toml file, referencing a local plugin implementation file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_15\n\nLANGUAGE: toml\nCODE:\n```\n[serve.static]\nplugins = [\"./my-plugin-implementation.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Column Selection for Insertion in TypeScript\nDESCRIPTION: Shows how to selectively insert specific columns from an object using the sql helper function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst user = {\n  name: \"Alice\",\n  email: \"alice@example.com\",\n  age: 25,\n};\n\nawait sql`INSERT INTO users ${sql(user, \"name\", \"email\")}`;\n```\n\n----------------------------------------\n\nTITLE: Trusting Specific Dependencies with Bun\nDESCRIPTION: Executes the lifecycle scripts for the specified untrusted dependency names and adds them to the `trustedDependencies` array in the project's `package.json`. The `--all` flag can be used to trust all currently untrusted dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm trust <names>\n```\n\n----------------------------------------\n\nTITLE: Nested Selectors Compiled Output with Bun Bundler - CSS\nDESCRIPTION: Presents the browser-ready, compiled output for nested selectors as generated by Bun's CSS bundler. No dependencies aside from the Bun toolchain. Translates nested selectors to explicit descendant selectors, preserving styling intent for universal browser support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n/* Compiled output */\\n.card {\\n  background: white;\\n  border-radius: 4px;\\n}\\n\\n.card .title {\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n}\\n\\n.card .content {\\n  padding: 1rem;\\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing a SolidStart Project with Bun\nDESCRIPTION: This command uses Bun's create command to initialize a new SolidStart project. It prompts for template selection, server-side rendering preference, and TypeScript usage options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/solidstart.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create solid my-app\ncreate-solid version 0.2.31\n\nWelcome to the SolidStart setup wizard!\n\nThere are definitely bugs and some feature might not work yet.\nIf you encounter an issue, have a look at\nhttps://github.com/solidjs/solid-start/issues and open a new one,\nif it is not already tracked.\n\n✔ Which template do you want to use? › todomvc\n✔ Server Side Rendering? … yes\n✔ Use TypeScript? … yes\ncloned solidjs/solid-start#main to /path/to/my-app/.solid-start\n✔ Copied project files\n```\n\n----------------------------------------\n\nTITLE: Pretty-printing BuildArtifact Objects\nDESCRIPTION: Example of how Bun provides a neat debug representation of build artifacts when logged to the console.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_63\n\nLANGUAGE: typescript\nCODE:\n```\n// build.ts\nconst build = await Bun.build({/* */});\n\nconst artifact = build.outputs[0];\nconsole.log(artifact);\n```\n\n----------------------------------------\n\nTITLE: Filtering Tests by Name Pattern\nDESCRIPTION: Example of using the -t flag to filter and run only specific tests matching a name pattern.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/run-tests.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test -t add\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest.test.js:\n✓ add [1.79ms]\n» multiply\n\ntest2.test.js:\n✓ add [2.30ms]\n» multiply\n\ntest3.test.js:\n✓ add [0.32ms]\n» multiply\n\n 3 pass\n 3 skip\n 0 fail\n 3 expect() calls\nRan 6 tests across 3 files. [59.00ms]\n```\n\n----------------------------------------\n\nTITLE: Prefetching DNS Entries in Bun\nDESCRIPTION: Shows how to use the experimental dns.prefetch API to prefetch DNS entries for improved performance. This is useful when you know you'll need to connect to a host in the near future.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/dns.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport {dns} from \"bun\";\n\ndns.prefetch(\"my.database-host.com\", 5432);\n```\n\n----------------------------------------\n\nTITLE: Scoping hooks to a test file in Bun\nDESCRIPTION: Example of defining beforeAll at the file level to run setup once before all tests in the file. This pattern allows setup to be applied to all tests in the file, including those in different describe blocks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { describe, beforeAll } from \"bun:test\";\n\nbeforeAll(() => {\n  // setup\n});\n\ndescribe(\"test group\", () => {\n  // tests...\n});\n```\n\n----------------------------------------\n\nTITLE: Creating a Worker from a Blob URL\nDESCRIPTION: Example of creating a Worker from a Blob URL, which allows creating workers from string content instead of files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nconst blob = new Blob(\n  [\n    `\n  self.onmessage = (event: MessageEvent) => postMessage(event.data)`,\n  ],\n  {\n    type: \"application/typescript\",\n  },\n);\nconst url = URL.createObjectURL(blob);\nconst worker = new Worker(url);\n```\n\n----------------------------------------\n\nTITLE: Ending FileSink Operations in TypeScript\nDESCRIPTION: This snippet demonstrates how to properly end FileSink operations by calling the .end() method. This method auto-flushes the buffer and closes the file, ensuring all data is written.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/filesink.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nwriter.end();\n```\n\n----------------------------------------\n\nTITLE: Workspace Configuration in package.json\nDESCRIPTION: JSON configuration for setting up workspaces in a project's package.json file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-app\",\n  \"workspaces\": [\"packages/*\", \"apps/*\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Importing and Using 'bun' Module Types in TypeScript\nDESCRIPTION: This snippet shows how to import and use types, interfaces, and functions declared in the 'bun' module. It demonstrates both importing from 'bun' and using the global Bun object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/authoring.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { type MyInterface, type MyType, myFunction } from \"bun\";\n\nconst myInterface: MyInterface = {};\nconst myType: MyType = \"cool\";\nmyFunction();\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst myInterface: Bun.MyInterface = {};\nconst myType: Bun.MyType = \"cool\";\nBun.myFunction();\n```\n\n----------------------------------------\n\nTITLE: Executing Schema-Modifying SQLite Queries in Bun\nDESCRIPTION: This example shows how to execute schema-modifying queries in SQLite using Bun. It demonstrates the use of the run() method and how to access the lastInsertRowid and changes properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nconst query = db.query(`create table foo;`);\nquery.run();\n// {\n//   lastInsertRowid: 0,\n//   changes: 0,\n// }\n```\n\n----------------------------------------\n\nTITLE: Document-Level Handlers in HTMLRewriter\nDESCRIPTION: Example of document-level event handlers including doctype, text, comments, and document end handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.onDocument({\n  // Handle doctype\n  doctype(doctype) {\n    console.log(doctype.name); // \"html\"\n    console.log(doctype.publicId); // public identifier if present\n    console.log(doctype.systemId); // system identifier if present\n  },\n  // Handle text nodes\n  text(text) {\n    console.log(text.text);\n  },\n  // Handle comments\n  comments(comment) {\n    console.log(comment.text);\n  },\n  // Handle document end\n  end(end) {\n    end.append(\"<!-- Footer -->\", { html: true });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Package Import Example\nDESCRIPTION: Shows how to import a package from node_modules using a bare specifier.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_11\n\nLANGUAGE: ts\nCODE:\n```\nimport { stuff } from \"foo\";\n```\n\n----------------------------------------\n\nTITLE: Cross-platform Environment Variables in package.json Scripts\nDESCRIPTION: Example of setting environment variables in package.json scripts, which automatically uses bun shell for cross-platform compatibility.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n\"scripts\": {\n  \"dev\": \"NODE_ENV=development bun --watch app.ts\",\n}\n```\n\n----------------------------------------\n\nTITLE: Importing SQLite Databases in TypeScript\nDESCRIPTION: Illustrates how to directly import SQLite databases in TypeScript using Bun. The database is automatically loaded and a Database object is returned.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nimport db from \"./my.db\" with { type: \"sqlite\" };\nconsole.log(db.query(\"select * from users LIMIT 1\").get());\n```\n\n----------------------------------------\n\nTITLE: TypeScript Decorator Metadata Example\nDESCRIPTION: Example showing the usage of decorator metadata with reflect-metadata in TypeScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport \"reflect-metadata\";\n\nclass User {\n  id: number;\n  name: string;\n}\n\nfunction Injectable(target: Function) {\n  // Get metadata about constructor parameters\n  const params = Reflect.getMetadata(\"design:paramtypes\", target);\n  console.log(\"Dependencies:\", params); // [User]\n}\n\n@Injectable\nclass UserService {\n  constructor(private user: User) {}\n}\n\n// Creates new UserService instance with dependencies\nconst container = new UserService(new User());\n```\n\n----------------------------------------\n\nTITLE: Override Loader Type Example\nDESCRIPTION: Shows how to override the default loader when transforming code\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\ntranspiler.transformSync(\"<div>hi!</div>\", \"tsx\");\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Example\nDESCRIPTION: Example of a CommonJS module that imports another module and exports it.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\n// my-commonjs.cjs\nconst stuff = require(\"./stuff\");\nmodule.exports = { stuff };\n```\n\n----------------------------------------\n\nTITLE: Creating Response Objects from S3Files for Redirects\nDESCRIPTION: Shows how to create a Response object from an S3File to automatically redirect users to a presigned URL. This avoids downloading the file to the server and then sending it to the client.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = new Response(s3file);\nconsole.log(response);\n```\n\n----------------------------------------\n\nTITLE: Basic package.json without overrides in Bun\nDESCRIPTION: A basic package.json file showing a project with a single dependency on \"foo\". This is the starting point before adding any overrides or resolutions for metadependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/overrides.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-app\",\n  \"dependencies\": {\n    \"foo\": \"^2.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Basic WebSocket Context Data in Bun\nDESCRIPTION: This snippet demonstrates how to set basic contextual data (a socketId) on a WebSocket connection during the upgrade process using `Bun.serve()` and `server.upgrade()`. The data is then accessed within the `message` handler of the WebSocket to log the received message and the socket ID.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/context.md#_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve<{ socketId: number }>({\n  fetch(req, server) {\n    const success = server.upgrade(req, {\n      data: {\n        socketId: Math.random(),\n      },\n    });\n    if (success) return undefined;\n\n    // handle HTTP request normally\n    // ...\n  },\n  websocket: {\n    // define websocket handlers\n    async message(ws, message) {\n      // the contextual data is available as the `data` property\n      // on the WebSocket instance\n      console.log(`Received ${message} from ${ws.data.socketId}}`);\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Checking test exit code when coverage threshold is not met\nDESCRIPTION: Shell commands showing how to check the exit code of bun test, which will be non-zero (1) if coverage thresholds are not met.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage-threshold.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --coverage\n<test output>\n$ echo $?\n1 # this is the exit code of the previous command\n```\n\n----------------------------------------\n\nTITLE: TOML Conversion in Bundler\nDESCRIPTION: Demonstrates how a TOML file gets converted when used as an entrypoint in the bundler. The TOML is transformed into a JavaScript module with a default export.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\nname = \"John Doe\"\nage = 35\nemail = \"johndoe@example.com\"\n```\n\nLANGUAGE: js\nCODE:\n```\nexport default {\n  name: \"John Doe\",\n  age: 35,\n  email: \"johndoe@example.com\"\n}\n```\n\n----------------------------------------\n\nTITLE: Using Bun in a GitHub Actions Workflow\nDESCRIPTION: Example GitHub Actions workflow demonstrating how to use the official `oven-sh/setup-bun` action to install Bun in a CI/CD pipeline. The subsequent steps use `bun install` to install dependencies and `bun run build` to execute a build script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_16\n\nLANGUAGE: yaml\nCODE:\n```\n#.github/workflows/release.yml\nname: bun-types\njobs:\n  build:\n    name: build-app\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout repo\n        uses: actions/checkout@v4\n      - name: Install bun\n        uses: oven-sh/setup-bun@v2\n      - name: Install dependencies\n        run: bun install\n      - name: Build app\n        run: bun run build\n```\n\n----------------------------------------\n\nTITLE: Using expect.assertions() in TypeScript\nDESCRIPTION: Demonstrates how to use expect.assertions() to verify that a specific number of assertions are called during a test. This helps ensure all assertions run, especially in complex async code with multiple code paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\ntest(\"exactly two assertions\", () => {\n  expect.assertions(2); // Will fail if not exactly 2 assertions are called\n\n  expect(1 + 1).toBe(2);\n  expect(\"hello\").toContain(\"ell\");\n});\n```\n\n----------------------------------------\n\nTITLE: Accessing Current Directory Path with import.meta.dir in Bun TypeScript\nDESCRIPTION: This snippet demonstrates how to get the directory path of the current file using Bun's import.meta.dir property. The property returns the directory path of the file where it's used, without the filename itself.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/import-meta-dir.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.dir; // => \"/a/b\"\n```\n\n----------------------------------------\n\nTITLE: Running Bun Test with Coverage Reporting via CLI\nDESCRIPTION: This example shows how to run Bun's test runner with coverage reporting enabled using the --coverage flag. The output displays function and line coverage percentages for all files, along with line numbers of uncovered code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_0\n\nLANGUAGE: js\nCODE:\n```\n$ bun test --coverage\n-------------|---------|---------|-------------------\nFile         | % Funcs | % Lines | Uncovered Line #s\n-------------|---------|---------|-------------------\nAll files    |   38.89 |   42.11 |\n index-0.ts  |   33.33 |   36.84 | 10-15,19-24\n index-1.ts  |   33.33 |   36.84 | 10-15,19-24\n index-10.ts |   33.33 |   36.84 | 10-15,19-24\n index-2.ts  |   33.33 |   36.84 | 10-15,19-24\n index-3.ts  |   33.33 |   36.84 | 10-15,19-24\n index-4.ts  |   33.33 |   36.84 | 10-15,19-24\n index-5.ts  |   33.33 |   36.84 | 10-15,19-24\n index-6.ts  |   33.33 |   36.84 | 10-15,19-24\n index-7.ts  |   33.33 |   36.84 | 10-15,19-24\n index-8.ts  |   33.33 |   36.84 | 10-15,19-24\n index-9.ts  |   33.33 |   36.84 | 10-15,19-24\n index.ts    |  100.00 |  100.00 |\n-------------|---------|---------|-------------------\n```\n\n----------------------------------------\n\nTITLE: Linking a Registered Package into Another Project - Bun CLI - Bash\nDESCRIPTION: This snippet shows how to link a previously registered local package into another project's node_modules using the Bun CLI. After changing to the target project directory, 'bun link cool-pkg' creates a symlink to the registered package. Dependencies: Bun CLI, previously registered package. Key parameter: package name; Input: Target project directory; Output: symlink in node_modules, making the local package available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/link.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ cd /path/to/my-app\\n$ bun link cool-pkg\n```\n\n----------------------------------------\n\nTITLE: Listing Installed Packages\nDESCRIPTION: Commands for listing installed packages, including options for viewing all dependencies or just top-level ones.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\n# List top-level installed packages:\n$ bun pm ls\nmy-pkg node_modules (781)\n├── @types/node@20.16.5\n├── @types/react@18.3.8\n├── @types/react-dom@18.3.0\n├── eslint@8.57.1\n├── eslint-config-next@14.2.8\n\n# List all installed packages:\n$ bun pm ls -a\nmy-pkg node_modules\n├── @alloc/quick-lru@5.2.0\n├── @isaacs/cliui@8.0.2\n│   └── strip-ansi@7.1.0\n│       └── ansi-regex@6.1.0\n├── @jridgewell/gen-mapping@0.3.5\n├── @jridgewell/resolve-uri@3.1.2\n...\n```\n\n----------------------------------------\n\nTITLE: Using Symbol.asyncIterator with Response\nDESCRIPTION: Shows how to use Symbol.asyncIterator directly to create a Response with a ReadableStream. This provides an alternative syntax for creating stream-based responses.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = new Response({\n  [Symbol.asyncIterator]: async function* () {\n    yield \"hello\";\n    yield \"world\";\n  },\n});\n\nawait response.text(); // \"helloworld\"\n```\n\n----------------------------------------\n\nTITLE: Directory Structure Example After Code Splitting - Text\nDESCRIPTION: Displays the generated directory structure after a build with code splitting is enabled, including entrypoints and generated chunk files. Useful for understanding the output structure and file naming conventions (e.g., content hash in chunk file names).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_32\n\nLANGUAGE: Text\nCODE:\n```\n.\n├── entry-a.tsx\n├── entry-b.tsx\n├── shared.tsx\n└── out\n    ├── entry-a.js\n    ├── entry-b.js\n    └── chunk-2fce6291bf86559d.js\n\n```\n\n----------------------------------------\n\nTITLE: Defining Bun Build API Interfaces in TypeScript\nDESCRIPTION: This code snippet defines the main interfaces and types for the Bun build API, including BuildConfig, BuildOutput, and related structures. It covers various build options such as entrypoints, output format, code splitting, and minification.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_70\n\nLANGUAGE: typescript\nCODE:\n```\ninterface Bun {\n  build(options: BuildOptions): Promise<BuildOutput>;\n}\n\ninterface BuildConfig {\n  entrypoints: string[]; // list of file path\n  outdir?: string; // output directory\n  target?: Target; // default: \"browser\"\n  /**\n   * Output module format. Top-level await is only supported for `\"esm\"`.\n   *\n   * Can be:\n   * - `\"esm\"`\n   * - `\"cjs\"` (**experimental**)\n   * - `\"iife\"` (**experimental**)\n   *\n   * @default \"esm\"\n   */\n  format?: \"esm\" | \"cjs\" | \"iife\";\n  naming?:\n    | string\n    | {\n        chunk?: string;\n        entry?: string;\n        asset?: string;\n      };\n  root?: string; // project root\n  splitting?: boolean; // default true, enable code splitting\n  plugins?: BunPlugin[];\n  external?: string[];\n  packages?: \"bundle\" | \"external\";\n  publicPath?: string;\n  define?: Record<string, string>;\n  loader?: { [k in string]: Loader };\n  sourcemap?: \"none\" | \"linked\" | \"inline\" | \"external\" | \"linked\" | boolean; // default: \"none\", true -> \"inline\"\n  /**\n   * package.json `exports` conditions used when resolving imports\n   *\n   * Equivalent to `--conditions` in `bun build` or `bun run`.\n   *\n   * https://nodejs.org/api/packages.html#exports\n   */\n  conditions?: Array<string> | string;\n\n  /**\n   * Controls how environment variables are handled during bundling.\n   *\n   * Can be one of:\n   * - `\"inline\"`: Injects environment variables into the bundled output by converting `process.env.FOO`\n   *   references to string literals containing the actual environment variable values\n   * - `\"disable\"`: Disables environment variable injection entirely\n   * - A string ending in `*`: Inlines environment variables that match the given prefix.\n   *   For example, `\"MY_PUBLIC_*\"` will only include env vars starting with \"MY_PUBLIC_\"\n   */\n  env?: \"inline\" | \"disable\" | `${string}*`;\n  minify?:\n    | boolean\n    | {\n        whitespace?: boolean;\n        syntax?: boolean;\n        identifiers?: boolean;\n      };\n  /**\n   * Ignore dead code elimination/tree-shaking annotations such as @__PURE__ and package.json\n   * \"sideEffects\" fields. This should only be used as a temporary workaround for incorrect\n   * annotations in libraries.\n   */\n  ignoreDCEAnnotations?: boolean;\n  /**\n   * Force emitting @__PURE__ annotations even if minify.whitespace is true.\n   */\n  emitDCEAnnotations?: boolean;\n\n  /**\n   * Generate bytecode for the output. This can dramatically improve cold\n   * start times, but will make the final output larger and slightly increase\n   * memory usage.\n   *\n   * Bytecode is currently only supported for CommonJS (`format: \"cjs\"`).\n   *\n   * Must be `target: \"bun\"`\n   * @default false\n   */\n  bytecode?: boolean;\n  /**\n   * Add a banner to the bundled code such as \"use client\";\n   */\n  banner?: string;\n  /**\n   * Add a footer to the bundled code such as a comment block like\n   *\n   * `// made with bun!`\n   */\n  footer?: string;\n\n  /**\n   * Drop function calls to matching property accesses.\n   */\n  drop?: string[];\n\n  /**\n   * When set to `true`, the returned promise rejects with an AggregateError when a build failure happens.\n   * When set to `false`, the `success` property of the returned object will be `false` when a build failure happens.\n   *\n   * This defaults to `false` in Bun 1.1 and will change to `true` in Bun 1.2\n   * as most usage of `Bun.build` forgets to check for errors.\n   */\n  throw?: boolean;\n}\n\ninterface BuildOutput {\n  outputs: BuildArtifact[];\n  success: boolean;\n  logs: Array<BuildMessage | ResolveMessage>;\n}\n\ninterface BuildArtifact extends Blob {\n  path: string;\n  loader: Loader;\n  hash: string | null;\n  kind: \"entry-point\" | \"chunk\" | \"asset\" | \"sourcemap\" | \"bytecode\";\n  sourcemap: BuildArtifact | null;\n}\n\ntype Loader =\n  | \"js\"\n  | \"jsx\"\n  | \"ts\"\n  | \"tsx\"\n  | \"json\"\n  | \"toml\"\n  | \"file\"\n  | \"napi\"\n  | \"wasm\"\n  | \"text\";\n\ninterface BuildOutput {\n  outputs: BuildArtifact[];\n  success: boolean;\n  logs: Array<BuildMessage | ResolveMessage>;\n}\n\ndeclare class ResolveMessage {\n  readonly name: \"ResolveMessage\";\n  readonly position: Position | null;\n  readonly code: string;\n  readonly message: string;\n  readonly referrer: string;\n  readonly specifier: string;\n  readonly importKind:\n    | \"entry_point\"\n    | \"stmt\"\n    | \"require\"\n    | \"import\"\n    | \"dynamic\"\n    | \"require_resolve\"\n    | \"at\"\n    | \"at_conditional\"\n    | \"url\"\n    | \"internal\";\n  readonly level: \"error\" | \"warning\" | \"info\" | \"debug\" | \"verbose\";\n\n  toString(): string;\n}\n```\n\n----------------------------------------\n\nTITLE: Converting Blob to ReadableStream using Bun in TypeScript\nDESCRIPTION: This snippet demonstrates how to instantiate a Blob from string data and convert it to a ReadableStream by calling the .stream() method. It requires the Blob class from the Web API and is compatible with Bun and modern browser environments supporting Blobs. The variable blob stores the binary data, and the returned stream can be consumed for reading or processing data as a stream. The function returns a Promise resolving to a ReadableStream of the Blob's contents. Limitations may include environment compatibility if Blob or ReadableStream are not available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/blob-to-stream.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst blob = new Blob([\"hello world\"]);\nconst stream = await blob.stream();\n```\n\n----------------------------------------\n\nTITLE: Installing Bun on Windows using npm\nDESCRIPTION: This snippet demonstrates how to install Bun globally on Windows using npm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_5\n\nLANGUAGE: powershell\nCODE:\n```\n> npm install -g bun # the last `npm` command you'll ever need\n```\n\n----------------------------------------\n\nTITLE: Configuring Dependencies in Workspace package.json\nDESCRIPTION: Shows how to configure dependencies in a workspace's package.json file, referencing other packages in the monorepo.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/workspaces.md#2025-04-22_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"pkg-a\",\n  \"version\": \"1.0.0\",\n  \"dependencies\": {\n    \"pkg-b\": \"workspace:*\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Finding Executable Paths with Bun.which()\nDESCRIPTION: Demonstrates how to use Bun.which() to find the path of an executable, with options for custom PATH and working directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst ls = Bun.which(\"ls\");\nconsole.log(ls); // \"/usr/bin/ls\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst ls = Bun.which(\"ls\", {\n  PATH: \"/usr/local/bin:/usr/bin:/bin\",\n});\nconsole.log(ls); // \"/usr/bin/ls\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst ls = Bun.which(\"ls\", {\n  cwd: \"/tmp\",\n  PATH: \"\",\n});\n\nconsole.log(ls); // null\n```\n\n----------------------------------------\n\nTITLE: Configuring Tailwind CSS Plugin in bunfig.toml\nDESCRIPTION: TOML configuration for adding the Tailwind CSS plugin to Bun's static server configuration in the bunfig.toml file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_9\n\nLANGUAGE: toml\nCODE:\n```\n[serve.static]\nplugins = [\"bun-plugin-tailwind\"]\n```\n\n----------------------------------------\n\nTITLE: Implementing Non-HTTP Event Handler for Bun Lambda Function\nDESCRIPTION: Example of a Bun Lambda function that handles non-HTTP events (e.g., S3, SQS, EventBridge), demonstrating how to access the event payload from the Request body.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-lambda/README.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nexport default {\n  async fetch(request: Request): Promise<Response> {\n    const event = await request.json();\n    // ...\n    return new Response();\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Compiling and Running C Code from JavaScript\nDESCRIPTION: Example of importing a C function using the cc function from bun:ffi and calling it from JavaScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nimport { cc } from \"bun:ffi\";\nimport source from \"./hello.c\" with { type: \"file\" };\n\nconst {\n  symbols: { hello },\n} = cc({\n  source,\n  symbols: {\n    hello: {\n      args: [],\n      returns: \"int\",\n    },\n  },\n});\n\nconsole.log(\"What is the answer to the universe?\", hello());\n```\n\n----------------------------------------\n\nTITLE: Using Headers Object with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to use the Headers object to set HTTP headers for a fetch request, providing an alternative to using a plain object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst headers = new Headers();\nheaders.append(\"X-Custom-Header\", \"value\");\n\nconst response = await fetch(\"http://example.com\", {\n  headers,\n});\n```\n\n----------------------------------------\n\nTITLE: Finding macOS code signing identities\nDESCRIPTION: Lists all available code signing identities on macOS using the security command. These identities are required for signing applications to bypass Gatekeeper warnings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/codesign-macos-executable.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ security find-identity -v -p codesigning\n1. XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX \"Developer ID Application: Your Name (ZZZZZZZZZZ)\"\n   1 valid identities found\n```\n\n----------------------------------------\n\nTITLE: Configuring Exact Versions in Bun Install\nDESCRIPTION: Controls whether exact versions are used in package.json instead of caret ranges. Default is false.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_20\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nexact = false\n```\n\n----------------------------------------\n\nTITLE: Running the WebSocket Chat Client\nDESCRIPTION: Command to run the client script that connects multiple clients to the WebSocket server. The script works in any of the three JavaScript runtimes (Bun, Node.js, or Deno).\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/websocket-server/README.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nnode ./chat-client.mjs\n```\n\n----------------------------------------\n\nTITLE: Running a Bun TypeScript Script and Expected Output (Shell)\nDESCRIPTION: Executes the `index.ts` script using the `bun run` command. The expected output shows the result of the SQL query performed in `index.ts`, confirming the database connection and query execution work correctly. Assumes `index.ts` and `db.ts` exist as previously defined.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run index.ts\n{\n  text: \"hello world\"\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Counter Component with React Hooks\nDESCRIPTION: A React functional component that implements a counter with increment/decrement buttons. Uses useState hook to manage state and includes debug logging. The counter changes by steps of 2 and renders with styling classes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/next-pages/src/Counter2.txt#2025-04-22_snippet_0\n\nLANGUAGE: JavaScript\nCODE:\n```\nimport { useState } from \"react\";\n\nexport function Counter() {\n  console.log('counter b loaded');\n\n  const [count, setCount] = useState(0);\n\n  function increment() {\n    setCount(count + 2);\n  }\n\n  function decrement() {\n    setCount(count - 2);\n  }\n\n  return (\n    <div id=\"counter-fixture\" className=\"rounded-br-full\">\n      <p>Count B: {count}</p>\n      <button className=\"inc\" onClick={increment}>\n        +\n      </button>\n      <button className=\"dec\" onClick={decrement}>\n        -\n      </button>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Running Express Server in Bun Runtime\nDESCRIPTION: Command to start the Express.js server using the Bun JavaScript runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/express/README.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nbun ./express.mjs\n```\n\n----------------------------------------\n\nTITLE: Creating a systemd Service File\nDESCRIPTION: Commands to navigate to the systemd directory and create a new service file for a Bun application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ cd /lib/systemd/system\n$ touch my-app.service\n```\n\n----------------------------------------\n\nTITLE: Using Unix Domain Sockets with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to use a Unix domain socket for a fetch request, which is useful for communicating with local services without using TCP/IP.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://hostname/a/path\", {\n  unix: \"/var/run/path/to/unix.sock\",\n  method: \"POST\",\n  body: JSON.stringify({ message: \"Hello from Bun!\" }),\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Creating a Partial Typed Array View (Slice) from an ArrayBuffer in TypeScript\nDESCRIPTION: Illustrates creating a Uint8Array that views only a specific portion of the underlying ArrayBuffer. It initializes a 64-byte buffer and creates a view covering only the first 16 bytes by specifying the byte offset (0) and length (16) in the constructor.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-typedarray.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nconst buffer = new ArrayBuffer(64);\nconst arr = new Uint8Array(buffer, 0, 16); // view first 16 bytes\n```\n\n----------------------------------------\n\nTITLE: Command Line Output for Select Query Returning Authors (Shell Script)\nDESCRIPTION: Displays output for running the select query script, showing the resulting array of author objects with their properties. Assumes data previously inserted with seed.ts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_13\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run index.ts\\n[\\n  {\\n    id: 1,\\n    name: \"J.R.R. Tolkien\",\\n    bio: \"The creator of Middle-earth and author of The Lord of the Rings.\",\\n    createdAt: 2024-05-11T10:28:46.029Z,\\n  }, {\\n    id: 2,\\n    name: \"George R.R. Martin\",\\n    bio: \"The author of the epic fantasy series A Song of Ice and Fire.\",\\n    createdAt: 2024-05-11T10:28:46.029Z,\\n  }, {\\n    id: 3,\\n    name: \"J.K. Rowling\",\\n    bio: \"The creator of the Harry Potter series.\",\\n    createdAt: 2024-05-11T10:28:46.029Z,\\n  }\\n]\n```\n\n----------------------------------------\n\nTITLE: Using the Shorthand Bun Command for Package Script Execution\nDESCRIPTION: Illustrates running a `package.json` script (`dev`) using the shorter `bun dev` command as an alternative to `bun run dev`. This shorthand works unless a built-in Bun command shares the same name (e.g., `bun install`), in which case the explicit `bun run <script>` syntax is required.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run dev\n```\n\n----------------------------------------\n\nTITLE: Install Bun Natively\nDESCRIPTION: This command downloads and executes the Bun installation script directly from the bun.sh website.  It uses curl to fetch the script and bash to execute it, installing Bun on the system.  This is the recommended installation method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ curl -fsSL https://bun.sh/install | bash\n```\n\n----------------------------------------\n\nTITLE: Custom Argument Processing in Commander.js\nDESCRIPTION: Shows how to implement custom processing for command arguments. The example defines a function to parse integers that gets applied to the arguments before they reach the action handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .command('add')\n  .argument('<first>', 'integer argument', myParseInt)\n  .argument('[second]', 'integer argument', myParseInt, 1000)\n  .action((first, second) => {\n    console.log(`${first} + ${second} = ${first + second}`);\n  })\n;\n```\n\n----------------------------------------\n\nTITLE: Configuring Input Stream for Child Process in TypeScript\nDESCRIPTION: Demonstrates how to configure the input stream of a child process using a fetched file as stdin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"cat\"], {\n  stdin: await fetch(\n    \"https://raw.githubusercontent.com/oven-sh/bun/main/examples/hashing.js\",\n  ),\n});\n\nconst text = await new Response(proc.stdout).text();\nconsole.log(text); // \"const input = \"hello world\".repeat(400); ...\"\n```\n\n----------------------------------------\n\nTITLE: Code Signing a macOS Executable with JIT Entitlements using Shell\nDESCRIPTION: This shell command demonstrates how to code sign a macOS executable (`./myapp`) while applying specific entitlements from a `.plist` file (`entitlements.plist`). This is typically used to grant JIT permissions required by the application. Replace `XXXXXXXXXX` with your signing identity.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\n$ codesign --deep --force -vvvv --sign \"XXXXXXXXXX\" --entitlements entitlements.plist ./myapp\n```\n\n----------------------------------------\n\nTITLE: UDP Connection Setup\nDESCRIPTION: Example of establishing a UDP connection between client and server for single-peer communication\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = await Bun.udpSocket({\n  socket: {\n    data(socket, buf, port, addr) {\n      console.log(`message from ${addr}:${port}:`)\n      console.log(buf.toString());\n    } \n  }\n})\nconst client = await Bun.udpSocket({\n  connect: {\n    port: server.port,\n    hostname: '127.0.0.1',\n  }\n});\n\nclient.send(\"Hello\");\n```\n\n----------------------------------------\n\nTITLE: Installing Happy DOM Global Registrator with Bun\nDESCRIPTION: Command to install the Happy DOM global registrator package as a development dependency using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add -d @happy-dom/global-registrator\n```\n\n----------------------------------------\n\nTITLE: Bundled Output HTML from Bun\nDESCRIPTION: The transformed HTML after Bun's bundling process, showing how scripts and stylesheets are combined and hashed for efficient delivery.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Home</title>\n    <link rel=\"stylesheet\" href=\"/index-[hash].css\" />\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"/index-[hash].js\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: String Escaping in Bun Shell\nDESCRIPTION: Demonstrates the use of $.escape utility for escaping strings in Bun Shell. This function exposes Bun Shell's escaping logic, allowing users to manually escape special characters in strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_20\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconsole.log($.escape('$(foo) `bar` \"baz\"'));\n// => \\$(foo) \\`bar\\` \\\"baz\\\"\n```\n\n----------------------------------------\n\nTITLE: Using Data URLs with Fetch in TypeScript\nDESCRIPTION: Demonstrates how to use data URLs with fetch to retrieve inline content without making a network request.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"data:text/plain;base64,SGVsbG8sIFdvcmxkIQ==\");\nconst text = await response.text(); // \"Hello, World!\"\n```\n\n----------------------------------------\n\nTITLE: Install Bun Dependencies on macOS (Homebrew)\nDESCRIPTION: This command installs the necessary dependencies for building Bun on macOS using Homebrew.  Dependencies include build tools, languages, and libraries required by Bun. Ensure Homebrew is installed before running this command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install automake ccache cmake coreutils gnu-sed go icu4c libiconv libtool ninja pkg-config rust ruby\n```\n\n----------------------------------------\n\nTITLE: Replacing values with JSON using --define\nDESCRIPTION: This shell command demonstrates how to use --define to replace a variable with a JSON object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nbun --define AWS='{\"ACCESS_KEY\":\"abc\",\"SECRET_KEY\":\"def\"}' src/index.ts\n```\n\n----------------------------------------\n\nTITLE: Enabling colors in Bun.inspect.table() in TypeScript\nDESCRIPTION: Demonstrates how to enable ANSI colors in table output from Bun.inspect.table() by passing the colors option. This makes the output more visually distinct when viewed in compatible terminals.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\n  Bun.inspect.table(\n    [\n      { a: 1, b: 2, c: 3 },\n      { a: 4, b: 5, c: 6 },\n    ],\n    {\n      colors: true,\n    },\n  ),\n);\n```\n\n----------------------------------------\n\nTITLE: Sample Query Results Structure with Positional Parameters (TypeScript)\nDESCRIPTION: Shows the expected object result of a query using numbered positional parameters, demonstrating the mapping of positional inputs to output fields.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_21\n\nLANGUAGE: TypeScript\nCODE:\n```\n[\n  {\n    \"?1\": \"hello\",\n    \"?2\": \"goodbye\"\n  }\n]\n\n```\n\n----------------------------------------\n\nTITLE: Importing Native Addons in TypeScript\nDESCRIPTION: Shows how to import native addons (.node files) directly in TypeScript runtime. In the bundler, these files are handled by the file loader.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\nimport addon from \"./addon.node\";\nconsole.log(addon);\n```\n\n----------------------------------------\n\nTITLE: Running Migration Script and Expected Output (Shell Script)\nDESCRIPTION: Executes the migration script via Bun and shows success output. Input: migrate.ts file; output: confirmation log if migration succeeds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_9\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run migrate.ts\\nMigration completed\n```\n\n----------------------------------------\n\nTITLE: Importing TOML in TypeScript\nDESCRIPTION: Shows how to import TOML files directly in TypeScript using Bun's native TOML parser. Includes an example of using import attributes for custom TOML files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport config from \"./bunfig.toml\";\nconfig.logLevel; // => \"debug\"\n\n// via import attribute:\n// import myCustomTOML from './my.config' with {type: \"toml\"};\n```\n\n----------------------------------------\n\nTITLE: Running WebSocket Chat Server in Deno\nDESCRIPTION: Command to start the WebSocket chat server using Deno's built-in Deno.serve functionality with all permissions enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/websocket-server/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndeno run -A ./chat-server.deno.mjs\n```\n\n----------------------------------------\n\nTITLE: Compressing data with Bun.gzipSync() in TypeScript\nDESCRIPTION: Demonstrates how to compress a Uint8Array using zlib's GZIP algorithm. The example shows compressing a buffer containing repeated text, resulting in significant size reduction.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nconst buf = Buffer.from(\"hello\".repeat(100)); // Buffer extends Uint8Array\nconst compressed = Bun.gzipSync(buf);\n\nbuf; // => Uint8Array(500)\ncompressed; // => Uint8Array(30)\n```\n\n----------------------------------------\n\nTITLE: Using Thread-Safe Callbacks with JSCallback in FFI\nDESCRIPTION: This snippet shows how to create a thread-safe callback using the JSCallback class from bun:ffi. It demonstrates the usage of the optional 'threadsafe' parameter when creating a callback.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst searchIterator = new JSCallback(\n  (ptr, length) => /hello/.test(new CString(ptr, length)),\n  {\n    returns: \"bool\",\n    args: [\"ptr\", \"usize\"],\n    threadsafe: true, // Optional. Defaults to `false`\n  },\n);\n```\n\n----------------------------------------\n\nTITLE: Using Bun.sleep() for Asynchronous Delays\nDESCRIPTION: Demonstrates how to use Bun.sleep() to create asynchronous delays in code execution, supporting both millisecond and Date inputs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"hello\");\nawait Bun.sleep(1000);\nconsole.log(\"hello one second later!\");\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst oneSecondInFuture = new Date(Date.now() + 1000);\n\nconsole.log(\"hello\");\nawait Bun.sleep(oneSecondInFuture);\nconsole.log(\"hello one second later!\");\n```\n\n----------------------------------------\n\nTITLE: Running the Bun Application Docker Container in Shell\nDESCRIPTION: This command uses `docker run` to start a new container from the `bun-hello-world` image created previously. The `-d` flag runs the container in detached mode (in the background), and `-p 3000:3000` maps port 3000 on the host machine to port 3000 inside the container. The command outputs the unique ID of the newly created container.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ docker run -d -p 3000:3000 bun-hello-world\n7f03e212a15ede8644379bce11a13589f563d3909a9640446c5bbefce993678d\n```\n\n----------------------------------------\n\nTITLE: Running Specific Test File with Bun Test\nDESCRIPTION: Execute a single test file by specifying its exact path with './' or '/' prefix to distinguish it from filter patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test ./test/specific-file.test.ts\n```\n\n----------------------------------------\n\nTITLE: Bun Server TypeScript Interface Definitions\nDESCRIPTION: Comprehensive TypeScript interface definitions for Bun's server implementation, including WebSocket handling, TLS configuration, and server management methods.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_28\n\nLANGUAGE: typescript\nCODE:\n```\ninterface Server extends Disposable {\n  /**\n   * Stop the server from accepting new connections.\n   * @param closeActiveConnections If true, immediately terminates all connections\n   * @returns Promise that resolves when the server has stopped\n   */\n  stop(closeActiveConnections?: boolean): Promise<void>;\n\n  /**\n   * Update handlers without restarting the server.\n   * Only fetch and error handlers can be updated.\n   */\n  reload(options: Serve): void;\n\n  /**\n   * Make a request to the running server.\n   * Useful for testing or internal routing.\n   */\n  fetch(request: Request | string): Response | Promise<Response>;\n\n  /**\n   * Upgrade an HTTP request to a WebSocket connection.\n   * @returns true if upgrade successful, false if failed\n   */\n  upgrade<T = undefined>(\n    request: Request,\n    options?: {\n      headers?: Bun.HeadersInit;\n      data?: T;\n    },\n  ): boolean;\n\n  /**\n   * Publish a message to all WebSocket clients subscribed to a topic.\n   * @returns Bytes sent, 0 if dropped, -1 if backpressure applied\n   */\n  publish(\n    topic: string,\n    data: string | ArrayBufferView | ArrayBuffer | SharedArrayBuffer,\n    compress?: boolean,\n  ): ServerWebSocketSendStatus;\n\n  /**\n   * Get count of WebSocket clients subscribed to a topic.\n   */\n  subscriberCount(topic: string): number;\n\n  /**\n   * Get client IP address and port.\n   * @returns null for closed requests or Unix sockets\n   */\n  requestIP(request: Request): SocketAddress | null;\n\n  /**\n   * Set custom idle timeout for a request.\n   * @param seconds Timeout in seconds, 0 to disable\n   */\n  timeout(request: Request, seconds: number): void;\n\n  /**\n   * Keep process alive while server is running.\n   */\n  ref(): void;\n\n  /**\n   * Allow process to exit if server is only thing running.\n   */\n  unref(): void;\n\n  /** Number of in-flight HTTP requests */\n  readonly pendingRequests: number;\n\n  /** Number of active WebSocket connections */\n  readonly pendingWebSockets: number;\n\n  /** Server URL including protocol, hostname and port */\n  readonly url: URL;\n\n  /** Port server is listening on */\n  readonly port: number;\n\n  /** Hostname server is bound to */\n  readonly hostname: string;\n\n  /** Whether server is in development mode */\n  readonly development: boolean;\n\n  /** Server instance identifier */\n  readonly id: string;\n}\n\ninterface WebSocketHandler<T = undefined> {\n  /** Maximum WebSocket message size in bytes */\n  maxPayloadLength?: number;\n\n  /** Bytes of queued messages before applying backpressure */\n  backpressureLimit?: number;\n\n  /** Whether to close connection when backpressure limit hit */\n  closeOnBackpressureLimit?: boolean;\n\n  /** Called when backpressure is relieved */\n  drain?(ws: ServerWebSocket<T>): void | Promise<void>;\n\n  /** Seconds before idle timeout */\n  idleTimeout?: number;\n\n  /** Enable per-message deflate compression */\n  perMessageDeflate?:\n    | boolean\n    | {\n        compress?: WebSocketCompressor | boolean;\n        decompress?: WebSocketCompressor | boolean;\n      };\n\n  /** Send ping frames to keep connection alive */\n  sendPings?: boolean;\n\n  /** Whether server receives its own published messages */\n  publishToSelf?: boolean;\n\n  /** Called when connection opened */\n  open?(ws: ServerWebSocket<T>): void | Promise<void>;\n\n  /** Called when message received */\n  message(\n    ws: ServerWebSocket<T>,\n    message: string | Buffer,\n  ): void | Promise<void>;\n\n  /** Called when connection closed */\n  close?(\n    ws: ServerWebSocket<T>,\n    code: number,\n    reason: string,\n  ): void | Promise<void>;\n\n  /** Called when ping frame received */\n  ping?(ws: ServerWebSocket<T>, data: Buffer): void | Promise<void>;\n\n  /** Called when pong frame received */\n  pong?(ws: ServerWebSocket<T>, data: Buffer): void | Promise<void>;\n}\n\ninterface TLSOptions {\n  /** Certificate authority chain */\n  ca?: string | Buffer | BunFile | Array<string | Buffer | BunFile>;\n\n  /** Server certificate */\n  cert?: string | Buffer | BunFile | Array<string | Buffer | BunFile>;\n\n  /** Path to DH parameters file */\n  dhParamsFile?: string;\n\n  /** Private key */\n  key?: string | Buffer | BunFile | Array<string | Buffer | BunFile>;\n\n  /** Reduce TLS memory usage */\n  lowMemoryMode?: boolean;\n\n  /** Private key passphrase */\n  passphrase?: string;\n\n  /** OpenSSL options flags */\n  secureOptions?: number;\n\n  /** Server name for SNI */\n  serverName?: string;\n}\n```\n\n----------------------------------------\n\nTITLE: RGB Array Format Examples in TypeScript\nDESCRIPTION: Examples of converting colors to RGB array format using Bun.color() with '[rgba]' and '[rgb]' output formats\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"hsl(0, 0%, 50%)\", \"[rgba]\"); // [128, 128, 128, 255]\nBun.color(\"red\", \"[rgba]\"); // [255, 0, 0, 255]\nBun.color(0xff0000, \"[rgba]\"); // [255, 0, 0, 255]\nBun.color({ r: 255, g: 0, b: 0 }, \"[rgba]\"); // [255, 0, 0, 255]\nBun.color([255, 0, 0], \"[rgba]\"); // [255, 0, 0, 255]\n```\n\n----------------------------------------\n\nTITLE: Using 'bun' Types in Ambient Declarations\nDESCRIPTION: This snippet demonstrates how to use types from the 'bun' module within ambient declarations. It shows two equivalent ways of referencing a type from the 'bun' module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/authoring.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// These are equivalent\ntype A = import(\"bun\").MyType;\ntype A = Bun.MyType;\n```\n\n----------------------------------------\n\nTITLE: Scoping hooks to a describe block in Bun tests\nDESCRIPTION: Example of using beforeAll hook scoped to a specific describe block. This allows setup logic to be executed once before all tests in that specific test group, limiting the scope of the setup to just those tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { describe, beforeAll } from \"bun:test\";\n\ndescribe(\"test group\", () => {\n  beforeAll(() => {\n    // setup\n  });\n\n  // tests...\n});\n```\n\n----------------------------------------\n\nTITLE: Setting breakpoints using bun-inspector-protocol in TypeScript\nDESCRIPTION: TypeScript code demonstrating how to set breakpoints by URL, with custom actions, and how to remove breakpoints using the Debugger domain of the inspector protocol.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// Set a breakpoint by URL\nconst { breakpointId } = await inspector.send(\"Debugger.setBreakpointByUrl\", {\n  lineNumber: 42,\n  url: \"/app/foo.ts\",\n  condition: \"x > 5\", // Optional condition\n});\n\n// Set a breakpoint with custom actions\nawait inspector.send(\"Debugger.setBreakpoint\", {\n  location: { scriptId: \"123\", lineNumber: 10 },\n  options: {\n    condition: \"count > 5\",\n    actions: [\n      { type: \"log\", data: \"Breakpoint hit!\" },\n      { type: \"evaluate\", data: \"console.log('Custom breakpoint action')\" },\n    ],\n    autoContinue: true,\n  },\n});\n\n// Remove a breakpoint\nawait inspector.send(\"Debugger.removeBreakpoint\", { breakpointId });\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies (Fedora)\nDESCRIPTION: Installs the necessary dependencies for building Bun on Fedora using dnf. Includes compilers, build tools, and essential libraries for the project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo dnf install cargo ccache cmake git golang libtool ninja-build pkg-config rustc ruby libatomic-static libstdc++-static sed unzip which libicu-devel 'perl(Math::BigInt)'\n```\n\n----------------------------------------\n\nTITLE: Handling Error Logs in Bun Build\nDESCRIPTION: Example showing how to handle build errors with try/catch blocks and access detailed error information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_67\n\nLANGUAGE: typescript\nCODE:\n```\ntry {\n  const result = await Bun.build({\n    entrypoints: [\"./index.tsx\"],\n    outdir: \"./out\",\n  });\n} catch (e) {\n  // TypeScript does not allow annotations on the catch clause\n  const error = e as AggregateError;\n  console.error(\"Build Failed\");\n\n  // Example: Using the built-in formatter\n  console.error(error);\n\n  // Example: Serializing the failure as a JSON string.\n  console.error(JSON.stringify(error, null, 2));\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom JSX Factory\nDESCRIPTION: Configuration for specifying a custom JSX factory function using the jsxFactory option. This is useful for libraries like Preact that use a different function name for JSX creation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_10\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"react\",\n  \"jsxFactory\": \"h\"\n}\n```\n\n----------------------------------------\n\nTITLE: Printing Environment Variables for Debugging\nDESCRIPTION: Command to print all environment variables to the console for debugging purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_15\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --print process.env\nBAZ=stuff\nFOOBAR=aaaaaa\n<lots more lines>\n```\n\n----------------------------------------\n\nTITLE: Initializing a Bun project for Prisma\nDESCRIPTION: Commands to create a new directory and initialize it as a Bun project. This sets up the basic structure needed for a Bun application with Prisma.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ mkdir prisma-app\n$ cd prisma-app\n$ bun init\n```\n\n----------------------------------------\n\nTITLE: Multiple Ways to Provide TLS Certificates\nDESCRIPTION: Demonstrates various methods to supply TLS key and certificate data, including using BunFile, Buffer, string, or arrays of these types for certificate chains.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nBun.listen({\n  // ...\n  tls: {\n    // BunFile\n    key: Bun.file(\"./key.pem\"),\n    // Buffer\n    key: fs.readFileSync(\"./key.pem\"),\n    // string\n    key: fs.readFileSync(\"./key.pem\", \"utf8\"),\n    // array of above\n    key: [Bun.file(\"./key1.pem\"), Bun.file(\"./key2.pem\")],\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Exporting a TypeScript Function\nDESCRIPTION: Shows how to export a function from a TypeScript module that can be imported by other files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nexport function hello() {\n  console.log(\"Hello world!\");\n}\n```\n\n----------------------------------------\n\nTITLE: Enabling TLS for a TCP Client\nDESCRIPTION: Configures a TCP client to require TLS encryption when connecting to a server by setting the tls option to true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// The client\nconst socket = await Bun.connect({\n  // ... config\n  tls: true,\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Custom MIME Types\nDESCRIPTION: Example of setting custom MIME types when creating a BunFile instance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst notreal = Bun.file(\"notreal.json\", { type: \"application/json\" });\nnotreal.type; // => \"application/json;charset=utf-8\"\n```\n\n----------------------------------------\n\nTITLE: Generating Drizzle Migration Files (Shell Script)\nDESCRIPTION: Runs drizzle-kit from the command line to analyze schema.ts and produce SQL migration files suitable for initializing or migrating the database; supports specifying dialect and folder output. Assumes Bun and Drizzle dependencies are installed. No input except via command-line flags.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n$ bunx drizzle-kit generate --dialect postgresql --schema ./schema.ts --out ./drizzle\n```\n\n----------------------------------------\n\nTITLE: Installing Bun using Homebrew\nDESCRIPTION: This snippet shows how to install Bun on macOS and Linux using Homebrew.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install oven-sh/bun/bun # for macOS and Linux\n```\n\n----------------------------------------\n\nTITLE: Implementing Static File Serving with StricJS\nDESCRIPTION: Enhanced server implementation that includes both a basic route and static file serving from a public directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/stric.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { dir } from '@stricjs/utils';\n\nexport default new Router()\n  .get('/', () => new Response('Hi'))\n  .get('/*', dir('./public'));\n```\n\n----------------------------------------\n\nTITLE: Installing Git Dependencies with Bun\nDESCRIPTION: Commands and configuration for installing packages from Git repositories using various protocols.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add git@github.com:moment/moment.git\n```\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"dayjs\": \"git+https://github.com/iamkun/dayjs.git\",\n    \"lodash\": \"git+ssh://github.com/lodash/lodash.git#4.17.21\",\n    \"moment\": \"git@github.com:moment/moment.git\",\n    \"zod\": \"github:colinhacks/zod\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Snapshot Test in TypeScript with Bun Test Runner\nDESCRIPTION: Basic example of a snapshot test using Bun's test runner. The test creates a snapshot of a simple object which will be saved to the __snapshots__ directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"snapshot\", () => {\n  expect({ foo: \"bar\" }).toMatchSnapshot();\n});\n```\n\n----------------------------------------\n\nTITLE: Recursive Directory Glob Pattern\nDESCRIPTION: Example of using '**' glob pattern to match files in any subdirectory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"**/*.ts\");\nglob.match(\"index.ts\"); // => true\nglob.match(\"src/index.ts\"); // => true\nglob.match(\"src/index.js\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Time Zone Effect on Date Objects in Bun (TypeScript)\nDESCRIPTION: This snippet illustrates how setting the TZ environment variable affects Date instances in Bun. It shows the difference in hours returned by getHours() before and after setting the time zone.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/timezone.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nnew Date().getHours(); // => 18\n\nprocess.env.TZ = \"America/New_York\";\n\nnew Date().getHours(); // => 21\n```\n\n----------------------------------------\n\nTITLE: Committing Package Patches with Bun\nDESCRIPTION: This snippet shows how to commit changes made to a patched package using `bun patch --commit`. It demonstrates specifying the package by path, name and version, as well as customizing the patch directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/patch.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# you can supply the path to the patched package\n$ bun patch --commit node_modules/react\n\n# ... or the package name and optionally the version\n$ bun patch --commit react@17.0.2\n\n# choose the directory to store the patch files\n$ bun patch --commit react --patches-dir=mypatches\n\n# `patch-commit` is available for compatibility with pnpm\n$ bun patch-commit react\n```\n\n----------------------------------------\n\nTITLE: Upgrading Bun\nDESCRIPTION: This snippet shows how to upgrade Bun to the latest version and how to upgrade to the latest canary build.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ bun upgrade\n\n$ bun upgrade --canary\n```\n\n----------------------------------------\n\nTITLE: Bun Plugin Macro Implementation Example\nDESCRIPTION: Internal implementation example of how the bun macro wraps plugin code\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_2\n\nLANGUAGE: rust\nCODE:\n```\npub extern \"C\" fn replace_foo_with_bar(\n  args: *const bun_native_plugin::sys::OnBeforeParseArguments,\n  result: *mut bun_native_plugin::sys::OnBeforeParseResult,\n) {\n  // The actual code you wrote is inlined here\n  fn __replace_foo_with_bar(handle: &mut OnBeforeParse) -> Result<()> {\n    // Fetch the input source code.\n    let input_source_code = handle.input_source_code()?;\n\n    // Get the Loader for the file\n    let loader = handle.output_loader();\n\n\n    let output_source_code = input_source_code.replace(\"foo\", \"bar\");\n\n    handle.set_output_source_code(output_source_code, BunLoader::BUN_LOADER_JSX);\n\n    Ok(())\n  }\n\n  let args = unsafe { &*args };\n\n  let mut handle = OnBeforeParse::from_raw(args, result) {\n    Ok(handle) => handle,\n    Err(_) => {\n      return;\n    }\n  };\n\n  if let Err(e) = __replace_fo_with_bar(&handle) {\n    handle.log_err(&e.to_string());\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Controlling Process Lifecycle with server.ref() and server.unref()\nDESCRIPTION: Demonstrates how to control whether the server keeps the Bun process alive using ref() and unref() methods. Using unref() allows the process to exit if the server is the only thing running.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\n// Don't keep process alive if server is the only thing running\nserver.unref();\n\n// Restore default behavior - keep process alive\nserver.ref();\n```\n\n----------------------------------------\n\nTITLE: Defining Neon Postgres Connection String in Environment File - Shell\nDESCRIPTION: This snippet shows how to define the Neon Postgres connection string as an environment variable in a .env.local file. The DATABASE_URL variable provides connection credentials for the Neon serverless Postgres instance. Replace 'username', 'password', and database details with your actual Neon credentials. This environment variable will later be loaded automatically by Bun during runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-serverless-postgres.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nDATABASE_URL=postgresql://username:password@ep-adj-noun-guid.us-east-1.aws.neon.tech/neondb?sslmode=require\n```\n\n----------------------------------------\n\nTITLE: JSX Transformation with 'react' Option\nDESCRIPTION: Configuration for transforming JSX using the 'react' option, which uses React.createElement for transpilation. This is the traditional React JSX transformation approach.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"react\"\n}\n```\n\n----------------------------------------\n\nTITLE: C Implementation using N-API for Object Creation\nDESCRIPTION: C code that creates and returns a JavaScript object using N-API functions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_5\n\nLANGUAGE: c\nCODE:\n```\n#include <node/node_api.h>\n\nnapi_value hello(napi_env env) {\n  napi_value result;\n  napi_create_object(env, &result);\n  return result;\n}\n```\n\n----------------------------------------\n\nTITLE: Enhancing the HTTP Server with Figlet ASCII Art\nDESCRIPTION: Updates the server code to use the figlet package to convert 'Bun!' into ASCII art and return it as the response body.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_8\n\nLANGUAGE: ts-diff\nCODE:\n```\n+ import figlet from \"figlet\";\n\n  const server = Bun.serve({\n    port: 3000,\n    fetch(req) {\n+     const body = figlet.textSync(\"Bun!\");\n+     return new Response(body);\n-     return new Response(\"Bun!\");\n    },\n  });\n```\n\n----------------------------------------\n\nTITLE: Configuring Trusted Dependencies\nDESCRIPTION: JSON configuration for specifying trusted dependencies that are allowed to run lifecycle scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"name\": \"my-app\",\n    \"version\": \"1.0.0\",\n    \"trustedDependencies\": [\"my-trusted-package\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Manual Script Execution in Monorepo Packages using Bash\nDESCRIPTION: This example demonstrates the typical manual approach for running scripts in separate monorepo packages by changing into each package's directory and running the desired command. Each terminal session handles one package. This method is contrasted with Bun's --filter automation. Requires separate terminal instances.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/filter.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncd packages/api\nbun dev\n\n# in another terminal\ncd packages/frontend\nbun dev\n\n```\n\n----------------------------------------\n\nTITLE: Building Bun Runtime\nDESCRIPTION: Commands for building Bun from source using ninja build system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_5\n\nLANGUAGE: powershell\nCODE:\n```\nbun run build\n\n# after the initial `bun run build` you can use the following to build\nninja -Cbuild/debug\n```\n\n----------------------------------------\n\nTITLE: Setting a single coverage threshold in bunfig.toml\nDESCRIPTION: Configuration in bunfig.toml to set a single threshold value (90%) for both line-level and function-level code coverage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage-threshold.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n# to require 90% line-level and function-level coverage\ncoverageThreshold = 0.9\n```\n\n----------------------------------------\n\nTITLE: Package.json Dependency Update\nDESCRIPTION: Shows the resulting change in package.json after adding a tarball dependency, demonstrating how the URL is stored in the dependencies object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-tarball.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n   \"zod\": \"https://registry.npmjs.org/zod/-/zod-3.21.4.tgz\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Command Line Argument Parsing\nDESCRIPTION: Example showing basic usage of Commander.js to parse command line arguments with options for separator and first item limit\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst { program } = require('commander');\n\nprogram\n  .option('--first')\n  .option('-s, --separator <char>');\n\nprogram.parse();\n\nconst options = program.opts();\nconst limit = options.first ? 1 : undefined;\nconsole.log(program.args[0].split(options.separator, limit));\n```\n\n----------------------------------------\n\nTITLE: Node.js Test Directory Structure Table in Markdown\nDESCRIPTION: A markdown table documenting the various test directories in Node.js core, including whether they run in CI and their specific purposes. The table covers specialized test categories like addon tests, async hooks, benchmarks, and various other testing scenarios.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Directory        | Runs on CI | Purpose                                                                                                       |\n| ---------------- | ---------- | ------------------------------------------------------------------------------------------------------------- |\n| `abort`          | Yes        | Tests that use `--abort-on-uncaught-exception` and other cases where we want to avoid generating a core file. |\n| `addons`         | Yes        | Tests for [addon][] functionality along with some tests that require an addon.                                |\n| `async-hooks`    | Yes        | Tests for [async\\_hooks][async_hooks] functionality.                                                          |\n| `benchmark`      | Yes        | Test minimal functionality of benchmarks.                                                                     |\n| `cctest`         | Yes        | C++ tests that are run as part of the build process.                                                          |\n| `code-cache`     | No         | Tests for a Node.js binary compiled with V8 code cache.                                                       |\n| `common`         | _N/A_      | Common modules shared among many tests.[^1]                                                                   |\n| `doctool`        | Yes        | Tests for the documentation generator.                                                                        |\n| `es-module`      | Yes        | Test ESM module loading.                                                                                      |\n| `fixtures`       | _N/A_      | Test fixtures used in various tests throughout the test suite.                                                |\n| `internet`       | No         | Tests that make real outbound network connections.[^2]                                                        |\n| `js-native-api`  | Yes        | Tests for Node.js-agnostic [Node-API][] functionality.                                                        |\n| `known_issues`   | Yes        | Tests reproducing known issues within the system.[^3]                                                         |\n| `message`        | Yes        | Tests for messages that are output for various conditions                                                     |\n| `node-api`       | Yes        | Tests for Node.js-specific [Node-API][] functionality.                                                        |\n| `parallel`       | Yes        | Various tests that are able to be run in parallel.                                                            |\n| `pseudo-tty`     | Yes        | Tests that require stdin/stdout/stderr to be a TTY.                                                           |\n| `pummel`         | No         | Various tests for various modules / system functionality operating under load.                                |\n| `sequential`     | Yes        | Various tests that must not run in parallel.                                                                  |\n| `testpy`         | _N/A_      | Test configuration utility used by various test suites.                                                       |\n| `tick-processor` | No         | Tests for the V8 tick processor integration.[^4]                                                              |\n| `v8-updates`     | No         | Tests for V8 performance integration.                                                                         |\n```\n\n----------------------------------------\n\nTITLE: Importing with Explicit Loader in TypeScript\nDESCRIPTION: Demonstrates how to explicitly specify which loader to use through the import attribute syntax, overriding the default loader determined by file extension.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nimport my_toml from \"./my_file\" with { loader: \"toml\" };\n```\n\n----------------------------------------\n\nTITLE: Running WebSocket Chat Server in Node.js\nDESCRIPTION: Command to start the WebSocket chat server using Node.js with the 'ws' package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/websocket-server/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnode ./chat-server.node.mjs\n```\n\n----------------------------------------\n\nTITLE: JSX Output with 'react' Option\nDESCRIPTION: Transpiled output of JSX when using the 'react' option, showing how JSX is converted to createElement function calls that import from the react package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createElement } from \"react\";\ncreateElement(\"Box\", { width: 5 }, \"Hello\");\n```\n\n----------------------------------------\n\nTITLE: Using Error.captureStackTrace for Custom Stack Trace Capture\nDESCRIPTION: Shows how to use Error.captureStackTrace to capture a stack trace at a specific point in code, which is useful for determining where an error originated in complex asynchronous code or callbacks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nconst fn = () => {\n  function myInner() {\n    throw err;\n  }\n\n  try {\n    myInner();\n  } catch (err) {\n    console.log(err.stack);\n    console.log(\"\");\n    console.log(\"-- captureStackTrace --\");\n    console.log(\"\");\n    Error.captureStackTrace(err, fn);\n    console.log(err.stack);\n  }\n};\n\nfn();\n```\n\n----------------------------------------\n\nTITLE: Basic JSX Syntax Example for Transformation\nDESCRIPTION: A simple JSX example used to demonstrate how different JSX transformation options affect the output. Shows a basic Box component with a width prop and text content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<Box width={5}>Hello</Box>\n```\n\n----------------------------------------\n\nTITLE: Running DOM Tests with Bun\nDESCRIPTION: Example output of running DOM tests using Bun's test runner with Happy DOM integration\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/happy-dom.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test\n\ndom.test.ts:\n✓ set button text [0.82ms]\n\n 1 pass\n 0 fail\n 1 expect() calls\nRan 1 tests across 1 files. 1 total [125.00ms]\n```\n\n----------------------------------------\n\nTITLE: Installing bun-plugin-yaml with Bun\nDESCRIPTION: Command to install the bun-plugin-yaml as a development dependency using Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nbun add bun-plugin-yaml -d\n```\n\n----------------------------------------\n\nTITLE: YAML Plugin Implementation\nDESCRIPTION: A complete implementation of a plugin that adds support for importing YAML files in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nawait plugin({\n  name: \"YAML\",\n  async setup(build) {\n    const { load } = await import(\"js-yaml\");\n\n    // when a .yaml file is imported...\n    build.onLoad({ filter: /\\.(yaml|yml)$/ }, async (args) => {\n\n      // read and parse the file\n      const text = await Bun.file(args.path).text();\n      const exports = load(text) as Record<string, any>;\n\n      // and returns it as a module\n      return {\n        exports,\n        loader: \"object\", // special loader for JS objects\n      };\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Blob in TypeScript\nDESCRIPTION: A method for converting a ReadableStream to a Blob using the Response object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\nnew Response(stream).blob();\n```\n\n----------------------------------------\n\nTITLE: Setting GCC 11 as Default Compiler\nDESCRIPTION: These commands set GCC 11 and G++ 11 as the default compilers using `update-alternatives`. This ensures that Clang uses the correct GCC version with C++20 support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_31\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-11 100\n$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-11 100\n```\n\n----------------------------------------\n\nTITLE: TypedArray Array Methods and Limitations in JavaScript/TypeScript\nDESCRIPTION: This example highlights the subset of Array methods supported by TypedArrays, using Uint8Array as an example. Functions like filter, map, reduce, forEach, every, find, includes, and indexOf behave similarly to standard arrays, but methods that would mutate the array's length (push, pop, etc.) are absent due to fixed buffer sizing. No dependencies; intended to be run in environments with TypedArray support. Inputs are standard TypedArrays and functions; outputs depend on each operation (new TypedArrays, scalar results, or console output).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_12\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr = new Uint8Array([0, 1, 2, 3, 4, 5, 6, 7]);\n\n// supports common array methods\narr.filter(n => n > 128); // Uint8Array(1) [255]\narr.map(n => n * 2); // Uint8Array(8) [0, 2, 4, 6, 8, 10, 12, 14]\narr.reduce((acc, n) => acc + n, 0); // 28\narr.forEach(n => console.log(n)); // 0 1 2 3 4 5 6 7\narr.every(n => n < 10); // true\narr.find(n => n > 5); // 6\narr.includes(5); // true\narr.indexOf(5); // 5\n```\n\n----------------------------------------\n\nTITLE: Defining Bun Plugin Types in TypeScript\nDESCRIPTION: TypeScript definitions for Bun's plugin system, including the PluginBuilder interface and Loader type. These types define the structure and capabilities of Bun plugins.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/plugins.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nnamespace Bun {\n  function plugin(plugin: {\n    name: string;\n    setup: (build: PluginBuilder) => void;\n  }): void;\n}\n\ntype PluginBuilder = {\n  onStart(callback: () => void): void;\n  onResolve: (\n    args: { filter: RegExp; namespace?: string },\n    callback: (args: { path: string; importer: string }) => {\n      path: string;\n      namespace?: string;\n    } | void,\n  ) => void;\n  onLoad: (\n    args: { filter: RegExp; namespace?: string },\n    callback: (args: { path: string }) => {\n      loader?: Loader;\n      contents?: string;\n      exports?: Record<string, any>;\n    },\n  ) => void;\n  config: BuildConfig;\n};\n\ntype Loader = \"js\" | \"jsx\" | \"ts\" | \"tsx\" | \"css\" | \"json\" | \"toml\" | \"object\";\n```\n\n----------------------------------------\n\nTITLE: Converting Node.js Readable to Uint8Array using Bun's Response\nDESCRIPTION: This snippet demonstrates how to convert a Node.js Readable stream to a Uint8Array using Bun. It creates a Readable stream, wraps it in a Response object, and then uses the bytes() method to read the stream into a Uint8Array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/node-readable-to-uint8array.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nconst stream = Readable.from([\"Hello, \", \"world!\"]);\nconst buf = await new Response(stream).bytes();\n```\n\n----------------------------------------\n\nTITLE: Binding Positional Parameters in Bun SQLite Queries (TypeScript)\nDESCRIPTION: Demonstrates use of positional parameters (?1, ?2) in SQL queries with Bun by passing arguments directly to .all(). The resulting objects have keys matching the positional placeholders.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_20\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst query = db.query(\"SELECT ?1, ?2\");\nconst results = query.all(\"hello\", \"goodbye\");\n\n```\n\n----------------------------------------\n\nTITLE: Installing With Yarn Lockfile Support in Bun (CLI)\nDESCRIPTION: Installs dependencies and generates both bun.lock and a Yarn lockfile by using the --yarn flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lockfile.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --yarn\n```\n\n----------------------------------------\n\nTITLE: Resetting the System Clock in Bun Tests\nDESCRIPTION: This example shows how to reset the system clock back to the actual time by calling setSystemTime without any arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-clock.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, beforeAll, setSystemTime } from \"bun:test\";\n\nsetSystemTime(); // reset to actual time\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables via Command Line in Windows\nDESCRIPTION: Demonstrates how to set environment variables in Windows using both CMD and PowerShell when running a Bun application. Each shell requires a different syntax for setting temporary environment variables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/set-env.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n# Using CMD\n$ set FOO=helloworld && bun run dev\n\n# Using PowerShell\n$ $env:FOO=\"helloworld\"; bun run dev\n```\n\n----------------------------------------\n\nTITLE: Installing Global Packages with Bun\nDESCRIPTION: Illustrates how to install a package globally using `bun install` with the `-g` or `--global` flag. This is typically used for command-line tools, demonstrated here by installing and running the `cowsay` package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --global cowsay # or `bun install -g cowsay`\n$ cowsay \"Bun!\"\n ______\n< Bun! >\n ------\n        \\   ^__^\n         \\  (oo)\\_______\n            (__)\\       )\\/\\\n                ||----w |\n                ||     ||\n```\n\n----------------------------------------\n\nTITLE: Example Directory Structure for Bun Test Filtering\nDESCRIPTION: Shows an example directory structure containing multiple `.test.ts` files, including some within a subdirectory (`foo`). This structure is used as context for the subsequent commented-out examples demonstrating how test filtering works with `bun test`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_16\n\nLANGUAGE: text\nCODE:\n```\n.\n├── a.test.ts\n├── b.test.ts\n├── c.test.ts\n└── foo\n    ├── a.test.ts\n    └── b.test.ts\n```\n\n----------------------------------------\n\nTITLE: Setting Up TypeScript Type Declarations\nDESCRIPTION: TypeScript declaration file to extend Bun's matcher types with Testing Library matchers using declaration merging.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { TestingLibraryMatchers } from '@testing-library/jest-dom/matchers';\nimport { Matchers, AsymmetricMatchers } from 'bun:test';\n\ndeclare module 'bun:test' {\n  interface Matchers<T>\n    extends TestingLibraryMatchers<typeof expect.stringContaining, T> {}\n  interface AsymmetricMatchers extends TestingLibraryMatchers {}\n}\n```\n\n----------------------------------------\n\nTITLE: Using validateContent from report module\nDESCRIPTION: Validates the schema of a diagnostic report content, which can be provided as a JSON string, parsed object, or result of process.report.getReport(). Throws an exception if validation fails.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_19\n\nLANGUAGE: JavaScript\nCODE:\n```\nvalidateContent(report)\n```\n\n----------------------------------------\n\nTITLE: Adding Bun Native Plugin Crate Dependency (Bash/Cargo)\nDESCRIPTION: Adds the `bun-native-plugin` Rust crate as a dependency to the Cargo project using the `cargo add` command. This crate provides macros and utilities specifically for building Bun native plugins in Rust.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\ncargo add bun-native-plugin\n```\n\n----------------------------------------\n\nTITLE: Loading SQLite Database via ES Module Import\nDESCRIPTION: This code demonstrates how to load a SQLite database using ES module import syntax in Bun. It provides a convenient way to import and use a database file directly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport db from \"./mydb.sqlite\" with { \"type\": \"sqlite\" };\n\nconsole.log(db.query(\"select * from users LIMIT 1\").get());\n```\n\n----------------------------------------\n\nTITLE: Configuring Peer Dependencies in Bun Install\nDESCRIPTION: Controls whether peer dependencies are installed during bun install. Default is true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_18\n\nLANGUAGE: toml\nCODE:\n```\n[install]\npeer = true\n```\n\n----------------------------------------\n\nTITLE: Building with Code Splitting - Bun JavaScript API - JavaScript\nDESCRIPTION: Demonstrates disabling code splitting using Bun.build in JavaScript. Sets 'splitting' parameter to false, thereby putting all code into one bundle per entrypoint. Requires the Bun runtime and code source files. Useful when code splitting is not desired for a project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_25\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  splitting: false, // default\n})\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests in Watch Mode\nDESCRIPTION: Command to run Bun tests in watch mode, which automatically re-runs tests when file changes are detected. This watches all files imported in test files and provides quick feedback during development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/hot.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --watch\n```\n\n----------------------------------------\n\nTITLE: Configuring JSX in Bun\nDESCRIPTION: Controls how Bun handles JSX syntax, including factory functions, fragments, and import sources. These settings can alternatively be configured in tsconfig.json.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\njsx = \"react\"\njsxFactory = \"h\"\njsxFragment = \"Fragment\"\njsxImportSource = \"react\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Install Behavior in bunfig.toml\nDESCRIPTION: Shows the default configuration options for `bun install` within the `bunfig.toml` file. These settings control aspects like whether to install optional/dev/peer dependencies, enable production mode, save a text lockfile, use a frozen lockfile, perform a dry run, and set the concurrency limit for scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_15\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n\n# whether to install optionalDependencies\noptional = true\n\n# whether to install devDependencies\ndev = true\n\n# whether to install peerDependencies\npeer = true\n\n# equivalent to `--production` flag\nproduction = false\n\n# equivalent to `--save-text-lockfile` flag\nsaveTextLockfile = false\n\n# equivalent to `--frozen-lockfile` flag\nfrozenLockfile = false\n\n# equivalent to `--dry-run` flag\ndryRun = false\n\n# equivalent to `--concurrent-scripts` flag\nconcurrentScripts = 16 # (cpu count or GOMAXPROCS) x2\n```\n\n----------------------------------------\n\nTITLE: Installing Peer Dependencies with Bun\nDESCRIPTION: Command for adding peer dependencies using the --peer flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add --peer @types/bun\n```\n\n----------------------------------------\n\nTITLE: Creating a ReadableStream from Uint8Array Using ReadableStream Constructor in TypeScript\nDESCRIPTION: This snippet shows a naive approach to producing a ReadableStream by directly enqueuing a Uint8Array into the stream using its controller. The entire array is provided as a single chunk, immediately closing the stream afterward. No dependencies are required beyond the built-in ReadableStream and Uint8Array. Inputs: a Uint8Array. Outputs: a ReadableStream containing one chunk. Limitation: does not stream in smaller parts and may use excess memory with large arrays.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-readablestream.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst arr = new Uint8Array(64);\nconst stream = new ReadableStream({\n  start(controller) {\n    controller.enqueue(arr);\n    controller.close();\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Executing Various File Types (JS, JSX, TS, TSX) with Bun Run\nDESCRIPTION: Illustrates that `bun run` can directly execute JavaScript (`.js`), JSX (`.jsx`), TypeScript (`.ts`), and TSX (`.tsx`) files without requiring explicit pre-compilation steps. Bun's fast native transpiler handles this on the fly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.js\n$ bun run index.jsx\n$ bun run index.ts\n$ bun run index.tsx\n```\n\n----------------------------------------\n\nTITLE: Basic Auto-Installation Example in TypeScript\nDESCRIPTION: A simple example showing how Bun auto-installs a package when imported without prior installation. The first run will download and cache the latest version, and subsequent runs will use the cached version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/autoimport.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { foo } from \"foo\"; // install `latest` version\n\nfoo();\n```\n\n----------------------------------------\n\nTITLE: Installing Happy DOM Package\nDESCRIPTION: Command to install the Happy DOM global registrator package as a dev dependency\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/happy-dom.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add -d @happy-dom/global-registrator\n```\n\n----------------------------------------\n\nTITLE: Listening for Worker Open Event in TypeScript\nDESCRIPTION: Example of using the 'open' event listener to detect when a worker is ready to receive messages, which is a Bun-specific extension not available in browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href);\n\nworker.addEventListener(\"open\", () => {\n  console.log(\"worker is ready\");\n});\n```\n\n----------------------------------------\n\nTITLE: Matching String Against Glob Pattern\nDESCRIPTION: Shows how to match a string against a glob pattern using Bun's Glob class.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Glob } from \"bun\";\n\nconst glob = new Glob(\"*.ts\");\n\nglob.match(\"index.ts\"); // => true\nglob.match(\"index.js\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Generating SQL Migrations using Drizzle Kit CLI (Shell)\nDESCRIPTION: Uses the `drizzle-kit` CLI tool via `bunx` to automatically generate SQL migration files. The command specifies the database dialect (`sqlite`) and the path to the schema definition file (`./schema.ts`). This command analyzes the schema and creates necessary SQL files to update the database structure. Requires `drizzle-kit` to be installed and `schema.ts` to exist.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\n$ bunx drizzle-kit generate --dialect sqlite --schema ./schema.ts\n```\n\n----------------------------------------\n\nTITLE: Adding Mongoose as a Dependency - Shell Script\nDESCRIPTION: Installs the Mongoose library into the Bun project using the Bun package manager. Requires that you have created a project directory and run 'bun init' previously. The command has no required inputs and will update the project's dependencies, enabling the use of Mongoose within your TypeScript/Bun project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/mongoose.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun add mongoose\n```\n\n----------------------------------------\n\nTITLE: Configuring define in Bun Build (CLI)\nDESCRIPTION: Command-line interface for replacing global identifiers with custom values at build time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_51\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --define 'STRING=\"value\"' --define \"nested.boolean=true\"\n```\n\n----------------------------------------\n\nTITLE: Implementing onResolve and onLoad Hooks in a Bun Plugin using TypeScript\nDESCRIPTION: This TypeScript snippet shows how to use the `onResolve` and `onLoad` hooks within the `setup` method of a Bun plugin. These hooks allow intercepting module resolution and content loading respectively. Each hook takes filter options and a callback function that receives arguments and returns results specific to that hook.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport type { BunPlugin } from \"bun\";\nconst myPlugin: BunPlugin = {\n  name: \"my-plugin\",\n  setup(builder) {\n    builder.onResolve(\n      {\n        /* onResolve.options */\n      },\n      args => {\n        return {\n          /* onResolve.results */\n        };\n      },\n    );\n    builder.onLoad(\n      {\n        /* onLoad.options */\n      },\n      args => {\n        return {\n          /* onLoad.results */\n        };\n      },\n    );\n  },\n};\n```\n```\n\n----------------------------------------\n\nTITLE: Filtering Outdated Dependencies by Workspace Globs - Markdown\nDESCRIPTION: Demonstrates filtering by passing a workspace glob pattern (e.g., '@monorepo/{types,cli}') to restrict the outdated check to several related packages. This leverages Bun’s workspace glob filtering mechanism implemented via custom Markdown components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_7\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal  glob=\"{e,t}*\" displayGlob=\"--filter='@monorepo/{types,cli}'\" /%}\n```\n\n----------------------------------------\n\nTITLE: Generating EdgeQL TypeScript Query Builders using Codegen (Shell)\nDESCRIPTION: This command uses Bun to execute the `@edgedb/generate` tool, which introspects the current EdgeDB schema and generates a typed EdgeQL query builder for JavaScript/TypeScript. The process checks for an existing tsconfig and optionally updates .gitignore. Dependencies: Bun, @edgedb/generate, EdgeDB running with migrated schema. Input: User response for .gitignore update. Output: TypeScript files for type-safe querying.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\nbunx @edgedb/generate edgeql-js\nGenerating query builder...\nDetected tsconfig.json, generating TypeScript files.\n   To override this, use the --target flag.\n   Run `npx @edgedb/generate --help` for full options.\nIntrospecting database schema...\nWriting files to ./dbschema/edgeql-js\nGeneration complete! 🤘\nChecking the generated query builder into version control\nis not recommended. Would you like to update .gitignore to ignore\nthe query builder directory? The following line will be added:\n\n   dbschema/edgeql-js\n\n[y/n] (leave blank for \"y\")\n> y\n```\n\n----------------------------------------\n\nTITLE: Testing EdgeDB Instance with REPL and Simple Query (Shell)\nDESCRIPTION: This snippet shows how to use the EdgeDB REPL to connect to the running database and issue a simple arithmetic query (`select 1 + 1;`). It serves as a basic connectivity and database health check after initialization. Dependencies: EdgeDB instance running. Input: EdgeQL command. Output: Query result printed in the REPL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nedgedb\nedgedb> select 1 + 1;\n2\nedgedb> \\quit\n```\n\n----------------------------------------\n\nTITLE: Configuring TailwindCSS Plugin in bunfig.toml\nDESCRIPTION: Demonstrates the configuration added to bunfig.toml for using the TailwindCSS plugin with Bun.serve().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[serve.static]\nplugins = [\"bun-plugin-tailwind\"]\n```\n\n----------------------------------------\n\nTITLE: Closing SQLite Database Connection in Bun\nDESCRIPTION: This snippet shows two ways to close a SQLite database connection in Bun: one that allows existing queries to finish, and another that throws an error if there are pending queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst db = new Database();\n// ... do stuff\ndb.close(false);\n\nconst db = new Database();\n// ... do stuff\ndb.close(true);\n```\n\n----------------------------------------\n\nTITLE: Setting Timezone at Runtime in bun:test\nDESCRIPTION: Shows how to dynamically change timezones during test execution by modifying process.env.TZ, which affects both Date objects and Intl.DateTimeFormat operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"Welcome to California!\", () => {\n  process.env.TZ = \"America/Los_Angeles\";\n  expect(new Date().getTimezoneOffset()).toBe(420);\n  expect(new Intl.DateTimeFormat().resolvedOptions().timeZone).toBe(\n    \"America/Los_Angeles\",\n  );\n});\n\ntest(\"Welcome to New York!\", () => {\n  // Unlike in Jest, you can set the timezone multiple times at runtime and it will work.\n  process.env.TZ = \"America/New_York\";\n  expect(new Date().getTimezoneOffset()).toBe(240);\n  expect(new Intl.DateTimeFormat().resolvedOptions().timeZone).toBe(\n    \"America/New_York\",\n  );\n});\n```\n\n----------------------------------------\n\nTITLE: Installing LLVM 19 (Arch)\nDESCRIPTION: Installs LLVM, Clang, and LLD on Arch Linux using pacman. This provides the necessary compiler and linker tools for building Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo pacman -S llvm clang lld\n```\n\n----------------------------------------\n\nTITLE: Basic .env File Structure in Bun\nDESCRIPTION: A simple example of an .env file showing environment variable definitions that Bun automatically loads.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_0\n\nLANGUAGE: txt\nCODE:\n```\nFOO=hello\nBAR=world\n```\n\n----------------------------------------\n\nTITLE: Enabling Code Coverage in Bun Tests\nDESCRIPTION: Activates coverage reporting for Bun tests. Can be overridden with the --coverage CLI flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_10\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverage = false\n```\n\n----------------------------------------\n\nTITLE: Builtin Function Registration in C++\nDESCRIPTION: Demonstrates how to register a builtin function in C++ using the code generator pattern. Shows integration between TypeScript functions and the JSC virtual machine.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/js/README.md#2025-04-22_snippet_2\n\nLANGUAGE: cpp\nCODE:\n```\nobject->putDirectBuiltinFunction(\\n  vm,\\n  globalObject,\\n  identifier,\\n  // ReadableStream.ts, `function readableStreamToJSON()`\\n  // This returns a FunctionExecutable* (extends JSCell*, but not JSFunction*).\\n  readableStreamReadableStreamToJSONCodeGenerator(vm),\\n  JSC::PropertyAttribute::DontDelete | 0\\n);\n```\n\n----------------------------------------\n\nTITLE: Checking Bun installation version\nDESCRIPTION: This snippet demonstrates how to check the installed version of Bun and view the precise commit of the installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --version\n1.x.y\n\n$ bun --revision\n1.x.y+b7982ac13189\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies (macOS)\nDESCRIPTION: Installs required dependencies for Bun development on macOS using Homebrew. This includes build tools, compilers, and other essential libraries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install automake ccache cmake coreutils gnu-sed go icu4c libiconv libtool ninja pkg-config rust ruby\n```\n\n----------------------------------------\n\nTITLE: Configuring FileSink Buffer Size in TypeScript\nDESCRIPTION: This snippet shows how to configure the buffer size of a FileSink using the highWaterMark option. It sets the buffer size to 1MB, which determines when the FileSink will auto-flush.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/filesink.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst file = Bun.file(\"/path/to/file.txt\");\nconst writer = file.writer({ highWaterMark: 1024 * 1024 }); // 1MB\n```\n\n----------------------------------------\n\nTITLE: Test File Pattern Configuration in Bun\nDESCRIPTION: Defines the file patterns that Bun's test runner will automatically detect and execute tests from.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/run-tests.md#2025-04-22_snippet_0\n\nLANGUAGE: txt\nCODE:\n```\n*.test.{js|jsx|ts|tsx}\n*_test.{js|jsx|ts|tsx}\n*.spec.{js|jsx|ts|tsx}\n*_spec.{js|jsx|ts|tsx}\n```\n\n----------------------------------------\n\nTITLE: Error Handling When Creating TypedArrays with Incompatible Buffer Sizes (JavaScript/TypeScript)\nDESCRIPTION: This snippet illustrates a common error when instantiating a typed array (Uint32Array) from an ArrayBuffer whose length isn't a multiple of the element size. Uint32Array requires 4-byte alignment, so initializing from a 10-byte buffer throws a RangeError. Demonstrates importance of buffer length validation, and is relevant for applications performing direct memory manipulations. No dependencies are required other than a modern JavaScript/TypeScript runtime; throws an exception if the byte length is incompatible.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_8\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = new ArrayBuffer(10);\nconst arr = new Uint32Array(buf);\n//          ^  RangeError: ArrayBuffer length minus the byteOffset\n//             is not a multiple of the element size\n```\n\n----------------------------------------\n\nTITLE: Running Performance Analysis Script for Bun Project\nDESCRIPTION: A bash command that executes a Node.js script called read-frames.js with environment variables set for the Bun project and a sleep interval of 8 seconds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.8ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nSLEEP_INTERVAL=8 PROJECT=bun node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Returning String from C to JavaScript using N-API\nDESCRIPTION: Example showing how to create and return a string from C to JavaScript using N-API functions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { cc } from \"bun:ffi\";\nimport source from \"./hello.c\" with { type: \"file\" };\n\nconst {\n  symbols: { hello },\n} = cc({\n  source,\n  symbols: {\n    hello: {\n      args: [\"napi_env\"],\n      returns: \"napi_value\",\n    },\n  },\n});\n\nconst result = hello();\n```\n\n----------------------------------------\n\nTITLE: Starting Vite Dev Server with Bun\nDESCRIPTION: Launches Vite development server using Bun runtime instead of Node.js with the --bun flag\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nbunx --bun vite\n```\n\n----------------------------------------\n\nTITLE: JSX Fragment Output with Custom Configuration\nDESCRIPTION: Shows how JSX fragments are transpiled when using custom factory and fragment settings, demonstrating the transformation of fragment syntax to function calls.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\n// input\n<>Hello</>;\n\n// output\nimport { myjsx, MyFragment } from \"react\";\nmyjsx(MyFragment, null, \"Hello\");\n```\n\n----------------------------------------\n\nTITLE: Generated JavaScript Output After Bun Color Macro Processing\nDESCRIPTION: This JavaScript code shows the result after bundling the TypeScript source with `bun build`. The `import` statement and the `color` macro call have been removed, and the `console.log` now directly contains the string literal `\"red\"`, which is the computed result of `color(\"#f00\", \"css\")` evaluated at bundle time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n```js\n// client-side.ts\nconsole.log(\"red\");\n```\n```\n\n----------------------------------------\n\nTITLE: Running Bun HTTP Benchmarks with load testing tool\nDESCRIPTION: Command for measuring HTTP server performance using http_load_test, relevant to the benchmarks showing Bun's impressive request handling capabilities of up to 260,000 requests per second.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ ./http_load_test  20 127.0.0.1 3000\n```\n\n----------------------------------------\n\nTITLE: Equivalent Expanded CSS After Composition - CSS\nDESCRIPTION: This snippet represents the equivalent CSS output if the 'composes' logic were manually applied, flattening the composed rules together. It's meant to illustrate how multiple classes' properties result in a single expanded definition. There are no dependencies or actual transformation, and the input is straightforward CSS selectors; output is explicit merged rules. Limitation: For demonstration only; actual output depends on Bun's CSS module transformation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_5\n\nLANGUAGE: css\nCODE:\n```\n.button {\n  background-color: blue;\n  color: red;\n}\n\n.background {\n  background-color: blue;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Debugger in launch.json for Visual Studio Code\nDESCRIPTION: This snippet shows how to configure the launch.json file to debug JavaScript and TypeScript files using Bun in Visual Studio Code. It includes settings for launching and attaching to Bun processes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-vscode/README.md#2025-04-22_snippet_0\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"bun\",\n      \"request\": \"launch\",\n      \"name\": \"Debug Bun\",\n      \"program\": \"${file}\",\n      \"args\": [],\n      \"cwd\": \"${workspaceFolder}\",\n      \"env\": {},\n      \"strictEnv\": false,\n      \"watchMode\": false,\n      \"stopOnEntry\": false,\n      \"noDebug\": false,\n      \"runtime\": \"bun\",\n      \"runtimeArgs\": []\n    },\n    {\n      \"type\": \"bun\",\n      \"request\": \"attach\",\n      \"name\": \"Attach to Bun\",\n      \"url\": \"ws://localhost:6499/\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Bytecode Output in Bun Build (CLI)\nDESCRIPTION: Command-line interface for generating bytecode to improve application startup times.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_65\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --bytecode\n```\n\n----------------------------------------\n\nTITLE: Starting Bun with PM2 using --interpreter Option\nDESCRIPTION: Command to start a Bun application as a daemon process using PM2's --interpreter flag to specify the Bun binary path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/pm2.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npm2 start --interpreter ~/.bun/bin/bun index.ts\n```\n\n----------------------------------------\n\nTITLE: Macro Import Usage Example\nDESCRIPTION: Demonstrates how to import and use a macro function using import attributes syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { random } from './random.ts' with { type: 'macro' };\n\nconsole.log(`Your random number is ${random()}`);\n```\n\n----------------------------------------\n\nTITLE: Running Bun Debug Build\nDESCRIPTION: Runs the debug build of Bun located at `./build/debug/bun-debug` and prints the version number.  This verifies that the build process was successful.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\n$ build/debug/bun-debug --version\n```\n\n----------------------------------------\n\nTITLE: Running DOM Tests with Bun Test Command\nDESCRIPTION: Example output from running a DOM test with Bun's test runner, showing successful execution of a simple DOM test.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test\nbun test v$BUN_LATEST_VERSION\n\ndom.test.ts:\n✓ dom test [0.82ms]\n\n 1 pass\n 0 fail\n 1 expect() calls\nRan 1 tests across 1 files. 1 total [125.00ms]\n```\n\n----------------------------------------\n\nTITLE: Excluding Test Files from Coverage Reports\nDESCRIPTION: Configures the coverage reporter to skip test files (such as *.test.ts) when generating coverage reports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageSkipTestFiles = true  # Exclude test files from coverage reports\n```\n\n----------------------------------------\n\nTITLE: Configuring Coverage Reporters in bunfig.toml\nDESCRIPTION: This configuration shows how to specify coverage reporters and output directory in bunfig.toml. You can choose between text (console output) and lcov (file-based) reporters and set a custom directory for coverage reports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_6\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageReporter  = [\"text\", \"lcov\"]  # default [\"text\"]\ncoverageDir = \"path/to/somewhere\"  # default \"coverage\"\n```\n\n----------------------------------------\n\nTITLE: Marking Peer Dependencies as Optional\nDESCRIPTION: Demonstrates how to mark peer dependencies as optional in package.json using the peerDependenciesMeta field, which affects how bun install will handle these dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-peer.md#2025-04-22_snippet_2\n\nLANGUAGE: json-diff\nCODE:\n```\n{\n  \"peerDependencies\": {\n    \"@types/bun\": \"^$BUN_LATEST_VERSION\"\n  },\n  \"peerDependenciesMeta\": {\n+   \"@types/bun\": {\n+     \"optional\": true\n+   }\n  }\n\n}\n```\n\n----------------------------------------\n\nTITLE: Advanced Argument Configuration with Argument Class\nDESCRIPTION: Demonstrates advanced argument configuration by explicitly using the Argument class. This allows for additional features like specifying choices for arguments and setting default values with descriptions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .addArgument(new commander.Argument('<drink-size>', 'drink cup size').choices(['small', 'medium', 'large']))\n  .addArgument(new commander.Argument('[timeout]', 'timeout in seconds').default(60, 'one minute'))\n```\n\n----------------------------------------\n\nTITLE: Package.json with Conditional Subpath Exports\nDESCRIPTION: Shows how to configure both subpath exports and conditional exports together.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"foo\",\n  \"exports\": {\n    \".\": {\n      \"import\": \"./index.mjs\",\n      \"require\": \"./index.js\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Deep Equality Checking with Bun.deepEquals()\nDESCRIPTION: Demonstrates how to use Bun.deepEquals() for recursive object comparison, including strict mode for more precise equality checks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst foo = { a: 1, b: 2, c: { d: 3 } };\n\n// true\nBun.deepEquals(foo, { a: 1, b: 2, c: { d: 3 } });\n\n// false\nBun.deepEquals(foo, { a: 1, b: 2, c: { d: 4 } });\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst a = { entries: [1, 2] };\nconst b = { entries: [1, 2], extra: undefined };\n\nBun.deepEquals(a, b); // => true\nBun.deepEquals(a, b, true); // => false\n```\n\nLANGUAGE: typescript\nCODE:\n```\n// undefined values\nBun.deepEquals({}, { a: undefined }, true); // false\n\n// undefined in arrays\nBun.deepEquals([\"asdf\"], [\"asdf\", undefined], true); // false\n\n// sparse arrays\nBun.deepEquals([, 1], [undefined, 1], true); // false\n\n// object literals vs instances w/ same properties\nclass Foo {\n  a = 1;\n}\nBun.deepEquals(new Foo(), { a: 1 }, true); // false\n```\n\n----------------------------------------\n\nTITLE: Converting ArrayBuffer to Blob Using TypeScript\nDESCRIPTION: This snippet demonstrates how to construct a Blob object from a 64-byte ArrayBuffer in TypeScript. It requires no external dependencies, relying solely on the Web API. The ArrayBuffer is wrapped in an array as a 'chunk' and passed to the Blob constructor. The created Blob can then be manipulated or sent across web APIs that support binary data. The result is a Blob with unspecified MIME type.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-blob.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = new ArrayBuffer(64);\nconst blob = new Blob([buf]);\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests in Watch Mode\nDESCRIPTION: This command runs Bun tests in watch mode, which automatically restarts the test process when file changes are detected. It's useful for continuous testing during development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/watch-mode.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --watch\n```\n\n----------------------------------------\n\nTITLE: Cleaning Up File Watchers on Process Termination in Bun\nDESCRIPTION: This snippet demonstrates how to properly close a file watcher when the process receives a SIGINT signal (Ctrl-C), ensuring clean termination of the watching process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/watch.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { watch } from \"fs\";\n\nconst watcher = watch(import.meta.dir, (event, filename) => {\n  console.log(`Detected ${event} in ${filename}`);\n});\n\nprocess.on(\"SIGINT\", () => {\n  // close watcher when Ctrl-C is pressed\n  console.log(\"Closing watcher...\");\n  watcher.close();\n\n  process.exit(0);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring drop in Bun Build (CLI)\nDESCRIPTION: Command-line interface for removing function calls from bundles.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_59\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --drop=console --drop=debugger --drop=anyIdentifier.or.propertyAccess\n```\n\n----------------------------------------\n\nTITLE: Using JSX Component in TypeScript React with Bun\nDESCRIPTION: A simple TypeScript React component example showing JSX syntax that Bun can transpile natively. The component takes a message prop and renders it inside an h1 element with red styling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component(props: {message: string}) {\n  return (\n    <body>\n      <h1 style={{color: 'red'}}>{props.message}</h1>\n    </body>\n  );\n}\n\nconsole.log(<Component message=\"Hello world!\" />);\n```\n\n----------------------------------------\n\nTITLE: Starting the Expo App\nDESCRIPTION: Command to start the Expo app using npx, which runs the expo start script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/expo-app/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpx expo start\n```\n\n----------------------------------------\n\nTITLE: Setting up Bun Lambda Layer with Git and Bun CLI\nDESCRIPTION: Commands to clone the Bun repository, set up sparse checkout for the bun-lambda package, and publish the layer using Bun CLI.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-lambda/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\ngit clone --filter=blob:none --sparse https://github.com/oven-sh/bun.git\ngit -C bun sparse-checkout set packages/bun-lambda\ncd bun/packages/bun-lambda\nbun install\nbun run publish-layer\n```\n\n----------------------------------------\n\nTITLE: Writing to stdout in Bun without trailing newline\nDESCRIPTION: Shows how to write directly to stdout in Bun using console.write without adding a trailing newline, which works with both strings and typed arrays.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\n// no trailing newline\n// works with strings and typed arrays\nconsole.write(\"Hello World!\");\n```\n\n----------------------------------------\n\nTITLE: Configuring access in publishConfig Field - JSON\nDESCRIPTION: Presents a sample `package.json` section that configures the access level (here, \"restricted\") in the `publishConfig` field. This method allows persistent configuration of access level for publishes, which can be overridden on the command line. Requires package.json to be set up in the project root. This configuration is picked up automatically by Bun when publishing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\\n  \"publishConfig\": {\\n    \"access\": \"restricted\"\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Compiler Flags Configuration in cc\nDESCRIPTION: Type definition and example for passing compiler flags to TinyCC through the cc function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\ntype Flags = string | string[];\n```\n\n----------------------------------------\n\nTITLE: Spelling Suggestion Output Example in Commander.js\nDESCRIPTION: This shows the console output when a user makes a typing error in an option, displaying the error message with a suggestion for the correct spelling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_29\n\nLANGUAGE: text\nCODE:\n```\n$ pizza --hepl\nerror: unknown option '--hepl'\n(Did you mean --help?)\n```\n\n----------------------------------------\n\nTITLE: Writing to stdout using Bun.write in TypeScript\nDESCRIPTION: Shows how to write to stdout using Bun.write() with Bun.stdout as the destination. This method provides more advanced control over stdout operations and is asynchronous.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/stdout.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.write(Bun.stdout, \"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Prefetching DNS Entries using Bun DNS API in TypeScript\nDESCRIPTION: This snippet demonstrates how to use the `dns.prefetch` function from Bun's `dns` module to initiate a DNS lookup for a specified host ahead of time. This can help reduce latency when an actual connection to the host is made later, as the DNS resolution step might already be completed and cached. It requires the `bun` runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport { dns } from \"bun\";\n\ndns.prefetch(\"bun.sh\");\n```\n```\n\n----------------------------------------\n\nTITLE: React Application Entry Point\nDESCRIPTION: This is a simple React application entry point that imports ReactDOM and a component, then renders the component to the DOM.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport * as ReactDOM from 'react-dom/client';\nimport {Component} from \"./Component\"\n\nconst root = ReactDOM.createRoot(document.getElementById('root')!);\nroot.render(<Component message=\"Sup!\" />)\n```\n\n----------------------------------------\n\nTITLE: Configuring SSL/TLS Modes in Bun SQL Client (Object Configuration) - TypeScript\nDESCRIPTION: Shows how to set the desired SSL/TLS connection mode (e.g., 'disable', 'require', 'verify-full') using the `ssl` property within the configuration object passed to the `SQL` constructor. This controls whether and how SSL/TLS encryption and certificate verification are used for the database connection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nconst sql = new SQL({\n  hostname: \"localhost\",\n  username: \"user\",\n  password: \"password\",\n  ssl: \"disable\", // | \"prefer\" | \"require\" | \"verify-ca\" | \"verify-full\"\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Filtering Bun Tests by Name using Shell Command\nDESCRIPTION: Shows how to filter tests based on their names using the `--test-name-pattern` (or `-t`) flag. This command will execute only the tests or test suites whose names contain the specified string (e.g., \"addition\").\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n# run all tests or test suites with \"addition\" in the name\n$ bun test --test-name-pattern addition\n```\n\n----------------------------------------\n\nTITLE: Testing NODE_ENV Environment Variable in Bun Test Runner (TypeScript)\nDESCRIPTION: This snippet demonstrates how to test that the NODE_ENV environment variable is automatically set to 'test' when running tests with Bun. It uses the `bun:test` module for assertions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/runtime-behavior.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"NODE_ENV is set to test\", () => {\n  expect(process.env.NODE_ENV).toBe(\"test\");\n});\n```\n\n----------------------------------------\n\nTITLE: Type Definition for Bun.embeddedFiles in TypeScript\nDESCRIPTION: This snippet shows the TypeScript type definition for the `Bun.embeddedFiles` property. It indicates that `Bun.embeddedFiles` returns an array of `Blob` objects, allowing access to properties like size and content of each embedded file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nembeddedFiles: Blob[]\n```\n\n----------------------------------------\n\nTITLE: Converting Buffer to ArrayBuffer with Node.js in TypeScript\nDESCRIPTION: This snippet demonstrates how to allocate a Node.js Buffer of 64 bytes and then access its underlying ArrayBuffer by referencing the 'buffer' property. This is useful for interoperability between APIs expecting ArrayBuffer and those using Node.js Buffer. There are no external dependencies beyond Node.js built-in modules. The key parameter is the Buffer length (64), and the output is the underlying ArrayBuffer instance extracted from the Buffer. It is important to note that modifications to the Buffer and its ArrayBuffer may be interrelated depending on slicing and views.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst nodeBuf = Buffer.alloc(64);\nconst arrBuf = nodeBuf.buffer;\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies and Running Bun Scripts\nDESCRIPTION: This snippet demonstrates how to install project dependencies using npm and run various scripts using Bun. It includes commands for running FFI, logging, gzip, async, and SQLite scripts. Additionally, it shows how to use a custom Bun binary version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install\n\nbun run ffi\nbun run log\nbun run gzip\nbun run async\nbun run sqlite\n\n# to use custom version of bun/deno/node binary\nBUN=path/to/bun bun run ffi\n# or edit .env file\n```\n\n----------------------------------------\n\nTITLE: Simple Cat Command Implementation\nDESCRIPTION: 3-line implementation of Linux cat command using Bun APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\n// Usage\n// $ bun ./cat.ts ./path-to-file\n\nimport { resolve } from \"path\";\n\nconst path = resolve(process.argv.at(-1));\nawait Bun.write(Bun.stdout, Bun.file(path));\n```\n\n----------------------------------------\n\nTITLE: Transpiler Interface Definition\nDESCRIPTION: Complete TypeScript interface definition for the Bun.Transpiler class and its options\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\ntype Loader = \"jsx\" | \"js\" | \"ts\" | \"tsx\";\n\ninterface TranspilerOptions {\n  define?: Record<string, string>,\n  loader?: Loader,\n  target?: \"browser\" | \"bun\" | \"node\",\n  tsconfig?: string | TSConfig,\n  macro?: MacroMap,\n  exports?: {\n      eliminate?: string[];\n      replace?: Record<string, string>;\n  },\n  trimUnusedImports?: boolean,\n  minifyWhitespace?: boolean,\n  inline?: boolean,\n}\n\ninterface MacroMap {\n  [packagePath: string]: {\n    [importItemName: string]: string,\n  },\n}\n\nclass Bun.Transpiler {\n  constructor(options: TranspilerOptions)\n\n  transform(code: string, loader?: Loader): Promise<string>\n  transformSync(code: string, loader?: Loader): string\n\n  scan(code: string): {exports: string[], imports: Import}\n  scanImports(code: string): Import[]\n}\n\nconst transpiler = new Bun.Transpiler({ loader: \"jsx\" });\n```\n\n----------------------------------------\n\nTITLE: Creating a PM2 Configuration File for Bun\nDESCRIPTION: A PM2 configuration file that specifies Bun as the interpreter for running a TypeScript application. It includes environment configuration to ensure the Bun binary is in the PATH.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/pm2.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  name: \"app\", // Name of your application\n  script: \"index.ts\", // Entry point of your application\n  interpreter: \"bun\", // Bun interpreter\n  env: {\n    PATH: `${process.env.HOME}/.bun/bin:${process.env.PATH}`, // Add \"~/.bun/bin/bun\" to PATH\n  }\n};\n```\n\n----------------------------------------\n\nTITLE: TypeScript Path Mapping Usage Example\nDESCRIPTION: Demonstration of using path mapped imports in TypeScript with Bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { foo } from \"data\";\nconsole.log(foo); // => \"Hello world!\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nexport const foo = \"Hello world!\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Scoped Registry in bunfig.toml for Bun\nDESCRIPTION: Sets a specific registry URL for packages under a particular scope using the install.scopes option in bunfig.toml. This is the Bun-specific equivalent to the scoped registry configuration in .npmrc.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\nmyorg = \"http://localhost:4873/\"\n```\n\n----------------------------------------\n\nTITLE: Executing bun unlink Command in Bash\nDESCRIPTION: This snippet demonstrates navigating into a local package directory (`/path/to/cool-pkg`) using the `cd` command and then running the `bun unlink` command with the Bun CLI. The output shows the Bun version and a commit hash, indicating the successful execution of the unlink operation, which removes the symbolic link for the local package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/unlink.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ cd /path/to/cool-pkg\n$ bun unlink\nbun unlink v1.x (7416672e)\n```\n\n----------------------------------------\n\nTITLE: Generating Test File for Upload Benchmark in Bash\nDESCRIPTION: Command to generate a test file (default 'hello.txt') for the upload benchmark using the Bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/stream-file-upload-client/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun generate-file.js\n```\n\n----------------------------------------\n\nTITLE: Creating a Simple Bun Web Server for Debugging\nDESCRIPTION: A minimal TypeScript example of a Bun web server that responds with \"Hello, world!\" and logs the request URL. This server will be used to demonstrate debugging capabilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/web-debugger.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req){\n    console.log(req.url);\n    return new Response(\"Hello, world!\");\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Setting Blob MIME Type Explicitly Using TypeScript\nDESCRIPTION: This snippet illustrates how to create a Blob from an ArrayBuffer and specify its MIME type in TypeScript. The Blob constructor is provided with the ArrayBuffer and a configuration object that sets the 'type' parameter to 'application/octet-stream'. This ensures that the resulting Blob advertises the appropriate type, which can be accessed via the blob.type property. Useful for uploading or transferring binary data where Content-Type must be explicit.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-blob.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = new ArrayBuffer(64);\nconst blob = new Blob([buf], { type: \"application/octet-stream\" });\nblob.type; // => \"application/octet-stream\"\n```\n\n----------------------------------------\n\nTITLE: Checking Service Status\nDESCRIPTION: Command to check the status of a running Bun service with example output showing service details, PID, memory usage, and more.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo systemctl status my-app\n● my-app.service - My App\n     Loaded: loaded (/lib/systemd/system/my-app.service; enabled; preset: enabled)\n     Active: active (running) since Thu 2023-10-12 11:34:08 UTC; 1h 8min ago\n   Main PID: 309641 (bun)\n      Tasks: 3 (limit: 503)\n     Memory: 40.9M\n        CPU: 1.093s\n     CGroup: /system.slice/my-app.service\n             └─309641 /home/YOUR_USER/.bun/bin/bun run /home/YOUR_USER/application/index.ts\n```\n\n----------------------------------------\n\nTITLE: Cloning a GitHub Repository for Bun App Deployment\nDESCRIPTION: Commands to clone a GitHub repository named 'myapp' into a local directory and change into that directory for further operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/render.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ git clone git@github.com:my-github-username/myapp.git\n$ cd myapp\n```\n\n----------------------------------------\n\nTITLE: Build Release Version of Bun\nDESCRIPTION: This command executes the `build:release` script to compile a release build of Bun.  The release build is optimized for performance and is located in the `./build/release` directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_19\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build:release\n```\n\n----------------------------------------\n\nTITLE: FileSystemRouter API Reference\nDESCRIPTION: Complete TypeScript interface definition for the FileSystemRouter class, including constructor parameters and methods. Shows the expected input and output types for all operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\ninterface Bun {\n  class FileSystemRouter {\n    constructor(params: {\n      dir: string;\n      style: \"nextjs\";\n      origin?: string;\n      assetPrefix?: string;\n      fileExtensions?: string[];\n    });\n\n    reload(): void;\n\n    match(path: string | Request | Response): {\n      filePath: string;\n      kind: \"exact\" | \"catch-all\" | \"optional-catch-all\" | \"dynamic\";\n      name: string;\n      pathname: string;\n      src: string;\n      params?: Record<string, string>;\n      query?: Record<string, string>;\n    } | null\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Up Compilers and SDKs for Bun Project\nDESCRIPTION: Configures compilers and SDKs based on the host system, including Mac SDK, LLVM, and Ccache.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_3\n\nLANGUAGE: CMake\nCODE:\n```\nif(CMAKE_HOST_APPLE)\n  include(SetupMacSDK)\nendif()\ninclude(SetupLLVM)\ninclude(SetupCcache)\n```\n\n----------------------------------------\n\nTITLE: Implementing an `onBeforeParse` Native Plugin Hook in Rust\nDESCRIPTION: Defines a Rust function `replace_foo_with_bar` that implements the `onBeforeParse` lifecycle hook for a Bun native plugin. It uses the `bun_native_plugin` crate and its `#[bun]` macro to handle boilerplate. The function reads the input source code, replaces all occurrences of 'foo' with 'bar', and sets the modified code as the output along with the JSX loader.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_10\n\nLANGUAGE: rust\nCODE:\n```\nuse bun_native_plugin::{define_bun_plugin, OnBeforeParse, bun, Result, anyhow, BunLoader};\nuse napi_derive::napi;\n\n/// Define the plugin and its name\ndefine_bun_plugin!(\"replace-foo-with-bar\");\n\n/// Here we'll implement `onBeforeParse` with code that replaces all occurrences of\n/// `foo` with `bar`.\n///\n/// We use the #[bun] macro to generate some of the boilerplate code.\n///\n/// The argument of the function (`handle: &mut OnBeforeParse`) tells\n/// the macro that this function implements the `onBeforeParse` hook.\n#[bun]\npub fn replace_foo_with_bar(handle: &mut OnBeforeParse) -> Result<()> {\n  // Fetch the input source code.\n  let input_source_code = handle.input_source_code()?;\n\n  // Get the Loader for the file\n  let loader = handle.output_loader();\n\n\n  let output_source_code = input_source_code.replace(\"foo\", \"bar\");\n\n  handle.set_output_source_code(output_source_code, BunLoader::BUN_LOADER_JSX);\n\n  Ok(())\n}\n```\n\n----------------------------------------\n\nTITLE: ESM Module Import\nDESCRIPTION: Imports the Node.js built-in URL module using ECMAScript Modules (ESM) syntax. Uses the 'node:' protocol prefix for explicit Node.js core module import.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/document_with_esm_and_cjs_code_snippet.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport 'node:url';\n```\n\n----------------------------------------\n\nTITLE: Saving HTTP Responses to Files in Bun\nDESCRIPTION: Example showing how to fetch content from a website and save it directly to a file using Bun.write. The code demonstrates Bun's ability to work with Response objects by automatically converting them to Blobs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n// Eventually, this will stream the response to disk but today it buffers\nawait Bun.write(\"index.html\", await fetch(\"https://example.com\"));\n```\n\n----------------------------------------\n\nTITLE: Installing Express with Bun Package Manager\nDESCRIPTION: Command to add the Express.js framework as a dependency using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/render.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add express\n```\n\n----------------------------------------\n\nTITLE: Deleting Cookies in Bun Server\nDESCRIPTION: Demonstrates how to delete cookies using the cookies.delete() method. When a cookie is deleted, it becomes a Set-Cookie header on the response with maxAge set to 0 and an empty value.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    \"/logout\": req => {\n      // Delete the user_id cookie\n      req.cookies.delete(\"user_id\", {\n        path: \"/\",\n      });\n\n      return new Response(\"Logged out successfully\");\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Rebuilding JSC\nDESCRIPTION: Rebuilds JSC after an initial build. This is faster than a full `make jsc-debug`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_27\n\nLANGUAGE: bash\nCODE:\n```\n$ cmake --build vendor/WebKit/WebKitBuild/Debug --target jsc && rm vendor/WebKit/WebKitBuild/Debug/JavaScriptCore/DerivedSources/inspector/InspectorProtocolObjects.h\n```\n\n----------------------------------------\n\nTITLE: Running Next.js Development Server\nDESCRIPTION: Commands to start the Next.js development server using various package managers. This allows developers to run the application locally for development and testing purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/next-pages/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dev\n# or\nyarn dev\n# or\npnpm dev\n# or\nbun dev\n```\n\n----------------------------------------\n\nTITLE: Detecting Bun Runtime using Process Versions\nDESCRIPTION: Alternative method to detect Bun runtime by checking process.versions.bun. This approach works in TypeScript environments without requiring bun-types to be globally installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/detect-bun.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nif (process.versions.bun) {\n  // this code will only run when the file is run with Bun\n}\n```\n\n----------------------------------------\n\nTITLE: Running Test Files in Bun\nDESCRIPTION: Shows various ways to execute test files in Bun, including direct execution and using the test runner. Some tests require the bun test command due to node:test module shimming.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/parallel/needs-test/README.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nbun <filename>\n```\n\nLANGUAGE: shell\nCODE:\n```\nbun test <filename>\n```\n\n----------------------------------------\n\nTITLE: Default Console Output Example in Bun Test\nDESCRIPTION: Shows the default human-readable console output format when running tests with Bun in a color-supporting terminal.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/reporters.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\ntest/package-json-lint.test.ts:\n✓ test/package.json [0.88ms]\n✓ test/js/third_party/grpc-js/package.json [0.18ms]\n✓ test/js/third_party/svelte/package.json [0.21ms]\n✓ test/js/third_party/express/package.json [1.05ms]\n\n 4 pass\n 0 fail\n 4 expect() calls\nRan 4 tests in 1.44ms\n```\n\n----------------------------------------\n\nTITLE: Type Signature for Native `onBeforeParse` Hook (TypeScript)\nDESCRIPTION: Provides the TypeScript type signature for the `onBeforeParse` method when configuring a native plugin callback. It shows the expected arguments: filtering options (`filter`, `namespace`) and the callback configuration specifying the NAPI module (`napiModule`), the exported symbol (`symbol`), and optional external data (`external`). This hook runs before parsing and must be thread-safe.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nonBeforeParse(\n  args: { filter: RegExp; namespace?: string },\n  callback: { napiModule: NapiModule; symbol: string; external?: unknown },\n): void;\n```\n\n----------------------------------------\n\nTITLE: JSX Transformation with 'react-jsxdev' Option\nDESCRIPTION: Configuration for transforming JSX using the 'react-jsxdev' option, which is similar to 'react-jsx' but includes additional parameters for development debugging.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"react-jsxdev\"\n}\n```\n\n----------------------------------------\n\nTITLE: Plugin State Usage in JavaScript\nDESCRIPTION: Example of using plugin state management from JavaScript\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nconst napiModule = require(\"path/to/napi_module.node\");\nconst pluginState = napiModule.createPluginState();\n\nconst result = await Bun.build({\n  entrypoints: [\"index.ts\"],\n  plugins: [\n    {\n      name: \"replace-foo-with-bar\",\n      setup(build) {\n        build.onBeforeParse(\n          { filter: /\\.ts/ },\n          {\n            napiModule,\n            symbol: \"on_before_parse_plugin_impl\",\n            // pass our NAPI external which contains our plugin state here\n            external: pluginState,\n          },\n        );\n      },\n    },\n  ],\n});\n\nconsole.log(\"Total `foo`s encountered: \", pluginState.getFooCount());\n```\n\n----------------------------------------\n\nTITLE: Installing Bun on Windows using Scoop\nDESCRIPTION: This snippet shows how to install Bun on Windows using the Scoop package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_6\n\nLANGUAGE: powershell\nCODE:\n```\n> scoop install bun\n```\n\n----------------------------------------\n\nTITLE: Declaring 'bun' Module Types in TypeScript\nDESCRIPTION: This snippet demonstrates how to declare types, interfaces, and functions for the 'bun' module using the 'declare module' syntax. It shows how to define both types/interfaces and runtime values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/authoring.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"bun\" {\n  // Your types go here\n  interface MyInterface {\n    // ...\n  }\n\n  type MyType = string | number;\n\n  function myFunction(): void;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Happy DOM Registrator Setup File in TypeScript\nDESCRIPTION: TypeScript file that registers Happy DOM's global browser APIs to make them available in the global scope for testing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { GlobalRegistrator } from \"@happy-dom/global-registrator\";\n\nGlobalRegistrator.register();\n```\n\n----------------------------------------\n\nTITLE: Running File Upload Benchmark in Deno Environment\nDESCRIPTION: Command to execute the file upload benchmark using the Deno runtime with all permissions enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/stream-file-upload-client/README.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ndeno run -A stream-file-deno.js\n```\n\n----------------------------------------\n\nTITLE: Defining Function Variants in TypeScript for Bun Bindings\nDESCRIPTION: Demonstrates how to define multiple variants (overloads) of a function using the 'variants' property in the binding definition. This allows for different argument types and return types for the same function name.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/bindgen.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { t, fn } from 'bindgen';\n\nexport const action = fn({\n  variants: [\n    {\n      args: {\n        a: t.i32,\n      },\n      ret: t.i32,\n    },\n    {\n      args: {\n        a: t.DOMString,\n      },\n      ret: t.DOMString,\n    },\n  ]\n});\n```\n\n----------------------------------------\n\nTITLE: Printing Expanded SQL with toString() on Statements (TypeScript)\nDESCRIPTION: Shows how calling toString() on a Statement instance in Bun yields the bound, expanded SQL string for easier debugging. Each subsequent call after .run binds, displays a new expanded query. Requires importing Database from 'bun:sqlite' and using named parameters or direct values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_17\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\n// setup\nconst query = db.query(\"SELECT $param;\");\n\nconsole.log(query.toString()); // => \"SELECT NULL\"\n\nquery.run(42);\nconsole.log(query.toString()); // => \"SELECT 42\"\n\nquery.run(365);\nconsole.log(query.toString()); // => \"SELECT 365\"\n\n```\n\n----------------------------------------\n\nTITLE: Serializing and Deserializing SQLite Database in Bun\nDESCRIPTION: This code snippet shows how to serialize a SQLite database to a Uint8Array and then deserialize it back into a database object. This is useful for database backups or transfers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst olddb = new Database(\"mydb.sqlite\");\nconst contents = olddb.serialize(); // => Uint8Array\nconst newdb = Database.deserialize(contents);\n```\n\n----------------------------------------\n\nTITLE: Enabling Compression for Individual Messages (TypeScript)\nDESCRIPTION: This example shows how to enable compression for individual messages by passing a boolean as the second argument to the `ws.send()` method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nws.send(\"Hello world\", true);\n```\n\n----------------------------------------\n\nTITLE: Simple CSS File for Import\nDESCRIPTION: A basic CSS file that defines styles for the body element, which will be imported by another CSS file and bundled by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_3\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  background-color: red;\n}\n```\n\n----------------------------------------\n\nTITLE: 24-bit ANSI Color Examples in TypeScript\nDESCRIPTION: Examples of converting colors to 24-bit ANSI format (16 million colors) using Bun.color() with 'ansi-16m' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"ansi-16m\"); // \"\\x1b[38;2;255;0;0m\"\nBun.color(0xff0000, \"ansi-16m\"); // \"\\x1b[38;2;255;0;0m\"\nBun.color(\"#f00\", \"ansi-16m\"); // \"\\x1b[38;2;255;0;0m\"\nBun.color(\"#ff0000\", \"ansi-16m\"); // \"\\x1b[38;2;255;0;0m\"\n```\n\n----------------------------------------\n\nTITLE: Using findReports from report module\nDESCRIPTION: Finds diagnostic report files in a specified directory for a given process ID. Returns an array of report file names that match the process ID.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_17\n\nLANGUAGE: JavaScript\nCODE:\n```\nfindReports(pid, dir)\n```\n\n----------------------------------------\n\nTITLE: Using Function Pointers with CFunction in FFI\nDESCRIPTION: This snippet shows how to use the CFunction class from bun:ffi to call function pointers from JavaScript. It demonstrates defining a single function and multiple functions using linkSymbols.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { CFunction } from \"bun:ffi\";\n\nlet myNativeLibraryGetVersion = /* somehow, you got this pointer */\n\nconst getVersion = new CFunction({\n  returns: \"cstring\",\n  args: [],\n  ptr: myNativeLibraryGetVersion,\n});\ngetVersion();\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { linkSymbols } from \"bun:ffi\";\n\n// getVersionPtrs defined elsewhere\nconst [majorPtr, minorPtr, patchPtr] = getVersionPtrs();\n\nconst lib = linkSymbols({\n  // Unlike with dlopen(), the names here can be whatever you want\n  getMajor: {\n    returns: \"cstring\",\n    args: [],\n\n    // Since this doesn't use dlsym(), you have to provide a valid ptr\n    // That ptr could be a number or a bigint\n    // An invalid pointer will crash your program.\n    ptr: majorPtr,\n  },\n  getMinor: {\n    returns: \"cstring\",\n    args: [],\n    ptr: minorPtr,\n  },\n  getPatch: {\n    returns: \"cstring\",\n    args: [],\n    ptr: patchPtr,\n  },\n});\n\nconst [major, minor, patch] = [\n  lib.symbols.getMajor(),\n  lib.symbols.getMinor(),\n  lib.symbols.getPatch(),\n];\n```\n\n----------------------------------------\n\nTITLE: Running a TypeScript File with Bun Watch Mode\nDESCRIPTION: Example command to run a specific TypeScript file (watchy.tsx) with Bun's --watch mode for automatic reloading.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run --watch watchy.tsx\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to ArrayBuffer in TypeScript\nDESCRIPTION: Two approaches for converting a ReadableStream to an ArrayBuffer: the standard Response-based method and the optimized Bun utility function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\n// with Response\nnew Response(stream).arrayBuffer();\n\n// with Bun function\nBun.readableStreamToArrayBuffer(stream);\n```\n\n----------------------------------------\n\nTITLE: Filtering Workspace Dependency Installation\nDESCRIPTION: Shows how to use the `--filter` flag with `bun install` in a monorepo context. This allows installing dependencies only for a specific subset of workspaces, either by excluding packages or targeting specific package paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# Install dependencies for all workspaces except `pkg-c`\n$ bun install --filter '!pkg-c'\n\n# Install dependencies for only `pkg-a` in `./packages/pkg-a`\n$ bun install --filter './packages/pkg-a'\n```\n\n----------------------------------------\n\nTITLE: Deleting Files with S3Client.prototype.delete - TypeScript\nDESCRIPTION: Provides an example of deleting a file from an S3 bucket using Bun's S3Client 'delete' method. Shows both direct usage and the equivalent client.file().delete() form. It expects valid credentials and bucket configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new Bun.S3Client({\n  accessKeyId: \\\"your-access-key\\\",\n  secretAccessKey: \\\"your-secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n});\n\nawait client.delete(\\\"my-file.txt\\\");\n// equivalent to\n// await client.file(\\\"my-file.txt\\\").delete();\n```\n\n----------------------------------------\n\nTITLE: Defining SVG Chevron Icon for Dropdown\nDESCRIPTION: This SVG snippet defines a downward-pointing chevron icon. It's used within a <summary> element, likely indicating a dropdown menu associated with the 'Pricing' navigation link. The icon uses a path element to draw the shape and has styling attributes like fill set to 'none'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_2\n\nLANGUAGE: svg\nCODE:\n```\n<svg x=\"0px\" y=\"0px\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\">\n                       <path d=\"M1,1l6.2,6L13,1\"></path>\n                    </svg>\n```\n\n----------------------------------------\n\nTITLE: Defining a GET route in µWebSockets\nDESCRIPTION: This snippet demonstrates how to create a simple GET route in µWebSockets that responds with 'Hello World!'. It showcases the basic structure of route handling and response sending.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/misc/READMORE.md#2025-04-22_snippet_0\n\nLANGUAGE: c++\nCODE:\n```\nuWS::App().get(\"/hello\", [](auto *res, auto *req) {\n    res->end(\"Hello World!\");\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Lockfile Generation in Bun\nDESCRIPTION: Configuration for lockfile generation settings, including options to enable/disable lockfile creation and specify alternative lockfile formats.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_31\n\nLANGUAGE: toml\nCODE:\n```\n[install.lockfile]\nsave = true\n```\n\nLANGUAGE: toml\nCODE:\n```\n[install.lockfile]\nprint = \"yarn\"\n```\n\n----------------------------------------\n\nTITLE: Upgrading Bun using curl install script\nDESCRIPTION: This command downloads and executes the Bun installation script, which can be used to upgrade an existing Bun installation or perform a fresh install.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-upgrade.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ curl https://bun.sh/install | bash\n```\n\n----------------------------------------\n\nTITLE: Configuring Node to Bun Auto-aliasing\nDESCRIPTION: Configuration to automatically alias node commands to bun, with example shell commands demonstrating the behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_33\n\nLANGUAGE: toml\nCODE:\n```\n[run]\n# equivalent to `bun --bun` for all `bun run` commands\nbun = true\n```\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --bun which node # /path/to/bun\n$ bun which node # /path/to/node\n```\n\n----------------------------------------\n\nTITLE: Testing Buffer Stream Processing in Bun\nDESCRIPTION: Test case that creates a 1MB buffer filled with sequential numbers, spawns 5 Bun processes to process the buffer through stdin, and verifies the output matches the input. Uses Bun's $ API for process spawning and includes buffer manipulation and Promise handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/regression/issue/09041/09041-fixture-test.txt#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\nimport {join } from 'path';\ntest(\"09041\", async () => {\n  const buffer = Buffer.alloc(1024 * 1024);\n  let i = 0;\n  while (i < 1024 * 1024) {\n    i += buffer.write(Number(i).toString(10), i);\n  }\n  const buns = Array.from(\n    { length: 5 },\n    () => $`${process.argv0} run ${join(import.meta.dir, \"09041-fixture.mjs\")} < ${buffer}`,\n  );\n\n  const runs = await Promise.all(buns);\n  for (let i = 0; i < runs.length; i++) {\n    const run = runs[i];\n    expect(run.exitCode).toBe(0);\n    expect(run.stdout).toHaveLength(1024 * 1024);\n    expect(run.stdout).toEqual(buffer);\n  }\n}, 30000);\n```\n\n----------------------------------------\n\nTITLE: Grouping Selectors with :is() for Readability and Fallbacks - CSS\nDESCRIPTION: Demonstrates the :is() pseudo-class for grouping selectors to reduce repetition, and how Bun provides vendor-prefixed fallbacks (-webkit-any, -moz-any) for legacy browser compatibility. Requires awareness of specificity differences and may need review if vendor-prefixed selector limitations affect intent. Inputs are selector groups; output is cleaner and more maintainable CSS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_20\n\nLANGUAGE: css\nCODE:\n```\n/* Instead of writing these separately */\n/* \n.article h1,\n.article h2,\n.article h3 {\n  margin-top: 1.5em;\n}\n*/\n\n/* You can write this */\n.article :is(h1, h2, h3) {\n  margin-top: 1.5em;\n}\n\n/* Complex example with multiple groups */\n:is(header, main, footer) :is(h1, h2, .title) {\n  font-family: \"Heading Font\", sans-serif;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* Fallback using -webkit-any */\n.article :-webkit-any(h1, h2, h3) {\n  margin-top: 1.5em;\n}\n\n/* Fallback using -moz-any */\n.article :-moz-any(h1, h2, h3) {\n  margin-top: 1.5em;\n}\n\n/* Original preserved for modern browsers */\n.article :is(h1, h2, h3) {\n  margin-top: 1.5em;\n}\n\n/* Complex example with fallbacks */\n:-webkit-any(header, main, footer) :-webkit-any(h1, h2, .title) {\n  font-family: \"Heading Font\", sans-serif;\n}\n\n:-moz-any(header, main, footer) :-moz-any(h1, h2, .title) {\n  font-family: \"Heading Font\", sans-serif;\n}\n\n:is(header, main, footer) :is(h1, h2, .title) {\n  font-family: \"Heading Font\", sans-serif;\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Custom Request Timeouts in Bun Server\nDESCRIPTION: Demonstrates how to set a custom idle timeout for individual requests using the server.timeout() method. This is useful for long-running requests that might exceed the default timeout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch(req, server) {\n    // Set 60 second timeout for this request\n    server.timeout(req, 60);\n\n    // If they take longer than 60 seconds to send the body, the request will be aborted\n    await req.text();\n\n    return new Response(\"Done!\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Adjusting Concurrent Lifecycle Scripts\nDESCRIPTION: Illustrates how to use the `--concurrent-scripts` flag with `bun install` to control the maximum number of lifecycle scripts that can run in parallel. The default is twice the CPU count or GOMAXPROCS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --concurrent-scripts 5\n```\n\n----------------------------------------\n\nTITLE: Aborting Bun Test Runs After Failures using Shell Command\nDESCRIPTION: Shows how to use the `--bail` flag to stop the test run immediately after a certain number of test failures. The first command bails after 1 failure (which is the default behavior if no number is specified), and the second command bails after 10 failures. This is useful in CI environments to save resources.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_9\n\nLANGUAGE: sh\nCODE:\n```\n# bail after 1 failure\n$ bun test --bail\n\n# bail after 10 failure\n$ bun test --bail=10\n```\n\n----------------------------------------\n\nTITLE: Clearing Bun Module Cache\nDESCRIPTION: Removes all contents from Bun's global module cache directory. This can be useful to resolve caching issues or free up disk space, but will cause subsequent installs to re-download packages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm cache rm\n```\n\n----------------------------------------\n\nTITLE: Additional Non-Cryptographic Hashing Algorithms in Bun\nDESCRIPTION: Demonstrates the use of various non-cryptographic hashing algorithms available in Bun.hash, including wyhash, crc32, adler32, cityHash, xxHash, and murmur hash variants.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nBun.hash.wyhash(\"data\", 1234); // equivalent to Bun.hash()\nBun.hash.crc32(\"data\", 1234);\nBun.hash.adler32(\"data\", 1234);\nBun.hash.cityHash32(\"data\", 1234);\nBun.hash.cityHash64(\"data\", 1234);\nBun.hash.xxHash32(\"data\", 1234);\nBun.hash.xxHash64(\"data\", 1234);\nBun.hash.xxHash3(\"data\", 1234);\nBun.hash.murmur32v3(\"data\", 1234);\nBun.hash.murmur32v2(\"data\", 1234);\nBun.hash.murmur64v2(\"data\", 1234);\n```\n\n----------------------------------------\n\nTITLE: Comparing Versions with Bun.semver.order in TypeScript\nDESCRIPTION: This snippet illustrates the usage of Bun.semver.order function to compare versions. It shows how to use the function for individual comparisons and for sorting an array of versions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/semver.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { semver } from \"bun\";\n\nsemver.order(\"1.0.0\", \"1.0.0\"); // 0\nsemver.order(\"1.0.0\", \"1.0.1\"); // -1\nsemver.order(\"1.0.1\", \"1.0.0\"); // 1\n\nconst unsorted = [\"1.0.0\", \"1.0.1\", \"1.0.0-alpha\", \"1.0.0-beta\", \"1.0.0-rc\"];\nunsorted.sort(semver.order); // [\"1.0.0-alpha\", \"1.0.0-beta\", \"1.0.0-rc\", \"1.0.0\", \"1.0.1\"]\nconsole.log(unsorted);\n```\n\n----------------------------------------\n\nTITLE: Creating a Uint8Array View for an ArrayBuffer in TypeScript\nDESCRIPTION: This snippet initializes a 64-byte ArrayBuffer and then creates a Uint8Array. The Uint8Array acts as a view into the ArrayBuffer's data, allowing access to the underlying bytes as unsigned 8-bit integers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/arraybuffer-to-typedarray.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nconst buffer = new ArrayBuffer(64);\nconst arr = new Uint8Array(buffer);\n```\n\n----------------------------------------\n\nTITLE: Example Node.js Shebang in CLI Scripts\nDESCRIPTION: Displays a common shebang (`#!/usr/bin/env node`) found at the beginning of JavaScript CLI tool scripts. This line instructs the operating system's shell to execute the script using the Node.js interpreter by default.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n#!/usr/bin/env node\n\n// do stuff\n```\n\n----------------------------------------\n\nTITLE: Enabling Watch Mode for Bun Tests using Bash\nDESCRIPTION: Demonstrates how to run `bun test` in watch mode using the `--watch` flag. This command will monitor test files and related source files for changes and automatically re-run the relevant tests upon detection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test --watch\n```\n\n----------------------------------------\n\nTITLE: Filtering properties in Bun.inspect.table() in TypeScript\nDESCRIPTION: Shows how to display only selected properties when formatting tabular data with Bun.inspect.table(). The example demonstrates filtering to show only specific columns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\n  Bun.inspect.table(\n    [\n      { a: 1, b: 2, c: 3 },\n      { a: 4, b: 5, c: 6 },\n    ],\n    [\"a\", \"c\"],\n  ),\n);\n//\n// ┌───┬───┬───┐\n// │   │ a │ c │\n// ├───┼───┼───┤\n// │ 0 │ 1 │ 3 │\n// │ 1 │ 4 │ 6 │\n// └───┴───┴───┘\n```\n\n----------------------------------------\n\nTITLE: Updating Package.json Scripts for Bun\nDESCRIPTION: Modifies package.json to use Bun runtime for Vite development server\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n  \"scripts\": {\n-   \"dev\": \"vite\",\n+   \"dev\": \"bunx --bun vite\",\n    \"build\": \"vite build\",\n    \"serve\": \"vite preview\"\n  },\n  // ...\n```\n\n----------------------------------------\n\nTITLE: Installing React Dependency with Bun\nDESCRIPTION: Command to install React as a dependency using Bun's package manager. This is necessary since the transpiled JSX code requires React to run.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/react.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install react\n```\n\n----------------------------------------\n\nTITLE: Adding Git Attributes for Bun Lockfile\nDESCRIPTION: This snippet shows the Git attributes configuration needed to handle Bun's binary lockfile. It specifies that .lockb files should be treated as binary and use a custom diff driver named 'lockb'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/git-diff-bun-lockfile.md#2025-04-22_snippet_0\n\nLANGUAGE: js\nCODE:\n```\n*.lockb binary diff=lockb\n```\n\n----------------------------------------\n\nTITLE: Configuring Default NPM Registry in Bun\nDESCRIPTION: Shows different ways to configure the default NPM registry in bunfig.toml, including basic URL configuration, token-based authentication, and username/password authentication.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/registries.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# set default registry as a string\nregistry = \"https://registry.npmjs.org\"\n# set a token\nregistry = { url = \"https://registry.npmjs.org\", token = \"123456\" }\n# set a username/password\nregistry = \"https://username:password@registry.npmjs.org\"\n```\n\n----------------------------------------\n\nTITLE: Configuring bunfig.toml for YAML Plugin Preload\nDESCRIPTION: TOML configuration to preload the YAML plugin registration file in bunfig.toml.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\npreload = [\"./yaml.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Custom Option Processing in JavaScript\nDESCRIPTION: Implements custom processing functions for command line options including type conversion, value accumulation, and custom parsing of comma-separated lists.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nfunction myParseInt(value, dummyPrevious) {\n  const parsedValue = parseInt(value, 10);\n  if (isNaN(parsedValue)) {\n    throw new commander.InvalidArgumentError('Not a number.');\n  }\n  return parsedValue;\n}\n\nfunction increaseVerbosity(dummyValue, previous) {\n  return previous + 1;\n}\n\nfunction collect(value, previous) {\n  return previous.concat([value]);\n}\n\nfunction commaSeparatedList(value, dummyPrevious) {\n  return value.split(',');\n}\n\nprogram\n  .option('-f, --float <number>', 'float argument', parseFloat)\n  .option('-i, --integer <number>', 'integer argument', myParseInt)\n  .option('-v, --verbose', 'verbosity that can be increased', increaseVerbosity, 0)\n  .option('-c, --collect <value>', 'repeatable value', collect, [])\n  .option('-l, --list <items>', 'comma separated list', commaSeparatedList);\n```\n\n----------------------------------------\n\nTITLE: Code Signing a macOS Executable using Shell\nDESCRIPTION: This shell command shows how to use the `codesign` utility on macOS to sign a standalone executable (`./myapp`) created with Bun. Signing the executable helps avoid Gatekeeper warnings when running the application. Replace `XXXXXXXXXX` with your signing identity.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\n$ codesign --deep --force -vvvv --sign \"XXXXXXXXXX\" ./myapp\n```\n\n----------------------------------------\n\nTITLE: HWB (Hue-Whiteness-Blackness) Color Model in CSS - Bun Bundler\nDESCRIPTION: Highlights the use of HWB color notation to simplify creation of tints and shades. HWB makes color variants more intuitive. Bun transpiles these to hex RGB values for browser-wide support. Inputs use HWB, outputs are auto-computed RGB.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_12\n\nLANGUAGE: css\nCODE:\n```\n.easy-theming {\\n  /* Pure cyan with no white or black added */\\n  --primary: hwb(180 0% 0%);\\n\\n  /* Same hue, but with 20% white added (tint) */\\n  --primary-light: hwb(180 20% 0%);\\n\\n  /* Same hue, but with 30% black added (shade) */\\n  --primary-dark: hwb(180 0% 30%);\\n\\n  /* Muted version with both white and black added */\\n  --primary-muted: hwb(180 30% 20%);\\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing Bun Transpiler\nDESCRIPTION: Creates a new instance of Bun's transpiler with specified loader type for handling different file formats\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst transpiler = new Bun.Transpiler({\n  loader: \"tsx\", // \"js | \"jsx\" | \"ts\" | \"tsx\"\n});\n```\n\n----------------------------------------\n\nTITLE: Displaying CSS HMR Performance Metrics\nDESCRIPTION: This output shows the analysis results of CSS HMR frame times. It includes percentile breakdowns of frame times and the proportion of rendered frames.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/next.latest.24ms.txt#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\nnext\n --------------------------------------------------\n CSS HMR FRAME TIME\n\n 50th percentile: 310.1ms \n 75th percentile: 360.3ms \n 90th percentile: 461.6ms \n 95th percentile: 660.4ms \n 99th percentile: 1009.9ms \n Rendered frames: 78 / 1024 (8%)\n```\n\n----------------------------------------\n\nTITLE: Linking Bun Executable\nDESCRIPTION: Links the Zig and C++ object files to create the final Bun executable. Designed to run on a separate machine from the compilation stages to enable parallel building.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/internals/build-process-for-ci.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\ncd tmp3\n\ncmake $BUN_REPO \\\n  -G Ninja \\\n  -DCMAKE_BUILD_TYPE=Release \\\n  -DBUN_LINK_ONLY=1 \\\n  -DBUN_ZIG_OBJ_DIR=\"/path/to/bun-zig-dir\" \\\n  -DBUN_CPP_ARCHIVE=\"/path/to/bun-cpp-objects.a\"\n\nninja\n\n# optional:\n#   -DBUN_DEPS_OUT_DIR=... custom deps dir, use this to cache the built deps between rebuilds\n#   -DWEBKIT_DIR=... same thing, but it's probably fast enough to pull from github releases\n\n# -> bun\n# -> bun-profile\n# -> bun.dSYM/\n```\n\n----------------------------------------\n\nTITLE: Defining JSON Content in package.json\nDESCRIPTION: This snippet shows the content of a package.json file with basic project information including name, version, and author details.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-json.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"bun\",\n  \"version\": \"1.0.0\",\n  \"author\": {\n    \"name\": \"John Dough\",\n    \"email\": \"john@dough.com\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Set LLVM 19 Path on Arch Linux\nDESCRIPTION: This command sets the PATH environment variable to include the directory containing LLVM 19 binaries on Arch Linux.  This ensures the correct LLVM version is used. It requires `llvm19` to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\n$ export PATH=\"$PATH:/usr/lib/llvm19/bin\"\n```\n\n----------------------------------------\n\nTITLE: Using hasEnoughSpace from tmpdir module\nDESCRIPTION: Checks if the file system has enough available space for a file of the specified size in bytes. Returns a boolean indicating if sufficient space is likely available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_27\n\nLANGUAGE: JavaScript\nCODE:\n```\nhasEnoughSpace(size)\n```\n\n----------------------------------------\n\nTITLE: Configuring Artifactory Registry in bunfig.toml\nDESCRIPTION: TOML configuration for connecting Bun package manager to JFrog Artifactory npm registry. Requires replacing MY_SUBDOMAIN with your Artifactory subdomain and MY_TOKEN with your authentication token.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/jfrog-artifactory.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install.registry]\nurl = \"https://MY_SUBDOMAIN.jfrog.io/artifactory/api/npm/npm/_auth=MY_TOKEN\"\n# Bun v1.0.3+ supports using an environment variable here\n# url = \"$NPM_CONFIG_REGISTRY\"\n```\n\n----------------------------------------\n\nTITLE: Setting Log Level in Bun\nDESCRIPTION: Configures the logging verbosity in Bun. Can be set to debug, warn, or error.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\nlogLevel = \"debug\" # \"debug\" | \"warn\" | \"error\"\n```\n\n----------------------------------------\n\nTITLE: Reverting to latest stable Bun version\nDESCRIPTION: This command upgrades Bun to the latest stable published version, which is useful for reverting from a canary build to a stable release.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-upgrade.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun upgrade\n```\n\n----------------------------------------\n\nTITLE: Implementing Negatable Boolean Options in JavaScript\nDESCRIPTION: Demonstrates how to create command line options with negatable boolean flags and optional values using Commander.js. Shows handling of sauce and cheese options with their negative counterparts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('--no-sauce', 'Remove sauce')\n  .option('--cheese <flavour>', 'cheese flavour', 'mozzarella')\n  .option('--no-cheese', 'plain with no cheese')\n  .parse();\n\nconst options = program.opts();\nconst sauceStr = options.sauce ? 'sauce' : 'no sauce';\nconst cheeseStr = (options.cheese === false) ? 'no cheese' : `${options.cheese} cheese`;\nconsole.log(`You ordered a pizza with ${sauceStr} and ${cheeseStr}`);\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Bun\nDESCRIPTION: Changes to project directory and installs project dependencies using Bun package manager\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/vite.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd my-app\nbun install\n```\n\n----------------------------------------\n\nTITLE: Starting Next.js Dev Server with Node.js via Bun (Shell)\nDESCRIPTION: These commands navigate into the project directory and start the Next.js development server. By running `bun run dev` without the `--bun` flag, Bun acts as a task runner, executing the `dev` script using the environment specified in the script's shebang or the system's default (typically Node.js).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nextjs.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ cd my-app\n$ bun run dev\n```\n\n----------------------------------------\n\nTITLE: Compiled RGB Output for HWB Colors - Bun Bundler CSS\nDESCRIPTION: Displays the Bun-transpiled RGB equivalents for HWB-defined custom properties. Supports automatically generating hex colors for all HWB values, aiding in theming and consistency. No other dependencies or constraints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_13\n\nLANGUAGE: css\nCODE:\n```\n.easy-theming {\\n  --primary: #00ffff;\\n  --primary-light: #33ffff;\\n  --primary-dark: #00b3b3;\\n  --primary-muted: #339999;\\n}\n```\n\n----------------------------------------\n\nTITLE: Handling Large Numbers in Bun SQL Client\nDESCRIPTION: Demonstrates how Bun's SQL client automatically handles large numbers that exceed the range of 53-bit integers by returning them as strings. This prevents precision loss with very large numbers like 9223372036854777.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sql } from \"bun\";\n\nconst [{ x, y }] = await sql`SELECT 9223372036854777 as x, 12345 as y`;\n\nconsole.log(typeof x, x); // \"string\" \"9223372036854777\"\nconsole.log(typeof y, y); // \"number\" 12345\n```\n\n----------------------------------------\n\nTITLE: Spawning Child Process with IPC in Bun\nDESCRIPTION: Basic example of spawning a child process with IPC handler in Bun. Shows how to create a child process and set up an IPC message handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/ipc.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst child = Bun.spawn([\"bun\", \"child.ts\"], {\n  ipc(message) {\n    /**\n     * The message received from the sub process\n     **/\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Common Bun CLI Commands\nDESCRIPTION: Shows the main CLI commands for Bun's built-in tools including test runner, script runner, package manager, and package execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun test\nbun run start\nbun install <pkg>\nbunx cowsay 'Hello, world!'\n```\n\n----------------------------------------\n\nTITLE: Cleaning and Building JSC after WebKit Merge in Bash\nDESCRIPTION: Removes the existing `WebKitBuild` directory to ensure a clean build environment. Then, it changes the current directory back to the root of the Bun project (four levels up from `src/bun.js/WebKit`) and runs the `make` command with the `jsc-build-mac-compile` target to build the JavaScriptCore component for macOS using the updated WebKit source.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# You might have to run this multiple times.\n$ rm -rf WebKitBuild\n\n# Go to Bun's directory! Not WebKit.\ncd ../../../../\nmake jsc-build-mac-compile\n```\n\n----------------------------------------\n\nTITLE: Using createCommand() Factory Function in Commander.js\nDESCRIPTION: This demonstrates how to use the createCommand() factory function to create a new command instead of using the new operator. It's exported and can be used as a method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_40\n\nLANGUAGE: javascript\nCODE:\n```\nconst { createCommand } = require('commander');\nconst program = createCommand();\n```\n\n----------------------------------------\n\nTITLE: Configuring Happy DOM Setup\nDESCRIPTION: TypeScript setup file to register Happy DOM global registrator for browser environment simulation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { GlobalRegistrator } from '@happy-dom/global-registrator';\n\nGlobalRegistrator.register();\n```\n\n----------------------------------------\n\nTITLE: Basic Bun Build Test Example\nDESCRIPTION: Demonstrates a basic bundler test using itBundled, defining input files and expected output. It also shows how to run the bundle and check its output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nitBundled(\"default/SimpleES6\", {\n  files: {\n    \"/entry.js\": /* js */ `\n      import { fn } from './foo';\n      console.log(fn());\n    `,\n    \"/foo.js\": /* js */ `\n      export function fn() {\n        return 123\n      }\n    `,\n  },\n  run: {\n    stdout: \"123\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Make a Debug Build of JavaScriptCore (JSC)\nDESCRIPTION: This command creates a debug build of JavaScriptCore (JSC). The build artifacts will be placed in `./vendor/WebKit/WebKitBuild/Debug`. After an initial run, subsequent builds can be done more efficiently using the following cmake command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_25\n\nLANGUAGE: bash\nCODE:\n```\n# Make a debug build of JSC. This will output build artifacts in ./vendor/WebKit/WebKitBuild/Debug\n# Optionally, you can use `make jsc` for a release build\n$ make jsc-debug && rm vendor/WebKit/WebKitBuild/Debug/JavaScriptCore/DerivedSources/inspector/InspectorProtocolObjects.h\n```\n\n----------------------------------------\n\nTITLE: Converting a Node.js Readable stream to a string using Response in Bun\nDESCRIPTION: This code demonstrates how to convert a Node.js Readable stream to a string by wrapping it in a Response object and using the text() method. It creates a simple stream from a buffer containing \"Hello, world!\" and then extracts its text content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/node-readable-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Readable } from \"stream\";\nconst stream = Readable.from([Buffer.from(\"Hello, world!\")]);\nconst text = await new Response(stream).text();\nconsole.log(text); // \"Hello, world!\"\n```\n\n----------------------------------------\n\nTITLE: Adding npm overrides to package.json in Bun\nDESCRIPTION: Example of adding npm's \"overrides\" field to package.json to pin a metadependency version. This allows specifying a version range for the dependency \"bar\" which is not directly referenced in the project but is a dependency of \"foo\".\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/overrides.md#2025-04-22_snippet_0\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"dependencies\": {\n      \"foo\": \"^2.0.0\"\n    },\n+   \"overrides\": {\n+     \"bar\": \"~4.4.0\"\n+   }\n  }\n```\n\n----------------------------------------\n\nTITLE: Using a Bun Macro at Bundle-Time in a TypeScript React Component\nDESCRIPTION: This TypeScript code demonstrates importing and using the `extractMetaTags` function as a Bun macro within a React component. The import statement uses `with { type: 'macro' }` to designate `extractMetaTags` for bundle-time execution. The macro is called with \"https://example.com\", and its return value (`headTags`) is captured. An assertion checks the title at compile time. The extracted data is then used to render the `<head>` element of a React component (`Head`), embedding the fetched data directly into the component's definition.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { extractMetaTags } from './meta.ts' with { type: 'macro' };\n\nexport const Head = () => {\n  const headTags = extractMetaTags(\"https://example.com\");\n\n  if (headTags.title !== \"Example Domain\") {\n    throw new Error(\"Expected title to be 'Example Domain'\");\n  }\n\n  return <head>\n    <title>{headTags.title}</title>\n    <meta name=\"viewport\" content={headTags.viewport} />\n  </head>;\n};\n```\n\n----------------------------------------\n\nTITLE: Filtering Outdated Dependencies by Package Names - Markdown\nDESCRIPTION: Shows a Bun CLI terminal directive configured to display outdated status for specific dependencies. The snippet filters for packages matching 'eslint-plugin-security', 'eslint-plugin-sonarjs', and the glob 'eslint-plugin-*'. This allows targeted checking in large projects. Requires a Bun project containing those dependencies to function as intended. This is a custom Markdown component, not an executable command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal displayGlob=\"eslint-plugin-security eslint-plugin-sonarjs\" glob=\"eslint-plugin-*\"  /%}\n```\n\n----------------------------------------\n\nTITLE: Transforming Image Elements with HTMLRewriter in TypeScript\nDESCRIPTION: Example showing how to use HTMLRewriter to replace all image sources with a specific URL and wrap them in anchor tags. Demonstrates element manipulation and attribute modification.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// Replace all images with a rickroll\nconst rewriter = new HTMLRewriter().on(\"img\", {\n  element(img) {\n    // Famous rickroll video thumbnail\n    img.setAttribute(\n      \"src\",\n      \"https://img.youtube.com/vi/dQw4w9WgXcQ/maxresdefault.jpg\",\n    );\n\n    // Wrap the image in a link to the video\n    img.before(\n      '<a href=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\" target=\"_blank\">',\n      { html: true },\n    );\n    img.after(\"</a>\", { html: true });\n\n    // Add some fun alt text\n    img.setAttribute(\"alt\", \"Definitely not a rickroll\");\n  },\n});\n\n// An example HTML document\nconst html = `\n<html>\n<body>\n  <img src=\"/cat.jpg\">\n  <img src=\"dog.png\">\n  <img src=\"https://example.com/bird.webp\">\n</body>\n</html>\n`;\n\nconst result = rewriter.transform(html);\nconsole.log(result);\n```\n\n----------------------------------------\n\nTITLE: Installing @types/bun Package with Bun\nDESCRIPTION: Command to install the '@types/bun' npm package using Bun package manager. This package provides TypeScript type definitions for Bun's JavaScript runtime APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun add -D @types/bun\n```\n\n----------------------------------------\n\nTITLE: JSX Transformation with 'react-jsx' Option\nDESCRIPTION: Configuration for transforming JSX using the 'react-jsx' option, which uses the newer JSX transform introduced in React 17 that doesn't require importing React in every file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"react-jsx\"\n}\n```\n\n----------------------------------------\n\nTITLE: Importing Tailwind CSS in TypeScript\nDESCRIPTION: TypeScript example showing how to import Tailwind CSS directly in a JavaScript/TypeScript file, which Bun will process using the Tailwind plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\n/* Import TailwindCSS in your JavaScript */\nimport \"tailwindcss\";\n```\n\n----------------------------------------\n\nTITLE: Using color-mix() in Modern CSS - Bun Bundler\nDESCRIPTION: Demonstrates authoring with the color-mix() CSS function, using ratios to blend colors for background and hover states. No additional dependencies. Key parameters define color spaces and blend ratios. Bun evaluates and outputs static color values compatible with all major browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_4\n\nLANGUAGE: css\nCODE:\n```\n.button {\\n  /* Mix blue and red in the RGB color space with a 30/70 proportion */\\n  background-color: color-mix(in srgb, blue 30%, red);\\n\\n  /* Create a lighter variant for hover state */\\n  &:hover {\\n    background-color: color-mix(in srgb, blue 30%, red, white 20%);\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Global Package Directory in Bun\nDESCRIPTION: Sets the directory where globally installed packages are stored.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_25\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# where `bun install --global` installs packages\nglobalDir = \"~/.bun/install/global\"\n```\n\n----------------------------------------\n\nTITLE: ArrayBufferSink API Reference\nDESCRIPTION: Comprehensive TypeScript interface definition for Bun's ArrayBufferSink class, showing all available methods and configuration options for working with binary data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\n/**\n * Fast incremental writer that becomes an `ArrayBuffer` on end().\n */\nexport class ArrayBufferSink {\n  constructor();\n\n  start(options?: {\n    asUint8Array?: boolean;\n    /**\n     * Preallocate an internal buffer of this size\n     * This can significantly improve performance when the chunk size is small\n     */\n    highWaterMark?: number;\n    /**\n     * On {@link ArrayBufferSink.flush}, return the written data as a `Uint8Array`.\n     * Writes will restart from the beginning of the buffer.\n     */\n    stream?: boolean;\n  }): void;\n\n  write(\n    chunk: string | ArrayBufferView | ArrayBuffer | SharedArrayBuffer,\n  ): number;\n  /**\n   * Flush the internal buffer\n   *\n   * If {@link ArrayBufferSink.start} was passed a `stream` option, this will return a `ArrayBuffer`\n   * If {@link ArrayBufferSink.start} was passed a `stream` option and `asUint8Array`, this will return a `Uint8Array`\n   * Otherwise, this will return the number of bytes written since the last flush\n   *\n   * This API might change later to separate Uint8ArraySink and ArrayBufferSink\n   */\n  flush(): number | Uint8Array | ArrayBuffer;\n  end(): ArrayBuffer | Uint8Array;\n}\n```\n\n----------------------------------------\n\nTITLE: Version Specifier Usage in TypeScript Imports\nDESCRIPTION: Examples showing how to specify exact versions, npm tags, or semver ranges directly in import statements to override the default version resolution algorithm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/autoimport.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { z } from \"zod@3.0.0\"; // specific version\nimport { z } from \"zod@next\"; // npm tag\nimport { z } from \"zod@^3.20.0\"; // semver range\n```\n\n----------------------------------------\n\nTITLE: Building Bun\nDESCRIPTION: Builds the Bun project by running the `build` script defined in the package.json. This command compiles the code and creates the necessary binaries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_16\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build\n```\n\n----------------------------------------\n\nTITLE: Corking HTTP Responses in C++ with µWebSockets\nDESCRIPTION: Demonstrates how to use corking to efficiently send HTTP responses. Corking ensures multiple send operations are combined into a single, efficient syscall.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/misc/READMORE.md#2025-04-22_snippet_1\n\nLANGUAGE: c++\nCODE:\n```\nres->cork([]() {\n    res->end(\"This Http response will be properly corked and efficient in all cases\");\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Test with bunfig.toml Basic Structure\nDESCRIPTION: The basic structure for configuring bun test in a bunfig.toml file, where test-specific options are placed under the [test] section.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n# Options go here\n```\n\n----------------------------------------\n\nTITLE: Benchmarking Package Managers with Lockfile in Online Mode\nDESCRIPTION: This command uses hyperfine to compare the installation performance of Bun, pnpm, Yarn, and npm with existing lockfiles in online mode. It clears node_modules before each run, performs one warmup run, and executes 3 timed runs for each package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/install/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ hyperfine --prepare 'rm -rf node_modules' --warmup 1 --runs 3 'bun install' 'pnpm install' 'yarn' 'npm install'\n```\n\n----------------------------------------\n\nTITLE: OpenSSL Certificate Database Records\nDESCRIPTION: Database index entries showing four valid SSL certificates issued for NodeJS test agents (agent8 and agent9) with their expiry dates and distinguished names.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/keys/fake-startcom-root-database.txt#2025-04-22_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nV\t22920830184221Z\t\t01\tunknown\t/C=US/ST=CA/L=SF/O=NODEJS/OU=agent8/CN=localhost\nV\t22920830184221Z\t\t02\tunknown\t/C=US/ST=CA/L=SF/O=NODEJS/OU=agent9/CN=localhost\nV\t22960617144652Z\t\t03\tunknown\t/C=US/ST=CA/L=SF/O=NODEJS/OU=agent8/CN=localhost\nV\t22960617144653Z\t\t04\tunknown\t/C=US/ST=CA/L=SF/O=NODEJS/OU=agent9/CN=localhost\n```\n\n----------------------------------------\n\nTITLE: Strict Mode Comparisons with Bun.deepEquals in TypeScript\nDESCRIPTION: Illustrates the use of strict mode in Bun.deepEquals() by passing true as the third argument. This mode is used internally by expect().toStrictEqual() in Bun's test runner and handles undefined values, sparse arrays, and object instances differently.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/deep-equals.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// undefined values\nBun.deepEquals({}, { a: undefined }, true); // false\n\n// undefined in arrays\nBun.deepEquals([\"asdf\"], [\"asdf\", undefined], true); // false\n\n// sparse arrays\nBun.deepEquals([, 1], [undefined, 1], true); // false\n\n// object literals vs instances w/ same properties\nclass Foo {\n  a = 1;\n}\nBun.deepEquals(new Foo(), { a: 1 }, true); // false\n```\n\n----------------------------------------\n\nTITLE: Installing NPM Package with Alias using Bun CLI\nDESCRIPTION: Shows how to install the 'zod' package under a custom alias name 'my-custom-name' using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/npm-alias.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add my-custom-name@npm:zod\n```\n\n----------------------------------------\n\nTITLE: Installing Project Dependencies with Bun\nDESCRIPTION: Executes the `bun install` command to install all dependencies (`dependencies`, `devDependencies`, `optionalDependencies`, and `peerDependencies`) listed in the project's `package.json` file. It also runs lifecycle scripts (`{pre|post}install`, `{pre|post}prepare`) defined in the root `package.json` and generates a `bun.lock` lockfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install\n```\n\n----------------------------------------\n\nTITLE: Debugging JSX Components with Bun\nDESCRIPTION: Example showing Bun's special JSX component logging for easier debugging. Running a TSX file with Bun will display the component structure in the console.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/react.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run log-my-component.tsx\n<Component message=\"Hello world!\" />\n```\n\n----------------------------------------\n\nTITLE: Configuring Preload Scripts in Bun\nDESCRIPTION: Sets up preload scripts to run before executing a file or script with bun run. This can be used to register plugins.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n# scripts to run before `bun run`-ning a file or script\n# register plugins by adding them to this list\npreload = [\"./preload.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Reloading the FileSystemRouter\nDESCRIPTION: Example of how to reload the router to re-scan the directory for changes to the file system, which is necessary if files are added or removed after initialization.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nrouter.reload();\n```\n\n----------------------------------------\n\nTITLE: Double Position Gradients\nDESCRIPTION: Shows usage of double position gradient syntax for creating hard color stops and how Bun converts it to traditional gradient syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_25\n\nLANGUAGE: css\nCODE:\n```\n.striped-background {\n  background: linear-gradient(\n    to right,\n    yellow 0%,\n    green 20%,\n    green 30%,\n    red 30%,\n    red 70%,\n    blue 70%,\n    blue 100%\n  );\n}\n\n.progress-bar {\n  background: linear-gradient(\n    to right,\n    #4caf50 0% 25%,\n    #ffc107 25% 50%,\n    #2196f3 50% 75%,\n    #9c27b0 75% 100%\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: File Loader for Media Assets in TypeScript\nDESCRIPTION: Demonstrates using the file loader to import unrecognized file types like SVG. In runtime it provides an absolute path, while in the bundler it copies the file to the output directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nimport logo from \"./logo.svg\";\nconsole.log(logo);\n```\n\n----------------------------------------\n\nTITLE: Defining API Schema for Zig Function in TypeScript\nDESCRIPTION: Shows how to define the API schema for a Zig function using a .bind.ts file. This schema describes the function signature, including argument types and return type, which will be used by the bindings generator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/bindgen.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { t, fn } from 'bindgen';\n\nexport const add = fn({\n  args: {\n    global: t.globalObject,\n    a: t.i32,\n    b: t.i32.default(1),\n  },\n  ret: t.i32,\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Child Process Options in TypeScript\nDESCRIPTION: Shows how to configure a child process with custom working directory, environment variables, and an exit handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"bun\", \"--version\"], {\n  cwd: \"./path/to/subdir\", // specify a working directory\n  env: { ...process.env, FOO: \"bar\" }, // specify environment variables\n  onExit(proc, exitCode, signalCode, error) {\n    // exit handler\n  },\n});\n\nproc.pid; // process ID of subprocess\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests with Bail After Multiple Failures\nDESCRIPTION: This command demonstrates how to use the --bail flag with a numeric value to set a threshold for failures before stopping the test execution. In this example, the test run will continue until 10 failures occur.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/bail.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n# bail after 10 failures\n$ bun test --bail=10\n```\n\n----------------------------------------\n\nTITLE: Configuring publicPath in Bun Build (JavaScript)\nDESCRIPTION: Sets a prefix to be appended to import paths in bundled code, useful for assets imported via URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_48\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  publicPath: 'https://cdn.example.com/', // default is undefined\n})\n```\n\n----------------------------------------\n\nTITLE: Adding GitHub Repository as Dependency with Bun\nDESCRIPTION: This command adds the Lodash library directly from its GitHub repository as a project dependency using Bun's package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-git.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add github:lodash/lodash\n```\n\n----------------------------------------\n\nTITLE: Running Tests in Vitest Environment\nDESCRIPTION: Command to run the test file using Vitest with the --run flag to execute the tests once.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/expect-to-equal/README.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n./node_modules/.bin/vitest --run expect-to-equal.vitest.test.js\n```\n\n----------------------------------------\n\nTITLE: Installing packages with Bun while generating a Yarn-compatible lockfile\nDESCRIPTION: Uses the --yarn flag with 'bun install' to generate both a Bun lockfile and a Yarn-compatible yarn.lock file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/yarnlock.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun install --yarn\n```\n\n----------------------------------------\n\nTITLE: Updating tsconfig.json for YAML Imports\nDESCRIPTION: JSON diff showing the addition of bun-plugin-yaml to the types array in tsconfig.json to avoid import errors in TypeScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n  {\n    \"compilerOptions\": {\n      \"types\": [\n        // other packages, e.g. \"bun-types\",\n+       \"bun-plugin-yaml\"\n      ]\n    }\n  }\n```\n\n----------------------------------------\n\nTITLE: Checking File Existence using Bun.file() in TypeScript\nDESCRIPTION: This snippet demonstrates how to use the Bun.file() function to create a BunFile instance and then check if the file exists using the .exists() method. It uses an asynchronous operation to determine file existence.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/exists.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nawait file.exists(); // boolean;\n```\n\n----------------------------------------\n\nTITLE: Quiet Command Execution in Bun Shell\nDESCRIPTION: Shows how to execute a shell command without printing the output to stdout using the .quiet() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nawait $`echo \"Hello World!\"`.quiet(); // No output\n```\n\n----------------------------------------\n\nTITLE: Creating Basic HTTP Server with Stric Router in TypeScript\nDESCRIPTION: This snippet demonstrates setting up a minimal web server using the `@stricjs/router` package. It imports the `Router`, creates a new router instance, defines a GET route for the root path ('/'), and returns a simple 'Hi' text response. The router is exported as the default fetch handler, intended to be served by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/stric.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Router } from '@stricjs/router';\n\n// Export the fetch handler and serve with Bun\nexport default new Router()\n  // Return 'Hi' on every request\n  .get('/', () => new Response('Hi'));\n```\n\n----------------------------------------\n\nTITLE: Detecting Bun Runtime using Global Object\nDESCRIPTION: Check for the existence of the global Bun object to determine if code is running in Bun environment. This is the recommended approach but requires bun-types for TypeScript support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/detect-bun.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nif (typeof Bun !== \"undefined\") {\n  // this code will only run when the file is run with Bun\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies\nDESCRIPTION: Installs all dependencies required for building Bun. Can optionally specify an output directory for the dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/internals/build-process-for-ci.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nBUN_DEPS_OUT_DIR=\"/optional/out/dir\" bash ./scripts/all-dependencies.sh\n```\n\n----------------------------------------\n\nTITLE: Check Bun Version\nDESCRIPTION: This command executes the debug build of Bun and prints its version number.  It verifies that the build process was successful and that the `bun-debug` executable is working correctly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\n$ build/debug/bun-debug --version\n```\n\n----------------------------------------\n\nTITLE: Working with remote objects in TypeScript\nDESCRIPTION: TypeScript code showing how to use the remoteObjectToString utility to convert remote object references to string representations when evaluating expressions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { remoteObjectToString } from \"bun-inspector-protocol\";\n\nconst result = await inspector.send(\"Runtime.evaluate\", {\n  expression: \"{ a: 1, b: { c: 'hello' } }\",\n});\n\nconsole.log(remoteObjectToString(result.result, true));\n// Output: {a: 1, b: {c: \"hello\"}}\n```\n\n----------------------------------------\n\nTITLE: Reading stdin lines using console as AsyncIterable in TypeScript\nDESCRIPTION: Demonstrates how to use the console object as an AsyncIterable to sequentially read lines from process.stdin in Bun. This allows for easy implementation of interactive command-line programs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/console.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nfor await (const line of console) {\n  console.log(line);\n}\n```\n\n----------------------------------------\n\nTITLE: TOML Import Example\nDESCRIPTION: Example of importing a TOML file in a bundle, which will be parsed and included as a JavaScript object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport config from \"./bunfig.toml\";\nconfig.logLevel; // => \"debug\"\n```\n\n----------------------------------------\n\nTITLE: Running Development Server\nDESCRIPTION: Command to start the development server which runs the app in development mode, accessible at http://localhost:5173.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/third_party/pnpm/install_fixture/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Installing a newer Linux kernel for Ubuntu 20.04\nDESCRIPTION: Commands to check the current kernel version and install the Ubuntu hardware enablement kernel for better compatibility with Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# If this returns a version >= 5.6, you don't need to do anything\nuname -r\n\n# Install the official Ubuntu hardware enablement kernel\nsudo apt install --install-recommends linux-generic-hwe-20.04\n```\n\n----------------------------------------\n\nTITLE: Accessing ArrayBuffer from Uint8Array Instance in TypeScript\nDESCRIPTION: Demonstrates how to create a Uint8Array and access its underlying ArrayBuffer using the buffer property. No external dependencies are required. The arr variable initializes a 64-byte array, and arr.buffer returns the backing ArrayBuffer instance of equal byte length. This pattern is essential for operations requiring conversion or data transfer involving raw binary buffers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-arraybuffer.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr = new Uint8Array(64);\narr.buffer; // => ArrayBuffer(64)\n```\n\n----------------------------------------\n\nTITLE: Example entitlements.plist for macOS JIT Permissions (XML)\nDESCRIPTION: This XML snippet provides an example `entitlements.plist` file for macOS. It includes keys necessary to grant JIT (Just-In-Time compilation) permissions to a code-signed executable, which might be required for certain Node.js compatibility features or dynamic code execution within Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_9\n\nLANGUAGE: xml\nCODE:\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">\n<plist version=\"1.0\">\n<dict>\n    <key>com.apple.security.cs.allow-jit</key>\n    <true/>\n    <key>com.apple.security.cs.allow-unsigned-executable-memory</key>\n    <true/>\n    <key>com.apple.security.cs.disable-executable-page-protection</key>\n    <true/>\n    <key>com.apple.security.cs.allow-dyld-environment-variables</key>\n    <true/>\n    <key>com.apple.security.cs.disable-library-validation</key>\n    <true/>\n</dict>\n</plist>\n```\n\n----------------------------------------\n\nTITLE: Install Bun using Homebrew\nDESCRIPTION: This command installs Bun using Homebrew on macOS.  It first taps the `oven-sh/bun` repository and then installs the `bun` package.  Homebrew must be installed before running these commands.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ brew tap oven-sh/bun\n$ brew install bun\n```\n\n----------------------------------------\n\nTITLE: Alternative Ways to Access Environment Variables in Bun\nDESCRIPTION: Shows Bun-specific alternatives to process.env for accessing environment variables via Bun.env and import.meta.env.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_14\n\nLANGUAGE: ts\nCODE:\n```\nBun.env.API_TOKEN; // => \"secret\"\nimport.meta.env.API_TOKEN; // => \"secret\"\n```\n\n----------------------------------------\n\nTITLE: Configuring DNS Cache TTL with Environment Variables\nDESCRIPTION: Shows how to configure the Time-To-Live (TTL) for DNS cache entries using the BUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS environment variable. The default TTL is 30 seconds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/dns.md#2025-04-22_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\nBUN_CONFIG_DNS_TIME_TO_LIVE_SECONDS=5 bun run my-script.ts\n```\n\n----------------------------------------\n\nTITLE: Install Bun Dependencies on Ubuntu/Debian\nDESCRIPTION: This command installs the required dependencies for building Bun on Ubuntu or Debian systems using apt. It includes compilers, build tools, and other necessary libraries.  The command uses `sudo` for root privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo apt install curl wget lsb-release software-properties-common cargo ccache cmake git golang libtool ninja-build pkg-config rustc ruby-full xz-utils\n```\n\n----------------------------------------\n\nTITLE: Decoding Base64-encoded Password in Browser Console for Azure Artifacts\nDESCRIPTION: This JavaScript snippet can be used in a browser console to decode a base64-encoded password, which may be necessary when transitioning from npm to Bun with Azure Artifacts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/azure-artifacts.md#2025-04-22_snippet_3\n\nLANGUAGE: js\nCODE:\n```\natob(\"<base64-encoded password>\");\n```\n\n----------------------------------------\n\nTITLE: Benchmarking String Width Performance - Bun - JavaScript\nDESCRIPTION: This benchmark output compares the execution time for Bun.stringWidth processing a 500-character ASCII string versus the npm string-width implementation. It shows dramatic speed improvements using Bun. Inputs refer to strings passed within the benchmark script; outputs are performance statistics. The code presumes an installed benchmarking setup and relevant CPU/runtime environment.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_10\n\nLANGUAGE: JavaScript\nCODE:\n```\n❯ bun string-width.mjs\ncpu: 13th Gen Intel(R) Core(TM) i9-13900\nruntime: bun 1.0.29 (x64-linux)\n\nbenchmark                                          time (avg)             (min … max)       p75       p99      p995\n------------------------------------------------------------------------------------- -----------------------------\nBun.stringWidth     500 chars ascii              37.09 ns/iter   (36.77 ns … 41.11 ns)  37.07 ns  38.84 ns  38.99 ns\n\n❯ node string-width.mjs\n\nbenchmark                                          time (avg)             (min … max)       p75       p99      p995\n------------------------------------------------------------------------------------- -----------------------------\nnpm/string-width    500 chars ascii             249,710 ns/iter (239,970 ns … 293,180 ns) 250,930 ns  276,700 ns 281,450 ns\n```\n\n----------------------------------------\n\nTITLE: Printing a Yarn-compatible lockfile to the console\nDESCRIPTION: Runs the Bun lockfile (bun.lockb) through Bun to output its contents in Yarn-compatible format to the console without writing to disk.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/yarnlock.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun bun.lockb\n# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.\n# yarn lockfile v1\n# bun ./bun.lockb --hash: 9BFBF11D86084AAB-9418b03ff880c569-390CE6459EACEC9A...\n\nabab@^2.0.6:\n  version \"2.0.6\"\n  resolved \"https://registry.npmjs.org/abab/-/abab-2.0.6.tgz\"\n  integrity sha512-j2afSsaIENvHZN2B8GOpF566vZ5WVk5opAiMTvWgaQT8DkbOqsTfvNAvH...\n```\n\n----------------------------------------\n\nTITLE: Inefficient Socket Writing Pattern\nDESCRIPTION: Demonstrates a suboptimal pattern for writing data to a socket, where each character is sent in separate write operations, causing performance degradation due to lack of built-in buffering.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nsocket.write(\"h\");\nsocket.write(\"e\");\nsocket.write(\"l\");\nsocket.write(\"l\");\nsocket.write(\"o\");\n```\n\n----------------------------------------\n\nTITLE: Cross-platform Environment Variable Setting with Bun Shell\nDESCRIPTION: A cross-platform approach to setting environment variables using bun shell, which works consistently across operating systems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun exec 'FOO=helloworld bun run dev'\n```\n\n----------------------------------------\n\nTITLE: Configuring CA Certificates in Bun\nDESCRIPTION: Configuration options for specifying CA certificates either as a string or file path in the install section of bunfig.toml.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_29\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# The CA certificate as a string\nca = \"-----BEGIN CERTIFICATE-----\\n...\\n-----END CERTIFICATE-----\"\n\n# A path to a CA certificate file. The file can contain multiple certificates.\ncafile = \"path/to/cafile\"\n```\n\n----------------------------------------\n\nTITLE: Running Bun Project\nDESCRIPTION: Command to execute the project using Bun runtime with a configurable entry point\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/cli/init/README.default.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun run {[entryPoint]s}\n```\n\n----------------------------------------\n\nTITLE: Building and Publishing Bun Lambda Layer with Custom Options\nDESCRIPTION: Examples of using the build-layer and publish-layer scripts with custom options for architecture, release version, output path, and AWS region.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-lambda/README.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nbun run build-layer -- \\\n  --arch x64 \\\n  --release canary \\\n  --output /path/to/layer.zip\n```\n\nLANGUAGE: sh\nCODE:\n```\nbun run publish-layer -- \\\n  --arch aarch64 \\\n  --release latest \\\n  --output /path/to/layer.zip \\\n  --region us-east-1\n```\n\n----------------------------------------\n\nTITLE: Inserting Sample Author Data into Neon Postgres (TypeScript)\nDESCRIPTION: Implements a seeding script in TypeScript that batch-inserts multiple author records using Drizzle's insert API. Relies on an existing authors table schema and a configured db export. Handles execution flow, error handling, and confirmation logging; on failure, process exits with non-zero status.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_10\n\nLANGUAGE: ts\nCODE:\n```\nimport { db } from \"./db\";\\nimport * as schema from \"./schema\";\\n\\nasync function seed() {\\n  await db.insert(schema.authors).values([\\n    {\\n      name: \"J.R.R. Tolkien\",\\n      bio: \"The creator of Middle-earth and author of The Lord of the Rings.\",\\n    },\\n    {\\n      name: \"George R.R. Martin\",\\n      bio: \"The author of the epic fantasy series A Song of Ice and Fire.\",\\n    },\\n    {\\n      name: \"J.K. Rowling\",\\n      bio: \"The creator of the Harry Potter series.\",\\n    },\\n  ]);\\n}\\n\\nasync function main() {\\n  try {\\n    await seed();\\n    console.log(\"Seeding completed\");\\n  } catch (error) {\\n    console.error(\"Error during seeding:\", error);\\n    process.exit(1);\\n  }\\n}\\n\\nmain();\n```\n\n----------------------------------------\n\nTITLE: Enabling a Bun Service for Automatic Startup\nDESCRIPTION: Command to enable the systemd service so it starts automatically on system boot.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo systemctl enable my-app\n```\n\n----------------------------------------\n\nTITLE: JSX Output with Custom Import Source - React JSX Dev\nDESCRIPTION: Transpiled output when using a custom import source with react-jsxdev, showing how the jsxDEV function is imported from the specified package's jsx-dev-runtime module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_19\n\nLANGUAGE: tsx\nCODE:\n```\n// /jsx-runtime is automatically appended\nimport { jsxDEV } from \"preact/jsx-dev-runtime\";\njsxDEV(\n  \"Box\",\n  { width: 5, children: \"Hello\" },\n  undefined,\n  false,\n  undefined,\n  this,\n);\n```\n\n----------------------------------------\n\nTITLE: Handling SIGINT Signal in Bun\nDESCRIPTION: Shows how to listen for the SIGINT (interrupt) signal using process.on(). This is commonly triggered when a user presses Ctrl+C in the terminal.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/os-signals.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.on(\"SIGINT\", () => {\n  console.log(\"Received SIGINT\");\n});\n```\n\n----------------------------------------\n\nTITLE: Styling Example Domain Page with CSS\nDESCRIPTION: This CSS snippet defines the styling for the example domain page, including background colors, font styles, layout, and responsive design for smaller screens.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/io/fetch.js.txt#2025-04-22_snippet_1\n\nLANGUAGE: CSS\nCODE:\n```\nbody {\n    background-color: #f0f0f2;\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    \n}\ndiv {\n    width: 600px;\n    margin: 5em auto;\n    padding: 2em;\n    background-color: #fdfdff;\n    border-radius: 0.5em;\n    box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);\n}\na:link, a:visited {\n    color: #38488f;\n    text-decoration: none;\n}\n@media (max-width: 700px) {\n    div {\n        margin: 0 auto;\n        width: auto;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Example TypeScript code for environment check\nDESCRIPTION: This TypeScript snippet demonstrates a conditional statement that checks the NODE_ENV value, which will be optimized by Bun's --define flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nif (process.env.NODE_ENV === \"production\") {\n  console.log(\"Production mode\");\n} else {\n  console.log(\"Development mode\");\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests with Todo Items (Shell)\nDESCRIPTION: This snippet demonstrates the output of running bun test when there are todo tests. It shows how todo tests are counted separately from passed and failed tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/todo-tests.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test\n\ntest.test.ts:\n✓ add [0.03ms]\n✓ multiply [0.02ms]\n✎ unimplemented feature\n\n 2 pass\n 1 todo\n 0 fail\n 2 expect() calls\nRan 3 tests across 1 files. [74.00ms]\n```\n\n----------------------------------------\n\nTITLE: Creating a Simple Counter Svelte Component\nDESCRIPTION: A basic Svelte component that implements a counter with an increment button. It accepts an initialCount prop and maintains its own state.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<script>\n  export let initialCount = 0;\n  let count = initialCount;\n</script>\n\n<button on:click={() => (count += 1)}>+1</button>\n```\n\n----------------------------------------\n\nTITLE: Adding packages with Bun\nDESCRIPTION: Commands to add packages using Bun, including specifying versions, adding dev dependencies, optional dependencies, peer dependencies, and global installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add preact\n$ bun add zod@3.20.0\n$ bun add zod@^3.0.0\n$ bun add zod@latest\n$ bun add --dev @types/react\n$ bun add -d @types/react\n$ bun add --optional lodash\n$ bun add --peer @types/bun\n$ bun add --global cowsay # or `bun add -g cowsay`\n$ cowsay \"Bun!\"\n```\n\n----------------------------------------\n\nTITLE: Adding Trusted Dependencies to package.json\nDESCRIPTION: This snippet shows how to modify the package.json file to include a trustedDependencies array, which allows Bun to execute lifecycle scripts for specific packages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/trusted.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"version\": \"1.0.0\",\n+   \"trustedDependencies\": [\"my-trusted-package\"]\n  }\n```\n\n----------------------------------------\n\nTITLE: Using import.meta properties in Bun\nDESCRIPTION: Examples of various import.meta properties implemented in Bun, including directory and file information, main module detection, and module resolution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/import-meta.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.dir;   // => \"/path/to/project\"\nimport.meta.file;  // => \"file.ts\"\nimport.meta.path;  // => \"/path/to/project/file.ts\"\nimport.meta.url;   // => \"file:///path/to/project/file.ts\"\n\nimport.meta.main;  // `true` if this file is directly executed by `bun run`\n                   // `false` otherwise\n\nimport.meta.resolve(\"zod\"); // => \"file:///path/to/project/node_modules/zod/index.js\"\n```\n\n----------------------------------------\n\nTITLE: Registering YAML Plugin for Runtime Use\nDESCRIPTION: TypeScript code to register the YAML plugin for runtime use in a separate file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\n// yaml.ts\nimport yamlPlugin from \"bun-plugin-yaml\";\n\nBun.plugin(yamlPlugin());\n```\n\n----------------------------------------\n\nTITLE: Running a Nuxt Development Server with Bun Runtime\nDESCRIPTION: This demonstrates how to start the Nuxt development server using Bun as the runtime. The --bun flag forces the server to use Bun instead of the default Node.js runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nuxt.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ cd my-nuxt-app\n$ bun --bun run dev\n $ nuxt dev\nNuxi 3.6.5\nNuxt 3.6.5 with Nitro 2.5.2\n  > Local:    http://localhost:3000/\n  > Network:  http://192.168.0.21:3000/\n  > Network:  http://[fd8a:d31d:481c:4883:1c64:3d90:9f83:d8a2]:3000/\n\n✔ Nuxt DevTools is enabled v0.8.0 (experimental)\nℹ Vite client warmed up in 547ms\n✔ Nitro built in 244 ms\n```\n\n----------------------------------------\n\nTITLE: Custom HTML Style Function Implementation\nDESCRIPTION: Implementation of a custom stylize function that converts inspection output to HTML with color styling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/js/internal/util/README.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nfunction stylizeWithHTML(str, styleType) {\n  const style = inspect.styles[styleType];\n  if (style !== undefined) {\n    return `<span style=\"color:${style};\">${str}</span>`;\n  }\n  return str;\n}\n```\n\n----------------------------------------\n\nTITLE: Complex onStart Example with Multiple Plugins\nDESCRIPTION: Advanced example showing multiple plugins using onStart with async operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"./app.ts\"],\n  outdir: \"./dist\",\n  sourcemap: \"external\",\n  plugins: [\n    {\n      name: \"Sleep for 10 seconds\",\n      setup(build) {\n        build.onStart(async () => {\n          await Bunlog.sleep(10_000);\n        });\n      },\n    },\n    {\n      name: \"Log bundle time to a file\",\n      setup(build) {\n        build.onStart(async () => {\n          const now = Date.now();\n          await Bun.$`echo ${now} > bundle-time.txt`;\n        });\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Command Line Argument Processing and Compression Logic in C\nDESCRIPTION: Processes command line arguments for compression settings and executes either compression or decompression based on flags. Handles both file-based and stream-based operations with support for different output modes and binary file handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_9\n\nLANGUAGE: C\nCODE:\n```\n    while (argc > 0) {\n      if (strcmp(*argv, \"-c\") == 0)\n        copyout = 1;\n      else if (strcmp(*argv, \"-d\") == 0)\n        uncompr = 1;\n      else if (strcmp(*argv, \"-f\") == 0)\n        outmode[3] = 'f';\n      else if (strcmp(*argv, \"-h\") == 0)\n        outmode[3] = 'h';\n      else if (strcmp(*argv, \"-r\") == 0)\n        outmode[3] = 'R';\n      else if ((*argv)[0] == '-' && (*argv)[1] >= '1' && (*argv)[1] <= '9' &&\n               (*argv)[2] == 0)\n        outmode[2] = (*argv)[1];\n      else\n        break;\n      argc--, argv++;\n    }\n    if (outmode[3] == ' ')\n        outmode[3] = 0;\n    if (argc == 0) {\n        SET_BINARY_MODE(stdin);\n        SET_BINARY_MODE(stdout);\n        if (uncompr) {\n            file = gzdopen(fileno(stdin), \"rb\");\n            if (file == NULL) error(\"can't gzdopen stdin\");\n            gz_uncompress(file, stdout);\n        } else {\n            file = gzdopen(fileno(stdout), outmode);\n            if (file == NULL) error(\"can't gzdopen stdout\");\n            gz_compress(stdin, file);\n        }\n    } else {\n        if (copyout) {\n            SET_BINARY_MODE(stdout);\n        }\n        do {\n            if (uncompr) {\n                if (copyout) {\n                    file = gzopen(*argv, \"rb\");\n                    if (file == NULL)\n                        fprintf(stderr, \"%s: can't gzopen %s\\n\", prog, *argv);\n                    else\n                        gz_uncompress(file, stdout);\n                } else {\n                    file_uncompress(*argv);\n                }\n            } else {\n                if (copyout) {\n                    FILE * in = fopen(*argv, \"rb\");\n\n                    if (in == NULL) {\n                        perror(*argv);\n                    } else {\n                        file = gzdopen(fileno(stdout), outmode);\n                        if (file == NULL) error(\"can't gzdopen stdout\");\n\n                        gz_compress(in, file);\n                    }\n\n                } else {\n                    file_compress(*argv, outmode);\n                }\n            }\n        } while (argv++, --argc);\n    }\n    return 0;\n}\n```\n\n----------------------------------------\n\nTITLE: Running Next.js CSS HMR Frame Analysis\nDESCRIPTION: Shell command to execute a Node.js script that measures CSS Hot Module Replacement frame timing metrics. Uses environment variables SLEEP_INTERVAL and PROJECT to configure the analysis.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/next.latest.16ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nSLEEP_INTERVAL=16 PROJECT=next node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Executing a Specific Bun Test File using Bash\nDESCRIPTION: Illustrates how to run a single, specific test file using `bun test` by providing its exact path. The path must start with `./` or `/` to distinguish it from a general filter name.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test ./test/specific-file.test.ts\n```\n\n----------------------------------------\n\nTITLE: Test Structure with Nested Describe Blocks\nDESCRIPTION: Example of a test structure with nested describe blocks that demonstrates how test names are concatenated for matching with --test-name-pattern.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_4\n\nLANGUAGE: js\nCODE:\n```\ndescribe(\"Math\", () => {\n  describe(\"operations\", () => {\n    test(\"should add correctly\", () => {\n      // ...\n    });\n  });\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing a Qwik Application with Bun\nDESCRIPTION: This command initializes a new Qwik application using Bun's create command. The interactive prompt guides you through project creation, including project location, starter template selection, and dependency installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/qwik.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create qwik\n\n      ............\n    .::: :--------:.\n   .::::  .:-------:.\n  .:::::.   .:-------.\n  ::::::.     .:------.\n ::::::.        :-----:\n ::::::.       .:-----.\n  :::::::.     .-----.\n   ::::::::..   ---:.\n    .:::::::::. :-:.\n     .:::::::::::::\n             ...::::\n\n\n┌  Let's create a  Qwik App  ✨ (v1.2.10)\n│\n◇  Where would you like to create your new project? (Use '.' or './' for current directory)\n│  ./my-app\n│\n●  Creating new project in  /path/to/my-app  ... 🐇\n│\n◇  Select a starter\n│  Basic App\n│\n◇  Would you like to install bun dependencies?\n│  Yes\n│\n◇  Initialize a new git repository?\n│  No\n│\n◇  Finishing the install. Wanna hear a joke?\n│  Yes\n│\n○  ────────────────────────────────────────────────────────╮\n│                                                          │\n│  How do you know if there's an elephant under your bed?  │\n│  Your head hits the ceiling!                             │\n│                                                          │\n├──────────────────────────────────────────────────────────╯\n│\n◇  App Created 🐰\n│\n◇  Installed bun dependencies 📋\n│\n○  Result ─────────────────────────────────────────────╮\n│                                                      │\n│  Success!  Project created in my-app directory       │\n│                                                      │\n│  Integrations? Add Netlify, Cloudflare, Tailwind...  │\n│  bun qwik add                                        │\n│                                                      │\n│  Relevant docs:                                      │\n│  https://qwik.builder.io/docs/getting-started/       │\n│                                                      │\n│  Questions? Start the conversation at:               │\n│  https://qwik.builder.io/chat                        │\n│  https://twitter.com/QwikDev                         │\n│                                                      │\n│  Presentations, Podcasts and Videos:                 │\n│  https://qwik.builder.io/media/                      │\n│                                                      │\n│  Next steps:                                         │\n│  cd my-app                                           │\n│  bun start                                           │\n│                                                      │\n│                                                      │\n├──────────────────────────────────────────────────────╯\n│\n└  Happy coding! 🎉\n```\n\n----------------------------------------\n\nTITLE: Building with Code Splitting Enabled - Bun JavaScript API - JavaScript\nDESCRIPTION: Bundling multiple entrypoints with code splitting enabled using Bun.build. When 'splitting' is set to true and multiple entry files are specified, Bun will generate shared chunks for duplicated imports. Requires source TypeScript files and Bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_30\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./entry-a.ts', './entry-b.ts'],\n  outdir: './out',\n  splitting: true,\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring Lockfile Format in Bun Install\nDESCRIPTION: Controls whether a text-based bun.lock file is generated instead of a binary bun.lockb file. Default is true since Bun v1.2.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_21\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nsaveTextLockfile = false\n```\n\n----------------------------------------\n\nTITLE: Running Tests with Skipped Test in Bun Test Runner (Shell)\nDESCRIPTION: This example shows the terminal output when running bun test with a skipped test. The skipped test is marked with a » symbol in the output, and the summary shows the count of passed, skipped, and failed tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/skip-tests.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test\n\ntest.test.ts:\n✓ add [0.03ms]\n✓ multiply [0.02ms]\n» unimplemented feature\n\n 2 pass\n 1 skip\n 0 fail\n 2 expect() calls\nRan 3 tests across 1 files. [74.00ms]\n```\n\n----------------------------------------\n\nTITLE: Creating Basic HTTP Server with StricJS Router\nDESCRIPTION: Implementation of a simple HTTP server with a single route that responds with 'Hi'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/stric.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Router } from '@stricjs/router';\n\nexport default new Router()\n  .get('/', () => new Response('Hi'));\n```\n\n----------------------------------------\n\nTITLE: JUnit XML Reporter Command Usage\nDESCRIPTION: Command to generate a JUnit XML report while running tests with Bun, specifying the output file location.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/reporters.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --reporter=junit --reporter-outfile=./junit.xml\n```\n\n----------------------------------------\n\nTITLE: Compiling Bun C++ Objects\nDESCRIPTION: Builds the C++ object files archive (bun-cpp-objects.a). WebKit will be automatically downloaded from GitHub releases if WEBKIT_DIR is not specified.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/internals/build-process-for-ci.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\ncd tmp2\n\ncmake $BUN_REPO \\\n  -G Ninja \\\n  -DCMAKE_BUILD_TYPE=Release \\\n  -DBUN_CPP_ONLY=1 \\\n\nbash compile-cpp-only.sh\n# -> bun-cpp-objects.a\n```\n\n----------------------------------------\n\nTITLE: Basic Bundling Command Comparison\nDESCRIPTION: Shows the basic bundling commands for both esbuild and Bun. Demonstrates how Bun eliminates the need for the --bundle flag since it bundles by default.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ esbuild <entrypoint> --outdir=out --bundle\n$ bun build <entrypoint> --outdir=out\n```\n\n----------------------------------------\n\nTITLE: JavaScript Iterator Examples\nDESCRIPTION: Examples of Set and Map iterators with various value types\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/console/console-log.expected.txt#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nSetIterator { \n  1,\n  \"123\",\n  {\n    a: [],\n    str: \"123123132\",\n    nr: 3453,\n  },\n}\nMapIterator { \n  \"key\",\n  \"key_2\",\n}\n```\n\n----------------------------------------\n\nTITLE: Cross-Platform Compilation Commands\nDESCRIPTION: Commands for cross-compiling Bun applications to different platforms and architectures.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/executables.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun build --compile --target=bun-linux-x64 ./index.ts --outfile myapp\n\n# To support CPUs from before 2013, use the baseline version (nehalem)\nbun build --compile --target=bun-linux-x64-baseline ./index.ts --outfile myapp\n\n# To explicitly only support CPUs from 2013 and later, use the modern version (haswell)\n# modern is faster, but baseline is more compatible.\nbun build --compile --target=bun-linux-x64-modern ./index.ts --outfile myapp\n```\n\n----------------------------------------\n\nTITLE: Setting Coverage Thresholds in Bun Tests\nDESCRIPTION: Configures minimum code coverage requirements. Tests will fail if coverage falls below these thresholds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_11\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n\n# to require 90% line-level and function-level coverage\ncoverageThreshold = 0.9\n```\n\n----------------------------------------\n\nTITLE: Using require() with Various File Types\nDESCRIPTION: Demonstrates how Bun's require() function works with different file types, including TypeScript and ES modules.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\nconst { foo } = require(\"./foo\"); // extensions are optional\nconst { bar } = require(\"./bar.mjs\");\nconst { baz } = require(\"./baz.tsx\");\n```\n\n----------------------------------------\n\nTITLE: Opening SQLite Database in Read-only Mode\nDESCRIPTION: This code snippet shows how to open an existing SQLite database in read-only mode using Bun's SQLite driver. It's useful for scenarios where you want to prevent modifications to the database.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\nconst db = new Database(\"mydb.sqlite\", { readonly: true });\n```\n\n----------------------------------------\n\nTITLE: Creating GitHub Site Search Form with Jump-To Functionality\nDESCRIPTION: This HTML form implements the site search functionality within the GitHub header. It includes an input field for the search query, hidden fields for CSRF protection and search type, and various data attributes (like `data-scoped-search-url`, `data-unscoped-search-url`, `data-jump-to-suggestions-path`) likely used by JavaScript to handle scoped/unscoped search and fetch jump-to suggestions. The form uses specific JS-hook classes (`js-site-search-form`, `js-jump-to-field`, etc.) indicating JavaScript interaction.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<form class=\"js-site-search-form\" role=\"search\" aria-label=\"Site\" data-scope-type=\"Repository\" data-scope-id=\"160065385\" data-scoped-search-url=\"/botika/v_escape/search\" data-unscoped-search-url=\"/search\" action=\"/botika/v_escape/search\" accept-charset=\"UTF-8\" method=\"get\">\n      <label class=\"form-control input-sm header-search-wrapper p-0 header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center js-chromeless-input-container\">\n        <input type=\"text\"\n          class=\"form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable\"\n          data-hotkey=\"s,/\"\n          name=\"q\"\n          value=\"\"\n          placeholder=\"Search\"\n          data-unscoped-placeholder=\"Search GitHub\"\n          data-scoped-placeholder=\"Search\"\n          autocapitalize=\"off\"\n          aria-autocomplete=\"list\"\n          aria-controls=\"jump-to-results\"\n          aria-label=\"Search\"\n          data-jump-to-suggestions-path=\"/_graphql/GetSuggestedNavigationDestinations\"\n          spellcheck=\"false\"\n          autocomplete=\"off\"\n          >\n          <input type=\"hidden\" data-csrf=\"true\" class=\"js-data-jump-to-suggestions-path-csrf\" value=\"vKvP+D+4NCzX873rdBPQncGQKRIiBOU93ZQS3ExTZoHR0yCFhfS+l0IREjyzakp+ttbODprvr/e20THRVRrY7w==\" />\n          <input type=\"hidden\" class=\"js-site-search-type-field\" name=\"type\" >\n            <img src=\"https://github.githubassets.com/images/search-key-slash.svg\" alt=\"\" class=\"mr-2 header-search-key-slash\">\n\n            <div class=\"Box position-absolute overflow-hidden d-none jump-to-suggestions js-jump-to-suggestions-container\">\n              \n<ul class=\"d-none js-jump-to-suggestions-template-container\">\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-suggestion\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none\" title=\"Repository\" aria-label=\"Repository\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path></svg>\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none\" title=\"Project\" aria-label=\"Project\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path></svg>\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none\" title=\"Search\" aria-label=\"Search\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path></svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this repository\">\n        In this repository\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n\n</ul>\n\n<ul class=\"d-none js-jump-to-no-results-template-container\">\n  <li class=\"d-flex flex-justify-center flex-items-center f5 d-none js-jump-to-suggestion p-2\">\n    <span class=\"text-gray\">No suggested jump to results</span>\n  </li>\n</ul>\n\n<ul id=\"jump-to-results\" role=\"listbox\" class=\"p-0 m-0 js-navigation-container jump-to-suggestions-results-container js-jump-to-suggestions-results-container\">\n  \n\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-scoped-search d-none\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none\" title=\"Repository\" aria-label=\"Repository\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path></svg>\n\n```\n\n----------------------------------------\n\nTITLE: Setting Per-Test Timeout for Bun Tests using Bash\nDESCRIPTION: Demonstrates the usage of the `--timeout` flag to set a maximum execution time in milliseconds for each individual test. If a test exceeds this duration (default is 5000ms), it will be marked as failed. The example sets the timeout to 20ms.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# default value is 5000\n$ bun test --timeout 20\n```\n\n----------------------------------------\n\nTITLE: Installing Testing Library Dependencies\nDESCRIPTION: Commands to install Testing Library packages for React, DOM, and Jest-DOM matchers as dev dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nbun add -D @testing-library/react @testing-library/dom @testing-library/jest-dom\n```\n\n----------------------------------------\n\nTITLE: Using Symlink Backend with Node.js\nDESCRIPTION: Command-line example showing how to install packages with Bun's symlink backend and run Node.js with preserve-symlinks flag to properly resolve node_modules of dependencies when using symlinks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/cache.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --backend symlink\n$ node --preserve-symlinks ./foo.js\n```\n\n----------------------------------------\n\nTITLE: Setting up Prettier Configuration for Bun Project\nDESCRIPTION: This snippet configures Prettier for the Bun project. It sets various formatting options including tab width, quote style, and specific file overrides.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/fs/writeFileSync.txt#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"tabWidth\": 2,\n  \"useTabs\": false,\n  \"singleQuote\": false,\n  \"trailingComma\": \"es5\",\n  \"semi\": true,\n  \"overrides\": [\n    {\n      \"files\": \"*.md\",\n      \"options\": {\n        \"embeddedLanguageFormatting\": \"off\"\n      }\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Set LLVM 19 Path on macOS (Homebrew)\nDESCRIPTION: This command sets the PATH environment variable to include the directory containing Clang 19 installed by Homebrew. This ensures that Clang 19 is used by Bun's build process.  It works for bash. Fish and zsh require slightly different syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\n$ export PATH=\"$(brew --prefix llvm@19)/bin:$PATH\"\n```\n\n----------------------------------------\n\nTITLE: Setting Numeric Configuration Value\nDESCRIPTION: A simple numeric value setting of 0, likely representing a configuration flag, counter, or initialization value.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/snippets/reload/timestamp.txt#2025-04-22_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n0\n```\n\n----------------------------------------\n\nTITLE: Skipping Tests with test.skip in Bun Test Runner (TypeScript)\nDESCRIPTION: This snippet demonstrates how to use the test.skip function to mark a test as skipped in the Bun test runner. The test will not be executed when running the test suite.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/skip-tests.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test } from \"bun:test\";\n\ntest.skip(\"unimplemented feature\", () => {\n  expect(Bun.isAwesome()).toBe(true);\n});\n```\n\n----------------------------------------\n\nTITLE: Defining SVG Repository Icon for Search Suggestions\nDESCRIPTION: This SVG snippet defines the standard GitHub repository icon. It is embedded within the search suggestions template (`js-jump-to-suggestions-template-container`) and also within the scoped search results list (`js-jump-to-scoped-search`), intended to visually represent repository results in the jump-to dropdown. It uses a path element with `fill-rule=\"evenodd\"`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_4\n\nLANGUAGE: svg\nCODE:\n```\n<svg height=\"16\" width=\"16\" class=\"octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none\" title=\"Repository\" aria-label=\"Repository\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Variadic Command Line Options in JavaScript\nDESCRIPTION: Shows implementation of variadic options that can accept multiple values, with different ways to specify and parse multiple arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-n, --number <numbers...>', 'specify numbers')\n  .option('-l, --letter [letters...]', 'specify letters');\n\nprogram.parse();\n\nconsole.log('Options: ', program.opts());\nconsole.log('Remaining arguments: ', program.args);\n```\n\n----------------------------------------\n\nTITLE: Using getTestCases from process-exit-code-test-cases module\nDESCRIPTION: Retrieves test cases for testing process exit codes. Takes a boolean parameter to adjust test cases for worker threads and returns an array of test case objects with functions, expected exit codes, and error patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_16\n\nLANGUAGE: JavaScript\nCODE:\n```\ngetTestCases(isWorker)\n```\n\n----------------------------------------\n\nTITLE: Syntax-Highlighted Error Output Example\nDESCRIPTION: Shows the output format of Bun's syntax-highlighted error preview, which includes the source code with a pointer to the error location, the error message, and the stack trace.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_4\n\nLANGUAGE: js\nCODE:\n```\n1 | // Create an error\n2 | const err = new Error(\"Something went wrong\");\n                ^\nerror: Something went wrong\n      at file.js:2:13\n```\n\n----------------------------------------\n\nTITLE: Loading GitHub Repository-Specific Bootstrap Scripts\nDESCRIPTION: HTML script tags that load the main repository-specific JavaScript functionality for GitHub. These scripts provide core functionality for the repository page and general GitHub interface features.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_23\n\nLANGUAGE: HTML\nCODE:\n```\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-p3q8Em7BEbMxbnKAdDPxkwfjFMVoK6dlp3wfacnA+tE5miXMdKF3+t8Rq+5IRbscjHfTuoqR/QHafo683zgUUg==\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/repositories-bootstrap-a77abc12.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-g7kJtGog/arl2FcMYjpQ96dSinG2snUOeV6psKXQQQQPZ8x/0VPpEUb4GvR89O7uQOy1yhYVXBA6lEvLzOSlb5A==\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/github-bootstrap-83b909b4.js\"></script>\n```\n\n----------------------------------------\n\nTITLE: Setting System Time in bun:test\nDESCRIPTION: Demonstrates how to change the system time for tests using setSystemTime from bun:test. This affects all Date operations within the test scope.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { setSystemTime, beforeAll, test, expect } from \"bun:test\";\n\nbeforeAll(() => {\n  setSystemTime(new Date(\"2020-01-01T00:00:00.000Z\"));\n});\n\ntest(\"it is 2020\", () => {\n  expect(new Date().getFullYear()).toBe(2020);\n});\n```\n\n----------------------------------------\n\nTITLE: Creating Mock Functions in Bun Tests using TypeScript\nDESCRIPTION: Provides a TypeScript code snippet demonstrating how to create a mock function using `mock` from the `bun:test` module. The example mocks `Math.random` and includes assertions using `expect` to check if the mock was called and how many times. Mocks created this way are automatically reset between tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nimport { test, expect, mock } from \"bun:test\";\nconst random = mock(() => Math.random());\n\ntest(\"random\", () => {\n  const val = random();\n  expect(val).toBeGreaterThan(0);\n  expect(random).toHaveBeenCalled();\n  expect(random).toHaveBeenCalledTimes(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Reading Directories with node:fs\nDESCRIPTION: Example of reading directory contents using Node.js fs module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nimport { readdir } from \"node:fs/promises\";\n\n// read all the files in the current directory\nconst files = await readdir(import.meta.dir);\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Extension Settings in settings.json for Visual Studio Code\nDESCRIPTION: This snippet demonstrates how to configure the settings.json file to customize the behavior of the Bun extension in Visual Studio Code. It includes settings for the Bun runtime path, debug terminal options, and test file patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-vscode/README.md#2025-04-22_snippet_1\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"bun.runtime\": \"/path/to/bun\",\n  \"bun.debugTerminal.enabled\": true,\n  \"bun.debugTerminal.stopOnEntry\": false,\n  \"bun.test.filePattern\": \"**/*{.test.,.spec.,_test_,_spec_}{js,ts,tsx,jsx,mts,cts}\"\n}\n```\n\n----------------------------------------\n\nTITLE: Basic JavaScript Data Types\nDESCRIPTION: Examples of primitive data types including numbers, strings, booleans, null, undefined and symbols\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/console/console-log.expected.txt#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n{\n  a: \"\",\n}\nHello World!\n0\n-0\n123\n-123\n123.567\n-123.567\ntrue\nfalse\nnull\nundefined\nInfinity\n-Infinity\nSymbol(Symbol Description)\n```\n\n----------------------------------------\n\nTITLE: Compiled Output for color-mix() Usage - Bun Bundler CSS\nDESCRIPTION: Shows static colors generated by Bun's bundler for color-mix() expressions. Inputs must use static values (not CSS variables) to guarantee build-time computation. Output: hex and expanded selectors for .button and hover states. Ensures compatibility and consistent appearance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_5\n\nLANGUAGE: css\nCODE:\n```\n.button {\\n  /* Computed to the exact resulting color */\\n  background-color: #b31a1a;\\n}\\n\\n.button:hover {\\n  background-color: #c54747;\\n}\n```\n\n----------------------------------------\n\nTITLE: Rebuild JavaScriptCore (JSC)\nDESCRIPTION: After an initial `make jsc-debug`, this command rebuilds JavaScriptCore more efficiently. This command uses `cmake` to build the `jsc` target. The build artifacts will be placed in `./vendor/WebKit/WebKitBuild/Debug`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_26\n\nLANGUAGE: bash\nCODE:\n```\n# After an initial run of `make jsc-debug`, you can rebuild JSC with:\n$ cmake --build vendor/WebKit/WebKitBuild/Debug --target jsc && rm vendor/WebKit/WebKitBuild/Debug/JavaScriptCore/DerivedSources/inspector/InspectorProtocolObjects.h\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic HTTP Server with Event Loop in C++\nDESCRIPTION: Demonstrates setting up a basic HTTP server using uWS::App with a GET route handler and event loop implementation. Shows fallthrough behavior and proper error handling when server fails to start.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/misc/READMORE.md#2025-04-22_snippet_4\n\nLANGUAGE: c++\nCODE:\n```\nint main() {\n    uWS::App().get(\"/*\", [](auto *res, auto *req) {\n        res->end(\"Hello World!\");\n    }).listen(9001, [](auto *listenSocket) {\n        if (listenSocket) {\n            std::cout << \"Listening for connections...\" << std::endl;\n        }\n    }).run();\n\n    std::cout << \"Shoot! We failed to listen and the App fell through, exiting now!\" << std::endl;\n}\n```\n\n----------------------------------------\n\nTITLE: TypeScript Type for Environment Variables\nDESCRIPTION: Shows the default TypeScript type assigned to environment variables in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_16\n\nLANGUAGE: ts\nCODE:\n```\nBun.env.whatever;\n// string | undefined\n```\n\n----------------------------------------\n\nTITLE: Handling Variadic Arguments in Commander.js\nDESCRIPTION: Demonstrates how to use variadic arguments (multiple arguments captured as an array) in a command. The last argument can be made variadic by appending ... to its name.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .version('0.1.0')\n  .command('rmdir')\n  .argument('<dirs...>')\n  .action(function (dirs) {\n    dirs.forEach((dir) => {\n      console.log('rmdir %s', dir);\n    });\n  });\n```\n\n----------------------------------------\n\nTITLE: Installing Ubuntu HWE Kernel in Bash\nDESCRIPTION: This command installs the official Ubuntu hardware enablement (HWE) kernel for Ubuntu 20.04. This is recommended if the current kernel version is below 5.6 to ensure better performance with Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# Install the official Ubuntu hardware enablement kernel\n$ sudo apt install --install-recommends linux-generic-hwe-20.04\n```\n\n----------------------------------------\n\nTITLE: Redirecting Input from JavaScript Objects in Bun Shell\nDESCRIPTION: Demonstrates how to use a JavaScript Response object as input for a shell command using the < operator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst response = new Response(\"hello i am a response body\");\n\nconst result = await $`cat < ${response}`.text();\n\nconsole.log(result); // hello i am a response body\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies for Express Server\nDESCRIPTION: Command to install the necessary dependencies for the Express.js hello world server using Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/express/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun install\n```\n\n----------------------------------------\n\nTITLE: Checking if a file is the entrypoint using import.meta.main in TypeScript with Bun\nDESCRIPTION: This snippet demonstrates how to use import.meta.main to determine if the current file is being directly executed with 'bun run' or if it's being imported by another file. This is useful for creating modules that can be both imported and run as standalone scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/entrypoint.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nif (import.meta.main) {\n  // this file is directly executed with `bun run`\n} else {\n  // this file is being imported by another file\n}\n```\n\n----------------------------------------\n\nTITLE: GitHub Header Navigation Markup in HTML\nDESCRIPTION: HTML code for GitHub's primary navigation header displayed to logged-out users. The navigation includes dropdown menus for 'Why GitHub?' and 'Explore' sections, along with links to Team and Enterprise pages. The responsive design adjusts for different screen sizes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\ndata-ga-click=\"Sign up, click to sign up for account, ref_page:/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show;ref_cta:Sign up;ref_loc:header logged out\">\n                Sign&nbsp;up\n              </a>\n\n          <button class=\"btn-link d-lg-none mt-1 js-details-target\" type=\"button\" aria-label=\"Toggle navigation\" aria-expanded=\"false\">\n            <svg height=\"24\" class=\"octicon octicon-three-bars text-white\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"24\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z\"></path></svg>\n          </button>\n        </div>\n    </div>\n\n    <div class=\"HeaderMenu HeaderMenu--logged-out position-fixed top-0 right-0 bottom-0 height-fit position-lg-relative d-lg-flex flex-justify-between flex-items-center flex-auto\">\n      <div class=\"d-flex d-lg-none flex-justify-end border-bottom bg-gray-light p-3\">\n        <button class=\"btn-link js-details-target\" type=\"button\" aria-label=\"Toggle navigation\" aria-expanded=\"false\">\n          <svg height=\"24\" class=\"octicon octicon-x text-gray\" viewBox=\"0 0 24 24\" version=\"1.1\" width=\"24\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z\"></path></svg>\n        </button>\n      </div>\n\n        <nav class=\"mt-0 px-3 px-lg-0 mb-5 mb-lg-0\" aria-label=\"Global\">\n          <ul class=\"d-lg-flex list-style-none\">\n              <li class=\"d-block d-lg-flex flex-lg-nowrap flex-lg-items-center border-bottom border-lg-bottom-0 mr-0 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center \">\n                <details class=\"HeaderMenu-details details-overlay details-reset width-full\">\n                  <summary class=\"HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block\">\n                    Why GitHub?\n                    <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\">\n                      <path d=\"M1,1l6.2,6L13,1\"></path>\n                    </svg>\n                  </summary>\n                  <div class=\"dropdown-menu flex-auto rounded-1 bg-white px-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4\">\n                    <a href=\"/features\" class=\"py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover\" data-ga-click=\"(Logged out) Header, go to Features\">Features <span class=\"Bump-link-symbol float-right text-normal text-gray-light\">&rarr;</span></a>\n                    <ul class=\"list-style-none f5 pb-3\">\n                      <li class=\"edge-item-fix\"><a href=\"/features/code-review/\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Code review\">Code review</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features/project-management/\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Project management\">Project management</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features/integrations\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Integrations\">Integrations</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features/actions\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Actions\">Actions</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features/packages\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to GitHub Packages\">Packages</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features/security\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Security\">Security</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features#team-management\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Team management\">Team management</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/features#hosting\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Code hosting\">Hosting</a></li>\n                      <li class=\"edge-item-fix hide-xl\"><a href=\"/mobile\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Mobile\">Mobile</a></li>\n                    </ul>\n\n                    <ul class=\"list-style-none mb-0 border-lg-top pt-lg-3\">\n                      <li class=\"edge-item-fix\"><a href=\"/customer-stories\" class=\"py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover\" data-ga-click=\"(Logged out) Header, go to Customer stories\">Customer stories <span class=\"Bump-link-symbol float-right text-normal text-gray-light\">&rarr;</span></a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/security\" class=\"py-2 lh-condensed-ultra d-block no-underline link-gray-dark no-underline h5 Bump-link--hover\" data-ga-click=\"(Logged out) Header, go to Security\">Security <span class=\"Bump-link-symbol float-right text-normal text-gray-light\">&rarr;</span></a></li>\n                    </ul>\n                  </div>\n                </details>\n              </li>\n              <li class=\"border-bottom border-lg-bottom-0 mr-0 mr-lg-3\">\n                <a href=\"/team\" class=\"HeaderMenu-link no-underline py-3 d-block d-lg-inline-block\" data-ga-click=\"(Logged out) Header, go to Team\">Team</a>\n              </li>\n              <li class=\"border-bottom border-lg-bottom-0 mr-0 mr-lg-3\">\n                <a href=\"/enterprise\" class=\"HeaderMenu-link no-underline py-3 d-block d-lg-inline-block\" data-ga-click=\"(Logged out) Header, go to Enterprise\">Enterprise</a>\n              </li>\n\n              <li class=\"d-block d-lg-flex flex-lg-nowrap flex-lg-items-center border-bottom border-lg-bottom-0 mr-0 mr-lg-3 edge-item-fix position-relative flex-wrap flex-justify-between d-flex flex-items-center \">\n                <details class=\"HeaderMenu-details details-overlay details-reset width-full\">\n                  <summary class=\"HeaderMenu-summary HeaderMenu-link px-0 py-3 border-0 no-wrap d-block d-lg-inline-block\">\n                    Explore\n                    <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 14 8\" xml:space=\"preserve\" fill=\"none\" class=\"icon-chevon-down-mktg position-absolute position-lg-relative\">\n                      <path d=\"M1,1l6.2,6L13,1\"></path>\n                    </svg>\n                  </summary>\n\n                  <div class=\"dropdown-menu flex-auto rounded-1 bg-white px-0 pt-2 pb-0 mt-0 pb-4 p-lg-4 position-relative position-lg-absolute left-0 left-lg-n4\">\n                    <ul class=\"list-style-none mb-3\">\n                      <li class=\"edge-item-fix\"><a href=\"/explore\" class=\"py-2 lh-condensed-ultra d-block link-gray-dark no-underline h5 Bump-link--hover\" data-ga-click=\"(Logged out) Header, go to Explore\">Explore GitHub <span class=\"Bump-link-symbol float-right text-normal text-gray-light\">&rarr;</span></a></li>\n                    </ul>\n\n                    <h4 class=\"text-gray-light text-normal text-mono f5 mb-2 border-lg-top pt-lg-3\">Learn &amp; contribute</h4>\n                    <ul class=\"list-style-none mb-3\">\n                      <li class=\"edge-item-fix\"><a href=\"/topics\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Topics\">Topics</a></li>\n                        <li class=\"edge-item-fix\"><a href=\"/collections\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Collections\">Collections</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"/trending\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Trending\">Trending</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"https://lab.github.com/\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Learning lab\">Learning Lab</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"https://opensource.guide\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Open source guides\">Open source guides</a></li>\n                    </ul>\n\n                    <h4 class=\"text-gray-light text-normal text-mono f5 mb-2 border-lg-top pt-lg-3\">Connect with others</h4>\n                    <ul class=\"list-style-none mb-0\">\n                      <li class=\"edge-item-fix\"><a href=\"https://github.com/events\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Events\">Events</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"https://github.community\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to Community forum\">Community forum</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"https://education.github.com\" class=\"py-2 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to GitHub Education\">GitHub Education</a></li>\n                      <li class=\"edge-item-fix\"><a href=\"https://stars.github.com\" class=\"py-2 pb-0 lh-condensed-ultra d-block link-gray no-underline f5\" data-ga-click=\"(Logged out) Header, go to GitHub Stars Program\">GitHub Stars program</a></li>\n```\n\n----------------------------------------\n\nTITLE: Configuring Root package.json for Workspaces in Bun\nDESCRIPTION: This snippet shows how to set up the root package.json file for a monorepo using Bun's workspaces feature. It declares the project as private and specifies the workspace locations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/workspaces.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-monorepo\",\n  \"private\": true,\n  \"workspaces\": [\n    \"packages/*\"\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Integrating MDX Addon with Bun Build System\nDESCRIPTION: Example of using the MDX native addon with Bun.build() to process MDX files. Demonstrates plugin configuration, build settings, and output directory specification.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/README.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { build } from \"bun\";\nimport mdx from \"./index.js\";\n\n// TODO: This needs to be prebuilt for the current platform\n// Probably use a napi-rs template for this\nimport addon from \"./target/release/libmdx_bun.dylib\" with { type: \"file\" };\n\nconst results = await build({\n  entrypoints: [\"./hello.jsx\"],\n  plugins: [mdx({ addon })],\n  minify: true,\n  outdir: \"./dist\",\n  define: {\n    \"process.env.NODE_ENV\": JSON.stringify(\"production\"),\n  },\n});\n\nconsole.log(results);\n```\n\n----------------------------------------\n\nTITLE: Using Bun.main to get the absolute path in a TypeScript file\nDESCRIPTION: This example shows how to access the Bun.main property to retrieve the absolute path to the current entrypoint file. The property returns the path of the file that was directly executed by the bun runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/main.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(Bun.main);\n```\n\n----------------------------------------\n\nTITLE: Removing Dependencies with Bun CLI - Bash\nDESCRIPTION: This snippet illustrates how to remove a specified package (e.g., 'ts-node') from a project using the Bun command-line interface. It requires that Bun is installed and initialized in your project. The key parameter is the package name following 'bun remove', and the expected result is that the specified package as well as its references are removed from your project's dependencies. No output is shown unless run in a shell; there are no unique limitations except the package must exist in your dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/remove.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun remove ts-node\n```\n\n----------------------------------------\n\nTITLE: Fetching from Blob URLs in TypeScript\nDESCRIPTION: Shows how to fetch content from Blob URLs created with URL.createObjectURL(), which is useful for accessing blob data through the fetch API.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nconst blob = new Blob([\"Hello, World!\"], { type: \"text/plain\" });\nconst url = URL.createObjectURL(blob);\nconst response = await fetch(url);\n```\n\n----------------------------------------\n\nTITLE: Initializing a Bun Project\nDESCRIPTION: This command initializes a new Bun project, which generates a tsconfig.json file with the recommended compiler options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/typescript.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun init\n```\n\n----------------------------------------\n\nTITLE: Adding Development Dependencies using Bun CLI\nDESCRIPTION: This snippet shows how to use the Bun CLI to add a development dependency. It demonstrates two equivalent commands: the full form and a shorthand version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-dev.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod --dev\n$ bun add zod -d # shorthand\n```\n\n----------------------------------------\n\nTITLE: Compiling Bun Zig Object\nDESCRIPTION: Builds the Zig object file (bun-zig.o) which doesn't depend on WebKit or other submodule dependencies. Can be cross-compiled and only requires bun install to be run beforehand.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/internals/build-process-for-ci.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nBUN_REPO=/path/to/oven-sh/bun\n\ncd tmp1\n\ncmake $BUN_REPO \\\n  -G Ninja \\\n  -DCMAKE_BUILD_TYPE=Release \\\n  -DCPU_TARGET=\"native\" \\\n  -DZIG_TARGET=\"native\" \\\n  -DBUN_ZIG_OBJ_DIR=\"./build\"\n\nninja ./build/bun-zig.o\n# -> bun-zig.o\n```\n\n----------------------------------------\n\nTITLE: Configuring ArrayBufferSink to Return Uint8Array\nDESCRIPTION: Shows how to configure ArrayBufferSink to return data as a Uint8Array instead of the default ArrayBuffer, using the asUint8Array option.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst sink = new Bun.ArrayBufferSink();\nsink.start({\n  asUint8Array: true\n});\n\nsink.write(\"h\");\nsink.write(\"e\");\nsink.write(\"l\");\nsink.write(\"l\");\nsink.write(\"o\");\n\nsink.end();\n// Uint8Array(5) [ 104, 101, 108, 108, 111 ]\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Array of Chunks in TypeScript\nDESCRIPTION: A Bun utility function for resolving a ReadableStream to an array of its chunks, where each chunk may be a string, typed array, or ArrayBuffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\n// with Bun function\nBun.readableStreamToArray(stream);\n```\n\n----------------------------------------\n\nTITLE: Builtin Module Export Example in TypeScript\nDESCRIPTION: Shows how to export functionality from builtin modules using a combination of require and export default. The exports are preprocessed into properties on the default export object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/js/README.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst fs = require(\"fs\"); // load another builtin module\\n\\nexport default {\\n  hello: 2,\\n  world: 3,\\n};\n```\n\n----------------------------------------\n\nTITLE: Resetting Expo Project to Blank State\nDESCRIPTION: Command to reset the project, moving starter code to app-example directory and creating a blank app directory for fresh development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/expo-app/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpm run reset-project\n```\n\n----------------------------------------\n\nTITLE: Publishing a Package with Bun CLI - Shell\nDESCRIPTION: Demonstrates publishing an npm package from the current working directory using the Bun CLI. The command automatically packs all relevant files, strips workspace protocols from package.json, and pushes the tarball to the configured registry. Outputs details on the packaging process and the result of the publish action. Requires Bun to be installed, and appropriate credentials configured in bunfig.toml or .npmrc files. The expected input is a properly structured project directory, and the output is a published package available in the specified npm registry.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n## Publishing the package from the current working directory\\n$ bun publish\\n\\n## Output\\nbun publish v$BUN_LATEST_VERSION (ca7428e9)\\n\\npacked 203B package.json\\npacked 224B README.md\\npacked 30B index.ts\\npacked 0.64KB tsconfig.json\\n\\nTotal files: 4\\nShasum: 79e2b4377b63f4de38dc7ea6e5e9dbee08311a69\\nIntegrity: sha512-6QSNlDdSwyG/+(...)X6wXHriDWr6fA==\\nUnpacked size: 1.1KB\\nPacked size: 0.76KB\\nTag: latest\\nAccess: default\\nRegistry: http://localhost:4873/\\n\\n + publish-1@1.0.0\n```\n\n----------------------------------------\n\nTITLE: Serializing Cookies to Set-Cookie Headers\nDESCRIPTION: How to convert a Bun.Cookie instance to a Set-Cookie header string using serialize() or toString() methods. Both methods return the same format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = new Bun.Cookie(\"session\", \"abc123\", {\n  domain: \"example.com\",\n  path: \"/admin\",\n  expires: new Date(Date.now() + 86400000),\n  secure: true,\n  httpOnly: true,\n  sameSite: \"strict\",\n});\n\nconsole.log(cookie.serialize());\n// => \"session=abc123; Domain=example.com; Path=/admin; Expires=Sun, 19 Mar 2025 15:03:26 GMT; Secure; HttpOnly; SameSite=strict\"\nconsole.log(cookie.toString());\n// => \"session=abc123; Domain=example.com; Path=/admin; Expires=Sun, 19 Mar 2025 15:03:26 GMT; Secure; HttpOnly; SameSite=strict\"\n```\n\n----------------------------------------\n\nTITLE: Switching from Jest Imports to Bun Test Imports\nDESCRIPTION: Shows how to replace Jest's @jest/globals imports with Bun's native test imports for a cleaner implementation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_1\n\nLANGUAGE: ts-diff\nCODE:\n```\n- import {test, expect} from \"@jest/globals\";\n+ import {test, expect} from \"bun:test\";\n```\n\n----------------------------------------\n\nTITLE: Deleting Files\nDESCRIPTION: Demonstrates how to delete files using the delete() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.file(\"logs.json\").delete()\n```\n\n----------------------------------------\n\nTITLE: Writing Tests with Testing Library\nDESCRIPTION: Example test file demonstrating usage of Testing Library with Bun's test runner to test React components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from 'bun:test';\nimport { screen, render } from '@testing-library/react';\nimport { MyComponent } from './myComponent';\n\ntest('Can use Testing Library', () => {\n  render(MyComponent);\n  const myComponent = screen.getByTestId('my-component');\n  expect(myComponent).toBeInTheDocument();\n})\n```\n\n----------------------------------------\n\nTITLE: Initializing a New Bun Project (Project Directory Setup) using Shell\nDESCRIPTION: This shell sequence creates a new directory for the application, navigates into it, and initializes a Bun project with default settings (non-interactive, via -y). Dependencies: Bun installed. Input: Project directory name. Output: New directory with Bun project configuration, ready for further development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nmkdir my-edgedb-app\ncd my-edgedb-app\nbun init -y\n```\n\n----------------------------------------\n\nTITLE: Installing React packages with Bun\nDESCRIPTION: How to install React and React DOM packages using Bun's package manager. These packages are required for server-side rendering React components.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/ssr-react.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n# Any package manager can be used\n$ bun add react react-dom\n```\n\n----------------------------------------\n\nTITLE: Using 'this' Context in Action Handlers\nDESCRIPTION: Shows how to access command information using 'this' inside an action handler. This approach uses function expressions (not arrow functions) to access the command context directly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_19\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .command('serve')\n  .argument('<script>')\n  .option('-p, --port <number>', 'port number', 80)\n  .action(function() {\n    console.error('Run script %s on port %s', this.args[0], this.opts().port);\n  });\n```\n\n----------------------------------------\n\nTITLE: Matching Routes from Request Objects\nDESCRIPTION: Example showing how to use the match method with Request objects instead of URL strings. The router will extract the URL from the Request object to resolve the route.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-system-router.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nrouter.match(new Request(\"https://example.com/blog/my-cool-post\"));\n```\n\n----------------------------------------\n\nTITLE: Defining Constants and Macros for Minigzip in C\nDESCRIPTION: Sets up constants and macros used throughout the minigzip implementation, including buffer sizes and suffix definitions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_4\n\nLANGUAGE: C\nCODE:\n```\n#ifndef GZ_SUFFIX\n#  define GZ_SUFFIX \".gz\"\n#endif\n#define SUFFIX_LEN (sizeof(GZ_SUFFIX)-1)\n\n#define BUFLEN      16384\n#define MAX_NAME_LEN 1024\n\n#ifdef MAXSEG_64K\n#  define local static\n   /* Needed for systems with limitation on stack size. */\n#else\n#  define local\n#endif\n```\n\n----------------------------------------\n\nTITLE: Synchronous Password Hashing and Verification in Bun\nDESCRIPTION: Demonstrates the use of synchronous versions of password hashing and verification functions in Bun. These functions are computationally expensive and may impact application performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst password = \"super-secure-pa$$word\";\n\nconst hash = Bun.password.hashSync(password, {\n  /* config */\n});\n\nconst isMatch = Bun.password.verifySync(password, hash);\n// => true\n```\n\n----------------------------------------\n\nTITLE: Defining SVG Search Icon for Search Suggestions\nDESCRIPTION: This SVG snippet defines the standard GitHub search (magnifying glass) icon. It is embedded within the search suggestions template (`js-jump-to-suggestions-template-container`), intended to visually represent general search actions or results in the jump-to dropdown. It uses a path element with `fill-rule=\"evenodd\"`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_6\n\nLANGUAGE: svg\nCODE:\n```\n<svg height=\"16\" width=\"16\" class=\"octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none\" title=\"Search\" aria-label=\"Search\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Configuring NPM Registry in Bun\nDESCRIPTION: Sets the default npm registry URL and authentication details for package installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_27\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# set default registry as a string\nregistry = \"https://registry.npmjs.org\"\n# set a token\nregistry = { url = \"https://registry.npmjs.org\", token = \"123456\" }\n# set a username/password\nregistry = \"https://username:password@registry.npmjs.org\"\n```\n\n----------------------------------------\n\nTITLE: Retrieving Cookies with CookieMap.get()\nDESCRIPTION: How to retrieve a cookie by name using the get() method on CookieMap. Returns the cookie value or null if the cookie doesn't exist.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// Get by name\nconst cookie = cookies.get(\"session\");\n\nif (cookie != null) {\n  console.log(cookie);\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun CSS HMR Frame Time Analysis Script\nDESCRIPTION: This command executes a Node.js script named 'read-frames.js' that analyzes the frame times for CSS Hot Module Replacement in Bun. It sets environment variables SLEEP_INTERVAL to 24 and PROJECT to 'bun'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.24ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nSLEEP_INTERVAL=24 PROJECT=bun node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Dead Code Elimination Macro Example\nDESCRIPTION: Example of a macro function used for dead code elimination during bundling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport function returnFalse() {\n  return false;\n}\n```\n\n----------------------------------------\n\nTITLE: Starting WebSocket Server in C++ with µWebSockets\nDESCRIPTION: Demonstrates how to start listening for WebSocket connections on a specified port. The callback provides a pointer to the listen socket if successful.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/misc/READMORE.md#2025-04-22_snippet_3\n\nLANGUAGE: c++\nCODE:\n```\nApp.listen(port, [](auto *listenSocket) {\n    /* listenSocket is either nullptr or us_listen_socket */\n})\n```\n\n----------------------------------------\n\nTITLE: Unsafe Raw SQL Queries in TypeScript\nDESCRIPTION: Shows how to execute raw SQL queries using the unsafe method (use with caution).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\n// Multiple commands without parameters\nconst result = await sql.unsafe(`\n  SELECT ${userColumns} FROM users;\n  SELECT ${accountColumns} FROM accounts;\n`);\n\n// Using parameters (only one command is allowed)\nconst result = await sql.unsafe(\n  \"SELECT \" + dangerous + \" FROM users WHERE id = $1\",\n  [id],\n);\n```\n\n----------------------------------------\n\nTITLE: Configuring Connection Pool Settings in Bun SQL Client - TypeScript\nDESCRIPTION: Shows how to customize the built-in connection pool behavior by setting parameters like maximum connections (`max`), idle timeout (`idleTimeout`), maximum connection lifetime (`maxLifetime`), and connection timeout (`connectionTimeout`) in the `SQL` constructor options when initializing the client.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nconst db = new SQL({\n  // Pool configuration\n  max: 20, // Maximum 20 concurrent connections\n  idleTimeout: 30, // Close idle connections after 30s\n  maxLifetime: 3600, // Max connection lifetime 1 hour\n  connectionTimeout: 10, // Connection timeout 10s\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Clearing Bun Install Cache\nDESCRIPTION: Command to delete the bun install cache directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-install.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ rm -rf ~/.bun/install/cache\n```\n\n----------------------------------------\n\nTITLE: Setting Up Garbage Collection Tracking in Node.js Tests\nDESCRIPTION: Example showing how to use the onGC module to track garbage collection of objects. This installs a listener that will be called when the target object is garbage collected, useful for testing memory management behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nrequire('../common');\nconst { onGC } = require('../common/gc');\n\nonGC({}, { ongc() { console.log('collected'); } });\n```\n\n----------------------------------------\n\nTITLE: Installing Postject via NPM\nDESCRIPTION: Command to install Postject globally using npm package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/postject/README.markdown#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm i -g postject\n```\n\n----------------------------------------\n\nTITLE: Plugin State Access in Rust Implementation\nDESCRIPTION: Example of accessing plugin state from within the native plugin implementation\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_6\n\nLANGUAGE: rust\nCODE:\n```\n#[bun]\npub fn on_before_parse_plugin_impl(handle: &mut OnBeforeParse) {\n    // This operation is only safe if you pass in an external when registering the plugin.\n    // If you don't, this could lead to a segfault or access of undefined memory.\n  let plugin_state: &PluginState =\n     unsafe { handle.external().and_then(|state| state.ok_or(Error::Unknown))? };\n\n\n  // Fetch our source code again\n  let input_source_code = handle.input_source_code()?;\n\n  // Count the number of `foo`s and add it to our state\n  let foo_count = source_code.matches(\"foo\").count() as u32;\n  plugin_state.foo_count.fetch_add(foo_count, std::sync::atomic::Ordering::Relaxed);\n}\n```\n\n----------------------------------------\n\nTITLE: ANSI Color Format Examples in TypeScript\nDESCRIPTION: Examples of converting various color formats to ANSI escape codes for terminal output using Bun.color() with 'ansi' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(0xff0000, \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"#f00\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"#ff0000\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"rgb(255, 0, 0)\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"rgba(255, 0, 0, 1)\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"hsl(0, 100%, 50%)\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color(\"hsla(0, 100%, 50%, 1)\", \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color({ r: 255, g: 0, b: 0 }, \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color({ r: 255, g: 0, b: 0, a: 1 }, \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color([255, 0, 0], \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\nBun.color([255, 0, 0, 255], \"ansi\"); // \"\\u001b[38;2;255;0;0m\"\n```\n\n----------------------------------------\n\nTITLE: Running WebKit Source Map Tests\nDESCRIPTION: Instructions for checking out WebKit and running source map tests using command line tools.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/test426/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncd <webkit-directory>\ngit am <this-repo>/webkit/0001-Add-harness-for-source-map-spec-tests.patch\nTools/Scripts/build-webkit\nTools/Scripts/run-webkit-tests LayoutTests/inspector/model/source-map-spec.html\n```\n\n----------------------------------------\n\nTITLE: External Package Flag Comparison\nDESCRIPTION: Shows how to mark packages as external in both bundlers. esbuild uses a colon syntax while Bun uses a simpler space-separated syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ esbuild --external:react\n$ bun build --external react\n```\n\n----------------------------------------\n\nTITLE: Installing dependencies with Bun\nDESCRIPTION: Various commands to install dependencies using Bun, including production mode, frozen lockfile, and omitting specific dependency types.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install\n$ bun install --production\n$ bun install --frozen-lockfile\n# Disable devDependencies and optionalDependencies\n$ bun install --omit=dev --omit=optional\n$ bun install --dry-run\n$ bun install --lockfile-only\n$ bun install --verbose # debug logging\n$ bun install --silent  # no logging\n```\n\n----------------------------------------\n\nTITLE: Defining ArrowJS UI Component for Stric PageRouter in TypeScript\nDESCRIPTION: This snippet shows how to define a UI component using `@stricjs/arrow`. The `render` function utilizes the `html` template literal helper from `@stricjs/arrow/utils` to define the component's structure (a paragraph element containing 'Hi'). The `path` export specifies the URL path ('/') where this component should be rendered when used with a Stric `PageRouter`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/stric.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { html } from '@stricjs/arrow/utils';\n\n// Code inside this function can use web APIs\nexport function render() {\n  // Render a <p> element with text 'Hi'\n  html`<p>Hi</p>`;\n};\n\n// Set the path to handle\nexport const path = '/';\n```\n\n----------------------------------------\n\nTITLE: Testing HTML Escaping with Long Strings in Rust\nDESCRIPTION: A test suite for HTML escaping functionality that verifies proper escaping of HTML characters in long text strings. The code includes multiple assertions to verify string concatenation, repetition, and HTML character escaping.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_14\n\nLANGUAGE: rust\nCODE:\n```\n.join(\"\")\n.repeat(1024)\n.as_ref()\n)\n.to_string(),\n[string_long, &escaped.repeat(13)].join(\"\").repeat(1024)\n);\nassert_eq!(\n    HTMLEscape::from([string_long, \"<\", string_long].join(\"\").as_ref()).to_string(),\n    [string_long, \"&lt;\", string_long].join(\"\")\n);\nassert_eq!(\n    HTMLEscape::from(\n        [string_long, \"<\", string_long, escapes, string_long,]\n            .join(\"\")\n            .as_ref()\n    )\n    .to_string(),\n    [string_long, \"&lt;\", string_long, escaped, string_long,].join(\"\")\n);\n\nlet string_long = r#\"\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris consequat tellus sit\n    amet ornare fermentum. Etiam nec erat ante. In at metus a orci mollis scelerisque.\n    Sed eget ultrices turpis, at sollicitudin erat. Integer hendrerit nec magna quis\n    venenatis. Vivamus non dolor hendrerit, vulputate velit sed, varius nunc. Quisque\n    in pharetra mi. Sed ullamcorper nibh malesuada commodo porttitor. Ut scelerisque\n    sodales felis quis dignissim. Morbi aliquam finibus justo, sit amet consectetur\n    mauris efficitur sit amet. Donec posuere turpis felis, eu lacinia magna accumsan\n    quis. Fusce egestas lacus vel fermentum tincidunt. Phasellus a nulla eget lectus\n    placerat commodo at eget nisl. Fusce cursus dui quis purus accumsan auctor.\n    Donec iaculis felis quis metus consectetur porttitor.\n<p>\n    Etiam nibh mi, <b>accumsan</b> quis purus sed, posuere fermentum lorem. In pulvinar porta\n    maximus. Fusce tincidunt lacinia tellus sit amet tincidunt. Aliquam lacus est, pulvinar\n    non metus a, <b>facilisis</b> ultrices quam. Nulla feugiat leo in cursus eleifend. Suspendisse\n    eget nisi ac justo sagittis interdum id a ipsum. Nulla mauris justo, scelerisque ac\n```\n\n----------------------------------------\n\nTITLE: Install Bun Dependencies on openSUSE Tumbleweed\nDESCRIPTION: This command installs the dependencies for building Bun on openSUSE Tumbleweed using zypper. It includes compilers, build tools, and Rust.  `sudo` provides root privileges, and `rustup` manages Rust toolchains.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo zypper install go cmake ninja automake git icu rustup && rustup toolchain install stable\n```\n\n----------------------------------------\n\nTITLE: Drawing Bun.js Logo in ASCII Art\nDESCRIPTION: Text-based artistic representation of the Bun.js logo using ASCII characters to create a bun-shaped design with circular patterns and decorative elements.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/util/text-loader-fixture-text-file.backslashes.txt#2025-04-22_snippet_0\n\nLANGUAGE: ascii-art\nCODE:\n```\n           .---------.            \n       .--'   o   .   `--.        \n     .'@  @@@@@@    .   . `.      \n  .'   . @@@@@@@@ @@@@@@     `.   \n / @@o    @@@@@@.  @@@@    O  @\\  \n |@@@              @@@@@@    @@|  \n/ @@@@   `.-.     @@@@@@@@    @@\\ \n|@ @@               @@@@@@ @@   | \n\\     @@    @   .()  @@   @@@@  / \n |         @@@        @@@  @@  |  \n \\  .  @@  @\\  .     .  @@   o /  \n  `.  @@@@  _\\ /    .      o .'   \n     `.     / |      o    .'      \n       `--./   .      .--'        \n           `---------'       \n```\n\n----------------------------------------\n\nTITLE: Platform-Specific Includes and Definitions in C\nDESCRIPTION: Defines platform-specific includes and macros for Windows, MSDOS, OS2, and other systems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_1\n\nLANGUAGE: C\nCODE:\n```\n#if defined(MSDOS) || defined(OS2) || defined(WIN32) || defined(__CYGWIN__)\n#  include <fcntl.h>\n#  include <io.h>\n#  ifdef UNDER_CE\n#    include <stdlib.h>\n#  endif\n#  define SET_BINARY_MODE(file) setmode(fileno(file), O_BINARY)\n#else\n#  define SET_BINARY_MODE(file)\n#endif\n\n#if defined(_MSC_VER) && _MSC_VER < 1900\n#  define snprintf _snprintf\n#endif\n```\n\n----------------------------------------\n\nTITLE: HTML Processing Example with Bundler\nDESCRIPTION: Demonstrates how the HTML loader processes an HTML file, bundling and hashing referenced assets like scripts, stylesheets, and images while preserving external URLs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <body>\n    <img src=\"./image.jpg\" alt=\"Local image\">\n    <img src=\"https://example.com/image.jpg\" alt=\"External image\">\n    <script type=\"module\" src=\"./script.js\"></script>\n  </body>\n</html>\n```\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <body>\n    <img src=\"./image-HASHED.jpg\" alt=\"Local image\">\n    <img src=\"https://example.com/image.jpg\" alt=\"External image\">\n    <script type=\"module\" src=\"./output-ALSO-HASHED.js\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Network Socket Operations (us_socket_t) Implementation in C\nDESCRIPTION: Core socket operations including writing data, managing timers, and handling connection state. Supports both SSL and non-SSL connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-usockets/misc/manual.md#2025-04-22_snippet_2\n\nLANGUAGE: c\nCODE:\n```\nWIN32_EXPORT int us_socket_write(int ssl, struct us_socket_t *s, const char *data, int length, int msg_more);\n\nWIN32_EXPORT void us_socket_timeout(int ssl, struct us_socket_t *s, unsigned int seconds);\n\nWIN32_EXPORT void *us_socket_ext(int ssl, struct us_socket_t *s);\n\n/* Additional socket functions... */\n```\n\n----------------------------------------\n\nTITLE: JSX Fragment Pragma Example\nDESCRIPTION: Example of using the JSX fragment pragma to set the JSX fragment factory on a per-file basis rather than in configuration. The pragma is a special comment that overrides the compiler setting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_21\n\nLANGUAGE: ts\nCODE:\n```\n// @jsxFrag MyFragment\n```\n\n----------------------------------------\n\nTITLE: Declaring Various String Types in Rust with HTML Escaping Examples\nDESCRIPTION: This code snippet demonstrates different string declaration patterns in Rust, including multi-line strings with HTML content, escaped strings, and raw strings. It also includes assertions to verify HTML escape handling functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_16\n\nLANGUAGE: rust\nCODE:\n```\nlet string_long_escaped = \"\\n    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris consequat tellus sit\\n    amet ornare fermentum. Etiam nec erat ante. In at metus a orci mollis scelerisque.\\n    Sed eget ultrices turpis, at sollicitudin erat. Integer hendrerit nec magna quis\\n    venenatis. Vivamus non dolor hendrerit, vulputate velit sed, varius nunc. Quisque\\n    in pharetra mi. Sed ullamcorper nibh malesuada commodo porttitor. Ut scelerisque\\n    sodales felis quis dignissim. Morbi aliquam finibus justo, sit amet consectetur\\n    mauris efficitur sit amet. Donec posuere turpis felis, eu lacinia magna accumsan\\n    quis. Fusce egestas lacus vel fermentum tincidunt. Phasellus a nulla eget lectus\\n    placerat commodo at eget nisl. Fusce cursus dui quis purus accumsan auctor.\\n    Donec iaculis felis quis metus consectetur porttitor.\\n&lt;p&gt;\\n    Etiam nibh mi, &lt;b&gt;accumsan&lt;&#x2f;b&gt; quis purus sed, posuere fermentum lorem. In pulvinar porta\\n    maximus. Fusce tincidunt lacinia tellus sit amet tincidunt. Aliquam lacus est, pulvinar\\n    non metus a, &lt;b&gt;facilisis&lt;&#x2f;b&gt; ultrices quam. Nulla feugiat leo in cursus eleifend. Suspendisse\\n    eget nisi ac justo sagittis interdum id a ipsum. Nulla mauris justo, scelerisque ac\\n    rutrum vitae, consequat vel ex.\\n&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;&lt;&#x2f;p&gt;\\n&lt;p&gt;\\n    Sed sollicitudin &lt;b&gt;sem&lt;&#x2f;b&gt; mauris, at rutrum nibh egestas vel. Ut eu nisi tellus. Praesent dignissim\\n    orci elementum, mattis turpis eget, maximus ante. Suspendisse luctus eu felis a tempor. Morbi\\n    ac risus vitae sem molestie ullamcorper. Curabitur ligula augue, sollicitudin quis maximus vel,\\n    facilisis sed nibh. Aenean auctor magna sem, id rutrum metus convallis quis. Nullam non arcu\\n    dictum, lobortis erat quis, rhoncus est. Suspendisse venenatis, mi sed venenatis vehicula,\\n    tortor dolor egestas lectus, et efficitur turpis odio non augue. Integer velit sapien, dictum\\n    non egestas vitae, hendrerit sed quam. Phasellus a nunc eu erat varius imperdiet. Etiam id\\n    sollicitudin turpis, vitae molestie orci. Quisque ornare magna quis metus rhoncus commodo.\\n    Phasellus non mauris velit.\\n&lt;&#x2f;p&gt;\\n&lt;p&gt;\\n    Etiam dictum tellus ipsum, nec varius quam ornare vel. Cras vehicula diam nec sollicitudin\\n    ultricies. Pellentesque rhoncus sagittis nisl id facilisis. Nunc viverra convallis risus ut\\n    luctus. Aliquam vestibulum &lt;b&gt;efficitur massa&lt;&#x2f;b&gt;, id tempus nisi posuere a. Aliquam scelerisque\\n    elit justo. Nullam a ante felis. Cras vitae lorem eu nisi feugiat hendrerit. Maecenas vitae\\n    suscipit leo, lacinia dignissim lacus. Sed eget volutpat mi. In eu bibendum neque. Pellentesque\\n    finibus velit a fermentum rhoncus. Maecenas leo purus, eleifend eu lacus a, condimentum sagittis\\n    justo.\\n&lt;&#x2f;p&gt;\";\n    let string_short = \"Lorem ipsum dolor sit amet,<foo>bar&foo\\\"bar\\\\foo/bar\";\n    let string_short_escaped =\n        \"Lorem ipsum dolor sit amet,&lt;foo&gt;bar&amp;foo&quot;bar\\\\foo&#x2f;bar\";\n    let no_escape = \"Lorem ipsum dolor sit amet,\";\n    let no_escape_long = r#\"\nLorem ipsum dolor sit amet, consectetur adipiscing elit. Proin scelerisque eu urna in aliquet.\nPhasellus ac nulla a urna sagittis consequat id quis est. Nullam eu ex eget erat accumsan dictum\nac lobortis urna. Etiam fermentum ut quam at dignissim. Curabitur vestibulum luctus tellus, sit\namet lobortis augue tempor faucibus. Nullam sed felis eget odio elementum euismod in sit amet massa.\nVestibulum sagittis purus sit amet eros auctor, sit amet pharetra purus dapibus. Donec ornare metus\nvel dictum porta. Etiam ut nisl nisi. Nullam rutrum porttitor mi. Donec aliquam ac ipsum eget\nhendrerit. Cras faucibus, eros ut pharetra imperdiet, est tellus aliquet felis, eget convallis\nlacus ipsum eget quam. Vivamus orci lorem, maximus ac mi eget, bibendum vulputate massa. In\nvestibulum dui hendrerit, vestibulum lacus sit amet, posuere erat. Vivamus euismod massa diam,\nvulputate euismod lectus vestibulum nec. Donec sit amet massa magna. Nunc ipsum nulla, euismod\nquis lacus at, gravida maximus elit. Duis tristique, nisl nullam.\n    \"#;\n\n    assert_eq!(HTMLEscape::from(no_escape).to_string(), no_escape);\n    assert_eq!(HTMLEscape::from(no_escape_long).to_string(), no_escape_long);\n```\n\n----------------------------------------\n\nTITLE: Replacing properties with --define\nDESCRIPTION: This shell command shows how to use --define to replace a property (console.write) with another property (console.log).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\nbun --define console.write=console.log src/index.ts\n```\n\n----------------------------------------\n\nTITLE: Connecting to Bun Inspect Process using WebKit Web Inspector\nDESCRIPTION: This snippet demonstrates two methods to connect the WebKit Web Inspector to a Bun process running in inspect mode. It shows how to use URL parameters or navigate to a specific path to establish the connection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-frontend/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n- Set `?ws=hostname:port` to connect to a `bun --inspect`'d process.\n- Navigate to `/inspect/hostname:port`\n```\n\n----------------------------------------\n\nTITLE: Running Bun Build Tests with Environment Variables\nDESCRIPTION: Explains how to run Bun build tests using environment variables to control test behavior and specify which tests to run.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_5\n\nLANGUAGE: shell\nCODE:\n```\n$ ./run-single-bundler-test.sh default/ExportMissingES6\n$ ./run-single-bundler-test.sh default/ExportMissingES6 e\n```\n\n----------------------------------------\n\nTITLE: UDP Backpressure Handling\nDESCRIPTION: Shows how to handle backpressure in UDP communications using the drain event handler\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.udpSocket({\n  socket: {\n    drain(socket) {\n      // continue sending data\n    }\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Node.js N-API Core Functions\nDESCRIPTION: Core N-API function declarations for creating and managing JavaScript values, objects, and references in native code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/symbols.txt#2025-04-22_snippet_1\n\nLANGUAGE: C++\nCODE:\n```\n_napi_create_array\n_napi_create_object\n_napi_create_function\n_napi_create_string_utf8\n_napi_create_buffer\n```\n\n----------------------------------------\n\nTITLE: GZIP Compression Utilities in C\nDESCRIPTION: Helper functions for file compression and decompression including error handling and file management utilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_8\n\nLANGUAGE: C\nCODE:\n```\nvoid gz_compress(in, out)\n    FILE   *in;\n    gzFile out;\n{\n    local char buf[BUFLEN];\n    int len;\n    int err;\n\n    for (;;) {\n        len = (int)fread(buf, 1, sizeof(buf), in);\n        if (ferror(in)) {\n            perror(\"fread\");\n            exit(1);\n        }\n        if (len == 0) break;\n\n        if (gzwrite(out, buf, (unsigned)len) != len) error(gzerror(out, &err));\n    }\n    fclose(in);\n    if (gzclose(out) != Z_OK) error(\"failed gzclose\");\n}\n```\n\n----------------------------------------\n\nTITLE: Execute Bun From PR Build\nDESCRIPTION: This command executes a Bun build that was downloaded from a GitHub pull request using the `bun-pr` package.  The build is named `bun-${pr-number}`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_21\n\nLANGUAGE: sh\nCODE:\n```\nbun-${pr-number} --version\n```\n\n----------------------------------------\n\nTITLE: Running Snapshot Tests with Bun CLI\nDESCRIPTION: Example of running the snapshot test for the first time. Bun will create the snapshot file and display information about the added snapshot in the test output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test test/snap\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest/snap.test.ts:\n✓ snapshot [1.48ms]\n\n 1 pass\n 0 fail\n snapshots: +1 added\n 1 expect() calls\nRan 1 tests across 1 files. [82.00ms]\n```\n\n----------------------------------------\n\nTITLE: Instantiating TypedArray with Explicit Length (JavaScript/TypeScript)\nDESCRIPTION: This snippet shows how to create a TypedArray, specifically a Uint8Array, by specifying a length directly without allocating an ArrayBuffer first. All elements start at zero. Useful for quick byte array allocations with predictable sizes. No dependencies; requires browser or Node.js/Bun environment with TypedArray support. Outputs a Uint8Array of the specified size, initialized to zeros.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_10\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr2 = new Uint8Array(5);\n\n// all elements are initialized to zero\n// => Uint8Array(5) [0, 0, 0, 0, 0]\n```\n\n----------------------------------------\n\nTITLE: Fhqwhgads Class Constructor\nDESCRIPTION: Creates a new instance of the Fhqwhgads class\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_backticks_in_headings.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nnew Fhqwhgads()\n```\n\n----------------------------------------\n\nTITLE: Code Scanning Example\nDESCRIPTION: Shows how to scan source code to analyze imports and exports\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst transpiler = new Bun.Transpiler({\n  loader: 'tsx',\n});\n\nconst code = `\nimport React from 'react';\nimport type {ReactNode} from 'react';\nconst val = require('./cjs.js')\nimport('./loader');\n\nexport const name = \"hello\";\n`;\n\nconst result = transpiler.scan(code);\n```\n\n----------------------------------------\n\nTITLE: Set GCC 11 as Default Compiler\nDESCRIPTION: These commands use the `update-alternatives` tool to set GCC 11 as the default C compiler (`gcc`) and C++ compiler (`g++`). This ensures that the system uses GCC 11 when compiling C and C++ code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_29\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-11 100\n$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-11 100\n```\n\n----------------------------------------\n\nTITLE: Accepting Specific Module Updates in Bun HMR\nDESCRIPTION: Shows how to accept updates from a specific imported module using import.meta.hot.accept with a module path and callback.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { count } from \"./foo\";\n\nimport.meta.hot.accept(\"./foo\", () => {\n  if (!newModule) return;\n\n  console.log(\"updated: count is now \", count);\n});\n```\n\n----------------------------------------\n\nTITLE: Complex Character Range Glob Pattern\nDESCRIPTION: Advanced example of using character ranges and negation in glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"ba[a-z][0-9][^4-9].ts\");\nglob.match(\"bar01.ts\"); // => true\nglob.match(\"baz83.ts\"); // => true\nglob.match(\"bat22.ts\"); // => true\nglob.match(\"bat24.ts\"); // => false\nglob.match(\"ba0a8.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Bun.Cookie Constructor Signatures\nDESCRIPTION: The different constructor signatures available for creating Bun.Cookie instances, including basic name/value, with options, from cookie string, or from a cookie object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\n// Basic constructor with name/value\nnew Bun.Cookie(name: string, value: string);\n\n// Constructor with name, value, and options\nnew Bun.Cookie(name: string, value: string, options: CookieInit);\n\n// Constructor from cookie string\nnew Bun.Cookie(cookieString: string);\n\n// Constructor from cookie object\nnew Bun.Cookie(options: CookieInit);\n```\n\n----------------------------------------\n\nTITLE: Adding an Optional Dependency with Bun\nDESCRIPTION: Command to add a package as an optional dependency using Bun's package manager. The --optional flag designates the package to be added to optionalDependencies in package.json.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-optional.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod --optional\n```\n\n----------------------------------------\n\nTITLE: Retrieving MIME Types from Files using Bun.file()\nDESCRIPTION: This snippet demonstrates how to get the MIME type of different file types using Bun.file() to create a BunFile instance and access its .type property. The BunFile class extends Blob, which provides the MIME type functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/mime.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst file = Bun.file(\"./package.json\");\nfile.type; // application/json\n\nconst file = Bun.file(\"./index.html\");\nfile.type; // text/html\n\nconst file = Bun.file(\"./image.png\");\nfile.type; // image/png\n```\n\n----------------------------------------\n\nTITLE: Initializing Prisma with SQLite\nDESCRIPTION: Command to initialize Prisma with SQLite as the database provider. This generates the initial schema file and project structure.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx prisma init --datasource-provider sqlite\n```\n\n----------------------------------------\n\nTITLE: Setting Custom SQLite Library Path for Bun (TypeScript)\nDESCRIPTION: Invokes Database.setCustomSQLite() in Bun before instantiating any Database objects, pointing Bun to a specific SQLite dynamic library. Ensures compatibility with extensions on macOS where the default SQLite doesn't support them.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_29\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nDatabase.setCustomSQLite(\"/path/to/libsqlite.dylib\");\n\nconst db = new Database();\ndb.loadExtension(\"myext\");\n\n```\n\n----------------------------------------\n\nTITLE: Install LLVM on openSUSE Tumbleweed\nDESCRIPTION: This command installs Clang 19, LLD 19, and LLVM 19 on openSUSE Tumbleweed using zypper. These packages are essential for building Bun. `sudo` provides the necessary root privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo zypper install clang19 lld19 llvm19\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Bun\nDESCRIPTION: Command to install project dependencies using Bun package manager\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/cli/init/README.default.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun install\n```\n\n----------------------------------------\n\nTITLE: Configuring ESLint for Bun Project\nDESCRIPTION: This snippet sets up ESLint configuration for the Bun project. It extends recommended configurations, specifies the environment, and defines custom rules for code linting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/fs/writeFileSync.txt#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  root: true,\n  extends: [\n    \"eslint:recommended\",\n    \"plugin:@typescript-eslint/recommended\",\n    \"prettier\",\n  ],\n  parser: \"@typescript-eslint/parser\",\n  plugins: [\"@typescript-eslint\"],\n  env: {\n    browser: true,\n    es2021: true,\n    node: true,\n  },\n  rules: {\n    \"@typescript-eslint/no-unused-vars\": [\n      \"error\",\n      { argsIgnorePattern: \"^_\", varsIgnorePattern: \"^_\" },\n    ],\n    \"@typescript-eslint/no-explicit-any\": \"off\",\n    \"@typescript-eslint/ban-ts-comment\": \"off\",\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Install LLVM on Arch Linux\nDESCRIPTION: This command installs LLVM, Clang, and LLD on Arch Linux using pacman. These are required for building Bun. `sudo` is required to install the packages with root privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo pacman -S llvm clang lld\n```\n\n----------------------------------------\n\nTITLE: Using jest.fn() for Mocking in Bun Test Framework (TypeScript)\nDESCRIPTION: Shows an alternative way to create mocks using `jest.fn()` function, which behaves identically to the `mock` function in Bun's test framework.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, jest } from \"bun:test\";\nconst random = jest.fn(() => Math.random());\n\ntest(\"random\", async () => {\n  const val = random();\n  expect(val).toBeGreaterThan(0);\n  expect(random).toHaveBeenCalled();\n  expect(random).toHaveBeenCalledTimes(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Network Request Debugging with Bun\nDESCRIPTION: Example showing how to enable verbose fetch logging in Bun using environment variables to print network requests as curl commands.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nprocess.env.BUN_CONFIG_VERBOSE_FETCH = \"curl\";\n\nawait fetch(\"https://example.com\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n  body: JSON.stringify({ foo: \"bar\" }),\n});\n```\n\n----------------------------------------\n\nTITLE: Running WebSocket Chat Server in Bun\nDESCRIPTION: Command to start the WebSocket chat server using Bun's built-in Bun.serve functionality.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/websocket-server/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun ./chat-server.bun.js\n```\n\n----------------------------------------\n\nTITLE: Configuring Optional Dependencies in Bun Install\nDESCRIPTION: Controls whether optional dependencies are installed during bun install. Default is true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_16\n\nLANGUAGE: toml\nCODE:\n```\n[install]\noptional = true\n```\n\n----------------------------------------\n\nTITLE: Running the Seed Script with Bun (Shell)\nDESCRIPTION: This shell command runs the previously created `seed.ts` script using Bun. Output is 'Seeding complete.' if data is successfully inserted. Dependencies: Bun, seed script, database running. Input: None. Output: Console logs confirming completion.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\nbun run seed.ts\nSeeding complete.\n```\n\n----------------------------------------\n\nTITLE: Handling DataView bounds errors\nDESCRIPTION: Shows the error that occurs when attempting to write data beyond the capacity of the underlying ArrayBuffer. In this case, trying to write a Float64 (8 bytes) to a 4-byte buffer causes a RangeError.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\ndv.setFloat64(0, 3.1415);\n// ^ RangeError: Out of bounds access\n```\n\n----------------------------------------\n\nTITLE: Postject CLI Usage Example\nDESCRIPTION: Command-line interface help output showing available options and arguments for injecting resources into executables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/postject/README.markdown#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ postject -h\nUsage: postject [options] <filename> <resource_name> <resource>\n\nInject arbitrary read-only resources into an executable for use at runtime\n\nArguments:\n  filename                             The executable to inject into\n  resource_name                        The resource name to use (section name on Mach-O and ELF, resource name for PE)\n  resource                             The resource to inject\n\nOptions:\n  --macho-segment-name <segment_name>  Name for the Mach-O segment (default: \"__POSTJECT\")\n  --output-api-header                  Output the API header to stdout\n  --overwrite                          Overwrite the resource if it already exists\n  -h, --help                           display help for command\n```\n\n----------------------------------------\n\nTITLE: Setting Up a Bun Project for Neon Serverless Postgres - Shell\nDESCRIPTION: This snippet demonstrates the series of shell commands needed to create a new Bun project and install the Neon serverless Postgres driver as a dependency. Prerequisites include Bun installed globally on your system and network access to npm packages. Running these commands will initialize the project directory, set up a Bun project, and add the required Neon driver. The commands should be executed in a Unix-like shell environment.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-serverless-postgres.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ mkdir bun-neon-postgres\\n$ cd bun-neon-postgres\\n$ bun init -y\\n$ bun add @neondatabase/serverless\n```\n\n----------------------------------------\n\nTITLE: Type Definition for Bun.stringWidth API - Bun - TypeScript\nDESCRIPTION: This type definition outlines the interface for Bun.stringWidth. It defines options to count ANSI escape codes and handle ambiguous emoji width, with detailed documentation for each parameter and return type. This assists in providing strong typing and improved autocompletion when using the Bun API in TypeScript environments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_12\n\nLANGUAGE: TypeScript\nCODE:\n```\nnamespace Bun {\n  export function stringWidth(\n    /**\n     * The string to measure\n     */\n    input: string,\n    options?: {\n      /**\n       * If `true`, count ANSI escape codes as part of the string width. If `false`, ANSI escape codes are ignored when calculating the string width.\n       *\n       * @default false\n       */\n      countAnsiEscapeCodes?: boolean;\n      /**\n       * When it's ambiugous and `true`, count emoji as 1 characters wide. If `false`, emoji are counted as 2 character wide.\n       *\n       * @default true\n       */\n      ambiguousIsNarrow?: boolean;\n    },\n  ): number;\n}\n```\n\n----------------------------------------\n\nTITLE: Basic HTML Document Structure with Meta Tags\nDESCRIPTION: HTML document setup with proper DOCTYPE, meta tags for character encoding, content type and viewport settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/streams/fetch.js.txt#2025-04-22_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n```\n\n----------------------------------------\n\nTITLE: Running Scripts in Multiple Packages via --filter with Bun CLI (Bash)\nDESCRIPTION: Shows how to use bun with the --filter flag to run the same script across multiple packages in a monorepo from a single terminal session. Patterns can target one, some, or all packages (e.g. '*'), running the command in parallel. Requires that each targeted package has the specified script. Inputs are <pattern> and <script>; outputs are parallel terminal UIs for each package invocation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/filter.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nbun --filter <pattern> <script>\n\n```\n\n----------------------------------------\n\nTITLE: Checking Outdated Packages with Glob Pattern - Markdown\nDESCRIPTION: This snippet uses a terminal directive to check for outdated dependencies matching the glob 'eslint*'. The 'displayGlob' property is set to a shell-escaped pattern for improved documentation clarity. The snippet depends on Bun's documentation rendering system and a project with matching dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal displayGlob=\"'eslint*'\" glob=\"eslint*\"  /%}\n```\n\n----------------------------------------\n\nTITLE: Customizing Help Option in Commander.js\nDESCRIPTION: This example shows how to modify the default help option flags and description. You can change the flags and text or pass false to disable the built-in help option.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_34\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .helpOption('-e, --HELP', 'read more information');\n```\n\n----------------------------------------\n\nTITLE: Package.json with Subpath Exports\nDESCRIPTION: Shows how to configure package.json to export specific subpaths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_13\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"name\": \"foo\",\n  \"exports\": {\n    \".\": \"./index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Zlib Compression Options Type Definition in TypeScript\nDESCRIPTION: Defines the configuration options available for zlib compression algorithms in Bun. Options include compression level, memory allocation, window size, and strategy selection to fine-tune compression behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nexport type ZlibCompressionOptions = {\n  /**\n   * The compression level to use. Must be between `-1` and `9`.\n   * - A value of `-1` uses the default compression level (Currently `6`)\n   * - A value of `0` gives no compression\n   * - A value of `1` gives least compression, fastest speed\n   * - A value of `9` gives best compression, slowest speed\n   */\n  level?: -1 | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\n  /**\n   * How much memory should be allocated for the internal compression state.\n   *\n   * A value of `1` uses minimum memory but is slow and reduces compression ratio.\n   *\n   * A value of `9` uses maximum memory for optimal speed. The default is `8`.\n   */\n  memLevel?: 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9;\n  /**\n   * The base 2 logarithm of the window size (the size of the history buffer).\n   *\n   * Larger values of this parameter result in better compression at the expense of memory usage.\n   *\n   * The following value ranges are supported:\n   * - `9..15`: The output will have a zlib header and footer (Deflate)\n   * - `-9..-15`: The output will **not** have a zlib header or footer (Raw Deflate)\n   * - `25..31` (16+`9..15`): The output will have a gzip header and footer (gzip)\n   *\n   * The gzip header will have no file name, no extra data, no comment, no modification time (set to zero) and no header CRC.\n   */\n  windowBits?:\n    | -9\n    | -10\n    | -11\n    | -12\n    | -13\n    | -14\n    | -15\n    | 9\n    | 10\n    | 11\n    | 12\n    | 13\n    | 14\n    | 15\n    | 25\n    | 26\n    | 27\n    | 28\n    | 29\n    | 30\n    | 31;\n  /**\n   * Tunes the compression algorithm.\n   *\n   * - `Z_DEFAULT_STRATEGY`: For normal data **(Default)**\n   * - `Z_FILTERED`: For data produced by a filter or predictor\n   * - `Z_HUFFMAN_ONLY`: Force Huffman encoding only (no string match)\n   * - `Z_RLE`: Limit match distances to one (run-length encoding)\n   * - `Z_FIXED` prevents the use of dynamic Huffman codes\n   *\n   * `Z_RLE` is designed to be almost as fast as `Z_HUFFMAN_ONLY`, but give better compression for PNG image data.\n   *\n   * `Z_FILTERED` forces more Huffman coding and less string matching, it is\n   * somewhat intermediate between `Z_DEFAULT_STRATEGY` and `Z_HUFFMAN_ONLY`.\n   * Filtered data consists mostly of small values with a somewhat random distribution.\n   */\n  strategy?: number;\n};\n```\n\n----------------------------------------\n\nTITLE: Recursive Directory Watching in Bun\nDESCRIPTION: This snippet shows how to recursively watch a directory and its subdirectories for changes by using the recursive option with fs.watch.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/watch.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { watch } from \"fs\";\n\nconst watcher = watch(\n  import.meta.dir,\n  { recursive: true },\n  (event, filename) => {\n    console.log(`Detected ${event} in ${filename}`);\n  },\n);\n```\n\n----------------------------------------\n\nTITLE: Building a Bundle with CLI\nDESCRIPTION: This command uses Bun's CLI to create a bundle from an entry point and write it to an output directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out\n```\n\n----------------------------------------\n\nTITLE: Rendering Button Component in MDX with JSX\nDESCRIPTION: This snippet demonstrates how to include a JSX component (Button) directly within MDX content. The component includes an onClick handler that displays an alert when clicked.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/input/page2.mdx#2025-04-22_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\n<Button onClick={() => alert(\"Hello!\")}>Click me</Button>\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Runtime\nDESCRIPTION: Downloads and executes the Bun installation script using PowerShell's Invoke-RestMethod.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_1\n\nLANGUAGE: powershell\nCODE:\n```\nirm bun.sh/install.ps1 | iex\n```\n\n----------------------------------------\n\nTITLE: BuildOutput Interface Definition\nDESCRIPTION: TypeScript interface defining the structure of Bun build outputs, including artifacts and metadata.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_60\n\nLANGUAGE: typescript\nCODE:\n```\ninterface BuildOutput {\n  outputs: BuildArtifact[];\n  success: boolean;\n  logs: Array<object>; // see docs for details\n}\n\ninterface BuildArtifact extends Blob {\n  kind: \"entry-point\" | \"chunk\" | \"asset\" | \"sourcemap\";\n  path: string;\n  loader: Loader;\n  hash: string | null;\n  sourcemap: BuildArtifact | null;\n}\n```\n\n----------------------------------------\n\nTITLE: Cloning WebKit\nDESCRIPTION: Clones WebKit into the `vendor/WebKit` directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_24\n\nLANGUAGE: bash\nCODE:\n```\n$ git clone https://github.com/oven-sh/WebKit vendor/WebKit\n```\n\n----------------------------------------\n\nTITLE: Importing Test Utilities for Bun Build Tests\nDESCRIPTION: Shows how to import the necessary test utilities for writing Bun build tests, including itBundled and testForFile functions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { itBundled, testForFile } from \"./expectBundled\";\nvar { describe, test, expect } = testForFile(import.meta.path);\n```\n\n----------------------------------------\n\nTITLE: Simple C Function Implementation\nDESCRIPTION: A basic C function that returns an integer value of 42.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_1\n\nLANGUAGE: c\nCODE:\n```\nint hello() {\n  return 42;\n}\n```\n\n----------------------------------------\n\nTITLE: Bun's final optimization: Dead code elimination\nDESCRIPTION: This snippet shows the final result of Bun's optimization process, where unreachable code is eliminated.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nconsole.log(\"Production mode\");\n```\n\n----------------------------------------\n\nTITLE: GZIP Read/Write Operations Implementation in C\nDESCRIPTION: Implementation of gzwrite() and gzread() functions for compressed data streaming with error handling and buffer management.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_7\n\nLANGUAGE: C\nCODE:\n```\nint gzwrite(gz, buf, len)\n    gzFile gz;\n    const void *buf;\n    unsigned len;\n{\n    z_stream *strm;\n    unsigned char out[BUFLEN];\n\n    if (gz == NULL || !gz->write)\n        return 0;\n    strm = &(gz->strm);\n    strm->next_in = (void *)buf;\n    strm->avail_in = len;\n    do {\n        strm->next_out = out;\n        strm->avail_out = BUFLEN;\n        (void)deflate(strm, Z_NO_FLUSH);\n        fwrite(out, 1, BUFLEN - strm->avail_out, gz->file);\n    } while (strm->avail_out == 0);\n    return len;\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing and Serving Stric Application with PageRouter in TypeScript\nDESCRIPTION: This snippet demonstrates initializing and running a Stric web application using `PageRouter` from `@stricjs/arrow`. It creates a `PageRouter` instance, which automatically discovers and routes requests to page components (like the one potentially defined in `src/App.ts` based on the exported `path`), and then calls the `serve()` method to start the web server using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/stric.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PageRouter } from '@stricjs/arrow';\n\n// Create a page router, build and serve directly\nnew PageRouter().serve();\n```\n\n----------------------------------------\n\nTITLE: JavaScript Object and Array Examples\nDESCRIPTION: Examples showing different object and array formats including nested objects, circular references and sparse arrays\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/console/console-log.expected.txt#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n[\n  {}, {}, {}, {}\n]\n{\n  level1: {\n    level2: {\n      level3: [Object ...],\n    },\n  },\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun with Hot Reload and Observing Results\nDESCRIPTION: Example output of running a TypeScript file with Bun's --hot mode, showing the incrementing reload counter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --hot index.ts\nReloaded 1 times\nReloaded 2 times\nReloaded 3 times\n```\n\n----------------------------------------\n\nTITLE: Property: fullName\nDESCRIPTION: Property accessor on the Fhqwhgads class\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_backticks_in_headings.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nFqhqwhgads.fullName\n```\n\n----------------------------------------\n\nTITLE: Deprecation Metadata in YAML\nDESCRIPTION: YAML metadata block showing both feature addition and deprecation version information\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_yaml.md#2025-04-22_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\nadded: v1.0.0\ndeprecated: v2.0.0\n```\n\n----------------------------------------\n\nTITLE: Memory Management Functions Implementation in C\nDESCRIPTION: Custom memory allocation and deallocation functions that wrap calloc() and free(). These functions are used as callbacks for the zlib compression stream.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_5\n\nLANGUAGE: C\nCODE:\n```\nvoid *myalloc(q, n, m)\n    void *q;\n    unsigned n, m;\n{\n    (void)q;\n    return calloc(n, m);\n}\n\nvoid myfree(q, p)\n    void *q, *p;\n{\n    (void)q;\n    free(p);\n}\n```\n\n----------------------------------------\n\nTITLE: Asset Import Example Input\nDESCRIPTION: Example of importing an SVG file as an asset, which will be treated as an external file by the bundler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\n// bundle entrypoint\nimport logo from \"./logo.svg\";\nconsole.log(logo);\n```\n\n----------------------------------------\n\nTITLE: Using Life Cycle Hooks in Commander.js\nDESCRIPTION: Demonstrates how to add hooks for command life cycle events. This example adds a preAction hook that logs debugging information when the --trace option is enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_22\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-t, --trace', 'display trace statements for commands')\n  .hook('preAction', (thisCommand, actionCommand) => {\n    if (thisCommand.opts().trace) {\n      console.log(`About to call action handler for subcommand: ${actionCommand.name()}`);\n      console.log('arguments: %O', actionCommand.args);\n      console.log('options: %o', actionCommand.opts());\n    }\n  });\n```\n\n----------------------------------------\n\nTITLE: CSS with TailwindCSS Import\nDESCRIPTION: CSS file example showing how to import TailwindCSS for use with the bun-plugin-tailwind plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_14\n\nLANGUAGE: css\nCODE:\n```\n@import \"tailwindcss\";\n```\n\n----------------------------------------\n\nTITLE: Running WASI Binaries with Bun\nDESCRIPTION: Demonstrates how to run WebAssembly System Interface (WASI) binaries using Bun. This feature is experimental and based on wasi-js.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/loaders.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun ./my-wasm-app.wasm\n# if the filename doesn't end with \".wasm\"\n$ bun run ./my-wasm-app.whatever\n```\n\n----------------------------------------\n\nTITLE: Defining Array Configurations in TOML\nDESCRIPTION: This snippet creates array configurations with multiple entries and nested structures.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_6\n\nLANGUAGE: toml\nCODE:\n```\n[[array]]\nentry_one = \"one\"\nentry_two = \"two\"\n\n[[array]]\nentry_one = \"three\"\n\n[[array.nested]]\nentry_one = \"four\"\n```\n\n----------------------------------------\n\nTITLE: Optional Value Boolean Options in JavaScript\nDESCRIPTION: Shows how to implement an option that can be used both as a boolean flag and with an optional value argument using Commander.js.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-c, --cheese [type]', 'Add cheese with optional type');\n\nprogram.parse(process.argv);\n\nconst options = program.opts();\nif (options.cheese === undefined) console.log('no cheese');\nelse if (options.cheese === true) console.log('add cheese');\nelse console.log(`add cheese type ${options.cheese}`);\n```\n\n----------------------------------------\n\nTITLE: Configuring banner in Bun Build (JavaScript)\nDESCRIPTION: Adds text at the beginning of bundled files, useful for directives like \"use client\" or license comments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_54\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  banner: '\"use client\";'\n})\n```\n\n----------------------------------------\n\nTITLE: Building with Code Splitting Enabled - Bun CLI - CLI\nDESCRIPTION: Demonstrates CLI-based bundling with multiple entrypoints and code splitting explicitly enabled, which will output shared code chunks. Requires Bun installed and multiple entry files present. The outdir will contain result files for each entrypoint as well as shared chunks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_31\n\nLANGUAGE: CLI\nCODE:\n```\n$ bun build ./entry-a.ts ./entry-b.ts --outdir ./out --splitting\n```\n\n----------------------------------------\n\nTITLE: Configuring Global Git Diff for Bun Lockfile\nDESCRIPTION: These commands configure Git globally to use Bun for generating human-readable diffs of .lockb files. It sets the textconv command to 'bun' and marks the diff as binary, applying to all repositories.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/git-diff-bun-lockfile.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ git config --global diff.lockb.textconv bun\n$ git config --global diff.lockb.binary true\n```\n\n----------------------------------------\n\nTITLE: Creating Basic HTTP Server with node:http on Bun - TypeScript\nDESCRIPTION: This TypeScript code snippet demonstrates creating a simple HTTP server using the core 'node:http' module, showcasing Bun's support for Node.js core APIs. The server writes 'Hello World!' to all incoming connections and closes the response. No external dependencies are required beyond Bun's built-in Node.js compatibility. The server listens on port 8080, responds identically to all requests, and is well-suited for learning or minimalist server prototypes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/express.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport * as http from \"node:http\";\n\nhttp\n  .createServer(function (req, res) {\n    res.write(\"Hello World!\");\n    res.end();\n  })\n  .listen(8080);\n```\n\n----------------------------------------\n\nTITLE: Filtering Bun Tests by File Path using Bash\nDESCRIPTION: Demonstrates how to filter which test files are executed by providing one or more positional arguments (filters) to the `bun test` command. Any test file whose path contains one of the provided filter strings will be run. Glob patterns are not supported.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test <filter> <filter> ...\n```\n\n----------------------------------------\n\nTITLE: Configuring define in Bun Build (JavaScript)\nDESCRIPTION: Replaces global identifiers at build time with custom values, where keys are identifiers and values are JSON strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_50\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  define: {\n    STRING: JSON.stringify(\"value\"),\n    \"nested.boolean\": \"true\",\n  },\n})\n```\n\n----------------------------------------\n\nTITLE: Accessing Escaped Environment Variables\nDESCRIPTION: Demonstrates how escaped environment variable references appear in the code when accessed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nprocess.env.BAR; // => \"hello$FOO\"\n```\n\n----------------------------------------\n\nTITLE: Running tests with preloaded setup in Bun\nDESCRIPTION: Command to run Bun tests with a preloaded setup file. The --preload flag loads and executes the specified file before any tests are run, allowing for global test configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test --preload ./setup.ts\n```\n\n----------------------------------------\n\nTITLE: Relative Color Syntax in CSS - Bun Bundler\nDESCRIPTION: Shows usage of relative color syntax such as lch(from ...) and oklch(from ...) for deriving variants from base colors or CSS variables. No dependencies. Bun computes values at build-time when CSS variables are not used, outputting static color values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_6\n\nLANGUAGE: css\nCODE:\n```\n.theme-color {\\n  /* Start with a base color and increase lightness by 15% */\\n  --accent: lch(from purple calc(l + 15%) c h);\\n\\n  /* Take our brand blue and make a desaturated version */\\n  --subtle-blue: oklch(from var(--brand-blue) l calc(c * 0.8) h);\\n}\n```\n\n----------------------------------------\n\nTITLE: USample Output From CSS Module Import - TypeScript\nDESCRIPTION: This TypeScript snippet illustrates the expected runtime structure of the imported CSS modules. The objects map each class name to a unique identifier as generated by Bun. There are no dependencies as this is sample output for documentation purposes. Input: CSS module imports with specifically scoped class names. Output: JavaScript objects showing the mapping. Limitation: shown strings like 'button_123' are placeholders; actual values depend on Bun's hashing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\n{\n  button: \"button_123\";\n}\n\n{\n  button: \"button_456\";\n}\n\n```\n\n----------------------------------------\n\nTITLE: Specifying Bundle Packages in TOML\nDESCRIPTION: This snippet defines bundle packages for the project, enabling @emotion/react.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[bundle.packages]\n\"@emotion/react\" = true\n```\n\n----------------------------------------\n\nTITLE: Inlining Environment Variables - env: \"inline\" - Bun CLI - CLI\nDESCRIPTION: Accomplishes the same environment variable inlining via the Bun CLI. Supports standard UNIX-style environment variable assignment preceding the CLI invocation. Outputs bundled files with values inlined.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_35\n\nLANGUAGE: CLI\nCODE:\n```\n$ FOO=bar BAZ=123 bun build ./index.tsx --outdir ./out --env inline\n```\n\n----------------------------------------\n\nTITLE: Building and Running Chrome DevTools Tests\nDESCRIPTION: Commands for building Chrome DevTools and running the test suite.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/test426/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nautoninja -C out/Default\nnpm run auto-unittest\ngit apply <path to .patch file>\n```\n\n----------------------------------------\n\nTITLE: Using parse() and parseAsync() in Commander.js\nDESCRIPTION: This shows different ways to use the parse() method with various source conventions. You can use process.argv, implicit detection, or specify custom arguments with a source type.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_38\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.parse(process.argv); // Explicit, node conventions\nprogram.parse(); // Implicit, and auto-detect electron\nprogram.parse(['-f', 'filename'], { from: 'user' });\n```\n\n----------------------------------------\n\nTITLE: Platform-Specific Definitions for VMS and RISCOS in C\nDESCRIPTION: Defines platform-specific macros and functions for VMS and RISCOS systems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_2\n\nLANGUAGE: C\nCODE:\n```\n#ifdef VMS\n#  define unlink delete\n#  define GZ_SUFFIX \"-gz\"\n#endif\n#ifdef RISCOS\n#  define unlink remove\n#  define GZ_SUFFIX \"-gz\"\n#  define fileno(file) file->__file\n#endif\n#if defined(__MWERKS__) && __dest_os != __be_os && __dest_os != __win32_os\n#  include <unix.h> /* for fileno */\n#endif\n```\n\n----------------------------------------\n\nTITLE: Configuring .gitignore to Exclude Sensitive Files\nDESCRIPTION: Provides an example `.gitignore` file content to prevent `node_modules` and the sensitive `.env.local` file (containing the bot token) from being committed to version control.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_3\n\nLANGUAGE: txt\nCODE:\n```\nnode_modules\n.env.local\n```\n\n----------------------------------------\n\nTITLE: Running Bun with Hot Reload\nDESCRIPTION: Command line instruction for running a TypeScript file with hot reloading enabled using Bun's --hot flag. When enabled, Bun will re-run the file whenever any module or file changes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/hot.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun --hot run index.ts\n```\n\n----------------------------------------\n\nTITLE: onStart Lifecycle Hook Implementation\nDESCRIPTION: Example of implementing the onStart lifecycle hook in a Bun plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"onStart example\",\n\n  setup(build) {\n    build.onStart(() => {\n      console.log(\"Bundle started!\");\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Nesting Media Queries with Bun Bundler - CSS\nDESCRIPTION: Illustrates modern CSS nesting of @media queries inside selectors and how Bun's bundler expands them. No dependencies. Key input is a media query nested inside a class selector; output is a separate media rule targeting the selector. Enables DRY media queries without repetition.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_2\n\nLANGUAGE: css\nCODE:\n```\n.responsive-element {\\n  display: block;\\n\\n  @media (min-width: 768px) {\\n    display: flex;\\n  }\\n}\n```\n\n----------------------------------------\n\nTITLE: Migrating Lockfiles with Bun\nDESCRIPTION: Attempts to convert an existing lockfile from another package manager (e.g., `package-lock.json`, `yarn.lock`) into Bun's native `bun.lockb` format. This command only performs the conversion and does not install any dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm migrate\n```\n\n----------------------------------------\n\nTITLE: Sample Dependencies Configuration - package.json - JSON\nDESCRIPTION: This JSON snippet provides an example of a package.json dependencies section where the react package is set to accept any ^17.0.2 version. This structure is required by Bun and similar package managers to determine which versions can be installed or updated. The dependencies object maps package names to semantic version ranges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/update.md#2025-04-22_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"react\": \"^17.0.2\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Version Metadata in YAML\nDESCRIPTION: YAML metadata block indicating feature addition in version 1.0.0\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_yaml.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nadded: v1.0.0\n```\n\n----------------------------------------\n\nTITLE: Streaming HTTP Response with Async Generator Function in Bun\nDESCRIPTION: Creates an HTTP server that streams data to clients using an async generator function as the Response body. The generator yields string parts and a TypedArray with delays between chunks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/stream-iterator.md#2025-04-22_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nBun.serve({\n  port: 3000,\n  fetch(req) {\n    return new Response(\n      // An async generator function\n      async function* () {\n        yield \"Hello, \";\n        await Bun.sleep(100);\n        yield \"world!\";\n\n        // you can also yield a TypedArray or Buffer\n        yield new Uint8Array([\"\\n\".charCodeAt(0)]);\n      },\n      { headers: { \"Content-Type\": \"text/plain\" } },\n    );\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Checking Clang-19 in PATH\nDESCRIPTION: Checks if clang-19 is available in the system's PATH environment variable. This ensures that the correct Clang version is accessible during the build process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ which clang-19\n```\n\n----------------------------------------\n\nTITLE: C Implementation using N-API for String Creation\nDESCRIPTION: C code that uses N-API to create and return a UTF-8 string to JavaScript.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_4\n\nLANGUAGE: c\nCODE:\n```\n#include <node/node_api.h>\n\nnapi_value hello(napi_env env) {\n  napi_value result;\n  napi_create_string_utf8(env, \"Hello, Napi!\", NAPI_AUTO_LENGTH, &result);\n  return result;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a ReadableStream from Buffer using the ReadableStream Constructor (TypeScript)\nDESCRIPTION: This snippet demonstrates a naive approach for converting a Node.js Buffer into a ReadableStream by directly enqueuing the entire buffer as a single chunk. Dependencies include Buffer (built-in Node.js/Bun), and the standard ReadableStream API. The start function enqueues the full buffer and closes the stream immediately; this method is best suited for small buffers, as larger ones will not benefit from streaming in incremental chunks. The output is a ReadableStream that delivers the complete Buffer content in one piece.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-readablestream.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello world\");\nconst stream = new ReadableStream({\n  start(controller) {\n    controller.enqueue(buf);\n    controller.close();\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: GitHub Session Alert Notification Component\nDESCRIPTION: HTML for a session notification flash message that alerts users when their session state has changed. The component includes two different messages: one for when a user has signed in from another tab, and another for when they've signed out.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_19\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"js-stale-session-flash flash flash-warn flash-banner\" hidden>\n  <svg class=\"octicon octicon-alert\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8.22 1.754a.25.25 0 00-.44 0L1.698 13.132a.25.25 0 00.22.368h12.164a.25.25 0 00.22-.368L8.22 1.754zm-1.763-.707c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0114.082 15H1.918a1.75 1.75 0 01-1.543-2.575L6.457 1.047zM9 11a1 1 0 11-2 0 1 1 0 012 0zm-.25-5.25a.75.75 0 00-1.5 0v2.5a.75.75 0 001.5 0v-2.5z\"></path></svg>\n  <span class=\"js-stale-session-flash-signed-in\" hidden>You signed in with another tab or window. <a href=\"\">Reload</a> to refresh your session.</span>\n  <span class=\"js-stale-session-flash-signed-out\" hidden>You signed out in another tab or window. <a href=\"\">Reload</a> to refresh your session.</span>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Source Definition in cc Configuration\nDESCRIPTION: Example and type definition for the source parameter in the cc function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\ntype Source = string | URL | BunFile;\n\ncc({\n  source: \"hello.c\",\n  symbols: {\n    hello: {\n      args: [],\n      returns: \"int\",\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Using fileURL from tmpdir module\nDESCRIPTION: Resolves a sequence of paths into an absolute URL in the temporary directory. Returns the URL of the temporary directory with trailing slash when called without arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_24\n\nLANGUAGE: JavaScript\nCODE:\n```\nfileURL([...paths])\n```\n\n----------------------------------------\n\nTITLE: Building for Production with Bun CLI\nDESCRIPTION: A bash command to build an HTML-based project for production using Bun's CLI. This creates optimized bundles with minification and outputs to a specified directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.html --minify --outdir=dist\n```\n\n----------------------------------------\n\nTITLE: Configuring Auto-Install Behavior in Bun\nDESCRIPTION: Controls when Bun automatically installs missing dependencies during execution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_22\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nauto = \"auto\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Development Settings in TOML\nDESCRIPTION: This snippet sets various development-related options, including nested key-value pairs and numeric values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[dev]\nfoo = 123\n\"foo.bar\" = \"baz\"\n\"abba.baba\" = \"baba\"\ndabba = -123\ndoo = 123.456\none.two.three = 4\n```\n\n----------------------------------------\n\nTITLE: Markdown Heading and Text\nDESCRIPTION: Basic markdown file with a heading labeled 'foobar' and a statement about existence and linking.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_inc_2.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# foobar\n\nI exist and am being linked to.\n```\n\n----------------------------------------\n\nTITLE: Including Required Headers in C\nDESCRIPTION: Includes necessary standard and system-specific headers for the minigzip implementation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_0\n\nLANGUAGE: C\nCODE:\n```\n#include \"zlib.h\"\n#include <stdio.h>\n\n#ifdef STDC\n#  include <string.h>\n#  include <stdlib.h>\n#endif\n\n#ifdef USE_MMAP\n#  include <sys/types.h>\n#  include <sys/mman.h>\n#  include <sys/stat.h>\n#endif\n```\n\n----------------------------------------\n\nTITLE: Error.captureStackTrace Output Example\nDESCRIPTION: Shows the difference in stack traces before and after using Error.captureStackTrace. The second stack trace starts at the point specified by the second argument to Error.captureStackTrace.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\nError: here!\n    at myInner (file.js:4:15)\n    at fn (file.js:8:5)\n    at module code (file.js:17:1)\n    at moduleEvaluation (native)\n    at moduleEvaluation (native)\n    at <anonymous> (native)\n\n-- captureStackTrace --\n\nError: here!\n    at module code (file.js:17:1)\n    at moduleEvaluation (native)\n    at moduleEvaluation (native)\n    at <anonymous> (native)\n```\n\n----------------------------------------\n\nTITLE: Running a Bun Script with Command-line Arguments\nDESCRIPTION: Demonstrates the output of running a Bun script with various command-line arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/argv.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun run cli.ts --flag1 --flag2 value\n[ '/path/to/bun', '/path/to/cli.ts', '--flag1', '--flag2', 'value' ]\n```\n\n----------------------------------------\n\nTITLE: Filtering Outdated Dependencies by Workspace - Markdown\nDESCRIPTION: Utilizes the Bun CLI terminal directive to restrict the outdated check to dependencies found within a specific workspace (here, '@monorepo/types') and those matching the 't*' glob. The 'filter' property allows for scoped checks in monorepo environments using Bun workspaces.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_5\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal  glob=\"t*\" filter=\"@monorepo/types\"  /%}\n```\n\n----------------------------------------\n\nTITLE: Running Debug Builds with bun bd\nDESCRIPTION: Executes a debug build of Bun using the `bd` script defined in package.json, allowing specific files or tests to be run and built. The output is only printed if the build process fails.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_19\n\nLANGUAGE: sh\nCODE:\n```\n$ bun bd <args>\n$ bun bd test foo.test.ts\n$ bun bd ./foo.ts\n```\n\n----------------------------------------\n\nTITLE: Configuring Help Display in Commander.js\nDESCRIPTION: This example shows how to configure the Help class behavior using configureHelp() method. Here it enables sorting of subcommands and customizes the subcommand term format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_36\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.configureHelp({\n  sortSubcommands: true,\n  subcommandTerm: (cmd) => cmd.name() // Just show the name, instead of short usage.\n});\n```\n\n----------------------------------------\n\nTITLE: GitHub Watch Button SVG Icon\nDESCRIPTION: SVG icon markup for the repository watch button showing an eye symbol\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_9\n\nLANGUAGE: SVG\nCODE:\n```\n<svg height=\"16\" class=\"octicon octicon-eye\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M1.679 7.932c.412-.621 1.242-1.75 2.366-2.717C5.175 4.242 6.527 3.5 8 3.5c1.473 0 2.824.742 3.955 1.715 1.124.967 1.954 2.096 2.366 2.717a.119.119 0 010 .136c-.412.621-1.242 1.75-2.366 2.717C10.825 11.758 9.473 12.5 8 12.5c-1.473 0-2.824-.742-3.955-1.715C2.92 9.818 2.09 8.69 1.679 8.068a.119.119 0 010-.136zM8 2c-1.981 0-3.67.992-4.933 2.078C1.797 5.169.88 6.423.43 7.1a1.619 1.619 0 000 1.798c.45.678 1.367 1.932 2.637 3.024C4.329 13.008 6.019 14 8 14c1.981 0 3.67-.992 4.933-2.078 1.27-1.091 2.187-2.345 2.637-3.023a1.619 1.619 0 000-1.798c-.45-.678-1.367-1.932-2.637-3.023C11.671 2.992 9.981 2 8 2zm0 8a2 2 0 100-4 2 2 0 000 4z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Building with Target Option - Bun CLI - CLI\nDESCRIPTION: Shows how to perform the same build as above using the Bun CLI. Sets entrypoints, output directory, and target. This variant is for shell/command line usage, requiring Bun to be installed globally. Outputs the bundle to the specified directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_20\n\nLANGUAGE: CLI\nCODE:\n```\n$ bun build --entrypoints ./index.ts --outdir ./out --target browser\n```\n\n----------------------------------------\n\nTITLE: Rebuilding Bun Bindings with Parallelism in Bash\nDESCRIPTION: Runs the `make bindings` command from the Bun project root, using the `-j10` flag to potentially accelerate the process by utilizing up to 10 parallel jobs. This step rebuilds Bun's language bindings against the newly updated WebKit/JSC. Any compile errors encountered during this phase indicate necessary manual code adjustments in Bun's bindings to align with WebKit API changes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# It will take awhile if you don't pass -j here\nmake bindings -j10\n```\n\n----------------------------------------\n\nTITLE: Clone WebKit Repository\nDESCRIPTION: This command clones the WebKit repository into the `./vendor/WebKit` directory. WebKit is not cloned by default. This requires `git` to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_23\n\nLANGUAGE: bash\nCODE:\n```\n# Clone WebKit into ./vendor/WebKit\n$ git clone https://github.com/oven-sh/WebKit vendor/WebKit\n```\n\n----------------------------------------\n\nTITLE: Running a Bun Fullstack Application\nDESCRIPTION: Command to run a Bun fullstack application from the terminal.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run app.ts\n```\n\n----------------------------------------\n\nTITLE: Drizzle Migration Directory Structure (Directory Tree)\nDESCRIPTION: Shows the layout and contents of the generated drizzle migrations folder, including SQL migration files and metadata subdirectory. Output is illustrative for the file system state after migration generation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_7\n\nLANGUAGE: txt\nCODE:\n```\ndrizzle\\n├── 0000_aspiring_post.sql\\n└── meta\\n    ├── 0000_snapshot.json\\n    └── _journal.json\n```\n\n----------------------------------------\n\nTITLE: Package.json Changes for Peer Dependencies\nDESCRIPTION: Shows how the package.json file is updated when adding a peer dependency, with the package being added to the peerDependencies section.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-peer.md#2025-04-22_snippet_1\n\nLANGUAGE: json-diff\nCODE:\n```\n{\n  \"peerDependencies\": {\n+   \"@types/bun\": \"^$BUN_LATEST_VERSION\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding LLVM 19 to PATH (macOS)\nDESCRIPTION: Adds the LLVM 19 binary directory to the PATH environment variable on macOS using Homebrew. This makes Clang-19 accessible from the command line.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\n$ export PATH=\"$(brew --prefix llvm@19)/bin:$PATH\"\n```\n\n----------------------------------------\n\nTITLE: Referencing bun-mdx-rs Binary Package\nDESCRIPTION: Package identifier for the x86_64-unknown-linux-gnu binary version of bun-mdx-rs\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/npm/linux-x64-gnu/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nbun-mdx-rs-linux-x64-gnu\n```\n\n----------------------------------------\n\nTITLE: Creating HTTP/2 Frame for Testing in Node.js\nDESCRIPTION: Example showing how to create a base HTTP/2 Frame instance with specified parameters and write it to a socket. The Frame class serializes the HTTP/2 frame header into a Buffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n// length is a 24-bit unsigned integer\n// type is an 8-bit unsigned integer identifying the frame type\n// flags is an 8-bit unsigned integer containing the flag bits\n// id is the 32-bit stream identifier, if any.\nconst frame = new http2.Frame(length, type, flags, id);\n\n// Write the frame data to a socket\nsocket.write(frame.data);\n```\n\n----------------------------------------\n\nTITLE: Canceling Request with AbortController in TypeScript\nDESCRIPTION: Shows how to manually cancel a fetch request using an AbortController, which provides more control over when to abort the request.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nconst controller = new AbortController();\n\nconst response = await fetch(\"http://example.com\", {\n  signal: controller.signal,\n});\n\ncontroller.abort();\n```\n\n----------------------------------------\n\nTITLE: Re-installing Dependencies After Adding Trust\nDESCRIPTION: This shell command sequence demonstrates how to perform a fresh installation of dependencies after adding a trusted dependency, ensuring proper installation and execution of lifecycle scripts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/trusted.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ rm -rf node_modules\n$ rm bun.lock\n$ bun install\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests with --todo Flag (Shell)\nDESCRIPTION: This snippet shows the output of running bun test with the --todo flag, which executes todo tests and expects them to fail. If a todo test passes, it's considered a failure and returns a non-zero exit code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/todo-tests.md#2025-04-22_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test --todo\nmy.test.ts:\n✗ unimplemented feature\n  ^ this test is marked as todo but passes. Remove `.todo` or check that test is correct.\n\n 0 pass\n 1 fail\n 1 expect() calls\n$ echo $?\n1 # this is the exit code of the previous command\n```\n\n----------------------------------------\n\nTITLE: Configuring SQLite3 Static Library Build with CMake\nDESCRIPTION: Configures SQLite3 as a static library with extended features enabled through compiler definitions. Sets minimum CMake version, defines project parameters, and configures build targets with specific compile definitions. Includes Windows-specific compilation flags.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/bun.js/bindings/sqlite/CMakeLists.txt#2025-04-22_snippet_0\n\nLANGUAGE: cmake\nCODE:\n```\ncmake_minimum_required(VERSION 3.28)\nproject(sqlite3 C)\n\nadd_library(sqlite3 STATIC sqlite3.c)\ntarget_include_directories(sqlite3 PUBLIC ${CMAKE_CURRENT_SOURCE_DIR})\ntarget_compile_definitions(sqlite3 PRIVATE\n  \"SQLITE_ENABLE_COLUMN_METADATA=\"\n  \"SQLITE_MAX_VARIABLE_NUMBER=250000\"\n  \"SQLITE_ENABLE_RTREE=1\"\n  \"SQLITE_ENABLE_FTS3=1\"\n  \"SQLITE_ENABLE_FTS3_PARENTHESIS=1\"\n  \"SQLITE_ENABLE_FTS5=1\"\n  \"SQLITE_ENABLE_JSON1=1\"\n  \"SQLITE_ENABLE_MATH_FUNCTIONS=1\"\n)\n\nif(WIN32)\n  target_compile_options(sqlite3 PRIVATE /MT /U_DLL)\nendif()\n```\n\n----------------------------------------\n\nTITLE: Route Precedence in Bun.serve\nDESCRIPTION: Example illustrating the order of route matching in Bun.serve, from most specific (exact routes) to least specific (global catch-all), demonstrating the route resolution hierarchy.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    // Most specific first\n    \"/api/users/me\": () => new Response(\"Current user\"),\n    \"/api/users/:id\": req => new Response(`User ${req.params.id}`),\n    \"/api/*\": () => new Response(\"API catch-all\"),\n    \"/*\": () => new Response(\"Global catch-all\"),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Using maxBuffer with spawnSync in TypeScript\nDESCRIPTION: Demonstrates how to limit the maximum output of a synchronous child process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\n// KIll 'yes' after it emits over 100 bytes of output\nconst result = Bun.spawnSync({\n  cmd: [\"yes\"], // or [\"bun\", \"exec\", \"yes\"] on windows\n  maxBuffer: 100,\n});\n// process exits\n```\n\n----------------------------------------\n\nTITLE: Installing Express Dependency with Bun (Shell)\nDESCRIPTION: Adds the Express.js framework as a project dependency using the `bun add` command. This command downloads and installs the `express` package, making it available for use in the project. Requires the Bun runtime to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/express.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add express\n```\n\n----------------------------------------\n\nTITLE: Define Flag Usage Comparison\nDESCRIPTION: Demonstrates the syntax difference in using the --define flag between esbuild and Bun. esbuild uses a colon separator while Bun uses a space.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ esbuild --define:foo=bar\n$ bun build --define foo=bar\n```\n\n----------------------------------------\n\nTITLE: Modern Media Query Range Syntax\nDESCRIPTION: Shows modern range syntax for media queries using comparison operators and how Bun converts them to traditional min/max syntax for browser compatibility.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_23\n\nLANGUAGE: css\nCODE:\n```\n@media (width >= 768px) {\n  .container {\n    max-width: 720px;\n  }\n}\n\n@media (768px <= width <= 1199px) {\n  .sidebar {\n    display: flex;\n  }\n}\n\n@media (width > 320px) and (width < 768px) {\n  .mobile-only {\n    display: block;\n  }\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n@media (min-width: 768px) {\n  .container {\n    max-width: 720px;\n  }\n}\n\n@media (min-width: 768px) and (max-width: 1199px) {\n  .sidebar {\n    display: flex;\n  }\n}\n\n@media (min-width: 321px) and (max-width: 767px) {\n  .mobile-only {\n    display: block;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Idle Timeout (TypeScript)\nDESCRIPTION: This snippet configures the idle timeout for WebSocket connections using the `idleTimeout` parameter.  The connection will be closed after the specified duration of inactivity.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req, server) {}, // upgrade logic\n  websocket: {\n    idleTimeout: 60, // 60 seconds\n\n    // ...\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Resolving Domain Names with node:dns in TypeScript\nDESCRIPTION: Demonstrates how to use the node:dns module in Bun to resolve domain names. This example shows resolving IPv4 addresses for a domain with TTL information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/dns.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport * as dns from \"node:dns\";\n\nconst addrs = await dns.promises.resolve4(\"bun.sh\", { ttl: true });\nconsole.log(addrs);\n// => [{ address: \"172.67.161.226\", family: 4, ttl: 0 }, ...]\n```\n\n----------------------------------------\n\nTITLE: Using Fake HTTP/2 Response Headers in Node.js Tests\nDESCRIPTION: Example showing how to use predefined fake HTTP/2 response headers (kFakeResponseHeaders) as the payload for an HTTP/2 HEADERS frame. This creates a minimal but valid HTTP/2 response for testing purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nconst frame = new http2.HeadersFrame(1, http2.kFakeResponseHeaders, 0, true);\n\nsocket.write(frame.data);\n```\n\n----------------------------------------\n\nTITLE: CSS Styles for Bun Application\nDESCRIPTION: Example CSS styles that will be processed and bundled by Bun when referenced in HTML files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_9\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  background-color: red;\n}\n```\n\n----------------------------------------\n\nTITLE: Excluding Patterns with Enhanced :not() Syntax and Fallbacks - CSS\nDESCRIPTION: Explains exclusion of element types using the modern :not() selector with multiple arguments, and provides Bun's transpilation using :is() and vendor-prefixed fallbacks for legacy browsers. May require vendor-prefixed selectors or further fallback logic for strict compatibility. Key parameters are exclusion selectors; output is selective application of styles for UI refinement.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_21\n\nLANGUAGE: css\nCODE:\n```\n/* Select all buttons except primary and secondary variants */\nbutton:not(.primary, .secondary) {\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n}\n\n/* Apply styles to all headings except those inside sidebars or footers */\nh2:not(.sidebar *, footer *) {\n  margin-top: 2em;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* Converted to use :not with :is() for compatibility */\nbutton:not(:is(.primary, .secondary)) {\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n}\n\nh2:not(:is(.sidebar *, footer *)) {\n  margin-top: 2em;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n/* Even more fallbacks for maximum compatibility */\nbutton:not(:-webkit-any(.primary, .secondary)) {\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n}\n\nbutton:not(:-moz-any(.primary, .secondary)) {\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n}\n\nbutton:not(:is(.primary, .secondary)) {\n  background-color: #f5f5f5;\n  border: 1px solid #ddd;\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Optional Dependencies with Bun\nDESCRIPTION: Command for adding optional dependencies using the --optional flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add --optional lodash\n```\n\n----------------------------------------\n\nTITLE: Adding TypeScript DOM Type References to Tests\nDESCRIPTION: TypeScript code showing how to add a triple-slash directive for DOM types to resolve TypeScript errors when using DOM APIs in test files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/dom.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n/// <reference lib=\"dom\" />\n\nimport {test, expect} from 'bun:test';\n\ntest('dom test', () => {\n  document.body.innerHTML = `<button>My button</button>`;\n  const button = document.querySelector('button');\n  expect(button?.innerText).toEqual('My button');\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Package Handling in Bun\nDESCRIPTION: Examples of controlling how package dependencies are handled during bundling, with options for bundling or treating as external.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_47\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.ts'],\n  packages: 'external',\n})\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.ts --packages external\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Export Example\nDESCRIPTION: Example of exporting a function using CommonJS module syntax with module.exports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nfunction hello() {\n  console.log(\"Hello world!\");\n}\n\nexports.hello = hello;\n```\n\n----------------------------------------\n\nTITLE: Enabling Development Mode in Bun.serve()\nDESCRIPTION: Shows how to enable development mode in Bun.serve() to get features like source maps, disabled minification, and dynamic rebundling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport homepage from \"./index.html\";\nimport dashboard from \"./dashboard.html\";\n\nBun.serve({\n  routes: {\n    \"/\": homepage,\n    \"/dashboard\": dashboard,\n  }\n\n+ development: true,\n\n  fetch(req) {\n    // ... api requests\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: JSX Transformation with 'preserve' Option\nDESCRIPTION: Configuration for transforming JSX using the 'preserve' option, which keeps JSX syntax as-is without transpilation. Note that this option is not currently supported by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"jsx\": \"preserve\"\n}\n```\n\n----------------------------------------\n\nTITLE: Using ArrayBufferSink in Streaming Mode\nDESCRIPTION: Shows how to use ArrayBufferSink in streaming mode, allowing continuous writing and periodic flushing of contents. This is useful for buffering stream data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst sink = new Bun.ArrayBufferSink();\nsink.start({\n  stream: true,\n});\n\nsink.write(\"h\");\nsink.write(\"e\");\nsink.write(\"l\");\nsink.flush();\n// ArrayBuffer(5) [ 104, 101, 108 ]\n\nsink.write(\"l\");\nsink.write(\"o\");\nsink.flush();\n// ArrayBuffer(5) [ 108, 111 ]\n```\n\n----------------------------------------\n\nTITLE: Configuring Dry Run Mode in Bun Install\nDESCRIPTION: When enabled, bun install will simulate installation without actually installing dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_24\n\nLANGUAGE: toml\nCODE:\n```\n[install]\ndryRun = false\n```\n\n----------------------------------------\n\nTITLE: Shell Output Demonstration\nDESCRIPTION: Terminal output showing the result of executing the JavaScript code that calls the C function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun hello.js\nWhat is the answer to the universe? 42\n```\n\n----------------------------------------\n\nTITLE: Library Linking with cc Configuration\nDESCRIPTION: Configuration example showing how to link external libraries with the C code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\ntype Library = string[];\n\ncc({\n  source: \"hello.c\",\n  library: [\"sqlite3\"],\n});\n```\n\n----------------------------------------\n\nTITLE: Using refresh from tmpdir module\nDESCRIPTION: Deletes and recreates the testing temporary directory. When useSpawn is true, this action is performed using child_process.spawnSync. Adds a listener to clean up on process exit.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_25\n\nLANGUAGE: JavaScript\nCODE:\n```\nrefresh(useSpawn)\n```\n\n----------------------------------------\n\nTITLE: Displaying Bun Cache Path\nDESCRIPTION: Prints the filesystem path to the directory where Bun stores its global cache of downloaded package tarballs and metadata. This cache speeds up subsequent installs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm cache\n```\n\n----------------------------------------\n\nTITLE: Running Bun with Debugging Enabled\nDESCRIPTION: Command to start a Bun application with the `--inspect` flag, which enables the WebKit Inspector Protocol debugging interface. This creates a WebSocket server that debugging tools can connect to.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/web-debugger.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun --inspect server.ts\n------------------ Bun Inspector ------------------\nListening at:\n  ws://localhost:6499/0tqxs9exrgrm\n\nInspect in browser:\n  https://debug.bun.sh/#localhost:6499/0tqxs9exrgrm\n------------------ Bun Inspector ------------------\n```\n\n----------------------------------------\n\nTITLE: Installing Bun canary build\nDESCRIPTION: This command upgrades Bun to the latest canary build, which is generated on every commit. Canary builds are experimental and may contain unstable features.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-upgrade.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun upgrade --canary\n```\n\n----------------------------------------\n\nTITLE: Displaying Bun JavaScript Runtime Information in Markdown\nDESCRIPTION: This Markdown snippet introduces Bun, a fast all-in-one JavaScript runtime, and provides a link to its website. It also includes a note about baseline builds for machines without AVX2 support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/npm/@oven/bun-windows-x64-baseline/README.md#2025-04-22_snippet_0\n\nLANGUAGE: Markdown\nCODE:\n```\n# Bun\n\nThis is the Windows x64 binary for Bun, a fast all-in-one JavaScript runtime. https://bun.sh\n\n_Note: \"Baseline\" builds are for machines that do not support [AVX2](https://en.wikipedia.org/wiki/Advanced_Vector_Extensions) instructions._\n```\n\n----------------------------------------\n\nTITLE: Including Bun Build Target\nDESCRIPTION: Includes the CMake module for building the Bun target.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_6\n\nLANGUAGE: CMake\nCODE:\n```\ninclude(BuildBun)\n```\n\n----------------------------------------\n\nTITLE: Handling Warning Logs in Bun Build\nDESCRIPTION: Example showing how to access and process warning logs from successful builds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_69\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"./index.tsx\"],\n  outdir: \"./out\",\n});\n\nif (result.logs.length > 0) {\n  console.warn(\"Build succeeded with warnings:\");\n  for (const message of result.logs) {\n    // Bun will pretty print the message object\n    console.warn(message);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Building Postject from Source\nDESCRIPTION: Command to build the Postject project, which outputs the build artifacts to the dist directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/postject/README.markdown#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ npm run build\n```\n\n----------------------------------------\n\nTITLE: JSX with Default Import Source\nDESCRIPTION: Configuration demonstrating the default behavior when jsxImportSource is not explicitly defined. The jsx or jsxDEV functions will be imported from React by default.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_14\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"jsx\": \"react\",\n  // jsxImportSource is not defined\n  // default to \"react\"\n}\n```\n\n----------------------------------------\n\nTITLE: Registering WebSocket Routes in C++ with µWebSockets\nDESCRIPTION: Shows how to register WebSocket routes with various handlers for different events such as upgrade, open, message, drain, ping, pong, and close. It also demonstrates setting WebSocket options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/misc/READMORE.md#2025-04-22_snippet_2\n\nLANGUAGE: c++\nCODE:\n```\nuWS::App().ws<PerSocketData>(\"/*\", {\n    /* Settings */\n    .compression = uWS::SHARED_COMPRESSOR,\n    .maxPayloadLength = 16 * 1024,\n    .idleTimeout = 10,\n    /* Handlers */\n    .upgrade = [](auto *res, auto *req, auto *context) {\n        /* You may read from req only here, and COPY whatever you need into your PerSocketData.\n         * See UpgradeSync and UpgradeAsync examples. */\n    },\n    .open = [](auto *ws) {\n\n    },\n    .message = [](auto *ws, std::string_view message, uWS::OpCode opCode) {\n        ws->send(message, opCode);\n    },\n    .drain = [](auto *ws) {\n        /* Check getBufferedAmount here */\n    },\n    .ping = [](auto *ws) {\n\n    },\n    .pong = [](auto *ws) {\n\n    },\n    .close = [](auto *ws, int code, std::string_view message) {\n\n    }\n});\n```\n\n----------------------------------------\n\nTITLE: JSX with Custom Import Source - React JSX Dev\nDESCRIPTION: Configuration for using a custom JSX import source with the react-jsxdev transform mode, combining development-mode JSX features with a custom library.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_18\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"jsx\": \"react-jsxdev\",\n  \"jsxImportSource\": \"preact\",\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Usage Help Output in Commander.js\nDESCRIPTION: This shows the formatted help output after customizing the usage description. It displays the program name followed by the custom usage pattern.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_32\n\nLANGUAGE: text\nCODE:\n```\nUsage: my-command [global options] command\n```\n\n----------------------------------------\n\nTITLE: Programmatic Usage of Postject with Node.js\nDESCRIPTION: JavaScript example showing how to use Postject programmatically to inject a buffer into an executable.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/postject/README.markdown#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nconst { inject } = require('postject');\n\nawait inject('a.out', 'lol', Buffer.from('Hello, world!'));\n```\n\n----------------------------------------\n\nTITLE: Package Name Reference in Markdown\nDESCRIPTION: Displays the package name for the Linux ARM64 MUSL binary build of bun-mdx-rs using markdown formatting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/npm/linux-arm64-musl/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# `bun-mdx-rs-linux-arm64-musl`\n```\n\n----------------------------------------\n\nTITLE: Reloading systemd After Service Updates\nDESCRIPTION: Command to reload the systemd daemon after modifying service files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo systemctl daemon-reload\n```\n\n----------------------------------------\n\nTITLE: Providing an Implementation for Todo Test in Bun (TypeScript)\nDESCRIPTION: This snippet shows how to provide an optional implementation for a todo test. The implementation will not run unless the --todo flag is used.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/todo-tests.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest.todo(\"unimplemented feature\", () => {\n  expect(Bun.isAwesome()).toBe(true);\n});\n```\n\n----------------------------------------\n\nTITLE: Performing a Dry Run Installation\nDESCRIPTION: Shows how to use the `--dry-run` flag with `bun install`. This command simulates the installation process, showing what would happen without actually downloading or installing any packages or modifying the `node_modules` directory or lockfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --dry-run\n```\n\n----------------------------------------\n\nTITLE: Converting Buffer to String using Node.js Buffer in TypeScript\nDESCRIPTION: This snippet demonstrates how to convert a Buffer to a string using the .toString() method in TypeScript. It requires Node.js or Bun as the runtime, with access to the Buffer class. The example constructs a buffer from the string \\\"hello\\\", then decodes the buffer back to a string using the default encoding (utf8). Inputs are the original UTF-8 string, and the output is the string representation of the buffer.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-string.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello\");\nconst str = buf.toString();\n// => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Adding LLVM 19 to PATH (Arch)\nDESCRIPTION: Adds the LLVM 19 binary directory to the PATH environment variable on Arch Linux. This makes Clang-19 accessible from the command line.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\n$ export PATH=\"$PATH:/usr/lib/llvm19/bin\"\n```\n\n----------------------------------------\n\nTITLE: HTML Template for Running Bundle\nDESCRIPTION: A minimal HTML file to load the bundled JavaScript file in a browser, providing an element with id 'root' for React to render into.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<html>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"/index.js\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Updating Snapshots in Bun Tests using Shell Command\nDESCRIPTION: Demonstrates the command `bun test --update-snapshots`. This command is used to regenerate and overwrite existing snapshot files when the expected output of a test using `toMatchSnapshot` has intentionally changed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_15\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --update-snapshots\n```\n\n----------------------------------------\n\nTITLE: Invalid Uses of 'composes' in CSS Modules - CSS\nDESCRIPTION: This snippet illustrates invalid usages of the 'composes' keyword in CSS Modules, such as applying it to an ID selector or to combined class selectors. Bun and the CSS Modules spec require 'composes' to appear only on simple class selectors. No dependencies except for correct CSS Module syntax checking. Input: CSS selectors with 'composes'; output: will cause bundler errors or warnings. Constraint: Only simple class selectors are valid targets for 'composes'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css_modules.md#2025-04-22_snippet_6\n\nLANGUAGE: css\nCODE:\n```\n#button {\n  /* Invalid! `#button` is not a class selector */\n  composes: background;\n}\n\n.button,\n.button-secondary {\n  /* Invalid! `.button, .button-secondary` is not a simple selector */\n  composes: background;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Specifying Bun Version in GitHub Actions\nDESCRIPTION: This workflow snippet shows how to specify a particular version of Bun to install in your GitHub Actions runner using the bun-version parameter. You can specify exact versions, 'latest', 'canary', or a specific commit SHA.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/cicd.md#2025-04-22_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nname: my-workflow\njobs:\n  my-job:\n    name: my-job\n    runs-on: ubuntu-latest\n    steps:\n      # ...\n      - uses: oven-sh/setup-bun@v2\n       with:\n         bun-version: 1.2.0 # or \"latest\", \"canary\", <sha>\n```\n\n----------------------------------------\n\nTITLE: TypeScript to JavaScript Compatibility\nDESCRIPTION: Demonstrates how Bun supports importing TypeScript files using .js extensions for TypeScript's ES module compatibility.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nimport { hello } from \"./hello\";\nimport { hello } from \"./hello.ts\"; // this works\nimport { hello } from \"./hello.js\"; // this also works\n```\n\n----------------------------------------\n\nTITLE: Error Output Example in Commander.js\nDESCRIPTION: This shows the console output when an unknown option is used after configuring showHelpAfterError with a custom message. It displays the error and additional help information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_27\n\nLANGUAGE: text\nCODE:\n```\n$ pizza --unknown\nerror: unknown option '--unknown'\n(add --help for additional information)\n```\n\n----------------------------------------\n\nTITLE: Initializing Project Directory using Bun Shell Commands\nDESCRIPTION: Demonstrates creating a project directory (`my-bot`), navigating into it, and initializing a Bun project using `bun init`. This sets up the basic file structure and configuration for a Bun application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/discordjs.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ mkdir my-bot\n$ cd my-bot\n$ bun init\n```\n\n----------------------------------------\n\nTITLE: Presigning URLs for S3 Objects\nDESCRIPTION: Demonstrates how to generate presigned URLs for S3 objects, allowing secure temporary access for uploads or downloads without exposing credentials. Shows default behavior and custom configurations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { s3 } from \"bun\";\n\n// Generate a presigned URL that expires in 24 hours (default)\nconst download = s3.presign(\"my-file.txt\"); // GET, text/plain, expires in 24 hours\n\nconst upload = s3.presign(\"my-file\", {\n  expiresIn: 3600, // 1 hour\n  method: \"PUT\",\n  type: \"application/json\", // No extension for inferring, so we can specify the content type to be JSON\n});\n\n// You can call .presign() if on a file reference, but avoid doing so\n// unless you already have a reference (to avoid memory usage).\nconst myFile = s3.file(\"my-file.txt\");\nconst presignedFile = myFile.presign({\n  expiresIn: 3600, // 1 hour\n});\n```\n\n----------------------------------------\n\nTITLE: Displaying Default Trusted Dependencies with Bun\nDESCRIPTION: Prints the list of dependencies that Bun trusts by default to run lifecycle scripts without explicit configuration. This list is maintained by the Bun team.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm default-trusted\n```\n\n----------------------------------------\n\nTITLE: Configuring Asset Naming in Bun.build using TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates configuring the naming convention for asset files generated by `Bun.build`. It uses the `naming` object with the `asset` key set to a template string `\"[name].[ext]\"`. The `[ext]` placeholder must be explicitly included in Bun's naming templates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nBun.build({\n  entrypoints: [\"./index.tsx\"],\n  naming: {\n    asset: \"[name].[ext]\",\n  },\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun HTTP Server\nDESCRIPTION: Basic setup of a Bun HTTP server using Bun.serve(). When run with hot reloading, the fetch handler will automatically reload when source files change without restarting the process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/hot.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  port: 3000,\n  fetch(req) {\n    return new Response(\"Hello world\");\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: SQLite Database and Statement Classes Reference in Bun\nDESCRIPTION: Comprehensive type definitions for the Database and Statement classes in Bun's SQLite implementation, including constructor options, query methods, and utility functions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_31\n\nLANGUAGE: typescript\nCODE:\n```\nclass Database {\n  constructor(\n    filename: string,\n    options?:\n      | number\n      | {\n          readonly?: boolean;\n          create?: boolean;\n          readwrite?: boolean;\n        },\n  );\n\n  query<Params, ReturnType>(sql: string): Statement<Params, ReturnType>;\n  run(\n    sql: string,\n    params?: SQLQueryBindings,\n  ): { lastInsertRowid: number; changes: number };\n  exec = this.run;\n}\n\nclass Statement<Params, ReturnType> {\n  all(params: Params): ReturnType[];\n  get(params: Params): ReturnType | undefined;\n  run(params: Params): {\n    lastInsertRowid: number;\n    changes: number;\n  };\n  values(params: Params): unknown[][];\n\n  finalize(): void; // destroy statement and clean up resources\n  toString(): string; // serialize to SQL\n\n  columnNames: string[]; // the column names of the result set\n  paramsCount: number; // the number of parameters expected by the statement\n  native: any; // the native object representing the statement\n\n  as(Class: new () => ReturnType): this;\n}\n\ntype SQLQueryBindings =\n  | string\n  | bigint\n  | TypedArray\n  | number\n  | boolean\n  | null\n  | Record<string, string | bigint | TypedArray | number | boolean | null>;\n```\n\n----------------------------------------\n\nTITLE: JSX Output with 'react-jsxdev' Option\nDESCRIPTION: Transpiled output of JSX when using the 'react-jsxdev' option, showing the development version of JSX transform with additional parameters for debugging.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport { jsxDEV } from \"react/jsx-dev-runtime\";\njsxDEV(\n  \"Box\",\n  { width: 5, children: \"Hello\" },\n  undefined,\n  false,\n  undefined,\n  this,\n);\n```\n\n----------------------------------------\n\nTITLE: Publishing with Auth Type (2FA) using Bun CLI - Shell\nDESCRIPTION: Provides an example of specifying the authentication type for 2FA-enabled npm accounts with the `--auth-type` flag. Bun CLI can use either 'web' or 'legacy' modes. During publishing, you are prompted to supply a one-time password if required. This command is useful for accommodating various registry auth flows in CI/CD and interactive sessions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/publish.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\n$ bun publish --auth-type legacy\\n...\\nThis operation requires a one-time password.\\nEnter OTP: 123456\\n...\n```\n\n----------------------------------------\n\nTITLE: Displaying Help After Errors in Commander.js\nDESCRIPTION: This example shows how to configure Commander.js to show help information or a custom message after encountering a usage error, making the CLI more user-friendly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_26\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.showHelpAfterError();\n// or\nprogram.showHelpAfterError('(add --help for additional information)');\n```\n\n----------------------------------------\n\nTITLE: Installing EdgeDB CLI on Linux/macOS using Shell\nDESCRIPTION: This shell command uses curl to download and run the official EdgeDB installer script for Linux/macOS systems via a secure HTTPS connection. Dependency: curl. Input: None. Output: Installs the EdgeDB CLI, which is needed for managing projects, migrations, and database instances. The script should be run in a terminal with sufficient permissions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\ncurl --proto '=https' --tlsv1.2 -sSf https://sh.edgedb.com | sh\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Bun\nDESCRIPTION: Command to install project dependencies using Bun package manager\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/cli/init/README2.default.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun install\n```\n\n----------------------------------------\n\nTITLE: Decoupling Worker Lifetime from Main Process with unref()\nDESCRIPTION: Example of using worker.unref() to prevent a worker from keeping the main process alive, a Bun-specific extension similar to Node.js worker_threads.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nconst worker = new Worker(new URL(\"worker.ts\", import.meta.url).href);\nworker.unref();\n```\n\n----------------------------------------\n\nTITLE: Reading Data from Pointer Using read Utility in Bun (TypeScript)\nDESCRIPTION: Shows how to read data directly from native memory using the read utility from 'bun:ffi'. This example fetches four consecutive unsigned 8-bit integers from a pointer at specific offsets. Ideal for short-lived pointers due to performance. Outputs are raw values read from memory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { read } from \"bun:ffi\";\n\nconsole.log(\n  // ptr, byteOffset\n  read.u8(myPtr, 0),\n  read.u8(myPtr, 1),\n  read.u8(myPtr, 2),\n  read.u8(myPtr, 3),\n);\n\n```\n\n----------------------------------------\n\nTITLE: CSS HMR Performance Metrics Output for Bun\nDESCRIPTION: Output displaying the performance metrics for CSS Hot Module Reload in Bun. Shows frame timing percentiles and the percentage of successfully rendered frames out of total frames.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.16ms.txt#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\nbun\n --------------------------------------------------\n CSS HMR FRAME TIME\n\n 50th percentile: 22.2ms \n 75th percentile: 23.9ms \n 90th percentile: 25.3ms \n 95th percentile: 43.6ms \n 99th percentile: 49.1ms \n Rendered frames: 922 / 1024 (90%)\n```\n\n----------------------------------------\n\nTITLE: Uninstalling Bun\nDESCRIPTION: This snippet provides commands for uninstalling Bun from different platforms and installation methods.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ rm -rf ~/.bun # for macOS, Linux, and WSL\n```\n\nLANGUAGE: powershell\nCODE:\n```\n> powershell -c ~\\.bun\\uninstall.ps1\n```\n\nLANGUAGE: powershell\nCODE:\n```\n> scoop uninstall bun\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ npm uninstall -g bun\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ brew uninstall bun\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript Experimental Decorators\nDESCRIPTION: tsconfig.json configuration for enabling experimental decorators support in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_3\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"compilerOptions\": {\n    // ... rest of your config\n    \"experimentalDecorators\": true,\n  },\n}\n```\n\n----------------------------------------\n\nTITLE: Interpreting Benchmark Results in Shell Output\nDESCRIPTION: Example of the time command output format used in the benchmark results. It shows the real, user, and system time taken by each bundler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/bundle/README.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nreal <number>\nuser <number>\nsys <number>\n```\n\n----------------------------------------\n\nTITLE: Platform-specific Backend Commands for Bun Install\nDESCRIPTION: Various commands showing how to use different installation backends (hardlink, clonefile, copyfile, symlink) with bun install.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-install.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ rm -rf node_modules\n$ bun install --backend hardlink\n\n$ rm -rf node_modules\n$ bun install --backend clonefile\n\n$ rm -rf node_modules\n$ bun install --backend clonefile_each_dir\n\n$ rm -rf node_modules\n$ bun install --backend copyfile\n\n$ rm -rf node_modules\n$ bun install --backend symlink\n$ node --preserve-symlinks ./my-file.js\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Elysia HTTP Server in TypeScript\nDESCRIPTION: This TypeScript snippet demonstrates the minimal setup for an Elysia web server. It imports the `Elysia` class, creates an application instance, defines a GET route for the root path ('/') that returns 'Hello Elysia', starts the HTTP server listening on port 8080, and logs a confirmation message to the console indicating the server is running.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/elysia.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n```ts#server.ts\nimport { Elysia } from 'elysia'\n\nconst app = new Elysia()\n\t.get('/', () => 'Hello Elysia')\n\t.listen(8080)\n\nconsole.log(`🦊 Elysia is running at on port ${app.server.port}...`)\n```\n```\n\n----------------------------------------\n\nTITLE: Demonstrating a Critical Security Bug in C++ Server Code\nDESCRIPTION: This code snippet shows a server implementation with a critical security bug that is hard to trigger. It uses epoll for event handling and recv for receiving data, but contains a vulnerability related to buffer handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-uws/fuzzing/libEpollFuzzer/README.md#2025-04-22_snippet_0\n\nLANGUAGE: c++\nCODE:\n```\nint epfd = epoll_create1();\n\nint lsfd = listen(asdasdasd);\n\nint ready_fd = epoll_wait(epfd, lalalala);\n\nfor (all ready fds)\n\nint length = recv(buf, 24234234);\n\n//copy from 0 and length\n```\n\n----------------------------------------\n\nTITLE: Customizing Usage Description in Commander.js\nDESCRIPTION: This code shows how to customize the usage description that appears in the first line of help text. It sets both the program name and usage pattern.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_31\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .name(\"my-command\")\n  .usage(\"[global options] command\")\n```\n\n----------------------------------------\n\nTITLE: Comment Operations in HTMLRewriter\nDESCRIPTION: Examples of comment manipulation operations including content modification and positioning.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.on(\"*\", {\n  comments(comment) {\n    // Content\n    console.log(comment.text); // Comment text\n    comment.text = \"New comment text\"; // Set comment text\n    console.log(comment.removed); // Whether comment was removed\n\n    // Manipulation\n    comment\n      .before(\"Before comment\")\n      .after(\"After comment\")\n      .replace(\"New comment\")\n      .remove();\n\n    // HTML content insertion\n    comment\n      .before(\"<span>before</span>\", { html: true })\n      .after(\"<span>after</span>\", { html: true })\n      .replace(\"<span>replace</span>\", { html: true });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Structuring GitHub Repository Navigation Elements in HTML\nDESCRIPTION: This snippet shows the HTML structure for repository navigation elements including search suggestions, avatar placeholders, and jump-to functionality. It uses classes for styling and JavaScript interactions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_8\n\nLANGUAGE: HTML\nCODE:\n```\n<li class=\"d-flex flex-justify-start flex-items-center p-0 f5 navigation-item js-navigation-item js-jump-to-global-search d-none\" role=\"option\">\n  <a tabindex=\"-1\" class=\"no-underline d-flex flex-auto flex-items-center jump-to-suggestions-path js-jump-to-suggestion-path js-navigation-open p-2\" href=\"\">\n    <div class=\"jump-to-octicon js-jump-to-octicon flex-shrink-0 mr-2 text-center d-none\">\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-repo flex-shrink-0 js-jump-to-octicon-repo d-none\" title=\"Repository\" aria-label=\"Repository\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M2 2.5A2.5 2.5 0 014.5 0h8.75a.75.75 0 01.75.75v12.5a.75.75 0 01-.75.75h-2.5a.75.75 0 110-1.5h1.75v-2h-8a1 1 0 00-.714 1.7.75.75 0 01-1.072 1.05A2.495 2.495 0 012 11.5v-9zm10.5-1V9h-8c-.356 0-.694.074-1 .208V2.5a1 1 0 011-1h8zM5 12.25v3.25a.25.25 0 00.4.2l1.45-1.087a.25.25 0 01.3 0L8.6 15.7a.25.25 0 00.4-.2v-3.25a.25.25 0 00-.25-.25h-3.5a.25.25 0 00-.25.25z\"></path></svg>\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none\" title=\"Project\" aria-label=\"Project\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path></svg>\n      <svg height=\"16\" width=\"16\" class=\"octicon octicon-search flex-shrink-0 js-jump-to-octicon-search d-none\" title=\"Search\" aria-label=\"Search\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M11.5 7a4.499 4.499 0 11-8.998 0A4.499 4.499 0 0111.5 7zm-.82 4.74a6 6 0 111.06-1.06l3.04 3.04a.75.75 0 11-1.06 1.06l-3.04-3.04z\"></path></svg>\n    </div>\n\n    <img class=\"avatar mr-2 flex-shrink-0 js-jump-to-suggestion-avatar d-none\" alt=\"\" aria-label=\"Team\" src=\"\" width=\"28\" height=\"28\">\n\n    <div class=\"jump-to-suggestion-name js-jump-to-suggestion-name flex-auto overflow-hidden text-left no-wrap css-truncate css-truncate-target\">\n    </div>\n\n    <div class=\"border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none js-jump-to-badge-search\">\n      <span class=\"js-jump-to-badge-search-text-default d-none\" aria-label=\"in this repository\">\n        In this repository\n      </span>\n      <span class=\"js-jump-to-badge-search-text-global d-none\" aria-label=\"in all of GitHub\">\n        All GitHub\n      </span>\n      <span aria-hidden=\"true\" class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n\n    <div aria-hidden=\"true\" class=\"border rounded-1 flex-shrink-0 bg-gray px-1 text-gray-light ml-1 f6 d-none d-on-nav-focus js-jump-to-badge-jump\">\n      Jump to\n      <span class=\"d-inline-block ml-1 v-align-middle\">↵</span>\n    </div>\n  </a>\n</li>\n```\n\n----------------------------------------\n\nTITLE: Defining Package Dependencies with Lifecycle Scripts in package.json\nDESCRIPTION: This snippet shows a basic package.json file with a dependency on node-sass, which typically uses a postinstall script to build native binaries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lifecycle.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-app\",\n  \"version\": \"1.0.0\",\n  \"dependencies\": {\n    \"node-sass\": \"^6.0.1\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running Frame Analysis Script for Next.js CSS HMR\nDESCRIPTION: This command executes a Node.js script to analyze CSS Hot Module Replacement frame times for a Next.js project. It sets environment variables for sleep interval and project name before running the script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/next.latest.32ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nSLEEP_INTERVAL=32 PROJECT=next node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Serializing and deserializing data with bun:jsc in JavaScript\nDESCRIPTION: Demonstrates how to serialize JavaScript values to ArrayBuffer and deserialize them back using the bun:jsc module. Uses the HTML Structured Clone Algorithm internally, similar to structuredClone and postMessage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_30\n\nLANGUAGE: javascript\nCODE:\n```\nimport { serialize, deserialize } from \"bun:jsc\";\n\nconst buf = serialize({ foo: \"bar\" });\nconst obj = deserialize(buf);\nconsole.log(obj); // => { foo: \"bar\" }\n```\n\n----------------------------------------\n\nTITLE: Disabling TLS Validation in Fetch Requests in TypeScript\nDESCRIPTION: Shows how to disable TLS certificate validation for fetch requests, which can be useful for development with self-signed certificates but should be used with caution.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nawait fetch(\"https://example.com\", {\n  tls: {\n    rejectUnauthorized: false,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Default Error Handling in Bun Shell\nDESCRIPTION: Demonstrates how to configure the default error handling behavior for all shell commands using $.nothrow() or $.throws().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n// shell promises will not throw, meaning you will have to\n// check for `exitCode` manually on every shell command.\n$.nothrow(); // equivalent to $.throws(false)\n\n// default behavior, non-zero exit codes will throw an error\n$.throws(true);\n\n// alias for $.nothrow()\n$.throws(false);\n\nawait $`something-that-may-fail`; // No exception thrown\n```\n\n----------------------------------------\n\nTITLE: Loading GitHub Feature-Specific JavaScript Modules\nDESCRIPTION: HTML script tags for loading specific JavaScript feature modules used by GitHub. Each script has integrity hashes for security and is loaded asynchronously. The modules include functionality for contributions graphs, drag-and-drop, image cropping, and other GitHub features.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_22\n\nLANGUAGE: HTML\nCODE:\n```\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-CNroxNfy/sSm19XW3hVvtu9w1gQPr27RegkaFEjXOuehR/1UXv33/Ev89R7Kn8av4FjGT+akvqqciARZJAWErQ==\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/behaviors-bootstrap-08dae8c4.js\"></script>\n\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-NqTqgekwk460TqY5fnqcpQSWPHLK1qsbqM7LJI5BqHR6pm1rYOIUnuqP6w3s6EpoiNdh/YRo7amc5UDIRPF27A==\" type=\"application/javascript\" data-module-id=\"./contributions-spider-graph.js\" data-src=\"https://github.githubassets.com/assets/contributions-spider-graph-36a4ea81.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-rX/efcwdoSNLAclubTNEJumykN9y6jxJ67d9t5HdgpyLlKHsKfVf1AHFLD5M+8NaP5ndpQJQ4gGDilVrpEHbfQ==\" type=\"application/javascript\" data-module-id=\"./drag-drop.js\" data-src=\"https://github.githubassets.com/assets/drag-drop-ad7fde7d.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-iLuC2weaJqL9mYAud2WDWjhd8cJe8dXVxw2KhCH2Rnj6WJvTzlZRmvTtL09wNWX6nRze/TDaQ7gq7BFLchaDYg==\" type=\"application/javascript\" data-module-id=\"./image-crop-element-loader.js\" data-src=\"https://github.githubassets.com/assets/image-crop-element-loader-88bb82db.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-QCuZvSssZHjgPkecs0OO0wA6748zjgY+CIWgc4awUkoaN30LxvwbTD5o/jmUDpz2W8l8ASv6VsznbFcoaiNm8Q==\" type=\"application/javascript\" data-module-id=\"./jump-to.js\" data-src=\"https://github.githubassets.com/assets/jump-to-402b99bd.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-HzWUeLy0p20M4Lc3+EerTwy/VaH3vMuKLvhFJr0PsJfKXnsD9oy5SfashhxStUirglhYZUB4fLYQRM1uzrFyNg==\" type=\"application/javascript\" data-module-id=\"./profile-pins-element.js\" data-src=\"https://github.githubassets.com/assets/profile-pins-element-1f359478.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-qECv/jhsvLFN77eGNu0cjMR2+zvAlLyhQVTnmayJc5OLZoxMLjQZxZW1hK/dhcYro6Wec/aiF21HYf2N5OilYQ==\" type=\"application/javascript\" data-module-id=\"./randomColor.js\" data-src=\"https://github.githubassets.com/assets/randomColor-a840affe.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-vK7rRnsAi4qcmC2HqCfPyEBZgIMWb6Azyb1PJxgL1FtEFMydK//dsnuLdVx+RaPGg71Z58ossFXqkLWgMevvdw==\" type=\"application/javascript\" data-module-id=\"./sortable-behavior.js\" data-src=\"https://github.githubassets.com/assets/sortable-behavior-bcaeeb46.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-mHqsE5aQq7fAmmLd0epHBJK8rn8DOVnjW2YQOT8wvsN1oLrypw0cDFmwXPDwbMghHyo4kKiOtVJ/kEsEzwwibw==\" type=\"application/javascript\" data-module-id=\"./tweetsodium.js\" data-src=\"https://github.githubassets.com/assets/tweetsodium-987aac13.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-64NrdGoMwn8rfUeO96KKyLg7IBjky08csy2744g8171VK6RtKaXQgjEDLxktmgoepKjK+8AuUyLTCQsu2Z1rfA==\" type=\"application/javascript\" data-module-id=\"./user-status-submit.js\" data-src=\"https://github.githubassets.com/assets/user-status-submit-eb836b74.js\"></script>\n```\n\n----------------------------------------\n\nTITLE: Setting Coverage Thresholds in bunfig.toml\nDESCRIPTION: This snippet shows how to set coverage thresholds in bunfig.toml. You can specify a single threshold for all metrics or set different thresholds for lines, functions, and statements. Tests will fail if coverage is below these thresholds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n\n# to require 90% line-level and function-level coverage\ncoverageThreshold = 0.9\n\n# to set different thresholds for lines and functions\ncoverageThreshold = { lines = 0.9, functions = 0.9, statements = 0.9 }\n```\n\n----------------------------------------\n\nTITLE: TypeScript Interface Merging for Environment Variables\nDESCRIPTION: How to use TypeScript interface merging to add type definitions for environment variables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_17\n\nLANGUAGE: ts\nCODE:\n```\ndeclare module \"bun\" {\n  interface Env {\n    AWESOME: string;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Fetching from S3 Buckets in TypeScript\nDESCRIPTION: Shows how to fetch objects from Amazon S3 buckets using the s3:// protocol, with options for providing AWS credentials explicitly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/fetch.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\n// Using environment variables for credentials\nconst response = await fetch(\"s3://my-bucket/path/to/object\");\n\n// Or passing credentials explicitly\nconst response = await fetch(\"s3://my-bucket/path/to/object\", {\n  s3: {\n    accessKeyId: \"YOUR_ACCESS_KEY\",\n    secretAccessKey: \"YOUR_SECRET_KEY\",\n    region: \"us-east-1\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Defining Cookie Types and Classes in TypeScript\nDESCRIPTION: This TypeScript snippet defines interfaces (`CookieInit`, `CookieStoreDeleteOptions`, `CookieStoreGetOptions`, `CookieSameSite`) specifying the structure for cookie attributes and options for store operations. It also defines the `Cookie` class to represent and manipulate individual HTTP cookies, including parsing, serialization, and expiration checks. Additionally, it defines the `CookieMap` class, an iterable collection for managing multiple cookies, providing methods for setting, getting, deleting, and converting cookies to Set-Cookie headers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\ninterface CookieInit {\n  name?: string;\n  value?: string;\n  domain?: string;\n  /** Defaults to '/'. To allow the browser to set the path, use an empty string. */\n  path?: string;\n  expires?: number | Date | string;\n  secure?: boolean;\n  /** Defaults to `lax`. */\n  sameSite?: CookieSameSite;\n  httpOnly?: boolean;\n  partitioned?: boolean;\n  maxAge?: number;\n}\n\ninterface CookieStoreDeleteOptions {\n  name: string;\n  domain?: string | null;\n  path?: string;\n}\n\ninterface CookieStoreGetOptions {\n  name?: string;\n  url?: string;\n}\n\ntype CookieSameSite = \"strict\" | \"lax\" | \"none\";\n\nclass Cookie {\n  constructor(name: string, value: string, options?: CookieInit);\n  constructor(cookieString: string);\n  constructor(cookieObject?: CookieInit);\n\n  readonly name: string;\n  value: string;\n  domain?: string;\n  path: string;\n  expires?: Date;\n  secure: boolean;\n  sameSite: CookieSameSite;\n  partitioned: boolean;\n  maxAge?: number;\n  httpOnly: boolean;\n\n  isExpired(): boolean;\n\n  serialize(): string;\n  toString(): string;\n  toJSON(): CookieInit;\n\n  static parse(cookieString: string): Cookie;\n  static from(name: string, value: string, options?: CookieInit): Cookie;\n}\n\nclass CookieMap implements Iterable<[string, string]> {\n  constructor(init?: string[][] | Record<string, string> | string);\n\n  get(name: string): string | null;\n\n  toSetCookieHeaders(): string[];\n\n  has(name: string): boolean;\n  set(name: string, value: string, options?: CookieInit): void;\n  set(options: CookieInit): void;\n  delete(name: string): void;\n  delete(options: CookieStoreDeleteOptions): void;\n  delete(name: string, options: Omit<CookieStoreDeleteOptions, \"name\">): void;\n  toJSON(): Record<string, string>;\n\n  readonly size: number;\n\n  entries(): IterableIterator<[string, string]>;\n  keys(): IterableIterator<string>;\n  values(): IterableIterator<string>;\n  forEach(callback: (value: string, key: string, map: CookieMap) => void): void;\n  [Symbol.iterator](): IterableIterator<[string, string]>;\n}\n```\n```\n\n----------------------------------------\n\nTITLE: Unix Socket POST Request with JSON Data in Bun\nDESCRIPTION: Shows how to send a POST request with JSON data over a unix domain socket using fetch. Includes setting content type headers and formatting request body.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/fetch-unix.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://hostname/a/path\", {\n  unix: \"/var/run/path/to/unix.sock\",\n  method: \"POST\",\n  body: JSON.stringify({ message: \"Hello from Bun!\" }),\n  headers: {\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nconst body = await response.json();\n```\n\n----------------------------------------\n\nTITLE: Connecting to inspector via WebSocket in TypeScript\nDESCRIPTION: TypeScript code demonstrating how to create an inspector client, connect to the debugger, enable the Runtime domain, and execute code in the target context using WebSocketInspector.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { WebSocketInspector } from \"bun-inspector-protocol\";\n\n// Create a new inspector client\nconst inspector = new WebSocketInspector(\"ws://localhost:9229/ws\");\n\n// Listen for connection events\ninspector.on(\"Inspector.connected\", () => {\n  console.log(\"Connected to debugger!\");\n});\n\ninspector.on(\"Inspector.error\", error => {\n  console.error(\"Inspector error:\", error);\n});\n\n// Connect to the debugger\nawait inspector.start();\n\n// Enable the Runtime domain\nawait inspector.send(\"Runtime.enable\");\n\n// Execute some code in the target context\nconst result = await inspector.send(\"Runtime.evaluate\", {\n  expression: \"2 + 2\",\n  returnByValue: true,\n});\n\nconsole.log(\"Evaluation result:\", result.result.value); // 4\n\n// Close the connection\ninspector.close();\n```\n\n----------------------------------------\n\nTITLE: Optimized TypeScript code after JSON replacement\nDESCRIPTION: This TypeScript snippet shows the result of the --define transformation, where the AWS.ACCESS_KEY is replaced with its value.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_10\n\nLANGUAGE: ts\nCODE:\n```\nconsole.log(\"abc\");\n```\n\n----------------------------------------\n\nTITLE: Adding a Peer Dependency with Bun CLI\nDESCRIPTION: Command to add a package as a peer dependency using the --peer flag in Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-peer.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add @types/bun --peer\n```\n\n----------------------------------------\n\nTITLE: JSX Output with 'react-jsx' Option\nDESCRIPTION: Transpiled output of JSX when using the 'react-jsx' option, showing how JSX is converted to jsx function calls that import from react/jsx-runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { jsx } from \"react/jsx-runtime\";\njsx(\"Box\", { width: 5 }, \"Hello\");\n```\n\n----------------------------------------\n\nTITLE: Generating UUID v7 with Bun.randomUUIDv7()\nDESCRIPTION: Shows how to generate UUID v7 using Bun.randomUUIDv7(), including different encoding options and timestamp specification.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { randomUUIDv7 } from \"bun\";\n\nconst id = randomUUIDv7();\n// => \"0192ce11-26d5-7dc3-9305-1426de888c5a\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nnamespace Bun {\n  function randomUUIDv7(\n    encoding?: \"hex\" | \"base64\" | \"base64url\" = \"hex\",\n    timestamp?: number = Date.now(),\n  ): string;\n  /**\n   * If you pass \"buffer\", you get a 16-byte buffer instead of a string.\n   */\n  function randomUUIDv7(\n    encoding: \"buffer\",\n    timestamp?: number = Date.now(),\n  ): Buffer;\n\n  // If you only pass a timestamp, you get a hex string\n  function randomUUIDv7(timestamp?: number = Date.now()): string;\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst buffer = Bun.randomUUIDv7(\"buffer\");\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst base64 = Bun.randomUUIDv7(\"base64\");\nconst base64url = Bun.randomUUIDv7(\"base64url\");\n```\n\n----------------------------------------\n\nTITLE: Using Strict Mode in Bun's SQLite Driver\nDESCRIPTION: This snippet illustrates the usage of strict mode in Bun's SQLite driver. It shows how strict mode affects parameter binding and error handling in queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst strict = new Database(\n  \":memory:\",\n  { strict: true }\n);\n\n// throws error because of the typo:\nconst query = strict\n  .query(\"SELECT $message;\")\n  .all({ message: \"Hello world\" });\n\nconst notStrict = new Database(\n  \":memory:\"\n);\n// does not throw error:\nnotStrict\n  .query(\"SELECT $message;\")\n  .all({ message: \"Hello world\" });\n```\n\n----------------------------------------\n\nTITLE: Numeric Color Format Examples in TypeScript\nDESCRIPTION: Examples of converting colors to numeric format using Bun.color() with 'number' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"number\"); // 16711680\nBun.color(0xff0000, \"number\"); // 16711680\nBun.color({ r: 255, g: 0, b: 0 }, \"number\"); // 16711680\nBun.color([255, 0, 0], \"number\"); // 16711680\nBun.color(\"rgb(255, 0, 0)\", \"number\"); // 16711680\nBun.color(\"rgba(255, 0, 0, 1)\", \"number\"); // 16711680\nBun.color(\"hsl(0, 100%, 50%)\", \"number\"); // 16711680\nBun.color(\"hsla(0, 100%, 50%, 1)\", \"number\"); // 16711680\n```\n\n----------------------------------------\n\nTITLE: Disabling Lifecycle Scripts in Bun Installation\nDESCRIPTION: This command demonstrates how to use the --ignore-scripts flag with bun install to disable all lifecycle scripts during package installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lifecycle.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --ignore-scripts\n```\n\n----------------------------------------\n\nTITLE: Setting Cache Directories in TOML\nDESCRIPTION: This snippet configures cache directories for the project, including paths with special characters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[install.cache]\ndir = \"C:\\\\Windows\\\\System32\"\ndir2 = \"C:\\\\Windows\\\\System32\\\\🏳️‍🌈\"\n```\n\n----------------------------------------\n\nTITLE: Listing Top-Level Dependencies with Bun\nDESCRIPTION: Lists the directly installed dependencies specified in the project's `package.json` along with their resolved versions. It does not include transitive dependencies (dependencies of dependencies).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm ls\n/path/to/project node_modules (135)\n├── eslint@8.38.0\n├── react@18.2.0\n├── react-dom@18.2.0\n├── typescript@5.0.4\n└── zod@3.21.4\n```\n\n----------------------------------------\n\nTITLE: Enabling Coverage Reporting with Bun Test\nDESCRIPTION: Demonstrates how to use Bun's coverage flag to collect test coverage information, replacing Jest's collectCoverage configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --coverage\n```\n\n----------------------------------------\n\nTITLE: Starting SvelteKit Development Server with Bun\nDESCRIPTION: Command to start the SvelteKit development server using Bun runtime, showing the server initialization and local development URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sveltekit.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ cd my-app\n$ bun --bun run dev\n  $ vite dev\n  Forced re-optimization of dependencies\n  \n    VITE v5.4.10  ready in 424 ms\n  \n    ➜  Local:   http://localhost:5173/\n    ➜  Network: use --host to expose\n    ➜  press h + enter to show help\n```\n\n----------------------------------------\n\nTITLE: Git Commit Hash Macro Implementation\nDESCRIPTION: Macro function that embeds the current Git commit hash during bundle-time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nexport function getGitCommitHash() {\n  const {stdout} = Bun.spawnSync({\n    cmd: [\"git\", \"rev-parse\", \"HEAD\"],\n    stdout: \"pipe\",\n  });\n\n  return stdout.toString();\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring footer in Bun Build (CLI)\nDESCRIPTION: Command-line interface for adding text at the end of bundled files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_57\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --footer=\"// built with love in SF\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun.build with SveltePlugin\nDESCRIPTION: TypeScript code to configure Bun.build for bundling Svelte components, including plugin options and build settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-svelte/README.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// build.ts\n// to use: bun run build.ts\nimport { SveltePlugin } from \"bun-plugin-svelte\"; // NOTE: not published to npm yet\n\nBun.build({\n  entrypoints: [\"src/index.ts\"],\n  outdir: \"dist\",\n  target: \"browser\",\n  sourcemap: true, // sourcemaps not yet supported\n  plugins: [\n    SveltePlugin({\n      development: true, // turn off for prod builds. Defaults to false\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Linking to bun test Documentation in Markdown\nDESCRIPTION: This snippet demonstrates how to create a Markdown link to the 'bun test' command documentation in the official Bun documentation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/test.md#2025-04-22_snippet_0\n\nLANGUAGE: Markdown\nCODE:\n```\n[`bun test`](https://bun.sh/docs/cli/test)\n```\n\n----------------------------------------\n\nTITLE: Running a JSX/TSX React Component with Bun from the Command Line in Bash\nDESCRIPTION: This Bash command demonstrates how to execute a React TSX file using Bun from the command line. Bun's runtime recognizes and transpiles JSX/TSX files natively, and provides enhanced console output for JSX elements. No external dependencies except Bun are required. The command takes a file with React code as input and prints the JSX element tree rendering to stdout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/react.md#2025-04-22_snippet_1\n\nLANGUAGE: Bash\nCODE:\n```\n$ bun run react.tsx\n<Component message=\"Hello world!\" />\n```\n\n----------------------------------------\n\nTITLE: Windows CE Error Handling Functions in C\nDESCRIPTION: Implements custom error handling functions for Windows CE, including strwinerror and pwinerror.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_3\n\nLANGUAGE: C\nCODE:\n```\n#if defined(UNDER_CE)\n#  include <windows.h>\n#  define perror(s) pwinerror(s)\n\nstatic char *strwinerror (error)\n     DWORD error;\n{\n    static char buf[1024];\n    // ... (function implementation)\n}\n\nstatic void pwinerror (s)\n    const char *s;\n{\n    // ... (function implementation)\n}\n\n#endif /* UNDER_CE */\n```\n\n----------------------------------------\n\nTITLE: Text Operations in HTMLRewriter\nDESCRIPTION: Examples of text manipulation operations including content modification and HTML insertion.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nrewriter.on(\"p\", {\n  text(text) {\n    // Content\n    console.log(text.text); // Text content\n    console.log(text.lastInTextNode); // Whether this is the last chunk\n    console.log(text.removed); // Whether text was removed\n\n    // Manipulation\n    text.before(\"Before text\").after(\"After text\").replace(\"New text\").remove();\n\n    // HTML content insertion\n    text\n      .before(\"<span>before</span>\", { html: true })\n      .after(\"<span>after</span>\", { html: true })\n      .replace(\"<span>replace</span>\", { html: true });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Benchmarking Express Server with Oha\nDESCRIPTION: Command to benchmark the Express.js server using Oha, sending 500,000 requests with the Accept-Encoding header set to identity to prevent response compression.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/express/README.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\noha http://localhost:3000 -n 500000 -H \"Accept-Encoding: identity\"\n```\n\n----------------------------------------\n\nTITLE: Detailed Benchmark Suite for String Width - Bun and npm - JavaScript\nDESCRIPTION: This extended benchmark table provides performance measurements for Bun.stringWidth and npm string-width on diverse string inputs (ASCII, emoji, ANSI, and combinations) at various lengths. It underscores performance differences, highlighting Bun's efficiencies in various scenarios. The code is intended as output from running a benchmarking script and is not meant for direct execution as code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_11\n\nLANGUAGE: JavaScript\nCODE:\n```\n❯ bun string-width.mjs\ncpu: 13th Gen Intel(R) Core(TM) i9-13900\nruntime: bun 1.0.29 (x64-linux)\n\nbenchmark                                          time (avg)             (min … max)       p75       p99      p995\n------------------------------------------------------------------------------------- -----------------------------\nBun.stringWidth      5 chars ascii              16.45 ns/iter   (16.27 ns … 19.71 ns)  16.48 ns  16.93 ns  17.21 ns\nBun.stringWidth     50 chars ascii              19.42 ns/iter   (18.61 ns … 27.85 ns)  19.35 ns   21.7 ns  22.31 ns\nBun.stringWidth    500 chars ascii              37.09 ns/iter   (36.77 ns … 41.11 ns)  37.07 ns  38.84 ns  38.99 ns\nBun.stringWidth  5,000 chars ascii              216.9 ns/iter  (215.8 ns … 228.54 ns) 216.23 ns 228.52 ns 228.53 ns\nBun.stringWidth 25,000 chars ascii               1.01 µs/iter     (1.01 µs … 1.01 µs)   1.01 µs   1.01 µs   1.01 µs\nBun.stringWidth      7 chars ascii+emoji         54.2 ns/iter   (53.36 ns … 58.19 ns)  54.23 ns  57.55 ns  57.94 ns\nBun.stringWidth     70 chars ascii+emoji       354.26 ns/iter (350.51 ns … 363.96 ns) 355.93 ns 363.11 ns 363.96 ns\nBun.stringWidth    700 chars ascii+emoji          3.3 µs/iter      (3.27 µs … 3.4 µs)    3.3 µs    3.4 µs    3.4 µs\nBun.stringWidth  7,000 chars ascii+emoji        32.69 µs/iter   (32.22 µs … 45.27 µs)   32.7 µs  34.57 µs  34.68 µs\nBun.stringWidth 35,000 chars ascii+emoji       163.35 µs/iter (161.17 µs … 170.79 µs) 163.82 µs 169.66 µs 169.93 µs\nBun.stringWidth      8 chars ansi+emoji         66.15 ns/iter   (65.17 ns … 69.97 ns)  66.12 ns   69.8 ns  69.87 ns\nBun.stringWidth     80 chars ansi+emoji        492.95 ns/iter  (488.05 ns … 499.5 ns)  494.8 ns 498.58 ns  499.5 ns\nBun.stringWidth    800 chars ansi+emoji          4.73 µs/iter     (4.71 µs … 4.88 µs)   4.72 µs   4.88 µs   4.88 µs\nBun.stringWidth  8,000 chars ansi+emoji         47.02 µs/iter   (46.37 µs … 67.44 µs)  46.96 µs  49.57 µs  49.63 µs\nBun.stringWidth 40,000 chars ansi+emoji        234.45 µs/iter (231.78 µs … 240.98 µs) 234.92 µs 236.34 µs 236.62 µs\nBun.stringWidth     19 chars ansi+emoji+ascii  135.46 ns/iter (133.67 ns … 143.26 ns) 135.32 ns 142.55 ns 142.77 ns\nBun.stringWidth    190 chars ansi+emoji+ascii    1.17 µs/iter     (1.16 µs … 1.17 µs)   1.17 µs   1.17 µs   1.17 µs\nBun.stringWidth  1,900 chars ansi+emoji+ascii   11.45 µs/iter   (11.26 µs … 20.41 µs)  11.45 µs  12.08 µs  12.11 µs\nBun.stringWidth 19,000 chars ansi+emoji+ascii  114.06 µs/iter (112.86 µs … 120.06 µs) 114.25 µs 115.86 µs 116.15 µs\nBun.stringWidth 95,000 chars ansi+emoji+ascii  572.69 µs/iter (565.52 µs … 607.22 µs) 572.45 µs 604.86 µs 605.21 µs\n```\n\nLANGUAGE: JavaScript\nCODE:\n```\n❯ node string-width.mjs\ncpu: 13th Gen Intel(R) Core(TM) i9-13900\nruntime: node v21.4.0 (x64-linux)\n\nbenchmark                                           time (avg)             (min … max)       p75       p99      p995\n-------------------------------------------------------------------------------------- -----------------------------\nnpm/string-width      5 chars ascii               3.19 µs/iter     (3.13 µs … 3.48 µs)   3.25 µs   3.48 µs   3.48 µs\nnpm/string-width     50 chars ascii              20.09 µs/iter  (18.93 µs … 435.06 µs)  19.49 µs  21.89 µs  22.59 µs\nnpm/string-width    500 chars ascii             249.71 µs/iter (239.97 µs … 293.18 µs) 250.93 µs  276.7 µs 281.45 µs\nnpm/string-width  5,000 chars ascii               6.69 ms/iter     (6.58 ms … 6.76 ms)   6.72 ms   6.76 ms   6.76 ms\nnpm/string-width 25,000 chars ascii             139.57 ms/iter (137.17 ms … 143.28 ms) 140.49 ms 143.28 ms 143.28 ms\nnpm/string-width      7 chars ascii+emoji          3.7 µs/iter     (3.62 µs … 3.94 µs)   3.73 µs   3.94 µs   3.94 µs\nnpm/string-width     70 chars ascii+emoji        23.93 µs/iter   (22.44 µs … 331.2 µs)  23.15 µs  25.98 µs   30.2 µs\nnpm/string-width    700 chars ascii+emoji       251.65 µs/iter (237.78 µs … 444.69 µs) 252.92 µs 325.89 µs 354.08 µs\nnpm/string-width  7,000 chars ascii+emoji         4.95 ms/iter     (4.82 ms … 5.19 ms)      5 ms   5.04 ms   5.19 ms\nnpm/string-width 35,000 chars ascii+emoji        96.93 ms/iter  (94.39 ms … 102.58 ms)  97.68 ms 102.58 ms 102.58 ms\nnpm/string-width      8 chars ansi+emoji          3.92 µs/iter     (3.45 µs … 4.57 µs)   4.09 µs   4.57 µs   4.57 µs\nnpm/string-width     80 chars ansi+emoji         24.46 µs/iter     (22.87 µs … 4.2 ms)  23.54 µs  25.89 µs  27.41 µs\nnpm/string-width    800 chars ansi+emoji        259.62 µs/iter (246.76 µs … 480.12 µs) 258.65 µs 349.84 µs 372.55 µs\nnpm/string-width  8,000 chars ansi+emoji          5.46 ms/iter     (5.41 ms … 5.57 ms)   5.48 ms   5.55 ms   5.57 ms\nnpm/string-width 40,000 chars ansi+emoji        108.91 ms/iter  (107.55 ms … 109.5 ms) 109.25 ms  109.5 ms  109.5 ms\nnpm/string-width     19 chars ansi+emoji+ascii    6.53 µs/iter     (6.35 µs … 6.75 µs)   6.54 µs   6.75 µs   6.75 µs\nnpm/string-width    190 chars ansi+emoji+ascii   55.52 µs/iter  (52.59 µs … 352.73 µs)  54.19 µs  80.77 µs 167.21 µs\nnpm/string-width  1,900 chars ansi+emoji+ascii  701.71 µs/iter (653.94 µs … 893.78 µs)  715.3 µs 855.37 µs  872.9 µs\nnpm/string-width 19,000 chars ansi+emoji+ascii   27.19 ms/iter   (26.89 ms … 27.41 ms)  27.28 ms  27.41 ms  27.41 ms\nnpm/string-width 95,000 chars ansi+emoji+ascii     3.68 s/iter        (3.66 s … 3.7 s)    3.69 s     3.7 s     3.7 s\n```\n\n----------------------------------------\n\nTITLE: React Component Definition\nDESCRIPTION: A simple React component that renders a message passed as a prop.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport function Component(props: {message: string}) {\n  return <p>{props.message}</p>\n}\n```\n\n----------------------------------------\n\nTITLE: Installing WebKit Build Dependencies\nDESCRIPTION: Installs additional packages required for building WebKit locally using Scoop package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_4\n\nLANGUAGE: powershell\nCODE:\n```\nscoop install make cygwin python\n```\n\n----------------------------------------\n\nTITLE: Configuring footer in Bun Build (JavaScript)\nDESCRIPTION: Adds text at the end of bundled files, useful for license footers or other notes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_56\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  footer: '// built with love in SF'\n})\n```\n\n----------------------------------------\n\nTITLE: Accessing CookieMap Size Property\nDESCRIPTION: How to get the number of cookies in a CookieMap using the size property.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(cookies.size); // Number of cookies\n```\n\n----------------------------------------\n\nTITLE: Asset Import Example Output\nDESCRIPTION: The resulting output code after bundling an asset import, showing how the asset path is resolved.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\n// bundled output\nvar logo = \"./logo-ab237dfe.svg\";\nconsole.log(logo);\n```\n\n----------------------------------------\n\nTITLE: JSX Output with 'preserve' Option\nDESCRIPTION: Transpiled output when using the 'preserve' option, showing that JSX would be left untransformed. This option is not currently supported by Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\n// JSX is not transpiled\n// \"preserve\" is not supported by Bun currently\n<Box width={5}>Hello</Box>\n```\n\n----------------------------------------\n\nTITLE: Disabling Error Throwing in Bun Shell\nDESCRIPTION: Shows how to disable automatic error throwing for non-zero exit codes using .nothrow() and manually check the exit code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst { stdout, stderr, exitCode } = await $`something-that-may-fail`\n  .nothrow()\n  .quiet();\n\nif (exitCode !== 0) {\n  console.log(`Non-zero exit code ${exitCode}`);\n}\n\nconsole.log(stdout);\nconsole.log(stderr);\n```\n\n----------------------------------------\n\nTITLE: Executing the Database Seeding Script and Output (Shell)\nDESCRIPTION: Executes the `seed.ts` script using `bun run` to insert the sample movie data into the database. The output `Seeding complete.` confirms the script ran successfully. Assumes `seed.ts`, `db.ts`, and `schema.ts` exist, and the database schema has been migrated.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run seed.ts\nSeeding complete.\n```\n\n----------------------------------------\n\nTITLE: Listing Running Docker Containers in Shell\nDESCRIPTION: This command uses `docker ps` to list all currently running Docker containers on the host machine. The output includes information such as the container ID, the image it's based on, the command being run, creation time, status, exposed ports, and assigned names.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\n$ docker ps\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                    NAMES\n7f03e212a15e        bun-hello-world     \"bun run index.ts\"       2 minutes ago       Up 2 minutes        0.0.0.0:3000->3000/tcp   flamboyant_cerf\n```\n\n----------------------------------------\n\nTITLE: Converting file:// URL to Absolute Path - Bun - TypeScript\nDESCRIPTION: This snippet shows how to use Bun.fileURLToPath to convert a file:// URL into an absolute filesystem path. It demonstrates input as a URL instance and output as a string path. Bun must be available in the environment. The function is ideal for interoperability between URL-based and file-based APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_13\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst path = Bun.fileURLToPath(new URL(\"file:///foo/bar.txt\"));\nconsole.log(path); // \"/foo/bar.txt\"\n```\n\n----------------------------------------\n\nTITLE: Updating Snapshots via CLI Command\nDESCRIPTION: Command line example showing how to regenerate snapshots using the --update-snapshots flag and its output\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/update-snapshots.md#2025-04-22_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test --update-snapshots\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest/snap.test.ts:\n✓ snapshot [0.86ms]\n\n 1 pass\n 0 fail\n snapshots: +1 added # the snapshot was regenerated\n 1 expect() calls\nRan 1 tests across 1 files. [102.00ms]\n```\n\n----------------------------------------\n\nTITLE: Setting Default Registry in bunfig.toml for Bun\nDESCRIPTION: Configures the default NPM registry URL in bunfig.toml using the install.registry option. This is the Bun-specific equivalent to the registry option in .npmrc.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\ninstall.registry = \"http://localhost:4873/\"\n```\n\n----------------------------------------\n\nTITLE: Creating global test setup and teardown in Bun\nDESCRIPTION: Implementation of global beforeAll and afterAll hooks in a separate setup file. These hooks will run once at the beginning and end of the entire test suite, providing a way to set up and tear down resources needed for all tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/lifecycle.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { beforeAll, afterAll } from \"bun:test\";\n\nbeforeAll(() => {\n  // global setup\n});\n\nafterAll(() => {\n  // global teardown\n});\n```\n\n----------------------------------------\n\nTITLE: Bundling TypeScript with Bun CLI\nDESCRIPTION: This shell command utilizes the Bun command-line interface (`bun build`) to compile and bundle the specified TypeScript file (`./client-side.ts`). During this build process, Bun evaluates any imported macros, such as `Bun.color`, replacing them with their computed values in the output file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_10\n\nLANGUAGE: shell\nCODE:\n```\n```sh\nbun build ./client-side.ts\n```\n```\n\n----------------------------------------\n\nTITLE: Package.json with Legacy Module Fields\nDESCRIPTION: Shows fallback package.json configuration using module and main fields.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_15\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"foo\",\n  \"module\": \"./index.js\",\n  \"main\": \"./index.js\"\n}\n```\n\n----------------------------------------\n\nTITLE: Referencing Local Assets in CSS\nDESCRIPTION: A CSS example showing how to reference local image assets using the url() function. Bun will automatically copy and hash these assets in the output directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_5\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  background-image: url(\"./logo.png\");\n}\n```\n\n----------------------------------------\n\nTITLE: Changing Working Directory in Bun Shell\nDESCRIPTION: Shows how to change the working directory for individual commands or globally using .cwd() and $.cwd.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\n$.cwd(\"/tmp\");\n\n// the globally-set working directory\nawait $`pwd`; // /tmp\n\n// the locally-set working directory\nawait $`pwd`.cwd(\"/\"); // /\n```\n\n----------------------------------------\n\nTITLE: Checking Out Specific WebKit Commit in Bash\nDESCRIPTION: Navigates into the `src/bun.js/WebKit` directory within the Bun project's fork of WebKit and checks out a specific commit hash represented by the `$COMMIT` variable. This is a preliminary step before merging upstream changes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ cd src/bun.js/WebKit # In the WebKit directory! not bun\n$ git checkout $COMMIT\n```\n\n----------------------------------------\n\nTITLE: Installing Required Dependencies for Svelte Testing with Bun\nDESCRIPTION: Command to install testing libraries for Svelte components, including testing-library/svelte, svelte v4, and happy-dom global registrator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/svelte-test.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add @testing-library/svelte svelte@4 @happy-dom/global-registrator\n```\n\n----------------------------------------\n\nTITLE: Export Shared Constant - shared.ts - TypeScript\nDESCRIPTION: Defines and exports a shared constant, meant to demonstrate code splitting when imported by multiple entrypoint files. No further dependencies; output is the exported 'shared' constant.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_29\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport const shared = 'shared';\n```\n\n----------------------------------------\n\nTITLE: Implementing React Counter Component with useState Hook\nDESCRIPTION: A React functional component that implements a counter with increment and decrement buttons. Uses useState hook for state management and includes styling classes for visual presentation. The counter displays the current count value and provides + and - buttons for interaction.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/next-pages/src/Counter1.txt#2025-04-22_snippet_0\n\nLANGUAGE: JavaScript\nCODE:\n```\nimport { useState } from \"react\";\n\nexport function Counter() {\n  console.log('counter a');\n  \n  const [count, setCount] = useState(0);\n\n  function increment() {\n    setCount(count + 1);\n  }\n\n  function decrement() {\n    setCount(count - 1);\n  }\n\n  return (\n    <div id=\"counter-fixture\" className=\"rounded-bl-full\">\n      <p>Count A: {count}</p>\n      <button className=\"inc\" onClick={increment}>\n        +\n      </button>\n      <button className=\"dec\" onClick={decrement}>\n        -\n      </button>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Test.Each Implementation\nDESCRIPTION: Shows how to implement parameterized tests using test.each\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst cases = [\n  [1, 2, 3],\n  [3, 4, 7],\n];\n\ntest.each(cases)(\"%p + %p should be %p\", (a, b, expected) => {\n  expect(a + b).toBe(expected);\n});\n```\n\n----------------------------------------\n\nTITLE: Using Command-Line Filters with Bun Test\nDESCRIPTION: Pass positional arguments to filter which test files to run based on substring matching of file paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test <filter> <filter> ...\n```\n\n----------------------------------------\n\nTITLE: Converting Buffer to String with Encoding and Byte Range using Node.js Buffer in TypeScript\nDESCRIPTION: This snippet shows how to convert a Buffer to a string using the .toString() method, specifying the encoding ('utf8') and a byte range within the buffer. It is written in TypeScript and depends on the Buffer API, available in Node.js/Bun. The buffer is created from the string \\\"hello world!\\\", and only the first five bytes are decoded as a UTF-8 string. The key parameters are encoding (default: 'utf8'), start, and end indices. The output is the substring extracted from the buffer, which may be limited by the specified range.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-string.md#2025-04-22_snippet_1\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.from(\"hello world!\");\nconst str = buf.toString(\"utf8\", 0, 5);\n// => \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Running a File with Reduced Memory Usage using --smol\nDESCRIPTION: Demonstrates the use of the `--smol` flag (`bun --smol run index.tsx`) to execute a script while optimizing for lower memory consumption. This makes the garbage collector run more frequently, which can be beneficial in memory-constrained environments but may slightly reduce performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_16\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --smol run index.tsx\n```\n\n----------------------------------------\n\nTITLE: Creating a Simple Express Server with Bun\nDESCRIPTION: TypeScript code for a basic Express HTTP server that listens on the specified port (defaulting to 3001 if no PORT environment variable is set) and returns 'Hello World!' for the root route.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/render.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport express from \"express\";\n\nconst app = express();\nconst port = process.env.PORT || 3001;\n\napp.get(\"/\", (req, res) => {\n  res.send(\"Hello World!\");\n});\n\napp.listen(port, () => {\n  console.log(`Listening on port ${port}...`);\n});\n```\n\n----------------------------------------\n\nTITLE: Defining MDX Rust Binary Name for Linux MUSL\nDESCRIPTION: Package identifier for the MUSL binary build of bun-mdx-rs targeting Linux x64 architecture.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/npm/linux-x64-musl/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nbun-mdx-rs-linux-x64-musl\n```\n\n----------------------------------------\n\nTITLE: Displaying SSL Session Parameters Certificate\nDESCRIPTION: Base64 encoded SSL session parameters containing certificate data including public key, issuer details, and validity period. The certificate appears to be for Internet Widgits Pty Ltd with a validity period from 2010 to 2013.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/tls-session-ticket.txt#2025-04-22_snippet_0\n\nLANGUAGE: SSL\nCODE:\n```\n-----BEGIN SSL SESSION PARAMETERS-----\\nMIID2wIBAQICAwEEAgA1BCAMjLe+70uBSPGvybkTnPVUMwdbdtVbkMIXf8L5M8Kl\\nVAQwog+Afs00cnYUcgD1BQewJyxX1e561oRuDTpy7BHABC1hC7hxTaul+pwv+cBx\\n8D72oQYCBFFQF3OiBAICASyjggNhMIIDXTCCAkWgAwIBAgIJAMUSOvlaeyQHMA0G\\nCSqGSIb3DQEBBQUAMEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRl\\nMSEwHwYDVQQKDBhJbnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwHhcNMTAxMTE2MDkz\\nMjQ5WhcNMTMxMTE1MDkzMjQ5WjBFMQswCQYDVQQGEwJBVTETMBEGA1UECAwKU29t\\nZS1TdGF0ZTEhMB8GA1UECgwYSW50ZXJuZXQgV2lkZ2l0cyBQdHkgTHRkMIIBIjAN\\nBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAz+LXZOjcQCJq3+ZKUFabj71oo/ex\\n/XsBcFqtBThjjTw9CVEVwfPQQp4XwtPiB204vnYXwQ1/R2NdTQqCZu47l79LssL/\\nu2a5Y9+0NEU3nQA5qdt+1FAE0c5oexPimXOrR3GWfKz7PmZ2O0117IeCUUXPG5U8\\numhDe/4mDF4ZNJiKc404WthquTqgS7rLQZHhZ6D0EnGnOkzlmxJMYPNHSOY1/6iv\\ndNUUcC87awNEA3lgfhy25IyBK3QJc+aYKNTbt70Lery3bu2wWLFGtmNiGlQTS4Js\\nxImRsECTI727ObS7/FWAQsqW+COL0Sa5BuMFrFIpjPrEe0ih7vRRbdmXRwIDAQAB\\no1AwTjAdBgNVHQ4EFgQUDnV4d6mDtOnluLoCjkUHTX/n4agwHwYDVR0jBBgwFoAU\\nDnV4d6mDtOnluLoCjkUHTX/n4agwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUF\\nAAOCAQEAFwV4MQfTo+qMv9JMiynoIEiqfOz4RgtmBqRnXUffcjS2dhc7/z+FPZnM\\n79Kej8eLHoVfxCyWRHFlzm93vEdvwxOCrD13EDOi08OOZfxWyIlCa6Bg8cMAKqQz\\nd2OvQOWqlRWBTThBJIhWflU33izXQn5GdmYqhfpc+9ZHHGhvXNydtRQkdxVK2dZN\\nzLBvBlLlRmtoClU7xm3A+/5dddePAQHEPtyFlUw49VYtZ3ru6KqPms7MKvcRhYLs\\ny9rwSfuuniMlx4d0bDR7TOkw0QQSA0N8MGQRQpzl4mw4jLzyM5d5QtuGBh2P6hPG\\na0YQxtI3RPT/p6ENzzBiAKXiSfzox6QCBAClAwIBEg==\\n-----END SSL SESSION PARAMETERS-----\n```\n\n----------------------------------------\n\nTITLE: Escaped Character Glob Pattern\nDESCRIPTION: Example of escaping special characters in glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"\\\\!index.ts\");\nglob.match(\"!index.ts\"); // => true\nglob.match(\"index.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Next.js CSS Hot Reload Performance Metrics\nDESCRIPTION: Performance metrics showing frame time percentiles and rendered frame statistics for Next.js v11.1.2 CSS hot reloading with 16ms save intervals.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/README.md#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\n Next.js v11.1.2\n Saving every 16ms\n\n Frame time:\n 50th percentile: 312ms\n 75th percentile: 337.6ms\n 90th percentile: 387.7ms\n 95th percentile: 446.9ms\n 99th percentile: 591.7ms\n Rendered frames: 64 / 1024 (6%)\n```\n\n----------------------------------------\n\nTITLE: Instance Method: everybody.to()\nDESCRIPTION: Instance method that takes a limit parameter\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_backticks_in_headings.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\neverybody.to(limit)\n```\n\n----------------------------------------\n\nTITLE: Transpiled JSX Output in TypeScript\nDESCRIPTION: Shows how Bun internally transpiles JSX syntax into vanilla JavaScript by importing from React's JSX runtime and creating elements using the jsx function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/react.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// jsxDEV\nimport { jsx } from \"react/jsx-dev-runtime\";\n\nconst element = jsx(\"h1\", { children: \"Hello, world!\" });\n```\n\n----------------------------------------\n\nTITLE: GitHub Star Button SVG Icon\nDESCRIPTION: SVG icon markup for the repository star button showing a star symbol\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_10\n\nLANGUAGE: SVG\nCODE:\n```\n<svg vertical_align=\"text_bottom\" height=\"16\" class=\"octicon octicon-star v-align-text-bottom\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25zm0 2.445L6.615 5.5a.75.75 0 01-.564.41l-3.097.45 2.24 2.184a.75.75 0 01.216.664l-.528 3.084 2.769-1.456a.75.75 0 01.698 0l2.77 1.456-.53-3.084a.75.75 0 01.216-.664l2.24-2.183-3.096-.45a.75.75 0 01-.564-.41L8 2.694v.001z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Checking Cookie Existence with CookieMap.has()\nDESCRIPTION: How to check if a cookie with a given name exists in a CookieMap using the has() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// Check if cookie exists\nif (cookies.has(\"session\")) {\n  // Cookie exists\n}\n```\n\n----------------------------------------\n\nTITLE: Printing Local Project Bin Path with Bun\nDESCRIPTION: Displays the absolute path to the `node_modules/.bin` directory within the current Bun project. This directory contains executable scripts installed by dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm bin\n/path/to/current/project/node_modules/.bin\n```\n\n----------------------------------------\n\nTITLE: Stopping a Running Docker Container in Shell\nDESCRIPTION: This command uses `docker stop` followed by the container ID to gracefully stop a running Docker container. Replace `7f03e...` with the actual ID of the container you want to stop, which can be obtained from the `docker run` command output or by using `docker ps`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/docker.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ docker stop 7f03e212a15ede8644379bce11a13589f563d3909a9640446c5bbefce993678d\n```\n\n----------------------------------------\n\nTITLE: Creating a React Project from Component in Bun\nDESCRIPTION: Demonstrates how to use 'bun create' to generate a new React project from an existing component file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create ./MyComponent.jsx # .tsx also supported\n```\n\n----------------------------------------\n\nTITLE: Generating and Saving Heap Snapshot in Bun\nDESCRIPTION: This snippet illustrates how to generate a heap snapshot using the 'bun:jsc' module and save it to a file. The snapshot can be used for detailed memory analysis in tools like Safari or WebKit GTK developer tools.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/benchmarking.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { generateHeapSnapshot } from \"bun\";\n\nconst snapshot = generateHeapSnapshot();\nawait Bun.write(\"heap.json\", JSON.stringify(snapshot, null, 2));\n```\n\n----------------------------------------\n\nTITLE: Adding a Start Script to package.json\nDESCRIPTION: Modifies package.json to include a 'start' script that runs the index.ts file, allowing the server to be started with 'bun run start'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_5\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"quickstart\",\n    \"module\": \"index.ts\",\n    \"type\": \"module\",\n+   \"scripts\": {\n+     \"start\": \"bun run index.ts\"\n+   },\n    \"devDependencies\": {\n      \"@types/bun\": \"latest\"\n    }\n  }\n```\n\n----------------------------------------\n\nTITLE: Entrypoints Configuration with JavaScript API\nDESCRIPTION: Example of configuring entrypoints in Bun's bundler using the JavaScript API. The result includes build success status, outputs, and logs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"./index.ts\"],\n});\n// => { success: boolean, outputs: BuildArtifact[], logs: BuildMessage[] }\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun S3Client for S3 Virtual Hosted-Style Endpoints - TypeScript\nDESCRIPTION: Demonstrates instantiating Bun's S3Client for S3 Virtual Hosted-Style endpoints by setting the 'virtualHostedStyle' option to true. Shows variants for AWS S3, custom endpoints, and Cloudflare R2 with bucket in the subdomain. For AWS, omitting 'endpoint' lets Bun infer it from region and bucket; an explicit endpoint overrides this. Requires proper credentials and matching endpoint/bucket configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \\\"bun\\\";\n\n// AWS S3 endpoint inferred from region and bucket\nconst s3 = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  bucket: \\\"my-bucket\\\",\n  virtualHostedStyle: true,\n  // endpoint: \\\"https://my-bucket.s3.us-east-1.amazonaws.com\\\",\n  // region: \\\"us-east-1\\\",\n});\n\n// AWS S3\nconst s3WithEndpoint = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  endpoint: \\\"https://<bucket-name>.s3.<region>.amazonaws.com\\\",\n  virtualHostedStyle: true,\n});\n\n// Cloudflare R2\nconst r2WithEndpoint = new S3Client({\n  accessKeyId: \\\"access-key\\\",\n  secretAccessKey: \\\"secret-key\\\",\n  endpoint: \\\"https://<bucket-name>.<account-id>.r2.cloudflarestorage.com\\\",\n  virtualHostedStyle: true,\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Up Chrome DevTools Testing Environment\nDESCRIPTION: Commands for setting up and configuring Chrome DevTools frontend for testing source maps.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/test426/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngclient config https://chromium.googlesource.com/devtools/devtools-frontend --unmanaged\ncd devtools-frontend\ngclient sync\ngn gen out/Default\n```\n\n----------------------------------------\n\nTITLE: Running WebAssembly (WASM) Files with Bun\nDESCRIPTION: Examples showing how to execute WebAssembly files using Bun's experimental WASI support. Bun can run .wasm files directly or use the 'run' command for files with other extensions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/index.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun ./my-wasm-app.wasm\n# if the filename doesn't end with \".wasm\"\n$ bun run ./my-wasm-app.whatever\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Wrapper Implementation\nDESCRIPTION: Example of how Bun internally wraps CommonJS modules to provide compatibility with the module system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_19\n\nLANGUAGE: js\nCODE:\n```\n(function (module, exports, require) {\n  // transpiled module\n})(module, exports, require);\n```\n\n----------------------------------------\n\nTITLE: Reading Command Output as Text in Bun Shell\nDESCRIPTION: Demonstrates how to read the output of a shell command as a string using the .text() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst result = await $`echo \"Hello World!\"`.text();\n\nconsole.log(result); // Hello World!\\n\n```\n\n----------------------------------------\n\nTITLE: Converting Absolute Path to File URL using Bun.pathToFileURL()\nDESCRIPTION: Shows how to convert an absolute filesystem path to a file:// URL using Bun's built-in utility function. The function takes an absolute path string as input and returns a URL string with the file:// protocol.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/path-to-file-url.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.pathToFileURL(\"/path/to/file.txt\");\n// => \"file:///path/to/file.txt\"\n```\n\n----------------------------------------\n\nTITLE: Decoding Base64-encoded Password Using Command Line for Azure Artifacts\nDESCRIPTION: This bash command demonstrates how to decode a base64-encoded password using the base64 command-line tool. It's noted that this method may save the password in terminal history, which is not recommended for security reasons.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/azure-artifacts.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\necho \"base64-encoded-password\" | base64 --decode\n```\n\n----------------------------------------\n\nTITLE: Installing Bun on Windows using PowerShell\nDESCRIPTION: This snippet shows how to install Bun on Windows using PowerShell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_4\n\nLANGUAGE: powershell\nCODE:\n```\n> powershell -c \"irm bun.sh/install.ps1|iex\"\n```\n\n----------------------------------------\n\nTITLE: Plugin State Management in Rust\nDESCRIPTION: Implementation of plugin state management using NAPI External type\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_4\n\nLANGUAGE: rust\nCODE:\n```\nstruct PluginState {\n  foo_count: std::sync::atomic::AtomicU32,\n}\n\n#[napi]\npub fn create_plugin_state() -> External<PluginState> {\n  let external = External::new(PluginState {\n    foo_count: 0,\n  });\n\n  external\n}\n\n\n#[napi]\npub fn get_foo_count(plugin_state: External<PluginState>) -> u32 {\n  let plugin_state: &PluginState = &plugin_state;\n  plugin_state.foo_count.load(std::sync::atomic::Ordering::Relaxed)\n}\n```\n\n----------------------------------------\n\nTITLE: Setting separate line and function coverage thresholds\nDESCRIPTION: Configuration in bunfig.toml to set different thresholds for line-level (50%) and function-level (70%) code coverage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/coverage-threshold.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[test]\n# to set different thresholds for lines and functions\ncoverageThreshold = { lines = 0.5, functions = 0.7 }\n```\n\n----------------------------------------\n\nTITLE: Setting Up DOM Testing Environment with Bun and Happy-DOM\nDESCRIPTION: Configuration for setting up a browser-like environment for tests using happy-dom as an alternative to jsdom. Requires creating a happy-dom.ts file to inject browser APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/migrate-from-jest.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = [\"./happy-dom.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Importing Tarball Package\nDESCRIPTION: Example of importing the installed package in TypeScript code, showing that it can be used like any normal package dependency.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-tarball.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { z } from \"zod\";\n```\n\n----------------------------------------\n\nTITLE: JSX Factory Pragma Example\nDESCRIPTION: Example of using the JSX factory pragma to set the JSX factory function on a per-file basis rather than in configuration. The pragma is a special comment that overrides the compiler setting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_20\n\nLANGUAGE: ts\nCODE:\n```\n// @jsx h\n```\n\n----------------------------------------\n\nTITLE: Appending File Content with Encoding Specification in JavaScript\nDESCRIPTION: Demonstrates how to specify the encoding (utf8) when appending data to a file using the callback-based fs.appendFile function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/append.md#2025-04-22_snippet_2\n\nLANGUAGE: js\nCODE:\n```\nimport { appendFile } from \"node:fs\";\n\nappendFile(\"message.txt\", \"data to append\", \"utf8\", callback);\n```\n\n----------------------------------------\n\nTITLE: Setting Registry-Specific Authentication in .npmrc for Bun\nDESCRIPTION: Configures authentication options for a specific registry in .npmrc. Support includes authentication tokens, username/password combinations, and base64-encoded auth strings. Environment variables can be used with ${...} syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_4\n\nLANGUAGE: ini\nCODE:\n```\n# set an auth token for the registry\n# ${...} is a placeholder for environment variables\n//http://localhost:4873/:_authToken=${NPM_TOKEN}\n\n\n# or you could set a username and password\n# note that the password is base64 encoded\n//http://localhost:4873/:username=myusername\n\n//http://localhost:4873/:_password=${NPM_PASSWORD}\n\n# or use _auth, which is your username and password\n# combined into a single string, which is then base 64 encoded\n//http://localhost:4873/:_auth=${NPM_AUTH}\n```\n\n----------------------------------------\n\nTITLE: Setting Program Name in Commander.js\nDESCRIPTION: This example demonstrates how to explicitly set the program name that appears in help text. This can be done using the name() method or in the Command constructor.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_30\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.name('pizza');\nconst pm = new Command('pm');\n```\n\n----------------------------------------\n\nTITLE: Check Clang Version\nDESCRIPTION: This command checks the version of Clang installed on the system. The output indicates the location of the clang-19 executable. This confirms that Clang 19 is installed and available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\n$ which clang-19\n```\n\n----------------------------------------\n\nTITLE: Configuring Yarn Lockfile Support in Bun\nDESCRIPTION: Configuration for bunfig.toml to automatically generate a Yarn lockfile alongside bun.lock when running bun install.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lockfile.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[install.lockfile]\n# whether to save a non-Bun lockfile alongside bun.lock\n# only \"yarn\" is supported\nprint = \"yarn\"\n```\n\n----------------------------------------\n\nTITLE: Accessing Mock Function Properties in Bun Test Framework (TypeScript)\nDESCRIPTION: Illustrates how to access and use additional properties of mock functions, such as `mock.calls` and `mock.results`, which provide information about function calls and their results.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { mock } from \"bun:test\";\nconst random = mock((multiplier: number) => multiplier * Math.random());\n\nrandom(2);\nrandom(10);\n\nrandom.mock.calls;\n// [[ 2 ], [ 10 ]]\n\nrandom.mock.results;\n//  [\n//    { type: \"return\", value: 0.6533907460954099 },\n//    { type: \"return\", value: 0.6452713933037312 }\n//  ]\n```\n\n----------------------------------------\n\nTITLE: Writing HTTP Response to File\nDESCRIPTION: Shows how to save an HTTP response body to a file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file-io.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"https://bun.sh\");\nawait Bun.write(\"index.html\", response);\n```\n\n----------------------------------------\n\nTITLE: Formatting tabular data with Bun.inspect.table() in TypeScript\nDESCRIPTION: Demonstrates how to use Bun.inspect.table() to format tabular data as a string. Similar to console.table() but returns a string instead of printing to the console.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\n  Bun.inspect.table([\n    { a: 1, b: 2, c: 3 },\n    { a: 4, b: 5, c: 6 },\n    { a: 7, b: 8, c: 9 },\n  ]),\n);\n//\n// ┌───┬───┬───┬───┐\n// │   │ a │ b │ c │\n// ├───┼───┼───┼───┤\n// │ 0 │ 1 │ 2 │ 3 │\n// │ 1 │ 4 │ 5 │ 6 │\n// │ 2 │ 7 │ 8 │ 9 │\n// └───┴───┴───┴───┘\n```\n\n----------------------------------------\n\nTITLE: Encoding and Decoding Text as Bytes Using TextEncoder and TextDecoder (JavaScript/TypeScript)\nDESCRIPTION: This snippet shows how the global TextEncoder and TextDecoder classes are used for UTF-8 string and binary data conversion. With TextEncoder, a string is encoded as a Uint8Array, and with TextDecoder, those bytes are decoded back to a string. This is standard in modern browsers and JavaScript runtimes. Inputs are plain text strings and Uint8Arrays; outputs are the encoded byte arrays and decoded strings, respectively.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_14\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst encoder = new TextEncoder();\nconst bytes = encoder.encode(\"hello world\");\n// => Uint8Array(11) [ 104, 101, 108, 108, 111, 32, 119, 111, 114, 108, 100 ]\n\nconst decoder = new TextDecoder();\nconst text = decoder.decode(bytes);\n// => hello world\n```\n\n----------------------------------------\n\nTITLE: CSS Module Composition from Separate Files\nDESCRIPTION: Shows how to compose styles from a separate CSS module file by specifying the file path in the composes property. This enables modular style organization across multiple files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_31\n\nLANGUAGE: css\nCODE:\n```\n/* background.module.css */\n.background {\n  background-color: blue;\n}\n\n/* styles.module.css */\n.button {\n  composes: background from \"./background.module.css\";\n  color: red;\n}\n```\n\n----------------------------------------\n\nTITLE: Receiving UDP Datagrams\nDESCRIPTION: Implementation of UDP server and client with data callback handler for receiving packets\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/udp.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = await Bun.udpSocket({\n  socket: {\n    data(socket, buf, port, addr) {\n      console.log(`message from ${addr}:${port}:`)\n      console.log(buf.toString());\n    } \n  }\n})\n\nconst client = await Bun.udpSocket({});\nclient.send(\"Hello!\", server.port, \"127.0.0.1\");\n```\n\n----------------------------------------\n\nTITLE: Configuring Global Binary Directory in Bun\nDESCRIPTION: Sets the directory where binaries from globally installed packages are linked.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_26\n\nLANGUAGE: toml\nCODE:\n```\n# where globally-installed package bins are linked\nglobalBinDir = \"~/.bun/bin\"\n```\n\n----------------------------------------\n\nTITLE: Importing JSON File in TypeScript using Standard Import\nDESCRIPTION: This snippet demonstrates how to import a JSON file in TypeScript using the standard import syntax. It shows how to access various properties of the imported JSON data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-json.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport data from \"./package.json\";\n\ndata.name; // => \"bun\"\ndata.version; // => \"1.0.0\"\ndata.author.name; // => \"John Dough\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Workspaces in Root package.json\nDESCRIPTION: Demonstrates how to configure workspaces in the root package.json file of a monorepo project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/workspaces.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-project\",\n  \"version\": \"1.0.0\",\n  \"workspaces\": [\"packages/*\"],\n  \"devDependencies\": {\n    \"example-package-in-monorepo\": \"workspace:*\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing EdgeDB CLI on Windows using PowerShell\nDESCRIPTION: This PowerShell command uses Invoke-WebRequest (iwr) and Invoke-Expression (iex) to retrieve and execute the official EdgeDB installer script for Windows. Dependency: PowerShell 5.0+, internet connection. Input: None. Output: Installs the EdgeDB CLI for project and database management on Windows systems.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\niwr https://ps1.edgedb.com -useb | iex\n```\n\n----------------------------------------\n\nTITLE: Setting Test Timeout in Bun Test Runner\nDESCRIPTION: Demonstrates how to set a custom timeout duration for test execution using the --timeout flag. The timeout value is specified in milliseconds and defaults to 5000ms (5 seconds). Tests that exceed the specified timeout will be marked as failed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/timeout.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --timeout 3000 # 3 seconds\n```\n\n----------------------------------------\n\nTITLE: Basic Bun Package Management Commands\nDESCRIPTION: Basic commands for installing, adding, and removing dependencies using bun package manager. Shows equivalents of common npm commands.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# It only takes one command to migrate\n$ bun i\n\n# To add dependencies:\n$ bun i @types/bun\n\n# To add devDependencies:\n$ bun i -d @types/bun\n\n# To remove a dependency:\n$ bun rm @types/bun\n```\n\n----------------------------------------\n\nTITLE: HMAC with Bun.CryptoHasher\nDESCRIPTION: Shows how to use Bun.CryptoHasher for HMAC (Hash-based Message Authentication Code) computation. It supports a subset of cryptographic algorithms and has some usage restrictions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst hasher = new Bun.CryptoHasher(\"sha256\", \"secret-key\");\nhasher.update(\"hello world\");\nconsole.log(hasher.digest(\"hex\"));\n// => \"095d5a21fe6d0646db223fdf3de6436bb8dfb2fab0b51677ecf6441fcf5f2a67\"\n\nconst hasher = new Bun.CryptoHasher(\"sha256\", \"secret-key\");\nhasher.update(\"hello world\");\n\nconst copy = hasher.copy();\ncopy.update(\"!\");\nconsole.log(copy.digest(\"hex\"));\n// => \"3840176c3d8923f59ac402b7550404b28ab11cb0ef1fa199130a5c37864b5497\"\n\nconsole.log(hasher.digest(\"hex\"));\n// => \"095d5a21fe6d0646db223fdf3de6436bb8dfb2fab0b51677ecf6441fcf5f2a67\"\n```\n\n----------------------------------------\n\nTITLE: Enabling Global WebSocket Compression in Bun using permessage-deflate\nDESCRIPTION: Demonstrates how to enable per-message compression for all WebSocket messages using the permessage-deflate extension. This is configured through the perMessageDeflate parameter in the websocket configuration object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/websocket/compression.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  // ...\n  websocket: {\n    // enable compression\n    perMessageDeflate: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: GitHub Site Details Dialog Template\nDESCRIPTION: HTML template for a modal dialog component used throughout GitHub's interface. This reusable template includes a close button, loading spinner, and structural elements for displaying content in an overlay dialog box.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_20\n\nLANGUAGE: HTML\nCODE:\n```\n<template id=\"site-details-dialog\">\n  <details class=\"details-reset details-overlay details-overlay-dark lh-default text-gray-dark hx_rsm\" open>\n    <summary role=\"button\" aria-label=\"Close dialog\"></summary>\n    <details-dialog class=\"Box Box--overlay d-flex flex-column anim-fade-in fast hx_rsm-dialog hx_rsm-modal\">\n      <button class=\"Box-btn-octicon m-0 btn-octicon position-absolute right-0 top-0\" type=\"button\" aria-label=\"Close dialog\" data-close-dialog>\n        <svg class=\"octicon octicon-x\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M3.72 3.72a.75.75 0 011.06 0L8 6.94l3.22-3.22a.75.75 0 111.06 1.06L9.06 8l3.22 3.22a.75.75 0 11-1.06 1.06L8 9.06l-3.22 3.22a.75.75 0 01-1.06-1.06L6.94 8 3.72 4.78a.75.75 0 010-1.06z\"></path></svg>\n      </button>\n      <div class=\"octocat-spinner my-6 js-details-dialog-spinner\"></div>\n    </details-dialog>\n  </details>\n</template>\n```\n\n----------------------------------------\n\nTITLE: Installing Bun using Docker\nDESCRIPTION: This snippet demonstrates how to pull and run the Bun Docker image.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ docker pull oven/bun\n$ docker run --rm --init --ulimit memlock=-1:-1 oven/bun\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Comment Syntax in Bun-flavored TOML\nDESCRIPTION: Shows how comments can be written using both '#' and ';' in Bun-flavored TOML, which is compatible with INI file syntax.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bun-flavored-toml.md#2025-04-22_snippet_0\n\nLANGUAGE: ini\nCODE:\n```\n# This is a comment\n; This is also a comment\n```\n\n----------------------------------------\n\nTITLE: Capturing Command Output as Buffers in Bun Shell\nDESCRIPTION: Shows how to capture both stdout and stderr of a shell command as Buffer objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nconst { stdout, stderr } = await $`echo \"Hello!\"`.quiet();\n\nconsole.log(stdout); // Buffer(7) [ 72, 101, 108, 108, 111, 33, 10 ]\nconsole.log(stderr); // Buffer(0) []\n```\n\n----------------------------------------\n\nTITLE: Setting a Specific System Time in Bun Tests\nDESCRIPTION: This example demonstrates how to set the system time to a specific date (January 1, 1999) in a Bun test and verify the new date components with expectations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/mock-clock.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, setSystemTime } from \"bun:test\";\n\ntest(\"party like it's 1999\", () => {\n  const date = new Date(\"1999-01-01T00:00:00.000Z\");\n  setSystemTime(date); // it's now January 1, 1999\n\n  const now = new Date();\n  expect(now.getFullYear()).toBe(1999);\n  expect(now.getMonth()).toBe(0);\n  expect(now.getDate()).toBe(1);\n});\n```\n\n----------------------------------------\n\nTITLE: Compressing data with Bun.deflateSync() in TypeScript\nDESCRIPTION: Demonstrates using the DEFLATE algorithm to compress data. This example shows compressing a buffer containing repeated text, showing the size difference before and after compression.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nconst buf = Buffer.from(\"hello\".repeat(100));\nconst compressed = Bun.deflateSync(buf);\n\nbuf; // => Uint8Array(25)\ncompressed; // => Uint8Array(10)\n```\n\n----------------------------------------\n\nTITLE: Running Next.js CSS HMR Analysis Script\nDESCRIPTION: This command executes a Node.js script to analyze CSS HMR frame times for a Next.js project. It sets environment variables for sleep interval and project name before running the script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/next.latest.24ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nSLEEP_INTERVAL=24 PROJECT=next node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Advanced color() Function Usage in CSS - Bun Bundler\nDESCRIPTION: Utilizes the color() function with explicit color spaces (display-p3, a98-rgb) to access wide gamuts. Bun provides RGB fallbacks for compatibility. Inputs support creative color choices; outputs guarantee older browser support. No dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_10\n\nLANGUAGE: css\nCODE:\n```\n.vivid-element {\\n  /* Using the Display P3 color space for wider gamut colors */\\n  color: color(display-p3 1 0.1 0.3);\\n\\n  /* Using A98 RGB color space */\\n  background-color: color(a98-rgb 0.44 0.5 0.37);\\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Safe Integers and Returning Truncated Number Values (TypeScript)\nDESCRIPTION: Sets safeIntegers: false (default) in Bun's Database, resulting in SQLite integer fields being returned as regular JavaScript numbers. Precision will be truncated beyond 53 bits for large integers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_23\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database(\":memory:\", { safeIntegers: false });\nconst query = db.query(\n  `SELECT ${BigInt(Number.MAX_SAFE_INTEGER) + 102n} as max_int`,\n);\nconst result = query.get();\nconsole.log(result.max_int); // => 9007199254741092\n\n```\n\n----------------------------------------\n\nTITLE: Using Vitest Compatibility Features in Bun Tests\nDESCRIPTION: Shows how to use Bun's Vitest compatibility layer through the vi global object. Demonstrates creating mock functions and accessing Vitest-compatible APIs like vi.fn, vi.spyOn, and vi.mock.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/mocks.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\n// Using the 'vi' alias similar to Vitest\ntest(\"vitest compatibility\", () => {\n  const mockFn = vi.fn(() => 42);\n  \n  mockFn();\n  expect(mockFn).toHaveBeenCalled();\n  \n  // The following functions are available on the vi object:\n  // vi.fn\n  // vi.spyOn\n  // vi.mock\n  // vi.restoreAllMocks\n  // vi.clearAllMocks\n});\n```\n\n----------------------------------------\n\nTITLE: Running Tests in Jest Environment\nDESCRIPTION: Command to run the test file using Jest with Node.js experimental VM modules enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/expect-to-equal/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# If you remove the import the performance doesn't change much\nNODE_OPTIONS=\"--experimental-vm-modules\" ./node_modules/.bin/jest expect-to-equal.test.js\n```\n\n----------------------------------------\n\nTITLE: Getting Process Uptime in Nanoseconds with Bun\nDESCRIPTION: This snippet demonstrates how to use Bun.nanoseconds() to retrieve the total number of nanoseconds the bun process has been alive. This is useful for precise timing measurements in applications.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/nanoseconds.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.nanoseconds();\n```\n\n----------------------------------------\n\nTITLE: Entrypoints Configuration with CLI\nDESCRIPTION: Example of configuring entrypoints in Bun's bundler using the CLI. Without an outdir, the bundle is printed to stdout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build --entrypoints ./index.ts\n# the bundle will be printed to stdout\n# <bundled code>\n```\n\n----------------------------------------\n\nTITLE: Configuring Scoped Private Registries in Bun\nDESCRIPTION: Demonstrates how to configure organization-specific private registries with different authentication methods including direct URL with credentials, separate username/password, and token-based authentication. Supports environment variable references.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/registries.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\n# registry as string\n\"@myorg1\" = \"https://username:password@registry.myorg.com/\"\n\n# registry with username/password\n# you can reference environment variables\n\"@myorg2\" = { username = \"myusername\", password = \"$NPM_PASS\", url = \"https://registry.myorg.com/\" }\n\n# registry with token\n\"@myorg3\" = { token = \"$npm_token\", url = \"https://registry.myorg.com/\" }\n```\n\n----------------------------------------\n\nTITLE: Adding npm overrides to package.json in Bun (second example)\nDESCRIPTION: Another example of adding npm's \"overrides\" field to package.json to control the version of a metadependency. This demonstrates how to specify that \"bar\" should use version \"~4.4.0\" even if a newer version is available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/overrides.md#2025-04-22_snippet_2\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"dependencies\": {\n      \"foo\": \"^2.0.0\"\n    },\n+   \"overrides\": {\n+     \"bar\": \"~4.4.0\"\n+   }\n  }\n```\n\n----------------------------------------\n\nTITLE: Accessing Raw Command-line Arguments with Bun.argv in TypeScript\nDESCRIPTION: A simple example showing how to access the raw command-line arguments array using Bun.argv.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/argv.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(Bun.argv);\n```\n\n----------------------------------------\n\nTITLE: Equivalent setTimeout Implementation in TypeScript\nDESCRIPTION: This snippet shows the equivalent implementation of the sleep functionality using setTimeout. It creates a Promise that resolves after the specified delay, mimicking the behavior of Bun.sleep.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/sleep.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nawait new Promise(resolve => setTimeout(resolve, ms));\n```\n\n----------------------------------------\n\nTITLE: Getting Bun Version in TypeScript\nDESCRIPTION: Retrieves the current semantic version of Bun installation. Returns a string in semver format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/version.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.version; // => \"$BUN_LATEST_VERSION\"\n```\n\n----------------------------------------\n\nTITLE: Connecting to MongoDB and Using the Animal Model - TypeScript\nDESCRIPTION: Connects to a local MongoDB instance, creates and saves a new 'Animal', fetches all animals, invokes an instance method, and disconnects. Requires the 'mongoose' NPM package, a running MongoDB instance at 'mongodb://127.0.0.1:27017/mongoose-app', and the 'Animal' model defined elsewhere. Accepts no arguments directly, relies on connecting to database, creates an object with 'name' and 'sound', and demonstrates the model's static and instance methods. Outputs to the console and modifies database state.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/mongoose.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport * as mongoose from 'mongoose';\\nimport {Animal} from './schema';\\n\\n// connect to database\\nawait mongoose.connect('mongodb://127.0.0.1:27017/mongoose-app');\\n\\n// create new Animal\\nconst cow = new Animal({\\n  name: 'Cow',\\n  sound: 'Moo',\\n});\\nawait cow.save(); // saves to the database\\n\\n// read all Animals\\nconst animals = await Animal.find();\\nanimals[0].speak(); // logs \\\"Moo!\\\"\\n\\n// disconnect\\nawait mongoose.disconnect();\n```\n\n----------------------------------------\n\nTITLE: Configuring Frozen Lockfile in Bun Install\nDESCRIPTION: When enabled, bun install will not update the lockfile and will error if package.json doesn't match the lockfile.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_23\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nfrozenLockfile = false\n```\n\n----------------------------------------\n\nTITLE: Configuring Production Mode in Bun Install\nDESCRIPTION: When enabled, devDependencies will not be installed. Can be overridden with --production CLI flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_19\n\nLANGUAGE: toml\nCODE:\n```\n[install]\nproduction = false\n```\n\n----------------------------------------\n\nTITLE: Configuring bunfig.toml for Svelte Plugin\nDESCRIPTION: TOML configuration to register bun-plugin-svelte in the Bun configuration file for use with the Fullstack Dev Server.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-svelte/README.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[serve.static]\nplugins = [\"bun-plugin-svelte\"]\n```\n\n----------------------------------------\n\nTITLE: Publishing Messages to WebSocket Subscribers\nDESCRIPTION: Shows how to publish messages to all WebSocket clients subscribed to a topic using the server.publish() method. The method returns the number of bytes sent, 0 if dropped, or -1 if backpressure was applied.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  websocket: {\n    message(ws) {\n      // Publish to all \"chat\" subscribers\n      server.publish(\"chat\", \"Hello everyone!\");\n    },\n  },\n\n  fetch(req) {\n    // ...\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: React Server-Side Rendering in Bun\nDESCRIPTION: Example of server-side rendering React components in Bun using react-dom/server's renderToReadableStream. This demonstrates how Bun can be used to build React-based web applications with dynamic content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport { renderToReadableStream } from \"react-dom/server\";\n\nconst dt = new Intl.DateTimeFormat();\n\nexport default {\n  port: 3000,\n  async fetch(request: Request) {\n    return new Response(\n      await renderToReadableStream(\n        <html>\n          <head>\n            <title>Hello World</title>\n          </head>\n          <body>\n            <h1>Hello from React!</h1>\n            <p>The date is {dt.format(new Date())}</p>\n          </body>\n        </html>,\n      ),\n    );\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Non-Color Terminal Console Output Example in Bun Test\nDESCRIPTION: Demonstrates the console output format when running tests in a terminal that doesn't support colors, using ASCII characters instead of Unicode symbols.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/reporters.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\ntest/package-json-lint.test.ts:\n(pass) test/package.json [0.48ms]\n(pass) test/js/third_party/grpc-js/package.json [0.10ms]\n(pass) test/js/third_party/svelte/package.json [0.04ms]\n(pass) test/js/third_party/express/package.json [0.04ms]\n\n 4 pass\n 0 fail\n 4 expect() calls\nRan 4 tests across 1 files. [0.66ms]\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Unhandled Error Detection in Bun Test Runner (TypeScript)\nDESCRIPTION: This code snippet illustrates how Bun's test runner handles unhandled errors that occur outside of test cases. It shows that even if all tests pass, an unhandled error will cause the test run to fail with a non-zero exit code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/runtime-behavior.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test } from \"bun:test\";\n\ntest(\"test 1\", () => {\n  // This test passes\n});\n\n// This error happens outside any test\nsetTimeout(() => {\n  throw new Error(\"Unhandled error\");\n}, 0);\n\ntest(\"test 2\", () => {\n  // This test also passes\n});\n\n// The test run will still fail with a non-zero exit code\n// because of the unhandled error\n```\n\n----------------------------------------\n\nTITLE: CSS Color Format Examples in TypeScript\nDESCRIPTION: Examples of converting various color formats to CSS string representation using Bun.color() with 'css' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"css\"); // \"red\"\nBun.color(0xff0000, \"css\"); // \"#f000\"\nBun.color(\"#f00\", \"css\"); // \"red\"\nBun.color(\"#ff0000\", \"css\"); // \"red\"\nBun.color(\"rgb(255, 0, 0)\", \"css\"); // \"red\"\nBun.color(\"rgba(255, 0, 0, 1)\", \"css\"); // \"red\"\nBun.color(\"hsl(0, 100%, 50%)\", \"css\"); // \"red\"\nBun.color(\"hsla(0, 100%, 50%, 1)\", \"css\"); // \"red\"\nBun.color({ r: 255, g: 0, b: 0 }, \"css\"); // \"red\"\nBun.color({ r: 255, g: 0, b: 0, a: 1 }, \"css\"); // \"red\"\nBun.color([255, 0, 0], \"css\"); // \"red\"\nBun.color([255, 0, 0, 255], \"css\"); // \"red\"\n```\n\n----------------------------------------\n\nTITLE: Initializing an Astro Project with Bun\nDESCRIPTION: This shell command uses `bun create astro` to scaffold a new Astro project. The `create-astro` package detects `bunx` and automatically uses `bun` for installing dependencies. The command interactively guides the user through project setup options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/astro.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun create astro\n╭─────╮  Houston:\n│ ◠ ◡ ◠  We're glad to have you on board.\n╰─────╯\n\n astro   v3.1.4 Launch sequence initiated.\n\n   dir   Where should we create your new project?\n         ./fumbling-field\n\n  tmpl   How would you like to start your new project?\n         Use blog template\n      ✔  Template copied\n\n  deps   Install dependencies?\n         Yes\n      ✔  Dependencies installed\n\n    ts   Do you plan to write TypeScript?\n         Yes\n\n   use   How strict should TypeScript be?\n         Strict\n      ✔  TypeScript customized\n\n   git   Initialize a new git repository?\n         Yes\n      ✔  Git initialized\n\n  next   Liftoff confirmed. Explore your project!\n\n         Enter your project directory using cd ./fumbling-field\n         Run `bun run dev` to start the dev server. CTRL+C to stop.\n         Add frameworks like react or tailwind using astro add.\n\n         Stuck? Join us at https://astro.build/chat\n\n╭─────╮  Houston:\n│ ◠ ◡ ◠  Good luck out there, astronaut! 🚀\n╰─────╯\n```\n\n----------------------------------------\n\nTITLE: GZIP File Structure and Open Functions in C\nDESCRIPTION: Definition of GZIP file structure and implementations of gzopen(), gzdopen(), and gz_open() functions for initializing compression streams.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/zlib.test.txt#2025-04-22_snippet_6\n\nLANGUAGE: C\nCODE:\n```\ntypedef struct gzFile_s {\n    FILE *file;\n    int write;\n    int err;\n    char *msg;\n    z_stream strm;\n} *gzFile;\n\ngzFile gzopen(path, mode)\nconst char *path;\nconst char *mode;\n{\n    return gz_open(path, -1, mode);\n}\n\ngzFile gzdopen(fd, mode)\nint fd;\nconst char *mode;\n{\n    return gz_open(NULL, fd, mode);\n}\n```\n\n----------------------------------------\n\nTITLE: Code signing and verifying the executable\nDESCRIPTION: Uses the macOS codesign utility to sign the compiled executable with the specified identity and entitlements, then verifies the signature to ensure it was applied correctly.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/codesign-macos-executable.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ codesign --entitlements entitlements.plist -vvvv --deep --sign \"XXXXXXXXXX\" ./myapp --force\n$ codesign -vvv --verify ./myapp\n```\n\n----------------------------------------\n\nTITLE: Starting Development Server with Bun\nDESCRIPTION: Command to start a development server for local development using Bun\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/cli/init/README2.default.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun dev\n```\n\n----------------------------------------\n\nTITLE: Writing String to Absolute Path File in TypeScript\nDESCRIPTION: This snippet demonstrates how to write a string to a file at an absolute path using Bun.write(). The first argument is the destination path, and the second is the string data to write.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/basic.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/file.txt\";\nawait Bun.write(path, \"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Enabling Small Memory Mode in Bun\nDESCRIPTION: Enables 'smol' mode which reduces memory usage at the cost of performance. Useful for resource-constrained environments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n# Reduce memory usage at the cost of performance\nsmol = true\n```\n\n----------------------------------------\n\nTITLE: Displaying Monorepo Directory Structure\nDESCRIPTION: Shows the typical directory structure of a monorepo project using the tree command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/workspaces.md#2025-04-22_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\ntree\n<root>\n├── README.md\n├── bun.lock\n├── package.json\n├── tsconfig.json\n└── packages\n    ├── pkg-a\n    │   ├── index.ts\n    │   ├── package.json\n    │   └── tsconfig.json\n    ├── pkg-b\n    │   ├── index.ts\n    │   ├── package.json\n    │   └── tsconfig.json\n    └── pkg-c\n        ├── index.ts\n        ├── package.json\n        └── tsconfig.json\n```\n\n----------------------------------------\n\nTITLE: Enabling TLS for a TCP Server\nDESCRIPTION: Configures a TLS-enabled TCP server by providing key and certificate files. The TLS configuration requires key and cert fields that can be loaded from files using Bun.file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nBun.listen({\n  hostname: \"localhost\",\n  port: 8080,\n  socket: {\n    data(socket, data) {},\n  },\n  tls: {\n    // can be string, BunFile, TypedArray, Buffer, or array thereof\n    key: Bun.file(\"./key.pem\"),\n    cert: Bun.file(\"./cert.pem\"),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing a High-Performance 'cat' Clone in Bun\nDESCRIPTION: JavaScript implementation of 'cat' command in Bun that runs 2x faster than GNU cat for large files on Linux. It uses Bun's file and stdout APIs for efficient file reading and output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n// cat.js\nimport { resolve } from \"path\";\nimport { write, stdout, file, argv } from \"bun\";\n\nconst path = resolve(argv.at(-1));\n\nawait write(\n  // stdout is a Blob\n  stdout,\n  // file(path) returns a Blob - https://developer.mozilla.org/en-US/docs/Web/API/Blob\n  file(path),\n);\n```\n\n----------------------------------------\n\nTITLE: Reading and Parsing JSON File with Bun in TypeScript\nDESCRIPTION: This snippet demonstrates how to use Bun.file() to read a JSON file, parse its contents into a JavaScript object, and check the MIME type of the file. It uses the .json() method of the BunFile instance to parse the contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/json.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst path = \"/path/to/package.json\";\nconst file = Bun.file(path);\n\nconst contents = await file.json();\n// { name: \"my-package\" }\n\nfile.type; // => \"application/json;charset=utf-8\";\n```\n\n----------------------------------------\n\nTITLE: Deleting Directory with Error Handling in TypeScript\nDESCRIPTION: This snippet shows how to delete a directory using the 'rm' function with error handling. It checks if the directory exists and logs a message if it doesn't, otherwise it throws any other errors encountered during deletion.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/delete-directory.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\ntry {\n  await rm(\"path/to/directory\", { recursive: true });\n} catch (error) {\n  if (error.code === \"ENOENT\") {\n    console.log(\"Directory doesn't exist\");\n  } else {\n    throw error;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Bun to PATH on Windows\nDESCRIPTION: This snippet demonstrates how to add Bun to the PATH environment variable on Windows using PowerShell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_9\n\nLANGUAGE: powershell\nCODE:\n```\n[System.Environment]::SetEnvironmentVariable(\n    \"Path\",\n    [System.Environment]::GetEnvironmentVariable(\"Path\", \"User\") + \";$env:USERPROFILE\\.bun\\bin\",\n    [System.EnvironmentVariableTarget]::User\n)\n```\n\n----------------------------------------\n\nTITLE: Initializing Sentry in a Bun Application\nDESCRIPTION: Code to initialize the Sentry SDK with project-specific DSN and configuration options. Includes performance monitoring setup with a tracesSampleRate that determines what percentage of transactions are sent to Sentry.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/sentry.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport * as Sentry from \"@sentry/bun\";\n\n// Ensure to call this before importing any other modules!\nSentry.init({\n  dsn: \"__SENTRY_DSN__\",\n\n  // Add Performance Monitoring by setting tracesSampleRate\n  // We recommend adjusting this value in production\n  tracesSampleRate: 1.0,\n});\n```\n\n----------------------------------------\n\nTITLE: Filtering Bun Tests by Partial Name using Bash (Commented Example)\nDESCRIPTION: A commented-out example demonstrating how running `bun test a` would execute both `a.test.ts` files (one in the root, one in `foo/`) based on the previously shown directory structure. This illustrates filtering by a common part of the filename.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test a\n```\n\n----------------------------------------\n\nTITLE: Running the Application with Bun - Bash\nDESCRIPTION: Executes the main TypeScript file using Bun's runtime, demonstrating how to run your codebase. Assumes that the project and TypeScript code are set up as instructed earlier. Outputs results and logging to the console.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/mongoose.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.ts\\nMoo!\n```\n\n----------------------------------------\n\nTITLE: Filtering Bun Tests by Directory Name using Bash (Commented Example)\nDESCRIPTION: A commented-out example showing how running `bun test foo` would execute all test files located within the `foo` directory (`foo/a.test.ts` and `foo/b.test.ts`) based on the previously shown directory structure. This illustrates filtering by directory path component.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_18\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test foo\n```\n\n----------------------------------------\n\nTITLE: Scaffolding and Running a Hono Project with Bun (Bash)\nDESCRIPTION: These Bash commands illustrate the process of scaffolding a new Hono project named 'myapp' using the Bun runtime's create command with the 'hono' template. It then navigates into the newly created project directory and starts the application server using the `bun run start` command. This sequence requires the Bun runtime to be installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/ecosystem/hono.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create hono ./myapp\n$ cd myapp\n$ bun run start\n```\n\n----------------------------------------\n\nTITLE: Importing Text Files in TypeScript\nDESCRIPTION: Shows how to import text files directly in TypeScript. The file contents are read and returned as a string. Also demonstrates importing HTML as text using the type attribute.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nimport contents from \"./file.txt\";\nconsole.log(contents); // => \"Hello, world!\"\n\n// To import an html file as text\n// The \"type' attribute can be used to override the default loader.\nimport html from \"./index.html\" with { type: \"text\" };\n```\n\n----------------------------------------\n\nTITLE: Import Tracking Plugin with Defer\nDESCRIPTION: Advanced plugin example demonstrating usage of defer() to track and report unused exports.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { plugin } from \"bun\";\n\nplugin({\n  name: \"track imports\",\n  setup(build) {\n    const transpiler = new Bun.Transpiler();\n\n    let trackedImports: Record<string, number> = {};\n\n    build.onLoad({ filter: /\\.ts/ }, async ({ path }) => {\n      const contents = await Bun.file(path).arrayBuffer();\n\n      const imports = transpiler.scanImports(contents);\n\n      for (const i of imports) {\n        trackedImports[i.path] = (trackedImports[i.path] || 0) + 1;\n      }\n\n      return undefined;\n    });\n\n    build.onLoad({ filter: /stats\\.json/ }, async ({ defer }) => {\n      await defer();\n\n      return {\n        contents: `export default ${JSON.stringify(trackedImports)}`,\n        loader: \"json\",\n      };\n    });\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Running TypeScript and JSX with Bun CLI\nDESCRIPTION: Demonstrates how to use the Bun CLI to run TypeScript and JSX files directly, showcasing out-of-the-box support for these file types.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/index.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run index.tsx  # TS and JSX supported out of the box\n```\n\n----------------------------------------\n\nTITLE: Setting ACLs for Presigned URLs\nDESCRIPTION: Shows how to set Access Control Lists (ACLs) on presigned URLs to control who can access the objects in S3. The example demonstrates setting public-read access with an expiration time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nconst url = s3file.presign({\n  acl: \"public-read\",\n  expiresIn: 3600,\n});\n```\n\n----------------------------------------\n\nTITLE: Displaying NPM Username with Bun\nDESCRIPTION: Prints the npm username associated with the currently authenticated session. Requires the user to be logged in via `bunx npm login` and have credentials stored in either `bunfig.toml` or an `.npmrc` file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm whoami\n```\n\n----------------------------------------\n\nTITLE: Configuring TailwindCSS Dependencies in package.json\nDESCRIPTION: Shows the automatically added dependencies for TailwindCSS when detected in a React component.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"tailwindcss\": \"^4\",\n    \"bun-plugin-tailwind\": \"latest\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Asynchronous Code Transformation\nDESCRIPTION: Demonstrates asynchronous code transformation using the transform method\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/transpiler.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst transpiler = new Bun.Transpiler({ loader: \"jsx\" });\nconst result = await transpiler.transform(\"<div>hi!</div>\");\nconsole.log(result);\n```\n\n----------------------------------------\n\nTITLE: Raw Buffer Result Format Query in TypeScript\nDESCRIPTION: Shows how to get query results as raw Buffer objects using the raw() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst rows = await sql`SELECT * FROM users`.raw();\nconsole.log(rows);\n```\n\n----------------------------------------\n\nTITLE: Snapshot Directory Structure\nDESCRIPTION: Shows the file structure of the test directory after running the snapshot test. The __snapshots__ directory contains a .snap file for each test file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_2\n\nLANGUAGE: text\nCODE:\n```\ntest\n├── __snapshots__\n│   └── snap.test.ts.snap\n└── snap.test.ts\n```\n\n----------------------------------------\n\nTITLE: Benchmarking Package Managers without Lockfile in Offline Mode\nDESCRIPTION: This command benchmarks installation performance without lockfiles in offline mode. It removes existing lockfiles before each run and uses hyperfine to compare Bun, pnpm, Yarn, and npm with appropriate offline flags.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/install/README.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ hyperfine --prepare 'rm -rf node_modules' --warmup 1 'rm bun.lock && bun install' 'rm pnpm-lock.yaml && pnpm install --prefer-offline' 'rm yarn.lock && yarn --offline' 'rm package-lock.json && npm install --prefer-offline'\n```\n\n----------------------------------------\n\nTITLE: Updating package.json with Git Dependency\nDESCRIPTION: This JSON diff shows how the package.json file is updated after adding a Git dependency. It adds the Lodash library using the GitHub shorthand notation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-git.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n+   \"lodash\": \"github:lodash/lodash\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies for SolidStart Project\nDESCRIPTION: After project initialization, this command navigates to the project directory and uses Bun to install all required dependencies for the SolidStart application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/solidstart.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ cd my-app\n$ bun install\n```\n\n----------------------------------------\n\nTITLE: Build Bun\nDESCRIPTION: This command builds Bun after cloning the repository. It runs the `build` script defined in the `package.json` file, which handles cloning submodules and building dependencies. The script may take a while to execute.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_16\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Preload Scripts\nDESCRIPTION: TOML configuration in bunfig.toml to specify preload scripts for test setup.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[test]\npreload = [\"./happydom.ts\", \"./testing-library.ts\"]\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Artifacts Registry in bunfig.toml for Bun Install\nDESCRIPTION: This snippet shows how to set up the bunfig.toml file to configure Bun for use with Azure Artifacts npm registry. It includes settings for the registry URL, username, and password (using an environment variable).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/azure-artifacts.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install.registry]\nurl = \"https://pkgs.dev.azure.com/my-azure-artifacts-user/_packaging/my-azure-artifacts-user/npm/registry\"\nusername = \"my-azure-artifacts-user\"\n# Bun v1.0.3+ supports using an environment variable here\npassword = \"$NPM_PASSWORD\"\n```\n\n----------------------------------------\n\nTITLE: Writing Fetched Content to File with Bun.js\nDESCRIPTION: This example shows how to use Bun.write() with a Response object from a fetch operation. It automatically converts the Response to a Blob. Currently, it buffers the response, but future implementations may stream the response directly to disk.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/file.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n// Eventually, this will stream the response to disk but today it buffers\nawait Bun.write(\"index.html\", await fetch(\"https://example.com\"));\n```\n\n----------------------------------------\n\nTITLE: Using dispose() Method for HMR Cleanup in Bun\nDESCRIPTION: Demonstrates how to use the dispose() method, which registers a callback function that runs when a module is about to be replaced. The entire function call is removed in production builds.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// This entire function call will be removed in production!\nimport.meta.hot.dispose(() => {\n  console.log(\"dispose\");\n});\n```\n\n----------------------------------------\n\nTITLE: Defining a User model in Prisma schema\nDESCRIPTION: Prisma schema definition that adds a User model with id, email, and name fields. The schema includes appropriate field types and constraints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/prisma.md#2025-04-22_snippet_3\n\nLANGUAGE: prisma\nCODE:\n```\n  generator client {\n    provider = \"prisma-client-js\"\n  }\n\n  datasource db {\n    provider = \"sqlite\"\n    url      = env(\"DATABASE_URL\")\n  }\n\n+ model User {\n+   id    Int     @id @default(autoincrement())\n+   email String  @unique\n+   name  String?\n+ }\n```\n\n----------------------------------------\n\nTITLE: Importing HTML File as Text in TypeScript with Bun\nDESCRIPTION: This snippet shows how to import an HTML file as text in Bun using TypeScript. It uses the 'type: \"text\"' attribute in the import statement to treat the HTML file as plain text. The imported content can then be used as a string in the code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-html.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport html from \"./file.html\" with { type: \"text\" };\n\nconsole.log(html); // <!DOCTYPE html><html><head>...\n```\n\n----------------------------------------\n\nTITLE: Executing Bun Tests with Immediate Bail on Failure\nDESCRIPTION: This command runs Bun tests with the --bail flag, which stops the test execution immediately after the first failure. This is particularly useful in continuous integration environments where you want to abort as soon as possible after a failure.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/bail.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --bail\n```\n\n----------------------------------------\n\nTITLE: Retrieving Current File Name with import.meta in Bun TypeScript\nDESCRIPTION: This snippet demonstrates how to use import.meta.file to get the name of the current file in a Bun project. When executed in a file located at /a/b/c.ts, it returns just the base file name 'c.ts' without the path.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/import-meta-file.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport.meta.file; // => \"c.ts\"\n```\n\n----------------------------------------\n\nTITLE: Common systemd Service Management Commands\nDESCRIPTION: A cheatsheet of frequently used systemd commands for managing Bun service lifecycle, including reloading, enabling, disabling, starting, stopping, and restarting services.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo systemctl daemon-reload # tell systemd that some files got changed\n$ sudo systemctl enable my-app # enable the app (to allow auto-start)\n$ sudo systemctl disable my-app # disable the app (turns off auto-start)\n$ sudo systemctl start my-app # start the app if is stopped\n$ sudo systemctl stop my-app # stop the app\n$ sudo systemctl restart my-app # restart the app\n```\n\n----------------------------------------\n\nTITLE: Defining String Enumerations in TypeScript for Bun Bindings\nDESCRIPTION: Shows how to create a string enumeration type using t.stringEnum and use it in a function definition. This example defines a Formatter enum and uses it in the fmtString function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/bindgen.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport const Formatter = t.stringEnum(\n  \"highlight-javascript\",\n  \"escape-powershell\",\n);\n\nexport const fmtString = fn({\n  args: {\n    global: t.globalObject,\n    code: t.UTF8String,\n    formatter: Formatter,\n  },\n  ret: t.DOMString,\n});\n```\n\n----------------------------------------\n\nTITLE: Reading Cookies in Bun Server Requests\nDESCRIPTION: Demonstrates how to read cookies from incoming HTTP requests using the cookies property on the BunRequest object. The example accesses user_id and theme cookies with fallback values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/http.md#2025-04-22_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    \"/profile\": req => {\n      // Access cookies from the request\n      const userId = req.cookies.get(\"user_id\");\n      const theme = req.cookies.get(\"theme\") || \"light\";\n\n      return Response.json({\n        userId,\n        theme,\n        message: \"Profile page\",\n      });\n    },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Measuring JavaScript Heap Statistics in Bun\nDESCRIPTION: This snippet demonstrates how to use the 'bun:jsc' module to measure and log JavaScript heap statistics in Bun. It imports the heapStats function and logs the result, providing detailed information about memory usage and object counts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/benchmarking.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { heapStats } from \"bun:jsc\";\nconsole.log(heapStats());\n```\n\n----------------------------------------\n\nTITLE: Getting DNS Cache Statistics in Bun\nDESCRIPTION: Shows how to use the experimental dns.getCacheStats API to retrieve information about the DNS cache, including hits, misses, size, and error counts.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/dns.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport {dns} from \"bun\";\n\nconst stats = dns.getCacheStats();\nconsole.log(stats);\n// => { cacheHitsCompleted: 0, cacheHitsInflight: 0, cacheMisses: 0, size: 0, errors: 0, totalCount: 0 }\n```\n\n----------------------------------------\n\nTITLE: Loading SQLite Extensions with Bun (TypeScript)\nDESCRIPTION: Shows how to use db.loadExtension() in Bun's SQLite API to dynamically load a named extension, expanding SQLite's built-in capabilities. Useful for custom SQL functions or modules packaged as shared libraries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_27\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { Database } from \"bun:sqlite\";\n\nconst db = new Database();\ndb.loadExtension(\"myext\");\n\n```\n\n----------------------------------------\n\nTITLE: Installing Tarball Package with Bun CLI\nDESCRIPTION: Command to install a specific version of zod package using its tarball URL via Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/add-tarball.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add zod@https://registry.npmjs.org/zod/-/zod-3.21.4.tgz\n```\n\n----------------------------------------\n\nTITLE: TypeScript Declaration for Worker Self Reference\nDESCRIPTION: A TypeScript declaration to prevent type errors when using the 'self' keyword in a worker context.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare var self: Worker;\n```\n\n----------------------------------------\n\nTITLE: Deleting Files using Bun.file API in TypeScript\nDESCRIPTION: This snippet demonstrates how to delete a file using Bun's file system API and then verify the deletion by checking if the file still exists. The code uses the `Bun.file()` method to create a file reference and then calls the `delete()` method to remove the file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/delete-file.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// Delete a file\nconst file = Bun.file(\"path/to/file.txt\");\nawait file.delete();\n\n// Now the file doesn't exist\nconst exists = await file.exists();\n// => false\n```\n\n----------------------------------------\n\nTITLE: Setting Timezone with Environment Variable for bun:test\nDESCRIPTION: Demonstrates how to set the timezone for tests by passing the TZ environment variable to the bun test command in the shell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\nTZ=America/Los_Angeles bun test\n```\n\n----------------------------------------\n\nTITLE: Directory Structure Created by Drizzle Kit Migration Generation (Text)\nDESCRIPTION: Illustrates the typical directory structure generated by the `drizzle-kit generate` command. It includes a `drizzle` directory containing the SQL migration file (e.g., `0000_ordinary_beyonder.sql`) and a `meta` subdirectory with metadata files (`0000_snapshot.json`, `_journal.json`) used by Drizzle Kit.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/drizzle.md#2025-04-22_snippet_6\n\nLANGUAGE: txt\nCODE:\n```\ndrizzle\n├── 0000_ordinary_beyonder.sql\n└── meta\n    ├── 0000_snapshot.json\n    └── _journal.json\n```\n\n----------------------------------------\n\nTITLE: Customizing Stack Traces with Error.prepareStackTrace\nDESCRIPTION: Demonstrates how to use Error.prepareStackTrace to customize the formatting of stack traces in Bun. This example shows how to extract only the filenames from the stack trace.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nError.prepareStackTrace = (err, stack) => {\n  return stack.map(callSite => {\n    return callSite.getFileName();\n  });\n};\n\nconst err = new Error(\"Something went wrong\");\nconsole.log(err.stack);\n// [ \"error.js\" ]\n```\n\n----------------------------------------\n\nTITLE: Writing Spy Assertions in Bun Tests\nDESCRIPTION: Shows how to write test assertions using the created spy to verify method call counts and arguments. Includes checking call counts and examining mock call arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/spy-on.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, spyOn } from \"bun:test\";\n\nconst leo = {\n  name: \"Leonardo\",\n  sayHi(thing: string) {\n    console.log(`Sup I'm ${this.name} and I like ${thing}`);\n  },\n};\n\nconst spy = spyOn(leo, \"sayHi\");\n\ntest(\"turtles\", ()=>{\n  expect(spy).toHaveBeenCalledTimes(0);\n  leo.sayHi(\"pizza\");\n  expect(spy).toHaveBeenCalledTimes(1);\n  expect(spy.mock.calls).toEqual([[ \"pizza\" ]]);\n})\n```\n\n----------------------------------------\n\nTITLE: Responsive CSS Styling\nDESCRIPTION: CSS styles defining page layout, typography, and responsive design. Includes styling for body, div containers, links, and mobile media queries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/streams/fetch.js.txt#2025-04-22_snippet_1\n\nLANGUAGE: css\nCODE:\n```\nbody {\n        background-color: #f0f0f2;\n        margin: 0;\n        padding: 0;\n        font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n        \n    }\n    div {\n        width: 600px;\n        margin: 5em auto;\n        padding: 2em;\n        background-color: #fdfdff;\n        border-radius: 0.5em;\n        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);\n    }\n    a:link, a:visited {\n        color: #38488f;\n        text-decoration: none;\n    }\n    @media (max-width: 700px) {\n        div {\n            margin: 0 auto;\n            width: auto;\n        }\n    }\n```\n\n----------------------------------------\n\nTITLE: Building Bun with Local JSC Build (bun run)\nDESCRIPTION: This command builds Bun in the `./build/debug-local` directory instead of `./build/debug`. It requires modifications to `src/js/builtins.d.ts`, `.clangd` config, `build.zig`, and `.vscode/launch.json` to reflect this new directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_28\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build:local\n```\n\n----------------------------------------\n\nTITLE: Excluding Test Files from Coverage\nDESCRIPTION: This configuration shows how to exclude test files from coverage reports. Setting coverageSkipTestFiles to true will exclude files matching test patterns (like *.test.ts or *_spec.js) from coverage calculations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_4\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageSkipTestFiles = true   # default false\n```\n\n----------------------------------------\n\nTITLE: Installing TypeScript Declarations for Bun using npm\nDESCRIPTION: This command installs the TypeScript definitions for Bun's built-in APIs as a development dependency in your project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/typescript.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun add -d @types/bun # dev dependency\n```\n\n----------------------------------------\n\nTITLE: Install Bun using npm\nDESCRIPTION: This command installs Bun globally using npm, the Node.js package manager. It requires Node.js and npm to be installed.  The `-g` flag installs Bun globally, making it available in the system's PATH.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ npm install -g bun\n```\n\n----------------------------------------\n\nTITLE: Setting up NAPI-RS Project with Bun\nDESCRIPTION: Commands to initialize a new NAPI-RS project and add the bun-native-plugin crate\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun add -g @napi-rs/cli\nnapi new\n\n```\n\nLANGUAGE: bash\nCODE:\n```\ncargo add bun-native-plugin\n```\n\n----------------------------------------\n\nTITLE: Reading stdin line-by-line using console as AsyncIterable in TypeScript\nDESCRIPTION: This snippet demonstrates how to create an interactive command-line prompt that reads user input line-by-line using the console object as an AsyncIterable. It continuously prompts the user for input and echoes back what they typed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/stdin.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst prompt = \"Type something: \";\nprocess.stdout.write(prompt);\nfor await (const line of console) {\n  console.log(`You typed: ${line}`);\n  process.stdout.write(prompt);\n}\n```\n\n----------------------------------------\n\nTITLE: Processing Build Artifacts\nDESCRIPTION: Example showing how to process build artifacts when not specifying an output directory. Build artifacts can be treated as blobs, used in responses, or manually written to disk.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"./index.ts\"],\n});\n\nfor (const res of result.outputs) {\n  // Can be consumed as blobs\n  await res.text();\n\n  // Bun will set Content-Type and Etag headers\n  new Response(res);\n\n  // Can be written manually, but you should use `outdir` in this case.\n  Bun.write(path.join(\"out\", res.path), res);\n}\n```\n\n----------------------------------------\n\nTITLE: Installing GCC 11\nDESCRIPTION: This command installs GCC 11 and G++ 11 from the system's package manager (APT). It's a prerequisite for resolving 'span' file not found errors on Ubuntu.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_30\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo apt install gcc-11 g++-11\n```\n\n----------------------------------------\n\nTITLE: Controlling Stream Flow with Async Generator Yield\nDESCRIPTION: Demonstrates advanced control of a ReadableStream using an async generator, where the yield operation returns the stream controller for more granular handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/streams.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = new Response({\n  [Symbol.asyncIterator]: async function* () {\n    const controller = yield \"hello\";\n    await controller.end();\n  },\n});\n\nawait response.text(); // \"hello\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Cache Behavior in bunfig.toml\nDESCRIPTION: Configuration options for Bun's package cache behavior in bunfig.toml, including the cache directory location, ability to disable the global cache, and manifest resolution settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/cache.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[install.cache]\n# the directory to use for the cache\ndir = \"~/.bun/install/cache\"\n\n# when true, don't load from the global cache.\n# Bun may still write to node_modules/.cache\ndisable = false\n\n# when true, always resolve the latest versions from the registry\ndisableManifest = false\n```\n\n----------------------------------------\n\nTITLE: Running All Tests with Bun Test Runner\nDESCRIPTION: Example output of running all tests using 'bun test' command, showing test execution across multiple files with timing information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/run-tests.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest.test.js:\n✓ add [0.87ms]\n✓ multiply [0.02ms]\n\ntest2.test.js:\n✓ add [0.72ms]\n✓ multiply [0.01ms]\n\ntest3.test.js:\n✓ add [0.54ms]\n✓ multiply [0.01ms]\n\n 6 pass\n 0 fail\n 6 expect() calls\nRan 6 tests across 3 files. [9.00ms]\n```\n\n----------------------------------------\n\nTITLE: Controlling Bun Install Logging Verbosity\nDESCRIPTION: Demonstrates how to adjust the logging output during `bun install`. The `--verbose` flag enables detailed debug logging, while the `--silent` flag suppresses all logging output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --verbose # debug logging\n$ bun install --silent  # no logging\n```\n\n----------------------------------------\n\nTITLE: Rerunning Bun Tests Multiple Times using Shell Command\nDESCRIPTION: Illustrates how to use the `--rerun-each` flag to execute each test a specified number of times. This command reruns each test 100 times, which can help identify flaky or non-deterministic test failures.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/test.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\n$ bun test --rerun-each 100\n```\n\n----------------------------------------\n\nTITLE: Importing HTTP/2 Testing Utilities in Node.js\nDESCRIPTION: Example of importing the HTTP/2 testing utilities module which provides tools for creating mock HTTP/2 frames for testing HTTP/2 endpoints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nconst http2 = require('../common/http2');\n```\n\n----------------------------------------\n\nTITLE: Setting Expiration for Presigned URLs\nDESCRIPTION: Demonstrates how to set an expiration time for presigned URLs using the expiresIn option. The example also shows how to set an ACL and HTTP method for the presigned URL.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst url = s3file.presign({\n  // Seconds\n  expiresIn: 3600, // 1 hour\n\n  // access control list\n  acl: \"public-read\",\n\n  // HTTP method\n  method: \"PUT\",\n});\n```\n\n----------------------------------------\n\nTITLE: Test with Done Callback\nDESCRIPTION: Shows how to use the done callback pattern for async tests\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, test } from \"bun:test\";\n\ntest(\"2 * 2\", done => {\n  Promise.resolve(2 * 2).then(result => {\n    expect(result).toEqual(4);\n    done();\n  });\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring loader in Bun Build (CLI)\nDESCRIPTION: Command-line interface for mapping file extensions to loader types for custom file processing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_53\n\nLANGUAGE: bash\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --loader .png:dataurl --loader .txt:file\n```\n\n----------------------------------------\n\nTITLE: Running Scripts in Workspace Packages Without cd using Bun Run --filter (Bash)\nDESCRIPTION: Illustrates usage of bun run with --filter to execute scripts in workspace packages irrespective of the current working directory. The example runs 'myscript' from src/bar in the src/foo workspace, as long as foo is part of the workspace. This leverages workspace configuration in Bun, requiring proper package.json settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/filter.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n# Packages\n# src/foo\n# src/bar\n\n# in src/bar: runs myscript in src/foo, no need to cd!\nbun run --filter foo myscript\n\n```\n\n----------------------------------------\n\nTITLE: TypedArray Memory Deallocator Callback Signature (C)\nDESCRIPTION: Defines the expected C callback signature for freeing TypedArray memory from native code, used when passing deallocation logic to toArrayBuffer or toBuffer. Arguments are a pointer to the memory and an optional context. This function is called when the JavaScript object is garbage collected.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_12\n\nLANGUAGE: c\nCODE:\n```\ntypedef void (*JSTypedArrayBytesDeallocator)(void *bytes, void *deallocatorContext);\n```\n\n----------------------------------------\n\nTITLE: Converting TypedArray to Pointer in Bun (TypeScript)\nDESCRIPTION: Demonstrates how to convert a TypedArray (e.g., Uint8Array) into a pointer value using the ptr utility from 'bun:ffi'. Requires Bun's FFI module. The function receives a TypedArray and returns a number representing the pointer. Inputs are the array; output is a pointer usable in subsequent FFI calls.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { ptr } from \"bun:ffi\";\nlet myTypedArray = new Uint8Array(32);\nconst myPtr = ptr(myTypedArray);\n\n```\n\n----------------------------------------\n\nTITLE: Installing Bun (npm)\nDESCRIPTION: Installs Bun globally using npm, the Node.js package manager. This makes Bun available from the command line.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ npm install -g bun\n```\n\n----------------------------------------\n\nTITLE: Example Entry Point Import - entry-b.ts - TypeScript\nDESCRIPTION: Another entrypoint, identical in function to entry-a.ts, showing multiple files importing the same shared module for code splitting demonstration. Expects './shared.ts' in the same directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_28\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { shared } from './shared.ts';\n```\n\n----------------------------------------\n\nTITLE: CSS Property Shorthands\nDESCRIPTION: Demonstrates modern CSS shorthand properties and how Bun converts them to longhand equivalents for broader browser support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_24\n\nLANGUAGE: css\nCODE:\n```\n.flex-container {\n  place-items: center start;\n  place-content: space-between center;\n}\n\n.grid-item {\n  place-self: end center;\n}\n\n.content-box {\n  overflow: hidden auto;\n}\n\n.fancy-link {\n  text-decoration: underline dotted blue 2px;\n}\n\n.component {\n  display: inline flex;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n.flex-container {\n  align-items: center;\n  justify-items: start;\n  align-content: space-between;\n  justify-content: center;\n}\n\n.grid-item {\n  align-self: end;\n  justify-self: center;\n}\n\n.content-box {\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.fancy-link {\n  text-decoration-line: underline;\n  text-decoration-style: dotted;\n  text-decoration-color: blue;\n  text-decoration-thickness: 2px;\n}\n\n.component {\n  display: inline-flex;\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Chunk Naming in Bun.build using TypeScript\nDESCRIPTION: This TypeScript snippet shows how to configure the naming template for code chunks generated during the build process using `Bun.build`. It utilizes the `naming` object with the `chunk` key set to `\"[name].[ext]\"`. Similar to asset naming, the `[ext]` part is required in the template.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nBun.build({\n  entrypoints: [\"./index.tsx\"],\n  naming: {\n    chunk: \"[name].[ext]\",\n  },\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Checking File Existence with S3Client.exists\nDESCRIPTION: Examples of checking if a file exists in S3 using both S3Client.exists static method and S3File instance method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_28\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\nconst exists = await S3Client.exists(\"my-file.txt\", credentials);\n```\n\n----------------------------------------\n\nTITLE: Array Result Format Query in TypeScript\nDESCRIPTION: Demonstrates how to retrieve query results as arrays using the values() method instead of objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst rows = await sql`SELECT * FROM users`.values();\nconsole.log(rows);\n```\n\n----------------------------------------\n\nTITLE: bcrypt Hash Format Example in Bun\nDESCRIPTION: Illustrates the Modular Crypt Format used by bcrypt algorithm in Bun.password.hash. The format includes algorithm identifier, rounds, salt, and hash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/hashing.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nawait Bun.password.hash(\"hello\", {\n  algorithm: \"bcrypt\",\n});\n```\n\nLANGUAGE: sh\nCODE:\n```\n$2b$10$Lyj9kHYZtiyfxh2G60TEfeqs7xkkGiEFFDi3iJGc50ZG/XJ1sxIFi;\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Coverage in bunfig.toml\nDESCRIPTION: This example demonstrates how to configure test coverage to exclude test files from the coverage report. Setting coverageSkipTestFiles to true will omit test files from coverage calculations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageSkipTestFiles = true       # default false\n```\n\n----------------------------------------\n\nTITLE: Bun Install TypeScript Type Definitions\nDESCRIPTION: TypeScript interface definitions for bunfig.toml configuration options, including install settings, registry configuration, cache settings, and lockfile options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-install.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport interface Root {\n  install: Install;\n}\n\nexport interface Install {\n  scopes: Scopes;\n  registry: Registry;\n  production: boolean;\n  saveTextLockfile: boolean;\n  frozenLockfile: boolean;\n  dryRun: boolean;\n  optional: boolean;\n  dev: boolean;\n  peer: boolean;\n  globalDir: string;\n  globalBinDir: string;\n  cache: Cache;\n  lockfile: Lockfile;\n  logLevel: \"debug\" | \"error\" | \"warn\";\n}\n\ntype Registry =\n  | string\n  | {\n      url?: string;\n      token?: string;\n      username?: string;\n      password?: string;\n    };\n\ntype Scopes = Record<string, Registry>;\n\nexport interface Cache {\n  dir: string;\n  disable: boolean;\n  disableManifest: boolean;\n}\n\nexport interface Lockfile {\n  print?: \"yarn\";\n  save: boolean;\n}\n```\n\n----------------------------------------\n\nTITLE: Character Set Glob Pattern\nDESCRIPTION: Example of using character sets and ranges in glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"ba[rz].ts\");\nglob.match(\"bar.ts\"); // => true\nglob.match(\"baz.ts\"); // => true\nglob.match(\"bat.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Filtering Tests by Name with Bun Test\nDESCRIPTION: Use the -t/--test-name-pattern flag to filter tests by their names using regex patterns rather than file paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/discovery.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# run all tests with \"addition\" in the name\n$ bun test --test-name-pattern addition\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun to generate Yarn lockfiles by default\nDESCRIPTION: Sets up bunfig.toml to automatically generate a Yarn-compatible lockfile with every install operation without needing to use the --yarn flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/yarnlock.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[install.lockfile]\nprint = \"yarn\"\n```\n\n----------------------------------------\n\nTITLE: Initializing NAPI Project for Bun Native Plugin (Bash)\nDESCRIPTION: Initializes a new Node API (NAPI) project using the `@napi-rs/cli`. This setup is the first step in creating a native plugin for Bun, providing the necessary boilerplate for a Rust-based NAPI module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/plugins.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nbun add -g @napi-rs/cli\nnapi new\n```\n\n----------------------------------------\n\nTITLE: Running Benchmark in Bun\nDESCRIPTION: Command to execute the benchmark script using the Bun JavaScript runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/postgres/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun ./index.mjs\n```\n\n----------------------------------------\n\nTITLE: Creating and Manipulating TypedArrays in JavaScript/TypeScript\nDESCRIPTION: This snippet demonstrates initializing an ArrayBuffer and using the Uint8Array typed array to interpret and modify its bytes. It shows that contents are zero-initialized, numeric assignments behave like arrays (with out-of-bounds assignments being a no-op), and that Uint8Array provides a fixed-sized, view-based interface. Requires no dependencies beyond the standard JavaScript or TypeScript runtime; intended for environments supporting ES2015 (or later) TypedArray APIs. The code accepts a generic ArrayBuffer and outputs a Uint8Array view, with values accessed/modified via indices; assigning outside bounds has no effect.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/binary-data.md#2025-04-22_snippet_6\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buffer = new ArrayBuffer(3);\nconst arr = new Uint8Array(buffer);\n\n// contents are initialized to zero\nconsole.log(arr); // Uint8Array(3) [0, 0, 0]\n\n// assign values like an array\narr[0] = 0;\narr[1] = 10;\narr[2] = 255;\narr[3] = 255; // no-op, out of bounds\n```\n\n----------------------------------------\n\nTITLE: Comparing Objects with Bun.deepEquals in TypeScript\nDESCRIPTION: Demonstrates basic usage of Bun.deepEquals() to compare two objects with nested structures. This function is used internally by expect().toEqual() in Bun's test runner.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/deep-equals.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst a = { a: 1, b: 2, c: { d: 3 } };\nconst b = { a: 1, b: 2, c: { d: 3 } };\n\nBun.deepEquals(a, b); // true\n```\n\n----------------------------------------\n\nTITLE: Committing and Pushing Bun Application Files to GitHub\nDESCRIPTION: Git commands to stage the necessary files (app.ts, bun.lock, and package.json), commit the changes with a descriptive message, and push the commits to the main branch on GitHub.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/render.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ git add app.ts bun.lock package.json\n$ git commit -m \"Create simple Express app\"\n$ git push origin main\n```\n\n----------------------------------------\n\nTITLE: State Preservation Between HMR Updates in Bun\nDESCRIPTION: Demonstrates using import.meta.hot.data to maintain state between module instances during hot replacement. This example shows how to persist a React root between updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createRoot } from \"react-dom/client\";\nimport { App } from \"./app\";\n\nconst root = import.meta.hot.data.root ??= createRoot(elem);\nroot.render(<App />); // re-use an existing root\n```\n\n----------------------------------------\n\nTITLE: Structuring a Monorepo Project with Workspaces in Bun\nDESCRIPTION: This snippet illustrates the directory structure of a monorepo project using Bun's workspaces. It shows the root package.json, node_modules, and individual package directories.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/workspaces.md#2025-04-22_snippet_1\n\nLANGUAGE: txt\nCODE:\n```\n.\n├── package.json\n├── node_modules\n└── packages\n    ├── stuff-a\n    │   └── package.json\n    └── stuff-b\n        └── package.json\n```\n\n----------------------------------------\n\nTITLE: Using Fake HTTP/2 Request Headers in Node.js Tests\nDESCRIPTION: Example demonstrating how to use predefined fake HTTP/2 request headers (kFakeRequestHeaders) as the payload for an HTTP/2 HEADERS frame. This creates a minimal but valid HTTP/2 request for testing purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\nconst frame = new http2.HeadersFrame(1, http2.kFakeRequestHeaders, 0, true);\n\nsocket.write(frame.data);\n```\n\n----------------------------------------\n\nTITLE: Installing Bun\nDESCRIPTION: Various installation methods for Bun including curl install script, Windows PowerShell, npm, Homebrew, and Docker.\nSOURCE: https://github.com/oven-sh/bun/blob/main/README.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n# with install script (recommended)\ncurl -fsSL https://bun.sh/install | bash\n\n# on windows\npowershell -c \"irm bun.sh/install.ps1 | iex\"\n\n# with npm\nnpm install -g bun\n\n# with Homebrew\nbrew tap oven-sh/bun\nbrew install bun\n\n# with Docker\ndocker pull oven/bun\ndocker run --rm --init --ulimit memlock=-1:-1 oven/bun\n```\n\n----------------------------------------\n\nTITLE: Install LLVM on Fedora\nDESCRIPTION: This command installs LLVM, Clang, and LLD development libraries on Fedora using dnf.  These are required for building Bun.  The command requires `sudo` for root privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo dnf install llvm clang lld-devel\n```\n\n----------------------------------------\n\nTITLE: Running Tests Against Existing Snapshots\nDESCRIPTION: Example of running the test again after a snapshot has been created. Bun compares the current value with the stored snapshot.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n$ bun test\nbun test v$BUN_LATEST_VERSION (9c68abdb)\n\ntest/snap.test.ts:\n✓ snapshot [1.05ms]\n\n 1 pass\n 0 fail\n 1 snapshots, 1 expect() calls\nRan 1 tests across 1 files. [101.00ms]\n```\n\n----------------------------------------\n\nTITLE: Hex Color Format Examples in TypeScript\nDESCRIPTION: Examples of converting colors to hexadecimal format using Bun.color() with 'hex' and 'HEX' output formats\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"hsl(0, 0%, 50%)\", \"hex\"); // \"#808080\"\nBun.color(\"red\", \"hex\"); // \"#ff0000\"\nBun.color(0xff0000, \"hex\"); // \"#ff0000\"\nBun.color({ r: 255, g: 0, b: 0 }, \"hex\"); // \"#ff0000\"\nBun.color([255, 0, 0], \"hex\"); // \"#ff0000\"\n```\n\n----------------------------------------\n\nTITLE: Environment Variable Example: Shell Setup - Bash\nDESCRIPTION: Shows how to set multiple environment variables in a Bash shell, preparing for a build with env inlining. Demonstrates required shell commands for reproducing CLI inlining behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_40\n\nLANGUAGE: Bash\nCODE:\n```\n$ FOO=bar BAZ=123 ACME_PUBLIC_URL=https://acme.com\n```\n\n----------------------------------------\n\nTITLE: Installing Production Dependencies Only\nDESCRIPTION: Shows how to perform a production installation using the `--production` flag. This command installs only the packages listed under `dependencies` in `package.json`, omitting `devDependencies` and `optionalDependencies`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/install.md#2025-04-22_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --production\n```\n\n----------------------------------------\n\nTITLE: Creating a TOML Configuration File\nDESCRIPTION: Example of a TOML configuration file containing project metadata including name, version, and author information.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/import-toml.md#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\nname = \"bun\"\nversion = \"1.0.0\"\n\n[author]\nname = \"John Dough\"\nemail = \"john@dough.com\"\n```\n\n----------------------------------------\n\nTITLE: Running the Type-Safe Query Script with Bun (Shell)\nDESCRIPTION: This shell command runs the main index script using Bun, outputting the queried movies as an array of objects from the database. Dependencies: Bun, type-safe query builder, EdgeDB instance running, migrated schema. Input: None. Output: Prints movies to the console in structured format.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/edgedb.md#2025-04-22_snippet_13\n\nLANGUAGE: sh\nCODE:\n```\nbun run index.ts\n[\n  {\n    title: \"The Matrix\",\n    releaseYear: 1999\n  }, {\n    title: \"The Matrix Reloaded\",\n    releaseYear: 2003\n  }, {\n    title: \"The Matrix Revolutions\",\n    releaseYear: 2003\n  }\n]\n```\n\n----------------------------------------\n\nTITLE: Preprocessor Definitions Configuration in cc\nDESCRIPTION: Example showing how to define preprocessor macros for C compilation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_10\n\nLANGUAGE: ts\nCODE:\n```\ntype Defines = Record<string, string>;\n\ncc({\n  source: \"hello.c\",\n  define: {\n    \"NDEBUG\": \"1\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies (openSUSE Tumbleweed)\nDESCRIPTION: Installs dependencies required for Bun development on openSUSE Tumbleweed using zypper. This includes compilers, build tools, and essential libraries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo zypper install go cmake ninja automake git icu rustup && rustup toolchain install stable\n```\n\n----------------------------------------\n\nTITLE: Reading Environment Variables via process.env\nDESCRIPTION: The standard way to read environment variables in Bun through the process.env object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_13\n\nLANGUAGE: ts\nCODE:\n```\nprocess.env.API_TOKEN; // => \"secret\"\n```\n\n----------------------------------------\n\nTITLE: Configuring HTML Routes in Bun.serve()\nDESCRIPTION: Setting up HTML routes in the Bun.serve() configuration to handle frontend routes along with API requests in the fetch handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  routes: {\n    \"/\": homepage,\n    \"/dashboard\": dashboard,\n  }\n\n  fetch(req) {\n    // ... api requests\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Basic Bun Server Setup for Debugging\nDESCRIPTION: Simple web server implementation in TypeScript using Bun.serve() that logs request URLs and returns a hello world response.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.serve({\n  fetch(req){\n    console.log(req.url);\n    return new Response(\"Hello, world!\");\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Connecting to inspector via Socket for local debugging in TypeScript\nDESCRIPTION: TypeScript code showing how to create an inspector client using NodeSocketInspector for local debugging via a Unix/TCP socket connection.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { NodeSocketInspector } from \"bun-inspector-protocol\";\nimport { Socket } from \"node:net\";\n\n// Create a socket connection\nconst socket = new Socket();\nsocket.connect(\"/path/to/debug/socket\");\n\n// Create a new inspector client\nconst inspector = new NodeSocketInspector(socket);\n\n// Set up event listeners and use the API as with WebSocketInspector\ninspector.on(\"Inspector.connected\", () => {\n  console.log(\"Connected to debugger via socket!\");\n});\n\nawait inspector.start();\n// Use the same API as WebSocketInspector from here...\n```\n\n----------------------------------------\n\nTITLE: Version Option Implementation in JavaScript\nDESCRIPTION: Shows how to add version handling to a command line program with customizable flags and description.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.version('0.0.1');\n\nprogram.version('0.0.1', '-v, --vers', 'output the current version');\n```\n\n----------------------------------------\n\nTITLE: Checking Outdated @types Packages - Markdown\nDESCRIPTION: Employs the Bun CLI terminal directive to identify outdated packages within the '@types/*' namespace. The snippet illustrates the use of globbing for TypeScript types packages, aiding users managing DefinitelyTyped dependencies. The directive is valid in Bun's Markdown documentation and operates on Bun’s internal rendering.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal displayGlob=\"'@types/*'\" glob=\"@types/*\"  /%}\n```\n\n----------------------------------------\n\nTITLE: Configuring Sourcemap Handling for Coverage\nDESCRIPTION: This snippet shows how to configure sourcemap handling for coverage reporting. By default, Bun uses sourcemaps for mapping coverage data back to original source code. Setting coverageIgnoreSourcemaps to true disables this behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/coverage.md#2025-04-22_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageIgnoreSourcemaps = true   # default false\n```\n\n----------------------------------------\n\nTITLE: Printing Global Bin Path with Bun\nDESCRIPTION: Displays the absolute path to Bun's global binary directory using the `-g` flag. This is typically where globally installed packages place their executables (`$HOME/.bun/bin`).\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm bin -g\n<$HOME>/.bun/bin\n```\n\n----------------------------------------\n\nTITLE: Installing bun-inspector-protocol using package managers\nDESCRIPTION: Commands for installing the bun-inspector-protocol library using various package managers including Bun, npm, yarn, and pnpm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun add bun-inspector-protocol\n# npm install bun-inspector-protocol\n# yarn add bun-inspector-protocol\n# pnpm add bun-inspector-protocol\n```\n\n----------------------------------------\n\nTITLE: Converting Absolute Path to file:// URL - Bun - TypeScript\nDESCRIPTION: This snippet illustrates the use of Bun.pathToFileURL for converting an absolute path string into a file:// URL object. The function is helpful for adapting file paths for APIs that require URL objects. Bun must be installed for this API, and the output is a file URL string or object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_14\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst url = Bun.pathToFileURL(\"/foo/bar.txt\");\nconsole.log(url); // \"file:///foo/bar.txt\"\n```\n\n----------------------------------------\n\nTITLE: Using Savepoints for Partial Rollbacks in Bun SQL Transactions (TypeScript)\nDESCRIPTION: Demonstrates creating savepoints within a transaction using `tx.savepoint`. This allows defining a block of operations inside the savepoint's async callback (`sp`) that can be rolled back by throwing an error, without affecting the entire surrounding transaction. The main transaction can continue even if the savepoint is rolled back.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nawait sql.begin(async tx => {\n  await tx`INSERT INTO users (name) VALUES (${ \"Alice\" })`;\n\n  await tx.savepoint(async sp => {\n    // This part can be rolled back separately\n    await sp`UPDATE users SET status = 'active'`;\n    if (someCondition) {\n      throw new Error(\"Rollback to savepoint\");\n    }\n  });\n\n  // Continue with transaction even if savepoint rolled back\n  await tx`INSERT INTO audit_log (action) VALUES ('user_created')`;\n});\n```\n```\n\n----------------------------------------\n\nTITLE: Running Bun Test Suite\nDESCRIPTION: Commands for setting up and running the Bun test suite using the internal test package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_7\n\nLANGUAGE: powershell\nCODE:\n```\n# Setup\nbun i --cwd packages\\bun-internal-test\n\n# Run the entire test suite with reporter\n# the package.json script \"test\" uses \"build/debug/bun-debug.exe\" by default\nbun run test\n\n# Run an individual test file:\nbun-debug test node\\fs\nbun-debug test \"C:\\bun\\test\\js\\bun\\resolve\\import-meta.test.js\"\n```\n\n----------------------------------------\n\nTITLE: Text File Conversion in Bundler\nDESCRIPTION: Demonstrates how a text file gets converted when used as an entrypoint in the bundler. The text content is transformed into a JavaScript module with a default export.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_6\n\nLANGUAGE: txt\nCODE:\n```\nHello, world!\n```\n\nLANGUAGE: js\nCODE:\n```\nexport default \"Hello, world!\";\n```\n\n----------------------------------------\n\nTITLE: Building with CJS Format - Bun CLI - CLI\nDESCRIPTION: Performs a build with CommonJS format using the command line interface. Requires specifying the entry file, output directory, and format. Outputs CommonJS modules compatible with Bun and Node.js when the used APIs are supported.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_24\n\nLANGUAGE: CLI\nCODE:\n```\n$ bun build ./index.tsx --outdir ./out --format cjs\n```\n\n----------------------------------------\n\nTITLE: Example JavaScript code for client-side detection\nDESCRIPTION: This JavaScript snippet shows a common pattern for detecting client-side code, which can be affected by the window replacement.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_6\n\nLANGUAGE: js\nCODE:\n```\nif (typeof window !== \"undefined\") {\n  console.log(\"Client-side code\");\n} else {\n  console.log(\"Server-side code\");\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Redis Connection Lifecycle in Bun\nDESCRIPTION: Illustrates automatic and manual connection management for Redis clients in Bun, including connecting, executing commands, and closing connections.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/redis.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// No connection is made until a command is executed\nconst client = new RedisClient();\n\n// First command initiates the connection\nawait client.set(\"key\", \"value\");\n\n// Connection remains open for subsequent commands\nawait client.get(\"key\");\n\n// Explicitly close the connection when done\nclient.close();\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst client = new RedisClient();\n\n// Explicitly connect\nawait client.connect();\n\n// Run commands\nawait client.set(\"key\", \"value\");\n\n// Disconnect when done\nclient.close();\n```\n\n----------------------------------------\n\nTITLE: Setting Description and Summary in Commander.js\nDESCRIPTION: This demonstrates how to set both a detailed description and a shorter summary for a command. The summary is displayed when the command is listed as a subcommand.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_33\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .command(\"duplicate\")\n  .summary(\"make a copy\")\n  .description(`Make a copy of the current project.\nThis may require additional disk space.\n  `);\n```\n\n----------------------------------------\n\nTITLE: Loading Node-API Modules with process.dlopen() in Bun\nDESCRIPTION: Shows the alternative method of loading a .node native module in Bun using process.dlopen(). This method gives more control over the module loading process by explicitly creating the module object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/node-api.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nlet mod = { exports: {} };\nprocess.dlopen(mod, \"./my-node-module.node\");\n```\n\n----------------------------------------\n\nTITLE: Displaying CSS HMR Frame Time Statistics for Bun\nDESCRIPTION: This output shows the results of the CSS HMR frame time analysis for the Bun project. It displays frame time statistics at different percentiles and the percentage of rendered frames.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.32ms.txt#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\nbun\n --------------------------------------------------\n CSS HMR FRAME TIME\n\n 50th percentile: 40.7ms \n 75th percentile: 42.3ms \n 90th percentile: 43.5ms \n 95th percentile: 76.4ms \n 99th percentile: 118.8ms \n Rendered frames: 958 / 1024 (94%)\n```\n\n----------------------------------------\n\nTITLE: Installing LLVM 19 (Ubuntu/Debian)\nDESCRIPTION: Installs LLVM 19 on Ubuntu/Debian using the official LLVM apt repository. Downloads and executes an installation script for the specified LLVM version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ # LLVM has an automatic installation script that is compatible with all versions of Ubuntu\n$ wget https://apt.llvm.org/llvm.sh -O - | sudo bash -s -- 19 all\n```\n\n----------------------------------------\n\nTITLE: BuildMessage and ResolveMessage Class Definitions\nDESCRIPTION: TypeScript classes defining the structure of build and resolve error messages used in Bun's build system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_68\n\nLANGUAGE: typescript\nCODE:\n```\nclass BuildMessage {\n  name: string;\n  position?: Position;\n  message: string;\n  level: \"error\" | \"warning\" | \"info\" | \"debug\" | \"verbose\";\n}\n\nclass ResolveMessage extends BuildMessage {\n  code: string;\n  referrer: string;\n  specifier: string;\n  importKind: ImportKind;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Package Tarballs\nDESCRIPTION: Command and output example for creating a package tarball using bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\n# Create a tarball\n$ bun pm pack\n\nTotal files: 46\nShasum: 2ee19b6f0c6b001358449ca0eadead703f326216\nIntegrity: sha512-ZV0lzWTEkGAMz[...]Gl4f8lA9sl97g==\nUnpacked size: 0.41MB\nPacked size: 117.50KB\n```\n\n----------------------------------------\n\nTITLE: Basic Directory Watching with fs.watch in Bun\nDESCRIPTION: This snippet demonstrates how to watch for file system changes in the current directory using the fs.watch function. This implementation is shallow and won't detect changes in subdirectories.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/read-file/watch.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { watch } from \"fs\";\n\nconst watcher = watch(import.meta.dir, (event, filename) => {\n  console.log(`Detected ${event} in ${filename}`);\n});\n```\n\n----------------------------------------\n\nTITLE: Displaying CSS HMR Frame Time Performance Metrics\nDESCRIPTION: Output from the analysis script showing frame time performance metrics for CSS Hot Module Replacement in Bun. It includes percentile statistics (50th, 75th, 90th, 95th, 99th) and the percentage of rendered frames.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.24ms.txt#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\nbun\n --------------------------------------------------\n CSS HMR FRAME TIME\n\n 50th percentile: 33.4ms \n 75th percentile: 34.5ms \n 90th percentile: 35.8ms \n 95th percentile: 65.5ms \n 99th percentile: 87.9ms \n Rendered frames: 937 / 1024 (92%)\n```\n\n----------------------------------------\n\nTITLE: Disabling Environment Variable Injection - JavaScript\nDESCRIPTION: Shows bundle output where environment variable injection has been disabled. Used for security or to prevent any replacement of process.env references during bundling. All process.env references remain in the output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_43\n\nLANGUAGE: JavaScript\nCODE:\n```\nconsole.log(process.env.FOO);\nconsole.log(process.env.BAZ);\n```\n\n----------------------------------------\n\nTITLE: Starting StricJS Development Server\nDESCRIPTION: Command to run the server in watch mode for development.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/stric.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch run index.ts\n```\n\n----------------------------------------\n\nTITLE: Test Suite Definition with Describe\nDESCRIPTION: Shows how to group related tests into a test suite using describe blocks\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/writing.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { expect, test, describe } from \"bun:test\";\n\ndescribe(\"arithmetic\", () => {\n  test(\"2 + 2\", () => {\n    expect(2 + 2).toBe(4);\n  });\n\n  test(\"2 * 2\", () => {\n    expect(2 * 2).toBe(4);\n  });\n});\n```\n\n----------------------------------------\n\nTITLE: Specifying tarball dependencies in package.json\nDESCRIPTION: JSON configuration showing how to specify a tarball dependency in the package.json file using a direct URL to the .tgz file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"zod\": \"https://registry.npmjs.org/zod/-/zod-3.21.4.tgz\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Detailed Coverage Thresholds in Bun Tests\nDESCRIPTION: Configures different thresholds for line, function, and statement coverage in Bun tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_12\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageThreshold = { line = 0.7, function = 0.8, statement = 0.9 }\n```\n\n----------------------------------------\n\nTITLE: Setting PowerShell Execution Policy\nDESCRIPTION: Configures PowerShell to allow running unverified scripts by setting the execution policy to Unrestricted for the current user.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_0\n\nLANGUAGE: powershell\nCODE:\n```\nSet-ExecutionPolicy -Scope CurrentUser -ExecutionPolicy Unrestricted\n```\n\n----------------------------------------\n\nTITLE: Example Index HTML File for Bun Bundling\nDESCRIPTION: An example HTML file that will be processed by Bun's bundler. Bun will bundle scripts and stylesheets referenced in the HTML file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>Home</title>\n    <link rel=\"stylesheet\" href=\"./reset.css\" />\n    <link rel=\"stylesheet\" href=\"./styles.css\" />\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script type=\"module\" src=\"./sentry-and-preloads.ts\"></script>\n    <script type=\"module\" src=\"./my-app.tsx\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: ASCII Art Output from Figlet in Bun Server\nDESCRIPTION: The ASCII art representation of 'Bun!' generated by the figlet package and displayed when accessing the HTTP server.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/quickstart.md#2025-04-22_snippet_9\n\nLANGUAGE: txt\nCODE:\n```\n  ____              _\n | __ ) _   _ _ __ | |\n |  _ \\| | | | '_ \\| |\n | |_) | |_| | | | |_|\n |____/ \\__,_|_| |_(_)\n```\n\n----------------------------------------\n\nTITLE: Excluding @types Packages from Outdated Check - Markdown\nDESCRIPTION: Demonstrates use of a custom Markdown directive to exclude all '@types/*' dependencies from being checked as outdated. The exclusion is specified by the negated glob pattern '!@types/*' passed to the 'glob' argument. This requires a workspace with '@types' dependencies to observe its effect.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal displayGlob=\"'!@types/*'\" glob=\"!@types/*\"  /%}\n```\n\n----------------------------------------\n\nTITLE: Installing Commander Package\nDESCRIPTION: NPM command to install the Commander.js package\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install commander\n```\n\n----------------------------------------\n\nTITLE: Publishing Messages to All Subscribers (TypeScript)\nDESCRIPTION: This example illustrates how to publish messages to all subscribers of a topic, including the socket that initiated the publish, using `server.publish()`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/websockets.md#_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  websocket: {\n    // ...\n  },\n});\n\n// listen for some external event\nserver.publish(\"the-group-chat\", \"Hello world\");\n```\n\n----------------------------------------\n\nTITLE: Creating a Project from GitHub Repo in Bun\nDESCRIPTION: Demonstrates using 'bun create' to clone and set up a project from a GitHub repository.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bun create <user>/<repo>\n$ bun create github.com/<user>/<repo>\n```\n\n----------------------------------------\n\nTITLE: Illustrating Standard TOML Comment Syntax\nDESCRIPTION: Demonstrates the standard TOML comment syntax using only the '#' character to start comments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bun-flavored-toml.md#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n# This is a comment\n```\n\n----------------------------------------\n\nTITLE: Configuring Install Scopes for Multiple Companies in TOML\nDESCRIPTION: This snippet sets up install scopes for different companies, specifying tokens and URLs for package registries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[install.scopes]\n\"@mybigcompany2\" = { \"token\" = \"123456\", \"url\" = \"https://registry.mybigcompany.com\" }\n\"@mybigcompany3\" = { \"token\" = \"123456\", \"url\" = \"https://registry.mybigcompany.com\", \"three\" = 4 }\n\n[install.scopes.\"@mybigcompany\"]\ntoken = \"123456\"\nurl = \"https://registry.mybigcompany.com\"\n```\n\n----------------------------------------\n\nTITLE: Writing to stdout using console.log in TypeScript\nDESCRIPTION: Demonstrates the basic usage of console.log to write to stdout. The function automatically appends a line break at the end of the printed data.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/write-file/stdout.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"Lorem ipsum\");\n```\n\n----------------------------------------\n\nTITLE: Testing Module Exports with Bun Build\nDESCRIPTION: Shows how to test module exports using runtimeFiles in a Bun build test, including importing the bundled output and checking its contents.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nitBundled(\"importstar/ExportSelfES6\", {\n  files: {\n    \"/entry.js\": /* js */ `\n      export const foo = 123\n      export * from './entry'\n    `,\n  },\n  format: \"esm\",\n  runtimeFiles: {\n    \"/test.js\": /* js */ `\n      import * as foo from './out.js'\n      console.log(JSON.stringify(foo));\n    `,\n  },\n  run: {\n    file: \"/test.js\",\n    stdout: '{\"foo\":123}',\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: JSON Conversion in Bundler\nDESCRIPTION: Demonstrates how a JSON file gets converted when used as an entrypoint in the bundler. The JSON is transformed into a JavaScript module with a default export.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/loaders.md#2025-04-22_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"John Doe\",\n  \"age\": 35,\n  \"email\": \"johndoe@example.com\"\n}\n```\n\nLANGUAGE: js\nCODE:\n```\nexport default {\n  name: \"John Doe\",\n  age: 35,\n  email: \"johndoe@example.com\"\n}\n```\n\n----------------------------------------\n\nTITLE: Spawning a Bun process with inspector attached\nDESCRIPTION: Command to start a Bun process with the inspector attached using the --inspect-wait flag, and a command to extract the WebSocket URL from the output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun --inspect-wait my-script.ts\n```\n\nLANGUAGE: bash\nCODE:\n```\nbun --inspect-wait my-script.ts 2>&1 | grep -o '\\sws://.*$'\n```\n\n----------------------------------------\n\nTITLE: CSS Selector Examples for HTMLRewriter\nDESCRIPTION: Comprehensive examples of supported CSS selectors including tag, class, ID, attribute, combinator, and pseudo-class selectors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// Tag selectors\nrewriter.on(\"p\", handler);\n\n// Class selectors\nrewriter.on(\"p.red\", handler);\n\n// ID selectors\nrewriter.on(\"h1#header\", handler);\n\n// Attribute selectors\nrewriter.on(\"p[data-test]\", handler); // Has attribute\nrewriter.on('p[data-test=\"one\"]', handler); // Exact match\nrewriter.on('p[data-test=\"one\" i]', handler); // Case-insensitive\nrewriter.on('p[data-test=\"one\" s]', handler); // Case-sensitive\nrewriter.on('p[data-test~=\"two\"]', handler); // Word match\nrewriter.on('p[data-test^=\"a\"]', handler); // Starts with\nrewriter.on('p[data-test$=\"1\"]', handler); // Ends with\nrewriter.on('p[data-test*=\"b\"]', handler); // Contains\nrewriter.on('p[data-test|=\"a\"]', handler); // Dash-separated\n\n// Combinators\nrewriter.on(\"div span\", handler); // Descendant\nrewriter.on(\"div > span\", handler); // Direct child\n\n// Pseudo-classes\nrewriter.on(\"p:nth-child(2)\", handler);\nrewriter.on(\"p:first-child\", handler);\nrewriter.on(\"p:nth-of-type(2)\", handler);\nrewriter.on(\"p:first-of-type\", handler);\nrewriter.on(\"p:not(:first-child)\", handler);\n\n// Universal selector\nrewriter.on(\"*\", handler);\n```\n\n----------------------------------------\n\nTITLE: Getting File Size with S3Client.size\nDESCRIPTION: Shows how to retrieve the size of an S3 file without downloading it using S3Client.size static method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_29\n\nLANGUAGE: typescript\nCODE:\n```\nimport { S3Client } from \"bun\";\n\nconst credentials = {\n  accessKeyId: \"your-access-key\",\n  secretAccessKey: \"your-secret-key\",\n  bucket: \"my-bucket\",\n  // endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  // endpoint: \"https://<account-id>.r2.cloudflarestorage.com\", // Cloudflare R2\n};\n\nconst bytes = await S3Client.size(\"my-file.txt\", credentials);\n```\n\n----------------------------------------\n\nTITLE: High-precision timing with Bun.nanoseconds() in TypeScript\nDESCRIPTION: Shows how to use Bun.nanoseconds() to get high-precision timing information. Returns the number of nanoseconds since the current process started, useful for benchmarking.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nBun.nanoseconds();\n// => 7288958\n```\n\n----------------------------------------\n\nTITLE: Sending Different Data Types via IPC\nDESCRIPTION: Examples of sending different data types through IPC channels using JSC serialize API, supporting transferrable types like strings and objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/ipc.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// send a string\nprocess.send(\"Hello from child as string\");\n\n// send an object\nprocess.send({ message: \"Hello from child as object\" });\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies for Specific Workspaces\nDESCRIPTION: Demonstrates how to use the --filter flag with bun install to install dependencies for specific workspaces in a monorepo.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/workspaces.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Install dependencies for all workspaces starting with `pkg-` except for `pkg-c`\n$ bun install --filter \"pkg-*\" --filter \"!pkg-c\"\n\n# Paths can also be used. This is equivalent to the command above.\n$ bun install --filter \"./packages/pkg-*\" --filter \"!pkg-c\" # or --filter \"!./packages/pkg-c\"\n```\n\n----------------------------------------\n\nTITLE: Inter-Process Communication (IPC) in Parent Process with TypeScript\nDESCRIPTION: Shows how to set up IPC in the parent process to communicate with a Bun child process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nconst childProc = Bun.spawn([\"bun\", \"child.ts\"], {\n  ipc(message, childProc) {\n    /**\n     * The message received from the sub process\n     **/\n    childProc.send(\"Respond to child\")\n  },\n});\n\nchildProc.send(\"I am your father\"); // The parent can send messages to the child as well\n```\n\n----------------------------------------\n\nTITLE: Running CSS HMR Performance Measurement Script for Bun\nDESCRIPTION: Command to execute a Node.js script that reads and analyzes frame time data for CSS Hot Module Reload in Bun. It sets the SLEEP_INTERVAL environment variable to 16 and the PROJECT environment variable to 'bun'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.16ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nSLEEP_INTERVAL=16 PROJECT=bun node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Creating a Worker with Preloaded Modules\nDESCRIPTION: Example of creating a Worker with the preload option to load modules before the worker starts, useful for initialization code like loading monitoring tools.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/workers.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst worker = new Worker(\"./worker.ts\", {\n  preload: [\"./load-sentry.js\"],\n});\n```\n\n----------------------------------------\n\nTITLE: Package.json with Exports Conditions\nDESCRIPTION: Example package.json showing how to configure export conditions for different environments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_12\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"name\": \"foo\",\n  \"exports\": {\n    \"bun\": \"./index.js\",\n    \"node\": \"./index.js\",\n    \"require\": \"./index.js\", // if importer is CommonJS\n    \"import\": \"./index.mjs\", // if importer is ES module\n    \"default\": \"./index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Converting Uint8Array to DataView with TypeScript\nDESCRIPTION: This snippet shows how to create a DataView using the buffer, byteOffset, and byteLength of an existing Uint8Array. It allows random-access reading and writing of various binary formats on the same data as the original Uint8Array. Dependencies include ES2015+ JavaScript support; required parameters are a Uint8Array instance (arr). The output is a DataView instance (dv) referencing the same bytes. This method works for any subarray and preserves the original offset and length.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/typedarray-to-dataview.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst arr: Uint8Array = ...\nconst dv = new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n```\n\n----------------------------------------\n\nTITLE: Sample Query Results Structure (JSON)\nDESCRIPTION: Displays an example JSON structure of results returned from a query with named parameters, illustrating the shape and content of a Bun query response.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_19\n\nLANGUAGE: JSON\nCODE:\n```\n[\n  { \"$bar\": \"bar\" }\n]\n\n```\n\n----------------------------------------\n\nTITLE: Generated Snapshot File Content in JavaScript\nDESCRIPTION: Example of the generated snapshot file content. The snapshot file is a JavaScript file that exports a serialized version of the value used in the test.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/snapshot.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n// Bun Snapshot v1, https://goo.gl/fbAQLP\n\nexports[`snapshot 1`] = `\n{\n  \"foo\": \"bar\",\n}\n`;\n```\n\n----------------------------------------\n\nTITLE: Marking a Test as Todo in Bun Test Runner (TypeScript)\nDESCRIPTION: This snippet shows how to use test.todo to mark a test for future implementation without providing an actual test function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/todo-tests.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\n// write this later\ntest.todo(\"unimplemented feature\");\n```\n\n----------------------------------------\n\nTITLE: JSX Output with Custom Factory\nDESCRIPTION: Transpiled output when using a custom JSX factory, showing how the specified function name is used instead of createElement in the transformed code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\nimport { h } from \"react\";\nh(\"Box\", { width: 5 }, \"Hello\");\n```\n\n----------------------------------------\n\nTITLE: Configuring JUnit Reporter Output Path\nDESCRIPTION: Specifies the output file path for JUnit XML reports when using the JUnit test reporter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/configuration.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[test.reporter]\njunit = \"path/to/junit.xml\"  # Output path for JUnit XML report\n```\n\n----------------------------------------\n\nTITLE: Building Bun with Dynamic libatomic Linking\nDESCRIPTION: This command builds Bun with dynamic linking for `libatomic`. It is used if the system does not have a static `libatomic` library available. It uses `bun run build` with the `-DUSE_STATIC_LIBATOMIC=OFF` flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_34\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build -DUSE_STATIC_LIBATOMIC=OFF\n```\n\n----------------------------------------\n\nTITLE: Building with CJS Format - Bun JavaScript API - JavaScript\nDESCRIPTION: Builds a CommonJS-format bundle using the Bun.build JavaScript API. Sets entrypoints, output directory, and format 'cjs'. Target defaults to 'node' for CJS. Allows use in both Bun and Node.js if APIs are supported by both. Requires JavaScript/TypeScript source files and Bun installed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_23\n\nLANGUAGE: JavaScript\nCODE:\n```\nawait Bun.build({\n  entrypoints: ['./index.tsx'],\n  outdir: './out',\n  format: \"cjs\",\n})\n```\n\n----------------------------------------\n\nTITLE: Overriding Default CA List for Bun HTTP Server TLS in TypeScript\nDESCRIPTION: This snippet demonstrates how to override the default Mozilla-curated list of trusted root CAs when configuring TLS for a Bun HTTP server. It uses the 'ca' property to specify an array of custom CA certificates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/http/tls.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst server = Bun.serve({\n  fetch: request => new Response(\"Welcome to Bun!\"),\n  tls: {\n    cert: Bun.file(\"cert.pem\"),\n    key: Bun.file(\"key.pem\"),\n    ca: [Bun.file(\"ca1.pem\"), Bun.file(\"ca2.pem\")],\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Contributing to bun-plugin-yaml\nDESCRIPTION: Bash commands for setting up the project and running tests when contributing to the bun-plugin-yaml project.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install # project setup\n$ bun test # run tests\n```\n\n----------------------------------------\n\nTITLE: Using CString for String Handling in FFI\nDESCRIPTION: This snippet demonstrates how to use the CString class from bun:ffi to handle C-style strings in JavaScript. It shows conversion from null-terminated string pointers and pointers with known length to JavaScript strings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nconst myString = new CString(ptr);\n\n// With known length\nconst myString = new CString(ptr, 0, byteLength);\n\nmy_library_free(myString.ptr);\n\n// this is safe because myString is a clone\nconsole.log(myString);\n```\n\n----------------------------------------\n\nTITLE: Output Bundle Example\nDESCRIPTION: An example of the output JavaScript bundle that includes the React component and initialization code, representing what Bun generates after bundling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n// ...\n// ~20k lines of code\n// including the contents of `react-dom/client` and all its dependencies\n// this is where the $jsxDEV and $createRoot functions are defined\n\n\n// Component.tsx\nfunction Component(props) {\n  return $jsxDEV(\"p\", {\n    children: props.message\n  }, undefined, false, undefined, this);\n}\n\n// index.tsx\nvar rootNode = document.getElementById(\"root\");\nvar root = $createRoot(rootNode);\nroot.render($jsxDEV(Component, {\n  message: \"Sup!\"\n}, undefined, false, undefined, this));\n```\n\n----------------------------------------\n\nTITLE: Defining and Compiling an Addition Function in C++\nDESCRIPTION: This snippet shows how to create a simple addition function in C++ and compile it as a dynamic library for use with bun:ffi.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/ffi.md#2025-04-22_snippet_3\n\nLANGUAGE: cpp\nCODE:\n```\n#include <cstdint>\n\nextern \"C\" int32_t add(int32_t a, int32_t b) {\n    return a + b;\n}\n```\n\nLANGUAGE: bash\nCODE:\n```\n$ zig build-lib add.cpp -dynamic -lc -lc++\n```\n\n----------------------------------------\n\nTITLE: Running Bun Release Commands\nDESCRIPTION: Commands for building and publishing Bun release assets to npm. Supports building latest release, specific release versions, and optional publishing with dry-run capability.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nbun run npm # build assets for the latest release\nbun run npm -- <release> # build assets for the provided release\nbun run npm -- <release> [dry-run|publish] # build and publish assets to npm\n```\n\n----------------------------------------\n\nTITLE: HTMLRewriter Input Types Example\nDESCRIPTION: Demonstrates different input types that HTMLRewriter can handle, including Response, string, ArrayBuffer, Blob, and File.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/html-rewriter.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// From Response\nrewriter.transform(new Response(\"<div>content</div>\"));\n\n// From string\nrewriter.transform(\"<div>content</div>\");\n\n// From ArrayBuffer\nrewriter.transform(new TextEncoder().encode(\"<div>content</div>\").buffer);\n\n// From Blob\nrewriter.transform(new Blob([\"<div>content</div>\"]));\n\n// From File\nrewriter.transform(Bun.file(\"index.html\"));\n```\n\n----------------------------------------\n\nTITLE: Executing a Defined Package.json Script with Bun Run\nDESCRIPTION: Demonstrates executing the `clean` script (defined as `rm -rf dist && echo 'Done.'` in the example `package.json`) using the `bun run clean` command. The output shows the underlying shell command being executed and its console output.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/run.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run clean\n $ rm -rf dist && echo 'Done.'\n Cleaning...\n Done.\n```\n\n----------------------------------------\n\nTITLE: Installing Bun via npm\nDESCRIPTION: This command installs Bun globally using npm. It allows users to install Bun on their system for use across multiple projects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/npm/bun/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install -g bun\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Import\nDESCRIPTION: Imports the Node.js built-in path module using CommonJS require() syntax. Demonstrates the traditional Node.js module import pattern.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/document_with_esm_and_cjs_code_snippet.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nrequire('path');\n```\n\n----------------------------------------\n\nTITLE: Hot Reloading Handlers for a TCP Client\nDESCRIPTION: Updates the event handlers for a client socket without disconnecting, allowing for dynamic behavior changes in a connected client.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/tcp.md#2025-04-22_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nconst socket = await Bun.connect({ /* config */ })\nsocket.reload({\n  data(){\n    // new 'data' handler\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Example TypeScript code using AWS object\nDESCRIPTION: This TypeScript snippet shows how the AWS object would be used before the --define transformation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\nconsole.log(AWS.ACCESS_KEY); // => \"abc\"\n```\n\n----------------------------------------\n\nTITLE: Listing String Escape Characters in Bun-flavored TOML\nDESCRIPTION: Provides a comprehensive list of string escape characters supported in Bun-flavored TOML, including additional sequences for better JavaScript compatibility and standard TOML escape sequences.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bun-flavored-toml.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n# Bun-flavored TOML extras\n\\x{XX}     - ASCII           (U+00XX)\n\\u{x+}     - unicode         (U+0000000X) - (U+XXXXXXXX)\n\\v         - vertical tab\n\n# Regular TOML\n\\b         - backspace       (U+0008)\n\\t         - tab             (U+0009)\n\\n         - linefeed        (U+000A)\n\\f         - form feed       (U+000C)\n\\r         - carriage return (U+000D)\n\\\"         - quote           (U+0022)\n\\\\         - backslash       (U+005C)\n\\uXXXX     - unicode         (U+XXXX)\n\\UXXXXXXXX - unicode         (U+XXXXXXXX)\n```\n\n----------------------------------------\n\nTITLE: Package.json Export Conditions Configuration\nDESCRIPTION: Configuration example showing how to set up export conditions for macro packages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"my-package\",\n  \"exports\": {\n    \"import\": \"./index.js\",\n    \"require\": \"./index.js\",\n    \"default\": \"./index.js\",\n    \"macro\": \"./index.macro.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables via Command Line on Windows\nDESCRIPTION: Windows-specific commands for setting environment variables when running Bun applications using CMD or PowerShell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/env.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n# Using CMD\n$ set FOO=helloworld && bun run dev\n\n# Using PowerShell\n$ $env:FOO=\"helloworld\"; bun run dev\n```\n\n----------------------------------------\n\nTITLE: Creating Snapshot Test in TypeScript with Bun\nDESCRIPTION: Example showing how to write a basic snapshot test using Bun's test runner with the .toMatchSnapshot() assertion\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/update-snapshots.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect } from \"bun:test\";\n\ntest(\"snapshot\", () => {\n  expect({ foo: \"bar\" }).toMatchSnapshot();\n});\n```\n\n----------------------------------------\n\nTITLE: Importing JSON and TOML Files in TypeScript\nDESCRIPTION: Demonstrates how to import JSON and TOML configuration files in a TypeScript environment. Bun automatically loads these files as JavaScript objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/index.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport pkg from \"./package.json\";\nimport bunfig from \"./bunfig.toml\";\n```\n\n----------------------------------------\n\nTITLE: Global Package Installation\nDESCRIPTION: Commands for installing and running packages globally using bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/from-npm-install-to-bun-install.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\n# Install a package globally\n$ bun i -g eslint\n\n# Run a globally-installed package without the `bun run` prefix\n$ eslint --init\n```\n\n----------------------------------------\n\nTITLE: Implementing Commands with Action Handlers in JavaScript\nDESCRIPTION: Demonstrates how to create commands using .command() with action handlers. This snippet shows how to define a command with required and optional arguments, then implement its functionality through an action handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n// Command implemented using action handler (description is supplied separately to `.command`)\n// Returns new command for configuring.\nprogram\n  .command('clone <source> [destination]')\n  .description('clone a repository into a newly created directory')\n  .action((source, destination) => {\n    console.log('clone command called');\n  });\n\n// Command implemented using stand-alone executable file, indicated by adding description as second parameter to `.command`.\n// Returns `this` for adding more commands.\nprogram\n  .command('start <service>', 'start named service')\n  .command('stop [service]', 'stop named service, or all if no name supplied');\n\n// Command prepared separately.\n// Returns `this` for adding more commands.\nprogram\n  .addCommand(build.makeBuildCommand());\n```\n\n----------------------------------------\n\nTITLE: Generating Lockfile Without Installing in Bun\nDESCRIPTION: Creates a bun.lock file without installing dependencies to node_modules using the --lockfile-only flag. This will still populate the global install cache with registry metadata and git/tarball dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lockfile.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --lockfile-only\n```\n\n----------------------------------------\n\nTITLE: Using fileControl API for WAL Mode Configuration in Bun SQLite\nDESCRIPTION: Demonstrates how to use the fileControl method to configure SQLite to prevent WAL (Write-Ahead Logging) files from persisting after the database is closed.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_30\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Database, constants } from \"bun:sqlite\";\n\nconst db = new Database();\n// Ensure WAL mode is NOT persistent\n// this prevents wal files from lingering after the database is closed\ndb.fileControl(constants.SQLITE_FCNTL_PERSIST_WAL, 0);\n```\n\n----------------------------------------\n\nTITLE: ES Module Import\nDESCRIPTION: Shows importing the URL module using ES Modules import syntax with the node: protocol prefix. This is the modern JavaScript module import method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/document_with_cjs_and_esm_code_snippet.md#2025-04-22_snippet_1\n\nLANGUAGE: mjs\nCODE:\n```\nimport 'node:url';\n```\n\n----------------------------------------\n\nTITLE: Building Bun Release\nDESCRIPTION: Compiles a release build of Bun using the `build:release` script defined in package.json. The output binaries are located in `./build/release/`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_20\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build:release\n```\n\n----------------------------------------\n\nTITLE: Memory profiling with bun-inspector-protocol in TypeScript\nDESCRIPTION: TypeScript code showing how to perform memory profiling using the Heap domain, including starting heap tracking, listening for garbage collection events, and obtaining a heap snapshot.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// Start heap tracking\nawait inspector.send(\"Heap.enable\");\nawait inspector.send(\"Heap.startTracking\");\n\n// Listen for GC events\ninspector.on(\"Heap.garbageCollected\", ({ collection }) => {\n  console.log(\n    `GC completed: ${collection.type} (${collection.endTime - collection.startTime}ms)`,\n  );\n});\n\n// ... perform operations to analyze ...\n\n// Get heap snapshot\nconst { snapshotData } = await inspector.send(\"Heap.stopTracking\");\n// Process snapshotData to find memory leaks\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Buffer as Uint8Array - TypeScript\nDESCRIPTION: This TypeScript snippet creates a Buffer of length 64 using Buffer.alloc and checks if it is an instance of Uint8Array using the instanceof operator. No conversion method is required, as Buffer already inherits all Uint8Array functionalities. The only prerequisite is a Node.js environment with the buffer module available, and the expected output is true if buf is a Uint8Array. Limitations: The demonstration relies on Node.js' Buffer class; it does not cover environments lacking Buffer support.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/binary/buffer-to-typedarray.md#2025-04-22_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst buf = Buffer.alloc(64);\\nbuf instanceof Uint8Array; // => true\n```\n\n----------------------------------------\n\nTITLE: Manually Starting a Bun Service\nDESCRIPTION: Command to start the Bun service without rebooting the system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/systemd.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo systemctl start my-app\n```\n\n----------------------------------------\n\nTITLE: CommonJS Module Import\nDESCRIPTION: Demonstrates importing the path module using CommonJS require() syntax. This is the traditional Node.js module import method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/document_with_cjs_and_esm_code_snippet.md#2025-04-22_snippet_0\n\nLANGUAGE: cjs\nCODE:\n```\nrequire('path');\n```\n\n----------------------------------------\n\nTITLE: Implementing JSX Button Component in MDX\nDESCRIPTION: This code snippet demonstrates how to embed a JSX Button component directly in MDX content with an onClick event handler that displays an alert.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/input/page3.mdx#2025-04-22_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\n<Button onClick={() => alert(\"Hello!\")}>Click me</Button>\n```\n\n----------------------------------------\n\nTITLE: Running PR Build\nDESCRIPTION: Example of running a bun build downloaded from a PR, showing its version.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_22\n\nLANGUAGE: sh\nCODE:\n```\nbun-1234566 --version\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream to Buffer using Bun\nDESCRIPTION: This code demonstrates how to convert a ReadableStream to a Buffer in two steps: first using Bun.readableStreamToArrayBuffer to convert the stream to an ArrayBuffer, then using Buffer.from to create a Node.js Buffer that points to the ArrayBuffer. This is useful for interfacing between Web API streams and Node.js buffer-based APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-buffer.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst arrBuf = await Bun.readableStreamToArrayBuffer(stream);\nconst nodeBuf = Buffer.from(arrBuf);\n```\n\n----------------------------------------\n\nTITLE: Run Debug Build with Bun\nDESCRIPTION: This command uses the `bun bd` script to compile and run a debug build of Bun. It simplifies running debug builds with specified arguments, suppressing output unless the build fails.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_18\n\nLANGUAGE: sh\nCODE:\n```\n$ bun bd <args>\n$ bun bd test foo.test.ts\n$ bun bd ./foo.ts\n```\n\n----------------------------------------\n\nTITLE: Overriding Exit Behavior in Commander.js\nDESCRIPTION: Demonstrates how to override Commander's default process.exit behavior to implement custom error handling. This approach uses try/catch to capture CommanderError objects thrown when errors occur during parsing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_42\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.exitOverride();\n\ntry {\n  program.parse(process.argv);\n} catch (err) {\n  // custom processing...\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Bun Version and Revision in TypeScript\nDESCRIPTION: Demonstrates how to retrieve the Bun version and git revision using Bun.version and Bun.revision properties.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nBun.version;\n// => \"0.6.4\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nBun.revision;\n// => \"f02561530fda1ee9396f51c8bc99b38716e38296\"\n```\n\n----------------------------------------\n\nTITLE: Simple Query Mode in TypeScript\nDESCRIPTION: Shows how to execute multiple statements in a single query using the simple() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sql.md#2025-04-22_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\n// Multiple statements in one query\nawait sql`\n  SELECT 1;\n  SELECT 2;\n`.simple();\n```\n\n----------------------------------------\n\nTITLE: Checking Version Compatibility with Bun.semver.satisfies in TypeScript\nDESCRIPTION: This snippet demonstrates the usage of Bun.semver.satisfies function to check if a given version satisfies a specified range. It shows various examples with different version ranges and compatibility scenarios.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/semver.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { semver } from \"bun\";\n\nsemver.satisfies(\"1.0.0\", \"^1.0.0\"); // true\nsemver.satisfies(\"1.0.0\", \"^1.0.1\"); // false\nsemver.satisfies(\"1.0.0\", \"~1.0.0\"); // true\nsemver.satisfies(\"1.0.0\", \"~1.0.1\"); // false\nsemver.satisfies(\"1.0.0\", \"1.0.0\"); // true\nsemver.satisfies(\"1.0.0\", \"1.0.1\"); // false\nsemver.satisfies(\"1.0.1\", \"1.0.0\"); // false\nsemver.satisfies(\"1.0.0\", \"1.0.x\"); // true\nsemver.satisfies(\"1.0.0\", \"1.x.x\"); // true\nsemver.satisfies(\"1.0.0\", \"x.x.x\"); // true\nsemver.satisfies(\"1.0.0\", \"1.0.0 - 2.0.0\"); // true\nsemver.satisfies(\"1.0.0\", \"1.0.0 - 1.0.1\"); // true\n```\n\n----------------------------------------\n\nTITLE: Shell commands demonstrating Bun.main output\nDESCRIPTION: These shell commands show how Bun.main returns different values based on which file is executed with 'bun run'. The output is the absolute path to the file specified in the command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/main.md#2025-04-22_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n$ bun run index.ts\n/path/to/index.ts\n$ bun run foo.ts\n/path/to/foo.ts\n```\n\n----------------------------------------\n\nTITLE: Configuring Command Arguments in Commander.js\nDESCRIPTION: Shows how to define command arguments using .argument() method. The example includes specifying required and optional arguments with descriptions and default values, then accessing them in the action handler.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .version('0.1.0')\n  .argument('<username>', 'user to login')\n  .argument('[password]', 'password for user, if required', 'no password given')\n  .action((username, password) => {\n    console.log('username:', username);\n    console.log('password:', password);\n  });\n```\n\n----------------------------------------\n\nTITLE: Writing Tests in TypeScript using Bun's Test API\nDESCRIPTION: An example of how to write tests in TypeScript using Bun's test API. It demonstrates importing test functions, describing a test suite, and writing an asynchronous test case.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/README.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { describe, test, expect } from \"bun:test\";\nimport { gcTick } from \"harness\";\n\ndescribe(\"TextEncoder\", () => {\n  test(\"can encode a string\", async () => {\n    const encoder = new TextEncoder();\n    const actual = encoder.encode(\"bun\");\n    await gcTick();\n    expect(actual).toBe(new Uint8Array([0x62, 0x75, 0x6E]));\n  });\n});\n```\n\n----------------------------------------\n\nTITLE: Using Exact Version Installation with Bun\nDESCRIPTION: Commands and configuration for installing exact package versions rather than version ranges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add react --exact\n$ bun add react -E\n```\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"dependencies\": {\n    // without --exact\n    \"react\": \"^18.2.0\", // this matches >= 18.2.0 < 19.0.0\n\n    // with --exact\n    \"react\": \"18.2.0\" // this matches only 18.2.0 exactly\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: JUnit Reporter Configuration in bunfig.toml\nDESCRIPTION: Configuration example for setting up JUnit XML reporting in the bunfig.toml configuration file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/reporters.md#2025-04-22_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\n[test.reporter]\njunit = \"path/to/junit.xml\"  # Output path for JUnit XML report\n```\n\n----------------------------------------\n\nTITLE: Defining Macros for React-Relay in TOML\nDESCRIPTION: This snippet defines a macro for React-Relay, specifying the path to the macro file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[macros]\nreact-relay = { \"graphql\" = \"node_modules/bun-macro-relay/bun-macro-relay.tsx\" }\n```\n\n----------------------------------------\n\nTITLE: Disabling Telemetry in Bun\nDESCRIPTION: Controls whether Bun records analytics data like bundle timings and feature usage. By default telemetry is enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_6\n\nLANGUAGE: toml\nCODE:\n```\ntelemetry = false\n```\n\n----------------------------------------\n\nTITLE: Excluding Test Files from Coverage Reports in Bun\nDESCRIPTION: Controls whether test files themselves should be included in coverage statistics. Default is false.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_13\n\nLANGUAGE: toml\nCODE:\n```\n[test]\ncoverageSkipTestFiles = false\n```\n\n----------------------------------------\n\nTITLE: Parsing Cookie Strings with Bun.Cookie.parse()\nDESCRIPTION: How to parse a cookie string into a Bun.Cookie instance using the static Cookie.parse() method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cookie.md#2025-04-22_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = Bun.Cookie.parse(\"name=value; Path=/; Secure; SameSite=Lax\");\n\nconsole.log(cookie.name); // \"name\"\nconsole.log(cookie.value); // \"value\"\nconsole.log(cookie.path); // \"/\"\nconsole.log(cookie.secure); // true\nconsole.log(cookie.sameSite); // \"lax\"\n```\n\n----------------------------------------\n\nTITLE: Installing specific versions of Bun on Windows\nDESCRIPTION: This snippet shows how to install a specific version of Bun on Windows using PowerShell.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_12\n\nLANGUAGE: powershell\nCODE:\n```\n$ iex \"& {$(irm https://bun.sh/install.ps1)} -Version $BUN_LATEST_VERSION\"\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript Path Mapping in Bun\nDESCRIPTION: Example of path mapping configuration in tsconfig.json to customize module resolution behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"compilerOptions\": {\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n      \"data\": [\"./data.ts\"]\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Testing HTML String Escaping in Rust\nDESCRIPTION: A series of test assertions that verify the HTMLEscape struct's functionality for escaping special HTML characters. Tests include empty strings, single special characters, mixed content, and repeated patterns of various lengths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_12\n\nLANGUAGE: rust\nCODE:\n```\nlet issue = \"<\".repeat(31);\nassert_eq!(\n    HTMLEscape::from(issue.as_ref()).to_string(),\n    \"&lt;\".repeat(31)\n);\n\nassert_eq!(HTMLEscape::from(empty).to_string(), empty);\nassert_eq!(HTMLEscape::from(\"\").to_string(), \"\");\nassert_eq!(HTMLEscape::from(\"<&>\").to_string(), \"&lt;&amp;&gt;\");\nassert_eq!(HTMLEscape::from(\"bar&\").to_string(), \"bar&amp;\");\nassert_eq!(HTMLEscape::from(\"<foo\").to_string(), \"&lt;foo\");\nassert_eq!(HTMLEscape::from(\"bar&h\").to_string(), \"bar&amp;h\");\nassert_eq!(\n    HTMLEscape::from(\"// my <html> is \\\"unsafe\\\" & should be 'escaped'\").to_string(),\n    \"&#x2f;&#x2f; my &lt;html&gt; is &quot;unsafe&quot; &amp; should be &#x27;escaped&#x27;\"\n);\nassert_eq!(\n    HTMLEscape::from(\"<\".repeat(16).as_ref()).to_string(),\n    \"&lt;\".repeat(16)\n);\nassert_eq!(\n    HTMLEscape::from(\"<\".repeat(32).as_ref()).to_string(),\n    \"&lt;\".repeat(32)\n);\nassert_eq!(\n    HTMLEscape::from(\"<\".repeat(64).as_ref()).to_string(),\n    \"&lt;\".repeat(64)\n);\nassert_eq!(\n    HTMLEscape::from(\"<\".repeat(128).as_ref()).to_string(),\n    \"&lt;\".repeat(128)\n);\n```\n\n----------------------------------------\n\nTITLE: Simple Random Number Macro Function\nDESCRIPTION: Basic example of a macro function that returns a random number during bundle-time.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/macros.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport function random() {\n  return Math.random();\n}\n```\n\n----------------------------------------\n\nTITLE: GitHub Popover Hovercard Component\nDESCRIPTION: HTML for GitHub's hovercard popover component that displays additional information when hovering over various elements throughout the site. The popover is positioned absolutely and contains a message box with shadow effects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_21\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"Popover js-hovercard-content position-absolute\" style=\"display: none; outline: none;\" tabindex=\"0\">\n  <div class=\"Popover-message Popover-message--bottom-left Popover-message--large Box box-shadow-large\" style=\"width:360px;\">\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Global Installation Settings\nDESCRIPTION: TOML configuration for specifying global installation directories in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_6\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n# where `bun add --global` installs packages\nglobalDir = \"~/.bun/install/global\"\n\n# where globally-installed package bins are linked\nglobalBinDir = \"~/.bun/bin\"\n```\n\n----------------------------------------\n\nTITLE: Installing LLVM 19 (Fedora)\nDESCRIPTION: Installs LLVM, Clang, and LLD development packages on Fedora using dnf. This provides the necessary compiler and linker tools for building Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo dnf install llvm clang lld-devel\n```\n\n----------------------------------------\n\nTITLE: Script profiling with bun-inspector-protocol in TypeScript\nDESCRIPTION: TypeScript code demonstrating how to perform script profiling using the ScriptProfiler domain, including starting tracking with sampling, listening for profiling updates, and processing collected stack traces.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// Start script profiling with sampling\nawait inspector.send(\"ScriptProfiler.startTracking\", { includeSamples: true });\n\n// Listen for profiling updates\ninspector.on(\"ScriptProfiler.trackingUpdate\", event => {\n  console.log(\"Profiling event:\", event);\n});\n\n// Stop profiling to get complete data\ninspector.on(\"ScriptProfiler.trackingComplete\", data => {\n  if (data.samples) {\n    // Process stack traces\n    console.log(`Collected ${data.samples.stackTraces.length} stack traces`);\n  }\n});\n\nawait inspector.send(\"ScriptProfiler.stopTracking\");\n```\n\n----------------------------------------\n\nTITLE: Installing LLVM 19 (openSUSE Tumbleweed)\nDESCRIPTION: Installs LLVM 19, Clang 19, and LLD 19 on openSUSE Tumbleweed using zypper. This provides the necessary compiler and linker tools for building Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo zypper install clang19 lld19 llvm19\n```\n\n----------------------------------------\n\nTITLE: Modern Color Notation and Alpha in CSS - Bun Bundler\nDESCRIPTION: Uses modern, concise color syntaxes such as space-separated rgb/hsl and hex with alpha, simplifying writing and maintenance. Bun rewrites these into legacy comma-separated or alpha-friendly formats for old browser support, outputting rgba().\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_14\n\nLANGUAGE: css\nCODE:\n```\n.modern-styling {\\n  /* Space-separated RGB notation (no commas) */\\n  color: rgb(50 100 200);\\n\\n  /* Space-separated RGB with alpha */\\n  border-color: rgba(100 50 200 / 75%);\\n\\n  /* Hex with alpha channel (8 digits) */\\n  background-color: #00aaff80;\\n\\n  /* HSL with simplified notation */\\n  box-shadow: 0 5px 10px hsl(200 50% 30% / 40%);\\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests via CLI\nDESCRIPTION: Examples of how to run tests using Bun's built-in test command. It demonstrates running all tests, tests in a specific directory, and a single test file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nbun test # Run all tests\nbun test js/bun # Only run tests in a directory\nbun test sqlite.test.ts # Only run a specific test\n```\n\n----------------------------------------\n\nTITLE: Benchmarking Package Managers with Lockfile in Offline Mode\nDESCRIPTION: This command benchmarks the installation performance of package managers in offline mode, using existing lockfiles. It uses hyperfine to compare Bun, pnpm, Yarn, and npm, with appropriate offline flags for each except Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/install/README.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ hyperfine --prepare 'rm -rf node_modules' --runs 1 'bun install' 'pnpm install --prefer-offline' 'yarn --offline' 'npm install --prefer-offline'\n```\n\n----------------------------------------\n\nTITLE: Printing Lockfile Hash Input String with Bun\nDESCRIPTION: Prints the raw string data that Bun uses as input to generate the lockfile hash. This can be useful for debugging or understanding how the hash is derived.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm hash-string\n```\n\n----------------------------------------\n\nTITLE: Updating Snapshots Command in Bun\nDESCRIPTION: Command line instruction for regenerating snapshot files in Bun using the --update-snapshots flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/snapshots.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun test --update-snapshots\n```\n\n----------------------------------------\n\nTITLE: Displaying Custom Error Messages in Commander.js\nDESCRIPTION: Examples of using Commander's error method to display custom error messages with optional exit codes and error codes. This allows for customized error handling while still leveraging Commander's built-in error display mechanism.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_41\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.error('Password must be longer than four characters');\nprogram.error('Custom processing has failed', { exitCode: 2, code: 'my.custom.error' });\n```\n\n----------------------------------------\n\nTITLE: Adding Yarn resolutions to package.json in Bun\nDESCRIPTION: Example of adding Yarn's \"resolutions\" field to package.json. This is Yarn's alternative to npm's \"overrides\" and serves the same purpose - pinning the version of \"bar\" to \"~4.4.0\" for compatibility or security reasons.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/overrides.md#2025-04-22_snippet_3\n\nLANGUAGE: json-diff\nCODE:\n```\n  {\n    \"name\": \"my-app\",\n    \"dependencies\": {\n      \"foo\": \"^2.0.0\"\n    },\n+   \"resolutions\": {\n+     \"bar\": \"~4.4.0\"\n+   }\n  }\n```\n\n----------------------------------------\n\nTITLE: Glob Class Interface Definition\nDESCRIPTION: Defines the TypeScript interface for Bun's Glob class including scan methods and options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nclass Glob {\n  scan(root: string | ScanOptions): AsyncIterable<string>;\n  scanSync(root: string | ScanOptions): Iterable<string>;\n\n  match(path: string): boolean;\n}\n\ninterface ScanOptions {\n  /**\n   * The root directory to start matching from. Defaults to `process.cwd()`\n   */\n  cwd?: string;\n\n  /**\n   * Allow patterns to match entries that begin with a period (`.`).\n   *\n   * @default false\n   */\n  dot?: boolean;\n\n  /**\n   * Return the absolute path for entries.\n   *\n   * @default false\n   */\n  absolute?: boolean;\n\n  /**\n   * Indicates whether to traverse descendants of symbolic link directories.\n   *\n   * @default false\n   */\n  followSymlinks?: boolean;\n\n  /**\n   * Throw an error when symbolic link is broken\n   *\n   * @default false\n   */\n  throwErrorOnBrokenSymlink?: boolean;\n\n  /**\n   * Return only files.\n   *\n   * @default true\n   */\n  onlyFiles?: boolean;\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Multiple Arguments Using .arguments() Method\nDESCRIPTION: Shows a shorthand for defining multiple arguments at once using the .arguments() method, though this approach doesn't allow for adding descriptions to the arguments.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .arguments('<username> <password>');\n```\n\n----------------------------------------\n\nTITLE: Measuring String Width in Terminal - Bun - TypeScript\nDESCRIPTION: This snippet demonstrates using Bun.stringWidth to determine the terminal column width of various strings, including those with ANSI escape codes. The function optionally counts ANSI codes and supports options for emoji width. No dependencies other than Bun are required. Inputs are strings (with optional configuration); outputs are numeric widths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_9\n\nLANGUAGE: TypeScript\nCODE:\n```\nBun.stringWidth(\"hello\"); // => 5\nBun.stringWidth(\"\\u001b[31mhello\\u001b[0m\"); // => 5\nBun.stringWidth(\"\\u001b[31mhello\\u001b[0m\", { countAnsiEscapeCodes: true }); // => 12\n```\n\n----------------------------------------\n\nTITLE: Executing Bun Spawn Benchmark Script in Bash\nDESCRIPTION: Shows the execution and output of a benchmark script (`spawn.mjs`) using Bun (version 1.x) on an Apple M1 Max processor. It measures the performance of `spawnSync echo hi`, reporting an average time of 888.14 µs per iteration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\n$ bun spawn.mjs\ncpu: Apple M1 Max\nruntime: bun 1.x (arm64-darwin)\n\nbenchmark              time (avg)             (min … max)       p75       p99      p995\n--------------------------------------------------------- -----------------------------\nspawnSync echo hi  888.14 µs/iter    (821.83 µs … 1.2 ms) 905.92 µs      1 ms   1.03 ms\n```\n\n----------------------------------------\n\nTITLE: Running Bun Debug Binary\nDESCRIPTION: Example of how to run `bun-debug` in the terminal after adding `./build/debug` to the `$PATH`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_18\n\nLANGUAGE: sh\nCODE:\n```\n$ bun-debug\n```\n\n----------------------------------------\n\nTITLE: System UI Font Implementation\nDESCRIPTION: Demonstrates usage of system-ui font family and how Bun expands it to a comprehensive cross-platform font stack.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_26\n\nLANGUAGE: css\nCODE:\n```\n.native-interface {\n  font-family: system-ui;\n}\n\n.fallback-aware {\n  font-family: system-ui, sans-serif;\n}\n```\n\nLANGUAGE: css\nCODE:\n```\n.native-interface {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Noto Sans\", Ubuntu, Cantarell, \"Helvetica Neue\";\n}\n\n.fallback-aware {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Noto Sans\", Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies Without Creating Lockfile in Bun\nDESCRIPTION: Installs dependencies without creating or updating a lockfile by using the --no-save flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/lockfile.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun install --no-save\n```\n\n----------------------------------------\n\nTITLE: Running CSS HMR Frame Time Measurement Script for Next.js\nDESCRIPTION: This command executes a Node.js script to measure CSS Hot Module Replacement (HMR) frame times in a Next.js project. It sets environment variables for sleep interval and project name before running the script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/next.latest.8ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: Shell\nCODE:\n```\nSLEEP_INTERVAL=8 PROJECT=next node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun install behavior in bunfig.toml\nDESCRIPTION: TOML configuration for setting default behavior of 'bun install', including handling of different dependency types and various installation options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[install]\n\n# whether to install optionalDependencies\noptional = true\n\n# whether to install devDependencies\ndev = true\n\n# whether to install peerDependencies\npeer = true\n\n# equivalent to `--production` flag\nproduction = false\n\n# equivalent to `--save-text-lockfile` flag\nsaveTextLockfile = false\n\n# equivalent to `--frozen-lockfile` flag\nfrozenLockfile = false\n\n# equivalent to `--dry-run` flag\ndryRun = false\n\n# equivalent to `--concurrent-scripts` flag\nconcurrentScripts = 16 # (cpu count or GOMAXPROCS) x2\n```\n\n----------------------------------------\n\nTITLE: Bun CLI Commands for Various Operations\nDESCRIPTION: Showcases various Bun CLI commands for common operations such as running scripts, installing packages, building projects, running tests, and executing packages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/index.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run start                 # run the `start` script\n$ bun install <pkg>             # install a package\n$ bun build ./index.tsx         # bundle a project for browsers\n$ bun test                      # run tests\n$ bunx cowsay 'Hello, world!'   # execute a package\n```\n\n----------------------------------------\n\nTITLE: Loader Configuration Comparison\nDESCRIPTION: Illustrates the difference in loader configuration syntax between esbuild and Bun. Shows how to set up SVG files to use the text loader.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ esbuild app.ts --bundle --loader:.svg=text\n$ bun build app.ts --loader .svg:text\n```\n\n----------------------------------------\n\nTITLE: Upgrading Bun\nDESCRIPTION: Commands for upgrading Bun to the latest stable version or canary build.\nSOURCE: https://github.com/oven-sh/bun/blob/main/README.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nbun upgrade\n\nbun upgrade --canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Testing Library Setup\nDESCRIPTION: TypeScript setup file to extend Bun's expect function with Testing Library matchers and configure cleanup after each test.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/testing-library.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { afterEach, expect } from 'bun:test';\nimport { cleanup } from '@testing-library/react';\nimport * as matchers from '@testing-library/jest-dom/matchers';\n\nexpect.extend(matchers);\n\n// Optional: cleans up `render` after each test\nafterEach(() => {\n  cleanup();\n});\n```\n\n----------------------------------------\n\nTITLE: Getting Bun Git Revision in TypeScript\nDESCRIPTION: Retrieves the git commit hash of the oven-sh/bun repository that was used to compile the current Bun binary. Returns a full SHA-1 hash as a string.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/util/version.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nBun.revision; // => \"49231b2cb9aa48497ab966fc0bb6b742dacc4994\"\n```\n\n----------------------------------------\n\nTITLE: Bun's second optimization step: Constant folding\nDESCRIPTION: This diff demonstrates Bun's constant folding optimization, where the equality check is replaced with a boolean true.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_3\n\nLANGUAGE: ts-diff\nCODE:\n```\n+ if (true) {\n    console.log(\"Production mode\");\n  } else {\n    console.log(\"Development mode\");\n  }\n```\n\n----------------------------------------\n\nTITLE: Installing Global Packages with Bun\nDESCRIPTION: Commands for installing packages globally and example output of a globally installed package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/add.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun add --global cowsay # or `bun add -g cowsay`\n$ cowsay \"Bun!\"\n ______\n< Bun! >\n ------\n        \\   ^__^\n         \\  (oo)\\_______\n            (__)\\       )\\/\\\n                ||----w |\n                ||     ||\n```\n\n----------------------------------------\n\nTITLE: Hijacking and Redirecting Stdout in Node.js Tests\nDESCRIPTION: Example showing how to temporarily redirect and capture stdout output using the hijackstdio module. The hijacked listener receives data written to console.log, and stdout can be restored to its original state afterward.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nconst { hijackStdout, restoreStdout } = require('../common/hijackstdio');\n\nhijackStdout((data) => {\n  /* Do something with data */\n  restoreStdout();\n});\n\nconsole.log('this is sent to the hijacked listener');\n```\n\n----------------------------------------\n\nTITLE: Configuring Package Management for Bun Project\nDESCRIPTION: This snippet defines the package management configuration for the Bun project. It specifies the package manager (bun), private status, and workspaces.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/fs/writeFileSync.txt#2025-04-22_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"packageManager\": \"bun@1.0.26\",\n  \"private\": true,\n  \"workspaces\": [\n    \"bench\",\n    \"packages/*\"\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Defining a Basic Bun Plugin Structure in TypeScript\nDESCRIPTION: This TypeScript snippet defines the basic structure for a Bun plugin. It imports the `BunPlugin` type and defines a constant `myPlugin` with a `name` and a `setup` function. The `setup` function receives a `builder` object used to hook into the build process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/vs-esbuild.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n```ts\nimport type { BunPlugin } from \"bun\";\n\nconst myPlugin: BunPlugin = {\n  name: \"my-plugin\",\n  setup(builder) {\n    // define plugin\n  },\n};\n```\n```\n\n----------------------------------------\n\nTITLE: Starting Bun Dev Server for Svelte\nDESCRIPTION: Command to start the Bun development server with Svelte plugin integration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-svelte/README.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n$ bun index.html\n```\n\n----------------------------------------\n\nTITLE: Configuring Test Memory Mode in Bun\nDESCRIPTION: Enables small memory mode specifically for the test runner. Reduces memory usage at the cost of performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_9\n\nLANGUAGE: toml\nCODE:\n```\n[test]\nsmol = true\n```\n\n----------------------------------------\n\nTITLE: Writing Regression Tests for GitHub Issues\nDESCRIPTION: An example of writing a regression test for a specific GitHub issue. It demonstrates testing regex functionality with non-Latin1 characters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/README.md#2025-04-22_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// test/regression/issue/02005.test.ts\n\nimport { it, expect } from \"bun:test\";\n\nit(\"regex literal should work with non-latin1\", () => {\n  const text = \"这是一段要替换的文字\";\n  expect(text.replace(new RegExp(\"要替换\"), \"\")).toBe(\"这是一段的文字\");\n  expect(text.replace(/要替换/, \"\")).toBe(\"这是一段的文字\");\n});\n```\n\n----------------------------------------\n\nTITLE: Using Raw Strings in Bun Shell Commands\nDESCRIPTION: Shows how to use raw strings in Bun Shell commands to prevent automatic escaping. This is done by wrapping the string in a { raw: 'str' } object.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/shell.md#2025-04-22_snippet_21\n\nLANGUAGE: javascript\nCODE:\n```\nimport { $ } from \"bun\";\n\nawait $`echo ${{ raw: '$(foo) `bar` \"baz\"' }}`;\n// => bun: command not found: foo\n// => bun: command not found: bar\n// => baz\n```\n\n----------------------------------------\n\nTITLE: Decompressing data with Bun.gunzipSync() in TypeScript\nDESCRIPTION: Shows how to decompress a previously compressed Uint8Array using zlib's GUNZIP algorithm. The example demonstrates the full compression and decompression cycle, recovering the original text.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/utils.md#2025-04-22_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nconst buf = Buffer.from(\"hello\".repeat(100)); // Buffer extends Uint8Array\nconst compressed = Bun.gzipSync(buf);\n\nconst dec = new TextDecoder();\nconst uncompressed = Bun.gunzipSync(compressed);\ndec.decode(uncompressed);\n// => \"hellohellohello...\"\n```\n\n----------------------------------------\n\nTITLE: Installing Development Dependencies with Scoop\nDESCRIPTION: Installs Scoop package manager and required development tools including Node.js, Go, Rust, NASM, Ruby, Perl, Ccache and LLVM.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_3\n\nLANGUAGE: powershell\nCODE:\n```\nirm https://get.scoop.sh | iex\nscoop install nodejs-lts go rust nasm ruby perl ccache\n# scoop seems to be buggy if you install llvm and the rest at the same time\nscoop install llvm@19.1.7\n```\n\n----------------------------------------\n\nTITLE: Setting Default Registry in .npmrc for Bun\nDESCRIPTION: Sets the default NPM registry URL in .npmrc configuration file. This determines where Bun will look to resolve packages. The default is npm's official registry at https://registry.npmjs.org/.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/npmrc.md#2025-04-22_snippet_0\n\nLANGUAGE: ini\nCODE:\n```\nregistry=http://localhost:4873/\n```\n\n----------------------------------------\n\nTITLE: Installing Bun using npm\nDESCRIPTION: This snippet demonstrates how to install Bun globally using npm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/installation.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ npm install -g bun # the last `npm` command you'll ever need\n```\n\n----------------------------------------\n\nTITLE: Install Xcode Command Line Tools\nDESCRIPTION: This command installs the Xcode Command Line Tools, which provide essential development tools and libraries for macOS. It's required to resolve errors related to missing system libraries during compilation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_31\n\nLANGUAGE: bash\nCODE:\n```\n$ xcode-select --install\n```\n\n----------------------------------------\n\nTITLE: Using escapePOSIXShell Template Literal for Shell Command Escaping\nDESCRIPTION: Demonstrates how to use the escapePOSIXShell tagged template literal function to safely escape shell commands for cross-platform compatibility. Shows both basic usage and advanced options with environment variables.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst { escapePOSIXShell } = require('../common');\nconst fixtures = require('../common/fixtures');\nconst { execSync } = require('node:child_process');\nconst origin = fixtures.path('origin');\nconst destination = fixtures.path('destination');\n\nexecSync(...escapePOSIXShell`cp \"${origin}\" \"${destination}\"`);\n\n// When you need to specify specific options, and/or additional env variables:\nconst [cmd, opts] = escapePOSIXShell`cp \"${origin}\" \"${destination}\"`;\nconsole.log(typeof cmd === 'string'); // true\nconsole.log(opts === undefined || typeof opts.env === 'object'); // true\nexecSync(cmd, { ...opts, stdio: 'ignore' });\nexecSync(cmd, { stdio: 'ignore', env: { ...opts?.env, KEY: 'value' } });\n```\n\n----------------------------------------\n\nTITLE: Running Benchmark in Node.js\nDESCRIPTION: Command to execute the benchmark script using the Node.js runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/postgres/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnode index.mjs\n```\n\n----------------------------------------\n\nTITLE: Creating a Method Spy in Bun Tests\nDESCRIPTION: Demonstrates how to create a basic spy on an object's method using Bun's spyOn utility. Shows setup of a test object and creation of a spy to track method calls.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/spy-on.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { test, expect, spyOn } from \"bun:test\";\n\nconst leo = {\n  name: \"Leonardo\",\n  sayHi(thing: string) {\n    console.log(`Sup I'm ${this.name} and I like ${thing}`);\n  },\n};\n\nconst spy = spyOn(leo, \"sayHi\");\n```\n\n----------------------------------------\n\nTITLE: Rendering Button Component in MDX with onClick Handler\nDESCRIPTION: A JSX Button component with an onClick handler that displays an alert. This demonstrates how React components can be embedded directly within MDX content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/input/page1.mdx#2025-04-22_snippet_0\n\nLANGUAGE: JSX\nCODE:\n```\n<Button onClick={() => alert(\"Hello!\")}>Click me</Button>\n```\n\n----------------------------------------\n\nTITLE: Configuring Bun Project Version and Options\nDESCRIPTION: Parses the package.json file for version information, sets up project options, and configures compiler flags.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_4\n\nLANGUAGE: CMake\nCODE:\n```\nparse_package_json(VERSION_VARIABLE DEFAULT_VERSION)\noptionx(VERSION STRING \"The version of Bun\" DEFAULT ${DEFAULT_VERSION})\nproject(Bun VERSION ${VERSION})\ninclude(Options)\ninclude(CompilerFlags)\n```\n\n----------------------------------------\n\nTITLE: Reinstalling ccache (macOS)\nDESCRIPTION: These commands reinstall ccache using Homebrew. It resolves issues with ccache conflicting with building TinyCC on macOS.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_35\n\nLANGUAGE: bash\nCODE:\n```\nbrew uninstall ccache\nbrew install ccache\n```\n\n----------------------------------------\n\nTITLE: Installing Visual Studio with WinGet\nDESCRIPTION: Installs Visual Studio Community 2022 with C++ desktop development workload and Git using WinGet package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_2\n\nLANGUAGE: powershell\nCODE:\n```\nwinget install \"Visual Studio Community 2022\" --override \"--add Microsoft.VisualStudio.Workload.NativeDesktop Microsoft.VisualStudio.Component.Git \" -s msstore\n```\n\n----------------------------------------\n\nTITLE: Equivalent CSS Without Composition\nDESCRIPTION: Shows the equivalent CSS that would be generated from the composition example. This demonstrates how the composes property effectively copies properties from one class to another.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_29\n\nLANGUAGE: css\nCODE:\n```\n.button {\n  background-color: blue;\n  color: red;\n}\n\n.background {\n  background-color: blue;\n}\n```\n\n----------------------------------------\n\nTITLE: Running Bun Tests in Watch Mode\nDESCRIPTION: Command to run Bun tests in --watch mode, which will automatically re-run tests when any imported files change.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/hot.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ bun --watch test\n```\n\n----------------------------------------\n\nTITLE: Incremental Writing to Child Process Input Stream in TypeScript\nDESCRIPTION: Shows how to incrementally write to a child process's input stream using the 'pipe' option.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/spawn.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst proc = Bun.spawn([\"cat\"], {\n  stdin: \"pipe\", // return a FileSink for writing\n});\n\n// enqueue string data\nproc.stdin.write(\"hello\");\n\n// enqueue binary data\nconst enc = new TextEncoder();\nproc.stdin.write(enc.encode(\" world!\"));\n\n// send buffered data\nproc.stdin.flush();\n\n// close the input stream\nproc.stdin.end();\n```\n\n----------------------------------------\n\nTITLE: Showing Bun 'outdated' Command Usage Example - Markdown\nDESCRIPTION: This snippet uses a special Markdown directive to embed the usage for the 'outdated' command of Bun CLI. It likely renders the CLI help or summary within the documentation. Relies on Bun's custom Markdown rendering pipeline.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_8\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunCLIUsage command=\"outdated\" /%}\n```\n\n----------------------------------------\n\nTITLE: Running Express Server in Node.js Runtime\nDESCRIPTION: Command to start the Express.js server using the Node.js runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/express/README.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnode ./express.mjs\n```\n\n----------------------------------------\n\nTITLE: Verifying App Functionality with Different Package Managers\nDESCRIPTION: These commands demonstrate how to start the development server using different package managers (Bun, npm, Yarn, pnpm) to verify that the app is working correctly after installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/install/README.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run dev\n$ npm run dev\n$ yarn dev\n$ pnpm dev\n```\n\n----------------------------------------\n\nTITLE: Using s3:// Protocol with fetch and Bun.file\nDESCRIPTION: Examples of using the s3:// protocol with fetch and Bun.file for seamless integration with S3 storage.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_32\n\nLANGUAGE: typescript\nCODE:\n```\nconst response = await fetch(\"s3://my-bucket/my-file.txt\", {\n  s3: {\n    accessKeyId: \"your-access-key\",\n    secretAccessKey: \"your-secret-key\",\n    endpoint: \"https://s3.us-east-1.amazonaws.com\",\n  },\n  headers: {\n    \"range\": \"bytes=0-1023\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Event Loop Management (us_loop_t) Implementation in C\nDESCRIPTION: Core event loop functionality for managing thread resources and callbacks. Provides creation, destruction, execution and thread-safe wakeup capabilities.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-usockets/misc/manual.md#2025-04-22_snippet_0\n\nLANGUAGE: c\nCODE:\n```\nWIN32_EXPORT struct us_loop_t *us_create_loop(void *hint, void (*wakeup_cb)(struct us_loop_t *loop), void (*pre_cb)(struct us_loop_t *loop), void (*post_cb)(struct us_loop_t *loop), unsigned int ext_size);\n\nWIN32_EXPORT void us_loop_free(struct us_loop_t *loop);\n\nWIN32_EXPORT void *us_loop_ext(struct us_loop_t *loop);\n\nWIN32_EXPORT void us_loop_run(struct us_loop_t *loop);\n\nWIN32_EXPORT void us_wakeup_loop(struct us_loop_t *loop);\n\nWIN32_EXPORT void us_loop_integrate(struct us_loop_t *loop);\n\nWIN32_EXPORT long long us_loop_iteration_number(struct us_loop_t *loop);\n```\n\n----------------------------------------\n\nTITLE: Configuring Build Conditions Programmatically\nDESCRIPTION: Example of using conditions programmatically with Bun.build API to specify package resolution conditions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/modules.md#2025-04-22_snippet_17\n\nLANGUAGE: js\nCODE:\n```\nawait Bun.build({\n  conditions: [\"react-server\"],\n  target: \"bun\",\n  entryPoints: [\"./app/foo/route.js\"],\n});\n```\n\n----------------------------------------\n\nTITLE: Pattern Set Glob Matching\nDESCRIPTION: Example of using pattern sets with multiple options in glob patterns.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/glob.md#2025-04-22_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nconst glob = new Glob(\"{a,b,c}.ts\");\nglob.match(\"a.ts\"); // => true\nglob.match(\"b.ts\"); // => true\nglob.match(\"c.ts\"); // => true\nglob.match(\"d.ts\"); // => false\n```\n\n----------------------------------------\n\nTITLE: Reading from Standard Input in Bun\nDESCRIPTION: A simple TypeScript example showing how to read input from standard input (stdin) in Bun using the console object with an async iterator.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nfor await (const line of console) {\n  // line of text from stdin\n  console.log(line);\n}\n```\n\n----------------------------------------\n\nTITLE: Displaying Benchmark Results in Markdown Table\nDESCRIPTION: A markdown table showing the 'real' time results of the benchmark for each bundler, as run on a 16-inch M1 Macbook Pro.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/bundle/README.md#2025-04-22_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n| Bundler | Time   |\n| ------- | ------ |\n| Bun     | 0.17s  |\n| esbuild | 0.33s  |\n| Rollup  | 18.82s |\n| Webpack | 26.21  |\n| Parcel  | 17.95s |\n```\n\n----------------------------------------\n\nTITLE: Implementing Bun Plugin in Rust\nDESCRIPTION: Example of implementing an onBeforeParse hook in Rust that replaces 'foo' with 'bar' in source code\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_1\n\nLANGUAGE: rust\nCODE:\n```\nuse bun_native_plugin::{define_bun_plugin, OnBeforeParse, bun, Result, anyhow, BunLoader};\nuse napi_derive::napi;\n\n/// Define the plugin and its name\ndefine_bun_plugin!(\"replace-foo-with-bar\");\n\n/// Here we'll implement `onBeforeParse` with code that replaces all occurrences of\n/// `foo` with `bar`.\n///\n/// We use the #[bun] macro to generate some of the boilerplate code.\n///\n/// The argument of the function (`handle: &mut OnBeforeParse`) tells\n/// the macro that this function implements the `onBeforeParse` hook.\n#[bun]\npub fn replace_foo_with_bar(handle: &mut OnBeforeParse) -> Result<()> {\n  // Fetch the input source code.\n  let input_source_code = handle.input_source_code()?;\n\n  // Get the Loader for the file\n  let loader = handle.output_loader();\n\n\n  let output_source_code = input_source_code.replace(\"foo\", \"bar\");\n\n  handle.set_output_source_code(output_source_code, BunLoader::BUN_LOADER_JSX);\n\n  Ok(())\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Checks with onAfterBundle in Bun Build Tests\nDESCRIPTION: Shows how to use the onAfterBundle callback to perform custom checks on the bundled output, such as verifying that certain keywords have been replaced.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nitBundled(\"default/ThisOutsideFunctionRenamedToExports\", {\n  files: {\n    \"/entry.js\": /* js */ `\n      console.log(this)\n      console.log((x = this) => this)\n      console.log({x: this})\n      console.log(class extends this.foo {})\n      console.log(class { [this.foo] })\n      console.log(class { [this.foo]() {} })\n      console.log(class { static [this.foo] })\n      console.log(class { static [this.foo]() {} })\n    `,\n  },\n  onAfterBundle(api) {\n    if (api.readFile(\"/out.js\").includes(\"this\")) {\n      throw new Error(\"All cases of `this` should have been rewritten to `exports`\");\n    }\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Running File Upload Benchmark in Node.js Environment\nDESCRIPTION: Command to execute the file upload benchmark using the Node.js runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/stream-file-upload-client/README.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nnode stream-file-node.mjs\n```\n\n----------------------------------------\n\nTITLE: Reading Files from S3 in Various Formats\nDESCRIPTION: Demonstrates different methods to read files from S3, including as text, JSON, ArrayBuffer, slices, and streams. These methods are similar to the fetch Response and Blob APIs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// Read an S3File as text\nconst text = await s3file.text();\n\n// Read an S3File as JSON\nconst json = await s3file.json();\n\n// Read an S3File as an ArrayBuffer\nconst buffer = await s3file.arrayBuffer();\n\n// Get only the first 1024 bytes\nconst partial = await s3file.slice(0, 1024).text();\n\n// Stream the file\nconst stream = s3file.stream();\nfor await (const chunk of stream) {\n  console.log(chunk);\n}\n```\n\n----------------------------------------\n\nTITLE: Building for Production\nDESCRIPTION: Command to create a production build in the dist folder, with optimized bundling and minification for best performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/third_party/pnpm/install_fixture/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Package Managers\nDESCRIPTION: Command to install project dependencies using npm, pnpm, or yarn package managers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/third_party/pnpm/install_fixture/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm install # or pnpm install or yarn install\n```\n\n----------------------------------------\n\nTITLE: Install LLVM 19 on Ubuntu/Debian\nDESCRIPTION: This command uses the LLVM automatic installation script to install LLVM version 19 on Ubuntu or Debian systems. It downloads and executes the script, which installs the specified version.  The script requires `sudo` privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n$ # LLVM has an automatic installation script that is compatible with all versions of Ubuntu\n$ wget https://apt.llvm.org/llvm.sh -O - | sudo bash -s -- 19 all\n```\n\n----------------------------------------\n\nTITLE: Reading Basic Text Content\nDESCRIPTION: A simple text file containing a greeting message showing input file read functionality\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/wasi/subdir/input_link.txt#2025-04-22_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nhello from input.txt\n```\n\n----------------------------------------\n\nTITLE: S3File Interface Definition - TypeScript\nDESCRIPTION: Defines the S3File interface extending Blob, documenting available methods for partial reads, existence check, unlink/delete, presign, reading as text/json/bytes, streaming, writing, and getting statistics. S3File methods support both synchronous and asynchronous usage; network-related methods are async. The interface informs advanced users about available operations and method signatures when interacting with S3 objects via Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/s3.md#2025-04-22_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\ninterface S3File extends Blob {\n  slice(start: number, end?: number): S3File;\n  exists(): Promise<boolean>;\n  unlink(): Promise<void>;\n  presign(options: S3Options): string;\n  text(): Promise<string>;\n  json(): Promise<any>;\n  bytes(): Promise<Uint8Array>;\n  arrayBuffer(): Promise<ArrayBuffer>;\n  stream(options: S3Options): ReadableStream;\n  write(\n    data:\n      | string\n      | Uint8Array\n      | ArrayBuffer\n      | Blob\n      | ReadableStream\n      | Response\n      | Request,\n    options?: BlobPropertyBag,\n  ): Promise<number>;\n\n  exists(options?: S3Options): Promise<boolean>;\n  unlink(options?: S3Options): Promise<void>;\n  delete(options?: S3Options): Promise<void>;\n  presign(options?: S3Options): string;\n\n  stat(options?: S3Options): Promise<S3Stat>;\n  /**\n   * Size is not synchronously available because it requires a network request.\n   *\n   * @deprecated Use `stat()` instead.\n   */\n  size: NaN;\n\n  // ... more omitted for brevity\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Buffer from Array - Static Method Definition\nDESCRIPTION: Static method signature for Buffer.from() that accepts an array parameter and converts it to a buffer. The method takes an array as input and returns a new Buffer instance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/order_of_end_tags_5873.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nstatic method: Buffer.from(array)\n```\n\n----------------------------------------\n\nTITLE: Disabling Spelling Suggestions After Errors in Commander.js\nDESCRIPTION: This code demonstrates how to disable the automatic spelling suggestion feature that appears after a user enters an unknown command or option.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_28\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.showSuggestionAfterError(false);\n```\n\n----------------------------------------\n\nTITLE: Verifying Bun Installation\nDESCRIPTION: Checks the Bun installation by displaying the version revision number.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/building-windows.md#2025-04-22_snippet_6\n\nLANGUAGE: powershell\nCODE:\n```\n.\\build\\debug\\bun-debug.exe --revision\n```\n\n----------------------------------------\n\nTITLE: Declaring Internal Types for 'bun' Module\nDESCRIPTION: This snippet shows how to declare internal types that shouldn't be exposed to users. It uses the __internal namespace to encapsulate these types within the 'bun' module declaration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/authoring.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"bun\" {\n  namespace __internal {\n    interface MyInternalType {\n      // ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running TypeScript with Bun CLI\nDESCRIPTION: Demonstrates the basic usage of Bun runtime to execute TypeScript/JSX files directly without additional configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun run index.tsx\n```\n\n----------------------------------------\n\nTITLE: Automated Help Output for Commander.js Applications\nDESCRIPTION: Shows the console output of the automated help generated by Commander.js. The help is based on the command structure, options, and descriptions defined in the application.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_23\n\nLANGUAGE: console\nCODE:\n```\n$ node ./examples/pizza --help\nUsage: pizza [options]\n\nAn application for pizza ordering\n\nOptions:\n  -p, --peppers        Add peppers\n  -c, --cheese <type>  Add the specified type of cheese (default: \"marble\")\n  -C, --no-cheese      You do not want any cheese\n  -h, --help           display help for command\n```\n\n----------------------------------------\n\nTITLE: Including CMake Modules for Bun Project\nDESCRIPTION: Includes necessary CMake modules for policies and global settings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_1\n\nLANGUAGE: CMake\nCODE:\n```\ninclude(Policies)\ninclude(Globals)\n```\n\n----------------------------------------\n\nTITLE: Initializing a Nuxt Application with Bun\nDESCRIPTION: This command initializes a new Nuxt application using the official nuxi CLI tool and selects Bun as the package manager. It creates the project structure and installs all required dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/nuxt.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n$ bunx nuxi init my-nuxt-app\n✔ Which package manager would you like to use?\nbun\n◐ Installing dependencies...\nbun install v$BUN_LATEST_VERSION (16b4bf34)\n + @nuxt/devtools@0.8.2\n + nuxt@3.7.0\n 785 packages installed [2.67s]\n✔ Installation completed.\n✔ Types generated in .nuxt\n✨ Nuxt project has been created with the v3 template. Next steps:\n › cd my-nuxt-app\n › Start development server with bun run dev\n```\n\n----------------------------------------\n\nTITLE: Example Entry Point Import - entry-a.ts - TypeScript\nDESCRIPTION: Represents a TypeScript entrypoint file importing a shared module. This example helps illustrate how code splitting works when multiple entrypoints import common dependencies. No external dependencies other than './shared.ts'. Expects './shared.ts' in the same directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_27\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { shared } from './shared.ts';\n```\n\n----------------------------------------\n\nTITLE: Incorrect Placement of --bun Flag with bunx (Shell - bash)\nDESCRIPTION: Demonstrates an incorrect usage of bunx where the '--bun' flag is placed after the executable name, causing it to be passed as an argument to the CLI instead of affecting bunx behavior. Useful for highlighting command syntax constraints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bunx.md#2025-04-22_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n$ bunx my-cli --bun\n```\n\n----------------------------------------\n\nTITLE: Example TypeScript code before property replacement\nDESCRIPTION: This TypeScript snippet shows the use of console.write before the --define transformation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/define-constant.md#2025-04-22_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nconsole.write(\"Hello, world!\");\n```\n\n----------------------------------------\n\nTITLE: Implementing HTTP Event Handler for Bun Lambda Function\nDESCRIPTION: Example of a Bun Lambda function that handles HTTP events from API Gateway, demonstrating the use of Request and Response objects.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-lambda/README.md#2025-04-22_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nexport default {\n  async fetch(request: Request): Promise<Response> {\n    console.log(request.headers.get(\"x-amzn-function-arn\"));\n    // ...\n    return new Response(\"Hello from Lambda!\", {\n      status: 200,\n      headers: {\n        \"Content-Type\": \"text/plain\",\n      },\n    });\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Using globalThis in Bun Build Tests\nDESCRIPTION: Demonstrates how to use globalThis to define additional variables for testing in a Bun build scenario, particularly useful for testing minified bundles.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/bundler/expectBundled.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nitBundled(\"default/MinifiedBundleEndingWithImportantSemicolon\", {\n  files: {\n    \"/entry.js\": `while(foo()); // This semicolon must not be stripped`,\n    \"/test.js\": /* js */ `\n      let i = 0;\n      globalThis.foo = () => {\n        console.log(i++);\n        return i === 1;\n      };\n      await import('./out.js')\n    `,\n  },\n  minifyWhitespace: true,\n  format: \"iife\",\n  run: {\n    file: \"/test.js\",\n    stdout: \"0\\n1\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Basic HTML Page Structure with CSS Styling\nDESCRIPTION: Complete HTML template including responsive CSS styles for a simple example domain page. Features a centered content div with shadow effects and mobile-responsive layout.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/fetch/fetch.js.txt#2025-04-22_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <style type=\"text/css\">\n    body {\n        background-color: #f0f0f2;\n        margin: 0;\n        padding: 0;\n        font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n        \n    }\n    div {\n        width: 600px;\n        margin: 5em auto;\n        padding: 2em;\n        background-color: #fdfdff;\n        border-radius: 0.5em;\n        box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);\n    }\n    a:link, a:visited {\n        color: #38488f;\n        text-decoration: none;\n    }\n    @media (max-width: 700px) {\n        div {\n            margin: 0 auto;\n            width: auto;\n        }\n    }\n    </style>    \n</head>\n\n<body>\n<div>\n    <h1>Example Domain</h1>\n    <p>This domain is for use in illustrative examples in documents. You may use this\n    domain in literature without prior coordination or asking for permission.</p>\n    <p><a href=\"https://www.iana.org/domains/example\">More information...</a></p>\n</div>\n</body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Implementing a Simple Addition Function in Zig for Bun\nDESCRIPTION: Demonstrates how to implement a simple addition function in Zig that can be exposed to JavaScript through Bun's binding system. The function handles integer overflow and throws an error if it occurs.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/bindgen.md#2025-04-22_snippet_0\n\nLANGUAGE: zig\nCODE:\n```\npub fn add(global: *JSC.JSGlobalObject, a: i32, b: i32) !i32 {\n    return std.math.add(i32, a, b) catch {\n        // Binding functions can return `error.OutOfMemory` and `error.JSError`.\n        // Others like `error.Overflow` from `std.math.add` must be converted.\n        // Remember to be descriptive.\n        return global.throwPretty(\"Integer overflow while adding\", .{});\n    };\n}\n\nconst gen = bun.gen.math; // \"math\" being this file's basename\n\nconst std = @import(\"std\");\nconst bun = @import(\"bun\");\nconst JSC = bun.JSC;\n```\n\n----------------------------------------\n\nTITLE: Self-signed Certificate Files for HTTPS Testing\nDESCRIPTION: A collection of certificate files and configuration used for testing HTTPS functionality in Bun, specifically focusing on certificates without keyCertSign bit. The test verifies that Bun handles these certificates correctly without crashing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/keys/selfsigned-no-keycertsign/README.md#2025-04-22_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\ncert.pem - Self-signed certificate without keyCertSign bit\nkey.pem - Private key for the certificate\ncert.conf - Certificate configuration file\nhttps_renew_cert.sh - Script to generate new certificates\n```\n\n----------------------------------------\n\nTITLE: Advanced Option Configuration in JavaScript\nDESCRIPTION: Demonstrates advanced option configurations including hidden options, defaults, choices, environment variables, and option conflicts using the Option class.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .addOption(new Option('-s, --secret').hideHelp())\n  .addOption(new Option('-t, --timeout <delay>', 'timeout in seconds').default(60, 'one minute'))\n  .addOption(new Option('-d, --drink <size>', 'drink size').choices(['small', 'medium', 'large']))\n  .addOption(new Option('-p, --port <number>', 'port number').env('PORT'))\n  .addOption(new Option('--donate [amount]', 'optional donation in dollars').preset('20').argParser(parseFloat))\n  .addOption(new Option('--disable-server', 'disables the server').conflicts('port'))\n  .addOption(new Option('--free-drink', 'small drink included free ').implies({ drink: 'small' }));\n```\n\n----------------------------------------\n\nTITLE: Using tick function from tick module\nDESCRIPTION: Calls a callback function after a specified number of event loop ticks. Takes the number of ticks and a callback function as parameters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_22\n\nLANGUAGE: JavaScript\nCODE:\n```\ntick(x, cb)\n```\n\n----------------------------------------\n\nTITLE: Defining SVG Project Icon for Search Suggestions\nDESCRIPTION: This SVG snippet defines the standard GitHub project icon. It is embedded within the search suggestions template (`js-jump-to-suggestions-template-container`), intended to visually represent project results in the jump-to dropdown. It uses path elements with `fill-rule=\"evenodd\"` to draw the board-like icon.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_5\n\nLANGUAGE: svg\nCODE:\n```\n<svg height=\"16\" width=\"16\" class=\"octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none\" title=\"Project\" aria-label=\"Project\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Options Configuration Example\nDESCRIPTION: Example showing how to configure common option types including boolean flags and value options\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-d, --debug', 'output extra debugging')\n  .option('-s, --small', 'small pizza size')\n  .option('-p, --pizza-type <type>', 'flavour of pizza');\n\nprogram.parse(process.argv);\n\nconst options = program.opts();\nif (options.debug) console.log(options);\nconsole.log('pizza details:');\nif (options.small) console.log('- small pizza size');\nif (options.pizzaType) console.log(`- ${options.pizzaType}`);\n```\n\n----------------------------------------\n\nTITLE: JSX Output with Custom Import Source - React JSX\nDESCRIPTION: Transpiled output when using a custom import source with react-jsx, showing how the jsx function is imported from the specified package's jsx-runtime module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\nimport { jsx } from \"preact/jsx-runtime\";\njsx(\"Box\", { width: 5, children: \"Hello\" });\n```\n\n----------------------------------------\n\nTITLE: Customizing Help Command in Commander.js\nDESCRIPTION: This demonstrates how to customize the implicit help command that is automatically added when a command has subcommands. You can specify custom name and description.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_35\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.addHelpCommand('assist [command]', 'show assistance');\n```\n\n----------------------------------------\n\nTITLE: Bun CSS Hot Reload Performance Metrics\nDESCRIPTION: Performance metrics showing frame time percentiles and rendered frame statistics for Bun v0.0.34 CSS hot reloading with 16ms save intervals.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/README.md#2025-04-22_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n bun v0.0.34\n Saving every 16ms\n\n Frame time:\n 50th percentile: 22.2ms\n 75th percentile: 23.9ms\n 90th percentile: 25.3ms\n 95th percentile: 43.6ms\n 99th percentile: 49.1ms\n Rendered frames: 922 / 1024 (90%)\n```\n\n----------------------------------------\n\nTITLE: RGBA Object Format Examples in TypeScript\nDESCRIPTION: Examples of converting colors to RGBA object format using Bun.color() with '{rgba}' and '{rgb}' output formats\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"hsl(0, 0%, 50%)\", \"{rgba}\"); // { r: 128, g: 128, b: 128, a: 1 }\nBun.color(\"red\", \"{rgba}\"); // { r: 255, g: 0, b: 0, a: 1 }\nBun.color(0xff0000, \"{rgba}\"); // { r: 255, g: 0, b: 0, a: 1 }\nBun.color({ r: 255, g: 0, b: 0 }, \"{rgba}\"); // { r: 255, g: 0, b: 0, a: 1 }\nBun.color([255, 0, 0], \"{rgba}\"); // { r: 255, g: 0, b: 0, a: 1 }\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies for Expo App\nDESCRIPTION: Command to install the necessary dependencies for the Expo app project using npm.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/integration/expo-app/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install\n```\n\n----------------------------------------\n\nTITLE: Help Output Example in Commander.js\nDESCRIPTION: This shows the formatted help output that results from the custom help text example. It displays the usage, options, and the custom example call text added after the built-in help.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_25\n\nLANGUAGE: text\nCODE:\n```\nUsage: custom-help [options]\n\nOptions:\n  -f, --foo   enable some foo\n  -h, --help  display help for command\n\nExample call:\n  $ custom-help --help\n```\n\n----------------------------------------\n\nTITLE: Merging Upstream WebKit Changes in Bash\nDESCRIPTION: Merges the `main` branch from the remote named `upstream` into the current branch of the local WebKit fork. Includes a commented command `git fetch --unshallow` to resolve potential issues with unrelated git histories before retrying the merge.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ git merge upstream main\n# If you get an error saying histories are unrelated, run this and try again:\n$ git fetch --unshallow\n```\n\n----------------------------------------\n\nTITLE: Creating a Simple HTTP Server in Bun with TypeScript\nDESCRIPTION: A minimal HTTP server implementation in Bun.js that returns \"Hello World\" for any request. This server demonstrates Bun's HTTP capabilities which can handle 160,000-260,000 requests per second depending on hardware.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/benchmarks.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// http.ts\nexport default {\n  port: 3000,\n  fetch(request: Request) {\n    return new Response(\"Hello World\");\n  },\n};\n\n// bun ./http.ts\n```\n\n----------------------------------------\n\nTITLE: Countdown Module Usage Example\nDESCRIPTION: Shows how to use the Countdown module for managing asynchronous operations that need to complete before performing a final action.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nconst Countdown = require('../common/countdown');\n\nfunction doSomething() {\n  console.log('.');\n}\n\nconst countdown = new Countdown(2, doSomething);\ncountdown.dec();\ncountdown.dec();\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key and Certificate using OpenSSL and Node.js\nDESCRIPTION: This snippet demonstrates the process of creating a test certificate for TLS DNS altname testing. It includes OpenSSL commands for key generation and Node.js usage for certificate creation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/0-dns/README.md#2025-04-22_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ openssl genrsa -out 0-dns-key.pem 2048\nGenerating RSA private key, 2048 bit long modulus\n...................+++\n..............................................................................................+++\ne is 65537 (0x10001)\n$ openssl rsa -in 0-dns-key.pem -RSAPublicKey_out -outform der -out 0-dns-rsapub.der\nwriting RSA key\n$ npm install\n0-dns@1.0.0 /home/github/node/test/fixtures/0-dns\n+-- asn1.js@4.9.1\n| +-- bn.js@4.11.6\n| +-- inherits@2.0.3\n| `-- minimalistic-assert@1.0.0\n`-- asn1.js-rfc5280@1.2.2\n\n$ node ./createCert.js\n$ openssl x509 -text -in 0-dns-cert.pem\n(You can not see evil.example.com in subjectAltName field)\n```\n\n----------------------------------------\n\nTITLE: Running 'bun outdated' Via Terminal Directive - Markdown\nDESCRIPTION: Displays the usage of the `bun outdated` command via a custom terminal directive. This directive is expected to render the result of running the command in the project’s terminal, showing a table of outdated dependencies with columns for current, update, and latest versions. Dependencies include Bun CLI and a properly initialized Bun project workspace. Visible inputs are empty, showing a generic list. The output is not actual code but a terminal widget placeholder embedded in Markdown.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/outdated.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n{% bunOutdatedTerminal displayGlob=\"\" filter=\"\" glob=\"\" /%}\n```\n\n----------------------------------------\n\nTITLE: Building Bun Project\nDESCRIPTION: Command to build the Bun project after making changes to the type definitions. This step is necessary when contributing new type definitions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nbun build\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Settings in TOML for Bun Project\nDESCRIPTION: This snippet sets up basic configuration options for a Bun project, including the framework, origin URL, and an inline array.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/resolve/toml/toml-fixture.toml.txt#2025-04-22_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\nframework = \"next\"\norigin = \"http://localhost:5000\"\ninline.array = [1234, 4, 5, 6]\n```\n\n----------------------------------------\n\nTITLE: Update APT and Install GCC 11\nDESCRIPTION: These commands update the APT package lists and install GCC version 11, along with its corresponding C++ compiler. This is a necessary step for resolving issues related to missing C++20 features on Ubuntu systems where the default GCC version is older.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_28\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo apt update\n$ sudo apt install gcc-11 g++-11\n# If the above command fails with `Unable to locate package gcc-11` we need\n# to add the APT repository\n$ sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test\n# Now run `apt install` again\n$ sudo apt install gcc-11 g++-11\n```\n\n----------------------------------------\n\nTITLE: Initializing CMake Configuration for Bun Project\nDESCRIPTION: Sets up the initial CMake configuration for the Bun project, including minimum required version and module paths.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_0\n\nLANGUAGE: CMake\nCODE:\n```\ncmake_minimum_required(VERSION 3.24)\nmessage(STATUS \"Configuring Bun\")\n\nlist(APPEND CMAKE_MODULE_PATH\n  ${CMAKE_SOURCE_DIR}/cmake\n  ${CMAKE_SOURCE_DIR}/cmake/targets\n  ${CMAKE_SOURCE_DIR}/cmake/tools\n  ${CMAKE_SOURCE_DIR}/cmake/analysis\n  ${CMAKE_SOURCE_DIR}/cmake/scripts\n)\n```\n\n----------------------------------------\n\nTITLE: Running File Upload Benchmark in Bun Environment\nDESCRIPTION: Command to execute the file upload benchmark using the Bun JavaScript runtime.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/stream-file-upload-client/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nbun stream-file-bun.js\n```\n\n----------------------------------------\n\nTITLE: Required Command Line Options in JavaScript\nDESCRIPTION: Demonstrates how to create mandatory command line options that must have a value using Commander.js's requiredOption method.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .requiredOption('-c, --cheese <type>', 'pizza must have cheese');\n\nprogram.parse();\n```\n\n----------------------------------------\n\nTITLE: Compiling JavaScript to a standalone executable with Bun\nDESCRIPTION: Creates a single-file executable from a JavaScript or TypeScript entry point using Bun's build command with the --compile flag.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/runtime/codesign-macos-executable.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ bun build --compile ./path/to/entry.ts --outfile myapp\n```\n\n----------------------------------------\n\nTITLE: OpenSSL Certificate Revocation Entries\nDESCRIPTION: SSL certificate revocation list entries showing revoked certificate status (R), expiration dates, serial numbers and subject distinguished names. These entries are specifically for Node.js agent certificates issued to ry@tinyclouds.org.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/keys/ca2-database.txt#2025-04-22_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nR\t22920830184220Z\t181116184220Z\t91F006636069F29A\tunknown\t/C=US/ST=CA/L=SF/O=Joyent/OU=Node.js/CN=agent4/emailAddress=ry@tinyclouds.org\nR\t22960617144651Z\t220903144651Z\t91F006636069F29E\tunknown\t/C=US/ST=CA/L=SF/O=Joyent/OU=Node.js/CN=agent4/emailAddress=ry@tinyclouds.org\nR\t22980611225844Z\t240827225844Z\t783006FA8D75BD4E95045EE3EC02EE0609D042C2\tunknown\t/C=US/ST=CA/L=SF/O=Joyent/OU=Node.js/CN=agent4/emailAddress=ry@tinyclouds.org\n```\n\n----------------------------------------\n\nTITLE: Adding Custom Help Text in Commander.js\nDESCRIPTION: This example demonstrates how to add custom help text to be displayed along with the built-in help using the addHelpText method. The example adds text after the built-in help display.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_24\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-f, --foo', 'enable some foo');\n\nprogram.addHelpText('after', `\n\nExample call:\n  $ custom-help --help`);\n```\n\n----------------------------------------\n\nTITLE: Installing pkg-config (macOS)\nDESCRIPTION: This command installs `pkg-config` using Homebrew on macOS. It resolves compilation errors related to `libarchive`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_32\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install pkg-config\n```\n\n----------------------------------------\n\nTITLE: Creating HTTP/2 SETTINGS Frame for Testing in Node.js\nDESCRIPTION: Example showing how to create an empty HTTP/2 SETTINGS frame with an optional ACK flag. This creates a serialized settings frame that can be written to a socket for testing HTTP/2 implementations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n// ack is a boolean indicating whether or not to set the ACK flag.\nconst frame = new http2.SettingsFrame(ack);\n\nsocket.write(frame.data);\n```\n\n----------------------------------------\n\nTITLE: Using expectWarning for Testing Warning Messages\nDESCRIPTION: Shows various ways to use the expectWarning function to test warning messages, including deprecation warnings and custom warning codes. Demonstrates different validation patterns for single and multiple warnings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst { expectWarning } = require('../common');\n\nexpectWarning('Warning', 'Foobar is really bad');\n\nexpectWarning('DeprecationWarning', 'Foobar is deprecated', 'DEP0XXX');\n\nexpectWarning('DeprecationWarning', [\n  'Foobar is deprecated', 'DEP0XXX',\n]);\n\nexpectWarning('DeprecationWarning', [\n  ['Foobar is deprecated', 'DEP0XXX'],\n  ['Baz is also deprecated', 'DEP0XX2'],\n]);\n\nexpectWarning('DeprecationWarning', {\n  DEP0XXX: 'Foobar is deprecated',\n  DEP0XX2: 'Baz is also deprecated',\n});\n\nexpectWarning({\n  DeprecationWarning: {\n    DEP0XXX: 'Foobar is deprecated',\n    DEP0XX1: 'Baz is also deprecated',\n  },\n  Warning: [\n    ['Multiple array entries are fine', 'SpecialWarningCode'],\n    ['No code is also fine'],\n  ],\n  SingleEntry: ['This will also work', 'WarningCode'],\n  SingleString: 'Single string entries without code will also work',\n});\n```\n\n----------------------------------------\n\nTITLE: React Frontend Setup with Bun\nDESCRIPTION: Client-side code for setting up a React application that will be bundled with Bun. Shows initialization of React DOM and rendering the App component.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/fullstack.md#2025-04-22_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport \"./styles.css\";\nimport { createRoot } from \"react-dom/client\";\nimport { App } from \"./app.tsx\";\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const root = createRoot(document.getElementById(\"root\"));\n  root.render(<App />);\n});\n```\n\n----------------------------------------\n\nTITLE: Timer Management (us_timer_t) Implementation in C\nDESCRIPTION: High-precision timer implementation for efficient event scheduling. Uses a single timer per event loop for improved performance.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-usockets/misc/manual.md#2025-04-22_snippet_3\n\nLANGUAGE: c\nCODE:\n```\nWIN32_EXPORT struct us_timer_t *us_create_timer(struct us_loop_t *loop, int fallthrough, unsigned int ext_size);\n\nWIN32_EXPORT void *us_timer_ext(struct us_timer_t *timer);\n\nWIN32_EXPORT void us_timer_close(struct us_timer_t *timer);\n\nWIN32_EXPORT void us_timer_set(struct us_timer_t *timer, void (*cb)(struct us_timer_t *t), int ms, int repeat_ms);\n\nWIN32_EXPORT struct us_loop_t *us_timer_loop(struct us_timer_t *t);\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Git Diff for Bun Lockfile\nDESCRIPTION: These commands configure Git locally to use Bun for generating human-readable diffs of .lockb files. It sets the textconv command to 'bun' and marks the diff as binary.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/git-diff-bun-lockfile.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n$ git config diff.lockb.textconv bun\n$ git config diff.lockb.binary true\n```\n\n----------------------------------------\n\nTITLE: Using Jest-compatible Timer Functions in bun:test\nDESCRIPTION: Shows how to use Jest's useFakeTimers and useRealTimers compatibility layer in bun:test, highlighting the differences in implementation between Jest and Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/test/time.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\ntest(\"just like in jest\", () => {\n  jest.useFakeTimers();\n  jest.setSystemTime(new Date(\"2020-01-01T00:00:00.000Z\"));\n  expect(new Date().getFullYear()).toBe(2020);\n  jest.useRealTimers();\n  expect(new Date().getFullYear()).toBeGreaterThan(2020);\n});\n\ntest(\"unlike in jest\", () => {\n  const OriginalDate = Date;\n  jest.useFakeTimers();\n  if (typeof Bun === \"undefined\") {\n    // In Jest, the Date constructor changes\n    // That can cause all sorts of bugs because suddenly Date !== Date before the test.\n    expect(Date).not.toBe(OriginalDate);\n    expect(Date.now).not.toBe(OriginalDate.now);\n  } else {\n    // In bun:test, Date constructor does not change when you useFakeTimers\n    expect(Date).toBe(OriginalDate);\n    expect(Date.now).toBe(OriginalDate.now);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Bun\nDESCRIPTION: Command to install the project dependencies using Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/expect-to-equal/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun install\n```\n\n----------------------------------------\n\nTITLE: Building MDX Native Addon with Cargo\nDESCRIPTION: Command to build the native MDX addon module in release mode using Cargo.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/README.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\ncargo build --release\n```\n\n----------------------------------------\n\nTITLE: Running Node.js Server for Upload Benchmark in Bash\nDESCRIPTION: Command to start a Node.js server that will receive the test file uploads during the benchmark.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/stream-file-upload-client/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnode server-node.mjs\n```\n\n----------------------------------------\n\nTITLE: Install Bun Dependencies on Arch Linux\nDESCRIPTION: This command installs the dependencies required for building Bun on Arch Linux using pacman.  It includes base development tools, compilers, and required libraries.  `sudo` is used to gain root privileges for installation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo pacman -S base-devel ccache cmake git go libiconv libtool make ninja pkg-config python rust sed unzip ruby\n```\n\n----------------------------------------\n\nTITLE: Nested Transactions and Savepoints in Bun SQLite (TypeScript)\nDESCRIPTION: Illustrates how transaction functions in Bun can be nested, with inner transactions becoming savepoints transparently. Full setup includes table creation and insertion logic, demonstrating atomic multi-table operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/sqlite.md#2025-04-22_snippet_25\n\nLANGUAGE: TypeScript\nCODE:\n```\n// setup\nimport { Database } from \"bun:sqlite\";\nconst db = Database.open(\":memory:\");\ndb.run(\n  \"CREATE TABLE expenses (id INTEGER PRIMARY KEY AUTOINCREMENT, note TEXT, dollars INTEGER);\",\n);\ndb.run(\n  \"CREATE TABLE cats (id INTEGER PRIMARY KEY AUTOINCREMENT, name TEXT UNIQUE, age INTEGER)\",\n);\nconst insertExpense = db.prepare(\n  \"INSERT INTO expenses (note, dollars) VALUES (?, ?)\",\n);\nconst insert = db.prepare(\"INSERT INTO cats (name, age) VALUES ($name, $age)\");\nconst insertCats = db.transaction(cats => {\n  for (const cat of cats) insert.run(cat);\n});\n\nconst adopt = db.transaction(cats => {\n  insertExpense.run(\"adoption fees\", 20);\n  insertCats(cats); // nested transaction\n});\n\nadopt([\n  { $name: \"Joey\", $age: 2 },\n  { $name: \"Sally\", $age: 4 },\n  { $name: \"Junior\", $age: 1 },\n]);\n\n```\n\n----------------------------------------\n\nTITLE: Updating APT Repository for GCC\nDESCRIPTION: This command adds the Ubuntu Toolchain PPA repository, which contains newer versions of GCC, including GCC 11. This is necessary if the default repositories do not have GCC 11 available.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_29\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test\n```\n\n----------------------------------------\n\nTITLE: CSS Output After Bundling\nDESCRIPTION: The resulting CSS after Bun has processed and bundled the CSS files. The imported styles are included first, followed by the styles from the main file.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_4\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  background-color: red;\n}\n\n.container {\n  background-color: blue;\n}\n```\n\n----------------------------------------\n\nTITLE: Run Bun with Valgrind\nDESCRIPTION: This command runs Bun with Valgrind to detect memory issues.  It uses specific Valgrind options, including `--fair-sched=try` and `--track-origins=yes`.  Valgrind is slow and may report spurious errors, particularly with JavaScriptCore.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_22\n\nLANGUAGE: bash\nCODE:\n```\n$ valgrind --fair-sched=try --track-origins=yes bun-debug <args>\n```\n\n----------------------------------------\n\nTITLE: Install pkg-config on macOS\nDESCRIPTION: This command installs the `pkg-config` utility using Homebrew on macOS. `pkg-config` is used to retrieve information about installed libraries, which is necessary for compiling `libarchive`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_30\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install pkg-config\n```\n\n----------------------------------------\n\nTITLE: ArrayStream Implementation Example\nDESCRIPTION: Demonstrates the usage of ArrayStream module to create a simple stream that pushes elements from an array, useful for mock streaming in tests.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst ArrayStream = require('../common/arraystream');\nconst stream = new ArrayStream();\nstream.run(['a', 'b', 'c']);\n```\n\n----------------------------------------\n\nTITLE: Styling Example Domain Page with CSS\nDESCRIPTION: Defines the CSS styles for the example domain page, including responsive design for different screen sizes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/http/fetch.js.txt#2025-04-22_snippet_1\n\nLANGUAGE: CSS\nCODE:\n```\nbody {\n    background-color: #f0f0f2;\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, system-ui, BlinkMacSystemFont, \"Segoe UI\", \"Open Sans\", \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    \n}\ndiv {\n    width: 600px;\n    margin: 5em auto;\n    padding: 2em;\n    background-color: #fdfdff;\n    border-radius: 0.5em;\n    box-shadow: 2px 3px 7px 2px rgba(0,0,0,0.02);\n}\na:link, a:visited {\n    color: #38488f;\n    text-decoration: none;\n}\n@media (max-width: 700px) {\n    div {\n        margin: 0 auto;\n        width: auto;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Invalid CSS Module Composition Examples\nDESCRIPTION: Demonstrates invalid uses of the 'composes' property, including using it with ID selectors instead of class selectors and using it with compound selectors rather than simple class selectors.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/css.md#2025-04-22_snippet_30\n\nLANGUAGE: css\nCODE:\n```\n#button {\n  /* Invalid! `#button` is not a class selector */\n  composes: background;\n}\n\n.button,\n.button-secondary {\n  /* Invalid! `.button, .button-secondary` is not a simple selector */\n  composes: background;\n}\n```\n\n----------------------------------------\n\nTITLE: Running Express Server in Deno Runtime\nDESCRIPTION: Command to start the Express.js server using the Deno runtime with all permissions enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/express/README.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\ndeno run -A ./express.mjs\n```\n\n----------------------------------------\n\nTITLE: Making JSC Debug\nDESCRIPTION: Makes a debug build of JavaScriptCore (JSC).  It's suggested to remove `InspectorProtocolObjects.h`.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_26\n\nLANGUAGE: bash\nCODE:\n```\n$ make jsc-debug && rm vendor/WebKit/WebKitBuild/Debug/JavaScriptCore/DerivedSources/inspector/InspectorProtocolObjects.h\n```\n\n----------------------------------------\n\nTITLE: Creating a CSS File with Imports\nDESCRIPTION: A CSS file that imports another CSS file using the @import statement. Bun will automatically bundle these files together, resolving the imports and maintaining the cascade order.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/html.md#2025-04-22_snippet_2\n\nLANGUAGE: css\nCODE:\n```\n@import \"./abc.css\";\n\n.container {\n  background-color: blue;\n}\n```\n\n----------------------------------------\n\nTITLE: Bun Debugging Command Examples\nDESCRIPTION: Various command line examples showing how to start Bun with different debugging flags and port configurations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/debugger.md#2025-04-22_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\n$ bun --inspect=4000 server.ts\n$ bun --inspect=localhost:4000 server.ts\n$ bun --inspect=localhost:4000/prefix server.ts\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Tools for Bun Project\nDESCRIPTION: Sets up various code analysis tools like Clang Format, Clang Tidy, Zig Format, and Prettier if analysis is enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_7\n\nLANGUAGE: CMake\nCODE:\n```\nif(ENABLE_ANALYSIS)\n  include(RunClangFormat)\n  include(RunClangTidy)\n  include(RunZigFormat)\n  include(RunPrettier)\nendif()\n```\n\n----------------------------------------\n\nTITLE: Demonstrating ECMAScript Modules in HTML with JavaScript\nDESCRIPTION: This example shows a basic setup of a web page using ECMAScript modules. It includes an HTML file that loads a JavaScript module, which in turn imports another module. This demonstrates the native module import/export system in modern browsers.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/intro.md#2025-04-22_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<html>\n  <head>\n    <script type=\"module\" src=\"/index.js\" ></script>\n  </head>\n</html>\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport {sayHello} from \"./hello.js\";\n\nsayHello();\n```\n\nLANGUAGE: javascript\nCODE:\n```\nexport function sayHello() {\n  console.log(\"Hello, world!\");\n}\n```\n\n----------------------------------------\n\nTITLE: Displaying Bun Project Information in Markdown\nDESCRIPTION: This snippet presents the project name 'Bun' as a main heading and provides a brief description of the Linux x64 binary along with a link to the official website.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/npm/@oven/bun-linux-x64/README.md#2025-04-22_snippet_0\n\nLANGUAGE: Markdown\nCODE:\n```\n# Bun\n\nThis is the Linux x64 binary for Bun, a fast all-in-one JavaScript runtime. https://bun.sh\n```\n\n----------------------------------------\n\nTITLE: Defining a Database Schema for Authors Table (TypeScript)\nDESCRIPTION: Defines an 'authors' table schema in Drizzle ORM using pg-core primitives, with columns for id, name, bio, and createdAt timestamp. Requires drizzle-orm/pg-core dependency. Output is an exported schema object for use in Drizzle queries and migrations. Handles default values, nullability, and primary key constraints.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/neon-drizzle.md#2025-04-22_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nimport { pgTable, integer, serial, text, timestamp } from \"drizzle-orm/pg-core\";\\n\\nexport const authors = pgTable(\"authors\", {\\n  id: serial(\"id\").primaryKey(),\\n  name: text(\"name\").notNull(),\\n  bio: text(\"bio\"),\\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\\n});\n```\n\n----------------------------------------\n\nTITLE: Installing Xcode Command Line Tools (macOS)\nDESCRIPTION: This command installs the Xcode Command Line Tools on macOS. It resolves `library not found for -lSystem` errors during compilation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_33\n\nLANGUAGE: bash\nCODE:\n```\n$ xcode-select --install\n```\n\n----------------------------------------\n\nTITLE: Snapshot File Structure in Project\nDESCRIPTION: Directory structure showing how snapshot files are organized alongside test files in the __snapshots__ directory\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/test/update-snapshots.md#2025-04-22_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\ntest\n├── __snapshots__\n│   └── snap.test.ts.snap\n└── snap.test.ts\n```\n\n----------------------------------------\n\nTITLE: Specifying Git dependencies in package.json\nDESCRIPTION: JSON configuration showing various ways to specify Git dependencies in the package.json file, including different protocols and repositories.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"dayjs\": \"git+https://github.com/iamkun/dayjs.git\",\n    \"lodash\": \"git+ssh://github.com/lodash/lodash.git#4.17.21\",\n    \"moment\": \"git@github.com:moment/moment.git\",\n    \"zod\": \"github:colinhacks/zod\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Action Handler with Options and Command Object Access\nDESCRIPTION: Demonstrates an action handler that receives command arguments, options, and the command object itself. This provides access to all the parsed information and the command context.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_18\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .argument('<name>')\n  .option('-t, --title <honorific>', 'title to use before name')\n  .option('-d, --debug', 'display some debugging')\n  .action((name, options, command) => {\n    if (options.debug) {\n      console.error('Called %s with options %o', command.name(), options);\n    }\n    const title = options.title ? `${options.title} ` : '';\n    console.log(`Thank-you ${title}${name}`);\n  });\n```\n\n----------------------------------------\n\nTITLE: Defining ZigGlobalObject Lookup Table for Bun Runtime\nDESCRIPTION: This code snippet defines a lookup table for the ZigGlobalObject in the Bun JavaScript runtime. It maps JavaScript global functions and objects to their C++ implementations and specifies their attributes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/bun.js/bindings/ZigGlobalObject.lut.txt#2025-04-22_snippet_0\n\nLANGUAGE: C++\nCODE:\n```\n/* Source for ZigGlobalObject.lut.h\n@begin bunGlobalObjectTable\n  addEventListener                jsFunctionAddEventListener                           Function 2\n  alert                           WebCore__alert                                       Function 1\n  atob                            functionATOB                                         Function 1\n  btoa                            functionBTOA                                         Function 1\n  clearImmediate                  functionClearImmediate                               Function 1\n  clearInterval                   functionClearInterval                                Function 1\n  clearTimeout                    functionClearTimeout                                 Function 1\n  confirm                         WebCore__confirm                                     Function 1\n  dispatchEvent                   jsFunctionDispatchEvent                              Function 1\n  fetch                           constructBunFetchObject                              PropertyCallback\n  postMessage                     jsFunctionPostMessage                                Function 1\n  prompt                          WebCore__prompt                                      Function 1\n  queueMicrotask                  functionQueueMicrotask                               Function 2\n  removeEventListener             jsFunctionRemoveEventListener                        Function 2\n  reportError                     functionReportError                                  Function 1\n  setImmediate                    functionSetImmediate                                 Function 1\n  setInterval                     functionSetInterval                                  Function 1\n  setTimeout                      functionSetTimeout                                   Function 1\n  structuredClone                 functionStructuredClone                              Function 2\n  \n  global                          GlobalObject_getGlobalThis                           PropertyCallback\n  \n  Bun                             GlobalObject::m_bunObject                            CellProperty|DontDelete|ReadOnly\n  File                            GlobalObject::m_JSDOMFileConstructor                 CellProperty\n  crypto                          GlobalObject::m_cryptoObject                         CellProperty\n  navigator                       GlobalObject::m_navigatorObject                      CellProperty\n  performance                     GlobalObject::m_performanceObject                    CellProperty\n  process                         GlobalObject::m_processObject                        CellProperty\n\n  Blob                            GlobalObject::m_JSBlob                               ClassStructure\n  Buffer                          GlobalObject::m_JSBufferClassStructure               ClassStructure\n  BuildError                      GlobalObject::m_JSBuildMessage                       ClassStructure\n  BuildMessage                    GlobalObject::m_JSBuildMessage                       ClassStructure\n  Crypto                          GlobalObject::m_JSCrypto                             ClassStructure\n  HTMLRewriter                    GlobalObject::m_JSHTMLRewriter                       ClassStructure\n  Request                         GlobalObject::m_JSRequest                            ClassStructure\n  ResolveError                    GlobalObject::m_JSResolveMessage                     ClassStructure\n  ResolveMessage                  GlobalObject::m_JSResolveMessage                     ClassStructure\n  Response                        GlobalObject::m_JSResponse                           ClassStructure\n  TextDecoder                     GlobalObject::m_JSTextDecoder                        ClassStructure\n\n  AbortController                 AbortControllerConstructorCallback                   PropertyCallback\n  AbortSignal                     AbortSignalConstructorCallback                       PropertyCallback\n  BroadcastChannel                BroadcastChannelConstructorCallback                  PropertyCallback\n  ByteLengthQueuingStrategy       ByteLengthQueuingStrategyConstructorCallback         PropertyCallback\n  CloseEvent                      CloseEventConstructorCallback                        PropertyCallback\n  CountQueuingStrategy            CountQueuingStrategyConstructorCallback              PropertyCallback\n  CryptoKey                       CryptoKeyConstructorCallback                         PropertyCallback\n  CustomEvent                     CustomEventConstructorCallback                       PropertyCallback\n  DOMException                    DOMExceptionConstructorCallback                      PropertyCallback\n  ErrorEvent                      ErrorEventConstructorCallback                        PropertyCallback\n  Event                           EventConstructorCallback                             PropertyCallback\n  EventTarget                     EventTargetConstructorCallback                       PropertyCallback\n  FormData                        DOMFormDataConstructorCallback                       PropertyCallback\n  Headers                         FetchHeadersConstructorCallback                      PropertyCallback\n  MessageChannel                  MessageChannelConstructorCallback                    PropertyCallback\n  MessageEvent                    MessageEventConstructorCallback                      PropertyCallback\n  MessagePort                     MessagePortConstructorCallback                       PropertyCallback\n  Performance                     PerformanceConstructorCallback                       PropertyCallback\n  PerformanceEntry                PerformanceEntryConstructorCallback                  PropertyCallback\n  PerformanceMark                 PerformanceMarkConstructorCallback                   PropertyCallback\n  PerformanceMeasure              PerformanceMeasureConstructorCallback                PropertyCallback\n  PerformanceObserver             PerformanceObserverConstructorCallback               PropertyCallback\n  PerformanceObserverEntryList    PerformanceObserverEntryListConstructorCallback      PropertyCallback\n  PerformanceResourceTiming       PerformanceResourceTimingConstructorCallback         PropertyCallback\n  PerformanceServerTiming         PerformanceServerTimingConstructorCallback           PropertyCallback\n  PerformanceTiming               PerformanceTimingConstructorCallback                 PropertyCallback\n  ReadableByteStreamController    ReadableByteStreamControllerConstructorCallback      PropertyCallback\n  ReadableStream                  ReadableStreamConstructorCallback                    PropertyCallback\n  ReadableStreamBYOBReader        ReadableStreamBYOBReaderConstructorCallback          PropertyCallback\n  ReadableStreamBYOBRequest       ReadableStreamBYOBRequestConstructorCallback         PropertyCallback\n  ReadableStreamDefaultController ReadableStreamDefaultControllerConstructorCallback   PropertyCallback\n  ReadableStreamDefaultReader     ReadableStreamDefaultReaderConstructorCallback       PropertyCallback\n  SubtleCrypto                    SubtleCryptoConstructorCallback                      PropertyCallback\n  TextDecoderStream               TextDecoderStreamConstructorCallback                 PropertyCallback\n  TextEncoder                     TextEncoderConstructorCallback                       PropertyCallback\n  TextEncoderStream               TextEncoderStreamConstructorCallback                 PropertyCallback\n  TransformStream                 TransformStreamConstructorCallback                   PropertyCallback\n  TransformStreamDefaultController TransformStreamDefaultControllerConstructorCallback PropertyCallback\n  URL                             DOMURLConstructorCallback                            DontEnum|PropertyCallback\n  URLSearchParams                 URLSearchParamsConstructorCallback                   DontEnum|PropertyCallback\n  WebSocket                       WebSocketConstructorCallback                         PropertyCallback\n  Worker                          WorkerConstructorCallback                            PropertyCallback\n  WritableStream                  WritableStreamConstructorCallback                    PropertyCallback\n  WritableStreamDefaultController WritableStreamDefaultControllerConstructorCallback   PropertyCallback\n  WritableStreamDefaultWriter     WritableStreamDefaultWriterConstructorCallback       PropertyCallback\n@end\n*/\n```\n\n----------------------------------------\n\nTITLE: V8 Handle Scope Management Functions\nDESCRIPTION: Function signatures for managing V8 handle scopes, which control the lifetime of JavaScript object references.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/symbols.txt#2025-04-22_snippet_0\n\nLANGUAGE: C++\nCODE:\n```\n__ZN2v811HandleScope12CreateHandleEPNS_8internal7IsolateEm\n__ZN2v811HandleScopeC1EPNS_7IsolateE\n__ZN2v811HandleScopeD1Ev\n__ZN2v811HandleScopeD2Ev\n```\n\n----------------------------------------\n\nTITLE: Printing Stored Lockfile Hash with Bun\nDESCRIPTION: Retrieves and prints the hash value that is currently stored within the `bun.lockb` lockfile itself. This may differ from the hash generated by `bun pm hash` if the lockfile has been modified since it was last generated.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/pm.md#2025-04-22_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ bun pm hash-print\n```\n\n----------------------------------------\n\nTITLE: Build Bun with Local JSC\nDESCRIPTION: This command initiates the build process for Bun using the local JSC build configuration. It compiles the necessary components and places the output in the `./build/debug-local` directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_27\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build:local\n```\n\n----------------------------------------\n\nTITLE: Using skipIfSingleExecutableIsNotSupported from SEA module\nDESCRIPTION: Skips the rest of the tests if Single Executable Application functionality is not supported in the current configuration.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_20\n\nLANGUAGE: JavaScript\nCODE:\n```\nskipIfSingleExecutableIsNotSupported()\n```\n\n----------------------------------------\n\nTITLE: Using validate from report module\nDESCRIPTION: Validates the schema of a diagnostic report file at the specified filepath. Throws an exception if the report fails validation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_18\n\nLANGUAGE: JavaScript\nCODE:\n```\nvalidate(filepath)\n```\n\n----------------------------------------\n\nTITLE: Builtin Variable Access Using $ Prefix in TypeScript\nDESCRIPTION: Demonstrates how to use the $ prefix to access private properties, JSC intrinsics, and internal variables in Bun's module system. The $ prefix provides access to tamper-proof versions of globals and prototype values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/js/README.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// Many globals have private versions which are impossible for the user to\\n// tamper with. Though, these global variables are auto-prefixed by the bundler.\\nconst hello = $Array.from(...);\\n\\n// Similar situation with prototype values. These aren't autoprefixed since it depends on type.\\nsomething.$then(...);\\nmap.$set(...);\\n\\n// Internal variables we define\\n$requireMap.$has(\"elysia\");\\n\\n// JSC engine intrinsics. These usually translate directly to bytecode instructions.\\nconst arr = $newArrayWithSize(5);\\n// A side effect of this is that using an intrinsic incorrectly like\\n// this will fail to parse and cause a segfault.\\nconsole.log($getInternalField)\n```\n\n----------------------------------------\n\nTITLE: JSX Output with Default Import Source\nDESCRIPTION: Transpiled output showing the default import source behavior, where the jsx function is imported from React's jsx-runtime module.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/jsx.md#2025-04-22_snippet_15\n\nLANGUAGE: tsx\nCODE:\n```\nimport { jsx } from \"react/jsx-runtime\";\njsx(\"Box\", { width: 5, children: \"Hello\" });\n```\n\n----------------------------------------\n\nTITLE: Setting Up Build Tools for Bun Project\nDESCRIPTION: Includes CMake modules for setting up various build tools and dependencies like Git, Buildkite, Bun, Esbuild, Zig, and Rust.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_5\n\nLANGUAGE: CMake\nCODE:\n```\ninclude(SetupGit)\ninclude(SetupBuildkite)\ninclude(SetupBun)\ninclude(SetupEsbuild)\ninclude(SetupZig)\ninclude(SetupRust)\n```\n\n----------------------------------------\n\nTITLE: Reinstall ccache on macOS\nDESCRIPTION: These commands uninstall and then reinstall `ccache` using Homebrew on macOS.  This is intended to resolve conflicts between `ccache` and the TinyCC build process.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_33\n\nLANGUAGE: bash\nCODE:\n```\nbrew uninstall ccache\nbrew install ccache\n```\n\n----------------------------------------\n\nTITLE: Rebuilding Bun with modified JavaScriptCore\nDESCRIPTION: Instructions for rebuilding Bun with custom changes to JavaScriptCore in compliance with LGPL-2 requirements. The commands initialize git submodules, compile JavaScriptCore, and build Bun with the modifications.\nSOURCE: https://github.com/oven-sh/bun/blob/main/LICENSE.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit submodule update --init --recursive\nmake jsc\nzig build\n```\n\n----------------------------------------\n\nTITLE: Structuring HTML for Example Domain Page\nDESCRIPTION: Defines the basic HTML structure for the example domain page, including metadata, title, and body content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/http/fetch.js.txt#2025-04-22_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <style type=\"text/css\">\n    </style>    \n</head>\n\n<body>\n<div>\n    <h1>Example Domain</h1>\n    <p>This domain is for use in illustrative examples in documents. You may use this\n    domain in literature without prior coordination or asking for permission.</p>\n    <p><a href=\"https://www.iana.org/domains/example\">More information...</a></p>\n</div>\n</body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Configuring TLS Verification for Windows Hosts\nDESCRIPTION: Disables TLS certificate verification on Windows hosts to work around GitHub download issues.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CMakeLists.txt#2025-04-22_snippet_2\n\nLANGUAGE: CMake\nCODE:\n```\nif (CMAKE_HOST_WIN32)\n  # Workaround for TLS certificate verification issue on Windows when downloading from GitHub\n  # Remove this once we've bumped the CI machines build image\n  set(CMAKE_TLS_VERIFY 0)\nendif()\n```\n\n----------------------------------------\n\nTITLE: Build Bun with Dynamic libatomic Linking\nDESCRIPTION: This command builds Bun with dynamic linking for `libatomic`.  It's used when building on distributions without a static `libatomic` library.  Note that the resulting binary may not be portable.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_32\n\nLANGUAGE: bash\nCODE:\n```\n$ bun run build -DUSE_STATIC_LIBATOMIC=OFF\n```\n\n----------------------------------------\n\nTITLE: Testing HTMLEscape String Transformations in Rust\nDESCRIPTION: A series of tests that verify HTMLEscape's handling of repeated '<' characters and their conversion to '&lt;', testing various string lengths including edge cases at 128-byte boundaries. The tests also verify handling of long strings and concatenated escape sequences.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_13\n\nLANGUAGE: Rust\nCODE:\n```\nassert_eq!(HTMLEscape::from(\"<\".repeat(1024).as_ref()).to_string(), \"&lt;\".repeat(1024));\n\nassert_eq!(HTMLEscape::from(\"<\".repeat(129).as_ref()).to_string(), \"&lt;\".repeat(129));\n\nassert_eq!(HTMLEscape::from(\"<\".repeat(128 * 2 - 1).as_ref()).to_string(), \"&lt;\".repeat(128 * 2 - 1));\n\nassert_eq!(HTMLEscape::from(\"<\".repeat(128 * 8 - 1).as_ref()).to_string(), \"&lt;\".repeat(128 * 8 - 1));\n\nassert_eq!(HTMLEscape::from(string_long).to_string(), string_long);\n\nassert_eq!(HTMLEscape::from([string_long, \"<\"].join(\"\").as_ref()).to_string(), [string_long, \"&lt;\"].join(\"\"));\n\nassert_eq!(HTMLEscape::from([\"<\", string_long].join(\"\").as_ref()).to_string(), [\"&lt;\", string_long].join(\"\"));\n\nassert_eq!(HTMLEscape::from(escapes.repeat(1024).as_ref()).to_string(), escaped.repeat(1024));\n```\n\n----------------------------------------\n\nTITLE: Two-way IPC Communication in Parent Process\nDESCRIPTION: Demonstrates bidirectional communication between parent and child processes, showing how to send messages to the child and handle responses.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/process/ipc.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst childProc = Bun.spawn([\"bun\", \"child.ts\"], {\n  ipc(message, childProc) {\n    /**\n     * The message received from the sub process\n     **/\n    childProc.send(\"Respond to child\")\n  },\n});\n\nchildProc.send(\"I am your father\"); // The parent can send messages to the child as well\n```\n\n----------------------------------------\n\nTITLE: Installing LLVM 19 (macOS)\nDESCRIPTION: Installs LLVM version 19, which is required by Bun, using Homebrew. This ensures the correct LLVM version is available for building Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install llvm@19\n```\n\n----------------------------------------\n\nTITLE: HTML Document Structure with GitHub Meta Tags\nDESCRIPTION: HTML template containing DNS prefetch directives, GitHub repository metadata, OpenGraph tags, stylesheet links and other head elements required for GitHub repository pages\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n  <link rel=\"dns-prefetch\" href=\"https://github.githubassets.com\">\n  <link rel=\"dns-prefetch\" href=\"https://avatars0.githubusercontent.com\">\n  <link rel=\"dns-prefetch\" href=\"https://avatars1.githubusercontent.com\">\n  <link rel=\"dns-prefetch\" href=\"https://avatars2.githubusercontent.com\">\n  <link rel=\"dns-prefetch\" href=\"https://avatars3.githubusercontent.com\">\n  <link rel=\"dns-prefetch\" href=\"https://github-cloud.s3.amazonaws.com\">\n  <link rel=\"dns-prefetch\" href=\"https://user-images.githubusercontent.com/\">\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies with Bun\nDESCRIPTION: Command to install dependencies using Bun package manager.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/postgres/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbun install\n```\n\n----------------------------------------\n\nTITLE: Complete CLI Program with Subcommands\nDESCRIPTION: More complex example demonstrating a CLI utility with subcommands, arguments, and options using Commander.js\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nconst { Command } = require('commander');\nconst program = new Command();\n\nprogram\n  .name('string-util')\n  .description('CLI to some JavaScript string utilities')\n  .version('0.8.0');\n\nprogram.command('split')\n  .description('Split a string into substrings and display as an array')\n  .argument('<string>', 'string to split')\n  .option('--first', 'display just the first substring')\n  .option('-s, --separator <char>', 'separator character', ',')\n  .action((str, options) => {\n    const limit = options.first ? 1 : undefined;\n    console.log(str.split(options.separator, limit));\n  });\n\nprogram.parse();\n```\n\n----------------------------------------\n\nTITLE: Generating UV POSIX Stubs in Bun\nDESCRIPTION: Command to run the Bun script that generates UV POSIX stubs based on the updated symbol list and configuration files.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/bun.js/bindings/libuv/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nbun uv-posix-stubs\n```\n\n----------------------------------------\n\nTITLE: Installing Bun Dependencies (Arch)\nDESCRIPTION: Installs dependencies needed to build Bun on Arch Linux using pacman. This includes development tools, compilers, and essential libraries.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo pacman -S base-devel ccache cmake git go libiconv libtool make ninja pkg-config python rust sed unzip ruby\n```\n\n----------------------------------------\n\nTITLE: Removing packages with Bun\nDESCRIPTION: Command to remove a dependency using Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/install/index.md#2025-04-22_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ bun remove preact\n```\n\n----------------------------------------\n\nTITLE: Process Working Directory Command Example\nDESCRIPTION: Shows how to use the pwdCommand utility to spawn a process with platform-normalized pwd command options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst common = require('../common');\nconst { spawn } = require('node:child_process');\n\nspawn(...common.pwdCommand, { stdio: ['pipe'] });\n```\n\n----------------------------------------\n\nTITLE: Importing YAML Data in TypeScript\nDESCRIPTION: Example of importing data from a YAML file in a TypeScript React component after configuring the YAML plugin.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-plugin-yaml/README.md#2025-04-22_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport data from \"./data.yaml\";\n\nexport function Component() {\n  return <div>{data.name}</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Executing CSS HMR Frame Time Analysis for Bun Project\nDESCRIPTION: This command runs a Node.js script to analyze CSS Hot Module Replacement frame times for the Bun project. It sets environment variables for sleep interval and project name before executing the script.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/hot-module-reloading/css-stress-test/bun.latest.32ms.txt#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nSLEEP_INTERVAL=32 PROJECT=bun node read-frames.js\n```\n\n----------------------------------------\n\nTITLE: 256 ANSI Color Examples in TypeScript\nDESCRIPTION: Examples of converting colors to 256 ANSI format using Bun.color() with 'ansi-256' output format\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/color.md#2025-04-22_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nBun.color(\"red\", \"ansi-256\"); // \"\\u001b[38;5;196m\"\nBun.color(0xff0000, \"ansi-256\"); // \"\\u001b[38;5;196m\"\nBun.color(\"#f00\", \"ansi-256\"); // \"\\u001b[38;5;196m\"\nBun.color(\"#ff0000\", \"ansi-256\"); // \"\\u001b[38;5;196m\"\n```\n\n----------------------------------------\n\nTITLE: Special Characters and Emoji Examples\nDESCRIPTION: Text samples showing hello repetition, copyright symbol (©), and UTF-16 emoji (😀) handling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/third_party/body-parser/text.txt#2025-04-22_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nhello hello\ncopyright symbols: ©\nMy UTF-16 string is 😀\n```\n\n----------------------------------------\n\nTITLE: Running Tests in Bun Environment\nDESCRIPTION: Command to run the test file specifically with Bun test runner, avoiding the Vitest implementation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/expect-to-equal/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# so it doesn't run the vitest one\nbun test expect-to-equal.test.js\n```\n\n----------------------------------------\n\nTITLE: Symbol Definition Type in cc Configuration\nDESCRIPTION: TypeScript type definition for the symbols configuration in the cc function.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/api/cc.md#2025-04-22_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\ntype Symbols = {\n  [key: string]: {\n    args: FFIType[];\n    returns: FFIType;\n  };\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Silent Mode for Bun Run\nDESCRIPTION: Settings to suppress command reporting output when using bun run, with examples showing the difference in output behavior.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/bunfig.md#2025-04-22_snippet_34\n\nLANGUAGE: toml\nCODE:\n```\n[run]\nsilent = true\n```\n\nLANGUAGE: sh\nCODE:\n```\n$ bun run dev\n> $ echo \"Running \\\"dev\\\"...\"\nRunning \"dev\"...\n\n$ bun run dev\nRunning \"dev\"...\n```\n\n----------------------------------------\n\nTITLE: Forcing Garbage Collection in Bun\nDESCRIPTION: This code snippet shows how to manually trigger garbage collection in Bun using the Bun.gc() function. It demonstrates both synchronous and asynchronous garbage collection methods.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/benchmarking.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nBun.gc(true); // synchronous\nBun.gc(false); // asynchronous\n```\n\n----------------------------------------\n\nTITLE: File System Mutation Prevention Example in MJS\nDESCRIPTION: Demonstrates how to use mustNotMutateObjectDeep to prevent mutation of objects during file operations while still allowing controlled mutations through the original reference.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_2\n\nLANGUAGE: mjs\nCODE:\n```\nimport { open } from 'node:fs/promises';\nimport { mustNotMutateObjectDeep } from '../common/index.mjs';\n\nconst _mutableOptions = { length: 4, position: 8 };\nconst options = mustNotMutateObjectDeep(_mutableOptions);\n\n// In filehandle.read or filehandle.write, attempt to mutate options will throw\n// In the test code, options can still be mutated via _mutableOptions\nconst fh = await open('/path/to/file', 'r+');\nconst { buffer } = await fh.read(options);\n_mutableOptions.position = 4;\nawait fh.write(buffer, options);\n\n// Inline usage\nconst stats = await fh.stat(mustNotMutateObjectDeep({ bigint: true }));\nconsole.log(stats.size);\n```\n\n----------------------------------------\n\nTITLE: Creating HTTP/2 HEADERS Frame for Testing in Node.js\nDESCRIPTION: Example demonstrating how to create an HTTP/2 HEADERS frame with a specified stream ID, payload, padding length, and end-of-stream flag. The frame can then be written to a socket for testing HTTP/2 implementations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\n// id is the 32-bit stream identifier\n// payload is a Buffer containing the HEADERS payload (see either\n// http2.kFakeRequestHeaders or http2.kFakeResponseHeaders).\n// padlen is an 8-bit integer giving the number of padding bytes to include\n// final is a boolean indicating whether the End-of-stream flag should be set,\n// defaults to false.\nconst frame = new http2.HeadersFrame(id, payload, padlen, final);\n\nsocket.write(frame.data);\n```\n\n----------------------------------------\n\nTITLE: Implementing JSX Button Component in MDX\nDESCRIPTION: A simple Button component used directly in MDX that shows an alert message when clicked. This demonstrates how JSX components can be embedded within MDX content.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/input/page4.mdx#2025-04-22_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\n<Button onClick={() => alert(\"Hello!\")}>Click me</Button>\n```\n\n----------------------------------------\n\nTITLE: Upgrading Bun to the latest version\nDESCRIPTION: This command upgrades an existing Bun installation to the latest available version. It ensures users have access to the most recent features and improvements.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/npm/bun/README.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nbun upgrade\n```\n\n----------------------------------------\n\nTITLE: Async Action Handlers in Commander.js\nDESCRIPTION: Demonstrates how to use async action handlers with Commander.js. When using async handlers, .parseAsync() must be used instead of .parse() to properly handle promises.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_20\n\nLANGUAGE: javascript\nCODE:\n```\nasync function run() { /* code goes here */ }\n\nasync function main() {\n  program\n    .command('run')\n    .action(run);\n  await program.parseAsync(process.argv);\n}\n```\n\n----------------------------------------\n\nTITLE: Testing HTML Escaping in Rust\nDESCRIPTION: This code snippet contains unit tests for the HTMLEscape struct's functionality. It tests the escaping of short and long strings, as well as repeated versions, ensuring the correct HTML entities are produced.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_17\n\nLANGUAGE: Rust\nCODE:\n```\nassert_eq!(\n    HTMLEscape::from(string_short).to_string(),\n    string_short_escaped\n);\nassert_eq!(\n    HTMLEscape::from(string_short.repeat(1024).as_ref()).to_string(),\n    string_short_escaped.repeat(1024)\n);\nassert_eq!(\n    HTMLEscape::from(string_long).to_string(),\n    string_long_escaped\n);\n```\n\n----------------------------------------\n\nTITLE: Package Name Reference in Markdown\nDESCRIPTION: Shows the package name formatting using Markdown inline code blocks.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/npm/linux-arm64-gnu/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n`bun-mdx-rs-linux-arm64-gnu`\n```\n\nLANGUAGE: markdown\nCODE:\n```\n`bun-mdx-rs`\n```\n\n----------------------------------------\n\nTITLE: Installing Bun (Homebrew)\nDESCRIPTION: Installs Bun using Homebrew, a package manager for macOS. It adds the oven-sh/bun tap and then installs Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n$ brew tap oven-sh/bun\n$ brew install bun\n```\n\n----------------------------------------\n\nTITLE: Rendering SVG Icons for GitHub UI in HTML\nDESCRIPTION: This snippet defines SVG icons used in the GitHub user interface for project, search, and repository navigation. It includes path definitions for each icon shape.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_7\n\nLANGUAGE: HTML\nCODE:\n```\n<svg height=\"16\" width=\"16\" class=\"octicon octicon-project flex-shrink-0 js-jump-to-octicon-project d-none\" title=\"Project\" aria-label=\"Project\" viewBox=\"0 0 16 16\" version=\"1.1\" role=\"img\"><path fill-rule=\"evenodd\" d=\"M1.75 0A1.75 1.75 0 000 1.75v12.5C0 15.216.784 16 1.75 16h12.5A1.75 1.75 0 0016 14.25V1.75A1.75 1.75 0 0014.25 0H1.75zM1.5 1.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v12.5a.25.25 0 01-.25.25H1.75a.25.25 0 01-.25-.25V1.75zM11.75 3a.75.75 0 00-.75.75v7.5a.75.75 0 001.5 0v-7.5a.75.75 0 00-.75-.75zm-8.25.75a.75.75 0 011.5 0v5.5a.75.75 0 01-1.5 0v-5.5zM8 3a.75.75 0 00-.75.75v3.5a.75.75 0 001.5 0v-3.5A.75.75 0 008 3z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Node.js Module Import in Bun Build\nDESCRIPTION: This snippet shows an example of importing the 'zlib' module, which triggers Bun to load a browser polyfill for compatibility when using 'bun build --target=browser'.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/node-fallbacks/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nFor example, if you import `zlib`, the `node-fallbacks/zlib.js` file will be loaded.\n```\n\n----------------------------------------\n\nTITLE: Run Bun from a Pull Request\nDESCRIPTION: This command downloads and runs a release build of Bun from a specified pull request. It uses `bunx bun-pr` to fetch the build and adds it to the PATH. Requires `gh` CLI for authentication with GitHub.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_20\n\nLANGUAGE: sh\nCODE:\n```\nbunx bun-pr <pr-number>\nbunx bun-pr <branch-name>\nbunx bun-pr \"https://github.com/oven-sh/bun/pull/1234566\"\n```\n\n----------------------------------------\n\nTITLE: Building TinyCC Library and Dependencies\nDESCRIPTION: Creates the TinyCC static library and sets up custom commands for generating necessary files. It also configures include directories for the library.\nSOURCE: https://github.com/oven-sh/bun/blob/main/patches/tinycc/CMakeLists.txt#2025-04-22_snippet_3\n\nLANGUAGE: CMake\nCODE:\n```\nadd_executable(c2str.exe conftest.c)\ntarget_compile_options(c2str.exe PRIVATE -DC2STR)\n\nadd_custom_command(\n  TARGET\n    c2str.exe POST_BUILD\n  COMMAND\n    c2str.exe include/tccdefs.h tccdefs_.h\n  WORKING_DIRECTORY\n    ${CMAKE_CURRENT_SOURCE_DIR}\n)\n\nadd_library(tcc STATIC ${TCC_SOURCES})\n\nadd_custom_command(\n  TARGET\n    tcc PRE_BUILD\n  COMMAND\n    ${CMAKE_COMMAND} -E touch config.h\n  WORKING_DIRECTORY\n    ${CMAKE_CURRENT_SOURCE_DIR}\n)\n\nadd_dependencies(tcc c2str.exe)\n\ntarget_include_directories(tcc PUBLIC \n  ${CMAKE_CURRENT_SOURCE_DIR}\n  ${CMAKE_CURRENT_SOURCE_DIR}/include\n)\n```\n\n----------------------------------------\n\nTITLE: Main Content HTML Structure\nDESCRIPTION: HTML content structure containing a heading, paragraphs, and a link, wrapped in a styled div container.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/streams/fetch.js.txt#2025-04-22_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<body>\n<div>\n    <h1>Example Domain</h1>\n    <p>This domain is for use in illustrative examples in documents. You may use this\n    domain in literature without prior coordination or asking for permission.</p>\n    <p><a href=\"https://www.iana.org/domains/example\">More information...</a></p>\n</div>\n</body>\n```\n\n----------------------------------------\n\nTITLE: Install Bun Dependencies on Fedora\nDESCRIPTION: This command installs the necessary dependencies for building Bun on Fedora using dnf.  It includes compilers, build tools, and other libraries required by Bun.  `sudo` is used for root privileges.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ sudo dnf install cargo ccache cmake git golang libtool ninja-build pkg-config rustc ruby libatomic-static libstdc++-static sed unzip which libicu-devel 'perl(Math::BigInt)'\n```\n\n----------------------------------------\n\nTITLE: Using Integer Attributes in TypeScript for Bun Bindings\nDESCRIPTION: Demonstrates the use of various integer attributes like enforceRange, clamp, and validate* functions to customize the behavior of integer parameters in function bindings. These attributes help in range checking and type validation.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/bindgen.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { t, fn } from \"bindgen\";\n\nexport const add = fn({\n  args: {\n    global: t.globalObject,\n    // enforce in i32 range\n    a: t.i32.enforceRange(),\n    // clamp to u16 range\n    b: t.u16,\n    // enforce in arbitrary range, with a default if not provided\n    c: t.i32.enforceRange(0, 1000).default(5),\n    // clamp to arbitrary range, or null\n    d: t.u16.clamp(0, 10).optional,\n  },\n  ret: t.i32,\n});\n\nexport const add = fn({\n  args: {\n    global: t.globalObject,\n    // throw if not given a number\n    a: t.f64.validateNumber(),\n    // valid in i32 range\n    a: t.i32.validateInt32(),\n    // f64 within safe integer range\n    b: t.f64.validateInteger(),\n    // f64 in given range\n    c: t.f64.validateNumber(-10000, 10000),\n  },\n  ret: t.i32,\n});\n```\n\n----------------------------------------\n\nTITLE: Label Output Test Series\nDESCRIPTION: Set of console output tests showing how different JavaScript data types are logged with timing information in milliseconds. Tests cover primitive types, objects, arrays, dates and special values.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/web/console/console-timeLog.expected.txt#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n[0.00ms] label\n[0.06ms] label Hello World!\n[0.09ms] label a %s b c d\n[0.11ms] label 0 -0 123 -123 123.567 -123.567 Infinity -Infinity\n[0.14ms] label true false\n[0.15ms] label null undefined\n[0.17ms] label Symbol(Symbol Description)\n[0.22ms] label 2000-06-27T02:24:34.304Z\n[0.29ms] label [ 123, 456, 789 ]\n[0.34ms] label {\n  name: \"foo\",\n}\n[0.37ms] label {\n  a: 123,\n  b: 456,\n  c: 789,\n}\n[0.39ms] label\n```\n\n----------------------------------------\n\nTITLE: Accessing tmpdir path property\nDESCRIPTION: Provides the realpath of the testing temporary directory as a string property.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_23\n\nLANGUAGE: JavaScript\nCODE:\n```\ntmpdir.path\n```\n\n----------------------------------------\n\nTITLE: Specifying Bun Version in GitHub Actions Workflow\nDESCRIPTION: This snippet demonstrates how to set a specific version of Bun to install in a GitHub Actions workflow using the 'with' parameter of the setup-bun action. You can specify 'latest' or 'canary' versions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/install/cicd.md#2025-04-22_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nname: my-workflow\njobs:\n  my-job:\n    name: my-job\n    runs-on: ubuntu-latest\n    steps:\n      # ...\n      - uses: oven-sh/setup-bun@v2\n       with:\n         version: \"latest\" # or \"canary\"\n```\n\n----------------------------------------\n\nTITLE: Adding Custom Event Listeners in Commander.js\nDESCRIPTION: This example demonstrates how to execute custom actions by listening to command and option events. It sets an environment variable when the verbose option is used.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_37\n\nLANGUAGE: javascript\nCODE:\n```\nprogram.on('option:verbose', function () {\n  process.env.VERBOSE = this.opts().verbose;\n});\n```\n\n----------------------------------------\n\nTITLE: Static Method: again()\nDESCRIPTION: Static method on the Fhqwhgads class\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_backticks_in_headings.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nFhqwhgads.again()\n```\n\n----------------------------------------\n\nTITLE: libuv Async I/O Functions\nDESCRIPTION: Function signatures from libuv library for handling asynchronous I/O operations and system calls.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/symbols.txt#2025-04-22_snippet_2\n\nLANGUAGE: C++\nCODE:\n```\n_uv_async_init\n_uv_async_send\n_uv_fs_open\n_uv_fs_read\n_uv_fs_write\n_uv_run\n```\n\n----------------------------------------\n\nTITLE: Converting ReadableStream directly to Uint8Array in Bun\nDESCRIPTION: This snippet shows how to convert a ReadableStream directly to a Uint8Array using Bun's convenience method readableStreamToBytes, which simplifies the conversion process into a single function call.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/streams/to-typedarray.md#2025-04-22_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst stream = new ReadableStream();\nconst uint8 = await Bun.readableStreamToBytes(stream);\n```\n\n----------------------------------------\n\nTITLE: Building Bun with Custom JavaScriptCore Changes\nDESCRIPTION: Commands to rebuild Bun with modified JavaScriptCore library. This process involves updating submodules, compiling JavaScriptCore, and building Bun with the changes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/licensing.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\ngit submodule update --init --recursive\nmake jsc\nzig build\n```\n\n----------------------------------------\n\nTITLE: Event Polling (us_poll_t) Implementation in C\nDESCRIPTION: Low-level event polling interface for managing file descriptors and event types. Provides the foundation for socket operations.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-usockets/misc/manual.md#2025-04-22_snippet_4\n\nLANGUAGE: c\nCODE:\n```\nWIN32_EXPORT struct us_poll_t *us_create_poll(struct us_loop_t *loop, int fallthrough, unsigned int ext_size);\n\nWIN32_EXPORT void us_poll_free(struct us_poll_t *p, struct us_loop_t *loop);\n\nWIN32_EXPORT void us_poll_init(struct us_poll_t *p, LIBUS_SOCKET_DESCRIPTOR fd, int poll_type);\n\n/* Additional polling functions... */\n```\n\n----------------------------------------\n\nTITLE: Configuring Output Handling in Commander.js\nDESCRIPTION: Shows how to customize Commander's output behavior by configuring custom write routines and error formatting. This example adds prefixes to standard output and error streams, and displays error messages in red using ANSI escape codes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_43\n\nLANGUAGE: javascript\nCODE:\n```\nfunction errorColor(str) {\n  // Add ANSI escape codes to display text in red.\n  return `\\x1b[31m${str}\\x1b[0m`;\n}\n\nprogram\n  .configureOutput({\n    // Visibly override write routines as example!\n    writeOut: (str) => process.stdout.write(`[OUT] ${str}`),\n    writeErr: (str) => process.stdout.write(`[ERR] ${str}`),\n    // Highlight errors in color.\n    outputError: (str, write) => write(errorColor(str))\n  });\n```\n\n----------------------------------------\n\nTITLE: Running Valgrind with Bun\nDESCRIPTION: Runs Bun with Valgrind to detect memory issues.  `--fair-sched=try` is important to avoid hanging when running multithreaded code.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_23\n\nLANGUAGE: bash\nCODE:\n```\n$ valgrind --fair-sched=try --track-origins=yes bun-debug <args>\n```\n\n----------------------------------------\n\nTITLE: Sample Input for Prefix Inlining - index.tsx - TypeScript\nDESCRIPTION: TypeScript example file referencing several process.env variables, both matching and not matching the public prefix, to show how Bun selectively replaces them during bundling. Useful to compare with output when environment prefix inlining is enabled.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/index.md#2025-04-22_snippet_41\n\nLANGUAGE: TypeScript\nCODE:\n```\nconsole.log(process.env.FOO);\nconsole.log(process.env.ACME_PUBLIC_URL);\nconsole.log(process.env.BAZ);\n```\n\n----------------------------------------\n\nTITLE: Complex Version and Changes Metadata in YAML\nDESCRIPTION: YAML metadata block showing multiple version additions and detailed change information including PR links and descriptions\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/doc_with_yaml.md#2025-04-22_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nadded:\n  - v5.3.0\n  - v4.2.0\nchanges:\n  - version: v4.2.0\n    pr-url: https://github.com/nodejs/node/pull/3276\n    description: The `error` parameter can now be an arrow function.\n```\n\n----------------------------------------\n\nTITLE: Extracting libuv Symbols using llvm-nm\nDESCRIPTION: Command to extract libuv symbols from the compiled dylib file using llvm-nm. The output is redirected to a text file for further processing.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/bun.js/bindings/libuv/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nllvm-nm -g libuv.dylib | grep _uv &> symbols.txt\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Template in package.json\nDESCRIPTION: Shows how to define pre- and post-install scripts for a local Bun template in package.json.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/cli/bun-create.md#2025-04-22_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"@bun-examples/simplereact\",\n  \"version\": \"0.0.1\",\n  \"main\": \"index.js\",\n  \"dependencies\": {\n    \"react\": \"^17.0.2\",\n    \"react-dom\": \"^17.0.2\"\n  },\n  \"bun-create\": {\n    \"preinstall\": \"echo 'Installing...'\",\n    \"postinstall\": [\"echo 'Done!'\"],\n    \"start\": \"bun run echo 'Hello world!'\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Documentation Version Header in Markdown\nDESCRIPTION: A markdown header file indicating documentation version information using HTML comments. The file specifies that this documentation was introduced in version 8.4.0.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/altdocs.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# ALTDOCS\n<!--introduced_in=v8.4.0-->\n```\n\n----------------------------------------\n\nTITLE: Configuring Stand-alone Executable Subcommands\nDESCRIPTION: Shows how to set up stand-alone executable subcommands where each subcommand is implemented as a separate executable file. This is useful for organizing complex CLI applications.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_21\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .name('pm')\n  .version('0.1.0')\n  .command('install [name]', 'install one or more packages')\n  .command('search [query]', 'search with optional query')\n  .command('update', 'update installed packages', { executableFile: 'myUpdateSubCommand' })\n  .command('list', 'list packages installed', { isDefault: true });\n\nprogram.parse(process.argv);\n```\n\n----------------------------------------\n\nTITLE: Using generateSEA from SEA module\nDESCRIPTION: Copies a source executable to a target executable, injects a SEA blob, and signs it if necessary. Can either skip tests or throw errors on failure based on the verifyWorkflow parameter.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_21\n\nLANGUAGE: JavaScript\nCODE:\n```\ngenerateSEA(targetExecutable, sourceExecutable, seaBlob, verifyWorkflow)\n```\n\n----------------------------------------\n\nTITLE: Running Postject Tests\nDESCRIPTION: Command to execute the test suite for Postject.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/postject/README.markdown#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n$ npm test\n```\n\n----------------------------------------\n\nTITLE: Configuring TinyCC Source Files\nDESCRIPTION: Defines the list of source files for TinyCC, including architecture-specific files for ARM64 and x86_64. It also adds platform-specific files for macOS and Windows.\nSOURCE: https://github.com/oven-sh/bun/blob/main/patches/tinycc/CMakeLists.txt#2025-04-22_snippet_2\n\nLANGUAGE: CMake\nCODE:\n```\nset(TCC_SOURCES\n  libtcc.c\n  tccpp.c\n  tccgen.c\n  tccdbg.c\n  tccelf.c\n  tccasm.c\n  tccrun.c\n)\n\nif(CMAKE_SYSTEM_PROCESSOR MATCHES \"arm64|aarch64|ARM64\")\n  list(APPEND TCC_SOURCES\n    arm64-gen.c\n    arm64-link.c\n    arm64-asm.c\n  )\nelseif(CMAKE_SYSTEM_PROCESSOR MATCHES \"x86_64|x64|amd64|AMD64\")\n  list(APPEND TCC_SOURCES\n    x86_64-gen.c\n    x86_64-link.c\n    i386-asm.c\n  )\nelse()\n  message(FATAL_ERROR \"Unsupported architecture: ${CMAKE_SYSTEM_PROCESSOR}\")\nendif()\n\nif(APPLE)\n  list(APPEND TCC_SOURCES tccmacho.c)\nendif()\n\nif(WIN32)\n  list(APPEND TCC_SOURCES tccpe.c)\nendif()\n```\n\n----------------------------------------\n\nTITLE: Using resolve from tmpdir module\nDESCRIPTION: Resolves a sequence of paths into an absolute path in the temporary directory. Useful for creating file paths within the test directory.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_26\n\nLANGUAGE: JavaScript\nCODE:\n```\nresolve([...paths])\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript Decorator Metadata\nDESCRIPTION: tsconfig.json configuration for enabling decorator metadata emission in Bun.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/runtime/typescript.md#2025-04-22_snippet_5\n\nLANGUAGE: jsonc\nCODE:\n```\n{\n  \"compilerOptions\": {\n    // ... rest of your config\n    \"experimentalDecorators\": true,\n    \"emitDecoratorMetadata\": true,\n  },\n}\n```\n\n----------------------------------------\n\nTITLE: HTML Output Example for Object Inspection\nDESCRIPTION: Example of HTML output generated when inspecting a simple object with custom styling.\nSOURCE: https://github.com/oven-sh/bun/blob/main/src/js/internal/util/README.md#2025-04-22_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n{ a: <span style=\"color:yellow;\">1</span> }\n```\n\n----------------------------------------\n\nTITLE: Loading GitHub Frontend Scripts in HTML\nDESCRIPTION: A collection of script tags that load various JavaScript modules for GitHub's frontend functionality. These scripts handle features like user contributions graphs, drag-and-drop functionality, image cropping, navigation jumping, profile pins, and user status updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_18\n\nLANGUAGE: HTML\nCODE:\n```\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-0iFuD53Djy/XZAyvqoEIC7zd0eAUgPgftnE6yDTV+Gme6rmZsIlqEI5m56nc2Ixyvc8ssQv78V3wicOJPW3snQ==\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/vendor-d2216e0f.js\"></script>\n<script crossorigin=\"anonymous\" async=\"async\" integrity=\"sha512-cI+iNNYxkqpDGV8Rui9ouSfFLhI6a/qURXvV8tK1LPu8Ni1tYwJpUSgX6bM1psf5b2YUuhkmyqaWuxzS8m3qtQ==\" type=\"application/javascript\" src=\"https://github.githubassets.com/assets/frameworks-708fa234.js\"></script>\n```\n\n----------------------------------------\n\nTITLE: Using HTTP/2 Client Connection Preamble in Node.js Tests\nDESCRIPTION: Example demonstrating how to send the required HTTP/2 client connection preamble bytes (kClientMagic) to a socket. This is necessary when establishing an HTTP/2 connection for testing purposes.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\nsocket.write(http2.kClientMagic);\n```\n\n----------------------------------------\n\nTITLE: Event handling with bun-inspector-protocol in TypeScript\nDESCRIPTION: TypeScript code demonstrating how to listen for various events emitted by the inspector, including script parsing, breakpoint hits, and console messages.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-inspector-protocol/README.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// Listen for specific protocol events\ninspector.on(\"Debugger.scriptParsed\", params => {\n  console.log(\"Script parsed:\", params.url);\n});\n\n// Listen for breakpoint hits\ninspector.on(\"Debugger.paused\", params => {\n  console.log(\"Execution paused at:\", params.callFrames[0].location);\n});\n\n// Listen for console messages\ninspector.on(\"Runtime.consoleAPICalled\", params => {\n  console.log(\n    \"Console message:\",\n    params.args\n      .map(arg =>\n        // Use the included utility to format objects\n        remoteObjectToString(arg, true),\n      )\n      .join(\" \"),\n  );\n});\n```\n\n----------------------------------------\n\nTITLE: Install LLVM 19 on macOS (Homebrew)\nDESCRIPTION: This command installs LLVM version 19 using Homebrew on macOS. LLVM 19 is required by Bun. Make sure Homebrew is properly installed and configured before running this command.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n$ brew install llvm@19\n```\n\n----------------------------------------\n\nTITLE: Defining Binary Architecture for bun-mdx-rs in Markdown\nDESCRIPTION: This snippet specifies the architecture and platform for the bun-mdx-rs binary. It indicates that this is the Windows x64 (MSVC) version of the binary.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-build-mdx-rs/npm/win32-x64-msvc/README.md#2025-04-22_snippet_0\n\nLANGUAGE: Markdown\nCODE:\n```\n# `bun-mdx-rs-win32-x64-msvc`\n\nThis is the **x86_64-pc-windows-msvc** binary for `bun-mdx-rs`\n```\n\n----------------------------------------\n\nTITLE: Default Option Values\nDESCRIPTION: Example demonstrating how to set default values for command line options\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .option('-c, --cheese <type>', 'add the specified type of cheese', 'blue');\n\nprogram.parse();\n\nconsole.log(`cheese: ${program.opts().cheese}`);\n```\n\n----------------------------------------\n\nTITLE: Initializing StricJS Project with Bun\nDESCRIPTION: Commands to create a new project directory, initialize a Bun project, and install StricJS dependencies.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/guides/ecosystem/stric.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ mkdir myapp\n$ cd myapp\n$ bun init\n$ bun add @stricjs/router @stricjs/utils\n```\n\n----------------------------------------\n\nTITLE: Installing Bun (Native)\nDESCRIPTION: Installs Bun using the native installation script from bun.sh. It downloads and executes a script to install Bun on the system.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n$ curl -fsSL https://bun.sh/install | bash\n```\n\n----------------------------------------\n\nTITLE: Validating Heap Snapshot Nodes in Node.js Tests\nDESCRIPTION: Example demonstrating how to use the heap dump checker to validate occurrences of specific node types in a heap snapshot. This shows validating TLSWRAP nodes and their expected children structure.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/napi/node-napi-tests/test/common/README.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nvalidateSnapshotNodes('TLSWRAP', [\n  {\n    children: [\n      { name: 'enc_out' },\n      { name: 'enc_in' },\n      { name: 'TLSWrap' },\n    ],\n  },\n]);\n```\n\n----------------------------------------\n\nTITLE: Checkout WebKit Commit\nDESCRIPTION: This command checks out a specific commit hash in the WebKit repository. The commit hash should match the value of `WEBKIT_VERSION` in `cmake/tools/SetupWebKit.cmake` in the main Bun repository.\nSOURCE: https://github.com/oven-sh/bun/blob/main/CONTRIBUTING.md#_snippet_24\n\nLANGUAGE: bash\nCODE:\n```\n# Check out the commit hash specified in `set(WEBKIT_VERSION <commit_hash>)` in cmake/tools/SetupWebKit.cmake\n$ git -C vendor/WebKit checkout <commit_hash>\n```\n\n----------------------------------------\n\nTITLE: Running Bundler Benchmark Script in Shell\nDESCRIPTION: Shell commands to execute the bundler benchmark script. It sets the execute permission on the script file and then runs it.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/bundle/README.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ chmod +x run-bench.sh\n$ ./run-bench.sh\n```\n\n----------------------------------------\n\nTITLE: HTML Lorem Ipsum Text with Paragraph Tags\nDESCRIPTION: HTML markup containing multiple paragraphs of Lorem Ipsum text with some basic bold tags for text formatting.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_15\n\nLANGUAGE: HTML\nCODE:\n```\n    rutrum vitae, consequat vel ex.\n</p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p></p>\n<p>\n    Sed sollicitudin <b>sem</b> mauris, at rutrum nibh egestas vel. Ut eu nisi tellus. Praesent dignissim\n    orci elementum, mattis turpis eget, maximus ante. Suspendisse luctus eu felis a tempor. Morbi\n    ac risus vitae sem molestie ullamcorper. Curabitur ligula augue, sollicitudin quis maximus vel,\n    facilisis sed nibh. Aenean auctor magna sem, id rutrum metus convallis quis. Nullam non arcu\n    dictum, lobortis erat quis, rhoncus est. Suspendisse venenatis, mi sed venenatis vehicula,\n    tortor dolor egestas lectus, et efficitur turpis odio non augue. Integer velit sapien, dictum\n    non egestas vitae, hendrerit sed quam. Phasellus a nunc eu erat varius imperdiet. Etiam id\n    sollicitudin turpis, vitae molestie orci. Quisque ornare magna quis metus rhoncus commodo.\n    Phasellus non mauris velit.\n</p>\n<p>\n    Etiam dictum tellus ipsum, nec varius quam ornare vel. Cras vehicula diam nec sollicitudin\n    ultricies. Pellentesque rhoncus sagittis nisl id facilisis. Nunc viverra convallis risus ut\n    luctus. Aliquam vestibulum <b>efficitur massa</b>, id tempus nisi posuere a. Aliquam scelerisque\n    elit justo. Nullam a ante felis. Cras vitae lorem eu nisi feugiat hendrerit. Maecenas vitae\n    suscipit leo, lacinia dignissim lacus. Sed eget volutpat mi. In eu bibendum neque. Pellentesque\n    finibus velit a fermentum rhoncus. Maecenas leo purus, eleifend eu lacus a, condimentum sagittis\n    justo.\n</p>\n```\n\n----------------------------------------\n\nTITLE: Checking out WebKit Commit\nDESCRIPTION: Checks out a specific commit hash in the cloned WebKit repository.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/project/contributing.md#_snippet_25\n\nLANGUAGE: bash\nCODE:\n```\n$ git -C vendor/WebKit checkout <commit_hash>\n```\n\n----------------------------------------\n\nTITLE: Adding Triple-Slash Directive for New Type Definition File\nDESCRIPTION: Example of how to add a triple-slash directive in the index.d.ts file to include a new type definition file. This is part of the contribution process for adding new type definitions to the bun-types package.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-types/README.md#2025-04-22_snippet_1\n\nLANGUAGE: diff\nCODE:\n```\n+ /// <reference path=\"./newfile.d.ts\" />\n```\n\n----------------------------------------\n\nTITLE: Running Benchmark in Deno\nDESCRIPTION: Command to execute the benchmark script using the Deno runtime with all permissions.\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/postgres/README.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ndeno run -A index.mjs\n```\n\n----------------------------------------\n\nTITLE: Registering Bun Plugin in JavaScript\nDESCRIPTION: Example of registering and using the compiled native plugin in a Bun build configuration\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-native-plugin-rs/README.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst result = await Bun.build({\n  entrypoints: [\"index.ts\"],\n  plugins: [\n    {\n      name: \"replace-foo-with-bar\",\n      setup(build) {\n        const napiModule = require(\"path/to/napi_module.node\");\n\n        // Register the `onBeforeParse` hook to run on all `.ts` files.\n        // We tell it to use function we implemented inside of our `lib.rs` code.\n        build.onBeforeParse(\n          { filter: /\\.ts/ },\n          { napiModule, symbol: \"replace_foo_with_bar\" },\n        );\n      },\n    },\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring TinyCC Compile Definitions\nDESCRIPTION: Adds compile definitions for TinyCC, including platform-specific definitions for macOS and Windows. It also reads the TCC version from a file and optionally includes the Git hash.\nSOURCE: https://github.com/oven-sh/bun/blob/main/patches/tinycc/CMakeLists.txt#2025-04-22_snippet_1\n\nLANGUAGE: CMake\nCODE:\n```\nadd_compile_definitions(\n  CONFIG_TCC_PREDEFS\n  ONE_SOURCE=0\n  TCC_LIBTCC1=\"\\\\0\"\n)\n\nif(APPLE)\n  add_compile_definitions(\n    TCC_TARGET_MACHO\n    CONFIG_CODESIGN\n    CONFIG_NEW_MACHO\n    CONFIG_USR_INCLUDE=\\\"${CMAKE_OSX_SYSROOT}\\\"\n  )\nendif()\n\nif(WIN32)\n  add_compile_definitions(\n    CONFIG_WIN32\n    CONFIG_TCCDIR=\\\"${CMAKE_CURRENT_SOURCE_DIR}/win32\\\"\n  )\nendif()\n\nfile(READ ${CMAKE_CURRENT_SOURCE_DIR}/VERSION TCC_VERSION)\n\nadd_compile_definitions(TCC_VERSION=\\\"${TCC_VERSION}\\\")\n\nexecute_process(\n  COMMAND git rev-parse --short HEAD\n  OUTPUT_VARIABLE TCC_GITHASH\n  OUTPUT_STRIP_TRAILING_WHITESPACE\n  ERROR_QUIET\n)\n\nif(TCC_GITHASH)\n  add_compile_definitions(TCC_GITHASH=\\\"${TCC_GITHASH}\\\")\nendif()\n```\n\n----------------------------------------\n\nTITLE: Initializing TinyCC Project with CMake\nDESCRIPTION: Sets up the CMake project for TinyCC, including version, language, and build type. It also configures compiler options and definitions based on the compiler and platform.\nSOURCE: https://github.com/oven-sh/bun/blob/main/patches/tinycc/CMakeLists.txt#2025-04-22_snippet_0\n\nLANGUAGE: CMake\nCODE:\n```\ncmake_minimum_required(VERSION 3.10)\nproject(tinycc VERSION 0.9.28 LANGUAGES C)\n\nif(NOT CMAKE_BUILD_TYPE)\n  set(CMAKE_BUILD_TYPE Debug)\nendif()\n\nset(CMAKE_C_STANDARD 99)\nset(CMAKE_C_STANDARD_REQUIRED ON)\n\nif(WIN32)\n  set(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)\nendif()\n\nadd_compile_options(-Wall)\n\nif(NOT CMAKE_C_COMPILER_ID MATCHES \"tcc\")\n  add_compile_options(\n    -fno-strict-aliasing\n    -Wdeclaration-after-statement\n    -Wpointer-sign\n    -Wsign-compare\n    -Wunused-result\n    -Wformat-truncation\n  )\nendif()\n\nif(CMAKE_C_COMPILER_ID MATCHES \"GNU\")\n  add_compile_options(\n    -fheinous-gnu-extensions\n    -Wno-string-plus-int\n    -Wno-deprecated-declarations\n  )\nendif()\n```\n\n----------------------------------------\n\nTITLE: Socket Context Management (us_socket_context_t) Implementation in C\nDESCRIPTION: Socket context implementation for managing groups of network sockets with shared behaviors. Handles SSL options, callbacks, and socket lifecycle management.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-usockets/misc/manual.md#2025-04-22_snippet_1\n\nLANGUAGE: c\nCODE:\n```\nstruct us_socket_context_options_t {\n    const char *key_file_name;\n    const char *cert_file_name;\n    const char *passphrase;\n    const char *dh_params_file_name;\n    const char *ca_file_name;\n    const char *ssl_ciphers;\n    int ssl_prefer_low_memory_usage;\n};\n\nWIN32_EXPORT struct us_socket_context_t *us_create_socket_context(int ssl, struct us_loop_t *loop, int ext_size, struct us_socket_context_options_t options);\n\n/* Additional socket context functions... */\n```\n\n----------------------------------------\n\nTITLE: Using Legacy Options as Properties in Commander.js\nDESCRIPTION: This example demonstrates how to revert to the pre-Commander 7 behavior of storing options as properties on the command object using storeOptionsAsProperties().\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/postject-copy/node_modules/commander/Readme.md#2025-04-22_snippet_39\n\nLANGUAGE: javascript\nCODE:\n```\nprogram\n  .storeOptionsAsProperties()\n  .option('-d, --debug')\n  .action((commandAndOptions) => {\n    if (commandAndOptions.debug) {\n      console.error(`Called ${commandAndOptions.name()}`);\n    }\n  });\n```\n\n----------------------------------------\n\nTITLE: HMR Acceptance with Callback in Bun\nDESCRIPTION: Demonstrates using import.meta.hot.accept with a callback that receives the updated module when hot replacement occurs. This allows custom handling of module updates.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/bundler/hmr.md#2025-04-22_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nexport const count = 0;\n\nimport.meta.hot.accept(newModule => {\n  if (newModule) {\n    // newModule is undefined when SyntaxError happened\n    console.log(\"updated: count is now \", newModule.count);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Verifying JSC Build Success in Bash\nDESCRIPTION: Executes the JavaScriptCore (JSC) command-line interface binary located in the build output directory (`src/bun.js/WebKit/WebKitBuild/Release/bin/jsc`) with the `--help` option. This command is used to verify that the JSC build completed successfully and the resulting binary is executable and functional, indicated by it printing help options.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nsrc/bun.js/WebKit/WebKitBuild/Release/bin/jsc --help\n```\n\n----------------------------------------\n\nTITLE: GitHub Fork Button SVG Icon\nDESCRIPTION: SVG icon markup for the repository fork button showing a fork symbol\nSOURCE: https://github.com/oven-sh/bun/blob/main/bench/snippets/_fixture.txt#2025-04-22_snippet_11\n\nLANGUAGE: SVG\nCODE:\n```\n<svg class=\"octicon octicon-repo-forked\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path fill-rule=\"evenodd\" d=\"M5 3.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm0 2.122a2.25 2.25 0 10-1.5 0v.878A2.25 2.25 0 005.75 8.5h1.5v2.128a2.251 2.251 0 101.5 0V8.5h1.5a2.25 2.25 0 002.25-2.25v-.878a2.25 2.25 0 10-1.5 0v.878a.75.75 0 01-.75.75h-4.5A.75.75 0 015 6.25v-.878zm3.75 7.378a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm3-8.75a.75.75 0 100-1.5.75.75 0 000 1.5z\"></path></svg>\n```\n\n----------------------------------------\n\nTITLE: Cleaning Bindings and Regenerating Headers in Bash\nDESCRIPTION: Executes the `make` command with multiple targets: `clean-bindings`, `headers`, and `builtins` from the Bun project root directory. This step cleans previously generated language bindings, regenerates necessary header files (likely for C++/Zig interop based on the updated JSC), and processes built-in components, preparing for the subsequent update of Bun's specific bindings.\nSOURCE: https://github.com/oven-sh/bun/blob/main/docs/contributing/upgrading-webkit.md#2025-04-22_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nmake clean-bindings headers builtins\n```\n\n----------------------------------------\n\nTITLE: Running Node.js Application from Command Line\nDESCRIPTION: Basic command line syntax for executing a Node.js application file. Uses options flag for additional configuration parameters.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/document_with_links.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnode [options] index.js\n```\n\n----------------------------------------\n\nTITLE: Specifying Version Number in Text\nDESCRIPTION: A plain text version number specification indicating the target version 2024b.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/tz-version.txt#2025-04-22_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n2024b\n```\n\n----------------------------------------\n\nTITLE: Writing Hello Heading in Markdown\nDESCRIPTION: A level 1 markdown heading that displays 'Hello'\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/node/test/fixtures/copy/kitchen-sink/a/c/README2.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# Hello\n```\n\n----------------------------------------\n\nTITLE: Describing Bun Binary in Markdown\nDESCRIPTION: A brief Markdown description of the Bun binary for Linux ARM64, including a link to the official website. This snippet provides basic information about the binary distribution and its purpose.\nSOURCE: https://github.com/oven-sh/bun/blob/main/packages/bun-release/npm/@oven/bun-linux-aarch64/README.md#2025-04-22_snippet_0\n\nLANGUAGE: Markdown\nCODE:\n```\n# Bun\n\nThis is the Linux arm64 binary for Bun, a fast all-in-one JavaScript runtime. https://bun.sh\n```\n\n----------------------------------------\n\nTITLE: Defining HTML Structure for Example Domain Page\nDESCRIPTION: This snippet outlines the basic HTML structure for the example domain page, including the doctype declaration, html, head, and body tags.\nSOURCE: https://github.com/oven-sh/bun/blob/main/test/js/bun/io/fetch.js.txt#2025-04-22_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<!doctype html>\n<html>\n<head>\n    <title>Example Domain</title>\n\n    <meta charset=\"utf-8\" />\n    <meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n    <style type=\"text/css\">\n    <!-- CSS styles here -->\n    </style>    \n</head>\n\n<body>\n<div>\n    <h1>Example Domain</h1>\n    <p>This domain is for use in illustrative examples in documents. You may use this\n    domain in literature without prior coordination or asking for permission.</p>\n    <p><a href=\"https://www.iana.org/domains/example\">More information...</a></p>\n</div>\n</body>\n</html>\n```"
  }
]