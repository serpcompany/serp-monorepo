[
  {
    "owner": "bluesky-social",
    "repo": "jetstream",
    "content": "TITLE: Advanced Jetstream Connection Example\nDESCRIPTION: Complete example demonstrating connection with all available query parameters including collections, DIDs and cursor position.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nwebsocat \"ws://localhost:6008/subscribe?wantedCollections=app.bsky.feed.post&wantedCollections=app.bsky.feed.like&wantedCollections=app.bsky.graph.follow&wantedDids=did:plc:q6gjnaw2blty4crticxkmujt&cursor=1725519626134432\"\n```\n\n----------------------------------------\n\nTITLE: Basic Jetstream Connection Example\nDESCRIPTION: Example showing how to connect to a public Jetstream instance using websocat to subscribe to post events.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nwebsocat wss://jetstream2.us-east.bsky.network/subscribe\\?wantedCollections=app.bsky.feed.post\n```\n\n----------------------------------------\n\nTITLE: Subscriber Options Update Type Definition\nDESCRIPTION: Go struct definition for options update messages that can be sent by subscribers.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_7\n\nLANGUAGE: go\nCODE:\n```\ntype SubscriberOptionsUpdateMsg struct {\n\tWantedCollections   []string `json:\"wantedCollections\"`\n\tWantedDIDs          []string `json:\"wantedDids\"`\n\tMaxMessageSizeBytes int      `json:\"maxMessageSizeBytes\"`\n}\n```\n\n----------------------------------------\n\nTITLE: Subscriber Message Type Definition\nDESCRIPTION: Go struct definition for subscriber-sourced messages that can be sent to Jetstream.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_6\n\nLANGUAGE: go\nCODE:\n```\ntype SubscriberSourcedMessage struct {\n\tType    string          `json:\"type\"`\n\tPayload json.RawMessage `json:\"payload\"`\n}\n```\n\n----------------------------------------\n\nTITLE: Options Update Message Example\nDESCRIPTION: Example JSON structure for sending an options update message to modify subscription filters.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"type\": \"options_update\",\n  \"payload\": {\n    \"wantedCollections\": [\"app.bsky.feed.post\"],\n    \"wantedDids\": [\"did:plc:q6gjnaw2blty4crticxkmujt\"],\n    \"maxMessageSizeBytes\": 1000000\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Account Status Event JSON Structure\nDESCRIPTION: Example JSON structure for an account status change event showing activation state.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"did\": \"did:plc:ufbl4k27gp6kzas5glhz7fim\",\n  \"time_us\": 1725516665333808,\n  \"kind\": \"account\",\n  \"account\": {\n    \"active\": true,\n    \"did\": \"did:plc:ufbl4k27gp6kzas5glhz7fim\",\n    \"seq\": 1409753013,\n    \"time\": \"2024-09-05T06:11:04.870Z\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Identity Update Event JSON Structure\nDESCRIPTION: Example JSON structure for an identity update event showing changes to a user's handle.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"did\": \"did:plc:ufbl4k27gp6kzas5glhz7fim\",\n  \"time_us\": 1725516665234703,\n  \"kind\": \"identity\",\n  \"identity\": {\n    \"did\": \"did:plc:ufbl4k27gp6kzas5glhz7fim\",\n    \"handle\": \"yohenrique.bsky.social\",\n    \"seq\": 1409752997,\n    \"time\": \"2024-09-05T06:11:04.870Z\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Like Event JSON Structure\nDESCRIPTION: Example JSON structure for a like event committed to a repository showing the commit format with create operation.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"did\": \"did:plc:eygmaihciaxprqvxpfvl6flk\",\n  \"time_us\": 1725911162329308,\n  \"kind\": \"commit\",\n  \"commit\": {\n    \"rev\": \"3l3qo2vutsw2b\",\n    \"operation\": \"create\",\n    \"collection\": \"app.bsky.feed.like\",\n    \"rkey\": \"3l3qo2vuowo2b\",\n    \"record\": {\n      \"$type\": \"app.bsky.feed.like\",\n      \"createdAt\": \"2024-09-09T19:46:02.102Z\",\n      \"subject\": {\n        \"cid\": \"bafyreidc6sydkkbchcyg62v77wbhzvb2mvytlmsychqgwf2xojjtirmzj4\",\n        \"uri\": \"at://did:plc:wa7b35aakoll7hugkrjtf3xf/app.bsky.feed.post/3l3pte3p2e325\"\n      }\n    },\n    \"cid\": \"bafyreidwaivazkwu67xztlmuobx35hs2lnfh3kolmgfmucldvhd3sgzcqi\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Delete Follow Event JSON Structure\nDESCRIPTION: Example JSON structure for a delete operation on a follow record showing the minimal commit format for deletions.\nSOURCE: https://github.com/bluesky-social/jetstream/blob/main/README.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"did\": \"did:plc:rfov6bpyztcnedeyyzgfq42k\",\n  \"time_us\": 1725516666833633,\n  \"kind\": \"commit\",\n  \"commit\": {\n    \"rev\": \"3l3f6nzl3cv2s\",\n    \"operation\": \"delete\",\n    \"collection\": \"app.bsky.graph.follow\",\n    \"rkey\": \"3l3dn7tku762u\"\n  }\n}\n```"
  }
]