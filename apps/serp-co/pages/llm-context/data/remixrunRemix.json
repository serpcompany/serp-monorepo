[
  {
    "owner": "remix-run",
    "repo": "remix",
    "content": "TITLE: Implementing Cloudinary File Upload Handler in Remix\nDESCRIPTION: Example implementation of a file upload handler that processes image uploads and stores them in Cloudinary. Demonstrates the use of multipart form data parsing and custom upload handler composition.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/file-uploads.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  UploadHandler,\n} from \"@remix-run/node\";\nimport {\n  unstable_composeUploadHandlers,\n  unstable_createMemoryUploadHandler,\n  unstable_parseMultipartFormData,\n} from \"@remix-run/node\";\nimport { writeAsyncIterableToWritable } from \"@remix-run/node\";\nimport type {\n  UploadApiOptions,\n  UploadApiResponse,\n  UploadStream,\n} from \"cloudinary\";\nimport cloudinary from \"cloudinary\";\n\nasync function uploadImageToCloudinary(\n  data: AsyncIterable<Uint8Array>\n) {\n  const uploadPromise = new Promise<UploadApiResponse>(\n    async (resolve, reject) => {\n      const uploadStream =\n        cloudinary.v2.uploader.upload_stream(\n          {\n            folder: \"remix\",\n          },\n          (error, result) => {\n            if (error) {\n              reject(error);\n              return;\n            }\n            resolve(result);\n          }\n        );\n      await writeAsyncIterableToWritable(\n        data,\n        uploadStream\n      );\n    }\n  );\n\n  return uploadPromise;\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const userId = getUserId(request);\n\n  const uploadHandler = unstable_composeUploadHandlers(\n    async ({ name, contentType, data, filename }) => {\n      if (name !== \"img\") {\n        return undefined;\n      }\n      const uploadedImage = await uploadImageToCloudinary(\n        data\n      );\n      return uploadedImage.secure_url;\n    },\n    unstable_createMemoryUploadHandler()\n  );\n\n  const formData = await unstable_parseMultipartFormData(\n    request,\n    uploadHandler\n  );\n\n  const imageUrl = formData.get(\"avatar\");\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Route with Essential Remix Components in TypeScript\nDESCRIPTION: This code snippet demonstrates how to set up the root route in a Remix application. It includes essential Remix components like Links, Meta, Outlet, Scripts, ScrollRestoration, and LiveReload. The snippet also shows how to define a links function for global stylesheets.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/root.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nimport globalStylesheetUrl from \"./global-styles.css\";\n\nexport const links: LinksFunction = () => {\n  return [{ rel: \"stylesheet\", href: globalStylesheetUrl }];\n};\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n\n        {/* All `meta` exports on all routes will render here */}\n        <Meta />\n\n        {/* All `link` exports on all routes will render here */}\n        <Links />\n      </head>\n      <body>\n        {/* Child routes render here */}\n        <Outlet />\n\n        {/* Manages scroll position for client-side transitions */}\n        {/* If you use a nonce-based content security policy for scripts, you must provide the `nonce` prop. Otherwise, omit the nonce prop as shown here. */}\n        <ScrollRestoration />\n\n        {/* Script tags go here */}\n        {/* If you use a nonce-based content security policy for scripts, you must provide the `nonce` prop. Otherwise, omit the nonce prop as shown here. */}\n        <Scripts />\n\n        {/* Sets up automatic reload when you change code */}\n        {/* and only does anything during development */}\n        {/* If you use a nonce-based content security policy for scripts, you must provide the `nonce` prop. Otherwise, omit the nonce prop as shown here. */}\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Action and Loader Functions in Remix (TSX)\nDESCRIPTION: This snippet demonstrates how to implement action and loader functions in a Remix route. It includes handling form submissions, creating todos, fetching todos, and rendering a component with the retrieved data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/action.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json, redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Form } from \"@remix-run/react\";\n\nimport { TodoList } from \"~/components/TodoList\";\nimport { fakeCreateTodo, fakeGetTodos } from \"~/utils/db\";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const body = await request.formData();\n  const todo = await fakeCreateTodo({\n    title: body.get(\"title\"),\n  });\n  return redirect(`/todos/${todo.id}`);\n}\n\nexport async function loader() {\n  return json(await fakeGetTodos());\n}\n\nexport default function Todos() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <TodoList todos={data} />\n      <Form method=\"post\">\n        <input type=\"text\" name=\"title\" />\n        <button type=\"submit\">Create Todo</button>\n      </Form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Data Loading with Loader in Remix (TypeScript/TSX)\nDESCRIPTION: Demonstrates how to use a loader to fetch data and render it in a component using useLoaderData hook. The loader runs on the server, returning a JSON response with product data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport const loader = async () => {\n  return json([\n    { id: \"1\", name: \"Pants\" },\n    { id: \"2\", name: \"Jacket\" },\n  ]);\n};\n\nexport default function Products() {\n  const products = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <h1>Products</h1>\n      {products.map((product) => (\n        <div key={product.id}>{product.name}</div>\n      ))}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Dependencies\nDESCRIPTION: Commands for creating a new directory and installing required Remix dependencies including runtime and development packages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nmkdir my-remix-app\ncd my-remix-app\nnpm init -y\n\n# install runtime dependencies\nnpm i @remix-run/node @remix-run/react @remix-run/serve isbot@4 react react-dom\n\n# install dev dependencies\nnpm i -D @remix-run/dev vite\n```\n\n----------------------------------------\n\nTITLE: Implementing Route Module with Server and Client Code in Remix\nDESCRIPTION: Example of a complete route module showing server-side functions (loader, action, headers) and client-side component rendering for a user settings page. Demonstrates typical Remix patterns for data loading and form handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/server-vs-client.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  HeadersFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { getUser, updateUser } from \"../user\";\n\nexport const headers: HeadersFunction = () => ({\n  \"Cache-Control\": \"max-age=300, s-maxage=3600\",\n});\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const user = await getUser(request);\n  return json({\n    displayName: user.displayName,\n    email: user.email,\n  });\n}\n\nexport default function Component() {\n  const user = useLoaderData<typeof loader>();\n  return (\n    <Form action=\"/account\">\n      <h1>Settings for {user.displayName}</h1>\n\n      <input\n        name=\"displayName\"\n        defaultValue={user.displayName}\n      />\n      <input name=\"email\" defaultValue={user.email} />\n\n      <button type=\"submit\">Save</button>\n    </Form>\n  );\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const user = await getUser(request);\n\n  await updateUser(user.id, {\n    email: formData.get(\"email\"),\n    displayName: formData.get(\"displayName\"),\n  });\n\n  return json({ ok: true });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Validation for New Joke Form in Remix (TSX)\nDESCRIPTION: This snippet shows the full implementation of the NewJokeRoute with server-side validation. It includes validation functions, error handling, and updates the component to display validation errors.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_35\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\nimport { useActionData } from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\n\nfunction validateJokeContent(content: string) {\n  if (content.length < 10) {\n    return \"That joke is too short\";\n  }\n}\n\nfunction validateJokeName(name: string) {\n  if (name.length < 3) {\n    return \"That joke's name is too short\";\n  }\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fieldErrors = {\n    content: validateJokeContent(content),\n    name: validateJokeName(name),\n  };\n  const fields = { content, name };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  const joke = await db.joke.create({ data: fields });\n  return redirect(`/jokes/${joke.id}`);\n};\n\nexport default function NewJokeRoute() {\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <form method=\"post\">\n        <div>\n          <label>\n            Name:{\" \"}\n            <input\n              defaultValue={actionData?.fields?.name}\n              name=\"name\"\n              type=\"text\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.name\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.name\n                  ? \"name-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.name ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"name-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.name}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          <label>\n            Content:{\" \"}\n            <textarea\n              defaultValue={actionData?.fields?.content}\n              name=\"content\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.content\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.content\n                  ? \"content-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.content ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"content-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.content}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          {actionData?.formError ? (\n            <p\n              className=\"form-validation-error\"\n              role=\"alert\"\n            >\n              {actionData.formError}\n            </p>\n          ) : null}\n          <button type=\"submit\" className=\"button\">\n            Add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Joke Detail Route in Remix with TypeScript\nDESCRIPTION: A Remix route component for displaying a single joke, with functionality for viewing, linking, and deleting jokes. Includes loader for data fetching, action for joke deletion, metadata generation, and error handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_82\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  Form,\n  isRouteErrorResponse,\n  Link,\n  useLoaderData,\n  useParams,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const meta: MetaFunction<typeof loader> = ({\n  data,\n}) => {\n  const { description, title } = data\n    ? {\n        description: `Enjoy the \"${data.joke.name}\" joke and much more`,\n        title: `\"${data.joke.name}\" joke`,\n      }\n    : { description: \"No joke found\", title: \"No joke\" };\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title },\n  ];\n};\n\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"What a joke! Not found.\", {\n      status: 404,\n    });\n  }\n  return json({\n    isOwner: userId === joke.jokesterId,\n    joke,\n  });\n};\n\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  if (form.get(\"intent\") !== \"delete\") {\n    throw new Response(\n      `The intent ${form.get(\"intent\")} is not supported`,\n      { status: 400 }\n    );\n  }\n  const userId = await requireUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"Can't delete what does not exist\", {\n      status: 404,\n    });\n  }\n  if (joke.jokesterId !== userId) {\n    throw new Response(\n      \"Pssh, nice try. That's not your joke\",\n      { status: 403 }\n    );\n  }\n  await db.joke.delete({ where: { id: params.jokeId } });\n  return redirect(\"/jokes\");\n};\n\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{data.joke.content}</p>\n      <Link to=\".\">\"${data.joke.name}\" Permalink</Link>\n      {data.isOwner ? (\n        <Form method=\"post\">\n          <button\n            className=\"button\"\n            name=\"intent\"\n            type=\"submit\"\n            value=\"delete\"\n          >\n            Delete\n          </button>\n        </Form>\n      ) : null}\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const { jokeId } = useParams();\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error)) {\n    if (error.status === 400) {\n      return (\n        <div className=\"error-container\">\n          What you're trying to do is not allowed.\n        </div>\n      );\n    }\n    if (error.status === 403) {\n      return (\n        <div className=\"error-container\">\n          Sorry, but \"{jokeId}\" is not your joke.\n        </div>\n      );\n    }\n    if (error.status === 404) {\n      return (\n        <div className=\"error-container\">\n          Huh? What the heck is \"{jokeId}\"?\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className=\"error-container\">\n      There was an error loading joke by the id \"${jokeId}\".\n      Sorry.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Complete Invoice Route with Error Handling\nDESCRIPTION: Comprehensive example showing invoice route implementation with loader, error handling, user session validation, and custom error boundary component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/loader.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  useLoaderData,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { getInvoice } from \"~/db\";\nimport { requireUserSession } from \"~/http\";\n\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const user = await requireUserSession(request);\n  const invoice = getInvoice(params.invoiceId);\n\n  if (!invoice.userIds.includes(user.id)) {\n    throw json(\n      { invoiceOwnerEmail: invoice.owner.email },\n      { status: 401 }\n    );\n  }\n\n  return json(invoice);\n};\n\nexport default function InvoiceRoute() {\n  const invoice = useLoaderData<typeof loader>();\n  return <InvoiceView invoice={invoice} />;\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    switch (error.status) {\n      case 401:\n        return (\n          <div>\n            <p>You don't have access to this invoice.</p>\n            <p>\n              Contact {error.data.invoiceOwnerEmail} to get\n              access\n            </p>\n          </div>\n        );\n      case 404:\n        return <div>Invoice not found!</div>;\n    }\n\n    return (\n      <div>\n        Something went wrong: {error.status}{\" \"}\n        {error.statusText}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      Something went wrong:{\" \"}\n      {error?.message || \"Unknown Error\"}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Animated Validation Message Component in React/TSX\nDESCRIPTION: A React component that animates validation error messages with fade and height transitions. Uses useState and useEffect hooks to control animation timing and visibility based on error state and form submission status.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\nfunction ValidationMessage({ error, isSubmitting }) {\n  const [show, setShow] = useState(!!error);\n\n  useEffect(() => {\n    const id = setTimeout(() => {\n      const hasError = !!error;\n      setShow(hasError && !isSubmitting);\n    });\n    return () => clearTimeout(id);\n  }, [error, isSubmitting]);\n\n  return (\n    <div\n      style={{\n        opacity: show ? 1 : 0,\n        height: show ? \"1em\" : 0,\n        color: \"red\",\n        transition: \"all 300ms ease-in-out\",\n      }}\n    >\n      {error}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Form-based Search Parameter Controls\nDESCRIPTION: Shows how to implement a form that controls URL search parameters using checkboxes. Demonstrates handling multiple values for the same parameter name.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function ProductFilters() {\n  return (\n    <Form method=\"get\">\n      <label htmlFor=\"nike\">Nike</label>\n      <input\n        type=\"checkbox\"\n        id=\"nike\"\n        name=\"brand\"\n        value=\"nike\"\n      />\n\n      <label htmlFor=\"adidas\">Adidas</label>\n      <input\n        type=\"checkbox\"\n        id=\"adidas\"\n        name=\"brand\"\n        value=\"adidas\"\n      />\n\n      <button type=\"submit\">Update</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Type-Safe Database Query with Prisma in Remix (TypeScript/TSX)\nDESCRIPTION: Demonstrates a type-safe approach to querying a database with Prisma in a Remix loader. It shows how to use type inference for better type safety and intellisense when working with loaded data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { db } from \"~/db.server\";\n\nasync function getLoaderData(productId: string) {\n  const product = await db.product.findUnique({\n    where: {\n      id: productId,\n    },\n    select: {\n      id: true,\n      name: true,\n      imgSrc: true,\n    },\n  });\n\n  return product;\n}\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  return json(await getLoaderData(params.productId));\n};\n\nexport default function Product() {\n  const product = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <p>Product {product.id}</p>\n      {/* ... */}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating User Session After Authentication\nDESCRIPTION: Function that creates a new session for an authenticated user and redirects them to the specified URL. Sets the userId in the session and returns a response with the Set-Cookie header.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_51\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport async function createUserSession(\n  userId: string,\n  redirectTo: string\n) {\n  const session = await storage.getSession();\n  session.set(\"userId\", userId);\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await storage.commitSession(session),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Using useFetcher for Background Tasks in Remix\nDESCRIPTION: A custom hook that marks an article as read after a user has spent time on the page and scrolled to the bottom. It uses useFetcher to submit data without causing navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/form-vs-fetcher.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nfunction useMarkAsRead({ articleId, userId }) {\n  const marker = useFetcher();\n\n  useSpentSomeTimeHereAndScrolledToTheBottom(() => {\n    marker.submit(\n      { userId },\n      {\n        action: `/article/${articleId}/mark-as-read`,\n        method: \"post\",\n      }\n    );\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Optimistic UI Updates with Remix Fetcher\nDESCRIPTION: This code adds optimistic UI updates to the favorite toggle feature by reading the submitted form data from fetcher.formData. It immediately updates the UI state based on the pending form submission before the server responds, providing instant feedback to users.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_29\n\nLANGUAGE: tsx\nCODE:\n```\n// existing code\n\nconst Favorite: FunctionComponent<{\n  contact: Pick<ContactRecord, \"favorite\">;\n}> = ({ contact }) => {\n  const fetcher = useFetcher();\n  const favorite = fetcher.formData\n    ? fetcher.formData.get(\"favorite\") === \"true\"\n    : contact.favorite;\n\n  return (\n    <fetcher.Form method=\"post\">\n      <button\n        aria-label={\n          favorite\n            ? \"Remove from favorites\"\n            : \"Add to favorites\"\n        }\n        name=\"favorite\"\n        value={favorite ? \"false\" : \"true\"}\n      >\n        {favorite ? \"★\" : \"☆\"}\n      </button>\n    </fetcher.Form>\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Creating a Destroy Route for Deleting Records in Remix\nDESCRIPTION: This snippet shows how to create a destroy route for deleting records in a Remix application. It includes creating a new route file and implementing the delete action.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_18\n\nLANGUAGE: shellscript\nCODE:\n```\ntouch app/routes/contacts.\\$contactId_.destroy.tsx\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\nimport invariant from \"tiny-invariant\";\n\nimport { deleteContact } from \"../data\";\n\nexport const action = async ({\n  params,\n}: ActionFunctionArgs) => {\n  invariant(params.contactId, \"Missing contactId param\");\n  await deleteContact(params.contactId);\n  return redirect(\"/\");\n};\n```\n\n----------------------------------------\n\nTITLE: Complete Remix Route with Form and Action\nDESCRIPTION: A complete Remix route module with both the form component and the action function that handles form submission, creates a project, and redirects to the new project page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\n\n// Note the \"action\" export name, this will handle our form POST\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const formData = await request.formData();\n  const project = await createProject(formData);\n  return redirect(`/projects/${project.id}`);\n};\n\nexport default function NewProject() {\n  // ... same as before\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Cookie-based Session Storage in Remix\nDESCRIPTION: This snippet demonstrates how to create a cookie-based session storage in Remix. It defines session data types and configures the cookie options for the session.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// app/sessions.ts\nimport { createCookieSessionStorage } from \"@remix-run/node\"; // or cloudflare/deno\n\ntype SessionData = {\n  userId: string;\n};\n\ntype SessionFlashData = {\n  error: string;\n};\n\nconst { getSession, commitSession, destroySession } =\n  createCookieSessionStorage<SessionData, SessionFlashData>(\n    {\n      // a Cookie from `createCookie` or the CookieOptions to create one\n      cookie: {\n        name: \"__session\",\n\n        // all of these are optional\n        domain: \"remix.run\",\n        // Expires can also be set (although maxAge overrides it when used in combination).\n        // Note that this method is NOT recommended as `new Date` creates only one date on each server deployment, not a dynamic date in the future!\n        //\n        // expires: new Date(Date.now() + 60_000),\n        httpOnly: true,\n        maxAge: 60,\n        path: \"/\",\n        sameSite: \"lax\",\n        secrets: [\"s3cret1\"],\n        secure: true,\n      },\n    }\n  );\n\nexport { getSession, commitSession, destroySession };\n```\n\n----------------------------------------\n\nTITLE: Basic Remix Configuration Example (JavaScript)\nDESCRIPTION: A sample remix.config.js file showing the standard configuration options for a Remix application. It demonstrates how to configure application directories, asset paths, route handling, and build settings.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  appDirectory: \"app\",\n  assetsBuildDirectory: \"public/build\",\n  future: {\n    /* any enabled future flags */\n  },\n  ignoredRouteFiles: [\"**/*.css\"],\n  publicPath: \"/build/\",\n  routes(defineRoutes) {\n    return defineRoutes((route) => {\n      route(\"/somewhere/cool/*\", \"catchall.tsx\");\n    });\n  },\n  serverBuildPath: \"build/index.js\",\n};\n```\n\n----------------------------------------\n\nTITLE: Optimizing Revalidation for URL Param Changes\nDESCRIPTION: This snippet demonstrates how to optimize revalidation based on changes in URL parameters, specifically for event slugs containing IDs.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/should-revalidate.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const id = params.slug.split(\"--\")[1];\n  return loadEvent(id);\n}\n\nexport function shouldRevalidate({\n  currentParams,\n  nextParams,\n  defaultShouldRevalidate,\n}) {\n  const currentId = currentParams.slug.split(\"--\")[1];\n  const nextId = nextParams.slug.split(\"--\")[1];\n  if (currentId === nextId) {\n    return false;\n  }\n\n  return defaultShouldRevalidate;\n}\n```\n\n----------------------------------------\n\nTITLE: Using useFetcher Hook in Remix\nDESCRIPTION: This snippet shows how to use the useFetcher hook in Remix for handling form submissions or data mutations without navigating away from the current page. It demonstrates creating a fetcher and using its methods.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/index.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nexport default function SomeComponent() {\n  const fetcher = useFetcher();\n\n  return (\n    <div>\n      <fetcher.Form method=\"post\">\n        <input type=\"text\" name=\"name\" />\n        <button type=\"submit\">Create</button>\n      </fetcher.Form>\n\n      {fetcher.state === \"submitting\" ? (\n        <p>Creating...</p>\n      ) : null}\n\n      {fetcher.data?.error ? (\n        <p>Error: {fetcher.data.error}</p>\n      ) : null}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing User Login Authentication in TypeScript\nDESCRIPTION: Function that authenticates a user by checking username and password against database records using bcrypt for password comparison. Returns user ID and username if authentication succeeds, otherwise returns null.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_46\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport async function login({\n  username,\n  password,\n}: LoginForm) {\n  const user = await db.user.findUnique({\n    where: { username },\n  });\n  if (!user) {\n    return null;\n  }\n  const isCorrectPassword = await bcrypt.compare(\n    password,\n    user.passwordHash\n  );\n  if (!isCorrectPassword) {\n    return null;\n  }\n\n  return { id: user.id, username };\n}\n```\n\n----------------------------------------\n\nTITLE: Using useLoaderData Hook in Remix TSX\nDESCRIPTION: This snippet demonstrates how to use the useLoaderData hook in a Remix application. It shows the loader function exporting data and the component using that data via useLoaderData.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-loader-data.md#2025-04-18_snippet_0\n\nLANGUAGE: TSX\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport async function loader() {\n  return json(await fakeDb.invoices.findAll());\n}\n\nexport default function Invoices() {\n  const invoices = useLoaderData<typeof loader>();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Error Handling in Remix Loader (TSX)\nDESCRIPTION: This code snippet illustrates error handling in a Remix loader function, demonstrating how errors are sanitized in production and how to throw custom Response objects for specific error messages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/errors.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  if (badConditionIsTrue()) {\n    throw new Error(\"Oh no! Something went wrong!\");\n  }\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  // When NODE_ENV=production:\n  // error.message = \"Unexpected Server Error\"\n  // error.stack = undefined\n}\n```\n\n----------------------------------------\n\nTITLE: Handling Route Params in Remix Loader (TypeScript)\nDESCRIPTION: Shows how to access and use route parameters in a Remix loader function. It demonstrates parsing userId and projectId from the URL and using them to query a database.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  return json(\n    await fakeDb.project.findMany({\n      where: {\n        userId: params.userId,\n        projectId: params.projectId,\n      },\n    })\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing a Route Action in Remix\nDESCRIPTION: Implementation of an action function that processes form submissions. The action extracts form data, updates the user record in the database, and returns a JSON response indicating success.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/data-flow.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData, Form } from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const user = await getUser(request);\n  return json({\n    displayName: user.displayName,\n    email: user.email,\n  });\n}\n\nexport default function Component() {\n  const user = useLoaderData<typeof loader>();\n  return (\n    <Form method=\"post\" action=\"/account\">\n      <h1>Settings for {user.displayName}</h1>\n\n      <input\n        name=\"displayName\"\n        defaultValue={user.displayName}\n      />\n      <input name=\"email\" defaultValue={user.email} />\n\n      <button type=\"submit\">Save</button>\n    </Form>\n  );\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const user = await getUser(request);\n\n  await updateUser(user.id, {\n    email: formData.get(\"email\"),\n    displayName: formData.get(\"displayName\"),\n  });\n\n  return json({ ok: true });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing a Backend For Frontend (BFF) Pattern in Remix with API Integration\nDESCRIPTION: This code demonstrates a Remix loader function that serves as a BFF by fetching data from an external API, adding authentication, pruning the response data, and formatting content before sending it to the frontend. It showcases how to keep API tokens secure on the server, reduce network payload size, and move processing code from client to server.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/bff.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport escapeHtml from \"escape-html\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const apiUrl = \"http://api.example.com/some-data.json\";\n  const res = await fetch(apiUrl, {\n    headers: {\n      Authorization: `Bearer ${process.env.API_TOKEN}`,\n    },\n  });\n\n  const data = await res.json();\n\n  const prunedData = data.map((record) => {\n    return {\n      id: record.id,\n      title: record.title,\n      formattedBody: escapeHtml(record.content),\n    };\n  });\n  return json(prunedData);\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Action for Form Validation in Remix (TypeScript)\nDESCRIPTION: This snippet defines a server action for form validation in Remix. It checks for valid email format and password length, returning errors if validation fails or redirecting to the dashboard on success.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/form-validation.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json, redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Form } from \"@remix-run/react\";\n\nexport default function Signup() {\n  // omitted for brevity\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const email = String(formData.get(\"email\"));\n  const password = String(formData.get(\"password\"));\n\n  const errors = {};\n\n  if (!email.includes(\"@\")) {\n    errors.email = \"Invalid email address\";\n  }\n\n  if (password.length < 12) {\n    errors.password =\n      \"Password should be at least 12 characters\";\n  }\n\n  if (Object.keys(errors).length > 0) {\n    return json({ errors });\n  }\n\n  // Redirect to dashboard if validation is successful\n  return redirect(\"/dashboard\");\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Root Action to Redirect to Edit Page in Remix\nDESCRIPTION: Modified root action function that redirects to the edit page after creating a new empty contact, improving the user flow.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_15\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports\nimport { json, redirect } from \"@remix-run/node\";\n// existing imports\n\nexport const action = async () => {\n  const contact = await createEmptyContact();\n  return redirect(`/contacts/${contact.id}/edit`);\n};\n\n// existing code\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic clientLoader in Remix\nDESCRIPTION: Demonstrates the basic structure of a clientLoader function that can fetch data from both server and client. The function receives request, params, and serverLoader arguments and can combine or transform data from multiple sources.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/client-loader.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const clientLoader = async ({\n  request,\n  params,\n  serverLoader,\n}: ClientLoaderFunctionArgs) => {\n  // call the server loader\n  const serverData = await serverLoader();\n  // And/or fetch data on the client\n  const data = getDataFromClient();\n  // Return the data to expose through useLoaderData()\n  return data;\n};\n```\n\n----------------------------------------\n\nTITLE: Creating a Deferred Response in Remix\nDESCRIPTION: This code snippet demonstrates how to use the defer function to create a streaming/deferred response in a Remix loader. It allows transporting promises to UI components without awaiting them.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/defer.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { defer } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async () => {\n  const aStillRunningPromise = loadSlowDataAsync();\n\n  // So you can write this without awaiting the promise:\n  return defer({\n    critical: \"data\",\n    slowPromise: aStillRunningPromise,\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Remix Action Function for Processing Form Submission\nDESCRIPTION: A Remix action function that handles form POST requests, processes the submitted form data, creates a project, and redirects to the new project page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const body = await request.formData();\n  const project = await createProject(body);\n  return redirect(`/projects/${project.id}`);\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Usage of useSubmit Hook in React\nDESCRIPTION: Demonstrates how to import and use the useSubmit hook in a React component to programmatically submit a form on change event.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useSubmit } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const submit = useSubmit();\n  return (\n    <Form\n      onChange={(event) => {\n        submit(event.currentTarget);\n      }}\n    />\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Merging Cache-Control Headers in Nested Remix Routes\nDESCRIPTION: This snippet demonstrates a strategy for merging Cache-Control headers in nested routes, ensuring the most conservative caching policy is applied when parent and child routes define conflicting headers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/headers.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { HeadersFunction } from \"@remix-run/node\"; // or cloudflare/deno\nimport parseCacheControl from \"parse-cache-control\";\n\nexport const headers: HeadersFunction = ({\n  loaderHeaders,\n  parentHeaders,\n}) => {\n  const loaderCache = parseCacheControl(\n    loaderHeaders.get(\"Cache-Control\")\n  );\n  const parentCache = parseCacheControl(\n    parentHeaders.get(\"Cache-Control\")\n  );\n\n  // take the most conservative between the parent and loader, otherwise\n  // we'll be too aggressive for one of them.\n  const maxAge = Math.min(\n    loaderCache[\"max-age\"],\n    parentCache[\"max-age\"]\n  );\n\n  return {\n    \"Cache-Control\": `max-age=${maxAge}`,\n  };\n};\n```\n\n----------------------------------------\n\nTITLE: Basic Remix Loader Implementation\nDESCRIPTION: Shows the basic implementation of a Remix loader function that returns JSON data. This example demonstrates the server-side only execution pattern.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/loader.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async () => {\n  return json({ ok: true });\n};\n```\n\n----------------------------------------\n\nTITLE: Using unstable_parseMultipartFormData in Remix Action Function\nDESCRIPTION: This code snippet demonstrates how to use unstable_parseMultipartFormData in a Remix action function to handle file uploads. It processes the form data, updates a user's avatar, and redirects to the account page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/parse-multipart-form-data.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const formData = await unstable_parseMultipartFormData(\n    request,\n    uploadHandler // <-- we'll look at this deeper next\n  );\n\n  // the returned value for the file field is whatever our uploadHandler returns.\n  // Let's imagine we're uploading the avatar to s3,\n  // so our uploadHandler returns the URL.\n  const avatarUrl = formData.get(\"avatar\");\n\n  // update the currently logged in user's avatar in our database\n  await updateUserAvatar(request, avatarUrl);\n\n  // success! Redirect to account page\n  return redirect(\"/account\");\n};\n\nexport default function AvatarUploadRoute() {\n  return (\n    <Form method=\"post\" encType=\"multipart/form-data\">\n      <label htmlFor=\"avatar-input\">Avatar</label>\n      <input id=\"avatar-input\" type=\"file\" name=\"avatar\" />\n      <button>Upload</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Enhanced Form with Pending UI\nDESCRIPTION: Advanced form implementation using Remix's Form component with pending UI states and disabled fields during submission.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  useActionData,\n  Form,\n  useNavigation,\n} from \"@remix-run/react\";\n\nexport default function NewProject() {\n  const navigation = useNavigation();\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <Form method=\"post\">\n      <fieldset\n        disabled={navigation.state === \"submitting\"}\n      >\n        <p>\n          <label>\n            Name:{\" \"}\n            <input\n              name=\"name\"\n              type=\"text\"\n              defaultValue={\n                actionData\n                  ? actionData.values.name\n                  : undefined\n              }\n            />\n          </label>\n        </p>\n\n        {actionData && actionData.errors.name ? (\n          <p style={{ color: \"red\" }}>\n            {actionData.errors.name}\n          </p>\n        ) : null}\n\n        <p>\n          <label>\n            Description:\n            <br />\n            <textarea\n              name=\"description\"\n              defaultValue={\n                actionData\n                  ? actionData.values.description\n                  : undefined\n              }\n            />\n          </label>\n        </p>\n\n        {actionData && actionData.errors.description ? (\n          <p style={{ color: \"red\" }}>\n            {actionData.errors.description}\n          </p>\n        ) : null}\n\n        <p>\n          <button type=\"submit\">\n            {navigation.state === \"submitting\"\n              ? \"Creating...\"\n              : \"Create\"}\n          </button>\n        </p>\n      </fieldset>\n    </Form>\n  );\n```\n\n----------------------------------------\n\nTITLE: Implementing User Session Authentication in Remix\nDESCRIPTION: This snippet demonstrates how to create a reusable function that validates user sessions for protected routes. It uses cookie-based session storage to check if a user is authenticated and redirects to login if not.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/faq.md#2025-04-18_snippet_0\n\nLANGUAGE: ts\nCODE:\n```\nimport {\n  createCookieSessionStorage,\n  redirect,\n} from \"@remix-run/node\"; // or cloudflare/deno\n\n// somewhere you've got a session storage\nconst { getSession } = createCookieSessionStorage();\n\nexport async function requireUserSession(request) {\n  // get the session\n  const cookie = request.headers.get(\"cookie\");\n  const session = await getSession(cookie);\n\n  // validate the session, `userId` is just an example, use whatever value you\n  // put in the session when the user authenticated\n  if (!session.has(\"userId\")) {\n    // if there is no user session, redirect to login\n    throw redirect(\"/login\");\n  }\n\n  return session;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Client-Side Caching in Remix\nDESCRIPTION: This snippet demonstrates how to implement client-side caching in Remix using clientLoader and clientAction. It loads data from the server on initial load, caches it, and uses the cache for subsequent navigations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/client-data.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport type {\n  ClientActionFunctionArgs,\n  ClientLoaderFunctionArgs,\n} from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const data = await getDataFromDb({ request }); // (1)\n  return json(data);\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  await saveDataToDb({ request });\n  return json({ ok: true });\n}\n\nlet isInitialRequest = true;\n\nexport async function clientLoader({\n  request,\n  serverLoader,\n}: ClientLoaderFunctionArgs) {\n  const cacheKey = generateKey(request);\n\n  if (isInitialRequest) {\n    isInitialRequest = false;\n    const serverData = await serverLoader();\n    cache.set(cacheKey, serverData); // (2)\n    return serverData;\n  }\n\n  const cachedData = await cache.get(cacheKey);\n  if (cachedData) {\n    return cachedData; // (3)\n  }\n\n  const serverData = await serverLoader();\n  cache.set(cacheKey, serverData);\n  return serverData;\n}\nclientLoader.hydrate = true; // (2)\n\nexport async function clientAction({\n  request,\n  serverAction,\n}: ClientActionFunctionArgs) {\n  const cacheKey = generateKey(request);\n  cache.delete(cacheKey); // (4)\n  const serverData = await serverAction();\n  return serverData;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Global Pending UI with useNavigation in Remix\nDESCRIPTION: This snippet demonstrates how to use the useNavigation hook to add global pending UI in a Remix application. It updates the App component to show a loading state during navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  Links,\n  Meta,\n  NavLink,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n  useNavigation,\n} from \"@remix-run/react\";\n\n// existing imports & exports\n\nexport default function App() {\n  const { contacts } = useLoaderData<typeof loader>();\n  const navigation = useNavigation();\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        {/* existing elements */}\n        <div\n          className={\n            navigation.state === \"loading\" ? \"loading\" : \"\"\n          }\n          id=\"detail\"\n        >\n          <Outlet />\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Reusable Joke Component in Remix\nDESCRIPTION: This component provides a reusable UI for displaying jokes with conditional delete functionality for joke owners. It accepts the joke content, name, ownership status, and delete permission as props.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_86\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { Joke } from \"@prisma/client\";\nimport { Form, Link } from \"@remix-run/react\";\n\nexport function JokeDisplay({\n  canDelete = true,\n  isOwner,\n  joke,\n}: {\n  canDelete?: boolean;\n  isOwner: boolean;\n  joke: Pick<Joke, \"content\" | \"name\">;\n}) {\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{joke.content}</p>\n      <Link to=\".\">\"{\njoke.name}\" Permalink</Link>\n      {isOwner ? (\n        <Form method=\"post\">\n          <button\n            className=\"button\"\n            disabled={!canDelete}\n            name=\"intent\"\n            type=\"submit\"\n            value=\"delete\"\n          >\n            Delete\n          </button>\n        </Form>\n      ) : null}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating and Using Cookies in Remix\nDESCRIPTION: The createCookie function allows creation of a cookie with various options. The example demonstrates creating a cookie, setting it in a loader, and accessing it in an action.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/index.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { createCookie } from \"@remix-run/node\"; // or cloudflare/deno\n\nconst cookie = createCookie(\"color\", {\n  maxAge: 604_800, // one week\n});\n\nexport const loader = async ({ request }) => {\n  const cookieHeader = request.headers.get(\"Cookie\");\n  const color = await cookie.parse(cookieHeader);\n  return json({ color });\n};\n\nexport const action = async ({ request }) => {\n  const color = (await request.formData()).get(\"color\");\n  return json(\n    { ok: true },\n    {\n      headers: {\n        \"Set-Cookie\": await cookie.serialize(color),\n      },\n    }\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Basic Await Component Usage with Suspense\nDESCRIPTION: Demonstrates how to use the Await component with a Suspense boundary for handling loading states when streaming data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Await } from \"@remix-run/react\";\n\n<Suspense fallback={<div>Loading...</div>}>\n  <Await resolve={somePromise}>\n    {(resolvedValue) => <p>{resolvedValue}</p>}\n  </Await>\n</Suspense>;\n```\n\n----------------------------------------\n\nTITLE: Adding Action Function for Form Submission in Remix\nDESCRIPTION: Updated contact edit component with an action function that processes form submissions, transforms FormData into an object, and redirects after updating the contact.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_14\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\n// existing imports\n\nimport { getContact, updateContact } from \"../data\";\n\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  invariant(params.contactId, \"Missing contactId param\");\n  const formData = await request.formData();\n  const updates = Object.fromEntries(formData);\n  await updateContact(params.contactId, updates);\n  return redirect(`/contacts/${params.contactId}`);\n};\n\n// existing code\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite for Remix\nDESCRIPTION: Basic Vite configuration setup required for Remix using the Remix Vite plugin.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Fetching from External API in Remix Loader (TypeScript/TSX)\nDESCRIPTION: Demonstrates how to fetch data from an external API within a Remix loader and render it in a component. This example fetches GitHub gists and displays them as a list.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport async function loader() {\n  const res = await fetch(\"https://api.github.com/gists\");\n  return json(await res.json());\n}\n\nexport default function GistsRoute() {\n  const gists = useLoaderData<typeof loader>();\n  return (\n    <ul>\n      {gists.map((gist) => (\n        <li key={gist.id}>\n          <a href={gist.html_url}>{gist.id}</a>\n        </li>\n      ))}\n    </ul>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Logout Functionality with Session Destruction in Remix\nDESCRIPTION: This snippet demonstrates how to implement a logout route in Remix. It includes the action function for destroying the session and rendering a simple logout confirmation form.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { getSession, destroySession } from \"../sessions\";\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const session = await getSession(\n    request.headers.get(\"Cookie\")\n  );\n  return redirect(\"/login\", {\n    headers: {\n      \"Set-Cookie\": await destroySession(session),\n    },\n  });\n};\n\nexport default function LogoutRoute() {\n  return (\n    <>\n      <p>Are you sure you want to log out?</p>\n      <Form method=\"post\">\n        <button>Logout</button>\n      </Form>\n      <Link to=\"/\">Never mind</Link>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing ErrorBoundary Component in Remix with TypeScript\nDESCRIPTION: Example implementation of an ErrorBoundary component that handles both RouteErrorResponse and standard Error objects. The component uses useRouteError hook to access error details and isRouteErrorResponse utility to differentiate between error types.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/error-boundary.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  isRouteErrorResponse,\n  useRouteError,\n} from \"@remix-run/react\";\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <div>\n        <h1>\n          {error.status} {error.statusText}\n        </h1>\n        <p>{error.data}</p>\n      </div>\n    );\n  } else if (error instanceof Error) {\n    return (\n      <div>\n        <h1>Error</h1>\n        <p>{error.message}</p>\n        <p>The stack trace is:</p>\n        <pre>{error.stack}</pre>\n      </div>\n    );\n  } else {\n    return <h1>Unknown Error</h1>;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Prisma Database Query in Remix Loader\nDESCRIPTION: Demonstrates how to use Prisma ORM within a Remix loader to fetch user data and render it in a component. Shows database integration and component data consumption.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/loader.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { prisma } from \"../db\";\n\nexport async function loader() {\n  return json(await prisma.user.findMany());\n}\n\nexport default function Users() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <ul>\n      {data.map((user) => (\n        <li key={user.id}>{user.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Login Functionality with Session Management in Remix\nDESCRIPTION: This snippet shows how to implement a login form with session management in Remix. It includes both the loader and action functions for handling the login process and managing session data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { json, redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { getSession, commitSession } from \"../sessions\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const session = await getSession(\n    request.headers.get(\"Cookie\")\n  );\n\n  if (session.has(\"userId\")) {\n    // Redirect to the home page if they are already signed in.\n    return redirect(\"/\");\n  }\n\n  const data = { error: session.get(\"error\") };\n\n  return json(data, {\n    headers: {\n      \"Set-Cookie\": await commitSession(session),\n    },\n  });\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const session = await getSession(\n    request.headers.get(\"Cookie\")\n  );\n  const form = await request.formData();\n  const username = form.get(\"username\");\n  const password = form.get(\"password\");\n\n  const userId = await validateCredentials(\n    username,\n    password\n  );\n\n  if (userId == null) {\n    session.flash(\"error\", \"Invalid username/password\");\n\n    // Redirect back to the login page with errors.\n    return redirect(\"/login\", {\n      headers: {\n        \"Set-Cookie\": await commitSession(session),\n      },\n    });\n  }\n\n  session.set(\"userId\", userId);\n\n  // Login succeeded, send them to the home page.\n  return redirect(\"/\", {\n    headers: {\n      \"Set-Cookie\": await commitSession(session),\n    },\n  });\n}\n\nexport default function Login() {\n  const { error } = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      {error ? <div className=\"error\">{error}</div> : null}\n      <form method=\"POST\">\n        <div>\n          <p>Please sign in</p>\n        </div>\n        <label>\n          Username: <input type=\"text\" name=\"username\" />\n        </label>\n        <label>\n          Password:{\" \"}\n          <input type=\"password\" name=\"password\" />\n        </label>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Form Validation in Remix Login Component\nDESCRIPTION: Enhanced version of the login form with client and server-side validation. Includes validation functions for username, password, and redirect URL, along with an action function that processes form submissions and handles login/register logic.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_43\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LinksFunction,\n} from \"@remix-run/node\";\nimport {\n  Link,\n  useActionData,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/login.css\";\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nfunction validateUsername(username: string) {\n  if (username.length < 3) {\n    return \"Usernames must be at least 3 characters long\";\n  }\n}\n\nfunction validatePassword(password: string) {\n  if (password.length < 6) {\n    return \"Passwords must be at least 6 characters long\";\n  }\n}\n\nfunction validateUrl(url: string) {\n  const urls = [\"/jokes\", \"/\", \"https://remix.run\"];\n  if (urls.includes(url)) {\n    return url;\n  }\n  return \"/jokes\";\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  const loginType = form.get(\"loginType\");\n  const password = form.get(\"password\");\n  const username = form.get(\"username\");\n  const redirectTo = validateUrl(\n    (form.get(\"redirectTo\") as string) || \"/jokes\"\n  );\n  if (\n    typeof loginType !== \"string\" ||\n    typeof password !== \"string\" ||\n    typeof username !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fields = { loginType, password, username };\n  const fieldErrors = {\n    password: validatePassword(password),\n    username: validateUsername(username),\n  };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  switch (loginType) {\n    case \"login\": {\n      // login to get the user\n      // if there's no user, return the fields and a formError\n      // if there is a user, create their session and redirect to /jokes\n      return badRequest({\n        fieldErrors: null,\n        fields,\n        formError: \"Not implemented\",\n      });\n    }\n    case \"register\": {\n      const userExists = await db.user.findFirst({\n        where: { username },\n      });\n      if (userExists) {\n        return badRequest({\n          fieldErrors: null,\n          fields,\n          formError: `User with username ${username} already exists`,\n        });\n      }\n      // create the user\n      // create their session and redirect to /jokes\n      return badRequest({\n        fieldErrors: null,\n        fields,\n        formError: \"Not implemented\",\n      });\n    }\n    default: {\n      return badRequest({\n        fieldErrors: null,\n        fields,\n        formError: \"Login type invalid\",\n      });\n    }\n  }\n};\n\nexport default function Login() {\n  const actionData = useActionData<typeof action>();\n  const [searchParams] = useSearchParams();\n  return (\n    <div className=\"container\">\n      <div className=\"content\" data-light=\"\">\n        <h1>Login</h1>\n        <form method=\"post\">\n          <input\n            type=\"hidden\"\n            name=\"redirectTo\"\n            value={\n              searchParams.get(\"redirectTo\") ?? undefined\n            }\n          />\n          <fieldset>\n            <legend className=\"sr-only\">\n              Login or Register?\n            </legend>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"login\"\n                defaultChecked={\n                  !actionData?.fields?.loginType ||\n                  actionData?.fields?.loginType === \"login\"\n                }\n              />{\" \"}\n              Login\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"register\"\n                defaultChecked={\n                  actionData?.fields?.loginType ===\n                  \"register\"\n                }\n              />{\" \"}\n              Register\n            </label>\n          </fieldset>\n          <div>\n            <label htmlFor=\"username-input\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username-input\"\n              name=\"username\"\n              defaultValue={actionData?.fields?.username}\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.username\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.username\n                  ? \"username-error\"\n                  : undefined\n              }\n            />\n            {actionData?.fieldErrors?.username ? (\n              <p\n                className=\"form-validation-error\"\n                role=\"alert\"\n                id=\"username-error\"\n              >\n                {actionData.fieldErrors.username}\n              </p>\n            ) : null}\n          </div>\n          <div>\n            <label htmlFor=\"password-input\">Password</label>\n            <input\n              id=\"password-input\"\n              name=\"password\"\n              type=\"password\"\n              defaultValue={actionData?.fields?.password}\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.password\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.password\n                  ? \"password-error\"\n                  : undefined\n              }\n            />\n            {actionData?.fieldErrors?.password ? (\n              <p\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Route Component\nDESCRIPTION: Basic implementation of the root route component that serves as the main layout for the Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_2\n\nLANGUAGE: jsx\nCODE:\n```\nimport {\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n} from \"@remix-run/react\";\n\nexport default function App() {\n  return (\n    <html>\n      <head>\n        <link\n          rel=\"icon\"\n          href=\"data:image/x-icon;base64,AA\"\n        />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <h1>Hello world!</h1>\n        <Outlet />\n\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Meta Function Implementation in Remix TSX\nDESCRIPTION: Example showing how to implement a basic meta function that returns title and OpenGraph metadata tags\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const meta: MetaFunction = () => {\n  return [\n    { title: \"Very cool app | Remix\" },\n    {\n      property: \"og:title\",\n      content: \"Very cool app\",\n    },\n    {\n      name: \"description\",\n      content: \"This app is the best\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Complete Remix Route Module in TSX\nDESCRIPTION: This example demonstrates a full Remix route module with loader for data fetching, a React component for UI rendering, and an action for handling form submissions. It shows how Remix combines UI and data operations in a single file using TypeScript and React.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/introduction.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// Loaders only run on the server and provide data\n// to your component on GET requests\nexport async function loader() {\n  return json(await db.projects.findAll());\n}\n\n// The default export is the component that will be\n// rendered when a route matches the URL. This runs\n// both on the server and the client\nexport default function Projects() {\n  const projects = useLoaderData<typeof loader>();\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <div>\n      {projects.map((project) => (\n        <Link key={project.slug} to={project.slug}>\n          {project.title}\n        </Link>\n      ))}\n\n      <Form method=\"post\">\n        <input name=\"title\" />\n        <button type=\"submit\">Create New Project</button>\n      </Form>\n      {actionData?.errors ? (\n        <ErrorMessages errors={actionData.errors} />\n      ) : null}\n\n      {/* outlets render the nested child routes\n          that match the URL deeper than this route,\n          allowing each layout to co-locate the UI and\n          controller code in the same file */}\n      <Outlet />\n    </div>\n  );\n}\n\n// Actions only run on the server and handle POST\n// PUT, PATCH, and DELETE. They can also provide data\n// to the component\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const form = await request.formData();\n  const errors = validate(form);\n  if (errors) {\n    return json({ errors });\n  }\n  await createProject({ title: form.get(\"title\") });\n  return json({ ok: true });\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Cookie Attributes in Remix\nDESCRIPTION: Illustrates how to set various cookie attributes when creating a cookie or during serialization. This example shows default attributes and how to override them.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = createCookie(\"user-prefs\", {\n  // These are defaults for this cookie.\n  path: \"/\",\n  sameSite: \"lax\",\n  httpOnly: true,\n  secure: true,\n  expires: new Date(Date.now() + 60_000),\n  maxAge: 60,\n});\n\n// You can either use the defaults:\ncookie.serialize(userPrefs);\n\n// Or override individual ones as needed:\ncookie.serialize(userPrefs, { sameSite: \"strict\" });\n```\n\n----------------------------------------\n\nTITLE: Implementing Form with Animated Validation in Remix\nDESCRIPTION: A complete Remix form implementation that incorporates the ValidationMessage component for error display. Features include dynamic border colors for invalid fields, submission state handling, and progressive enhancement support.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_12\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function NewProject() {\n  const navigation = useNavigation();\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <Form method=\"post\">\n      <fieldset\n        disabled={navigation.state === \"submitting\"}\n      >\n        <p>\n          <label>\n            Name:{\" \"}\n            <input\n              name=\"name\"\n              type=\"text\"\n              defaultValue={\n                actionData\n                  ? actionData.values.name\n                  : undefined\n              }\n              style={{\n                borderColor: actionData?.errors.name\n                  ? \"red\"\n                  : \"\",\n              }}\n            />\n          </label>\n        </p>\n\n        {actionData?.errors.name ? (\n          <ValidationMessage\n            isSubmitting={navigation.state === \"submitting\"}\n            error={actionData?.errors?.name}\n          />\n        ) : null}\n\n        <p>\n          <label>\n            Description:\n            <br />\n            <textarea\n              name=\"description\"\n              defaultValue={actionData?.values.description}\n              style={{\n                borderColor: actionData?.errors.description\n                  ? \"red\"\n                  : \"\",\n              }}\n            />\n          </label>\n        </p>\n\n        <ValidationMessage\n          isSubmitting={navigation.state === \"submitting\"}\n          error={actionData?.errors.description}\n        />\n\n        <p>\n          <button type=\"submit\">\n            {navigation.state === \"submitting\"\n              ? \"Creating...\"\n              : \"Create\"}\n          </button>\n        </p>\n      </fieldset>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Route Component in Remix\nDESCRIPTION: This snippet shows the typical structure of a root route component in Remix. It serves as the root layout for the entire app, with all other routes rendering inside the Outlet component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <Links />\n        <Meta />\n      </head>\n      <body>\n        <Outlet />\n        <ScrollRestoration />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a PDF Report Generator Resource Route in Remix\nDESCRIPTION: This example demonstrates how to create a resource route in Remix that generates and returns a PDF report based on a parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-routes.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const report = await getReport(params.id);\n  const pdf = await generateReportPDF(report);\n  return new Response(pdf, {\n    status: 200,\n    headers: {\n      \"Content-Type\": \"application/pdf\",\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Skip the Hop Pattern in Remix\nDESCRIPTION: This snippet demonstrates how to skip the Remix server hop and hit the backend API directly using clientLoader. It loads data from the server loader on initial load and from clientLoader on subsequent loads.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/client-data.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport type { ClientLoaderFunctionArgs } from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const data = await fetchApiFromServer({ request }); // (1)\n  return json(data);\n}\n\nexport async function clientLoader({\n  request,\n}: ClientLoaderFunctionArgs) {\n  const data = await fetchApiFromClient({ request }); // (2)\n  return data;\n}\n```\n\n----------------------------------------\n\nTITLE: Auto-submit Form Implementation in Remix\nDESCRIPTION: Shows how to automatically submit the form when checkbox state changes using useSubmit hook. This approach ensures URL and form state stay synchronized.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_15\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  useSubmit,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const submit = useSubmit();\n  const [searchParams] = useSearchParams();\n  const brands = searchParams.getAll(\"brand\");\n\n  return (\n    <Form method=\"get\">\n      <p>\n        <label htmlFor=\"nike\">Nike</label>\n        <input\n          type=\"checkbox\"\n          id=\"nike\"\n          name=\"brand\"\n          value=\"nike\"\n          onChange={(e) => submit(e.currentTarget.form)}\n          checked={brands.includes(\"nike\")}\n        />\n        <Link to=\"?brand=nike\">(only)</Link>\n      </p>\n\n      {/* ... */}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useRouteError Hook in Remix ErrorBoundary\nDESCRIPTION: Demonstrates how to implement an ErrorBoundary component using the useRouteError hook to access and display error messages from actions, loaders, or rendering processes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-route-error.md#2025-04-18_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  return <div>{error.message}</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Complete Remix Testing Example with Jest\nDESCRIPTION: Full example showing how to test a Remix component with loader data using Jest and React Testing Library, including component definition and assertions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/testing.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\nimport { createRemixStub } from \"@remix-run/testing\";\nimport {\n  render,\n  screen,\n  waitFor,\n} from \"@testing-library/react\";\n\ntest(\"renders loader data\", async () => {\n  // ⚠️ This would usually be a component you import from your app code\n  function MyComponent() {\n    const data = useLoaderData() as { message: string };\n    return <p>Message: {data.message}</p>;\n  }\n\n  const RemixStub = createRemixStub([\n    {\n      path: \"/\",\n      Component: MyComponent,\n      loader() {\n        return json({ message: \"hello\" });\n      },\n    },\n  ]);\n\n  render(<RemixStub />);\n\n  await waitFor(() => screen.findByText(\"Message: hello\"));\n});\n```\n\n----------------------------------------\n\nTITLE: Updating Records with useFetcher in Remix\nDESCRIPTION: This example shows how to delete recipes from a list without navigating away from the page using useFetcher. The action handles the deletion while the component updates its state based on the fetcher status.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/form-vs-fetcher.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const id = formData.get(\"id\");\n  await db.recipes.delete(id);\n  return json({ ok: true });\n}\n\nconst RecipeListItem: FunctionComponent<{\n  recipe: Recipe;\n}> = ({ recipe }) => {\n  const fetcher = useFetcher();\n  const isDeleting = fetcher.state !== \"idle\";\n\n  return (\n    <li>\n      <h2>{recipe.title}</h2>\n      <fetcher.Form method=\"post\">\n        <button disabled={isDeleting} type=\"submit\">\n          {isDeleting ? \"Deleting...\" : \"Delete\"}\n        </button>\n      </fetcher.Form>\n    </li>\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Server and Client Loader Implementation Pattern\nDESCRIPTION: Shows how to implement both server and client loaders together, demonstrating the pattern of using direct database access on the server and API calls on the client side.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/client-loader.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  // During SSR, we talk to the DB directly\n  const data = getServerDataFromDb();\n  return json(data);\n}\n\nexport async function clientLoader() {\n  // During client-side navigations, we hit our exposed API endpoints directly\n  const data = await fetchDataFromApi();\n  return data;\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof loader>();\n  return <>...</>;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Login Form with Remix Form Component\nDESCRIPTION: A login route component that handles both user login and registration using Remix's Form component. Includes form validation, error handling, and session management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_80\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LinksFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport {\n  Form,\n  Link,\n  useActionData,\n  useSearchParams,\n} from \"@remix-run/react\";\n\n// Component implementation...\n\nexport default function Login() {\n  const actionData = useActionData<typeof action>();\n  const [searchParams] = useSearchParams();\n  return (\n    <div className=\"container\">\n      <div className=\"content\" data-light=\"\">\n        <h1>Login</h1>\n        <Form method=\"post\">\n          <input\n            type=\"hidden\"\n            name=\"redirectTo\"\n            value={searchParams.get(\"redirectTo\") ?? undefined}\n          />\n          // Form fields implementation...\n        </Form>\n      </div>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useParams Hook in Remix (TSX)\nDESCRIPTION: This snippet demonstrates how to import and use the useParams hook from @remix-run/react to access dynamic URL parameters in a Remix component. It shows the basic structure of using the hook within a functional component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-params.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useParams } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const params = useParams();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Links Function in Remix (TypeScript/React)\nDESCRIPTION: This snippet demonstrates how to define a `links` function in Remix to add various types of <link> elements to a page. It includes examples of adding a favicon, stylesheets, and preloading images.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/links.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const links: LinksFunction = () => {\n  return [\n    {\n      rel: \"icon\",\n      href: \"/favicon.png\",\n      type: \"image/png\",\n    },\n    {\n      rel: \"stylesheet\",\n      href: \"https://example.com/some/styles.css\",\n    },\n    { page: \"/users/123\" },\n    {\n      rel: \"preload\",\n      href: \"/images/banner.jpg\",\n      as: \"image\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Contact Edit Form in Remix\nDESCRIPTION: React component that defines an edit form for contacts, including a loader function to fetch the contact data and a form with fields for all contact properties.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { Form, useLoaderData } from \"@remix-run/react\";\nimport invariant from \"tiny-invariant\";\n\nimport { getContact } from \"../data\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  invariant(params.contactId, \"Missing contactId param\");\n  const contact = await getContact(params.contactId);\n  if (!contact) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n  return json({ contact });\n};\n\nexport default function EditContact() {\n  const { contact } = useLoaderData<typeof loader>();\n\n  return (\n    <Form key={contact.id} id=\"contact-form\" method=\"post\">\n      <p>\n        <span>Name</span>\n        <input\n          aria-label=\"First name\"\n          defaultValue={contact.first}\n          name=\"first\"\n          placeholder=\"First\"\n          type=\"text\"\n        />\n        <input\n          aria-label=\"Last name\"\n          defaultValue={contact.last}\n          name=\"last\"\n          placeholder=\"Last\"\n          type=\"text\"\n        />\n      </p>\n      <label>\n        <span>Twitter</span>\n        <input\n          defaultValue={contact.twitter}\n          name=\"twitter\"\n          placeholder=\"@jack\"\n          type=\"text\"\n        />\n      </label>\n      <label>\n        <span>Avatar URL</span>\n        <input\n          aria-label=\"Avatar URL\"\n          defaultValue={contact.avatar}\n          name=\"avatar\"\n          placeholder=\"https://example.com/avatar.jpg\"\n          type=\"text\"\n        />\n      </label>\n      <label>\n        <span>Notes</span>\n        <textarea\n          defaultValue={contact.notes}\n          name=\"notes\"\n          rows={6}\n        />\n      </label>\n      <p>\n        <button type=\"submit\">Save</button>\n        <button type=\"button\">Cancel</button>\n      </p>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Redirect with Headers in Remix (TS)\nDESCRIPTION: Illustrates how to use the redirect function with additional headers, specifically for setting cookies when committing a session. It shows both with and without explicitly setting the status code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirect.md#2025-04-18_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nredirect(path, {\n  headers: {\n    \"Set-Cookie\": await commitSession(session),\n  },\n});\n\nredirect(path, {\n  status: 302,\n  headers: {\n    \"Set-Cookie\": await commitSession(session),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Custom Error Response in Remix Loader (TSX)\nDESCRIPTION: This snippet shows how to throw a custom Response object from a Remix loader to trigger an error boundary with a specific message, and how to handle it in the ErrorBoundary component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/errors.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  if (badConditionIsTrue()) {\n    throw new Response(\"Oh no! Something went wrong!\", {\n      status: 500,\n    });\n  }\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  if (isRouteErrorResponse(error)) {\n    // error.status = 500\n    // error.data = \"Oh no! Something went wrong!\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Converting Regular Form to Fetcher Form in Remix\nDESCRIPTION: This code transforms a standard Form component into a fetcher.Form that handles form submissions without causing navigation. It imports useFetcher hook and replaces the Form component with fetcher.Form to toggle a contact's favorite status without page navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_27\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  useFetcher,\n  useLoaderData,\n} from \"@remix-run/react\";\n// existing imports & exports\n\n// existing code\n\nconst Favorite: FunctionComponent<{\n  contact: Pick<ContactRecord, \"favorite\">;\n}> = ({ contact }) => {\n  const fetcher = useFetcher();\n  const favorite = contact.favorite;\n\n  return (\n    <fetcher.Form method=\"post\">\n      <button\n        aria-label={\n          favorite\n            ? \"Remove from favorites\"\n            : \"Add to favorites\"\n        }\n        name=\"favorite\"\n        value={favorite ? \"false\" : \"true\"}\n      >\n        {favorite ? \"★\" : \"☆\"}\n      </button>\n    </fetcher.Form>\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Cookie Session Storage in Remix\nDESCRIPTION: Sets up session storage using cookies with security configurations. Includes environment-based secure settings, session secret validation, and cookie parameters like expiration time and HTTP-only flag.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_47\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret) {\n  throw new Error(\"SESSION_SECRET must be set\");\n}\n\nconst storage = createCookieSessionStorage({\n  cookie: {\n    name: \"RJ_session\",\n    // normally you want this to be `secure: true`\n    // but that doesn't work on localhost for Safari\n    // https://web.dev/when-to-use-local-https/\n    secure: process.env.NODE_ENV === \"production\",\n    secrets: [sessionSecret],\n    sameSite: \"lax\",\n    path: \"/\",\n    maxAge: 60 * 60 * 24 * 30,\n    httpOnly: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Scripts Component in Remix Root Component\nDESCRIPTION: This code snippet shows how to add the Scripts component to the root layout of a Remix application to enable client-side JavaScript functionality. The implementation includes the full root component with metadata configuration, document structure, and error boundary handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_74\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  useRouteError,\n} from \"@remix-run/react\";\nimport type { PropsWithChildren } from \"react\";\n\nimport globalLargeStylesUrl from \"~/styles/global-large.css\";\nimport globalMediumStylesUrl from \"~/styles/global-medium.css\";\nimport globalStylesUrl from \"~/styles/global.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: globalStylesUrl },\n  {\n    rel: \"stylesheet\",\n    href: globalMediumStylesUrl,\n    media: \"print, (min-width: 640px)\",\n  },\n  {\n    rel: \"stylesheet\",\n    href: globalLargeStylesUrl,\n    media: \"screen and (min-width: 1024px)\",\n  },\n];\n\nexport const meta: MetaFunction = () => {\n  const description =\n    \"Learn Remix and laugh at the same time!\";\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title: \"Remix: So great, it's funny!\" },\n  ];\n};\n\nfunction Document({\n  children,\n  title,\n}: PropsWithChildren<{ title?: string }>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <meta name=\"keywords\" content=\"Remix,jokes\" />\n        <meta\n          name=\"twitter:image\"\n          content=\"https://remix-jokes.lol/social.png\"\n        />\n        <meta\n          name=\"twitter:card\"\n          content=\"summary_large_image\"\n        />\n        <meta name=\"twitter:creator\" content=\"@remix_run\" />\n        <meta name=\"twitter:site\" content=\"@remix_run\" />\n        <meta name=\"twitter:title\" content=\"Remix Jokes\" />\n        <Meta />\n        {title ? <title>{title}</title> : null}\n        <Links />\n      </head>\n      <body>\n        {children}\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return (\n    <Document>\n      <Outlet />\n    </Document>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <Document\n        title={`${error.status} ${error.statusText}`}\n      >\n        <div className=\"error-container\">\n          <h1>\n            {error.status} {error.statusText}\n          </h1>\n        </div>\n      </Document>\n    );\n  }\n\n  const errorMessage =\n    error instanceof Error\n      ? error.message\n      : \"Unknown error\";\n  return (\n    <Document title=\"Uh-oh!\">\n      <div className=\"error-container\">\n        <h1>App Error</h1>\n        <pre>{errorMessage}</pre>\n      </div>\n    </Document>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Route Module with Server and Browser Code in Remix\nDESCRIPTION: Example of a route module exporting a loader function that queries a database, a meta function, and a component that renders data from the loader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { prisma } from \"../db\";\nimport PostsView from \"../PostsView\";\n\nexport async function loader() {\n  return json(await prisma.post.findMany());\n}\n\nexport function meta() {\n  return [{ title: \"Posts\" }];\n}\n\nexport default function Posts() {\n  const posts = useLoaderData<typeof loader>();\n  return <PostsView posts={posts} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating JSON Response with Remix in TSX\nDESCRIPTION: This snippet demonstrates how to use the `json` function from Remix to create a JSON response. It compares the simplified syntax with the traditional Response object creation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/json.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async () => {\n  // So you can write this:\n  return json({ any: \"thing\" });\n\n  // Instead of this:\n  return new Response(JSON.stringify({ any: \"thing\" }), {\n    headers: {\n      \"Content-Type\": \"application/json; charset=utf-8\",\n    },\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Error Boundaries in Remix Root Component\nDESCRIPTION: Implementation of a Document component and ErrorBoundary for the root route in a Remix application. This handles application-wide errors and properly maintains the HTML structure even during error states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_57\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Document({\n  children,\n  title = \"Remix: So great, it's funny!\",\n}: PropsWithChildren<{ title?: string }>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <title>{title}</title>\n        <Links />\n      </head>\n      <body>\n        {children}\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return (\n    <Document>\n      <Outlet />\n    </Document>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  const errorMessage =\n    error instanceof Error\n      ? error.message\n      : \"Unknown error\";\n  return (\n    <Document title=\"Uh-oh!\">\n      <div className=\"error-container\">\n        <h1>App Error</h1>\n        <pre>{errorMessage}</pre>\n      </div>\n    </Document>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Error Handling in Remix Server Entry\nDESCRIPTION: Implementation of handleError function for custom error logging and reporting. Provides control over error handling for server-side errors, with consideration for aborted requests and external error reporting services.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/entry.server.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport function handleError(\n  error: unknown,\n  {\n    request,\n    params,\n    context,\n  }: LoaderFunctionArgs | ActionFunctionArgs\n) {\n  if (!request.signal.aborted) {\n    sendErrorToErrorReportingService(error);\n    console.error(formatErrorForJsonLogging(error));\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Cache-Control Headers in Remix Route Modules\nDESCRIPTION: Demonstrates how to export a headers function from a route module to set HTTP cache control headers. This example configures both browser caching (max-age) and CDN caching (s-maxage).\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/cache-control.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport function headers() {\n  return {\n    \"Cache-Control\": \"public, max-age=300, s-maxage=3600\",\n  };\n}\n\nexport function meta() {\n  /* ... */\n}\n\nexport default function Gists() {\n  /* ... */\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Signup Form in Remix (TSX)\nDESCRIPTION: This snippet shows how to create a basic signup form using the Form component from Remix. It includes input fields for email and password.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/form-validation.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Form } from \"@remix-run/react\";\n\nexport default function Signup() {\n  return (\n    <Form method=\"post\">\n      <p>\n        <input type=\"email\" name=\"email\" />\n      </p>\n\n      <p>\n        <input type=\"password\" name=\"password\" />\n      </p>\n\n      <button type=\"submit\">Sign Up</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Root Layout with Meta Tags in Remix\nDESCRIPTION: This code snippet shows the root layout configuration in Remix, including the Meta component and various meta tags for SEO and social media. It also defines the document structure and error boundary.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_64\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  useRouteError,\n} from \"@remix-run/react\";\nimport type { PropsWithChildren } from \"react\";\n\nimport globalLargeStylesUrl from \"~/styles/global-large.css\";\nimport globalMediumStylesUrl from \"~/styles/global-medium.css\";\nimport globalStylesUrl from \"~/styles/global.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: globalStylesUrl },\n  {\n    rel: \"stylesheet\",\n    href: globalMediumStylesUrl,\n    media: \"print, (min-width: 640px)\",\n  },\n  {\n    rel: \"stylesheet\",\n    href: globalLargeStylesUrl,\n    media: \"screen and (min-width: 1024px)\",\n  },\n];\n\nexport const meta: MetaFunction = () => {\n  const description =\n    \"Learn Remix and laugh at the same time!\";\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title: \"Remix: So great, it's funny!\" },\n  ];\n};\n\nfunction Document({\n  children,\n  title,\n}: PropsWithChildren<{ title?: string }>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <meta name=\"keywords\" content=\"Remix,jokes\" />\n        <meta\n          name=\"twitter:image\"\n          content=\"https://remix-jokes.lol/social.png\"\n        />\n        <meta\n          name=\"twitter:card\"\n          content=\"summary_large_image\"\n        />\n        <meta name=\"twitter:creator\" content=\"@remix_run\" />\n        <meta name=\"twitter:site\" content=\"@remix_run\" />\n        <meta name=\"twitter:title\" content=\"Remix Jokes\" />\n        <Meta />\n        {title ? <title>{title}</title> : null}\n        <Links />\n      </head>\n      <body>\n        {children}\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return (\n    <Document>\n      <Outlet />\n    </Document>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <Document\n        title={`${error.status} ${error.statusText}`}\n      >\n        <div className=\"error-container\">\n          <h1>\n            {error.status} {error.statusText}\n          </h1>\n        </div>\n      </Document>\n    );\n  }\n\n  const errorMessage =\n    error instanceof Error\n      ? error.message\n      : \"Unknown error\";\n  return (\n    <Document title=\"Uh-oh!\">\n      <div className=\"error-container\">\n        <h1>App Error</h1>\n        <pre>{errorMessage}</pre>\n      </div>\n    </Document>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Enhancing Form Interaction with Remix in React TSX\nDESCRIPTION: This code snippet demonstrates how to improve form UX in a Remix application using React hooks. It includes disabling the submit button during submission, focusing on input after validation errors, and animating error messages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/introduction.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function Projects() {\n  const projects = useLoaderData<typeof loader>();\n  const actionData = useActionData<typeof action>();\n  const { state } = useNavigation();\n  const busy = state === \"submitting\";\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (actionData.errors) {\n      inputRef.current.focus();\n    }\n  }, [actionData]);\n\n  return (\n    <div>\n      {projects.map((project) => (\n        <Link key={project.slug} to={project.slug}>\n          {project.title}\n        </Link>\n      ))}\n\n      <Form method=\"post\">\n        <input ref={inputRef} name=\"title\" />\n        <button type=\"submit\" disabled={busy}>\n          {busy ? \"Creating...\" : \"Create New Project\"}\n        </button>\n      </Form>\n\n      {actionData?.errors ? (\n        <FadeIn>\n          <ErrorMessages errors={actionData.errors} />\n        </FadeIn>\n      ) : null}\n\n      <Outlet />\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Deferring Data in Remix Loaders\nDESCRIPTION: This snippet shows how to use Remix's defer utility to stream data from a loader. It demonstrates the change in async promise handling to enable streaming.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { defer } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Await, useLoaderData } from \"@remix-run/react\";\nimport { Suspense } from \"react\";\n\nimport { ReviewsSkeleton } from \"./reviews-skeleton\";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  // 👇 note this promise is not awaited\n  const reviewsPromise = db.getReviews(params.productId);\n  // 👇 but this one is\n  const product = await db.getProduct(params.productId);\n\n  return defer({\n    product,\n    reviews: reviewsPromise,\n  });\n}\n\nexport default function Product() {\n  const { product, reviews } =\n    useLoaderData<typeof loader>();\n  // existing code\n}\n```\n\n----------------------------------------\n\nTITLE: Reading Search Parameters in Remix Loader\nDESCRIPTION: Demonstrates how to access URL search parameters in a Remix loader function using the Web Platform URL API. Shows how to extract specific query parameters from the request URL.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const term = url.searchParams.get(\"term\");\n  return json(await fakeProductSearch(term));\n};\n```\n\n----------------------------------------\n\nTITLE: Updating Login Route to Handle User Registration in Remix\nDESCRIPTION: This code updates the login route to handle both login and registration. It includes form validation, user existence checks, and integrates with the session utility functions to create user sessions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_56\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LinksFunction,\n} from \"@remix-run/node\";\nimport {\n  Link,\n  useActionData,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/login.css\";\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\nimport {\n  createUserSession,\n  login,\n  register,\n} from \"~/utils/session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nfunction validateUsername(username: string) {\n  if (username.length < 3) {\n    return \"Usernames must be at least 3 characters long\";\n  }\n}\n\nfunction validatePassword(password: string) {\n  if (password.length < 6) {\n    return \"Passwords must be at least 6 characters long\";\n  }\n}\n\nfunction validateUrl(url: string) {\n  const urls = [\"/jokes\", \"/\", \"https://remix.run\"];\n  if (urls.includes(url)) {\n    return url;\n  }\n  return \"/jokes\";\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  const loginType = form.get(\"loginType\");\n  const password = form.get(\"password\");\n  const username = form.get(\"username\");\n  const redirectTo = validateUrl(\n    (form.get(\"redirectTo\") as string) || \"/jokes\"\n  );\n  if (\n    typeof loginType !== \"string\" ||\n    typeof password !== \"string\" ||\n    typeof username !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fields = { loginType, password, username };\n  const fieldErrors = {\n    password: validatePassword(password),\n    username: validateUsername(username),\n  };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  switch (loginType) {\n    case \"login\": {\n      const user = await login({ username, password });\n      console.log({ user });\n      if (!user) {\n        return badRequest({\n          fieldErrors: null,\n          fields,\n          formError:\n            \"Username/Password combination is incorrect\",\n        });\n      }\n      return createUserSession(user.id, redirectTo);\n    }\n    case \"register\": {\n      const userExists = await db.user.findFirst({\n        where: { username },\n      });\n      if (userExists) {\n        return badRequest({\n          fieldErrors: null,\n          fields,\n          formError: `User with username ${username} already exists`,\n        });\n      }\n      const user = await register({ username, password });\n      if (!user) {\n        return badRequest({\n          fieldErrors: null,\n          fields,\n          formError:\n            \"Something went wrong trying to create a new user.\",\n        });\n      }\n      return createUserSession(user.id, redirectTo);\n    }\n    default: {\n      return badRequest({\n        fieldErrors: null,\n        fields,\n        formError: \"Login type invalid\",\n      });\n    }\n  }\n};\n\nexport default function Login() {\n  const actionData = useActionData<typeof action>();\n  const [searchParams] = useSearchParams();\n  return (\n    <div className=\"container\">\n      <div className=\"content\" data-light=\"\">\n        <h1>Login</h1>\n        <form method=\"post\">\n          <input\n            type=\"hidden\"\n            name=\"redirectTo\"\n            value={\n              searchParams.get(\"redirectTo\") ?? undefined\n            }\n          />\n          <fieldset>\n            <legend className=\"sr-only\">\n              Login or Register?\n            </legend>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"login\"\n                defaultChecked={\n                  !actionData?.fields?.loginType ||\n                  actionData?.fields?.loginType === \"login\"\n                }\n              />{\" \"}\n              Login\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"register\"\n                defaultChecked={\n                  actionData?.fields?.loginType ===\n                  \"register\"\n                }\n              />{\" \"}\n              Register\n            </label>\n          </fieldset>\n          <div>\n            <label htmlFor=\"username-input\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username-input\"\n              name=\"username\"\n              defaultValue={actionData?.fields?.username}\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.username\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.username\n                  ? \"username-error\"\n                  : undefined\n              }\n            />\n            {actionData?.fieldErrors?.username ? (\n              <p\n                className=\"form-validation-error\"\n                role=\"alert\"\n                id=\"username-error\"\n              >\n                {actionData.fieldErrors.username}\n              </p>\n            ) : null}\n          </div>\n          <div>\n            <label htmlFor=\"password-input\">Password</label>\n            <input\n              id=\"password-input\"\n              name=\"password\"\n              type=\"password\"\n              defaultValue={actionData?.fields?.password}\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.password\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.password\n                  ? \"password-error\"\n                  : undefined\n              }\n            />\n            {actionData?.fieldErrors?.password ? (\n              <p\n                className=\"form-validation-error\"\n                role=\"alert\"\n                id=\"password-error\"\n              >\n                {actionData.fieldErrors.password}\n              </p>\n            ) : null}\n          </div>\n          <div id=\"form-error-message\">\n            {actionData?.formError ? (\n              <p\n                className=\"form-validation-error\"\n                role=\"alert\"\n              >\n                {actionData.formError}\n              </p>\n```\n\n----------------------------------------\n\nTITLE: Implementing Joke Creation Route in Remix with TypeScript\nDESCRIPTION: A Remix route component for creating new jokes with form validation. Includes authorization check, form data validation, error handling, and database interaction for creating jokes. Shows proper form accessibility patterns.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_83\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  Form,\n  isRouteErrorResponse,\n  Link,\n  useActionData,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  if (!userId) {\n    throw new Response(\"Unauthorized\", { status: 401 });\n  }\n  return json({});\n};\n\nfunction validateJokeContent(content: string) {\n  if (content.length < 10) {\n    return \"That joke is too short\";\n  }\n}\n\nfunction validateJokeName(name: string) {\n  if (name.length < 3) {\n    return \"That joke's name is too short\";\n  }\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const userId = await requireUserId(request);\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fieldErrors = {\n    content: validateJokeContent(content),\n    name: validateJokeName(name),\n  };\n  const fields = { content, name };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  const joke = await db.joke.create({\n    data: { ...fields, jokesterId: userId },\n  });\n  return redirect(`/jokes/${joke.id}`);\n};\n\nexport default function NewJokeRoute() {\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <Form method=\"post\">\n        <div>\n          <label>\n            Name:{\" \"}\n            <input\n              defaultValue={actionData?.fields?.name}\n              name=\"name\"\n              type=\"text\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.name\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.name\n                  ? \"name-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.name ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"name-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.name}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          <label>\n            Content:{\" \"}\n            <textarea\n              defaultValue={actionData?.fields?.content}\n              name=\"content\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.content\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.content\n                  ? \"content-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.content ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"content-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.content}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          {actionData?.formError ? (\n            <p\n              className=\"form-validation-error\"\n              role=\"alert\"\n            >\n              {actionData.formError}\n            </p>\n          ) : null}\n          <button type=\"submit\" className=\"button\">\n            Add\n          </button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error) && error.status === 401) {\n    return (\n      <div className=\"error-container\">\n        <p>You must be logged in to create a joke.</p>\n        <Link to=\"/login\">Login</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      Something unexpected went wrong. Sorry about that.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Form Action with Validation\nDESCRIPTION: Server-side action function that handles form submission, validates data, and returns either errors or redirects to success page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nconst [errors, project] = await createProject(formData);\n\nif (errors) {\n  const values = Object.fromEntries(formData);\n  return json({ errors, values });\n}\n\nreturn redirect(`/projects/${project.id}`);\n```\n\n----------------------------------------\n\nTITLE: Random Joke Loader and Error Handler\nDESCRIPTION: Implementation of a loader function to fetch random jokes and an error boundary component to handle 404 errors when no jokes are found.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_78\n\nLANGUAGE: TSX\nCODE:\n```\nexport const loader = async () => {\n  const count = await db.joke.count();\n  const randomRowNumber = Math.floor(Math.random() * count);\n  const [randomJoke] = await db.joke.findMany({\n    skip: randomRowNumber,\n    take: 1,\n  });\n  if (!randomJoke) {\n    throw new Response(\"No random joke found\", {\n      status: 404,\n    });\n  }\n  return json({ randomJoke });\n};\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error) && error.status === 404) {\n    return (\n      <div className=\"error-container\">\n        <p>There are no jokes to display.</p>\n        <Link to=\"new\">Add your own</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      I did a whoopsies.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useAsyncError with Await Component\nDESCRIPTION: Shows how to use useAsyncError hook to access the error when a promise rejects in child components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\n<Await errorElement={<SomeChild />} />\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useAsyncError } from \"@remix-run/react\";\n\nfunction SomeChild() {\n  const error = useAsyncError();\n  return <p>{error.message}</p>;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a PDF Resource Route in Remix\nDESCRIPTION: This code creates a Resource Route that generates and returns a PDF file. It doesn't export a component, making it a Resource Route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const report = await getReport(params.id);\n  const pdf = await generateReportPDF(report);\n  return new Response(pdf, {\n    status: 200,\n    headers: {\n      \"Content-Type\": \"application/pdf\",\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Error Boundary for Joke Route in Remix\nDESCRIPTION: This ErrorBoundary component handles various error scenarios for the joke route, including 400, 403, and 404 status codes. It provides user-friendly error messages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_70\n\nLANGUAGE: TSX\nCODE:\n```\nexport function ErrorBoundary() {\n  const { jokeId } = useParams();\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    if (error.status === 400) {\n      return (\n        <div className=\"error-container\">\n          What you're trying to do is not allowed.\n        </div>\n      );\n    }\n    if (error.status === 403) {\n      return (\n        <div className=\"error-container\">\n          Sorry, but \"{jokeId}\" is not your joke.\n        </div>\n      );\n    }\n    if (error.status === 404) {\n      return (\n        <div className=\"error-container\">\n          Huh? What the heck is \"{jokeId}\"?\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className=\"error-container\">\n      There was an error loading joke by the id \"{jokeId}\".\n      Sorry.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Action Function for New Joke Form in Remix (TSX)\nDESCRIPTION: This snippet demonstrates the implementation of the action function in the NewJokeRoute. It handles form submission, creates a new joke in the database, and redirects to the new joke's page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_34\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  // we do this type check to be extra sure and to make TypeScript happy\n  // we'll explore validation next!\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    throw new Error(\"Form not submitted correctly.\");\n  }\n\n  const fields = { content, name };\n\n  const joke = await db.joke.create({ data: fields });\n  return redirect(`/jokes/${joke.id}`);\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Action Function with useActionData in Remix\nDESCRIPTION: This snippet shows how to implement an action function that works with the useActionData hook. It demonstrates handling form submissions and returning appropriate data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/index.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { json } from \"@remix-run/node\";\n\nexport async function action({ request }) {\n  const form = await request.formData();\n  const name = form.get(\"name\");\n\n  if (typeof name !== \"string\" || name.length < 3) {\n    return json(\n      { error: \"Name must be at least 3 characters long\" },\n      { status: 400 }\n    );\n  }\n\n  const user = await createUser(name);\n  return json({ success: true, user });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing a City Search Combobox Component with useFetcher in Remix\nDESCRIPTION: This snippet shows how to create a combobox component that uses Remix's useFetcher hook to dynamically search for cities as the user types.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-routes.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nfunction CitySearchCombobox() {\n  const cities = useFetcher();\n\n  return (\n    <cities.Form method=\"get\" action=\"/city-search\">\n      <Combobox aria-label=\"Cities\">\n        <div>\n          <ComboboxInput\n            name=\"q\"\n            onChange={(event) =>\n              cities.submit(event.target.form)\n            }\n          />\n          {cities.state === \"submitting\" ? (\n            <Spinner />\n          ) : null}\n        </div>\n\n        {cities.data ? (\n          <ComboboxPopover className=\"shadow-popup\">\n            {cities.data.error ? (\n              <p>Failed to load cities :(</p>\n            ) : cities.data.length ? (\n              <ComboboxList>\n                {cities.data.map((city) => (\n                  <ComboboxOption\n                    key={city.id}\n                    value={city.name}\n                  />\n                ))}\n              </ComboboxList>\n            ) : (\n              <span>No results found</span>\n            )}\n          </ComboboxPopover>\n        ) : null}\n      </Combobox>\n    </cities.Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Client-Only Route with HydrateFallback in Remix\nDESCRIPTION: Example showing how to implement a client-only route using HydrateFallback and clientLoader for loading game data. The component shows a loading state during SSR and hydration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/hydrate-fallback.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function clientLoader() {\n  const data = await loadSavedGameOrPrepareNewGame();\n  return data;\n}\n// Note clientLoader.hydrate is implied without a server loader\n\nexport function HydrateFallback() {\n  return <p>Loading Game...</p>;\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof clientLoader>();\n  return <Game data={data} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Cloudflare KV Session Storage in Remix\nDESCRIPTION: Creates a session storage implementation using Cloudflare Workers KV for globally-replicated, low-latency session data storage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookie,\n  createWorkersKVSessionStorage,\n} from \"@remix-run/cloudflare\";\n\n// In this example the Cookie is created separately.\nconst sessionCookie = createCookie(\"__session\", {\n  secrets: [\"r3m1xr0ck5\"],\n  sameSite: true,\n});\n\nconst { getSession, commitSession, destroySession } =\n  createWorkersKVSessionStorage({\n    // The KV Namespace where you want to store sessions\n    kv: YOUR_NAMESPACE,\n    cookie: sessionCookie,\n  });\n\nexport { getSession, commitSession, destroySession };\n```\n\n----------------------------------------\n\nTITLE: Type-Safe Route Params with Invariant in Remix (TypeScript)\nDESCRIPTION: Illustrates how to use the invariant function to ensure type safety when working with route parameters in a Remix loader. This approach validates the presence of required parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport invariant from \"tiny-invariant\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  invariant(params.userId, \"Expected params.userId\");\n  invariant(params.projectId, \"Expected params.projectId\");\n\n  params.projectId; // <-- TypeScript now knows this is a string\n};\n```\n\n----------------------------------------\n\nTITLE: Nested Route Loaders with Single Fetch\nDESCRIPTION: Demonstrates how Single Fetch handles nested routes with both server and client loaders.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// routes/a.tsx\nexport function loader() {\n  return { data: \"A\" };\n}\n\n// routes/a.b.tsx\nexport function loader() {\n  return { data: \"B\" };\n}\n\n// routes/a.b.c.tsx\nexport function loader() {\n  return { data: \"C\" };\n}\n\nexport function clientLoader({ serverLoader }) {\n  await doSomeStuff();\n  const data = await serverLoader();\n  return { data };\n}\n```\n\n----------------------------------------\n\nTITLE: Using useRevalidator for Window Focus Revalidation in Remix\nDESCRIPTION: This snippet demonstrates how to use the useRevalidator hook to revalidate data when the window regains focus. It creates a WindowFocusRevalidator component that triggers revalidation and displays a loading message.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-revalidator.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useRevalidator } from \"@remix-run/react\";\n\nfunction WindowFocusRevalidator() {\n  const revalidator = useRevalidator();\n\n  useFakeWindowFocus(() => {\n    revalidator.revalidate();\n  });\n\n  return (\n    <div hidden={revalidator.state === \"idle\"}>\n      Revalidating...\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using fetcher.Form Component in React\nDESCRIPTION: Demonstrates how to use the fetcher.Form component for form submissions without causing navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetcher.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nfunction SomeComponent() {\n  const fetcher = useFetcher();\n  return (\n    <fetcher.Form method=\"post\" action=\"/some/route\">\n      <input type=\"text\" />\n    </fetcher.Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useActionData Hook in Remix\nDESCRIPTION: This snippet demonstrates how to use the useActionData hook in Remix to access data returned from an action. It shows how to handle both successful and error cases.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/index.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { useActionData } from \"@remix-run/react\";\n\nexport default function SignUp() {\n  const actionData = useActionData<typeof action>();\n\n  if (actionData?.success) {\n    return <h1>Welcome {actionData.user.name}!</h1>;\n  }\n\n  return (\n    <Form method=\"post\">\n      {actionData?.error ? <p>{actionData.error}</p> : null}\n      <input type=\"text\" name=\"name\" />\n      <button type=\"submit\">Sign Up</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring tsconfig.json for Remix with TypeScript\nDESCRIPTION: This snippet demonstrates the configuration of tsconfig.json for a Remix project using TypeScript. It includes necessary compiler options and type definitions for Remix and Vite.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/typescript.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"include\": [\n    \"**/*.ts\",\n    \"**/*.tsx\",\n    \"**/.server/**/*.ts\",\n    \"**/.server/**/*.tsx\",\n    \"**/.client/**/*.ts\",\n    \"**/.client/**/*.tsx\"\n  ],\n  \"compilerOptions\": {\n    \"lib\": [\"DOM\", \"DOM.Iterable\", \"ES2022\"],\n    \"types\": [\"@remix-run/node\", \"vite/client\"],\n    \"isolatedModules\": true,\n    \"esModuleInterop\": true,\n    \"jsx\": \"react-jsx\",\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"Bundler\",\n    \"resolveJsonModule\": true,\n    \"target\": \"ES2022\",\n    \"strict\": true,\n    \"allowJs\": true,\n    \"skipLibCheck\": true,\n    \"forceConsistentCasingInFileNames\": true,\n    \"baseUrl\": \".\",\n    \"paths\": {\n      \"~/*\": [\"./app/*\"]\n    },\n\n    // Vite takes care of building everything, not tsc.\n    \"noEmit\": true\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Type Safety and Validation to Contact Loader\nDESCRIPTION: Enhances the contact loader with TypeScript type safety and param validation using invariant checks and proper error responses.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport invariant from \"tiny-invariant\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  invariant(params.contactId, \"Missing contactId param\");\n  const contact = await getContact(params.contactId);\n  if (!contact) {\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n  return json({ contact });\n};\n```\n\n----------------------------------------\n\nTITLE: Hydrating Remix App in Browser with React\nDESCRIPTION: This code snippet demonstrates how to hydrate a Remix app in the browser using ReactDOM.hydrateRoot. It wraps the RemixBrowser component in StrictMode and uses startTransition for improved performance.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/entry.client.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { RemixBrowser } from \"@remix-run/react\";\nimport { startTransition, StrictMode } from \"react\";\nimport { hydrateRoot } from \"react-dom/client\";\n\nstartTransition(() => {\n  hydrateRoot(\n    document,\n    <StrictMode>\n      <RemixBrowser />\n    </StrictMode>\n  );\n});\n```\n\n----------------------------------------\n\nTITLE: Type-Safe Remix Loader Usage\nDESCRIPTION: Shows how to implement type safety in Remix loaders using TypeScript generics with useLoaderData hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/loader.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport async function loader() {\n  return json({ name: \"Ryan\", date: new Date() });\n}\n\nexport default function SomeRoute() {\n  const data = useLoaderData<typeof loader>();\n}\n```\n\n----------------------------------------\n\nTITLE: Advanced Path Object Link Usage\nDESCRIPTION: Example showing how to use Link with a Path object containing pathname, search parameters, and hash\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<Link\n  to={{\n    pathname: \"/some/path\",\n    search: \"?query=string\",\n    hash: \"#hash\",\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Redirecting in Remix JavaScript\nDESCRIPTION: Demonstrates the usage of the redirect utility function to create redirect responses. This is commonly used in loaders or actions to navigate users to different routes based on certain conditions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/index.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { redirect } from \"@remix-run/node\";\n\nexport function loader() {\n  return redirect(\"/new-location\");\n}\n\n// Or with a status code\nredirect(\"/new-location\", 301);\n\n// Or with headers\nredirect(\"/new-location\", {\n  headers: {\n    \"X-Custom-Header\": \"some value\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Error Boundary Component for Jokes Route\nDESCRIPTION: Error boundary component that handles different HTTP status codes for joke-related errors. Includes handling for 400, 403, and 404 status codes with custom error messages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_77\n\nLANGUAGE: TSX\nCODE:\n```\nexport function ErrorBoundary() {\n  const { jokeId } = useParams();\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error)) {\n    if (error.status === 400) {\n      return (\n        <div className=\"error-container\">\n          What you're trying to do is not allowed.\n        </div>\n      );\n    }\n    if (error.status === 403) {\n      return (\n        <div className=\"error-container\">\n          Sorry, but \"{jokeId}\" is not your joke.\n        </div>\n      );\n    }\n    if (error.status === 404) {\n      return (\n        <div className=\"error-container\">\n          Huh? What the heck is \"{jokeId}\"?\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className=\"error-container\">\n      There was an error loading joke by the id \"${jokeId}\".\n      Sorry.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Real-time Search with useSubmit in Remix\nDESCRIPTION: This code snippet shows how to implement real-time search functionality using the useSubmit hook from Remix. It submits the form automatically as the user types.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_24\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Form,\n  Links,\n  Meta,\n  NavLink,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n  useNavigation,\n  useSubmit,\n} from \"@remix-run/react\";\n\nexport default function App() {\n  const { contacts, q } = useLoaderData<typeof loader>();\n  const navigation = useNavigation();\n  const submit = useSubmit();\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* existing elements */}\n          <div>\n            <Form\n              id=\"search-form\"\n              onChange={(event) =>\n                submit(event.currentTarget)\n              }\n              role=\"search\"\n            >\n              {/* existing elements */}\n            </Form>\n            {/* existing elements */}\n          </div>\n          {/* existing elements */}\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Streaming-Ready Route Module in Remix\nDESCRIPTION: This snippet demonstrates how to modify a Remix route module to support streaming. It uses React's Suspense and Remix's Await components to render streamed data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Await, useLoaderData } from \"@remix-run/react\";\nimport { Suspense } from \"react\";\n\nimport { ReviewsSkeleton } from \"./reviews-skeleton\";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  // existing code\n}\n\nexport default function Product() {\n  const { product, reviews } =\n    useLoaderData<typeof loader>();\n  return (\n    <>\n      <ProductPage data={product} />\n      <Suspense fallback={<ReviewsSkeleton />}>\n        <Await resolve={reviews}>\n          {(reviews) => <ProductReviews data={reviews} />}\n        </Await>\n      </Suspense>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing File Upload Handler in Remix Action\nDESCRIPTION: Demonstrates how to create a combined file upload handler that writes files to disk while parsing other form data into memory. Uses composition of handlers to manage different types of form data and includes file size limits.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/unstable-create-file-upload-handler.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const uploadHandler = unstable_composeUploadHandlers(\n    unstable_createFileUploadHandler({\n      maxPartSize: 5_000_000,\n      file: ({ filename }) => filename,\n    }),\n    // parse everything else into memory\n    unstable_createMemoryUploadHandler()\n  );\n  const formData = await unstable_parseMultipartFormData(\n    request,\n    uploadHandler\n  );\n\n  const file = formData.get(\"avatar\");\n\n  // file is a \"NodeOnDiskFile\" which implements the \"File\" API\n  // ... etc\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing a GitHub Webhook in a Remix Resource Route\nDESCRIPTION: This code implements a GitHub webhook in a Remix Resource Route. It validates the webhook signature and processes the payload, demonstrating how to handle external service integrations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport crypto from \"node:crypto\";\n\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  if (request.method !== \"POST\") {\n    return json({ message: \"Method not allowed\" }, 405);\n  }\n  const payload = await request.json();\n\n  /* Validate the webhook */\n  const signature = request.headers.get(\n    \"X-Hub-Signature-256\"\n  );\n  const generatedSignature = `sha256=${crypto\n    .createHmac(\"sha256\", process.env.GITHUB_WEBHOOK_SECRET)\n    .update(JSON.stringify(payload))\n    .digest(\"hex\")}`;\n  if (signature !== generatedSignature) {\n    return json({ message: \"Signature mismatch\" }, 401);\n  }\n\n  /* process the webhook (e.g. enqueue a background job) */\n\n  return json({ success: true }, 200);\n};\n```\n\n----------------------------------------\n\nTITLE: Using fetcher.submit Method in React\nDESCRIPTION: Shows various ways to use the fetcher.submit method for submitting form data to a route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetcher.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n// Submit a FormData instance (GET request)\nconst formData = new FormData();\nfetcher.submit(formData);\n\n// Submit the HTML form element\nfetcher.submit(event.currentTarget.form, {\n  method: \"POST\",\n});\n\n// Submit key/value JSON as a FormData instance\nfetcher.submit(\n  { serialized: \"values\" },\n  { method: \"POST\" }\n);\n\n// Submit raw JSON\nfetcher.submit(\n  {\n    deeply: {\n      nested: {\n        json: \"values\",\n      },\n    },\n  },\n  {\n    method: \"POST\",\n    encType: \"application/json\",\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Implementing Navigation Blocking with useBlocker in React\nDESCRIPTION: Example showing how to use the useBlocker hook to prevent navigation when a form has unsaved changes. The code demonstrates creating a form with an input field and implementing a confirmation dialog when the user attempts to navigate away with entered data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-blocker.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction ImportantForm() {\n  const [value, setValue] = React.useState(\"\");\n\n  // Block navigating elsewhere when data has been entered into the input\n  const blocker = useBlocker(\n    ({ currentLocation, nextLocation }) =>\n      value !== \"\" &&\n      currentLocation.pathname !== nextLocation.pathname\n  );\n\n  return (\n    <Form method=\"post\">\n      <label>\n        Enter some important data:\n        <input\n          name=\"data\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      </label>\n      <button type=\"submit\">Save</button>\n\n      {blocker.state === \"blocked\" ? (\n        <div>\n          <p>Are you sure you want to leave?</p>\n          <button onClick={() => blocker.proceed()}>\n            Proceed\n          </button>\n          <button onClick={() => blocker.reset()}>\n            Cancel\n          </button>\n        </div>\n      ) : null}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Route-Level Error Handling with Console Logging in Remix\nDESCRIPTION: This code snippet demonstrates a complete route file in Remix that includes a joke detail page with data loading, actions for joke deletion, and error boundary handling with console error logging for improved debugging.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_76\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Link,\n  useLoaderData,\n  useParams,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const meta: MetaFunction<typeof loader> = ({\n  data,\n}) => {\n  const { description, title } = data\n    ? {\n        description: `Enjoy the \"${data.joke.name}\" joke and much more`,\n        title: `\"${data.joke.name}\" joke`,\n      }\n    : { description: \"No joke found\", title: \"No joke\" };\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title },\n  ];\n};\n\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"What a joke! Not found.\", {\n      status: 404,\n    });\n  }\n  return json({\n    isOwner: userId === joke.jokesterId,\n    joke,\n  });\n};\n\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  if (form.get(\"intent\") !== \"delete\") {\n    throw new Response(\n      `The intent ${form.get(\"intent\")} is not supported`,\n      { status: 400 }\n    );\n  }\n  const userId = await requireUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"Can't delete what does not exist\", {\n      status: 404,\n    });\n  }\n  if (joke.jokesterId !== userId) {\n    throw new Response(\n      \"Pssh, nice try. That's not your joke\",\n      { status: 403 }\n    );\n  }\n  await db.joke.delete({ where: { id: params.jokeId } });\n  return redirect(\"/jokes\");\n};\n\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{data.joke.content}</p>\n      <Link to=\".\">\"${data.joke.name}\" Permalink</Link>\n      {data.isOwner ? (\n        <form method=\"post\">\n          <button\n            className=\"button\"\n            name=\"intent\"\n            type=\"submit\"\n            value=\"delete\"\n          >\n            Delete\n```\n\n----------------------------------------\n\nTITLE: Using fetcher.load Method in TypeScript\nDESCRIPTION: Demonstrates how to use the fetcher.load method to load data from a route loader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetcher.md#2025-04-18_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nfetcher.load(\"/some/route\");\nfetcher.load(\"/some/route?foo=bar\");\n```\n\n----------------------------------------\n\nTITLE: Implementing Contact Detail Loader with URL Params\nDESCRIPTION: Sets up a loader function that handles URL parameters to fetch individual contact details, with basic error handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport { Form, useLoaderData } from \"@remix-run/react\";\nimport { getContact } from \"../data\";\n\nexport const loader = async ({ params }) => {\n  const contact = await getContact(params.contactId);\n  return json({ contact });\n};\n\nexport default function Contact() {\n  const { contact } = useLoaderData<typeof loader>();\n\n  // existing code\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Child Routes with Outlet in Remix\nDESCRIPTION: Demonstrates how to use the Outlet component to render matching child routes within a parent route component. The parent component can display its own content alongside the child route's content.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/outlet.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Outlet } from \"@remix-run/react\";\n\nexport default function SomeParent() {\n  return (\n    <div>\n      <h1>Parent Content</h1>\n\n      <Outlet />\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useLocation Hook in Remix (TSX)\nDESCRIPTION: This snippet demonstrates how to import and use the useLocation hook in a React component within a Remix application. The hook returns the current location object, which can be used to access various properties of the current URL.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-location.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLocation } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const location = useLocation();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Busy Indicator for Record Creation with Form Submission in Remix\nDESCRIPTION: This code shows how to implement a busy indicator during record creation using Form submission, including disabling the form while submitting and redirecting to the new record after creation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useNavigation } from \"@remix-run/react\";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const project = await createRecord({\n    name: formData.get(\"name\"),\n    owner: formData.get(\"owner\"),\n  });\n  return redirect(`/projects/${project.id}`);\n}\n\nexport default function CreateProject() {\n  const navigation = useNavigation();\n\n  // important to check you're submitting to the action\n  // for the pending UI, not just any action\n  const isSubmitting =\n    navigation.formAction === \"/create-project\";\n\n  return (\n    <Form method=\"post\" action=\"/create-project\">\n      <fieldset disabled={isSubmitting}>\n        <label>\n          Name: <input type=\"text\" name=\"projectName\" />\n        </label>\n        <label>\n          Owner: <UserSelect />\n        </label>\n        <button type=\"submit\">Create</button>\n      </fieldset>\n      {isSubmitting ? <BusyIndicator /> : null}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Complete New Project Form Component\nDESCRIPTION: A complete React component for a new project form using standard HTML form elements.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function NewProject() {\n  return (\n    <form method=\"post\" action=\"/projects/new\">\n      <p>\n        <label>\n          Name: <input name=\"name\" type=\"text\" />\n        </label>\n      </p>\n      <p>\n        <label>\n          Description:\n          <br />\n          <textarea name=\"description\" />\n        </label>\n      </p>\n      <p>\n        <button type=\"submit\">Create</button>\n      </p>\n    </form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering New Joke Form in Remix (TSX)\nDESCRIPTION: This snippet shows the initial implementation of the NewJokeRoute component, rendering a form for adding a new joke without any action handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_33\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function NewJokeRoute() {\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <form method=\"post\">\n        <div>\n          <label>\n            Name: <input type=\"text\" name=\"name\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Content: <textarea name=\"content\" />\n          </label>\n        </div>\n        <div>\n          <button type=\"submit\" className=\"button\">\n            Add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using Form Component for POST Request in Remix\nDESCRIPTION: Basic example of using the Form component from Remix to create a form submission that POSTs data to the '/events' endpoint. This demonstrates the fundamental usage pattern of the component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/form.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Form } from \"@remix-run/react\";\n\nfunction NewEvent() {\n  return (\n    <Form action=\"/events\" method=\"post\">\n      <input name=\"title\" type=\"text\" />\n      <input name=\"description\" type=\"text\" />\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Loading Joke Data in Remix Route\nDESCRIPTION: This loader function fetches joke data from the database based on the jokeId parameter. It also checks if the current user is the owner of the joke.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_67\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"What a joke! Not found.\", {\n      status: 404,\n    });\n  }\n  return json({\n    isOwner: userId === joke.jokesterId,\n    joke,\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Creating a Route Component with Form in Remix\nDESCRIPTION: Implementation of a route component that uses useLoaderData to access data from the loader and renders a form. The form allows users to edit their display name and email.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/data-flow.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData, Form } from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const user = await getUser(request);\n  return json({\n    displayName: user.displayName,\n    email: user.email,\n  });\n}\n\nexport default function Component() {\n  const user = useLoaderData<typeof loader>();\n  return (\n    <Form method=\"post\" action=\"/account\">\n      <h1>Settings for {user.displayName}</h1>\n\n      <input\n        name=\"displayName\"\n        defaultValue={user.displayName}\n      />\n      <input name=\"email\" defaultValue={user.email} />\n\n      <button type=\"submit\">Save</button>\n    </Form>\n  );\n}\n\nexport async function action() {\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Optimistic UI for Record Updates in Remix\nDESCRIPTION: This example shows how to implement optimistic UI for record updates like toggling a starred status, immediately showing the expected state before the server confirms the change.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nfunction ProjectListItem({ project }) {\n  const fetcher = useFetcher();\n\n  const starred = fetcher.formData\n    ? // use optimistic value if submitting\n      fetcher.formData.get(\"starred\") === \"1\"\n    : // fall back to the database state\n      project.starred;\n\n  return (\n    <>\n      <div>{project.name}</div>\n      <fetcher.Form method=\"post\">\n        <button\n          type=\"submit\"\n          name=\"starred\"\n          // use optimistic value to allow interruptions\n          value={starred ? \"0\" : \"1\"}\n        >\n          {/* 👇 display optimistic value */}\n          {starred ? \"★\" : \"☆\"}\n        </button>\n      </fetcher.Form>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Passing Context to Child Routes with Outlet in Remix\nDESCRIPTION: Shows how to provide context values to child routes using the context prop on the Outlet component. This allows parent routes to share data with their child routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/outlet.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<Outlet context={myContextValue} />\n```\n\n----------------------------------------\n\nTITLE: Implementing Busy Indicator for Page Navigation using useNavigation in Remix\nDESCRIPTION: This code snippet demonstrates how to create a busy indicator during page navigation using the useNavigation hook from Remix, which displays a spinner when navigation state is loading.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useNavigation } from \"@remix-run/react\";\n\nfunction PendingNavigation() {\n  const navigation = useNavigation();\n  return navigation.state === \"loading\" ? (\n    <div className=\"spinner\" />\n  ) : null;\n}\n```\n\n----------------------------------------\n\nTITLE: Submitting Plain Object as JSON with useSubmit\nDESCRIPTION: Shows how to submit a plain JavaScript object that will be serialized as JSON using the useSubmit hook with appropriate encType.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nsubmit(\n  { myKey: \"myValue\" },\n  { method: \"post\", encType: \"application/json\" }\n);\n```\n\n----------------------------------------\n\nTITLE: Implementing Add to Cart Functionality with Progressive Enhancement in Remix\nDESCRIPTION: This snippet demonstrates a basic 'Add to Cart' button implementation using Remix's Form component. It shows how the functionality works without JavaScript and can be progressively enhanced when JavaScript loads.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/progressive-enhancement.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport function AddToCart({ id }) {\n  return (\n    <Form method=\"post\" action=\"/add-to-cart\">\n      <input type=\"hidden\" name=\"id\" value={id} />\n      <button type=\"submit\">Add To Cart</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Joke Route Error Handling\nDESCRIPTION: Implements error handling for individual joke routes, including 404 handling for non-existent jokes. Uses loader function to fetch joke data and ErrorBoundary for error presentation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_61\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Link,\n  useLoaderData,\n  useParams,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"What a joke! Not found.\", {\n      status: 404,\n    });\n  }\n  return json({ joke });\n};\n\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{data.joke.content}</p>\n      <Link to=\".\">\"{data.joke.name}\" Permalink</Link>\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const { jokeId } = useParams();\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error) && error.status === 404) {\n    return (\n      <div className=\"error-container\">\n        Huh? What the heck is \"{jokeId}\"?\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      There was an error loading joke by the id \"${jokeId}\".\n      Sorry.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a New Record with Form, useActionData, and useNavigation in Remix\nDESCRIPTION: This example demonstrates creating a new recipe using Remix's Form component, useActionData for form validation, and useNavigation for tracking submission state. After successfully creating the recipe, it redirects to the new recipe's page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/form-vs-fetcher.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport {\n  Form,\n  useActionData,\n  useNavigation,\n} from \"@remix-run/react\";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const errors = await validateRecipeFormData(formData);\n  if (errors) {\n    return json({ errors });\n  }\n  const recipe = await db.recipes.create(formData);\n  return redirect(`/recipes/${recipe.id}`);\n}\n\nexport function NewRecipe() {\n  const { errors } = useActionData<typeof action>();\n  const navigation = useNavigation();\n  const isSubmitting =\n    navigation.formAction === \"/recipes/new\";\n\n  return (\n    <Form method=\"post\">\n      <label>\n        Title: <input name=\"title\" />\n        {errors?.title ? <span>{errors.title}</span> : null}\n      </label>\n      <label>\n        Ingredients: <textarea name=\"ingredients\" />\n        {errors?.ingredients ? (\n          <span>{errors.ingredients}</span>\n        ) : null}\n      </label>\n      <label>\n        Directions: <textarea name=\"directions\" />\n        {errors?.directions ? (\n          <span>{errors.directions}</span>\n        ) : null}\n      </label>\n      <button type=\"submit\">\n        {isSubmitting ? \"Saving...\" : \"Create Recipe\"}\n      </button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Periodic Data Revalidation with useRevalidator in Remix\nDESCRIPTION: This code snippet shows how to use useRevalidator to implement periodic data revalidation. It creates a custom hook that revalidates data every 5 seconds when the revalidator is in an idle state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-revalidator.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nfunction useLivePageData() {\n  const revalidator = useRevalidator();\n  const interval = useInterval(5000);\n\n  useEffect(() => {\n    if (revalidator.state === \"idle\") {\n      revalidator.revalidate();\n    }\n  }, [interval, revalidator]);\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing URL Parameters in Remix Loader Function\nDESCRIPTION: This snippet demonstrates how to access URL parameters in a Remix loader function. The parameters are passed in the params object, with property names matching the dynamic segments in the route filename.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  return fakeDb.getAllConcertsForCity(params.city);\n}\n```\n\n----------------------------------------\n\nTITLE: Reading Search Parameters in React Components\nDESCRIPTION: Demonstrates how to read and use search parameters within React components using the useSearchParams hook from Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useSearchParams } from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const [searchParams] = useSearchParams();\n  const brands = searchParams.getAll(\"brand\");\n\n  return (\n    <Form method=\"get\">\n      <label htmlFor=\"nike\">Nike</label>\n      <input\n        type=\"checkbox\"\n        id=\"nike\"\n        name=\"brand\"\n        value=\"nike\"\n        defaultChecked={brands.includes(\"nike\")}\n      />\n\n      <label htmlFor=\"adidas\">Adidas</label>\n      <input\n        type=\"checkbox\"\n        id=\"adidas\"\n        name=\"brand\"\n        value=\"adidas\"\n        defaultChecked={brands.includes(\"adidas\")}\n      />\n\n      <button type=\"submit\">Update</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Memory Upload Handler in Remix TypeScript\nDESCRIPTION: Demonstrates how to create and use a memory-based upload handler in a Remix action function. The handler processes multipart form data with a specified maximum part size limit. This approach stores uploaded files in memory rather than on disk.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/unstable-create-memory-upload-handler.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const uploadHandler = unstable_createMemoryUploadHandler({\n    maxPartSize: 500_000,\n  });\n  const formData = await unstable_parseMultipartFormData(\n    request,\n    uploadHandler\n  );\n\n  const file = formData.get(\"avatar\");\n\n  // file is a \"File\" (https://mdn.io/File) polyfilled for node\n  // ... etc\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing User Session Retrieval and Authentication in TypeScript\nDESCRIPTION: This code snippet adds functions for retrieving user sessions, getting user IDs from sessions, and requiring authenticated user IDs. It extends the session management functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_45\n\nLANGUAGE: typescript\nCODE:\n```\nfunction getUserSession(request: Request) {\n  return storage.getSession(request.headers.get(\"Cookie\"));\n}\n\nexport async function getUserId(request: Request) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    return null;\n  }\n  return userId;\n}\n\nexport async function requireUserId(\n  request: Request,\n  redirectTo: string = new URL(request.url).pathname\n) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    const searchParams = new URLSearchParams([\n      [\"redirectTo\", redirectTo],\n    ]);\n    throw redirect(`/login?${searchParams}`);\n  }\n  return userId;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing User Session Management in Remix\nDESCRIPTION: This code extends session management functionality by adding getUser and logout functions. The getUser function retrieves a user from the database based on the session ID, while the logout function destroys the user's session and redirects to the login page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_52\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookieSessionStorage,\n  redirect,\n} from \"@remix-run/node\";\nimport bcrypt from \"bcryptjs\";\n\nimport { db } from \"./db.server\";\n\ntype LoginForm = {\n  password: string;\n  username: string;\n};\n\nexport async function login({\n  password,\n  username,\n}: LoginForm) {\n  const user = await db.user.findUnique({\n    where: { username },\n  });\n  if (!user) {\n    return null;\n  }\n\n  const isCorrectPassword = await bcrypt.compare(\n    password,\n    user.passwordHash\n  );\n  if (!isCorrectPassword) {\n    return null;\n  }\n\n  return { id: user.id, username };\n}\n\nconst sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret) {\n  throw new Error(\"SESSION_SECRET must be set\");\n}\n\nconst storage = createCookieSessionStorage({\n  cookie: {\n    name: \"RJ_session\",\n    // normally you want this to be `secure: true`\n    // but that doesn't work on localhost for Safari\n    // https://web.dev/when-to-use-local-https/\n    secure: process.env.NODE_ENV === \"production\",\n    secrets: [sessionSecret],\n    sameSite: \"lax\",\n    path: \"/\",\n    maxAge: 60 * 60 * 24 * 30,\n    httpOnly: true,\n  },\n});\n\nfunction getUserSession(request: Request) {\n  return storage.getSession(request.headers.get(\"Cookie\"));\n}\n\nexport async function getUserId(request: Request) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    return null;\n  }\n  return userId;\n}\n\nexport async function requireUserId(\n  request: Request,\n  redirectTo: string = new URL(request.url).pathname\n) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    const searchParams = new URLSearchParams([\n      [\"redirectTo\", redirectTo],\n    ]);\n    throw redirect(`/login?${searchParams}`);\n  }\n  return userId;\n}\n\nexport async function getUser(request: Request) {\n  const userId = await getUserId(request);\n  if (typeof userId !== \"string\") {\n    return null;\n  }\n\n  const user = await db.user.findUnique({\n    select: { id: true, username: true },\n    where: { id: userId },\n  });\n\n  if (!user) {\n    throw await logout(request);\n  }\n\n  return user;\n}\n\nexport async function logout(request: Request) {\n  const session = await getUserSession(request);\n  return redirect(\"/login\", {\n    headers: {\n      \"Set-Cookie\": await storage.destroySession(session),\n    },\n  });\n}\n\nexport async function createUserSession(\n  userId: string,\n  redirectTo: string\n) {\n  const session = await storage.getSession();\n  session.set(\"userId\", userId);\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await storage.commitSession(session),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Singleton Utility for Server-Side Dependencies\nDESCRIPTION: Utility function that creates global singletons for server-side resources. This helps prevent connection leaks in development by ensuring only one instance of a resource is created across hot reloads.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\nexport const singleton = <Value>(\n  name: string,\n  valueFactory: () => Value\n): Value => {\n  const g = global as any;\n  g.__singletons ??= {};\n  g.__singletons[name] ??= valueFactory();\n  return g.__singletons[name];\n};\n```\n\n----------------------------------------\n\nTITLE: Using Cookie API Methods in Remix\nDESCRIPTION: Demonstrates various methods and properties of the Cookie API in Remix, including parsing, serializing, and checking if a cookie is signed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = createCookie(name);\ncookie.name;\ncookie.parse();\n// etc.\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst value = await cookie.parse(\n  request.headers.get(\"Cookie\")\n);\n```\n\nLANGUAGE: typescript\nCODE:\n```\nnew Response(\"...\", {\n  headers: {\n    \"Set-Cookie\": await cookie.serialize({\n      showBanner: true,\n    }),\n  },\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\nlet cookie = createCookie(\"user-prefs\");\nconsole.log(cookie.isSigned); // false\n\ncookie = createCookie(\"user-prefs\", {\n  secrets: [\"soopersekrit\"],\n});\nconsole.log(cookie.isSigned); // true\n```\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = createCookie(\"user-prefs\", {\n  expires: new Date(\"2021-01-01\"),\n});\n\nconsole.log(cookie.expires); // \"2020-01-01T00:00:00.000Z\"\n```\n\n----------------------------------------\n\nTITLE: Using Cookies in Remix Loader and Action\nDESCRIPTION: Shows how to use a cookie in a Remix loader and action. The loader checks the cookie value to determine if a banner should be shown, while the action updates the cookie when the user dismisses the banner.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { json, redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport {\n  useLoaderData,\n  Link,\n  Form,\n} from \"@remix-run/react\";\n\nimport { userPrefs } from \"~/cookies.server\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const cookieHeader = request.headers.get(\"Cookie\");\n  const cookie =\n    (await userPrefs.parse(cookieHeader)) || {};\n  return json({ showBanner: cookie.showBanner });\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const cookieHeader = request.headers.get(\"Cookie\");\n  const cookie =\n    (await userPrefs.parse(cookieHeader)) || {};\n  const bodyParams = await request.formData();\n\n  if (bodyParams.get(\"bannerVisibility\") === \"hidden\") {\n    cookie.showBanner = false;\n  }\n\n  return redirect(\"/\", {\n    headers: {\n      \"Set-Cookie\": await userPrefs.serialize(cookie),\n    },\n  });\n}\n\nexport default function Home() {\n  const { showBanner } = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      {showBanner ? (\n        <div>\n          <Link to=\"/sale\">Don't miss our sale!</Link>\n          <Form method=\"post\">\n            <input\n              type=\"hidden\"\n              name=\"bannerVisibility\"\n              value=\"hidden\"\n            />\n            <button type=\"submit\">Hide</button>\n          </Form>\n        </div>\n      ) : null}\n      <h1>Welcome!</h1>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Integrating Remix with Express Server in TypeScript\nDESCRIPTION: This snippet demonstrates how to set up Remix as a request handler within an Express.js application. It imports the necessary modules, creates an Express app, and configures it to forward all requests to the Remix handler.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/introduction.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst remix = require(\"@remix-run/express\");\nconst express = require(\"express\");\n\nconst app = express();\n\napp.all(\n  \"*\",\n  remix.createRequestHandler({\n    build: require(\"./build/server\"),\n  })\n);\n```\n\n----------------------------------------\n\nTITLE: Correctly Using Server-Only Code in Remix Route Actions\nDESCRIPTION: This shows the correct approach to initialize server-only code inside route actions or loaders rather than at the top level, preventing it from running in the browser.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { unstable_createFileUploadHandler } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport async function action() {\n  const uploadHandler = unstable_createFileUploadHandler({\n    maxPartSize: 5_000_000,\n    file: ({ filename }) => filename,\n  });\n\n  // use `uploadHandler` here ...\n}\n```\n\n----------------------------------------\n\nTITLE: Handling URL Search Params in Remix Loader\nDESCRIPTION: This snippet demonstrates how to handle URL search parameters in a Remix loader function. It updates the root loader to filter contacts based on the search query parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_21\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\n\n// existing imports & exports\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const q = url.searchParams.get(\"q\");\n  const contacts = await getContacts(q);\n  return json({ contacts });\n};\n\n// existing code\n```\n\n----------------------------------------\n\nTITLE: Basic Form Component with Validation Display\nDESCRIPTION: React component implementing a basic form with error display and value persistence using useActionData hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { useActionData } from \"@remix-run/react\";\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  // ...\n};\n\nexport default function NewProject() {\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <form method=\"post\" action=\"/projects/new\">\n      <p>\n        <label>\n          Name:{\" \"}\n          <input\n            name=\"name\"\n            type=\"text\"\n            defaultValue={actionData?.values.name}\n          />\n        </label>\n      </p>\n\n      {actionData?.errors.name ? (\n        <p style={{ color: \"red\" }}>\n          {actionData.errors.name}\n        </p>\n      ) : null}\n\n      <p>\n        <label>\n          Description:\n          <br />\n          <textarea\n            name=\"description\"\n            defaultValue={actionData?.values.description}\n          />\n        </label>\n      </p>\n\n      {actionData?.errors.description ? (\n        <p style={{ color: \"red\" }}>\n          {actionData.errors.description}\n        </p>\n      ) : null}\n\n      <p>\n        <button type=\"submit\">Create</button>\n      </p>\n    </form>\n  );\n```\n\n----------------------------------------\n\nTITLE: Creating JSON Responses in Remix JavaScript\nDESCRIPTION: Shows how to use the json utility function to create JSON responses with optional headers and status codes. This is useful for returning structured data from Remix routes or actions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/index.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { json } from \"@remix-run/node\";\n\nexport function loader() {\n  return json(\n    { ok: true, message: \"Hello!\" },\n    {\n      headers: {\n        \"X-Custom-Header\": \"some value\",\n      },\n    }\n  );\n}\n\n// Or with a status code\njson({ ok: false, message: \"Oh no!\" }, { status: 401 });\n```\n\n----------------------------------------\n\nTITLE: Configuring Content Security Policy for Streaming in Remix\nDESCRIPTION: This snippet shows how to configure Content Security Policy when using streaming in Remix. It demonstrates the use of nonces in the CSP header, Remix components, and the renderToPipeableStream function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nconst { pipe, abort } = renderToPipeableStream(\n  <RemixServer\n    context={remixContext}\n    url={request.url}\n    abortDelay={ABORT_DELAY}\n  />,\n  {\n    nonce: \"secretnoncevalue\",\n    /* ...remaining fields */\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Implementing User Avatar Details Popup with Remix and React\nDESCRIPTION: This code snippet demonstrates how to create a user avatar component with a hover effect that fetches and displays user details in a popup. It uses Remix's loader function for data fetching, the useFetcher hook for managing the fetch state, and React's useState and useEffect hooks for controlling the popup visibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/form-vs-fetcher.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  return json(\n    await fakeDb.user.find({ where: { id: params.id } })\n  );\n}\n\nfunction UserAvatar({ partialUser }) {\n  const userDetails = useFetcher<typeof loader>();\n  const [showDetails, setShowDetails] = useState(false);\n\n  useEffect(() => {\n    if (\n      showDetails &&\n      userDetails.state === \"idle\" &&\n      !userDetails.data\n    ) {\n      userDetails.load(`/users/${user.id}/details`);\n    }\n  }, [showDetails, userDetails]);\n\n  return (\n    <div\n      onMouseEnter={() => setShowDetails(true)}\n      onMouseLeave={() => setShowDetails(false)}\n    >\n      <img src={partialUser.profileImageUrl} />\n      {showDetails ? (\n        userDetails.state === \"idle\" && userDetails.data ? (\n          <UserPopup user={userDetails.data} />\n        ) : (\n          <UserPopupLoading />\n        )\n      ) : null}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Meta Component in Remix Root File\nDESCRIPTION: This code snippet demonstrates how to import and use the Meta component from @remix-run/react within the root component of a Remix application. The Meta component is placed inside the <head> element to render all meta tags created by route module meta exports.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/meta.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Meta } from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html>\n      <head>\n        <Meta />\n      </head>\n      <body></body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: New Joke Form with Validation\nDESCRIPTION: Form component for creating new jokes with input validation, error handling, and authentication checks. Includes server-side validation and client-side error display.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_79\n\nLANGUAGE: TSX\nCODE:\n```\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const userId = await requireUserId(request);\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fieldErrors = {\n    content: validateJokeContent(content),\n    name: validateJokeName(name),\n  };\n  const fields = { content, name };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  const joke = await db.joke.create({\n    data: { ...fields, jokesterId: userId },\n  });\n  return redirect(`/jokes/${joke.id}`);\n};\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error) && error.status === 401) {\n    return (\n      <div className=\"error-container\">\n        <p>You must be logged in to create a joke.</p>\n        <Link to=\"/login\">Login</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      Something unexpected went wrong. Sorry about that.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Server Bundles in Remix Vite Plugin\nDESCRIPTION: This snippet demonstrates how to configure the serverBundles option in the Remix Vite plugin. It shows a function that assigns routes to different server bundles based on whether they are authenticated routes or not.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/server-bundles.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      serverBundles: ({ branch }) => {\n        const isAuthenticatedRoute = branch.some((route) =>\n          route.id.split(\"/\").includes(\"_authenticated\")\n        );\n\n        return isAuthenticatedRoute\n          ? \"authenticated\"\n          : \"unauthenticated\";\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: New Joke Route with Authorization Error Handling\nDESCRIPTION: Implements error handling for the new joke creation route, including authentication checks and form validation. Uses loader and action functions with ErrorBoundary for unauthorized access.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_63\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Link,\n  useActionData,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  if (!userId) {\n    throw new Response(\"Unauthorized\", { status: 401 });\n  }\n  return json({});\n};\n\nfunction validateJokeContent(content: string) {\n  if (content.length < 10) {\n    return \"That joke is too short\";\n  }\n}\n\nfunction validateJokeName(name: string) {\n  if (name.length < 3) {\n    return \"That joke's name is too short\";\n  }\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const userId = await requireUserId(request);\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fieldErrors = {\n    content: validateJokeContent(content),\n    name: validateJokeName(name),\n  };\n  const fields = { content, name };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  const joke = await db.joke.create({\n    data: { ...fields, jokesterId: userId },\n  });\n  return redirect(`/jokes/${joke.id}`);\n};\n\nexport default function NewJokeRoute() {\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <form method=\"post\">\n        <div>\n          <label>\n            Name:{\" \"}\n            <input\n              defaultValue={actionData?.fields?.name}\n              name=\"name\"\n              type=\"text\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.name\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.name\n                  ? \"name-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.name ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"name-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.name}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          <label>\n            Content:{\" \"}\n          </label>\n        </div>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Link Component Usage in Remix\nDESCRIPTION: Basic example of importing and using the Link component for client-side navigation\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Link } from \"@remix-run/react\";\n\n<Link to=\"/dashboard\">Dashboard</Link>;\n```\n\n----------------------------------------\n\nTITLE: Cloudflare KV Storage in Remix Loader (TypeScript/TSX)\nDESCRIPTION: Illustrates how to use Cloudflare Key Value (KV) storage in a Remix loader when deploying to Cloudflare Pages or Workers. This example retrieves a product from KV storage based on a product ID.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/cloudflare\";\nimport { json } from \"@remix-run/cloudflare\";\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport const loader = async ({\n  context,\n  params,\n}: LoaderFunctionArgs) => {\n  return json(\n    await context.PRODUCTS_KV.get(\n      `product-${params.productId}`,\n      { type: \"json\" }\n    )\n  );\n};\n\nexport default function Product() {\n  const product = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <p>Product</p>\n      {product.name}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Search Params with Checkbox Example in Remix TSX\nDESCRIPTION: Demonstrates basic implementation of checkbox input synchronized with URL search parameters using defaultChecked. This approach has limitations when URL updates through links.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_14\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useSearchParams } from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const [searchParams] = useSearchParams();\n  const brands = searchParams.getAll(\"brand\");\n\n  return (\n    <Form method=\"get\">\n      <p>\n        <label htmlFor=\"nike\">Nike</label>\n        <input\n          type=\"checkbox\"\n          id=\"nike\"\n          name=\"brand\"\n          value=\"nike\"\n          defaultChecked={brands.includes(\"nike\")}\n        />\n        <Link to=\"?brand=nike\">(only)</Link>\n      </p>\n\n      <button type=\"submit\">Update</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root ErrorBoundary in Remix (TSX)\nDESCRIPTION: This code snippet demonstrates how to create a custom root ErrorBoundary component in Remix. It handles uncaught errors and provides a customizable UI for error display.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/errors.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n  return (\n    <html>\n      <head>\n        <title>Oh no!</title>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        {/* add the UI you want your users to see */}\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Comprehensive Remix Vite Plugin Configuration\nDESCRIPTION: Extended configuration for the Remix Vite plugin showing various options including basename, buildDirectory, future flags, ignoredRouteFiles, custom routes, and serverBuildFile.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/vite-config.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      basename: \"/\",\n      buildDirectory: \"build\",\n      future: {\n        /* any enabled future flags */\n      },\n      ignoredRouteFiles: [\"**/*.css\"],\n      routes(defineRoutes) {\n        return defineRoutes((route) => {\n          route(\"/somewhere/cool/*\", \"catchall.tsx\");\n        });\n      },\n      serverBuildFile: \"index.js\",\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Error Boundaries in Remix v2\nDESCRIPTION: Shows migration from separate CatchBoundary and ErrorBoundary components to a unified ErrorBoundary approach using useRouteError hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useCatch } from \"@remix-run/react\";\n\nexport function CatchBoundary() {\n  const caught = useCatch();\n\n  return (\n    <div>\n      <h1>Oops</h1>\n      <p>Status: {caught.status}</p>\n      <p>{caught.data.message}</p>\n    </div>\n  );\n}\n\nexport function ErrorBoundary({ error }) {\n  console.error(error);\n  return (\n    <div>\n      <h1>Uh oh ...</h1>\n      <p>Something went wrong</p>\n      <pre>{error.message || \"Unknown error\"}</pre>\n    </div>\n  );\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  useRouteError,\n  isRouteErrorResponse,\n} from \"@remix-run/react\";\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <div>\n        <h1>Oops</h1>\n        <p>Status: {error.status}</p>\n        <p>{error.data.message}</p>\n      </div>\n    );\n  }\n\n  let errorMessage = \"Unknown error\";\n  if (isDefinitelyAnError(error)) {\n    errorMessage = error.message;\n  }\n\n  return (\n    <div>\n      <h1>Uh oh ...</h1>\n      <p>Something went wrong.</p>\n      <pre>{errorMessage}</pre>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_lazyRouteDiscovery Flag in Remix Configuration\nDESCRIPTION: This snippet demonstrates how to enable the v3_lazyRouteDiscovery flag in the Remix configuration. This feature optimizes initial load times by only sending server-rendered routes to the client initially.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    v3_lazyRouteDiscovery: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Semi-controlled Input State Management in Remix\nDESCRIPTION: Implementation of a semi-controlled input pattern that allows local state changes before form submission while maintaining URL synchronization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_16\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  useSubmit,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const submit = useSubmit();\n  const [searchParams] = useSearchParams();\n  const brands = searchParams.getAll(\"brand\");\n\n  const [nikeChecked, setNikeChecked] = React.useState(\n    // initialize from the URL\n    brands.includes(\"nike\")\n  );\n\n  // Update the state when the params change\n  // (form submission or link click)\n  React.useEffect(() => {\n    setNikeChecked(brands.includes(\"nike\"));\n  }, [brands, searchParams]);\n\n  return (\n    <Form method=\"get\">\n      <p>\n        <label htmlFor=\"nike\">Nike</label>\n        <input\n          type=\"checkbox\"\n          id=\"nike\"\n          name=\"brand\"\n          value=\"nike\"\n          onChange={(e) => {\n            // update checkbox state w/o submitting the form\n            setNikeChecked(true);\n          }}\n          checked={nikeChecked}\n        />\n        <Link to=\"?brand=nike\">(only)</Link>\n      </p>\n\n      {/* ... */}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic useNavigate Hook Usage in React Component\nDESCRIPTION: Demonstrates basic usage of useNavigate hook to handle programmatic navigation in response to a button click.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useNavigate } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const navigate = useNavigate();\n  return (\n    <button\n      onClick={() => {\n        navigate(-1);\n      }}\n    />\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Scripts Component in Remix Root Component\nDESCRIPTION: This code snippet demonstrates how to render the Scripts component inside the body of the HTML in the root component of a Remix application. The Scripts component is crucial for including the client-side runtime of the app.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scripts.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Scripts } from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html>\n      <head />\n      <body>\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using redirectDocument for Non-Remix App Redirection in TypeScript\nDESCRIPTION: This snippet demonstrates how to use the redirectDocument function to redirect from a Remix app to a non-Remix app on the same domain. It checks for a user session and redirects to a login page if not found.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirectDocument.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { redirectDocument } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async () => {\n  const userSession = await getUserSessionOrWhatever();\n\n  if (!userSession) {\n    // Assuming `/login` is a separate non-Remix app\n    return redirectDocument(\"/login\");\n  }\n\n  return json({ ok: true });\n};\n```\n\n----------------------------------------\n\nTITLE: Using Session API in Remix Actions\nDESCRIPTION: Demonstrates how to use the Session API within Remix action functions, including flash messages and session management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const session = await getSession(\n    request.headers.get(\"Cookie\")\n  );\n  session.get(\"foo\");\n  session.has(\"bar\");\n  // etc.\n}\n```\n\n----------------------------------------\n\nTITLE: Organizing Remix Routes Using Folders\nDESCRIPTION: This snippet illustrates how to use folders for organizing Remix routes. It shows how routes can be folders with a 'route.tsx' file inside, allowing for better code organization closer to the routes that use them.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_8\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── routes/\n│   ├── _landing._index/\n│   │   ├── route.tsx\n│   │   └── scroll-experience.tsx\n│   ├── _landing.about/\n│   │   ├── employee-profile-card.tsx\n│   │   ├── get-employee-data.server.ts\n│   │   ├── route.tsx\n│   │   └── team-photo.jpg\n│   ├── _landing/\n│   │   ├── footer.tsx\n│   │   ├── header.tsx\n│   │   └── route.tsx\n│   ├── app._index/\n│   │   ├── route.tsx\n│   │   └── stats.tsx\n│   ├── app.projects/\n│   │   ├── get-projects.server.ts\n│   │   ├── project-buttons.tsx\n│   │   ├── project-card.tsx\n│   │   └── route.tsx\n│   ├── app/\n│   │   ├── footer.tsx\n│   │   ├── primary-nav.tsx\n│   │   └── route.tsx\n│   ├── app_.projects.$id.roadmap/\n│   │   ├── chart.tsx\n│   │   ├── route.tsx\n│   │   └── update-timeline.server.ts\n│   └── contact-us.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Accessing Environment Variables in Remix Loader\nDESCRIPTION: Example of how to access environment variables in a Remix loader function using process.env.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  console.log(process.env.SOME_SECRET);\n}\n```\n\n----------------------------------------\n\nTITLE: Submitting FormData with useSubmit\nDESCRIPTION: Shows how to create and submit a FormData instance using the useSubmit hook with a POST method.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nconst formData = new FormData();\nformData.append(\"myKey\", \"myValue\");\nsubmit(formData, { method: \"post\" });\n```\n\n----------------------------------------\n\nTITLE: Implementing Active Link Styling with NavLink in Remix\nDESCRIPTION: Updated sidebar navigation to use NavLink instead of Link, providing visual feedback for active and pending states through dynamic class names.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_16\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  Links,\n  Meta,\n  NavLink,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from \"@remix-run/react\";\n\n// existing imports and exports\n\nexport default function App() {\n  const { contacts } = useLoaderData<typeof loader>();\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* existing elements */}\n          <ul>\n            {contacts.map((contact) => (\n              <li key={contact.id}>\n                <NavLink\n                  className={({ isActive, isPending }) =>\n                    isActive\n                      ? \"active\"\n                      : isPending\n                      ? \"pending\"\n                      : \"\"\n                  }\n                  to={`contacts/${contact.id}`}\n                >\n                  {/* existing elements */}\n                </NavLink>\n              </li>\n            ))}\n          </ul>\n          {/* existing elements */}\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Basic Remix Test Stub in TypeScript\nDESCRIPTION: Demonstrates basic setup of a Remix test stub using createRemixStub to mock a route with a loader and component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/testing.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createRemixStub } from \"@remix-run/testing\";\n\nconst RemixStub = createRemixStub([\n  {\n    path: \"/\",\n    Component: MyComponent,\n    loader() {\n      return json({ message: \"hello\" });\n    },\n  },\n]);\n```\n\n----------------------------------------\n\nTITLE: Implementing Deferred Data Loading with Remix and React Suspense\nDESCRIPTION: Example showing how to defer loading of product reviews while immediately displaying product information. Uses Remix's defer function and React's Suspense component to handle asynchronous data loading with a skeleton fallback UI.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { defer } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Await } from \"@remix-run/react\";\nimport { Suspense } from \"react\";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const reviewsPromise = getReviews(params.productId);\n  const product = await getProduct(params.productId);\n  return defer({\n    product: product,\n    reviews: reviewsPromise,\n  });\n}\n\nexport default function ProductRoute() {\n  const { product, reviews } =\n    useLoaderData<typeof loader>();\n  return (\n    <>\n      <ProductPage product={product} />\n\n      <Suspense fallback={<ReviewsSkeleton />}>\n        <Await resolve={reviews}>\n          {(reviews) => <Reviews reviews={reviews} />}\n        </Await>\n      </Suspense>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Vanilla Extract Styles in React Component\nDESCRIPTION: React component implementation showing how to import and apply Vanilla Extract styles to a button component using the className prop.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/vanilla-extract.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport * as styles from \"./styles.css\"; // Note that `.ts` is omitted here\n\nexport const Button = React.forwardRef(\n  ({ children, ...props }, ref) => {\n    return (\n      <button\n        {...props}\n        ref={ref}\n        className={styles.root}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n```\n\n----------------------------------------\n\nTITLE: Enhancing Add to Cart Functionality with Client-Side Behavior in Remix\nDESCRIPTION: This snippet builds upon the previous example, adding client-side behavior using Remix's useFetcher hook. It demonstrates how to implement pending UI states while maintaining the core functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/progressive-enhancement.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nexport function AddToCart({ id }) {\n  const fetcher = useFetcher();\n\n  return (\n    <fetcher.Form method=\"post\" action=\"/add-to-cart\">\n      <input name=\"id\" value={id} />\n      <button type=\"submit\">\n        {fetcher.state === \"submitting\"\n          ? \"Adding...\"\n          : \"Add To Cart\"}\n      </button>\n    </fetcher.Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Defining PageLinkDescriptor in Remix (TypeScript/React)\nDESCRIPTION: This snippet demonstrates how to use PageLinkDescriptor to prefetch resources for a page that the user is likely to navigate to. It's an alternative to using <Link prefetch=\"render\">.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/links.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport const links: LinksFunction = () => {\n  return [{ page: \"/posts/public\" }];\n};\n```\n\n----------------------------------------\n\nTITLE: Handling Multiple Form Actions in a Single Remix Route\nDESCRIPTION: This example demonstrates using a form 'intent' field to handle multiple different form submissions in the same route action. The action uses a switch statement to determine which operation to perform based on the submitted intent value.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/faq.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const intent = formData.get(\"intent\");\n  switch (intent) {\n    case \"update\": {\n      // do your update\n      return updateProjectName(formData.get(\"name\"));\n    }\n    case \"delete\": {\n      // do your delete\n      return deleteStuff(formData);\n    }\n    default: {\n      throw new Error(\"Unexpected action\");\n    }\n  }\n}\n\nexport default function Projects() {\n  const project = useLoaderData<typeof loader>();\n  return (\n    <>\n      <h2>Update Project</h2>\n      <Form method=\"post\">\n        <label>\n          Project name:{\" \"}\n          <input\n            type=\"text\"\n            name=\"name\"\n            defaultValue={project.name}\n          />\n        </label>\n        <button type=\"submit\" name=\"intent\" value=\"update\">\n          Update\n        </button>\n      </Form>\n\n      <Form method=\"post\">\n        <button type=\"submit\" name=\"intent\" value=\"delete\">\n          Delete\n        </button>\n      </Form>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: NavLink with style Callback\nDESCRIPTION: Shows how to use the style callback prop to dynamically set inline styles based on active and pending states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink\n  to=\"/messages\"\n  style={({ isActive, isPending }) => {\n    return {\n      fontWeight: isActive ? \"bold\" : \"\",\n      color: isPending ? \"red\" : \"black\",\n    };\n  }}\n>\n  Messages\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Basic Redirect Usage in Remix Action (TSX)\nDESCRIPTION: Demonstrates how to use the redirect function in a Remix action to redirect to a login page if there's no user session. It also shows how to return a JSON response if the session exists.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirect.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async () => {\n  const userSession = await getUserSessionOrWhatever();\n\n  if (!userSession) {\n    return redirect(\"/login\");\n  }\n\n  return json({ ok: true });\n};\n```\n\n----------------------------------------\n\nTITLE: Using the resolve Prop with Suspense\nDESCRIPTION: Shows how to use the resolve prop to handle a promise from useLoaderData and the Suspense fallback for loading states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<Await resolve={somePromise} />\n```\n\nLANGUAGE: tsx\nCODE:\n```\n<Suspense fallback={<div>Loading...</div>}>\n  <Await resolve={somePromise} />\n</Suspense>\n```\n\n----------------------------------------\n\nTITLE: Setting Global Headers in Remix Entry Server\nDESCRIPTION: This example shows how to add global headers in the entry.server.tsx file, which will be applied to all document requests but not data requests. It demonstrates setting Content-Type and a custom X-Powered-By header.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/headers.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  AppLoadContext,\n  EntryContext,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  loadContext: AppLoadContext\n) {\n  const markup = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  );\n\n  responseHeaders.set(\"Content-Type\", \"text/html\");\n  responseHeaders.set(\"X-Powered-By\", \"Hugs\");\n\n  return new Response(\"<!DOCTYPE html>\" + markup, {\n    headers: responseHeaders,\n    status: responseStatusCode,\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Creating an Action Function for Non-navigational Form Handling in Remix\nDESCRIPTION: This code implements an action function to handle the favorite toggle request without page navigation. It extracts the contactId parameter and form data, then calls the updateContact function to save the new favorite status in the database.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_28\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\n// existing imports\n\nimport { getContact, updateContact } from \"../data\";\n// existing imports\n\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  invariant(params.contactId, \"Missing contactId param\");\n  const formData = await request.formData();\n  return updateContact(params.contactId, {\n    favorite: formData.get(\"favorite\") === \"true\",\n  });\n};\n\n// existing code\n```\n\n----------------------------------------\n\nTITLE: Handling Server Timeouts in Remix Streaming\nDESCRIPTION: This snippet demonstrates how to configure server timeout handling for streaming in Remix. It shows the setup in the entry.server.tsx file, including the use of the abortDelay prop and setTimeout for aborting the stream.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nconst ABORT_DELAY = 5_000;\n\n// ...\n\nconst { pipe, abort } = renderToPipeableStream(\n  <RemixServer\n    context={remixContext}\n    url={request.url}\n    abortDelay={ABORT_DELAY}\n  />\n  // ...\n);\n\n// ...\n\nsetTimeout(abort, ABORT_DELAY);\n```\n\n----------------------------------------\n\nTITLE: Database Query with Prisma in Remix Loader (TypeScript/TSX)\nDESCRIPTION: Shows how to connect to a database using Prisma within a Remix loader. This example queries products based on a category ID and renders the result in a component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { db } from \"~/db.server\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  return json(\n    await db.product.findMany({\n      where: {\n        categoryId: params.categoryId,\n      },\n    })\n  );\n};\n\nexport default function ProductCategory() {\n  const products = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <p>{products.length} Products</p>\n      {/* ... */}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a City Search Loader in Remix\nDESCRIPTION: This code defines a loader function for a city search route that retrieves search results based on a query parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-routes.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  return json(\n    await searchCities(url.searchParams.get(\"q\"))\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Importing and Using useSearchParams Hook in Remix\nDESCRIPTION: This snippet demonstrates how to import and use the useSearchParams hook in a React component within a Remix application. It returns a tuple containing the current search params and a function to update them.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-search-params.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useSearchParams } from \"@remix-run/react\";\n\nexport function SomeComponent() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Defining HTTP Headers for a Remix Route\nDESCRIPTION: This snippet demonstrates how to export a headers function in a Remix route to set custom HTTP headers, including Cache-Control. It shows the structure and available parameters for the HeadersFunction.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/headers.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { HeadersFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const headers: HeadersFunction = ({\n  actionHeaders,\n  errorHeaders,\n  loaderHeaders,\n  parentHeaders,\n}) => ({\n  \"X-Stretchy-Pants\": \"its for fun\",\n  \"Cache-Control\": \"max-age=300, s-maxage=3600\",\n});\n```\n\n----------------------------------------\n\nTITLE: Using useAsyncValue Hook in Remix\nDESCRIPTION: Demonstrates how to use the useAsyncValue hook to retrieve resolved data from an Await component ancestor. The hook must be used within a descendant component of an Await component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-async-value.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction SomeDescendant() {\n  const value = useAsyncValue();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Breadcrumbs in Root Layout Using useMatches in Remix\nDESCRIPTION: This code snippet shows how to implement breadcrumbs in the root layout component using the useMatches hook. It filters route matches for those with breadcrumb handlers and maps them to list items, creating a complete breadcrumb navigation system.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/breadcrumbs.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Links,\n  Scripts,\n  useLoaderData,\n  useMatches,\n} from \"@remix-run/react\";\n\nexport default function Root() {\n  const matches = useMatches();\n\n  return (\n    <html lang=\"en\">\n      <head>\n        <Links />\n      </head>\n      <body>\n        <header>\n          <ol>\n            {matches\n              .filter(\n                (match) =>\n                  match.handle && match.handle.breadcrumb\n              )\n              .map((match, index) => (\n                <li key={index}>\n                  {match.handle.breadcrumb(match)}\n                </li>\n              ))}\n          </ol>\n        </header>\n        <Outlet />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Handling 'Not Found' in Remix Loader (TypeScript)\nDESCRIPTION: Demonstrates how to handle a 'not found' scenario in a Remix loader by throwing a Response object. This approach stops code execution and shows a not found page when a product is not found in the database.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const product = await db.product.findOne({\n    where: { id: params.productId },\n  });\n\n  if (!product) {\n    // we know we can't render the component\n    // so throw immediately to stop executing code\n    // and show the not found page\n    throw new Response(\"Not Found\", { status: 404 });\n  }\n\n  const cart = await getCart(request);\n  return json({\n    product,\n    inCart: cart.includes(product.id),\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Using useRouteLoaderData Hook in Remix (TSX)\nDESCRIPTION: This snippet demonstrates how to import and use the useRouteLoaderData hook to retrieve loader data for a specific route. In this example, it's accessing the 'user' data from the 'root' route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-route-loader-data.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useRouteLoaderData } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const { user } = useRouteLoaderData(\"root\");\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Fullstack State in Remix\nDESCRIPTION: This snippet shows how to combine server and client data sources in Remix. It loads partial data from the server, uses a HydrateFallback component for SSR, and combines server and client data in the clientLoader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/client-data.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport type { ClientLoaderFunctionArgs } from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const partialData = await getPartialDataFromDb({\n    request,\n  }); // (1)\n  return json(partialData);\n}\n\nexport async function clientLoader({\n  request,\n  serverLoader,\n}: ClientLoaderFunctionArgs) {\n  const [serverData, clientData] = await Promise.all([\n    serverLoader(),\n    getClientData(request),\n  ]);\n  return {\n    ...serverData, // (4)\n    ...clientData, // (4)\n  };\n}\nclientLoader.hydrate = true; // (3)\n\nexport function HydrateFallback() {\n  return <p>Skeleton rendered during SSR</p>; // (2)\n}\n\nexport default function Component() {\n  // This will always be the combined set of server + client data\n  const data = useLoaderData();\n  return <>...</>;\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Routes Configuration with Async Support\nDESCRIPTION: Example showing how to define custom routes using the routes function, including support for async operations, catchall routes, and nested route definitions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/vite-config.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      routes: async (defineRoutes) => {\n        // If you need to do async work, do it before calling `defineRoutes`, we use\n        // the call stack of `route` inside to set nesting.\n\n        return defineRoutes((route) => {\n          // A common use for this is catchall routes.\n          // - The first argument is the React Router path to match against\n          // - The second is the relative filename of the route handler\n          route(\"/some/path/*\", \"catchall.tsx\");\n\n          // if you want to nest routes, use the optional callback argument\n          route(\"some/:path\", \"some/route/file.js\", () => {\n            // - path is relative to parent path\n            // - filenames are still relative to the app directory\n            route(\"relative/path\", \"some/other/file\");\n          });\n        });\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Jokes Route with Remix Form Component\nDESCRIPTION: A jokes route component that displays a list of jokes and implements logout functionality using Remix's Form component. Includes user authentication state handling and navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_81\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Form,\n  Link,\n  Outlet,\n  useLoaderData,\n} from \"@remix-run/react\";\n\nexport default function JokesRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <header className=\"jokes-header\">\n        <div className=\"container\">\n          {data.user ? (\n            <div className=\"user-info\">\n              <span>{`Hi ${data.user.username}`}</span>\n              <Form action=\"/logout\" method=\"post\">\n                <button type=\"submit\" className=\"button\">\n                  Logout\n                </button>\n              </Form>\n            </div>\n          ) : (\n            <Link to=\"/login\">Login</Link>\n          )}\n        </div>\n      </header>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Random Joke Route Error Handling\nDESCRIPTION: Implements error handling for the random joke route, including 404 handling when no jokes exist in the database. Uses loader function to fetch random joke and ErrorBoundary for error cases.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_62\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Link,\n  useLoaderData,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const loader = async () => {\n  const count = await db.joke.count();\n  const randomRowNumber = Math.floor(Math.random() * count);\n  const [randomJoke] = await db.joke.findMany({\n    skip: randomRowNumber,\n    take: 1,\n  });\n  if (!randomJoke) {\n    throw new Response(\"No random joke found\", {\n      status: 404,\n    });\n  }\n  return json({ randomJoke });\n};\n\nexport default function JokesIndexRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's a random joke:</p>\n      <p>{data.randomJoke.content}</p>\n      <Link to={data.randomJoke.id}>\n        \"{data.randomJoke.name}\" Permalink\n      </Link>\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error) && error.status === 404) {\n    return (\n      <div className=\"error-container\">\n        <p>There are no jokes to display.</p>\n        <Link to=\"new\">Add your own</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      I did a whoopsies.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using Session Authentication in a Remix Loader\nDESCRIPTION: This example shows how to use the requireUserSession function in a route loader to protect access and retrieve user-specific data. The function validates authentication before executing the rest of the loader code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/faq.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  // if the user isn't authenticated, this will redirect to login\n  const session = await requireUserSession(request);\n\n  // otherwise the code continues to execute\n  const projects = await fakeDb.projects.scan({\n    userId: session.get(\"userId\"),\n  });\n  return json(projects);\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Custom Session Storage in Remix\nDESCRIPTION: This snippet shows how to create a custom session storage implementation in Remix using a generic database client. It demonstrates the required CRUD methods for managing session data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createSessionStorage } from \"@remix-run/node\"; // or cloudflare/deno\n\nfunction createDatabaseSessionStorage({\n  cookie,\n  host,\n  port,\n}) {\n  // Configure your database client...\n  const db = createDatabaseClient(host, port);\n\n  return createSessionStorage({\n    cookie,\n    async createData(data, expires) {\n      // `expires` is a Date after which the data should be considered\n      // invalid. You could use it to invalidate the data somehow or\n      // automatically purge this record from your database.\n      const id = await db.insert(data);\n      return id;\n    },\n    async readData(id) {\n      return (await db.select(id)) || null;\n    },\n    async updateData(id, data, expires) {\n      await db.update(id, data);\n    },\n    async deleteData(id) {\n      await db.delete(id);\n    },\n  });\n}\n\nconst { getSession, commitSession, destroySession } =\n  createDatabaseSessionStorage({\n    host: \"localhost\",\n    port: 1234,\n    cookie: {\n      name: \"__session\",\n      sameSite: \"lax\",\n    },\n  });\n```\n\n----------------------------------------\n\nTITLE: Implementing Contact Component UI\nDESCRIPTION: TypeScript code for the contact component UI, including imports, dummy data, and JSX structure.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { Form } from \"@remix-run/react\";\nimport type { FunctionComponent } from \"react\";\n\nimport type { ContactRecord } from \"../data\";\n\nexport default function Contact() {\n  const contact = {\n    first: \"Your\",\n    last: \"Name\",\n    avatar: \"https://placecats.com/200/200\",\n    twitter: \"your_handle\",\n    notes: \"Some notes\",\n    favorite: true,\n  };\n\n  return (\n    <div id=\"contact\">\n      <div>\n        <img\n          alt={`${contact.first} ${contact.last} avatar`}\n          key={contact.avatar}\n          src={contact.avatar}\n        />\n      </div>\n\n      <div>\n        <h1>\n          {contact.first || contact.last ? (\n            <>\n              {contact.first} {contact.last}\n            </>\n          ) : (\n            <i>No Name</i>\n          )}{\" \"}\n          <Favorite contact={contact} />\n        </h1>\n\n        {contact.twitter ? (\n          <p>\n            <a\n              href={`https://twitter.com/${contact.twitter}`}\n            >\n              {contact.twitter}\n            </a>\n          </p>\n        ) : null}\n\n        {contact.notes ? <p>{contact.notes}</p> : null}\n\n        <div>\n          <Form action=\"edit\">\n            <button type=\"submit\">Edit</button>\n          </Form>\n\n          <Form\n            action=\"destroy\"\n            method=\"post\"\n            onSubmit={(event) => {\n              const response = confirm(\n                \"Please confirm you want to delete this record.\"\n              );\n              if (!response) {\n                event.preventDefault();\n              }\n            }}\n          >\n            <button type=\"submit\">Delete</button>\n          </Form>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst Favorite: FunctionComponent<{\n  contact: Pick<ContactRecord, \"favorite\">;\n}> = ({ contact }) => {\n  const favorite = contact.favorite;\n\n  return (\n    <Form method=\"post\">\n      <button\n        aria-label={\n          favorite\n            ? \"Remove from favorites\"\n            : \"Add to favorites\"\n        }\n        name=\"favorite\"\n        value={favorite ? \"false\" : \"true\"}\n      >\n        {favorite ? \"★\" : \"☆\"}\n      </button>\n    </Form>\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Defining Route Module Structure in Remix\nDESCRIPTION: Basic structure of a Remix route module with empty loader, component and action exports. This serves as the foundation for implementing data flow in a user account edit route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/data-flow.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  // provides data to the component\n}\n\nexport default function Component() {\n  // renders the UI\n}\n\nexport async function action() {\n  // updates persistent data\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Pending UI for NavLinks with className Callback in Remix\nDESCRIPTION: This example shows how to add visual feedback to navigation links by using the NavLink component's className callback to apply a 'pending' class when the link is in a pending state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { NavLink } from \"@remix-run/react\";\n\nexport function ProjectList({ projects }) {\n  return (\n    <nav>\n      {projects.map((project) => (\n        <NavLink\n          key={project.id}\n          to={project.id}\n          className={({ isPending }) =>\n            isPending ? \"pending\" : null\n          }\n        >\n          {project.name}\n        </NavLink>\n      ))}\n    </nav>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing User Registration Function in Session Utilities for Remix\nDESCRIPTION: This code adds a register function to the session utility file. It uses bcrypt to hash passwords before storing them in the database and returns the created user's ID and username.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_55\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  createCookieSessionStorage,\n  redirect,\n} from \"@remix-run/node\";\nimport bcrypt from \"bcryptjs\";\n\nimport { db } from \"./db.server\";\n\ntype LoginForm = {\n  password: string;\n  username: string;\n};\n\nexport async function register({\n  password,\n  username,\n}: LoginForm) {\n  const passwordHash = await bcrypt.hash(password, 10);\n  const user = await db.user.create({\n    data: { passwordHash, username },\n  });\n  return { id: user.id, username };\n}\n\nexport async function login({\n  password,\n  username,\n}: LoginForm) {\n  const user = await db.user.findUnique({\n    where: { username },\n  });\n  if (!user) {\n    return null;\n  }\n\n  const isCorrectPassword = await bcrypt.compare(\n    password,\n    user.passwordHash\n  );\n  if (!isCorrectPassword) {\n    return null;\n  }\n\n  return { id: user.id, username };\n}\n\nconst sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret) {\n  throw new Error(\"SESSION_SECRET must be set\");\n}\n\nconst storage = createCookieSessionStorage({\n  cookie: {\n    name: \"RJ_session\",\n    // normally you want this to be `secure: true`\n    // but that doesn't work on localhost for Safari\n    // https://web.dev/when-to-use-local-https/\n    secure: process.env.NODE_ENV === \"production\",\n    secrets: [sessionSecret],\n    sameSite: \"lax\",\n    path: \"/\",\n    maxAge: 60 * 60 * 24 * 30,\n    httpOnly: true,\n  },\n});\n\nfunction getUserSession(request: Request) {\n  return storage.getSession(request.headers.get(\"Cookie\"));\n}\n\nexport async function getUserId(request: Request) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    return null;\n  }\n  return userId;\n}\n\nexport async function requireUserId(\n  request: Request,\n  redirectTo: string = new URL(request.url).pathname\n) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    const searchParams = new URLSearchParams([\n      [\"redirectTo\", redirectTo],\n    ]);\n    throw redirect(`/login?${searchParams}`);\n  }\n  return userId;\n}\n\nexport async function getUser(request: Request) {\n  const userId = await getUserId(request);\n  if (typeof userId !== \"string\") {\n    return null;\n  }\n\n  const user = await db.user.findUnique({\n    select: { id: true, username: true },\n    where: { id: userId },\n  });\n\n  if (!user) {\n    throw await logout(request);\n  }\n\n  return user;\n}\n\nexport async function logout(request: Request) {\n  const session = await getUserSession(request);\n  return redirect(\"/login\", {\n    headers: {\n      \"Set-Cookie\": await storage.destroySession(session),\n    },\n  });\n}\n\nexport async function createUserSession(\n  userId: string,\n  redirectTo: string\n) {\n  const session = await storage.getSession();\n  session.set(\"userId\", userId);\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await storage.commitSession(session),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing clientAction in Remix TSX\nDESCRIPTION: Demonstrates how to define a clientAction function that handles client-side mutations in Remix. The function receives params, request, and serverAction arguments, and can be used for cache invalidation and data handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/client-action.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const clientAction = async ({\n  request,\n  params,\n  serverAction,\n}: ClientActionFunctionArgs) => {\n  invalidateClientSideCache();\n  const data = await serverAction();\n  return data;\n};\n```\n\n----------------------------------------\n\nTITLE: Blog Route Implementation with Single Fetch\nDESCRIPTION: Example of a blog route implementation using Single Fetch features, showing how to handle various data types including Promises and Dates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// routes/blog.$slug.tsx\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const { slug } = params;\n\n  const comments = fetchComments(slug);\n  const blogData = await fetchBlogData(slug);\n\n  return {\n    content: blogData.content, // <- string\n    published: blogData.date, // <- Date\n    comments, // <- Promise\n  };\n}\n\nexport default function BlogPost() {\n  const blogData = useLoaderData<typeof loader>();\n  //    ^? { content: string, published: Date, comments: Promise }\n\n  return (\n    <>\n      <Header published={blogData.date} />\n      <BlogContent content={blogData.content} />\n      <Suspense fallback={<CommentsSkeleton />}>\n        <Await resolve={blogData.comments}>\n          {(comments) => (\n            <BlogComments comments={comments} />\n          )}\n        </Await>\n      </Suspense>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Contact Creation Action in Root Route\nDESCRIPTION: Creates an action function in the root route to handle new contact creation through form submission.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createEmptyContact, getContacts } from \"./data\";\n\nexport const action = async () => {\n  const contact = await createEmptyContact();\n  return json({ contact });\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing User Login and Session Creation in TypeScript\nDESCRIPTION: This code snippet defines functions for user login and session creation. It uses bcrypt for password comparison and creates a cookie-based session for authenticated users.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_44\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookieSessionStorage,\n  redirect,\n} from \"@remix-run/node\";\nimport bcrypt from \"bcryptjs\";\n\nimport { db } from \"./db.server\";\n\ntype LoginForm = {\n  username: string;\n  password: string;\n};\n\nexport async function login({\n  username,\n  password,\n}: LoginForm) {\n  const user = await db.user.findUnique({\n    where: { username },\n  });\n  if (!user) {\n    return null;\n  }\n  const isCorrectPassword = await bcrypt.compare(\n    password,\n    user.passwordHash\n  );\n  if (!isCorrectPassword) {\n    return null;\n  }\n\n  return { id: user.id, username };\n}\n\nconst sessionSecret = process.env.SESSION_SECRET;\nif (!sessionSecret) {\n  throw new Error(\"SESSION_SECRET must be set\");\n}\n\nconst storage = createCookieSessionStorage({\n  cookie: {\n    name: \"RJ_session\",\n    // normally you want this to be `secure: true`\n    // but that doesn't work on localhost for Safari\n    // https://web.dev/when-to-use-local-https/\n    secure: process.env.NODE_ENV === \"production\",\n    secrets: [sessionSecret],\n    sameSite: \"lax\",\n    path: \"/\",\n    maxAge: 60 * 60 * 24 * 30,\n    httpOnly: true,\n  },\n});\n\nexport async function createUserSession(\n  userId: string,\n  redirectTo: string\n) {\n  const session = await storage.getSession();\n  session.set(\"userId\", userId);\n  return redirect(redirectTo, {\n    headers: {\n      \"Set-Cookie\": await storage.commitSession(session),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Route with Layout Export in TypeScript\nDESCRIPTION: This code snippet shows how to implement a root route with a Layout export in Remix. The Layout component manages the document structure and app shell, while the App component renders the Outlet. It also includes an ErrorBoundary for handling errors.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/root.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nexport function Layout({ children }) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        {/* children will be the root Component, ErrorBoundary, or HydrateFallback */}\n        {children}\n        <Scripts />\n        <ScrollRestoration />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return <Outlet />;\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <>\n        <h1>\n          {error.status} {error.statusText}\n        </h1>\n        <p>{error.data}</p>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <h1>Error!</h1>\n      <p>{error?.message ?? \"Unknown error\"}</p>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic NavLink Usage in Remix\nDESCRIPTION: Shows how to import and use the NavLink component with a className callback that applies different styles based on the link's active and pending states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { NavLink } from \"@remix-run/react\";\n\n<NavLink\n  to=\"/messages\"\n  className={({ isActive, isPending }) =>\n    isPending ? \"pending\" : isActive ? \"active\" : \"\"\n  }\n>\n  Messages\n</NavLink>;\n```\n\n----------------------------------------\n\nTITLE: New Joke Form Component\nDESCRIPTION: Implements a form component for creating new jokes with name and content fields.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function NewJokeRoute() {\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <form method=\"post\">\n        <div>\n          <label>\n            Name: <input type=\"text\" name=\"name\" />\n          </label>\n        </div>\n        <div>\n          <label>\n            Content: <textarea name=\"content\" />\n          </label>\n        </div>\n        <div>\n          <button type=\"submit\" className=\"button\">\n            Add\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Manual Redirect Construction in Remix (TS)\nDESCRIPTION: Demonstrates how to construct a redirect response manually without using the redirect helper function. This shows the underlying Response object creation that the redirect function simplifies.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirect.md#2025-04-18_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\n// this is a shortcut...\nreturn redirect(\"/else/where\", 303);\n\n// ...for this\nreturn new Response(null, {\n  status: 303,\n  headers: {\n    Location: \"/else/where\",\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Setting up DynamoDB Session Storage in Remix\nDESCRIPTION: Implements Amazon DynamoDB-based session storage using createArcTableSessionStorage for globally replicated, low-latency session data storage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookie,\n  createArcTableSessionStorage,\n} from \"@remix-run/architect\";\n\n// In this example the Cookie is created separately.\nconst sessionCookie = createCookie(\"__session\", {\n  secrets: [\"r3m1xr0ck5\"],\n  maxAge: 3600,\n  sameSite: true,\n});\n\nconst { getSession, commitSession, destroySession } =\n  createArcTableSessionStorage({\n    // The name of the table (should match app.arc)\n    table: \"sessions\",\n    // The name of the key used to store the session ID (should match app.arc)\n    idx: \"_idx\",\n    // The name of the key used to store the expiration time (should match app.arc)\n    ttl: \"_ttl\",\n    cookie: sessionCookie,\n  });\n\nexport { getSession, commitSession, destroySession };\n```\n\n----------------------------------------\n\nTITLE: Defining Handle Export in Remix TSX\nDESCRIPTION: Example showing how to export a handle object in a Remix route module. The handle export can contain arbitrary values that can be accessed via the useMatches hook to establish application-wide conventions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/handle.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const handle = {\n  its: \"all yours\",\n};\n```\n\n----------------------------------------\n\nTITLE: Using useActionData Hook in Remix TSX\nDESCRIPTION: This snippet demonstrates how to use the useActionData hook in a Remix application. It shows an action function that processes form data and a component that renders a form and displays the action data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-action-data.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Form, useActionData } from \"@remix-run/react\";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const body = await request.formData();\n  const name = body.get(\"visitorsName\");\n  return json({ message: `Hello, ${name}` });\n}\n\nexport default function Invoices() {\n  const data = useActionData<typeof action>();\n  return (\n    <Form method=\"post\">\n      <input type=\"text\" name=\"visitorsName\" />\n      {data ? data.message : \"Waiting...\"}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Form Action Navigation Example in TypeScript\nDESCRIPTION: Shows how to set navigation form actions using either Form component or submit function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigation.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// set from either one of these\n<Form action=\"/some/where\" />;\nsubmit(formData, { action: \"/some/where\" });\n```\n\n----------------------------------------\n\nTITLE: Handling Browser-Only Code in Server-Side Rendering (TypeScript)\nDESCRIPTION: Demonstrates a technique for safely handling browser-only code in a server-side rendering context using React state and effects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nlet isHydrating = true;\n\nfunction SomeComponent() {\n  const [isHydrated, setIsHydrated] = React.useState(\n    !isHydrating\n  );\n\n  React.useEffect(() => {\n    isHydrating = false;\n    setIsHydrated(true);\n  }, []);\n\n  if (isHydrated) {\n    return <Count />;\n  } else {\n    return <SomeFallbackComponent />;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using New Route Config API\nDESCRIPTION: Example showing the new streamlined route config API with explicit route, layout, and index functions that replaces the previous defineRoutes approach for manually configuring routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_36\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  type RouteConfig,\n  route,\n  layout,\n  index,\n} from \"@remix-run/route-config\";\n\nexport default [\n  index(\"home/route.tsx\"),\n  route(\"about\", \"about/route.tsx\"),\n  layout(\"concerts/layout.tsx\", [\n    route(\"trending\", \"concerts/trending.tsx\"),\n    route(\":city\", \"concerts/city.tsx\"),\n  ]),\n] satisfies RouteConfig;\n```\n\n----------------------------------------\n\nTITLE: Configuring package.json for TypeScript in Remix\nDESCRIPTION: This snippet shows how to set up package.json for a Remix project with TypeScript support. It includes scripts for building, development, linting, and type checking.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/typescript.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"remix-app\",\n  \"private\": true,\n  \"sideEffects\": false,\n  \"scripts\": {\n    \"build\": \"remix vite:build\",\n    \"dev\": \"remix vite:dev\",\n    \"lint\": \"eslint --ignore-path .gitignore .\",\n    \"start\": \"remix-serve ./build/index.js\",\n    \"typecheck\": \"tsc\"\n  },\n  \"dependencies\": {\n    \"@remix-run/node\": \"latest\",\n    \"@remix-run/react\": \"latest\",\n    \"@remix-run/serve\": \"latest\",\n    \"isbot\": \"^4.1.0\",\n    \"react\": \"^18.2.0\",\n    \"react-dom\": \"^18.2.0\"\n  },\n  \"devDependencies\": {\n    \"@remix-run/dev\": \"latest\",\n    \"@types/react\": \"^18.2.20\",\n    \"@types/react-dom\": \"^18.2.7\",\n    \"eslint\": \"^8.23.1\",\n    \"typescript\": \"^5.1.6\",\n    \"vite\": \"^6.0.0\"\n  },\n  \"engines\": {\n    \"node\": \">=18.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Cookie Session Storage in Remix\nDESCRIPTION: Creates a cookie-based session storage implementation using createCookieSessionStorage. This approach stores session data directly in the browser cookie with a 4kb size limit.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createCookieSessionStorage } from \"@remix-run/node\"; // or cloudflare/deno\n\nconst { getSession, commitSession, destroySession } =\n  createCookieSessionStorage({\n    // a Cookie from `createCookie` or the same CookieOptions to create one\n    cookie: {\n      name: \"__session\",\n      secrets: [\"r3m1xr0ck5\"],\n      sameSite: \"lax\",\n    },\n  });\n```\n\n----------------------------------------\n\nTITLE: Configuring RemixStub Properties for Advanced Testing Scenarios in TypeScript/React\nDESCRIPTION: This snippet illustrates how to configure the RemixStub component with various properties for advanced testing scenarios. It shows setting initial entries, hydration data, and future flags for different test cases.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/create-remix-stub.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// Test the app rendered at \"/2\" with 2 prior history stack entries\nrender(\n  <RemixStub\n    initialEntries={[\"/\", \"/1\", \"/2\"]}\n    initialIndex={2}\n  />\n);\n\n// Test the app rendered with initial loader data for the root route.  When using\n// this, it's best to give your routes their own unique IDs in your route definitions\nrender(\n  <RemixStub\n    hydrationData={{\n      loaderData: { root: { message: \"hello\" } },\n    }}\n  />\n);\n\n// Test the app rendered with given future flags enabled\nrender(<RemixStub future={{ v3_coolFeature: true }} />);\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Remix Stub for Testing in TypeScript/React\nDESCRIPTION: This snippet demonstrates how to create a basic Remix stub for testing components that use Remix hooks and components. It shows setting up mocked routes with various route properties and assertions for testing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/create-remix-stub.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createRemixStub } from \"@remix-run/testing\";\n\ntest(\"renders loader data\", async () => {\n  const RemixStub = createRemixStub([\n    {\n      path: \"/\",\n      meta() {\n        /* ... */\n      },\n      links() {\n        /* ... */\n      },\n      Component: MyComponent,\n      ErrorBoundary: MyErrorBoundary,\n      action() {\n        /* ... */\n      },\n      loader() {\n        /* ... */\n      },\n    },\n  ]);\n\n  render(<RemixStub />);\n\n  // Assert initial render\n  await waitFor(() => screen.findByText(\"...\"));\n\n  // Click a button and assert a UI change\n  user.click(screen.getByText(\"button text\"));\n  await waitFor(() => screen.findByText(\"...\"));\n});\n```\n\n----------------------------------------\n\nTITLE: Remix-Optimized Form Implementation\nDESCRIPTION: Simplified form implementation using Remix's built-in form handling and state management capabilities.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport {\n  useActionData,\n  useNavigation,\n} from \"@remix-run/react\";\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const errors = await validateSignupRequest(request);\n  if (errors) {\n    return json({ ok: false, errors: errors });\n  }\n  await signupUser(request);\n  return json({ ok: true, errors: null });\n}\n\nexport function Signup() {\n  const navigation = useNavigation();\n  const actionData = useActionData<typeof action>();\n\n  const userNameError = actionData?.errors?.userName;\n  const passwordError = actionData?.errors?.password;\n  const isSubmitting = navigation.formAction === \"/signup\";\n\n  return (\n    <Form method=\"post\">\n      <p>\n        <input type=\"text\" name=\"username\" />\n        {userNameError ? <i>{userNameError}</i> : null}\n      </p>\n\n      <p>\n        <input type=\"password\" name=\"password\" />\n        {passwordError ? <i>{passwordError}</i> : null}\n      </p>\n\n      <button disabled={isSubmitting} type=\"submit\">\n        Sign Up\n      </button>\n\n      {isSubmitting ? <BusyIndicator /> : null}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Updating entry.server.tsx for Remix v2\nDESCRIPTION: Diff showing the necessary changes in app/entry.server.tsx to convert Node PassThrough to web ReadableStream using createReadableStreamFromReadable in Remix v2.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PassThrough } from \"node:stream\";\nimport type { AppLoadContext, EntryContext } from \"@remix-run/node\"; // or cloudflare/deno\n- import { Response } from \"@remix-run/node\"; // or cloudflare/deno\n+ import { createReadableStreamFromReadable } from \"@remix-run/node\"; // or cloudflare/deno\nimport { RemixServer } from \"@remix-run/react\";\nimport { isbot } from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5_000;\n\nexport default function handleRequest({ /* ... */ }) { ... }\n\nfunction handleBotRequest(...) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer ... />,\n      {\n        onAllReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n-             new Response(body, {\n+             new Response(createReadableStreamFromReadable(body), {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        ...\n        onShellError(error: unknown) { ... }\n        onError(error: unknown) { ... }\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\nfunction handleBrowserRequest(...) {\n  return new Promise((resolve, reject) => {\n    let shellRendered = false;\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer ... />,\n      {\n        onShellReady() {\n          shellRendered = true;\n          const body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n-              new Response(body, {\n+              new Response(createReadableStreamFromReadable(body), {\n              headers: responseHeaders,\n              status: responseStatusCode,\n            })\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) { ... },\n        onError(error: unknown) { ... },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Using useBeforeUnload Hook in Remix with React\nDESCRIPTION: This snippet demonstrates how to use the useBeforeUnload hook from Remix to save application state to localStorage before an automatic page reload. It also shows how to retrieve the saved state when the component mounts.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-before-unload.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useBeforeUnload } from \"@remix-run/react\";\n\nfunction SomeForm() {\n  const [state, setState] = React.useState(null);\n\n  // save it off before the automatic page reload\n  useBeforeUnload(\n    React.useCallback(() => {\n      localStorage.stuff = state;\n    }, [state])\n  );\n\n  // read it in when they return\n  React.useEffect(() => {\n    if (state === null && localStorage.stuff != null) {\n      setState(localStorage.stuff);\n    }\n  }, [state]);\n\n  return <>{/*... */}</>;\n}\n```\n\n----------------------------------------\n\nTITLE: Basic useNavigation Hook Usage in JavaScript\nDESCRIPTION: Demonstrates the basic implementation of the useNavigation hook in a React component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigation.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { useNavigation } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const navigation = useNavigation();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Displaying Validation Errors in Remix Signup Form (TSX)\nDESCRIPTION: This snippet shows how to modify the Signup component to display validation errors. It uses the useActionData hook to access and display errors returned from the action.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/form-validation.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json, redirect } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Form, useActionData } from \"@remix-run/react\";\n\nexport default function Signup() {\n  const actionData = useActionData<typeof action>();\n\n  return (\n    <Form method=\"post\">\n      <p>\n        <input type=\"email\" name=\"email\" />\n        {actionData?.errors?.email ? (\n          <em>{actionData?.errors.email}</em>\n        ) : null}\n      </p>\n\n      <p>\n        <input type=\"password\" name=\"password\" />\n        {actionData?.errors?.password ? (\n          <em>{actionData?.errors.password}</em>\n        ) : null}\n      </p>\n\n      <button type=\"submit\">Sign Up</button>\n    </Form>\n  );\n}\n\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  // omitted for brevity\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing City Search Combobox with Remix\nDESCRIPTION: This code snippet demonstrates how to implement a city search combobox using Remix. It includes a loader function for fetching city data and a React component for rendering the combobox with automatic network handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/concurrency.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const { searchParams } = new URL(request.url);\n  const cities = await searchCities(searchParams.get(\"q\"));\n  return json(cities);\n}\n\nexport function CitySearchCombobox() {\n  const fetcher = useFetcher<typeof loader>();\n\n  return (\n    <fetcher.Form action=\"/city-search\">\n      <Combobox aria-label=\"Cities\">\n        <ComboboxInput\n          name=\"q\"\n          onChange={(event) =>\n            // submit the form onChange to get the list of cities\n            fetcher.submit(event.target.form)\n          }\n        />\n\n        {/* render with the loader's data */}\n        {fetcher.data ? (\n          <ComboboxPopover className=\"shadow-popup\">\n            {fetcher.data.length > 0 ? (\n              <ComboboxList>\n                {fetcher.data.map((city) => (\n                  <ComboboxOption\n                    key={city.id}\n                    value={city.name}\n                  />\n                ))}\n              </ComboboxList>\n            ) : (\n              <span>No results found</span>\n            )}\n          </ComboboxPopover>\n        ) : null}\n      </Combobox>\n    </fetcher.Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using PrefetchPageLinks Component in Remix for Asset Prefetching\nDESCRIPTION: This example demonstrates how to use the PrefetchPageLinks component to prefetch all assets for a specific page. The component renders link rel=\"prefetch\" and link rel=\"modulepreload\" tags for data, modules, and CSS of the specified page to enable instant navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/prefetch-page-links.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\n<PrefetchPageLinks page=\"/absolute/path/to/your-path\" />\n```\n\n----------------------------------------\n\nTITLE: Auto-submitting Forms with Search Parameters\nDESCRIPTION: Shows how to implement auto-form submission when search parameters change using the useSubmit hook from Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_12\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  useSubmit,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const submit = useSubmit();\n  const [searchParams] = useSearchParams();\n  const brands = searchParams.getAll(\"brand\");\n\n  return (\n    <Form\n      method=\"get\"\n      onChange={(e) => submit(e.currentTarget)}\n    >\n      {/* ... */}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Structuring Server-Only Modules in Remix Project\nDESCRIPTION: This snippet demonstrates the directory structure for implementing server-only modules in a Remix project. It shows how to use .server files and directories to mark code as server-only.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/-server.md#2025-04-18_snippet_0\n\nLANGUAGE: txt\nCODE:\n```\napp\n├── .server 👈 marks all files in this directory as server-only\n│   ├── auth.ts\n│   └── db.ts\n├── cms.server.ts 👈 marks this file as server-only\n├── root.tsx\n└── routes\n    └── _index.tsx\n```\n\n----------------------------------------\n\nTITLE: Importing and Using Asset Files in Remix\nDESCRIPTION: This example demonstrates how to import image and CSS files in a Remix application. The snippet shows how Remix processes these assets, making them available via URL references that can be used in components and the links function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/asset-imports.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport banner from \"./images/banner.jpg\";\nimport styles from \"./styles/app.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n\nexport default function Page() {\n  return (\n    <div>\n      <h1>Some Page</h1>\n      <img src={banner} />\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Importing and Using CSS Modules in React Component\nDESCRIPTION: This snippet shows how to import and apply CSS Module styles to a React button component. It demonstrates the usage of the imported styles object to apply the 'root' class.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css-modules.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport styles from \"./styles.module.css\";\n\nexport const Button = React.forwardRef(\n  ({ children, ...props }, ref) => {\n    return (\n      <button\n        {...props}\n        ref={ref}\n        className={styles.root}\n      />\n    );\n  }\n);\nButton.displayName = \"Button\";\n```\n\n----------------------------------------\n\nTITLE: Implementing Client-Only Data Loading in Remix\nDESCRIPTION: This snippet shows a Remix route that only depends on client-side data loading using the clientLoader function and a HydrateFallback component for SSR.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/client-data.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ClientLoaderFunctionArgs } from \"@remix-run/react\";\n\nexport async function clientLoader({\n  request,\n}: ClientLoaderFunctionArgs) {\n  const clientData = await getClientData(request);\n  return clientData;\n}\n// Note: you do not have to set this explicitly - it is implied if there is no `loader`\nclientLoader.hydrate = true;\n\n// (2)\nexport function HydrateFallback() {\n  return <p>Skeleton rendered during SSR</p>;\n}\n\nexport default function Component() {\n  const data = useLoaderData(); // (2) - client data\n  return <>...</>;\n}\n```\n\n----------------------------------------\n\nTITLE: Synchronizing Input Value with URLSearchParams in Remix\nDESCRIPTION: This snippet demonstrates how to use useEffect to synchronize the input value with URLSearchParams when the user navigates using browser back/forward buttons.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_23\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useEffect } from \"react\";\n\nexport default function App() {\n  const { contacts, q } = useLoaderData<typeof loader>();\n  const navigation = useNavigation();\n\n  useEffect(() => {\n    const searchField = document.getElementById(\"q\");\n    if (searchField instanceof HTMLInputElement) {\n      searchField.value = q || \"\";\n    }\n  }, [q]);\n\n  // existing code\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering a UI Route with a Link to a PDF Resource Route in Remix\nDESCRIPTION: This snippet demonstrates a UI Route that renders a report and includes a link to a PDF version, which is handled by a separate Resource Route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  return json(await getReport(params.id));\n}\n\nexport default function Report() {\n  const report = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <h1>{report.name}</h1>\n      <Link to=\"pdf\" reloadDocument>\n        View as PDF\n      </Link>\n      {/* ... */}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Manual Route Configuration in Vite\nDESCRIPTION: Example of manually configuring routes using the routes function in vite.config.ts.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/routes.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      routes(defineRoutes) {\n        return defineRoutes((route) => {\n          route(\"/\", \"home/route.tsx\", { index: true });\n          route(\"about\", \"about/route.tsx\");\n          route(\"concerts\", \"concerts/layout.tsx\", () => {\n            route(\"\", \"concerts/home.tsx\", { index: true });\n            route(\"trending\", \"concerts/trending.tsx\");\n            route(\":city\", \"concerts/city.tsx\");\n          });\n        });\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Conditional Stylesheet Loading with Media Queries in Remix\nDESCRIPTION: This TypeScript snippet demonstrates how to use media queries to conditionally load stylesheets based on screen size and color scheme preferences in a Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nexport const links: LinksFunction = () => {\n  return [\n    {\n      rel: \"stylesheet\",\n      href: mainStyles,\n    },\n    {\n      rel: \"stylesheet\",\n      href: largeStyles,\n      media: \"(min-width: 1024px)\",\n    },\n    {\n      rel: \"stylesheet\",\n      href: xlStyles,\n      media: \"(min-width: 1280px)\",\n    },\n    {\n      rel: \"stylesheet\",\n      href: darkStyles,\n      media: \"(prefers-color-scheme: dark)\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Sidebar Component with Cookie State\nDESCRIPTION: Implementation of a Sidebar component that uses cookie-based state management with optimistic UI updates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Sidebar({ children }) {\n  const fetcher = useFetcher();\n  let { sidebarIsOpen } = useLoaderData<typeof loader>();\n\n  // use optimistic UI to immediately change the UI state\n  if (fetcher.formData?.has(\"sidebar\")) {\n    sidebarIsOpen =\n      fetcher.formData.get(\"sidebar\") === \"open\";\n  }\n\n  return (\n    <div>\n      <fetcher.Form method=\"post\">\n        <button\n          name=\"sidebar\"\n          value={sidebarIsOpen ? \"closed\" : \"open\"}\n        >\n          {sidebarIsOpen ? \"Close\" : \"Open\"}\n        </button>\n      </fetcher.Form>\n      <aside hidden={!sidebarIsOpen}>{children}</aside>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Database Singleton for Remix\nDESCRIPTION: Server-side module that creates a singleton Prisma client instance. This prevents multiple database connections during development hot reloads, which could lead to connection pool exhaustion.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PrismaClient } from \"@prisma/client\";\n\nimport { singleton } from \"./singleton.server\";\n\n// Hard-code a unique key, so we can look up the client when this module gets re-imported\nexport const db = singleton(\n  \"prisma\",\n  () => new PrismaClient()\n);\n```\n\n----------------------------------------\n\nTITLE: useMatches Return Type Structure in TypeScript\nDESCRIPTION: Demonstrates the data structure returned by useMatches hook, showing the shape of the matches array with route information including id, pathname, data, params, and handle properties.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-matches.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n[\n  { id, pathname, data, params, handle }, // root route\n  { id, pathname, data, params, handle }, // layout route\n  { id, pathname, data, params, handle }, // child route\n  // etc.\n]\n```\n\n----------------------------------------\n\nTITLE: LocalStorage-based Sidebar Implementation\nDESCRIPTION: Demonstrates persistent state management using localStorage with effect hooks for synchronization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Sidebar({ children }) {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  // synchronize initially\n  useLayoutEffect(() => {\n    const isOpen = window.localStorage.getItem(\"sidebar\");\n    setIsOpen(isOpen);\n  }, []);\n\n  // synchronize on change\n  useEffect(() => {\n    window.localStorage.setItem(\"sidebar\", isOpen);\n  }, [isOpen]);\n\n  return (\n    <div>\n      <button onClick={() => setIsOpen((open) => !open)}>\n        {isOpen ? \"Close\" : \"Open\"}\n      </button>\n      <aside hidden={!isOpen}>{children}</aside>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Search Spinner and Loading Indicator in Remix\nDESCRIPTION: This snippet demonstrates how to add a search spinner and loading indicator to improve user experience during search operations. It uses the useNavigation hook to determine the loading state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_25\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function App() {\n  const { contacts, q } = useLoaderData<typeof loader>();\n  const navigation = useNavigation();\n  const submit = useSubmit();\n  const searching =\n    navigation.location &&\n    new URLSearchParams(navigation.location.search).has(\n      \"q\"\n    );\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* existing elements */}\n          <div>\n            <Form\n              id=\"search-form\"\n              onChange={(event) =>\n                submit(event.currentTarget)\n              }\n              role=\"search\"\n            >\n              <input\n                aria-label=\"Search contacts\"\n                className={searching ? \"loading\" : \"\"}\n                defaultValue={q || \"\"}\n                id=\"q\"\n                name=\"q\"\n                placeholder=\"Search\"\n                type=\"search\"\n              />\n              <div\n                aria-hidden\n                hidden={!searching}\n                id=\"search-spinner\"\n              />\n            </Form>\n            {/* existing elements */}\n          </div>\n          {/* existing elements */}\n        </div>\n        <div\n          className={\n            navigation.state === \"loading\" && !searching\n              ? \"loading\"\n              : \"\"\n          }\n          id=\"detail\"\n        >\n          <Outlet />\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Server Node Polyfills in Remix v2\nDESCRIPTION: Example of how to configure server node polyfills in remix.config.js for non-Node.js server platforms in Remix v2. This snippet shows how to remove all server polyfills and selectively reintroduce them as needed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverNodeBuiltinsPolyfill: {\n    modules: {},\n  },\n};\n```\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverNodeBuiltinsPolyfill: {\n    modules: {\n      buffer: true,\n      fs: \"empty\",\n    },\n    globals: {\n      Buffer: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Joke Detail Route with Reusable Component in Remix\nDESCRIPTION: This route handles loading and displaying a single joke, along with deletion functionality for joke owners. It uses the reusable JokeDisplay component and implements comprehensive error handling for various scenarios.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_87\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  useLoaderData,\n  useParams,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { JokeDisplay } from \"~/components/joke\";\nimport { db } from \"~/utils/db.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const meta: MetaFunction<typeof loader> = ({\n  data,\n}) => {\n  const { description, title } = data\n    ? {\n        description: `Enjoy the \"${data.joke.name}\" joke and much more`,\n        title: `\"${data.joke.name}\" joke`,\n      }\n    : { description: \"No joke found\", title: \"No joke\" };\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title },\n  ];\n};\n\nexport const loader = async ({\n  params,\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"What a joke! Not found.\", {\n      status: 404,\n    });\n  }\n  return json({\n    isOwner: userId === joke.jokesterId,\n    joke,\n  });\n};\n\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  if (form.get(\"intent\") !== \"delete\") {\n    throw new Response(\n      `The intent ${form.get(\"intent\")} is not supported`,\n      { status: 400 }\n    );\n  }\n  const userId = await requireUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"Can't delete what does not exist\", {\n      status: 404,\n    });\n  }\n  if (joke.jokesterId !== userId) {\n    throw new Response(\n      \"Pssh, nice try. That's not your joke\",\n      { status: 403 }\n    );\n  }\n  await db.joke.delete({ where: { id: params.jokeId } });\n  return redirect(\"/jokes\");\n};\n\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <JokeDisplay isOwner={data.isOwner} joke={data.joke} />\n  );\n}\n\nexport function ErrorBoundary() {\n  const { jokeId } = useParams();\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error)) {\n    if (error.status === 400) {\n      return (\n        <div className=\"error-container\">\n          What you're trying to do is not allowed.\n        </div>\n      );\n    }\n    if (error.status === 403) {\n      return (\n        <div className=\"error-container\">\n          Sorry, but \"{jokeId}\" is not your joke.\n        </div>\n      );\n    }\n    if (error.status === 404) {\n      return (\n        <div className=\"error-container\">\n          Huh? What the heck is \"{jokeId}\"?\n        </div>\n      );\n    }\n  }\n\n  return (\n    <div className=\"error-container\">\n      There was an error loading joke by the id \"${jokeId}\".\n      Sorry.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using json Function in Remix\nDESCRIPTION: The json function is used to create a JSON response with proper headers. It accepts data and optional init options for customizing the response.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/index.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async () => {\n  return json(\n    { success: true, message: \"OK\" },\n    {\n      status: 200,\n      headers: {\n        \"Cache-Control\": \"max-age=3600\",\n        \"X-Custom-Header\": \"custom-value\",\n      },\n    }\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Throwing a 404 Response in Remix Loader\nDESCRIPTION: This code snippet demonstrates how to throw a 404 Response in a Remix loader when a requested page is not found in the database. It uses the `db.page.findOne` method to search for a page and throws a 404 Response if the page doesn't exist.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/not-found.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const page = await db.page.findOne({\n    where: { slug: params.slug },\n  });\n\n  if (!page) {\n    throw new Response(null, {\n      status: 404,\n      statusText: \"Not Found\",\n    });\n  }\n\n  return json(page);\n}\n```\n\n----------------------------------------\n\nTITLE: Handling POST, PUT, PATCH, and DELETE Requests in a Remix Resource Route\nDESCRIPTION: This snippet shows how to handle POST, PUT, PATCH, and DELETE requests in a Remix Resource Route using an action function with a switch statement.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  switch (request.method) {\n    case \"POST\": {\n      /* handle \"POST\" */\n    }\n    case \"PUT\": {\n      /* handle \"PUT\" */\n    }\n    case \"PATCH\": {\n      /* handle \"PATCH\" */\n    }\n    case \"DELETE\": {\n      /* handle \"DELETE\" */\n    }\n  }\n};\n```\n\n----------------------------------------\n\nTITLE: Using useViewTransitionState for Image Expansion in React\nDESCRIPTION: This snippet demonstrates how to use the useViewTransitionState hook to apply a view transition name to an image when navigating to its detail page. It enables smooth expansion of the image during navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-view-transition-state.md#2025-04-18_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\nfunction NavImage({ src, alt, id }) {\n  const to = `/images/${idx}`;\n  const vt = useViewTransitionState(to);\n  return (\n    <Link to={to} viewTransition>\n      <img\n        src={src}\n        alt={alt}\n        style={{\n          viewTransitionName: vt ? \"image-expand\" : \"\",\n        }}\n      />\n    </Link>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Navigation Options with useNavigate\nDESCRIPTION: Shows how to use navigation options including replace, relative path behavior, and state management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nnavigate(\".\", {\n  replace: true,\n  relative: \"path\",\n  state: { some: \"state\" },\n});\n```\n\n----------------------------------------\n\nTITLE: Using Index Parameter with useSubmit Hook in Remix\nDESCRIPTION: Demonstrates how to use the index parameter with the useSubmit hook for programmatic form submissions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/index-query-param.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component() {\n  const submit = useSubmit();\n  submit({}, { action: \"/projects\" });\n  submit({}, { action: \"/projects?index\" });\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Multiple Values with the Same Name in FormData\nDESCRIPTION: This example shows how to work with multiple form fields that share the same name (like checkboxes). It demonstrates using formData.getAll() to retrieve all values associated with a specific key.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/faq.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const formData = await request.formData();\n  const categories = formData.getAll(\"category\");\n  // [\"comedy\", \"music\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Correct Link Component Usage with Prefetching in Remix\nDESCRIPTION: Example showing the correct way to use Link components in Remix, importing from @remix-run/react to enable Remix-specific features like prefetching data and assets.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/react-router.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Link } from \"@remix-run/react\";\n\n// this will prefetch data and assets\n<Link prefetch=\"intent\" />;\n```\n\n----------------------------------------\n\nTITLE: NavLink with View Transition\nDESCRIPTION: Demonstrates how to use the viewTransition prop with CSS to create custom transitions for different elements within the link.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_7\n\nLANGUAGE: css\nCODE:\n```\na.transitioning p {\n  view-transition-name: \"image-title\";\n}\n\na.transitioning img {\n  view-transition-name: \"image-expand\";\n}\n```\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to={to} viewTransition>\n  <p>Image Number {idx}</p>\n  <img src={src} alt={`Img ${idx}`} />\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Implementing Optimistic UI in Joke Creation Route with Remix\nDESCRIPTION: This route handles creation of new jokes with optimistic UI patterns. It uses useNavigation to detect when a form is being submitted and immediately renders a preview of the joke before the server responds, improving perceived performance.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_88\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport {\n  Form,\n  isRouteErrorResponse,\n  Link,\n  useActionData,\n  useNavigation,\n  useRouteError,\n} from \"@remix-run/react\";\n\nimport { JokeDisplay } from \"~/components/joke\";\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\nimport {\n  getUserId,\n  requireUserId,\n} from \"~/utils/session.server\";\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const userId = await getUserId(request);\n  if (!userId) {\n    throw new Response(\"Unauthorized\", { status: 401 });\n  }\n  return json({});\n};\n\nfunction validateJokeContent(content: string) {\n  if (content.length < 10) {\n    return \"That joke is too short\";\n  }\n}\n\nfunction validateJokeName(name: string) {\n  if (name.length < 3) {\n    return \"That joke's name is too short\";\n  }\n}\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => {\n  const userId = await requireUserId(request);\n  const form = await request.formData();\n  const content = form.get(\"content\");\n  const name = form.get(\"name\");\n  if (\n    typeof content !== \"string\" ||\n    typeof name !== \"string\"\n  ) {\n    return badRequest({\n      fieldErrors: null,\n      fields: null,\n      formError: \"Form not submitted correctly.\",\n    });\n  }\n\n  const fieldErrors = {\n    content: validateJokeContent(content),\n    name: validateJokeName(name),\n  };\n  const fields = { content, name };\n  if (Object.values(fieldErrors).some(Boolean)) {\n    return badRequest({\n      fieldErrors,\n      fields,\n      formError: null,\n    });\n  }\n\n  const joke = await db.joke.create({\n    data: { ...fields, jokesterId: userId },\n  });\n  return redirect(`/jokes/${joke.id}`);\n};\n\nexport default function NewJokeRoute() {\n  const actionData = useActionData<typeof action>();\n  const navigation = useNavigation();\n\n  if (navigation.formData) {\n    const content = navigation.formData.get(\"content\");\n    const name = navigation.formData.get(\"name\");\n    if (\n      typeof content === \"string\" &&\n      typeof name === \"string\" &&\n      !validateJokeContent(content) &&\n      !validateJokeName(name)\n    ) {\n      return (\n        <JokeDisplay\n          canDelete={false}\n          isOwner={true}\n          joke={{ name, content }}\n        />\n      );\n    }\n  }\n\n  return (\n    <div>\n      <p>Add your own hilarious joke</p>\n      <Form method=\"post\">\n        <div>\n          <label>\n            Name:{\" \"}\n            <input\n              defaultValue={actionData?.fields?.name}\n              name=\"name\"\n              type=\"text\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.name\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.name\n                  ? \"name-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.name ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"name-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.name}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          <label>\n            Content:{\" \"}\n            <textarea\n              defaultValue={actionData?.fields?.content}\n              name=\"content\"\n              aria-invalid={Boolean(\n                actionData?.fieldErrors?.content\n              )}\n              aria-errormessage={\n                actionData?.fieldErrors?.content\n                  ? \"content-error\"\n                  : undefined\n              }\n            />\n          </label>\n          {actionData?.fieldErrors?.content ? (\n            <p\n              className=\"form-validation-error\"\n              id=\"content-error\"\n              role=\"alert\"\n            >\n              {actionData.fieldErrors.content}\n            </p>\n          ) : null}\n        </div>\n        <div>\n          {actionData?.formError ? (\n            <p\n              className=\"form-validation-error\"\n              role=\"alert\"\n            >\n              {actionData.formError}\n            </p>\n          ) : null}\n          <button type=\"submit\" className=\"button\">\n            Add\n          </button>\n        </div>\n      </Form>\n    </div>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error) && error.status === 401) {\n    return (\n      <div className=\"error-container\">\n        <p>You must be logged in to create a joke.</p>\n        <Link to=\"/login\">Login</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"error-container\">\n      Something unexpected went wrong. Sorry about that.\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Await Component Usage with useAsyncValue\nDESCRIPTION: Shows the context where useAsyncValue would be used, wrapped in an Await component that takes a promise to resolve. The SomeDescendant component can then access the resolved value.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-async-value.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<Await resolve={somePromise}>\n  <SomeDescendant />\n</Await>\n```\n\n----------------------------------------\n\nTITLE: Integrating Tailwind CSS in Remix Root\nDESCRIPTION: TypeScript/React code for importing and linking Tailwind CSS styles in the Remix root component\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/tailwind.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\n// ...\n\nimport styles from \"./tailwind.css?url\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n```\n\n----------------------------------------\n\nTITLE: Basic ScrollRestoration Component Implementation in TSX\nDESCRIPTION: Demonstrates the basic usage of ScrollRestoration component in a Remix application's root component, showing proper placement before Scripts component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html>\n      <body>\n        {/* ... */}\n        <ScrollRestoration />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Cookie Object in Remix\nDESCRIPTION: Demonstrates how to create a cookie object for state management using Remix's createCookie function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createCookie } from \"@remix-run/node\";\nexport const prefs = createCookie(\"prefs\");\n```\n\n----------------------------------------\n\nTITLE: Root Error Handling in Remix\nDESCRIPTION: Implements global error handling in the root route with isRouteErrorResponse check to handle both route errors and unknown errors. Includes document structure and styling links.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_60\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Links,\n  LiveReload,\n  Outlet,\n  useRouteError,\n} from \"@remix-run/react\";\nimport type { PropsWithChildren } from \"react\";\n\nimport globalLargeStylesUrl from \"~/styles/global-large.css\";\nimport globalMediumStylesUrl from \"~/styles/global-medium.css\";\nimport globalStylesUrl from \"~/styles/global.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: globalStylesUrl },\n  {\n    rel: \"stylesheet\",\n    href: globalMediumStylesUrl,\n    media: \"print, (min-width: 640px)\",\n  },\n  {\n    rel: \"stylesheet\",\n    href: globalLargeStylesUrl,\n    media: \"screen and (min-width: 1024px)\",\n  },\n];\n\nfunction Document({\n  children,\n  title = \"Remix: So great, it's funny!\",\n}: PropsWithChildren<{ title?: string }>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <title>{title}</title>\n        <Links />\n      </head>\n      <body>\n        {children}\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return (\n    <Document>\n      <Outlet />\n    </Document>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <Document\n        title={`${error.status} ${error.statusText}`}\n      >\n        <div className=\"error-container\">\n          <h1>\n            {error.status} {error.statusText}\n          </h1>\n        </div>\n      </Document>\n    );\n  }\n\n  const errorMessage =\n    error instanceof Error\n      ? error.message\n      : \"Unknown error\";\n  return (\n    <Document title=\"Uh-oh!\">\n      <div className=\"error-container\">\n        <h1>App Error</h1>\n        <pre>{errorMessage}</pre>\n      </div>\n    </Document>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Example of problematic server code import in client component with React\nDESCRIPTION: This code snippet demonstrates a problematic pattern where a server-only function (getFortune) is imported into a client component. This would cause runtime errors when the button is clicked because the server function wouldn't exist in the client bundle.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0010-splitting-up-client-and-server-code-in-vite.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { getFortune } from \"~/db.server.ts\";\n\nexport default function Route() {\n  const [fortune, setFortune] = useState(null);\n  return (\n    <>\n      {user ? (\n        <h1>Your fortune of the day: {fortune}</h1>\n      ) : (\n        <button onClick={() => setFortune(getFortune())}>\n          Open fortune cookie 🥠\n        </button>\n      )}\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: NavLink with children Callback\nDESCRIPTION: Shows how to use a children callback to customize the content of the NavLink based on active and pending states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to=\"/tasks\">\n  {({ isActive, isPending }) => (\n    <span className={isActive ? \"active\" : \"\"}>Tasks</span>\n  )}\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Remix Config for CSS Side Effect Imports - JavaScript\nDESCRIPTION: Configuration example showing how to set up serverDependenciesToBundle in remix.config.js to handle CSS imports from packages like React Spectrum.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css-imports.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverDependenciesToBundle: [\n    /^@adobe\\/react-spectrum/,\n    /^@react-spectrum/,\n    /^@spectrum-icons/,\n  ],\n  // ...\n};\n```\n\n----------------------------------------\n\nTITLE: Using redirect Function in Remix\nDESCRIPTION: The redirect function creates a Response object for HTTP redirects. It can be used with URLs or named routes, and accepts optional init options for customization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/index.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const action = async () => {\n  // Redirect to a URL\n  return redirect(\"/new-location\");\n\n  // Redirect to a named route\n  return redirect(\"/posts/123\");\n\n  // Add headers and customize the response\n  return redirect(\"/new-location\", {\n    headers: {\n      \"Custom-Header\": \"foo\",\n    },\n    status: 302, // default is 302\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Creating a Cookie in Remix\nDESCRIPTION: Demonstrates how to create a cookie using the createCookie function from Remix. This example creates a cookie named 'user-prefs' with a maxAge of one week.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createCookie } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const userPrefs = createCookie(\"user-prefs\", {\n  maxAge: 604_800, // one week\n});\n```\n\n----------------------------------------\n\nTITLE: Throwing Redirects in Remix (TS)\nDESCRIPTION: Shows how to throw a redirect to immediately break the execution flow and redirect. This is useful for conditional redirects within nested function calls.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirect.md#2025-04-18_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nif (!session) {\n  throw redirect(\"/login\", 302);\n}\n```\n\n----------------------------------------\n\nTITLE: Composing Multiple Upload Handlers in Remix\nDESCRIPTION: Example showing how to compose multiple upload handlers for different file types and destinations, combining standard file system storage with cloud storage options.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/file-uploads.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { UploadHandler } from \"@remix-run/node\";\nimport { unstable_createFileUploadHandler } from \"@remix-run/node\";\nimport { createCloudinaryUploadHandler } from \"some-handy-remix-util\";\n\nexport const standardFileUploadHandler =\n  unstable_createFileUploadHandler({\n    directory: \"public/calendar-events\",\n  });\n\nexport const cloudinaryUploadHandler =\n  createCloudinaryUploadHandler({\n    folder: \"/my-site/avatars\",\n  });\n\nexport const fileUploadHandler: UploadHandler = (args) => {\n  if (args.name === \"calendarEvent\") {\n    return standardFileUploadHandler(args);\n  } else if (args.name === \"eventBanner\") {\n    return cloudinaryUploadHandler(args);\n  }\n  return undefined;\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Unstable Features in Vite for Remix\nDESCRIPTION: This snippet demonstrates how to enable unstable features in Remix using the Vite plugin configuration. It shows the usage of the 'future' option to activate an unstable feature.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-development-strategy.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_someFeature: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Using Loader Headers in Remix Headers Function\nDESCRIPTION: This example shows how to use the loaderHeaders parameter in the headers function to propagate Cache-Control headers from the loader to the route's headers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/headers.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { HeadersFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const headers: HeadersFunction = ({\n  loaderHeaders,\n}) => ({\n  \"Cache-Control\": loaderHeaders.get(\"Cache-Control\"),\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Architect with Remix Adapter\nDESCRIPTION: Example of setting up a Remix handler for AWS Lambda using the Architect adapter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/adapter.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nconst {\n  createRequestHandler,\n} = require(\"@remix-run/architect\");\nexports.handler = createRequestHandler({\n  build: require(\"./build\"),\n});\n```\n\n----------------------------------------\n\nTITLE: Remix Form-based URL Parameter Management\nDESCRIPTION: Demonstrates the recommended Remix approach using forms to manage URL parameters without state synchronization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Form, useSearchParams } from \"@remix-run/react\";\n\nexport function List() {\n  const [searchParams] = useSearchParams();\n  const view = searchParams.get(\"view\") || \"list\";\n\n  return (\n    <div>\n      <Form>\n        <button name=\"view\" value=\"list\">\n          View as List\n        </button>\n        <button name=\"view\" value=\"details\">\n          View with Details\n        </button>\n      </Form>\n      {view === \"list\" ? <ListView /> : <DetailView />}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using unstable_usePrompt Hook in React Component\nDESCRIPTION: This snippet demonstrates how to use the unstable_usePrompt hook in a React component to prompt the user before navigating away from a form with unsaved changes. It checks if the input has a value and if the navigation is to a different pathname.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-prompt.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction ImportantForm() {\n  const [value, setValue] = React.useState(\"\");\n\n  // Block navigating elsewhere when data has been entered into the input\n  unstable_usePrompt({\n    message: \"Are you sure?\",\n    when: ({ currentLocation, nextLocation }) =>\n      value !== \"\" &&\n      currentLocation.pathname !== nextLocation.pathname,\n  });\n\n  return (\n    <Form method=\"post\">\n      <label>\n        Enter some important data:\n        <input\n          name=\"data\"\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      </label>\n      <button type=\"submit\">Save</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Getting User ID from Session\nDESCRIPTION: Function that retrieves the user ID from the session if it exists and is a valid string, otherwise returns null. Uses the getUserSession helper to get the session from the request.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_49\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport async function getUserId(request: Request) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    return null;\n  }\n  return userId;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Express Server with Remix Adapter\nDESCRIPTION: Complete example of setting up an Express server with Remix request handler, including build configuration and context loading.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/adapter.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst {\n  createRequestHandler,\n} = require(\"@remix-run/express\");\nconst express = require(\"express\");\n\nconst app = express();\n\n// needs to handle all verbs (GET, POST, etc.)\napp.all(\n  \"*\",\n  createRequestHandler({\n    // `remix build` and `remix dev` output files to a build directory, you need\n    // to pass that build to the request handler\n    build: require(\"./build\"),\n\n    // return anything you want here to be available as `context` in your\n    // loaders and actions. This is where you can bridge the gap between Remix\n    // and your server\n    getLoadContext(req, res) {\n      return {};\n    },\n  })\n);\n```\n\n----------------------------------------\n\nTITLE: Using useBeforeUnload Hook in Remix\nDESCRIPTION: This snippet demonstrates how to use the useBeforeUnload hook in Remix to prevent accidental navigation away from a page with unsaved changes. It shows how to set and clear the beforeunload event.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/index.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { useBeforeUnload } from \"@remix-run/react\";\n\nexport default function SomeForm() {\n  const [state, setState] = React.useState({});\n\n  // Set a flag to show a prompt if the user attempts to navigate away\n  useBeforeUnload(\n    React.useCallback(\n      (event) => {\n        if (state.unsavedChanges) {\n          event.preventDefault();\n          return \"You have unsaved changes, are you sure you want to leave?\";\n        }\n      },\n      [state.unsavedChanges]\n    )\n  );\n\n  return <form>{/* ... */}</form>;\n}\n```\n\n----------------------------------------\n\nTITLE: Signature of useSearchParams Hook in Remix\nDESCRIPTION: This snippet shows the signature of the useSearchParams hook. It returns a tuple containing the searchParams object and a setSearchParams function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-search-params.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nconst [searchParams, setSearchParams] = useSearchParams();\n```\n\n----------------------------------------\n\nTITLE: Defining Meta and Headers in MDX Route\nDESCRIPTION: Example of defining meta and headers in an MDX route file using frontmatter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\nmeta:\n  - title: My First Post\n  - name: description\n    content: Isn't this awesome?\nheaders:\n  Cache-Control: no-cache\n---\n\n# Hello Content!\n```\n\n----------------------------------------\n\nTITLE: Creating and Checking Cookies in Remix\nDESCRIPTION: Shows how to create a cookie with various options using createCookie and how to check if an object is a Remix cookie container using isCookie.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createCookie } from \"@remix-run/node\"; // or cloudflare/deno\n\nconst cookie = createCookie(\"cookie-name\", {\n  // all of these are optional defaults that can be overridden at runtime\n  expires: new Date(Date.now() + 60_000),\n  httpOnly: true,\n  maxAge: 60,\n  path: \"/\",\n  sameSite: \"lax\",\n  secrets: [\"s3cret1\"],\n  secure: true,\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { isCookie } from \"@remix-run/node\"; // or cloudflare/deno\nconst cookie = createCookie(\"user-prefs\");\nconsole.log(isCookie(cookie));\n// true\n```\n\n----------------------------------------\n\nTITLE: Implementing a Basic Search Box with Progressive Enhancement in Remix\nDESCRIPTION: This snippet shows a simple search box implementation using Remix's Form component. It demonstrates how to create a functional search feature without relying on client-side state management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/progressive-enhancement.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport function SearchBox() {\n  return (\n    <Form method=\"get\" action=\"/search\">\n      <input type=\"search\" name=\"query\" />\n      <SearchIcon />\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating an RSS Feed Route in Remix with TypeScript\nDESCRIPTION: This code implements a Resource Route in Remix that generates an RSS feed for jokes. It queries the database for jokes, formats them as RSS XML, and returns a properly configured response with appropriate content type headers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_71\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\n\nimport { db } from \"~/utils/db.server\";\n\nfunction escapeCdata(s: string) {\n  return s.replace(/\\]\\]>/g, \"]]]]><![CDATA[>\");\n}\n\nfunction escapeHtml(s: string) {\n  return s\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\")\n    .replace(/\"/g, \"&quot;\")\n    .replace(/'/g, \"&#039;\");\n}\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const jokes = await db.joke.findMany({\n    include: { jokester: { select: { username: true } } },\n    orderBy: { createdAt: \"desc\" },\n    take: 100,\n  });\n\n  const host =\n    request.headers.get(\"X-Forwarded-Host\") ??\n    request.headers.get(\"host\");\n  if (!host) {\n    throw new Error(\"Could not determine domain URL.\");\n  }\n  const protocol = host.includes(\"localhost\")\n    ? \"http\"\n    : \"https\";\n  const domain = `${protocol}://${host}`;\n  const jokesUrl = `${domain}/jokes`;\n\n  const rssString = `\n    <rss xmlns:blogChannel=\"${jokesUrl}\" version=\"2.0\">\n      <channel>\n        <title>Remix Jokes</title>\n        <link>${jokesUrl}</link>\n        <description>Some funny jokes</description>\n        <language>en-us</language>\n        <generator>Kody the Koala</generator>\n        <ttl>40</ttl>\n        ${jokes\n          .map((joke) =>\n            `\n            <item>\n              <title><![CDATA[${escapeCdata(\n                joke.name\n              )}]]></title>\n              <description><![CDATA[A funny joke called ${escapeHtml(\n                joke.name\n              )}]]></description>\n              <author><![CDATA[${escapeCdata(\n                joke.jokester.username\n              )}]]></author>\n              <pubDate>${joke.createdAt.toUTCString()}</pubDate>\n              <link>${jokesUrl}/${joke.id}</link>\n              <guid>${jokesUrl}/${joke.id}</guid>\n            </item>\n          `.trim()\n          )\n          .join(\"\\n\")}\n      </channel>\n    </rss>\n  `.trim();\n\n  return new Response(rssString, {\n    headers: {\n      \"Cache-Control\": `public, max-age=${\n        60 * 10\n      }, s-maxage=${60 * 60 * 24}`,\n      \"Content-Type\": \"application/xml\",\n      \"Content-Length\": String(\n        Buffer.byteLength(rssString)\n      ),\n    },\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Creating Logout Route in Remix\nDESCRIPTION: This code implements a logout route that handles POST requests to log users out. It uses the logout function from the session utility to destroy the user's session. The loader function redirects any direct GET requests to the home page.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_54\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ActionFunctionArgs } from \"@remix-run/node\";\nimport { redirect } from \"@remix-run/node\";\n\nimport { logout } from \"~/utils/session.server\";\n\nexport const action = async ({\n  request,\n}: ActionFunctionArgs) => logout(request);\n\nexport const loader = async () => redirect(\"/\");\n```\n\n----------------------------------------\n\nTITLE: HTML Form with POST Method\nDESCRIPTION: A form using the POST method for creating a new project. It demonstrates how to send data in the request body rather than URL parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<form method=\"post\" action=\"/projects\">\n  <label><input name=\"name\" type=\"text\" /></label>\n  <label><textarea name=\"description\"></textarea></label>\n  <button type=\"submit\">Create</button>\n</form>\n```\n\n----------------------------------------\n\nTITLE: Implementing History Stack Management in Remix Forms\nDESCRIPTION: This code modifies a search form to replace history entries instead of creating new ones for each keystroke. It uses the submit function's replace option to determine whether to add a new history entry or replace the current one based on whether it's the first search.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_26\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports & exports\n\nexport default function App() {\n  // existing code\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* existing elements */}\n          <div>\n            <Form\n              id=\"search-form\"\n              onChange={(event) => {\n                const isFirstSearch = q === null;\n                submit(event.currentTarget, {\n                  replace: !isFirstSearch,\n                });\n              }}\n              role=\"search\"\n            >\n              {/* existing elements */}\n            </Form>\n            {/* existing elements */}\n          </div>\n          {/* existing elements */}\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Correct and Incorrect Usage of data Function in Remix Loader\nDESCRIPTION: This snippet illustrates the correct and incorrect ways to use the `data` function in a Remix loader. It emphasizes that the `data` function should only be used when custom status or headers are needed, otherwise, the data should be returned directly.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/data.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  // ❌ Bad\n  return data({ not: \"coffee\" });\n\n  // ✅ Good\n  return { not: \"coffee\" };\n};\n```\n\n----------------------------------------\n\nTITLE: Path Object Navigation with useNavigate\nDESCRIPTION: Shows how to navigate using a Path object with pathname, search, and hash properties.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nnavigate({\n  pathname: \"/some/path\",\n  search: \"?query=string\",\n  hash: \"#hash\",\n});\n```\n\n----------------------------------------\n\nTITLE: Loading Individual Joke in Remix Route\nDESCRIPTION: Implements a loader for the /jokes/:jokeId route, fetching a single joke from the database based on the URL parameter. It also demonstrates error handling for non-existent jokes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_31\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const loader = async ({\n  params,\n}: LoaderFunctionArgs) => {\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Error(\"Joke not found\");\n  }\n  return json({ joke });\n};\n\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{data.joke.content}</p>\n      <Link to=\".\">\"data.joke.name\" Permalink</Link>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Loader with Contact List in Remix\nDESCRIPTION: Demonstrates setting up a loader function in the root route to fetch contacts and render them in a navigation sidebar. Uses useLoaderData hook to access the loaded data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport {\n  Form,\n  Link,\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n  useLoaderData,\n} from \"@remix-run/react\";\nimport { getContacts } from \"./data\";\n\nexport const loader = async () => {\n  const contacts = await getContacts();\n  return json({ contacts });\n};\n\nexport default function App() {\n  const { contacts } = useLoaderData();\n\n  return (\n    <html lang=\"en\">\n      <body>\n        <div id=\"sidebar\">\n          <nav>\n            {contacts.length ? (\n              <ul>\n                {contacts.map((contact) => (\n                  <li key={contact.id}>\n                    <Link to={`contacts/${contact.id}`}>\n                      {contact.first || contact.last ? (\n                        <>\n                          {contact.first} {contact.last}\n                        </>\n                      ) : (\n                        <i>No Name</i>\n                      )}{\" \"}\n                      {contact.favorite ? (\n                        <span>★</span>\n                      ) : null}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            ) : (\n              <p>\n                <i>No contacts</i>\n              </p>\n            )}\n          </nav>\n        </div>\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: ScrollRestoration with CSP Nonce\nDESCRIPTION: Shows how to add Content Security Policy nonce to the ScrollRestoration component for enhanced security.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n<ScrollRestoration nonce={cspNonce} />\n```\n\n----------------------------------------\n\nTITLE: Class and Function Component Support with React Fast Refresh in TSX\nDESCRIPTION: Demonstrates which types of component declarations are compatible with React Fast Refresh. Class components and anonymous function components do not preserve state, while named function components do.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport class ComponentA extends Component {} // ❌\n\nexport const ComponentB = HOC(ComponentC); // ❌ Won't work if HOC returns a class component\n\nexport function ComponentD() {} // ✅\nexport const ComponentE = () => {}; // ✅\nexport default function ComponentF() {} // ✅\n```\n\n----------------------------------------\n\nTITLE: Using replace Function with ResponseInit in TypeScript\nDESCRIPTION: Shows how to use the 'replace' function with a ResponseInit object, including setting headers like cookies.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/replace.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nreplace(path, {\n  headers: {\n    \"Set-Cookie\": await commitSession(session),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Handling Joke Deletion in Remix Action\nDESCRIPTION: This action function handles the deletion of a joke. It checks the user's ownership and performs the deletion if authorized.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_68\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport const action = async ({\n  params,\n  request,\n}: ActionFunctionArgs) => {\n  const form = await request.formData();\n  if (form.get(\"intent\") !== \"delete\") {\n    throw new Response(\n      `The intent ${form.get(\"intent\")} is not supported`,\n      { status: 400 }\n    );\n  }\n  const userId = await requireUserId(request);\n  const joke = await db.joke.findUnique({\n    where: { id: params.jokeId },\n  });\n  if (!joke) {\n    throw new Response(\"Can't delete what does not exist\", {\n      status: 404,\n    });\n  }\n  if (joke.jokesterId !== userId) {\n    throw new Response(\n      \"Pssh, nice try. That's not your joke\",\n      { status: 403 }\n    );\n  }\n  await db.joke.delete({ where: { id: params.jokeId } });\n  return redirect(\"/jokes\");\n};\n```\n\n----------------------------------------\n\nTITLE: Adding Type Inference to Remix Loader Data\nDESCRIPTION: Shows how to add TypeScript type inference to the useLoaderData hook using typeof loader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function App() {\n  const { contacts } = useLoaderData<typeof loader>();\n\n  // existing code\n}\n```\n\n----------------------------------------\n\nTITLE: Complete Jokes Route Implementation with Prefetching\nDESCRIPTION: Full implementation of a jokes route component featuring link prefetching, user authentication, and joke listing functionality. Includes loader function for data fetching and styling configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_85\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Form,\n  Link,\n  Outlet,\n  useLoaderData,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/jokes.css\";\nimport { db } from \"~/utils/db.server\";\nimport { getUser } from \"~/utils/session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const jokeListItems = await db.joke.findMany({\n    orderBy: { createdAt: \"desc\" },\n    select: { id: true, name: true },\n    take: 5,\n  });\n  const user = await getUser(request);\n\n  return json({ jokeListItems, user });\n};\n\nexport default function JokesRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <header className=\"jokes-header\">\n        <div className=\"container\">\n          <h1 className=\"home-link\">\n            <Link\n              to=\"/\"\n              title=\"Remix Jokes\"\n              aria-label=\"Remix Jokes\"\n            >\n              <span className=\"logo\">🤪</span>\n              <span className=\"logo-medium\">J🤪KES</span>\n            </Link>\n          </h1>\n          {data.user ? (\n            <div className=\"user-info\">\n              <span>{`Hi ${data.user.username}`}</span>\n              <Form action=\"/logout\" method=\"post\">\n                <button type=\"submit\" className=\"button\">\n                  Logout\n                </button>\n              </Form>\n            </div>\n          ) : (\n            <Link to=\"/login\">Login</Link>\n          )}\n        </div>\n      </header>\n      <main className=\"jokes-main\">\n        <div className=\"container\">\n          <div className=\"jokes-list\">\n            <Link to=\".\">Get a random joke</Link>\n            <p>Here are a few more jokes to check out:</p>\n            <ul>\n              {data.jokeListItems.map(({ id, name }) => (\n                <li key={id}>\n                  <Link prefetch=\"intent\" to={id}>\n                    {name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n            <Link to=\"new\" className=\"button\">\n              Add your own\n            </Link>\n          </div>\n          <div className=\"jokes-outlet\">\n            <Outlet />\n          </div>\n        </div>\n      </main>\n      <footer className=\"jokes-footer\">\n        <div className=\"container\">\n          <Link reloadDocument to=\"/jokes.rss\">\n            RSS\n          </Link>\n        </div>\n      </footer>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Joke Details in Remix Route Component\nDESCRIPTION: This component renders the joke details, including the content and a delete button for the joke owner. It uses the data loaded by the loader function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_69\n\nLANGUAGE: TSX\nCODE:\n```\nexport default function JokeRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>{data.joke.content}</p>\n      <Link to=\".\">\"${data.joke.name}\" Permalink</Link>\n      {data.isOwner ? (\n        <form method=\"post\">\n          <button\n            className=\"button\"\n            name=\"intent\"\n            type=\"submit\"\n            value=\"delete\"\n          >\n            Delete\n          </button>\n        </form>\n      ) : null}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing an Index Route in Remix\nDESCRIPTION: This snippet demonstrates how to create and implement an index route in a Remix application. It includes creating a new index route file and adding content to the index component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_19\n\nLANGUAGE: shellscript\nCODE:\n```\ntouch app/routes/_index.tsx\n```\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function Index() {\n  return (\n    <p id=\"index-page\">\n      This is a demo for Remix.\n      <br />\n      Check out{\" \"}\n      <a href=\"https://remix.run\">the docs at remix.run</a>.\n    </p>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Module Script Tags in Remix\nDESCRIPTION: The Remix <Scripts/> component renders script tags with type=\"module\" attribute, which modern browsers load for enhanced SPA functionality while older browsers ignore, maintaining basic functionality through HTML and HTTP.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/browser-support.md#2025-04-18_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\" src=\"...\" />\n```\n\n----------------------------------------\n\nTITLE: Configuring ESM Packages in Remix Config\nDESCRIPTION: This example demonstrates how to configure Remix to bundle ESM-only packages for server use by adding them to the serverDependenciesToBundle array in remix.config.js.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverDependenciesToBundle: [\"dot-prop\"],\n  // ...\n};\n```\n\n----------------------------------------\n\nTITLE: Defining a Loader and Component for Teams Route in Remix\nDESCRIPTION: This snippet demonstrates how to create a loader function to fetch team data and a default component to render the teams view in a Remix route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-routes.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  return json(await getTeams());\n}\n\nexport default function Teams() {\n  return (\n    <TeamsView teams={useLoaderData<typeof loader>()} />\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Defining HtmlLinkDescriptor in Remix (TypeScript/React)\nDESCRIPTION: This snippet shows various examples of using HtmlLinkDescriptor to add different types of <link> elements, including favicons, external and local stylesheets, and prefetching images with media queries.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/links.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport stylesHref from \"../styles/something.css\";\n\nexport const links: LinksFunction = () => {\n  return [\n    // add a favicon\n    {\n      rel: \"icon\",\n      href: \"/favicon.png\",\n      type: \"image/png\",\n    },\n\n    // add an external stylesheet\n    {\n      rel: \"stylesheet\",\n      href: \"https://example.com/some/styles.css\",\n      crossOrigin: \"anonymous\",\n    },\n\n    // add a local stylesheet, remix will fingerprint the file name for\n    // production caching\n    { rel: \"stylesheet\", href: stylesHref },\n\n    // prefetch an image into the browser cache that the user is likely to see\n    // as they interact with this page, perhaps they click a button to reveal in\n    // a summary/details element\n    {\n      rel: \"prefetch\",\n      as: \"image\",\n      href: \"/img/bunny.jpg\",\n    },\n\n    // only prefetch it if they're on a bigger screen\n    {\n      rel: \"prefetch\",\n      as: \"image\",\n      href: \"/img/bunny.jpg\",\n      media: \"(min-width: 1000px)\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Using Cookie Session Storage Across Different Runtimes\nDESCRIPTION: Code example demonstrating cross-runtime compatibility with cookie-based session storage in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/runtimes.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createCookieSessionStorage } from \"@remix-run/node\"; // or cloudflare/deno\n```\n\n----------------------------------------\n\nTITLE: Adding Remix Links Component to Root Layout\nDESCRIPTION: TypeScript code for adding the Remix <Links /> component to the root layout to render stylesheets from all active routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  Links,\n  LiveReload,\n  Outlet,\n} from \"@remix-run/react\";\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <title>Remix: So great, it's funny!</title>\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Bad Request Helper in Remix (TypeScript)\nDESCRIPTION: This snippet shows the implementation of a badRequest helper function in a separate file. It creates a JSON response with a 400 Bad Request status code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_36\n\nLANGUAGE: ts\nCODE:\n```\nimport { json } from \"@remix-run/node\";\n\n/**\n * This helper function helps us to return the accurate HTTP status,\n * 400 Bad Request, to the client.\n */\nexport const badRequest = <T>(data: T) =>\n  json<T>(data, { status: 400 });\n```\n\n----------------------------------------\n\nTITLE: Defining Error Handling Structure in Markdown\nDESCRIPTION: Markdown outline documenting Remix's error handling capabilities, including both unexpected errors with route and Await boundaries, and expected errors like HTTP status codes 404, 401, and 503.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/error-handling.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# Error Handling\n\n- unexpected\n  - automatically handled\n  - granular w/ route boundaries\n  - granular w/ `<Await>` boundaries\n- expected\n  - 404s\n  - 401s\n  - 503s\n  - can send data!\n```\n\n----------------------------------------\n\nTITLE: Using data() API for Custom Headers with v3_singleFetch in Remix\nDESCRIPTION: This snippet demonstrates how to use the new data() API to set custom headers when using v3_singleFetch. It also shows the need for a headers export to apply headers to Single Fetch data requests.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\nimport { data } from \"@remix-run/node\";\n\n// This example assumes you already have a headers function to handle header\n// merging for your document requests\nexport function headers() {\n  // ...\n}\n\nexport async function loader({}: LoaderFunctionArgs) {\n  let tasks = await fetchTasks();\n  return data(tasks, {\n    headers: {\n      \"Cache-Control\": \"public, max-age=604800\"\n    }\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Search Params with a Function in Remix\nDESCRIPTION: This snippet shows how to use the setSearchParams function with a callback to update search parameters based on their previous state. It demonstrates modifying the existing params object.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-search-params.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n<button\n  onClick={() => {\n    setSearchParams((prev) => {\n      prev.set(\"someKey\", \"someValue\");\n      return prev;\n    });\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Setting up Memory Session Storage in Remix\nDESCRIPTION: Implements in-memory session storage using createMemorySessionStorage. This method should only be used in development environments.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookie,\n  createMemorySessionStorage,\n} from \"@remix-run/node\"; // or cloudflare/deno\n\n// In this example the Cookie is created separately.\nconst sessionCookie = createCookie(\"__session\", {\n  secrets: [\"r3m1xr0ck5\"],\n  sameSite: true,\n});\n\nconst { getSession, commitSession, destroySession } =\n  createMemorySessionStorage({\n    cookie: sessionCookie,\n  });\n\nexport { getSession, commitSession, destroySession };\n```\n\n----------------------------------------\n\nTITLE: Creating a Remix Stub with LoadContext in TypeScript/React\nDESCRIPTION: This example shows how to create a Remix stub that includes a stubbed context for loaders that rely on the getLoadContext method. It demonstrates passing a context object as the second parameter to createRemixStub.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/create-remix-stub.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nconst RemixStub = createRemixStub(\n  [\n    {\n      path: \"/\",\n      Component: MyComponent,\n      loader({ context }) {\n        return json({ message: context.key });\n      },\n    },\n  ],\n  { key: \"value\" }\n);\n```\n\n----------------------------------------\n\nTITLE: Creating a Simple MDX Blog Post\nDESCRIPTION: Example of a basic MDX blog post with frontmatter and content.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n---\nmeta:\n  - title: My First Post\n  - name: description\n    content: Isn't this just awesome?\n---\n\n# Example Markdown Post\n\nYou can reference your frontmatter data through \"attributes\". The title of this post is {attributes.meta.title}!\n```\n\n----------------------------------------\n\nTITLE: Using flatRoutes for File System Routing\nDESCRIPTION: Basic implementation of routes.ts that uses the flatRoutes function to generate routes based on the file system structure, maintaining compatibility with Remix's existing file-based routing approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_32\n\nLANGUAGE: typescript\nCODE:\n```\nimport { flatRoutes } from \"@remix-run/fs-routes\";\n\nexport default flatRoutes();\n```\n\n----------------------------------------\n\nTITLE: Implementing Singleton Pattern for Server State - TypeScript\nDESCRIPTION: A utility function that creates and maintains singleton instances across server rebuilds. It uses the global object to store values, ensuring persistence of database connections, caches, and other stateful objects when server code is re-imported.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// Borrowed & modified from https://github.com/jenseng/abuse-the-platform/blob/main/app/utils/singleton.ts\n// Thanks @jenseng!\n\nexport const singleton = <Value>(\n  name: string,\n  valueFactory: () => Value\n): Value => {\n  const g = global as any;\n  g.__singletons ??= {};\n  g.__singletons[name] ??= valueFactory();\n  return g.__singletons[name];\n};\n```\n\n----------------------------------------\n\nTITLE: Supported and Unsupported Exports with React Fast Refresh in TSX\nDESCRIPTION: Illustrates which exports are HMR-compatible in Remix. Route-specific exports like meta, links, headers, loader, and action are handled by Remix's Vite plugin, while custom exports will cause full reloads.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// These exports are handled by the Remix Vite plugin\n// to be HMR-compatible\nexport const meta = { title: \"Home\" }; // ✅\nexport const links = [\n  { rel: \"stylesheet\", href: \"style.css\" },\n]; // ✅\n\n// These exports are removed by the Remix Vite plugin\n// so they never affect HMR\nexport const headers = { \"Cache-Control\": \"max-age=3600\" }; // ✅\nexport const loader = async () => {}; // ✅\nexport const action = async () => {}; // ✅\n\n// This is not a Remix export, nor a component export,\n// so it will cause a full reload for this route\nexport const myValue = \"some value\"; // ❌\n\nexport default function Route() {} // ✅\n```\n\n----------------------------------------\n\nTITLE: Loading Data in Remix Route (Example)\nDESCRIPTION: Demonstrates how to use a loader function to fetch data from a database and render it in a Remix route component. This example shows fetching a list of sandwiches.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_28\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const loader = async () => {\n  return json({\n    sandwiches: await db.sandwich.findMany(),\n  });\n};\n\nexport default function Sandwiches() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <ul>\n      {data.sandwiches.map((sandwich) => (\n        <li key={sandwich.id}>{sandwich.name}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Browser-Specific Features in .client Module (TypeScript)\nDESCRIPTION: This snippet demonstrates how to create a .client module that checks for browser-specific features. It exports a constant that checks for the Vibration API support, which would cause issues if run on the server.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/-client.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// this would break the server\nexport const supportsVibrationAPI =\n  \"vibrate\" in window.navigator;\n```\n\n----------------------------------------\n\nTITLE: Using the errorElement Prop for Error Handling\nDESCRIPTION: Demonstrates how to use the errorElement prop to display an error boundary when the promise rejects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n<Await errorElement={<div>Oops!</div>} />\n```\n\n----------------------------------------\n\nTITLE: Custom App Directory Configuration (JavaScript)\nDESCRIPTION: Examples showing how to configure the appDirectory option in remix.config.js. It demonstrates both the default configuration and a custom path configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n// default\nexports.appDirectory = \"./app\";\n\n// custom\nexports.appDirectory = \"./elsewhere\";\n```\n\n----------------------------------------\n\nTITLE: Using Index Parameter with Fetcher in Remix\nDESCRIPTION: Shows various ways to use the index parameter with Remix's fetcher utility for form submissions and routing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/index-query-param.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component() {\n  const fetcher = useFetcher();\n  fetcher.submit({}, { action: \"/projects\" });\n  fetcher.submit({}, { action: \"/projects?index\" });\n  <fetcher.Form action=\"/projects\" />;\n  <fetcher.Form action=\"/projects?index\" />;\n  <fetcher.Form />; // defaults to the route in context\n}\n```\n\n----------------------------------------\n\nTITLE: Optimizing Revalidation Based on Action Result\nDESCRIPTION: This example shows how to use the actionResult parameter to determine whether to revalidate a route after an action submission.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/should-revalidate.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function action() {\n  await saveSomeStuff();\n  return { ok: true };\n}\n\nexport function shouldRevalidate({\n  actionResult,\n  defaultShouldRevalidate,\n}) {\n  if (actionResult?.ok) {\n    return false;\n  }\n  return defaultShouldRevalidate;\n}\n```\n\n----------------------------------------\n\nTITLE: Synchronizing URL Search Params with Form Input in Remix\nDESCRIPTION: This snippet shows how to update the root component to synchronize the URL search parameters with the form input value. It includes modifications to the loader function and the input element.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_22\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const url = new URL(request.url);\n  const q = url.searchParams.get(\"q\");\n  const contacts = await getContacts(q);\n  return json({ contacts, q });\n};\n\nexport default function App() {\n  const { contacts, q } = useLoaderData<typeof loader>();\n  const navigation = useNavigation();\n\n  return (\n    <html lang=\"en\">\n      {/* existing elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* existing elements */}\n          <div>\n            <Form id=\"search-form\" role=\"search\">\n              <input\n                aria-label=\"Search contacts\"\n                defaultValue={q || \"\"}\n                id=\"q\"\n                name=\"q\"\n                placeholder=\"Search\"\n                type=\"search\"\n              />\n              {/* existing elements */}\n            </Form>\n            {/* existing elements */}\n          </div>\n          {/* existing elements */}\n        </div>\n        {/* existing elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useHref in React Component\nDESCRIPTION: Demonstrates how to use the useHref function to resolve a full URL for an anchor element's href attribute in a React component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-href.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useHref } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const href = useHref(\"some/where\");\n\n  return <a href={href}>Link</a>;\n}\n```\n\n----------------------------------------\n\nTITLE: Importing and Using .client Module Exports (TypeScript)\nDESCRIPTION: This example shows how to import and use exports from a .client module. It demonstrates that the imported value will be undefined on the server and have the actual value on the client.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/-client.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { supportsVibrationAPI } from \"./feature-check.client.ts\";\n\nconsole.log(supportsVibrationAPI);\n// server: undefined\n// client: true | false\n```\n\n----------------------------------------\n\nTITLE: Handling Stale Data in Remix Submissions\nDESCRIPTION: This text snippet illustrates how Remix manages stale data by cancelling earlier submissions when a later submission completes first, ensuring the most up-to-date information is displayed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/concurrency.md#2025-04-18_snippet_1\n\nLANGUAGE: text\nCODE:\n```\nsubmission 1: |----✓---------❌\nsubmission 2:    |-----✓-----✅\nsubmission 3:             |-----✓-----✅\n```\n\n----------------------------------------\n\nTITLE: Migrating Meta Return Format in Remix v2\nDESCRIPTION: Demonstrates the transition from v1's object-based meta returns to v2's array-based format with support for additional SEO elements.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nexport function meta() {\n  return {\n    title: \"...\",\n    description: \"...\",\n    \"og:title\": \"...\",\n  };\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nexport function meta() {\n  return [\n    { title: \"...\" },\n    { name: \"description\", content: \"...\" },\n    { property: \"og:title\", content: \"...\" },\n    { tagName: \"link\", rel: \"canonical\", href: \"...\" },\n    {\n      \"script:ld+json\": {\n        some: \"value\",\n      },\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Basic HTML Form with GET Method\nDESCRIPTION: A simple HTML form example using the GET method for search functionality. When submitted, it serializes form values as URL search parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<form method=\"get\" action=\"/search\">\n  <label>Search <input name=\"term\" type=\"text\" /></label>\n  <button type=\"submit\">Search</button>\n</form>\n```\n\n----------------------------------------\n\nTITLE: Express Server Configuration for SPA\nDESCRIPTION: Example of configuring an Express server to serve a Remix SPA with proper static file handling and SPA fallback\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\napp.use(\"/assets\", express.static(\"build/client/assets\"));\napp.get(\"*\", (req, res, next) =>\n  res.sendFile(\n    path.join(process.cwd(), \"build/client/index.html\"),\n    next\n  )\n);\n```\n\n----------------------------------------\n\nTITLE: Implementing ErrorBoundary in Remix v2 (TypeScript/React)\nDESCRIPTION: Shows how to implement the ErrorBoundary component using the new v2_errorBoundary future flag. This consolidates CatchBoundary and ErrorBoundary into a single component using isRouteErrorResponse and useRouteError.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { isRouteErrorResponse, useRouteError } from \"@remix-run/react\";\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n\n  return isRouteErrorResponse(error) ? (\n    <p>\n      {error.status} {error.data}\n    </p>\n  ) : (\n    <p>{error.message}</p>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Minimal User Session Authentication in Remix\nDESCRIPTION: A simplified example showing how to protect a route without using the session data. This snippet demonstrates that requireUserSession can be used just for its authentication check and redirect behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/faq.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  await requireUserSession(request);\n  // continue\n}\n```\n\n----------------------------------------\n\nTITLE: Using useFetchers Hook in Remix TypeScript/React\nDESCRIPTION: Demonstrates how to import and use the useFetchers hook to access all in-flight fetchers in a Remix application. The hook returns an array of fetcher states that can be used for optimistic UI updates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetchers.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFetchers } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const fetchers = useFetchers();\n  fetchers[0].formData; // FormData\n  fetchers[0].state; // etc.\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Preventing Scroll Reset in Navigation Components\nDESCRIPTION: Examples of preventing automatic scroll reset when navigating using Link and Form components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\n<Link preventScrollReset={true} />;\n<Form preventScrollReset={true} />;\n```\n\n----------------------------------------\n\nTITLE: useFormAction Hook Signature Definition\nDESCRIPTION: Shows the function signature of useFormAction hook, including its optional action parameter and options object with relative property that can be set to either 'route' or 'path'.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-form-action.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nuseFormAction(action, options)\n```\n\n----------------------------------------\n\nTITLE: Creating a Deferred Response with Status and Headers in Remix\nDESCRIPTION: This example shows how to use the defer function with additional options, including a custom status code and headers. It demonstrates setting a 418 status code and a Cache-Control header.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/defer.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  const aStillRunningPromise = loadSlowDataAsync();\n\n  return defer(\n    {\n      critical: \"data\",\n      slowPromise: aStillRunningPromise,\n    },\n    {\n      status: 418,\n      headers: {\n        \"Cache-Control\": \"no-store\",\n      },\n    }\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Visualizing Concurrent Submissions in Remix\nDESCRIPTION: This text snippet demonstrates how Remix handles multiple concurrent form submissions, showing the timeline of submissions, completions, and UI updates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/concurrency.md#2025-04-18_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nsubmission 1: |----✓-----✅\nsubmission 2:    |-----✓-----✅\nsubmission 3:             |-----✓-----✅\n```\n\n----------------------------------------\n\nTITLE: Correctly Importing Server Modules in Remix Routes\nDESCRIPTION: This example demonstrates the correct approach to import server-only modules in Remix routes by using a .server.ts wrapper, preventing server code from leaking into client bundles.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport fs from \"~/utils/fs-extra.server\";\n\nexport async function loader() {\n  return json(await fs.pathExists(\"../some/path\"));\n}\n\nexport default function SomeRoute() {\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Server-Only Code Example with vite-env-only in Remix\nDESCRIPTION: Shows how to use the vite-env-only plugin to mix server-only code with client-safe code in the same module, demonstrating code removal during client bundle compilation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/server-vs-client.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { serverOnly$ } from \"vite-env-only\";\n\nimport { db } from \"~/.server/db\";\n\nexport const getPosts = serverOnly$(async () => {\n  return db.posts.findMany();\n});\n\nexport const PostPreview = ({ title, description }) => {\n  return (\n    <article>\n      <h2>{title}</h2>\n      <p>{description}</p>\n    </article>\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Search Query Meta Implementation\nDESCRIPTION: Example showing how to use location parameter to generate dynamic meta tags based on search queries\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport const meta: MetaFunction = ({ location }) => {\n  const searchQuery = new URLSearchParams(\n    location.search\n  ).get(\"q\");\n  return [{ title: `Search results for \"${searchQuery}\"` }];\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing View Transitions with Image Link Component\nDESCRIPTION: Example React component showing how to implement view transitions using the unstable_useViewTransitionState hook and Link component.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_21\n\nLANGUAGE: jsx\nCODE:\n```\nfunction ImageLink(to, src, alt) {\n  const isTransitioning = unstable_useViewTransitionState(to);\n  return (\n    <Link to={to} unstable_viewTransition>\n      <img\n        src={src}\n        alt={alt}\n        style={{\n          viewTransitionName: isTransitioning ? \"image-expand\" : \"\",\n        }}\n      />\n    </Link>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Named Function Component Requirements for React Fast Refresh in TSX\nDESCRIPTION: Shows how to properly define named function components for React Fast Refresh. Anonymous functions are not trackable by RFR, while named functions or storing a function in a named constant works correctly.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport default () => {}; // ❌\nexport default function () {} // ❌\n\nconst ComponentA = () => {};\nexport default ComponentA; // ✅\n\nexport default function ComponentB() {} // ✅\n```\n\n----------------------------------------\n\nTITLE: Implementing Prisma Client Singleton - TypeScript\nDESCRIPTION: Example implementation of the singleton pattern for maintaining a Prisma database client instance across server rebuilds. Uses a hard-coded key to ensure consistent lookup of the client instance when the module is re-imported.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PrismaClient } from \"@prisma/client\";\n\nimport { singleton } from \"~/utils/singleton.server\";\n\n// hard-code a unique key so we can look up the client when this module gets re-imported\nexport const db = singleton(\n  \"prisma\",\n  () => new PrismaClient()\n);\n```\n\n----------------------------------------\n\nTITLE: Imperative Search Parameter Updates\nDESCRIPTION: Demonstrates how to programmatically update search parameters using the setSearchParams function from useSearchParams hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useSearchParams } from \"@remix-run/react\";\n\nexport default function ProductFilters() {\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setSearchParams({ now: Date.now() });\n    }, 1000);\n    return () => clearInterval(id);\n  }, [setSearchParams]);\n\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing CSS Bundle in Remix Root Component\nDESCRIPTION: Example of how to import and use cssBundleHref in the root.tsx file of a Remix application. This code adds the CSS bundle link to the page if it exists.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/bundling.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { cssBundleHref } from \"@remix-run/css-bundle\";\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const links: LinksFunction = () => [\n  ...(cssBundleHref\n    ? [{ rel: \"stylesheet\", href: cssBundleHref }]\n    : []),\n  // ...\n];\n```\n\n----------------------------------------\n\nTITLE: Configuring App Server for Development and Production\nDESCRIPTION: Code snippet to configure the app server to use the development request handler in development mode and the standard request handler in production.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\napp.all(\n  \"*\",\n  process.env.NODE_ENV === \"development\"\n    ? createDevRequestHandler(initialBuild)\n    : createRequestHandler({ build: initialBuild })\n);\n```\n\n----------------------------------------\n\nTITLE: Migration of useFetcher Hook Usage in TypeScript\nDESCRIPTION: Shows changes to useFetcher hook API, demonstrating the flattened structure and removal of type field in v2.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const fetcher = useFetcher();\n  fetcher.submission.formData;\n  fetcher.submission.formMethod;\n  fetcher.submission.formAction;\n  fetcher.type;\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const fetcher = useFetcher();\n\n  // these keys are flattened\n  fetcher.formData;\n  fetcher.formMethod;\n  fetcher.formAction;\n\n  // this key is removed\n  fetcher.type;\n}\n```\n\n----------------------------------------\n\nTITLE: Using useOutletContext Hook in React/Remix\nDESCRIPTION: Demonstrates how to use the useOutletContext hook to access context values from a parent Outlet component. This hook provides a simpler API over React Context specifically for Outlet components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-outlet-context.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useOutletContext } from \"@remix-run/react\";\n\nfunction Child() {\n  const myValue = useOutletContext();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Route Component in Remix with TypeScript\nDESCRIPTION: Demonstrates how to create a basic route component in Remix using TypeScript and React. The component is defined as the default export of a route module and renders a simple HTML structure with a heading and paragraph.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/component.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function MyRouteComponent() {\n  return (\n    <div>\n      <h1>Look ma!</h1>\n      <p>I'm still using React after like 8 years.</p>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Optimized Data Fetching in Remix Loader\nDESCRIPTION: Demonstrates how to optimize data fetching in a Remix loader by selecting only necessary fields, limiting the number of items, and ordering the results. This approach reduces data transfer and improves performance.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_30\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json({\n    jokeListItems: await db.joke.findMany({\n      orderBy: { createdAt: \"desc\" },\n      select: { id: true, name: true },\n      take: 5,\n    }),\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Loading Jokes in Remix Route\nDESCRIPTION: Updates the /jokes route to load jokes from the database and render a list of links. This snippet demonstrates data fetching, type safety, and rendering dynamic content.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_29\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Link,\n  Outlet,\n  useLoaderData,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/jokes.css\";\nimport { db } from \"~/utils/db.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport const loader = async () => {\n  return json({\n    jokeListItems: await db.joke.findMany(),\n  });\n};\n\nexport default function JokesRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <header className=\"jokes-header\">\n        <div className=\"container\">\n          <h1 className=\"home-link\">\n            <Link\n              to=\"/\"\n              title=\"Remix Jokes\"\n              aria-label=\"Remix Jokes\"\n            >\n              <span className=\"logo\">🤪</span>\n              <span className=\"logo-medium\">J🤪KES</span>\n            </Link>\n          </h1>\n        </div>\n      </header>\n      <main className=\"jokes-main\">\n        <div className=\"container\">\n          <div className=\"jokes-list\">\n            <Link to=\".\">Get a random joke</Link>\n            <p>Here are a few more jokes to check out:</p>\n            <ul>\n              {data.jokeListItems.map(({ id, name }) => (\n                <li key={id}>\n                  <Link to={id}>{name}</Link>\n                </li>\n              ))}\n            </ul>\n            <Link to=\"new\" className=\"button\">\n              Add your own\n            </Link>\n          </div>\n          <div className=\"jokes-outlet\">\n            <Outlet />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Login Form Component in Remix\nDESCRIPTION: Initial implementation of a login form React component using Remix hooks. The form includes login/register radio buttons, username/password fields, and handles redirect parameters via URL search params.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_42\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\nimport { Link, useSearchParams } from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/login.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport default function Login() {\n  const [searchParams] = useSearchParams();\n  return (\n    <div className=\"container\">\n      <div className=\"content\" data-light=\"\">\n        <h1>Login</h1>\n        <form method=\"post\">\n          <input\n            type=\"hidden\"\n            name=\"redirectTo\"\n            value={\n              searchParams.get(\"redirectTo\") ?? undefined\n            }\n          />\n          <fieldset>\n            <legend className=\"sr-only\">\n              Login or Register?\n            </legend>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"login\"\n                defaultChecked\n              />{\" \"}\n              Login\n            </label>\n            <label>\n              <input\n                type=\"radio\"\n                name=\"loginType\"\n                value=\"register\"\n              />{\" \"}\n              Register\n            </label>\n          </fieldset>\n          <div>\n            <label htmlFor=\"username-input\">Username</label>\n            <input\n              type=\"text\"\n              id=\"username-input\"\n              name=\"username\"\n            />\n          </div>\n          <div>\n            <label htmlFor=\"password-input\">Password</label>\n            <input\n              id=\"password-input\"\n              name=\"password\"\n              type=\"password\"\n            />\n          </div>\n          <button type=\"submit\" className=\"button\">\n            Submit\n          </button>\n        </form>\n      </div>\n      <div className=\"links\">\n        <ul>\n          <li>\n            <Link to=\"/\">Home</Link>\n          </li>\n          <li>\n            <Link to=\"/jokes\">Jokes</Link>\n          </li>\n        </ul>\n      </div>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Spinners to NavLinks using useParams in Remix\nDESCRIPTION: This snippet demonstrates how to add spinners next to navigation links by using the useParams hook to determine which link is currently active during navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useParams } from \"@remix-run/react\";\n\nexport function ProjectList({ projects }) {\n  const params = useParams();\n  return (\n    <nav>\n      {projects.map((project) => (\n        <NavLink key={project.id} to={project.id}>\n          {project.name}\n          {params.projectId === project.id ? (\n            <Spinner />\n          ) : null}\n        </NavLink>\n      ))}\n    </nav>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Remix Test Stub with React Testing Library\nDESCRIPTION: Shows how to render and test a Remix stub component using React Testing Library.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/testing.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nrender(<RemixStub />);\nawait screen.findByText(\"Some rendered text\");\n```\n\n----------------------------------------\n\nTITLE: Configuring HTTPS Server with Express in TypeScript\nDESCRIPTION: Example of setting up an HTTPS server using Express and the generated TLS key and certificate in TypeScript.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport fs from \"node:fs\";\nimport https from \"node:https\";\nimport path from \"node:path\";\n\nimport express from \"express\";\n\nconst BUILD_DIR = path.resolve(__dirname, \"build\");\nconst build = require(BUILD_DIR);\n\nconst app = express();\n\n// ... code setting up your express app goes here ...\n\nconst server = https.createServer(\n  {\n    key: fs.readFileSync(\"path/to/key.pem\"),\n    cert: fs.readFileSync(\"path/to/cert.pem\"),\n  },\n  app\n);\n\nconst port = 3000;\nserver.listen(port, () => {\n  // ... code to run after your server is running goes here ...\n});\n```\n\n----------------------------------------\n\nTITLE: Server Node.js Polyfill Configuration (JavaScript)\nDESCRIPTION: Configuration example for serverNodeBuiltinsPolyfill that shows how to include Node.js polyfills in the server build when targeting non-Node.js server platforms. This uses JSPM to provide polyfills.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverNodeBuiltinsPolyfill: {\n    modules: {\n      buffer: true, // Provide a JSPM polyfill\n      fs: \"empty\", // Provide an empty polyfill\n    },\n    globals: {\n      Buffer: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Manipulating Content Types in Remix JavaScript\nDESCRIPTION: Shows how to use the isResponse and typedjson utilities to work with content types in Remix. These functions help in creating typed JSON responses and checking if a value is a Response object.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/index.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport { isResponse, typedjson } from \"@remix-run/node\";\n\nfunction handleData(data) {\n  if (isResponse(data)) {\n    return data;\n  }\n\n  return typedjson(data);\n}\n\n// Usage\nconst response = handleData({ foo: \"bar\" });\n// Response with Content-Type: application/json-t\n\nconst existingResponse = handleData(new Response(\"...\"));\n// Returns the existing Response without modification\n```\n\n----------------------------------------\n\nTITLE: Adding Console Error Logging to Remix ErrorBoundary\nDESCRIPTION: This snippet shows how to enhance error handling in a Remix application by adding console.error logging to the ErrorBoundary component, which helps in debugging by logging errors in the browser console even for server-side errors.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_75\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport {\n  isRouteErrorResponse,\n  Links,\n  LiveReload,\n  Meta,\n  Outlet,\n  Scripts,\n  useRouteError,\n} from \"@remix-run/react\";\nimport type { PropsWithChildren } from \"react\";\n\nimport globalLargeStylesUrl from \"~/styles/global-large.css\";\nimport globalMediumStylesUrl from \"~/styles/global-medium.css\";\nimport globalStylesUrl from \"~/styles/global.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: globalStylesUrl },\n  {\n    rel: \"stylesheet\",\n    href: globalMediumStylesUrl,\n    media: \"print, (min-width: 640px)\",\n  },\n  {\n    rel: \"stylesheet\",\n    href: globalLargeStylesUrl,\n    media: \"screen and (min-width: 1024px)\",\n  },\n];\n\nexport const meta: MetaFunction = () => {\n  const description =\n    \"Learn Remix and laugh at the same time!\";\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title: \"Remix: So great, it's funny!\" },\n  ];\n};\n\nfunction Document({\n  children,\n  title,\n}: PropsWithChildren<{ title?: string }>) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <meta name=\"keywords\" content=\"Remix,jokes\" />\n        <meta\n          name=\"twitter:image\"\n          content=\"https://remix-jokes.lol/social.png\"\n        />\n        <meta\n          name=\"twitter:card\"\n          content=\"summary_large_image\"\n        />\n        <meta name=\"twitter:creator\" content=\"@remix_run\" />\n        <meta name=\"twitter:site\" content=\"@remix_run\" />\n        <meta name=\"twitter:title\" content=\"Remix Jokes\" />\n        <Meta />\n        {title ? <title>{title}</title> : null}\n        <Links />\n      </head>\n      <body>\n        {children}\n        <Scripts />\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n\nexport default function App() {\n  return (\n    <Document>\n      <Outlet />\n    </Document>\n  );\n}\n\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  console.error(error);\n\n  if (isRouteErrorResponse(error)) {\n    return (\n      <Document\n        title={`${error.status} ${error.statusText}`}\n      >\n        <div className=\"error-container\">\n          <h1>\n            {error.status} {error.statusText}\n          </h1>\n        </div>\n      </Document>\n    );\n  }\n\n  const errorMessage =\n    error instanceof Error\n      ? error.message\n      : \"Unknown error\";\n  return (\n    <Document title=\"Uh-oh!\">\n      <div className=\"error-container\">\n        <h1>App Error</h1>\n        <pre>{errorMessage}</pre>\n      </div>\n    </Document>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Handling GET Requests in a Remix Resource Route\nDESCRIPTION: This code demonstrates how to handle GET requests in a Remix Resource Route by exporting a loader function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  // handle \"GET\" request\n\n  return json({ success: true }, 200);\n};\n```\n\n----------------------------------------\n\nTITLE: Directory Structure for Route Folders\nDESCRIPTION: Example directory structure showing route folder organization with co-located modules and route.tsx files.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/routes.md#2025-04-18_snippet_1\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── routes/\n│   ├── _index/\n│   │   ├── signup-form.tsx\n│   │   └── route.tsx\n│   ├── about/\n│   │   ├── header.tsx\n│   │   └── route.tsx\n│   ├── concerts/\n│   │   ├── favorites-cookie.ts\n│   │   └── route.tsx\n│   ├── concerts.$city/\n│   │   └── route.tsx\n│   ├── concerts._index/\n│   │   ├── featured.tsx\n│   │   └── route.tsx\n│   └── concerts.trending/\n│       ├── card.tsx\n│       ├── route.tsx\n│       └── sponsored.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Running Remix in Production\nDESCRIPTION: Starts the Remix application in production mode using the optimized build.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Implementing the Links Component in Remix Root Component\nDESCRIPTION: This code snippet demonstrates how to implement the Links component within the root component of a Remix application. The Links component renders all the link tags created by route module links exports and should be placed inside the head element of the HTML document.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/links.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Links } from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html>\n      <head>\n        <Links />\n      </head>\n      <body></body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Server-side Cookie Handling in Remix\nDESCRIPTION: Shows how to implement server-side cookie handling with loader and action functions for reading and writing cookie state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport { prefs } from \"./prefs-cookie\";\n\n// read the state from the cookie\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const cookieHeader = request.headers.get(\"Cookie\");\n  const cookie = (await prefs.parse(cookieHeader)) || {};\n  return json({ sidebarIsOpen: cookie.sidebarIsOpen });\n}\n\n// write the state to the cookie\nexport async function action({\n  request,\n}: ActionFunctionArgs) {\n  const cookieHeader = request.headers.get(\"Cookie\");\n  const cookie = (await prefs.parse(cookieHeader)) || {};\n  const formData = await request.formData();\n\n  const isOpen = formData.get(\"sidebar\") === \"open\";\n  cookie.sidebarIsOpen = isOpen;\n\n  return json(isOpen, {\n    headers: {\n      \"Set-Cookie\": await prefs.serialize(cookie),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Attaching Environment Variables to Window Object in Remix\nDESCRIPTION: Implementation of attaching environment variables to window.ENV for client-side access using the dangerouslySetInnerHTML property.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  return json({\n    ENV: {\n      STRIPE_PUBLIC_KEY: process.env.STRIPE_PUBLIC_KEY,\n    },\n  });\n}\n\nexport function Root() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        <script\n          dangerouslySetInnerHTML={{\n            __html: `window.ENV = ${JSON.stringify(\n              data.ENV\n            )}`,\n          }}\n        />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Jokes Route with Authentication UI in Remix\nDESCRIPTION: This code updates the jokes route to display user information when logged in and a login link when logged out. It fetches user data using the getUser function and recent jokes from the database, then renders the appropriate UI components based on authentication state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_53\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  LinksFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Link,\n  Outlet,\n  useLoaderData,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/jokes.css\";\nimport { db } from \"~/utils/db.server\";\nimport { getUser } from \"~/utils/session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const jokeListItems = await db.joke.findMany({\n    orderBy: { createdAt: \"desc\" },\n    select: { id: true, name: true },\n    take: 5,\n  });\n  const user = await getUser(request);\n\n  return json({ jokeListItems, user });\n};\n\nexport default function JokesRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <header className=\"jokes-header\">\n        <div className=\"container\">\n          <h1 className=\"home-link\">\n            <Link\n              to=\"/\"\n              title=\"Remix Jokes\"\n              aria-label=\"Remix Jokes\"\n            >\n              <span className=\"logo\">🤪</span>\n              <span className=\"logo-medium\">J🤪KES</span>\n            </Link>\n          </h1>\n          {data.user ? (\n            <div className=\"user-info\">\n              <span>{`Hi ${data.user.username}`}</span>\n              <form action=\"/logout\" method=\"post\">\n                <button type=\"submit\" className=\"button\">\n                  Logout\n                </button>\n              </form>\n            </div>\n          ) : (\n            <Link to=\"/login\">Login</Link>\n          )}\n        </div>\n      </header>\n      <main className=\"jokes-main\">\n        <div className=\"container\">\n          <div className=\"jokes-list\">\n            <Link to=\".\">Get a random joke</Link>\n            <p>Here are a few more jokes to check out:</p>\n            <ul>\n              {data.jokeListItems.map(({ id, name }) => (\n                <li key={id}>\n                  <Link to={id}>{name}</Link>\n                </li>\n              ))}\n            </ul>\n            <Link to=\"new\" className=\"button\">\n              Add your own\n            </Link>\n          </div>\n          <div className=\"jokes-outlet\">\n            <Outlet />\n          </div>\n        </div>\n      </main>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Client-Side Environment Variables in Remix\nDESCRIPTION: Example of accessing client-side environment variables from window.ENV in a function that uses external libraries.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nexport async function redirectToStripeCheckout(\n  sessionId\n) {\n  const stripe = await loadStripe(\n    window.ENV.STRIPE_PUBLIC_KEY\n  );\n  return stripe.redirectToCheckout({ sessionId });\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Metadata for Joke Route in Remix\nDESCRIPTION: This function generates metadata for the joke route, including description and title. It uses the loader data to create dynamic metadata based on the joke's name.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_66\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport const meta: MetaFunction<typeof loader> = ({\n  data,\n}) => {\n  const { description, title } = data\n    ? {\n        description: `Enjoy the \"${data.joke.name}\" joke and much more`,\n        title: `\"${data.joke.name}\" joke`,\n      }\n    : { description: \"No joke found\", title: \"No joke\" };\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Optimizing Revalidation for Search Params in Nested Routes\nDESCRIPTION: This snippet demonstrates how to optimize revalidation for nested routes when search params change, focusing on the parent route that doesn't depend on search params.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/should-revalidate.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport function shouldRevalidate({\n  currentParams,\n  nextParams,\n  formMethod,\n  defaultShouldRevalidate,\n}) {\n  if (\n    formMethod === \"GET\" &&\n    currentParams.projectId === nextParams.projectId\n  ) {\n    return false;\n  }\n\n  return defaultShouldRevalidate;\n}\n```\n\n----------------------------------------\n\nTITLE: Using useAsyncError Hook with Await Component in React\nDESCRIPTION: This snippet demonstrates how to use the useAsyncError hook to handle errors in conjunction with the Await component. It shows the creation of an ErrorElement that displays the error message from the rejected promise.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-async-error.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Await, useAsyncError } from \"@remix-run/react\";\n\nfunction ErrorElement() {\n  const error = useAsyncError();\n  return (\n    <p>Uh Oh, something went wrong! {error.message}</p>\n  );\n}\n\n<Await\n  resolve={promiseThatRejects}\n  errorElement={<ErrorElement />}\n/>;\n```\n\n----------------------------------------\n\nTITLE: Reusable Search Checkbox Component in Remix\nDESCRIPTION: A reusable checkbox component that handles URL search parameter synchronization and local state management in a clean abstraction.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\n<div>\n  <SearchCheckbox name=\"brand\" value=\"nike\" />\n  <SearchCheckbox name=\"brand\" value=\"reebok\" />\n  <SearchCheckbox name=\"brand\" value=\"adidas\" />\n</div>;\n\nfunction SearchCheckbox({ name, value }) {\n  const [searchParams] = useSearchParams();\n  const paramsIncludeValue = searchParams\n    .getAll(name)\n    .includes(value);\n  const [checked, setChecked] = React.useState(\n    paramsIncludeValue\n  );\n\n  React.useEffect(() => {\n    setChecked(paramsIncludeValue);\n  }, [paramsIncludeValue]);\n\n  return (\n    <input\n      type=\"checkbox\"\n      name={name}\n      value={value}\n      checked={checked}\n      onChange={(e) => setChecked(e.target.checked)}\n    />\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing a Route Loader in Remix\nDESCRIPTION: Implementation of a loader function that fetches user data and returns it as JSON. The loader provides data to the route component when a user navigates to the matching route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/data-flow.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const user = await getUser(request);\n  return json({\n    displayName: user.displayName,\n    email: user.email,\n  });\n}\n\nexport default function Component() {\n  // ...\n}\n\nexport async function action() {\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Adding a Cancel Button with useNavigate in Remix\nDESCRIPTION: This snippet shows how to add a cancel button functionality using the useNavigate hook in a Remix application. It updates the EditContact component to include a cancel button that navigates back.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_20\n\nLANGUAGE: tsx\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  useLoaderData,\n  useNavigate,\n} from \"@remix-run/react\";\n// existing imports & exports\n\nexport default function EditContact() {\n  const { contact } = useLoaderData<typeof loader>();\n  const navigate = useNavigate();\n\n  return (\n    <Form key={contact.id} id=\"contact-form\" method=\"post\">\n      {/* existing elements */}\n      <p>\n        <button type=\"submit\">Save</button>\n        <button onClick={() => navigate(-1)} type=\"button\">\n          Cancel\n        </button>\n      </p>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: CSS Bundle Configuration in Root Component\nDESCRIPTION: Shows how to configure CSS bundling in the root component using @remix-run/css-bundle.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\nimport { cssBundleHref } from \"@remix-run/css-bundle\";\nimport type { LinksFunction } from \"@remix-run/react\"; // or cloudflare/deno\n\nexport const links: LinksFunction = () => {\n  return [\n    ...(cssBundleHref\n      ? [{ rel: \"stylesheet\", href: cssBundleHref }]\n      : []),\n    // ...\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Client Loader Type Preservation\nDESCRIPTION: Shows how client-side loaders preserve complete type information without serialization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  useLoaderData,\n  type ClientLoaderFunctionArgs,\n} from \"@remix-run/react\";\n\nclass Dog {\n  /* ... */\n}\n\n// Make sure to annotate the types for the args! 👇\nexport function clientLoader(_: ClientLoaderFunctionArgs) {\n  return {\n    planet: \"world\",\n    date: new Date(),\n    notSoRandom: () => 7,\n    spot: new Dog(\"Spot\", 3),\n  };\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof clientLoader>();\n  //    ^? { planet: string, date: Date, notSoRandom: () => number, spot: Dog }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Breadcrumb for Child Route in Remix\nDESCRIPTION: This snippet demonstrates how to define a breadcrumb for a child route by creating a handle object with a breadcrumb function. The function returns a Link component pointing to the child route path.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/breadcrumbs.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport const handle = {\n  breadcrumb: () => (\n    <Link to=\"/parent/child\">Child Route</Link>\n  ),\n};\n```\n\n----------------------------------------\n\nTITLE: Using useFetcher for Record Creation without URL Navigation in Remix\nDESCRIPTION: This snippet demonstrates how to use useFetcher to create records without changing the URL, showing how to implement a busy indicator based on the fetcher's state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/pending-ui.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nfunction CreateProject() {\n  const fetcher = useFetcher();\n  const isSubmitting = fetcher.state === \"submitting\";\n\n  return (\n    <fetcher.Form method=\"post\" action=\"/create-project\">\n      {/* ... */}\n    </fetcher.Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PostCSS with Autoprefixer in Remix\nDESCRIPTION: Example PostCSS configuration file that enables the Autoprefixer plugin for a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  plugins: {\n    autoprefixer: {},\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Optional Segments in Remix Routes\nDESCRIPTION: This code snippet demonstrates how to create optional segments in Remix routes by wrapping a route segment in parentheses. It shows how URLs with and without the optional segment can match the same route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_5\n\nLANGUAGE: text\nCODE:\n```\n app/\n├── routes/\n│   ├── ($lang)._index.tsx\n│   ├── ($lang).$productId.tsx\n│   └── ($lang).categories.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Adding RSS Feed Link to Remix Index Route\nDESCRIPTION: This code updates the index route component to include a link to the RSS feed. The link uses the 'reloadDocument' prop to ensure a full page reload when clicked, as RSS is not part of the client-side React application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_72\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\nimport { Link } from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/index.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport default function IndexRoute() {\n  return (\n    <div className=\"container\">\n      <div className=\"content\">\n        <h1>\n          Remix <span>Jokes!</span>\n        </h1>\n        <nav>\n          <ul>\n            <li>\n              <Link to=\"jokes\">Read Jokes</Link>\n            </li>\n            <li>\n              <Link reloadDocument to=\"/jokes.rss\">\n                RSS\n              </Link>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling PostCSS Processing (JavaScript)\nDESCRIPTION: Configuration example showing how to disable PostCSS processing in a Remix application. By default, PostCSS processing is enabled if a PostCSS config file is present.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  postcss: false,\n};\n```\n\n----------------------------------------\n\nTITLE: Building Remix for Production\nDESCRIPTION: Creates a production build of the Remix application by bundling and optimizing all assets.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Implementing Route-Level CSS in Remix Dashboard\nDESCRIPTION: Example of adding stylesheet links to a dashboard route component using the LinksFunction from Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport styles from \"~/styles/dashboard.css?url\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n```\n\n----------------------------------------\n\nTITLE: Handling Multiple Dynamic Segments in Remix Loader\nDESCRIPTION: This example shows how to handle multiple dynamic segments in a Remix loader function. Each segment is accessed as a property on the params object, corresponding to the names in the route filename.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  return fake.db.getConcerts({\n    date: params.date,\n    city: params.city,\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Module with Side Effect Breaking Server Code Pruning\nDESCRIPTION: Example showing how a module side effect (console.log) prevents Remix from properly pruning server-only code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { prisma } from \"../db\";\nimport PostsView from \"../PostsView\";\n\nconsole.log(prisma);\n\nexport async function loader() {\n  return json(await prisma.post.findMany());\n}\n\nexport function meta() {\n  return [{ title: \"Posts\" }];\n}\n\nexport default function Posts() {\n  const posts = useLoaderData<typeof loader>();\n  return <PostsView posts={posts} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Deferred Loading for v3_singleFetch in Remix\nDESCRIPTION: This snippet shows how to update a loader function with deferred loading to work with the v3_singleFetch flag. It demonstrates returning raw objects instead of using the defer() function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_24\n\nLANGUAGE: typescript\nCODE:\n```\nexport async function loader({}: LoaderFunctionArgs) {\n  let lazyStuff = fetchLazyStuff();\n  let tasks = await fetchTasks();\n  return { tasks, lazyStuff };\n}\n```\n\n----------------------------------------\n\nTITLE: Shared Component CSS Implementation\nDESCRIPTION: Example of CSS scoping using class names and data attributes for shared components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n/* scope with class names */\n.PrimaryButton {\n  /* ... */\n}\n\n.TileGrid {\n  /* ... */\n}\n\n/* or scope with data attributes to avoid concatenating\n   className props, but it's really up to you */\n[data-primary-button] {\n  /* ... */\n}\n\n[data-tile-grid] {\n  /* ... */\n}\n```\n\n----------------------------------------\n\nTITLE: NavLink with View Transition and isTransitioning\nDESCRIPTION: Shows a more advanced example of using viewTransition with the children callback to apply different transition names based on transitioning state.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to={to} viewTransition>\n  {({ isTransitioning }) => (\n    <>\n      <p\n        style={{\n          viewTransitionName: isTransitioning\n            ? \"image-title\"\n            : \"\",\n        }}\n      >\n        Image Number {idx}\n      </p>\n      <img\n        src={src}\n        alt={`Img ${idx}`}\n        style={{\n          viewTransitionName: isTransitioning\n            ? \"image-expand\"\n            : \"\",\n        }}\n      />\n    </>\n  )}\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_singleFetch Flag and Declaring Types in Remix Configuration\nDESCRIPTION: This snippet shows how to enable the v3_singleFetch flag and declare its types in the Remix configuration. This feature simplifies data loading by using a single fetch for data requests during client-side navigations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\nimport tsconfigPaths from \"vite-tsconfig-paths\";\n\ndeclare module \"@remix-run/node\" {\n  // or cloudflare, deno, etc.\n  interface Future {\n    v3_singleFetch: true;\n  }\n}\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        v3_singleFetch: true,\n      },\n    }),\n    tsconfigPaths(),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Signing Cookies in Remix\nDESCRIPTION: Demonstrates how to sign a cookie for enhanced security. This example shows how to provide secrets when creating a cookie and how to rotate secrets.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/cookies.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nconst cookie = createCookie(\"user-prefs\", {\n  secrets: [\"s3cret1\"],\n});\n```\n\nLANGUAGE: typescript\nCODE:\n```\nexport const cookie = createCookie(\"user-prefs\", {\n  secrets: [\"n3wsecr3t\", \"olds3cret\"],\n});\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport { cookie } from \"~/cookies.server\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const oldCookie = request.headers.get(\"Cookie\");\n  // oldCookie may have been signed with \"olds3cret\", but still parses ok\n  const value = await cookie.parse(oldCookie);\n\n  new Response(\"...\", {\n    headers: {\n      // Set-Cookie is signed with \"n3wsecr3t\"\n      \"Set-Cookie\": await cookie.serialize(value),\n    },\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Error Boundary in Remix\nDESCRIPTION: This code snippet shows how to implement a root Error Boundary component in Remix. It handles all thrown responses that weren't caught by nested routes, including 404 errors. The component uses the `useRouteError` hook to access the error details and renders appropriate error messages.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/not-found.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport function ErrorBoundary() {\n  const error = useRouteError();\n  return (\n    <html>\n      <head>\n        <title>Oops!</title>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <h1>\n          {isRouteErrorResponse(error)\n            ? `${error.status} ${error.statusText}`\n            : error instanceof Error\n            ? error.message\n            : \"Unknown Error\"}\n        </h1>\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Loader Data in Meta Function\nDESCRIPTION: Example demonstrating how to use loader data in meta function implementation\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  return json({\n    task: await getTask(params.projectId, params.taskId),\n  });\n}\n\nexport const meta: MetaFunction<typeof loader> = ({\n  data,\n}) => {\n  return [{ title: data.task.name }];\n};\n```\n\n----------------------------------------\n\nTITLE: Defining Splat Routes in Remix\nDESCRIPTION: This snippet shows how to set up splat routes in Remix, which match the rest of a URL including slashes. It includes examples of file structures and corresponding URL patterns for splat routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_6\n\nLANGUAGE: text\nCODE:\n```\n app/\n├── routes/\n│   ├── _index.tsx\n│   ├── $.tsx\n│   ├── about.tsx\n│   └── files.$.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Relative Path Navigation with useNavigate\nDESCRIPTION: Demonstrates navigation using relative paths with the useNavigate hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nnavigate(\"..\");\nnavigate(\"../other/path\");\n```\n\n----------------------------------------\n\nTITLE: Creating a Blog Index Page with MDX Posts\nDESCRIPTION: Example of creating a blog index page that imports and displays metadata from MDX post files.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Link, useLoaderData } from \"@remix-run/react\";\n\n// Import all your posts from the app/routes/posts directory. Since these are\n// regular route modules, they will all be available for individual viewing\n// at /posts/a, for example.\nimport * as postA from \"./posts/a.mdx\";\nimport * as postB from \"./posts/b.md\";\nimport * as postC from \"./posts/c.md\";\n\nfunction postFromModule(mod) {\n  return {\n    slug: mod.filename.replace(/\\.mdx?$/, \"\"),\n    ...mod.attributes.meta,\n  };\n}\n\nexport async function loader() {\n  // Return metadata about each of the posts for display on the index page.\n  // Referencing the posts here instead of in the Index component down below\n  // lets us avoid bundling the actual posts themselves in the bundle for the\n  // index page.\n  return json([\n    postFromModule(postA),\n    postFromModule(postB),\n    postFromModule(postC),\n  ]);\n}\n\nexport default function Index() {\n  const posts = useLoaderData<typeof loader>();\n\n  return (\n    <ul>\n      {posts.map((post) => (\n        <li key={post.slug}>\n          <Link to={post.slug}>{post.title}</Link>\n          {post.description ? (\n            <p>{post.description}</p>\n          ) : null}\n        </li>\n      ))}\n    </ul>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Root Component with Links Configuration\nDESCRIPTION: Example of configuring the root component with links function for stylesheet and asset management in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_16\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\nimport { Links } from \"@remix-run/react\";\n\nimport App from \"./app\";\nimport stylesheetUrl from \"./styles.css\";\n\nexport const links: LinksFunction = () => {\n  // `links` returns an array of objects whose\n  // properties map to the `<link />` component props\n  return [\n    { rel: \"icon\", href: \"/favicon.ico\" },\n    { rel: \"apple-touch-icon\", href: \"/logo192.png\" },\n    { rel: \"manifest\", href: \"/manifest.json\" },\n    { rel: \"stylesheet\", href: stylesheetUrl },\n  ];\n};\n\nexport default function Root() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <meta name=\"theme-color\" content=\"#000000\" />\n        <meta\n          name=\"description\"\n          content=\"Web site created using create-react-app\"\n        />\n        <Links />\n        <title>React App</title>\n      </head>\n      <body>\n        <App />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Consuming a Component with CSS URL Imports in a Remix Route\nDESCRIPTION: A route component that imports both the Button component and its links array. The route must manually include the component's links in its own links export for the CSS to be loaded.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_6\n\nLANGUAGE: jsx\nCODE:\n```\nimport {\n  Button,\n  links as buttonLinks,\n} from \"../components/Button\";\n\nexport const links = () => [...buttonLinks];\n\nexport default function HelloRoute() {\n  return <Button>Hello!</Button>;\n}\n```\n\n----------------------------------------\n\nTITLE: useSubmit Options Configuration\nDESCRIPTION: Provides an example of using the useSubmit hook with various options including action, method, encType, and other configuration parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nsubmit(data, {\n  action: \"\",\n  method: \"post\",\n  encType: \"application/x-www-form-urlencoded\",\n  preventScrollReset: false,\n  replace: false,\n  relative: \"route\",\n});\n```\n\n----------------------------------------\n\nTITLE: Custom Status Code Redirects in Remix (TS)\nDESCRIPTION: Shows how to use the redirect function with custom HTTP status codes like 301 and 303 for permanent and see-other redirects respectively.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirect.md#2025-04-18_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nredirect(path, 301);\nredirect(path, 303);\n```\n\n----------------------------------------\n\nTITLE: TypeScript Type Serialization Example\nDESCRIPTION: Shows the simplified type serialization in Remix, demonstrating how SerializeFrom produces cleaner types for data structures with Dates.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\ntype Data = { hello: string; when: Date };\n\n// BEFORE\ntype Unsimplified = SerializeFrom<Data>;\n//   ^? SerializeObject<UndefinedToOptional<{ hello: string; when: Date }>>\n\n// AFTER\ntype Simplified = SerializeFrom<Data>;\n//   ^? { hello: string; when: string }\n```\n\n----------------------------------------\n\nTITLE: Updating Loader Function for v3_singleFetch in Remix\nDESCRIPTION: This snippet demonstrates how to update a loader function to work with the v3_singleFetch flag. It shows the removal of the json() wrapper and returning raw data objects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_23\n\nLANGUAGE: typescript\nCODE:\n```\nexport async function loader({}: LoaderFunctionArgs) {\n  let tasks = await fetchTasks();\n  return tasks;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Nested Layouts without Nested URLs in Remix\nDESCRIPTION: This snippet illustrates a file structure for pathless routes, where a leading underscore is used to share a layout without adding path segments to the URL. It's useful for scenarios like authentication routes with different headers/footers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_4\n\nLANGUAGE: text\nCODE:\n```\n app/\n├── routes/\n│   ├── _auth.login.tsx\n│   ├── _auth.register.tsx\n│   ├── _auth.tsx\n│   ├── _index.tsx\n│   ├── concerts.$city.tsx\n│   └── concerts.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Initializing Remix Project with Create-Remix CLI\nDESCRIPTION: This command uses npx to run the create-remix tool, which sets up a new Remix project. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-express/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Defining Joke Schema in Prisma\nDESCRIPTION: Prisma schema file that defines the database model for jokes. It includes fields for ID, timestamps, name, and content, along with the necessary generator and datasource configurations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_19\n\nLANGUAGE: prisma\nCODE:\n```\n// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel Joke {\n  id         String   @id @default(uuid())\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n  name       String\n  content    String\n}\n```\n\n----------------------------------------\n\nTITLE: JSON-LD Script Implementation in Meta Function\nDESCRIPTION: Example showing how to add structured data using JSON-LD in the meta function\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport const meta: MetaFunction = () => {\n  return [\n    {\n      \"script:ld+json\": {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"Organization\",\n        name: \"Remix\",\n        url: \"https://remix.run\",\n      },\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Individual Joke Route Component\nDESCRIPTION: Implements a parameterized route component for displaying individual jokes based on jokeId.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function JokeRoute() {\n  return (\n    <div>\n      <p>Here's your hilarious joke:</p>\n      <p>\n        Why don't you find hippopotamuses hiding in trees?\n        They're really good at it.\n      </p>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Canonical Link Implementation in Meta Function\nDESCRIPTION: Example showing how to add a canonical URL link tag using the meta function\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport const meta: MetaFunction = () => {\n  return [\n    {\n      tagName: \"link\",\n      rel: \"canonical\",\n      href: \"https://remix.run\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Using useResolvedPath Hook in Remix React Component\nDESCRIPTION: Demonstrates how to import and use the useResolvedPath hook in a React component within a Remix application. The hook resolves a relative path and returns a Path object with pathname, search, and hash properties.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-resolved-path.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useResolvedPath } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const path = useResolvedPath(\"../some/where\");\n  path.pathname;\n  path.search;\n  path.hash;\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Path Navigation with useNavigate\nDESCRIPTION: Shows how to navigate to a specific path string using the useNavigate hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nnavigate(\"/some/path\");\n```\n\n----------------------------------------\n\nTITLE: Exposing Environment Variables to Browser in Root Loader\nDESCRIPTION: Pattern for exposing selected environment variables to the client by returning them from the root loader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  return json({\n    ENV: {\n      STRIPE_PUBLIC_KEY: process.env.STRIPE_PUBLIC_KEY,\n      FAUNA_DB_URL: process.env.FAUNA_DB_URL,\n    },\n  });\n}\n\nexport function Root() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Root Layout with Data and Error Handling in TypeScript\nDESCRIPTION: This code snippet demonstrates how to implement a root Layout component in Remix that handles both successful data loading and error scenarios. It uses useRouteLoaderData for accessing loader data and useRouteError for error handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/root.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nexport function Layout({\n  children,\n}: {\n  children: React.ReactNode;\n}) {\n  const data = useRouteLoaderData(\"root\");\n  const error = useRouteError();\n\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <Meta />\n        <Links />\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `\n              :root {\n                --themeVar: ${\n                  data?.themeVar || defaultThemeVar\n                }\n              }\n            `,\n          }}\n        />\n      </head>\n      <body>\n        {data ? (\n          <Analytics token={data.analyticsToken} />\n        ) : null}\n        {children}\n        <ScrollRestoration />\n        <Scripts />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useFetcher with Custom Key Option\nDESCRIPTION: Shows how to use useFetcher with a custom key option for identifying the fetcher across components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetcher.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nfunction AddToBagButton() {\n  const fetcher = useFetcher({ key: \"add-to-bag\" });\n  return <fetcher.Form method=\"post\">...</fetcher.Form>;\n}\n\n// Then, up in the header...\nfunction CartCount({ count }) {\n  const fetcher = useFetcher({ key: \"add-to-bag\" });\n  const inFlightCount = Number(\n    fetcher.formData?.get(\"quantity\") || 0\n  );\n  const optimisticCount = count + inFlightCount;\n  return (\n    <>\n      <BagIcon />\n      <span>{optimisticCount}</span>\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Link Prefetch Options\nDESCRIPTION: Examples of different prefetching strategies using the prefetch prop\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n<>\n  <Link /> {/* defaults to \"none\" */}\n  <Link prefetch=\"none\" />\n  <Link prefetch=\"intent\" />\n  <Link prefetch=\"render\" />\n  <Link prefetch=\"viewport\" />\n</>\n```\n\n----------------------------------------\n\nTITLE: Function Serialization in Single Fetch\nDESCRIPTION: Illustrates how functions are handled during serialization with Single Fetch, showing they become undefined.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport function loader() {\n  return {\n    planet: \"world\",\n    date: new Date(),\n    notSoRandom: () => 7,\n  };\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof loader>();\n  //    ^? { planet: string, date: Date, notSoRandom: undefined }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Single Fetch Types in Remix\nDESCRIPTION: Demonstrates how to augment Remix's Future interface to enable Single Fetch types in a TypeScript configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"@remix-run/server-runtime\" {\n  // or cloudflare, deno, etc.\n  interface Future {\n    v3_singleFetch: true;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Matching Routes in Remix JavaScript\nDESCRIPTION: Demonstrates how to use the matchRoutes function to find matching routes based on a location. This utility is useful for determining which routes should be rendered for a given URL.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/index.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { matchRoutes } from \"@remix-run/react\";\n\nlet routes = [\n  { path: \"users\", children: [{ path: \":id\" }] },\n  { path: \"users/:id/posts\", children: [{ path: \":postId\" }] },\n  { path: \"posts\" },\n];\n\nlet matches = matchRoutes(routes, \"/users/123/posts/abc\");\n// [\n//   { route: routes[1], pathname: '/users/123/posts', params: { id: '123' } },\n//   { route: routes[1].children[0], pathname: '/users/123/posts/abc', params: { id: '123', postId: 'abc' } }\n// ]\n```\n\n----------------------------------------\n\nTITLE: Custom Watch Paths Configuration (JavaScript)\nDESCRIPTION: Example showing how to configure custom directories to watch during development using the watchPaths option. It can be specified as an array, string, or async function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nexports.watchPaths = async () => {\n  return [\"./some/path/*\"];\n};\n\n// also valid\nexports.watchPaths = [\"./some/path/*\"];\n```\n\n----------------------------------------\n\nTITLE: Submitting Plain Object as FormData with useSubmit\nDESCRIPTION: Demonstrates submitting a plain JavaScript object that will be serialized as FormData using the useSubmit hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nsubmit({ myKey: \"myValue\" }, { method: \"post\" });\n```\n\n----------------------------------------\n\nTITLE: Loading Recipe Data in Remix Route\nDESCRIPTION: Basic route setup to fetch and display a list of recipes using the loader function and useLoaderData hook in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/form-vs-fetcher.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  return json({\n    recipes: await db.recipes.findAll({ limit: 30 }),\n  });\n}\n\nexport default function Recipes() {\n  const { recipes } = useLoaderData<typeof loader>();\n  return (\n    <ul>\n      {recipes.map((recipe) => (\n        <RecipeListItem key={recipe.id} recipe={recipe} />\n      ))}\n    </ul>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Navigation Links in Remix Interface\nDESCRIPTION: Simple navigation structure with links to Home and Jokes pages, shown as part of a form component's interface structure.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_58\n\nLANGUAGE: tsx\nCODE:\n```\n<div className=\"links\">\n  <ul>\n    <li>\n      <Link to=\"/\">Home</Link>\n    </li>\n    <li>\n      <Link to=\"/jokes\">Jokes</Link>\n    </li>\n  </ul>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Using Throw Pattern in Route Module\nDESCRIPTION: Example of using the throw pattern in a route module which avoids module side effects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport { removeTrailingSlash } from \"~/http\";\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  removeTrailingSlash(request.url);\n  return json({ some: \"data\" });\n};\n```\n\n----------------------------------------\n\nTITLE: Document Guard for Safe Browser API Initialization\nDESCRIPTION: Pattern for safely initializing browser-only APIs by checking for document existence before initialization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_13\n\nLANGUAGE: ts\nCODE:\n```\nimport firebase from \"firebase/app\";\n\nif (typeof document !== \"undefined\") {\n  firebase.initializeApp(document.ENV.firebase);\n}\n\nexport { firebase };\n```\n\n----------------------------------------\n\nTITLE: Creating Database Seed Script with Prisma\nDESCRIPTION: TypeScript script that populates the database with initial joke data. It uses the Prisma client to create multiple joke records based on an array of predefined jokes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_22\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PrismaClient } from \"@prisma/client\";\nconst db = new PrismaClient();\n\nasync function seed() {\n  await Promise.all(\n    getJokes().map((joke) => {\n      return db.joke.create({ data: joke });\n    })\n  );\n}\n\nseed();\n\nfunction getJokes() {\n  // shout-out to https://icanhazdadjoke.com/\n\n  return [\n    {\n      name: \"Road worker\",\n      content: `I never wanted to believe that my Dad was stealing from his job as a road worker. But when I got home, all the signs were there.`,\n    },\n    {\n      name: \"Frisbee\",\n      content: `I was wondering why the frisbee was getting bigger, then it hit me.`,\n    },\n    {\n      name: \"Trees\",\n      content: `Why do trees seem suspicious on sunny days? Dunno, they're just a bit shady.`,\n    },\n    {\n      name: \"Skeletons\",\n      content: `Why don't skeletons ride roller coasters? They don't have the stomach for it.`,\n    },\n    {\n      name: \"Hippos\",\n      content: `Why don't you find hippopotamuses hiding in trees? They're really good at it.`,\n    },\n    {\n      name: \"Dinner\",\n      content: `What did one plate say to the other plate? Dinner is on me!`,\n    },\n    {\n      name: \"Elevator\",\n      content: `My first time using an elevator was an uplifting experience. The second time let me down.`,\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Button Component with Linked Styles\nDESCRIPTION: Implementation of a Button component with associated CSS links function and styling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_2\n\nLANGUAGE: css\nCODE:\n```\n[data-button] {\n  border: solid 1px;\n  background: white;\n  color: #454545;\n}\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport styles from \"./styles.css?url\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n\nexport const Button = React.forwardRef(\n  ({ children, ...props }, ref) => {\n    return <button {...props} ref={ref} data-button />;\n  }\n);\nButton.displayName = \"Button\";\n```\n\n----------------------------------------\n\nTITLE: Using redirectDocument with ResponseInit in TypeScript\nDESCRIPTION: This snippet demonstrates how to use redirectDocument with a ResponseInit object to include additional headers, such as setting a cookie.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirectDocument.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nredirectDocument(path, {\n  headers: {\n    \"Set-Cookie\": await commitSession(session),\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Prisma to Run Seed Script Automatically\nDESCRIPTION: Package.json configuration that tells Prisma to run the seed script automatically when resetting the database. This ensures test data is always available in development.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_25\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"prisma\": {\n    \"seed\": \"ts-node --require tsconfig-paths/register prisma/seed.ts\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using a Component with Bundled CSS in a Remix Route\nDESCRIPTION: A route component that imports and uses the Button component with bundled CSS. No additional steps are needed to handle the CSS when using the bundling approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_2\n\nLANGUAGE: jsx\nCODE:\n```\nimport { Button } from \"../components/Button\";\n\nexport default function HelloRoute() {\n  return <Button>Hello!</Button>;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Meta Tags for Login Route in Remix\nDESCRIPTION: This code snippet demonstrates how to add meta tags for the login route in Remix. It includes the meta export function with description and title tags for SEO and social media.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_65\n\nLANGUAGE: tsx\nCODE:\n```\nimport type {\n  ActionFunctionArgs,\n  LinksFunction,\n  MetaFunction,\n} from \"@remix-run/node\";\nimport {\n  Link,\n  useActionData,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/login.css\";\nimport { db } from \"~/utils/db.server\";\nimport { badRequest } from \"~/utils/request.server\";\nimport {\n  createUserSession,\n  login,\n  register,\n} from \"~/utils/session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport const meta: MetaFunction = () => {\n  const description =\n    \"Login to submit your own jokes to Remix Jokes!\";\n\n  return [\n    { name: \"description\", content: description },\n    { name: \"twitter:description\", content: description },\n    { title: \"Remix Jokes | Login\" },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Using data Function for Custom Status and Headers in Remix Loader\nDESCRIPTION: This snippet demonstrates how to use the `data` function in a Remix loader to return raw data with a custom status code and headers. It's useful when you need to provide specific response characteristics without manually creating a Response object.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/data.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { data } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport const loader = async () => {\n  return data(\n    { not: \"coffee\" },\n    {\n      status: 418,\n      headers: {\n        \"Cache-Control\": \"no-store\",\n      },\n    }\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Importing and Using useFetcher Hook in React\nDESCRIPTION: Demonstrates how to import and use the useFetcher hook in a React component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-fetcher.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFetcher } from \"@remix-run/react\";\n\nexport function SomeComponent() {\n  const fetcher = useFetcher();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Streamed Data with useLoaderData in Remix Component\nDESCRIPTION: This snippet shows how to access both critical (resolved) data and lazy (Promise) data returned from a loader that uses defer(). The useLoaderData hook provides access to all values, with streamed values represented as Promises.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0004-streaming-apis.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component() {\n  const data = useLoaderData();\n  // data.critical is a resolved value\n  // data.lazy is a Promise\n}\n```\n\n----------------------------------------\n\nTITLE: Enforcing User Authentication with Redirect\nDESCRIPTION: Function that requires a user to be authenticated, redirecting to the login page if not. Takes a request and optional redirectTo parameter to return the user to their intended destination after login.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_50\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport async function requireUserId(\n  request: Request,\n  redirectTo: string = new URL(request.url).pathname\n) {\n  const session = await getUserSession(request);\n  const userId = session.get(\"userId\");\n  if (!userId || typeof userId !== \"string\") {\n    const searchParams = new URLSearchParams([\n      [\"redirectTo\", redirectTo],\n    ]);\n    throw redirect(`/login?${searchParams}`);\n  }\n  return userId;\n}\n```\n\n----------------------------------------\n\nTITLE: ScrollRestoration with Pathname-based Key\nDESCRIPTION: Example of using pathname as the key for scroll restoration, useful for maintaining scroll position across different navigation methods to the same URL.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<ScrollRestoration\n  getKey={(location, matches) => {\n    return location.pathname;\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Better Abstraction Using Throw Pattern\nDESCRIPTION: Improved approach for route abstractions that avoids module side effects by using the throw pattern.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport function removeTrailingSlash(url) {\n  if (url.pathname !== \"/\" && url.pathname.endsWith(\"/\")) {\n    throw redirect(request.url.slice(0, -1), {\n      status: 308,\n    });\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite with Remix Preset\nDESCRIPTION: Example of how to use a Remix preset in a Vite configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/presets.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { myCoolPreset } from \"remix-preset-cool\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      presets: [myCoolPreset()],\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: A/B Testing Deferred Responses in Remix\nDESCRIPTION: This snippet shows how to conditionally use defer() in a loader for A/B testing without changing the UI code. The Await component gracefully handles both Promise and non-Promise values, making it flexible for testing scenarios.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0004-streaming-apis.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({ request }: LoaderArgs) {\n  const shouldAwait = isUserInTestGroup(request);\n  return {\n    maybeLazy: shouldAwait ? await fetchData() : fetchData(),\n  };\n}\n\nfunction Component() {\n  const data = useLoaderData();\n\n  // No code forks even if data.maybeLazy is not a Promise!\n  return (\n    <React.Suspense fallback={<p>Loading...</p>}>\n      <Await resolve={data.maybeLazy} errorElement={<MyError />}>\n        <MyData />\n      </Await>\n    </React.Suspense>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Search Params with Navigation Options in Remix\nDESCRIPTION: This example demonstrates how to use the setSearchParams function to update search parameters and navigate with additional options. It creates a new URLSearchParams object and sets a key-value pair.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-search-params.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<button\n  onClick={() => {\n    const params = new URLSearchParams();\n    params.set(\"someKey\", \"someValue\");\n    setSearchParams(params, {\n      preventScrollReset: true,\n    });\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Implementing Asset Preloading and Stylesheet Links in Remix Component\nDESCRIPTION: This TypeScript React component demonstrates how to preload an SVG asset and link a stylesheet in Remix. It also includes a CopyToClipboard button component implementation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport styles from \"./styles.css?url\";\n\nexport const links: LinksFunction = () => [\n  {\n    rel: \"preload\",\n    href: \"/icons/clipboard.svg\",\n    as: \"image\",\n    type: \"image/svg+xml\",\n  },\n  { rel: \"stylesheet\", href: styles },\n];\n\nexport const CopyToClipboard = React.forwardRef(\n  ({ children, ...props }, ref) => {\n    return (\n      <Button {...props} ref={ref} data-copy-to-clipboard />\n    );\n  }\n);\nCopyToClipboard.displayName = \"CopyToClipboard\";\n```\n\n----------------------------------------\n\nTITLE: Converting JSON Response to Raw Data Return\nDESCRIPTION: Example showing the migration from using json() response helper to returning raw data directly from loaders and actions in Single Fetch mode.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n// Old approach with json()\nreturn json({ data: whatever });\n\n// New approach with raw data\nreturn { data: whatever };\n```\n\n----------------------------------------\n\nTITLE: Basic Link Prefetching Example\nDESCRIPTION: Simple example showing how to add prefetch intent to a Remix Link component\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_84\n\nLANGUAGE: tsx\nCODE:\n```\n<Link prefetch=\"intent\" to=\"somewhere/neat\">Somewhere Neat</Link>\n```\n\n----------------------------------------\n\nTITLE: Preventing Root Loader Revalidation\nDESCRIPTION: This example shows how to prevent the root loader from being called again by always returning false in the shouldRevalidate function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/should-revalidate.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json({\n    ENV: {\n      CLOUDINARY_ACCT: process.env.CLOUDINARY_ACCT,\n      STRIPE_PUBLIC_KEY: process.env.STRIPE_PUBLIC_KEY,\n    },\n  });\n};\n\nexport const shouldRevalidate = () => false;\n```\n\n----------------------------------------\n\nTITLE: Implementing Server-Only Data Loading in Remix\nDESCRIPTION: This snippet demonstrates a Remix route that only depends on server-side data loading using the loader function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/client-data.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const data = await getServerData(request);\n  return json(data);\n}\n\nexport default function Component() {\n  const data = useLoaderData(); // (1) - server data\n  return <>...</>;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Basic Remix Preset with Server Bundles\nDESCRIPTION: Example implementation of a basic Remix preset that configures server bundles based on authenticated routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/presets.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { Preset } from \"@remix-run/dev\";\n\nexport function myCoolPreset(): Preset {\n  return {\n    name: \"my-cool-preset\",\n    remixConfig: () => ({\n      serverBundles: ({ branch }) => {\n        const isAuthenticatedRoute = branch.some((route) =>\n          route.id.split(\"/\").includes(\"_authenticated\")\n        );\n\n        return isAuthenticatedRoute\n          ? \"authenticated\"\n          : \"unauthenticated\";\n      },\n    }),\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Using the children Prop with Render Callback\nDESCRIPTION: Demonstrates how to use the children prop as a render callback function to display the resolved promise value.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<Await resolve={somePromise}>\n  {(resolvedValue) => <p>{resolvedValue}</p>}\n</Await>\n```\n\n----------------------------------------\n\nTITLE: History Stack Navigation with useNavigate\nDESCRIPTION: Demonstrates how to navigate through browser history using numerical values.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigate.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nnavigate(-1); // go back\nnavigate(1); // go forward\nnavigate(-2); // go back two\n```\n\n----------------------------------------\n\nTITLE: Express Server Dev Ready Broadcasting\nDESCRIPTION: Example of implementing dev server ready broadcasting in an Express server setup.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_29\n\nLANGUAGE: javascript\nCODE:\n```\n// server.js\n// <other imports>\nimport { broadcastDevReady } from \"@remix-run/node\";\n\n// Path to Remix's server build directory ('build/' by default)\nconst BUILD_DIR = path.join(process.cwd(), \"build\");\n\n// <code setting up your express server>\n\napp.listen(3000, () => {\n  const build = require(BUILD_DIR);\n  console.log(\"Ready: http://localhost:\" + port);\n\n  // in development, call `broadcastDevReady` _after_ your server is up and running\n  if (process.env.NODE_ENV === \"development\") {\n    broadcastDevReady(build);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Non-Streaming Route Module in Remix\nDESCRIPTION: This snippet shows a typical Remix route module without streaming implementation. It demonstrates how data is loaded and rendered synchronously.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const [product, reviews] = await Promise.all([\n    db.getProduct(params.productId),\n    db.getReviews(params.productId),\n  ]);\n\n  return json({ product, reviews });\n}\n\nexport default function Product() {\n  const { product, reviews } =\n    useLoaderData<typeof loader>();\n  return (\n    <>\n      <ProductPage data={product} />\n      <ProductReviews data={reviews} />\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: URL Escaping for Resource Routes in Remix\nDESCRIPTION: This snippet shows how to use URL escaping to add file extensions to Resource Routes in Remix, using the `[]` escape characters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/resource-routes.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n# original\n# /reports/123/pdf\napp/routes/reports.$id.pdf.ts\n\n# with a file extension\n# /reports/123.pdf\napp/routes/reports.$id[.pdf].ts\n\n# or like this, the resulting URL is the same\napp/routes/reports.$id[.]pdf.ts\n```\n\n----------------------------------------\n\nTITLE: Defining Breadcrumb for Parent Route in Remix\nDESCRIPTION: This snippet shows how to define a breadcrumb for a parent route by adding a breadcrumb function to the route's handle object. The function returns a Link component pointing to the parent route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/breadcrumbs.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const handle = {\n  breadcrumb: () => <Link to=\"/parent\">Some Route</Link>,\n};\n```\n\n----------------------------------------\n\nTITLE: Basic Form Action Examples with Index Parameter in Remix\nDESCRIPTION: Demonstrates the difference between submitting forms to parent routes versus index routes using the ?index parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/index-query-param.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\n<Form method=\"post\" action=\"/projects\" />;\n<Form method=\"post\" action=\"/projects?index\" />;\n```\n\n----------------------------------------\n\nTITLE: Creating a Server-Only Module Wrapper in Remix\nDESCRIPTION: This shows how to create a server-only module wrapper for fs-extra that prevents server code from being included in client bundles.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport { default } from \"fs-extra\";\n```\n\n----------------------------------------\n\nTITLE: Using Higher Order Function in Route Module\nDESCRIPTION: Example of using a higher order function in a route module which creates module side effects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport { removeTrailingSlash } from \"~/http\";\n\nexport const loader = removeTrailingSlash(({ request }) => {\n  return json({ some: \"data\" });\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite for SPA Mode\nDESCRIPTION: Vite configuration to enable SPA mode in a Remix application by setting ssr to false\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n// vite.config.ts\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      ssr: false,\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Initiating Streaming with defer() in Remix Loader\nDESCRIPTION: This snippet demonstrates how to use the defer() utility in a Remix loader to stream non-critical data while immediately returning critical data. The defer() function accepts an object with Promise values and an optional responseInit parameter for customizing the Response.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0004-streaming-apis.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  return defer({\n    // Await this, don't stream\n    critical: await fetchCriticalData(),\n    // Don't await this - stream it!\n    lazy: fetchLazyData(),\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing shouldRevalidate Function in Remix\nDESCRIPTION: This snippet demonstrates the basic structure of the shouldRevalidate function in Remix. It shows the function signature and the expected return type.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/should-revalidate.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { ShouldRevalidateFunction } from \"@remix-run/react\";\n\nexport const shouldRevalidate: ShouldRevalidateFunction = ({\n  actionResult,\n  currentParams,\n  currentUrl,\n  defaultShouldRevalidate,\n  formAction,\n  formData,\n  formEncType,\n  formMethod,\n  nextParams,\n  nextUrl,\n}) => {\n  return true;\n};\n```\n\n----------------------------------------\n\nTITLE: Using Await Component with Render Props in Remix\nDESCRIPTION: This snippet demonstrates how to use the Await component with render props pattern to directly access resolved values without using the useAsyncValue() hook. This provides an alternative syntax for handling resolved Promise values.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0004-streaming-apis.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n<Await resolve={data.lazy}>{(value) => <p>Resolved: {value}</p>}</Await>\n```\n\n----------------------------------------\n\nTITLE: Submitting HTMLFormElement with useSubmit\nDESCRIPTION: Illustrates how to submit an HTMLFormElement using the useSubmit hook in a form's onSubmit event handler.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<Form\n  onSubmit={(event) => {\n    submit(event.currentTarget);\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript Load Context Interface\nDESCRIPTION: Shows how to extend the AppLoadContext interface for custom properties via TypeScript module augmentation.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"@remix-run/server-runtime\" {\n  interface AppLoadContext {\n    // add custom properties here!\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic React State Management Example\nDESCRIPTION: Demonstrates a basic but suboptimal approach using React state for view toggling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport function List() {\n  const [view, setView] = React.useState(\"list\");\n  return (\n    <div>\n      <div>\n        <button onClick={() => setView(\"list\")}>\n          View as List\n        </button>\n        <button onClick={() => setView(\"details\")}>\n          View with Details\n        </button>\n      </div>\n      {view === \"list\" ? <ListView /> : <DetailView />}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Adding RSS Feed Link to Jokes Layout Route\nDESCRIPTION: This code adds an RSS feed link to the footer of the jokes layout route. It uses the 'reloadDocument' prop to trigger a full page load instead of a client-side transition when accessing the RSS feed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_73\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport type {\n  LinksFunction,\n  LoaderFunctionArgs,\n} from \"@remix-run/node\";\nimport { json } from \"@remix-run/node\";\nimport {\n  Link,\n  Outlet,\n  useLoaderData,\n} from \"@remix-run/react\";\n\nimport stylesUrl from \"~/styles/jokes.css\";\nimport { db } from \"~/utils/db.server\";\nimport { getUser } from \"~/utils/session.server\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  const jokeListItems = await db.joke.findMany({\n    orderBy: { createdAt: \"desc\" },\n    select: { id: true, name: true },\n    take: 5,\n  });\n  const user = await getUser(request);\n\n  return json({ jokeListItems, user });\n};\n\nexport default function JokesRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div className=\"jokes-layout\">\n      <header className=\"jokes-header\">\n        <div className=\"container\">\n          <h1 className=\"home-link\">\n            <Link\n              to=\"/\"\n              title=\"Remix Jokes\"\n              aria-label=\"Remix Jokes\"\n            >\n              <span className=\"logo\">🤪</span>\n              <span className=\"logo-medium\">J🤪KES</span>\n            </Link>\n          </h1>\n          {data.user ? (\n            <div className=\"user-info\">\n              <span>{`Hi ${data.user.username}`}</span>\n              <form action=\"/logout\" method=\"post\">\n                <button type=\"submit\" className=\"button\">\n                  Logout\n                </button>\n              </form>\n            </div>\n          ) : (\n            <Link to=\"/login\">Login</Link>\n          )}\n        </div>\n      </header>\n      <main className=\"jokes-main\">\n        <div className=\"container\">\n          <div className=\"jokes-list\">\n            <Link to=\".\">Get a random joke</Link>\n            <p>Here are a few more jokes to check out:</p>\n            <ul>\n              {data.jokeListItems.map(({ id, name }) => (\n                <li key={id}>\n                  <Link to={id}>{name}</Link>\n                </li>\n              ))}\n            </ul>\n            <Link to=\"new\" className=\"button\">\n              Add your own\n            </Link>\n          </div>\n          <div className=\"jokes-outlet\">\n            <Outlet />\n          </div>\n        </div>\n      </main>\n      <footer className=\"jokes-footer\">\n        <div className=\"container\">\n          <Link reloadDocument to=\"/jokes.rss\">\n            RSS\n          </Link>\n        </div>\n      </footer>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Sending Ready Message on Server Update\nDESCRIPTION: Function to reimport the server build and send a 'ready' message to the Remix compiler on server updates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nasync function handleServerUpdate() {\n  // 1. re-import the server build\n  build = await reimportServer();\n  // 2. tell Remix that this app server is now up-to-date and ready\n  broadcastDevReady(build);\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Routes Definition (JavaScript)\nDESCRIPTION: Example showing how to define custom routes in remix.config.js using the routes function. It demonstrates creating catchall routes and nested routes with custom handlers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nexports.routes = async (defineRoutes) => {\n  // If you need to do async work, do it before calling `defineRoutes`, we use\n  // the call stack of `route` inside to set nesting.\n\n  return defineRoutes((route) => {\n    // A common use for this is catchall routes.\n    // - The first argument is the React Router path to match against\n    // - The second is the relative filename of the route handler\n    route(\"/some/path/*\", \"catchall.tsx\");\n\n    // if you want to nest routes, use the optional callback argument\n    route(\"some/:path\", \"some/route/file.js\", () => {\n      // - path is relative to parent path\n      // - filenames are still relative to the app directory\n      route(\"relative/path\", \"some/other/file\");\n    });\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Using Frontmatter Data in MDX\nDESCRIPTION: Demonstrates how to reference frontmatter data in MDX using the 'attributes' variable.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n---\ncomponentData:\n  label: Hello, World!\n---\n\nimport SomeComponent from \"~/components/some-component\";\n\n# Hello MDX!\n\n<SomeComponent {...attributes.componentData} />\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Browser History Stack with Redirect After POST\nDESCRIPTION: This code snippet shows how the browser history stack looks when a redirect is issued after a POST request. This approach prevents form resubmission when navigating back.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/resubmissions.md#2025-04-18_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n```\nGET /buy > POST /checkout, Redirect > GET /order/123\n```\n```\n\n----------------------------------------\n\nTITLE: Implementing Dev Ready Broadcast in Server (JavaScript)\nDESCRIPTION: Adds code to the server.js file to broadcast a 'ready' message to the Remix compiler when the app is running, supporting the v2 dev process.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { broadcastDevReady } from \"@remix-run/node\";\n// import { logDevReady } from \"@remix-run/cloudflare\" // use `logDevReady` if using CloudFlare\n\nconst BUILD_DIR = path.join(process.cwd(), \"build\");\n\n// ... code setting up your server goes here ...\n\nconst port = 3000;\napp.listen(port, async () => {\n  console.log(`👉 http://localhost:${port}`);\n  broadcastDevReady(await import(BUILD_DIR));\n});\n```\n\n----------------------------------------\n\nTITLE: View Transition Link Example\nDESCRIPTION: Example of using Link with view transitions API integration\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_5\n\nLANGUAGE: jsx\nCODE:\n```\nfunction ImageLink(to) {\n  const isTransitioning = useViewTransitionState(to);\n  return (\n    <Link to={to} viewTransition>\n      <p\n        style={{\n          viewTransitionName: isTransitioning\n            ? \"image-title\"\n            : \"\",\n        }}\n      >\n        Image Number {idx}\n      </p>\n      <img\n        src={src}\n        alt={`Img ${idx}`}\n        style={{\n          viewTransitionName: isTransitioning\n            ? \"image-expand\"\n            : \"\",\n        }}\n      />\n    </Link>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Loader Type Inference with Single Fetch\nDESCRIPTION: Shows how type inference works with Single Fetch for basic loader data including Date objects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport function loader() {\n  return {\n    planet: \"world\",\n    date: new Date(),\n  };\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof loader>();\n  //    ^? { planet: string, date: Date }\n}\n```\n\n----------------------------------------\n\nTITLE: Form Method Navigation Example in TypeScript\nDESCRIPTION: Demonstrates setting form methods for navigation using Form component or submit function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigation.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// set from either one of these\n<Form method=\"get\" />;\nsubmit(formData, { method: \"get\" });\n```\n\n----------------------------------------\n\nTITLE: Express Server Implementation\nDESCRIPTION: Implementation of a custom Express server that handles Remix requests and serves static assets, with development mode support using Vite middleware.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport { createRequestHandler } from \"@remix-run/express\";\nimport express from \"express\";\n\nconst viteDevServer =\n  process.env.NODE_ENV === \"production\"\n    ? null\n    : await import(\"vite\").then((vite) =>\n        vite.createServer({\n          server: { middlewareMode: true },\n        })\n      );\n\nconst app = express();\napp.use(\n  viteDevServer\n    ? viteDevServer.middlewares\n    : express.static(\"build/client\")\n);\n\nconst build = viteDevServer\n  ? () =>\n      viteDevServer.ssrLoadModule(\n        \"virtual:remix/server-build\"\n      )\n  : await import(\"./build/server/index.js\");\n\napp.all(\"*\", createRequestHandler({ build }));\n\napp.listen(3000, () => {\n  console.log(\"App listening on http://localhost:3000\");\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring MDX in Remix Config\nDESCRIPTION: Shows how to configure custom remark and rehype plugins for MDX in the Remix configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst {\n  remarkMdxFrontmatter,\n} = require(\"remark-mdx-frontmatter\");\n\n// can be an sync / async function or an object\nexports.mdx = async (filename) => {\n  const [rehypeHighlight, remarkToc] = await Promise.all([\n    import(\"rehype-highlight\").then((mod) => mod.default),\n    import(\"remark-toc\").then((mod) => mod.default),\n  ]);\n\n  return {\n    remarkPlugins: [remarkToc],\n    rehypePlugins: [rehypeHighlight],\n  };\n};\n```\n\n----------------------------------------\n\nTITLE: More Readable Sequential Approach for Route Abstractions\nDESCRIPTION: A cleaner sequential approach for multiple route abstractions that avoids module side effects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\n// vs. this\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  removeTrailingSlash(request.url);\n  const session = await getSession(request);\n  const user = await requireUser(session);\n  return json(user);\n};\n```\n\n----------------------------------------\n\nTITLE: Adding Hydration Handle to Route in Remix\nDESCRIPTION: Adds a handle to a route module to indicate it should include JavaScript for hydration. This metadata will be used by the root component to determine whether Scripts should be rendered.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/disabling-javascript.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const handle = { hydrate: true };\n```\n\n----------------------------------------\n\nTITLE: Implementing a Remix Request Handler in Express\nDESCRIPTION: Pseudocode showing how Remix adapters convert between server-specific request/response objects and the Web Fetch API used by Remix internally.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/runtimes.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// import the app build created by `remix build`\nimport build from \"./build/index.js\";\n\n// an express http server\nconst app = express();\n\n// and here your Remix app is \"just a request handler\"\napp.all(\"*\", createRequestHandler({ build }));\n\n// This is pseudo code, but illustrates what adapters do:\nexport function createRequestHandler({ build }) {\n  // creates a Fetch API request handler from the server build\n  const handleRequest = createRemixRequestHandler(build);\n\n  // returns an express.js specific handler for the express server\n  return async (req, res) => {\n    // adapts the express.req to a Fetch API request\n    const request = createRemixRequest(req);\n\n    // calls the app handler and receives a Fetch API response\n    const response = await handleRequest(request);\n\n    // adapts the Fetch API response to the express.res\n    sendRemixResponse(res, response);\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing useMatches Hook Example in Remix TSX\nDESCRIPTION: Basic example showing how to use the useMatches hook in a React component to access current route matches.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-matches.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction SomeComponent() {\n  const matches = useMatches();\n\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Proposed Type Inference Approach for useLoaderData\nDESCRIPTION: Shows the proposed approach where useLoaderData infers its return type from the loader function using typeof operator, providing end-to-end type safety.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nexport const loader = async (args: LoaderArgs) => {\n  // ...\n  return json(/*...*/);\n};\n\nexport default function Route() {\n  const data = useLoaderData<typeof loader>();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Splat Route Parameters in Remix Loader\nDESCRIPTION: This code snippet demonstrates how to access the value of a matched path on a splat route's params using the '*' key in a Remix loader function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const filePath = params[\"*\"];\n  return fake.getFileInfo(filePath);\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Public Path Configuration (JavaScript)\nDESCRIPTION: Examples showing how to configure the publicPath option in remix.config.js. It demonstrates setting a custom asset path and using an absolute URL for serving assets from a separate domain.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  publicPath: \"/assets/\",\n};\n```\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  publicPath: \"https://static.example.com/assets/\",\n};\n```\n\n----------------------------------------\n\nTITLE: State Synchronization with URL Parameters\nDESCRIPTION: Shows an anti-pattern of manually synchronizing React state with URL parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  useNavigate,\n  useSearchParams,\n} from \"@remix-run/react\";\n\nexport function List() {\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const [view, setView] = React.useState(\n    searchParams.get(\"view\") || \"list\"\n  );\n\n  return (\n    <div>\n      <div>\n        <button\n          onClick={() => {\n            setView(\"list\");\n            navigate(`?view=list`);\n          }}\n        >\n          View as List\n        </button>\n        <button\n          onClick={() => {\n            setView(\"details\");\n            navigate(`?view=details`);\n          }}\n        >\n          View with Details\n        </button>\n      </div>\n      {view === \"list\" ? <ListView /> : <DetailView />}\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using unstable_flushSync with useSubmit in React\nDESCRIPTION: Example of using the new unstable_flushSync option with useSubmit to opt-out of React.startTransition and into ReactDOM.flushSync for state updates. This allows synchronous DOM updates for pending/optimistic UI.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_18\n\nLANGUAGE: javascript\nCODE:\n```\nfunction handleClick() {\n  submit(data, { flushSync: true });\n  // Everything is flushed to the DOM so you can focus/scroll to your pending/optimistic UI\n  setFocusAndOrScrollToNewlyAddedThing();\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Type-Safe Loader with Single Fetch\nDESCRIPTION: Example showing usage of defineLoader for improved type safety when using single fetch feature. The loader demonstrates type checking for request parameter and serializable return values.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport const loader = defineLoader(({ request }) => {\n  //                                ^? Request\n  return { a: 1, b: () => 2 };\n  //           ^ type error: `b` is not serializable\n});\n```\n\n----------------------------------------\n\nTITLE: Forwarding Loader Cache Headers to Route Headers in Remix\nDESCRIPTION: Shows how to pass cache headers from a loader to a route's header function. This pattern allows data-specific caching rules to control the overall page caching behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/cache-control.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport function headers({\n  loaderHeaders,\n}: {\n  loaderHeaders: Headers;\n}) {\n  return {\n    \"Cache-Control\": loaderHeaders.get(\"Cache-Control\"),\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Fixing Module Side Effects by Moving Code into Loader\nDESCRIPTION: Proper solution showing how to move side effects into the loader function to allow the compiler to prune server code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { prisma } from \"../db\";\nimport PostsView from \"../PostsView\";\n\nexport async function loader() {\n  console.log(prisma);\n  return json(await prisma.post.findMany());\n}\n\nexport function meta() {\n  return [{ title: \"Posts\" }];\n}\n\nexport default function Posts() {\n  const posts = useLoaderData<typeof loader>();\n  return <PostsView posts={posts} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Root Component Implementation\nDESCRIPTION: Defines the root component that serves as the main layout for the Remix application, including LiveReload for development.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { LiveReload } from \"@remix-run/react\";\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <title>Remix: So great, it's funny!</title>\n      </head>\n      <body>\n        Hello world\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Outlet Component to Root Layout\nDESCRIPTION: Code snippet showing how to add the Outlet component to the root layout for nested routing in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\n// existing imports & code\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      {/* other elements */}\n      <body>\n        <div id=\"sidebar\">{/* other elements */}</div>\n        <div id=\"detail\">\n          <Outlet />\n        </div>\n        {/* other elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Up Empty Route Configuration\nDESCRIPTION: Initial setup for the routes.ts file with an empty array of route configurations. This creates a valid but empty routing setup to verify the routes.ts file is being processed correctly.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_30\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { RouteConfig } from \"@remix-run/route-config\";\n\nexport default [] satisfies RouteConfig;\n```\n\n----------------------------------------\n\nTITLE: Handling Data Requests in Remix Server Entry\nDESCRIPTION: Implementation of handleDataRequest function to modify data request responses. Allows customization of response headers for loader and action data requests after client-side hydration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/entry.server.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport function handleDataRequest(\n  response: Response,\n  {\n    request,\n    params,\n    context,\n  }: LoaderFunctionArgs | ActionFunctionArgs\n) {\n  response.headers.set(\"X-Custom-Header\", \"value\");\n  return response;\n}\n```\n\n----------------------------------------\n\nTITLE: Form Data Access Example in TypeScript\nDESCRIPTION: Shows how to access form data during navigation using a signup form example.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigation.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// This form has the `email` field\n<Form method=\"post\" action=\"/signup\">\n  <input name=\"email\" />\n</Form>;\n\n// So a navigation will have the field's value in `navigation.formData`\n// while the navigation is pending.\nnavigation.formData.get(\"email\");\n```\n\n----------------------------------------\n\nTITLE: NavLink with className Callback\nDESCRIPTION: Shows how to use the className callback prop to dynamically set class names based on active and pending states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink\n  to=\"/messages\"\n  className={({ isActive, isPending }) =>\n    isPending ? \"pending\" : isActive ? \"active\" : \"\"\n  }\n>\n  Messages\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Using useAsyncValue with Await Component\nDESCRIPTION: Shows how to use useAsyncValue hook to access the resolved promise value in child components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/await.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n<Await resolve={somePromise}>\n  <SomeChild />\n</Await>\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useAsyncValue } from \"@remix-run/react\";\n\nfunction SomeChild() {\n  const value = useAsyncValue();\n  return <p>{value}</p>;\n}\n```\n\n----------------------------------------\n\nTITLE: Avoiding Destructuring for Better HMR Compatibility in TSX\nDESCRIPTION: Demonstrates how to avoid destructuring to maintain state preservation with React Fast Refresh. By using the direct object returned from hooks, the component can better handle property name changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json({ stuff: \"some things\" });\n};\n\nexport default function Component() {\n  const data = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <input />\n      <p>{data.stuff}</p>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Using useNavigationType Hook in Remix (TSX)\nDESCRIPTION: This snippet demonstrates how to import and use the useNavigationType hook in a React component within a Remix application. The hook returns the type of navigation used to arrive at the current location.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-navigation-type.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useNavigationType } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const navigationType = useNavigationType();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing shouldRevalidate with Default Fallback in TSX\nDESCRIPTION: Shows how to use the stabilized shouldRevalidate function to control when route loaders should re-run, with the ability to handle edge cases while falling back to default behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nfunction shouldRevalidate({ defaultShouldRevalidate }) {\n  // Don't revalidate for this case\n  if (someEdgeCase()) {\n    return false;\n  }\n\n  // Otherwise, do what we would have done by default\n  return defaultShouldRevalidate;\n}\n```\n\n----------------------------------------\n\nTITLE: Migrating from useTransition to useNavigation in Remix\nDESCRIPTION: Illustrates the change from useTransition to useNavigation hook and the restructuring of navigation state data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useTransition } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const transition = useTransition();\n  transition.submission.formData;\n  transition.submission.formMethod;\n  transition.submission.formAction;\n  transition.type;\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useNavigation } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  const navigation = useNavigation();\n\n  navigation.formData;\n  navigation.formMethod;\n  navigation.formAction;\n\n  navigation.type;\n}\n```\n\n----------------------------------------\n\nTITLE: Node.js Polyfill Configuration for Browser (JavaScript)\nDESCRIPTION: Configuration example for browserNodeBuiltinsPolyfill that shows how to include Node.js polyfills in the browser build. This uses JSPM to provide polyfills for specific modules and globals.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  browserNodeBuiltinsPolyfill: {\n    modules: {\n      buffer: true, // Provide a JSPM polyfill\n      fs: \"empty\", // Provide an empty polyfill\n    },\n    globals: {\n      Buffer: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Remix Configuration Updates\nDESCRIPTION: Shows various configuration changes in remix.config.js including renamed properties and new build settings.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  browserBuildDirectory: \"./public/build\",\n};\n```\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  assetsBuildDirectory: \"./public/build\",\n};\n```\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  browserNodeBuiltinsPolyfill: {\n    modules: {\n      buffer: true,\n      fs: \"empty\",\n    },\n    globals: {\n      Buffer: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: ScrollRestoration with Custom Key Function\nDESCRIPTION: Shows how to customize scroll position restoration behavior using the getKey prop, which determines how scroll positions are stored and restored.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<ScrollRestoration\n  getKey={(location, matches) => {\n    // default behavior\n    return location.key;\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Server Dependencies Bundling Configuration (JavaScript)\nDESCRIPTION: Example configuration for serverDependenciesToBundle that specifies which modules should be transpiled and included in the server bundle. This is useful for handling ESM-only packages in a CJS build.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  appDirectory: \"app\",\n  assetsBuildDirectory: \"public/build\",\n  publicPath: \"/build/\",\n  serverBuildPath: \"build/index.js\",\n  ignoredRouteFiles: [\"**/*.css\"],\n  serverDependenciesToBundle: [\n    /^rehype.*/,\n    /^remark.*/,\n    /^unified.*/,\n    \"@sindresorhus/slugify\",\n  ],\n};\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Production Server\nDESCRIPTION: Command to run the built Remix application in production mode.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-javascript/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Updating Vite Server Request Handler\nDESCRIPTION: Example showing how to update the request handler code when migrating from unstable_viteServerBuildModuleId to using the virtual module name directly.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_14\n\nLANGUAGE: JavaScript\nCODE:\n```\napp.all(\n  \"*\",\n  createRequestHandler({\n    build: vite\n      ? () => vite.ssrLoadModule(\"virtual:remix/server-build\")\n      : await import(\"./build/server/index.js\"),\n  })\n);\n```\n\n----------------------------------------\n\nTITLE: Basic Loader Definition Example\nDESCRIPTION: Example showing a simple loader definition without type safety checks, demonstrating that defineLoader is optional when type safety is not a concern.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// this totally works! and typechecking is happy too!\nexport const loader = () => {\n  return { a: 1 };\n};\n```\n\n----------------------------------------\n\nTITLE: Updating Route Meta Function for v2 (JavaScript)\nDESCRIPTION: Demonstrates how to update a route's meta function to use the v2 API with backward compatibility using the @remix-run/v1-meta package.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport { metaV1 } from \"@remix-run/v1-meta\";\n\nexport function meta(args) {\n  return metaV1(args, {\n    title: \"...\",\n    description: \"...\",\n    \"og:title\": \"...\",\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Importing CSS in a Button Component with CSS Bundling in Remix\nDESCRIPTION: A React component that imports its CSS file as a side effect in a bundling approach. The CSS is treated as an implementation detail of the component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_1\n\nLANGUAGE: jsx\nCODE:\n```\nimport \"./Button.css\";\n\nexport function Button(props) {\n  return <button {...props} className=\"Button__root\" />;\n}\n```\n\n----------------------------------------\n\nTITLE: Remix Client Entry Point\nDESCRIPTION: Client-side entry point for Remix applications that handles hydration of the server-rendered content.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { RemixBrowser } from \"@remix-run/react\";\nimport { startTransition, StrictMode } from \"react\";\nimport { hydrateRoot } from \"react-dom/client\";\n\nstartTransition(() => {\n  hydrateRoot(\n    document,\n    <StrictMode>\n      <RemixBrowser />\n    </StrictMode>\n  );\n});\n```\n\n----------------------------------------\n\nTITLE: Minimal Routes Configuration Setup\nDESCRIPTION: Basic routes.ts file setup to support Remix's built-in file system routing using the flatRoutes utility from @remix-run/fs-routes\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// app/routes.ts\nimport { flatRoutes } from \"@remix-run/fs-routes\";\nimport type { RouteConfig } from \"@remix-run/route-config\";\n\nexport const routes: RouteConfig = flatRoutes();\n```\n\n----------------------------------------\n\nTITLE: Conditionally Rendering Scripts in Remix Root Component\nDESCRIPTION: Modifies the root component to use useMatches() to determine if any active routes require JavaScript. The Scripts component is only rendered if at least one route has specified hydrate: true in its handle.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/disabling-javascript.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport {\n  Meta,\n  Links,\n  Scripts,\n  Outlet,\n  useMatches,\n} from \"@remix-run/react\";\n\nexport default function App() {\n  const matches = useMatches();\n\n  // If at least one route wants to hydrate, this will return true\n  const includeScripts = matches.some(\n    (match) => match.handle?.hydrate\n  );\n\n  // then use the flag to render scripts or not\n  return (\n    <html lang=\"en\">\n      <head>\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        <Outlet />\n        {/* include the scripts, or not! */}\n        {includeScripts ? <Scripts /> : null}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Combining Multiple Route Config Approaches\nDESCRIPTION: Example showing how to mix and match different route configuration approaches by combining them into a single array of routes, using both file system routes and manually defined routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_37\n\nLANGUAGE: typescript\nCODE:\n```\nimport { flatRoutes } from \"@remix-run/fs-routes\";\nimport type { RouteConfig } from \"@remix-run/route-config\";\nimport { route } from \"@remix-run/route-config\";\nimport { remixRoutesOptionAdapter } from \"@remix-run/routes-option-adapter\";\n\nexport default [\n  ...(await flatRoutes({ rootDirectory: \"fs-routes\" })),\n\n  ...(await remixRoutesOptionAdapter(/* ... */)),\n\n  route(\"/hello\", \"routes/hello.tsx\"),\n] satisfies RouteConfig;\n```\n\n----------------------------------------\n\nTITLE: Augmenting Server Data with Client Data using HydrateFallback in Remix\nDESCRIPTION: Example demonstrating how to combine server data with client-side user preferences using HydrateFallback, server loader, and clientLoader. Shows conditional rendering based on user preferences.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/hydrate-fallback.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  const data = getServerData();\n  return json(data);\n}\n\nexport async function clientLoader({\n  request,\n  params,\n  serverLoader,\n}: ClientLoaderFunctionArgs) {\n  const [serverData, preferences] = await Promise.all([\n    serverLoader(),\n    getUserPreferences(),\n  ]);\n  return {\n    ...serverData,\n    preferences,\n  };\n}\nclientLoader.hydrate = true;\n\nexport function HydrateFallback() {\n  return <p>Loading user preferences...</p>;\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof clientLoader>();\n  if (data.preferences.display === \"list\") {\n    return <ListView items={data.items} />;\n  } else {\n    return <GridView items={data.items} />;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining CSS Styles for a Button Component in Remix\nDESCRIPTION: A simple CSS file that defines styling for a Button component with a blue background and white text color. This shows how to create component-specific styles in a CSS bundling approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n.Button__root {\n  background: blue;\n  color: white;\n}\n```\n\n----------------------------------------\n\nTITLE: React State Sidebar Implementation\nDESCRIPTION: Shows a basic sidebar implementation using React state for temporary state storage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Sidebar({ children }) {\n  const [isOpen, setIsOpen] = React.useState(false);\n  return (\n    <div>\n      <button onClick={() => setIsOpen((open) => !open)}>\n        {isOpen ? \"Close\" : \"Open\"}\n      </button>\n      <aside hidden={!isOpen}>{children}</aside>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Single Fetch in Vite Config\nDESCRIPTION: Configuration example showing how to enable Single Fetch feature flag in Remix Vite config file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        // ...\n        v3_singleFetch: true,\n      },\n    }),\n    // ...\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Using Generic Types with useLoaderData and useActionData (Current Approach)\nDESCRIPTION: Example demonstrating the current approach in Remix v1.6.4 where developers must manually specify type parameters for useLoaderData and useActionData hooks, requiring redundant type definitions.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\ntype MyLoaderData = {\n  /* ... */\n};\ntype MyActionData = {\n  /* ... */\n};\n\nexport default function Route() {\n  const loaderData = useLoaderData<MyLoaderData>();\n  const actionData = useActionData<MyActionData>();\n  return <div>{/* ... */}</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Defining CSS Module Styles\nDESCRIPTION: This snippet demonstrates how to create a CSS Module file for styling a button component. It uses the .module.css extension to enable CSS Modules functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css-modules.md#2025-04-18_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n.root {\n  border: solid 1px;\n  background: white;\n  color: #454545;\n}\n```\n\n----------------------------------------\n\nTITLE: Retrieving User Session from Request\nDESCRIPTION: Helper function that extracts the session from a request's Cookie header using the configured storage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_48\n\nLANGUAGE: TypeScript\nCODE:\n```\nfunction getUserSession(request: Request) {\n  return storage.getSession(request.headers.get(\"Cookie\"));\n}\n```\n\n----------------------------------------\n\nTITLE: Migrating React Router Route to Remix Route (TypeScript)\nDESCRIPTION: Illustrates how to migrate a React Router route component to a Remix route file, exporting the component as the default.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function About() {\n  return (\n    <main>\n      <h1>About us</h1>\n      <PageContent />\n    </main>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Correct Server Environment Detection in Remix\nDESCRIPTION: A reliable approach to detect server vs browser environments by checking for document. This works across all JavaScript environments including Node.js, Deno, and Web Workers.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nif (typeof document === \"undefined\") {\n  // running in a server environment\n} else {\n  // running in a browser environment\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Remix Preset Type Structure\nDESCRIPTION: TypeScript type definition for Remix presets showing the required structure with name property and optional configuration methods.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/presets.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ntype Preset = {\n  name: string;\n\n  remixConfig?: (args: {\n    remixUserConfig: VitePluginConfig;\n  }) => RemixConfigPreset | Promise<RemixConfigPreset>;\n\n  remixConfigResolved?: (args: {\n    remixConfig: ResolvedVitePluginConfig;\n  }) => void | Promise<void>;\n};\n```\n\n----------------------------------------\n\nTITLE: Running Remix Dev Server in Manual Mode\nDESCRIPTION: Command to run Remix dev server in manual mode with a custom server command.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nremix dev --manual -c \"node ./server.js\"\n```\n\n----------------------------------------\n\nTITLE: Project Directory Structure\nDESCRIPTION: Shows the initial directory structure of a basic Remix application project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_2\n\nLANGUAGE: plaintext\nCODE:\n```\nremix-jokes\n├── README.md\n├── app\n│   ├── entry.client.tsx\n│   ├── entry.server.tsx\n│   ├── root.tsx\n│   └── routes\n│       └── _index.tsx\n├── package-lock.json\n├── package.json\n├── public\n│   └── favicon.ico\n├── remix.config.js\n├── remix.env.d.ts\n└── tsconfig.json\n```\n\n----------------------------------------\n\nTITLE: Reimporting Server Build in CommonJS\nDESCRIPTION: Function to bust the require cache and reimport the server build in a CommonJS environment.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst path = require(\"node:path\");\n\n/** @typedef {import('@remix-run/node').ServerBuild} ServerBuild */\n\nconst BUILD_PATH = path.resolve(\"./build/index.js\");\nconst VERSION_PATH = path.resolve(\"./build/version.txt\");\nconst initialBuild = reimportServer();\n\n/**\n * @returns {ServerBuild}\n */\nfunction reimportServer() {\n  // 1. manually remove the server build from the require cache\n  Object.keys(require.cache).forEach((key) => {\n    if (key.startsWith(BUILD_PATH)) {\n      delete require.cache[key];\n    }\n  });\n\n  // 2. re-import the server build\n  return require(BUILD_PATH);\n}\n```\n\n----------------------------------------\n\nTITLE: Remix Root Route Component\nDESCRIPTION: Root route component that defines the base HTML structure and outlets for the Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Outlet } from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n        <meta\n          name=\"viewport\"\n          content=\"width=device-width, initial-scale=1\"\n        />\n        <meta name=\"theme-color\" content=\"#000000\" />\n        <meta\n          name=\"description\"\n          content=\"My beautiful React app\"\n        />\n        <link rel=\"apple-touch-icon\" href=\"/logo192.png\" />\n        <link rel=\"manifest\" href=\"/manifest.json\" />\n        <title>My React App</title>\n      </head>\n      <body>\n        <div id=\"root\">\n          <Outlet />\n        </div>\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Meta Function Parent Data Access in Remix\nDESCRIPTION: Shows how to migrate from v1's parentsData to v2's getMatchesData approach for accessing parent route data in meta functions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nexport function meta(args) {\n  const parentData = args.parentsData[\"routes/parent\"];\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { getMatchesData } from \"@remix-run/v1-meta\";\n\nexport function meta(args) {\n  const matchesData = getMatchesData(args);\n  const parentData = matchesData[\"routes/parent\"];\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Global Polyfills in Node.js\nDESCRIPTION: Demonstrates how to install necessary browser API polyfills like fetch, Response, Request and Headers for Node.js testing environments using @remix-run/node. This setup is typically needed only in test environments as these globals are automatically installed in the actual Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/node.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { installGlobals } from \"@remix-run/node\";\n\n// This installs globals such as \"fetch\", \"Response\", \"Request\" and \"Headers\".\ninstallGlobals();\n```\n\n----------------------------------------\n\nTITLE: Setting up Simplified Cloudflare Workers Handler\nDESCRIPTION: Implementation of a basic Cloudflare Workers event handler using the simplified Remix adapter API.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/adapter.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createEventHandler } from \"@remix-run/cloudflare-workers\";\n\nimport * as build from \"../build\";\n\naddEventListener(\"fetch\", createEventHandler({ build }));\n```\n\n----------------------------------------\n\nTITLE: Accessing Build Manifest in Remix Vite Plugin\nDESCRIPTION: This snippet shows how to access the build manifest in the Remix Vite plugin's buildEnd hook. The build manifest contains information about server bundles, route mappings, and route metadata.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/server-bundles.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      // ...\n      buildEnd: async ({ buildManifest }) => {\n        // ...\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Adding Inline JavaScript with dangerouslySetInnerHTML in Remix\nDESCRIPTION: Demonstrates how to add small bits of interactivity without including the full Remix JavaScript bundle. This example shows a select element that redirects to a contact page when a specific option is selected.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/disabling-javascript.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nreturn (\n  <>\n    <select id=\"qty\">\n      <option>1</option>\n      <option>2</option>\n      <option value=\"contact\">\n        Contact Sales for more\n      </option>\n    </select>\n\n    <script\n      dangerouslySetInnerHTML={{\n        __html: `\n          document.addEventListener('DOMContentLoaded', () => {\n            document.getElementById('qty').onchange = (event) => {\n              if (event.target.value === \"contact\") {\n                window.location.assign(\"/contact\")\n              }\n            }\n          });\n        `,\n      }}\n    />\n  </>\n);\n```\n\n----------------------------------------\n\nTITLE: Converting Remix Magic Imports to Source Imports\nDESCRIPTION: Example showing how to update imports from the deprecated 'remix' package to use the source @remix-run/* packages directly. This change is required for Remix v2.0.0.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_17\n\nLANGUAGE: diff\nCODE:\n```\n- import type { ActionArgs } from \"remix\";\n- import { json, useLoaderData } from \"remix\";\n+ import type { ActionArgs } from \"@remix-run/node\";\n+ import { json } from \"@remix-run/node\";\n+ import { useLoaderData } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Configuring Port in Remix App Server\nDESCRIPTION: Example showing how to change the server port using the PORT environment variable.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/serve.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\nPORT=4000 npx remix-serve build/index.js\n```\n\n----------------------------------------\n\nTITLE: Enhancing Search Box with Pending UI in Remix\nDESCRIPTION: This snippet builds upon the previous search box example, adding a pending UI state using Remix's useNavigation hook. It shows how to progressively enhance the user experience without changing the core functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/progressive-enhancement.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useNavigation } from \"@remix-run/react\";\n\nexport function SearchBox() {\n  const navigation = useNavigation();\n  const isSearching =\n    navigation.location.pathname === \"/search\";\n\n  return (\n    <Form method=\"get\" action=\"/search\">\n      <input type=\"search\" name=\"query\" />\n      {isSearching ? <Spinner /> : <SearchIcon />}\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Importing NPM Package in Deno Project\nDESCRIPTION: Example of importing an NPM package (react) in a Deno-based Remix project. This shows how to use NPM packages after installation.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport { useState } from \"react\";\n```\n\n----------------------------------------\n\nTITLE: Styling Pending NavLinks with CSS\nDESCRIPTION: Shows how to use CSS to style NavLinks when they have the automatically applied 'pending' class during navigation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to=\"/messages\" />\n```\n\nLANGUAGE: css\nCODE:\n```\na.pending {\n  color: red;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Error Handler in Remix Entry Server\nDESCRIPTION: Demonstrates how to implement a custom server-side error handler in entry.server.tsx that processes loader, action, or render errors on the Remix server.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nexport function handleError(\n  error: unknown,\n  { request, params, context }: DataFunctionArgs\n): void {\n  if (error instanceof Error) {\n    sendErrorToBugReportingService(error);\n    console.error(formatError(error));\n  } else {\n    const unknownError = new Error(\"Unknown Server Error\");\n    sendErrorToBugReportingService(unknownError);\n    console.error(unknownError);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Traditional React Form Implementation\nDESCRIPTION: Example of a traditional React signup form implementation with client-side validation and state management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nexport function Signup() {\n  // A multitude of React State declarations\n  const [isSubmitting, setIsSubmitting] =\n    React.useState(false);\n\n  const [userName, setUserName] = React.useState(\"\");\n  const [userNameError, setUserNameError] =\n    React.useState(null);\n\n  const [password, setPassword] = React.useState(null);\n  const [passwordError, setPasswordError] =\n    React.useState(\"\");\n\n  // Replicating server-side logic in the client\n  function validateForm() {\n    setUserNameError(null);\n    setPasswordError(null);\n    const errors = validateSignupForm(userName, password);\n    if (errors) {\n      if (errors.userName) {\n        setUserNameError(errors.userName);\n      }\n      if (errors.password) {\n        setPasswordError(errors.password);\n      }\n    }\n    return Boolean(errors);\n  }\n\n  // Manual network interaction handling\n  async function handleSubmit() {\n    if (validateForm()) {\n      setSubmitting(true);\n      const res = await postJSON(\"/api/signup\", {\n        userName,\n        password,\n      });\n      const json = await res.json();\n      setIsSubmitting(false);\n\n      // Server state synchronization to the client\n      if (json.errors) {\n        if (json.errors.userName) {\n          setUserNameError(json.errors.userName);\n        }\n        if (json.errors.password) {\n          setPasswordError(json.errors.password);\n        }\n      }\n    }\n  }\n\n  return (\n    <form\n      onSubmit={(event) => {\n        event.preventDefault();\n        handleSubmit();\n      }}\n    >\n      <p>\n        <input\n          type=\"text\"\n          name=\"username\"\n          value={userName}\n          onChange={() => {\n            // Synchronizing form state for the fetch\n            setUserName(event.target.value);\n          }}\n        />\n        {userNameError ? <i>{userNameError}</i> : null}\n      </p>\n\n      <p>\n        <input\n          type=\"password\"\n          name=\"password\"\n          onChange={(event) => {\n            // Synchronizing form state for the fetch\n            setPassword(event.target.value);\n          }}\n        />\n        {passwordError ? <i>{passwordError}</i> : null}\n      </p>\n\n      <button disabled={isSubmitting} type=\"submit\">\n        Sign Up\n      </button>\n\n      {isSubmitting ? <BusyIndicator /> : null}\n    </form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Built-in PostCSS/Tailwind Support in Remix v2\nDESCRIPTION: Configuration example for disabling the built-in PostCSS and Tailwind support in Remix v2 if you have a custom setup outside of Remix that you'd like to maintain.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  postcss: false,\n  tailwind: false,\n};\n```\n\n----------------------------------------\n\nTITLE: Recommended Route File Structure\nDESCRIPTION: Example of how to structure route files during migration, showing the need to export both a named Component export for React Router and a default export for future Remix use.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nexport function Component() {\n  // Your route component logic\n}\n\nexport default Component;\n```\n\n----------------------------------------\n\nTITLE: Nested Route Structure in Remix (Text)\nDESCRIPTION: This snippet shows the file structure for nested routes in a Remix application, demonstrating how error boundaries can be implemented at different levels of the route hierarchy.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/errors.md#2025-04-18_snippet_1\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── routes/\n│   ├── sales.tsx\n│   ├── sales.invoices.tsx\n│   └── sales.invoices.$invoiceId.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Enabling future flags in Vite config\nDESCRIPTION: Example of enabling future flags in the Remix Vite plugin configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    unstable_routeConfig: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Development with Classic Compiler\nDESCRIPTION: Demonstrates the command to run a Remix app in development mode using the Classic Remix Compiler.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_4\n\nLANGUAGE: shellscript\nCODE:\n```\nremix dev\n```\n\n----------------------------------------\n\nTITLE: Basic Path Link Usage\nDESCRIPTION: Simple example of using Link component with a direct path string\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<Link to=\"/some/path\" />\n```\n\n----------------------------------------\n\nTITLE: Simplifying Route Match Access in Remix Meta Functions\nDESCRIPTION: Changes to accessing route match data in meta functions by removing the route property nesting and accessing match properties directly.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-deno/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n// before\nexport function meta({ matches }) {\n  let rootModule = matches.find((match) => match.route.id === \"root\");\n}\n// after\nexport function meta({ matches }) {\n  let rootModule = matches.find((match) => match.id === \"root\");\n}\n```\n\n----------------------------------------\n\nTITLE: Using replace Function with Status Codes in TypeScript\nDESCRIPTION: Demonstrates how to use the 'replace' function with different HTTP status codes for redirects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/replace.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nreplace(path, 301);\nreplace(path, 303);\n```\n\n----------------------------------------\n\nTITLE: Configuring Remix (JavaScript)\nDESCRIPTION: Shows how to set up a basic Remix configuration file with common options for the app directory, ignored route files, and assets build directory.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_10\n\nLANGUAGE: js\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  appDirectory: \"app\",\n  ignoredRouteFiles: [\"**/*.css\"],\n  assetsBuildDirectory: \"public/build\",\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Remix Dev Options in remix.config.js\nDESCRIPTION: Shows an example of how to configure Remix dev options in the remix.config.js file, including manual mode and TLS settings.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  dev: {\n    // ...any other options you want to set go here...\n    manual: true,\n    tlsKey: \"./key.pem\",\n    tlsCert: \"./cert.pem\",\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Jokes Parent Route Component\nDESCRIPTION: Implements the parent route component for the jokes section with nested routing support.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Outlet } from \"@remix-run/react\";\n\nexport default function JokesRoute() {\n  return (\n    <div>\n      <h1>J🤪KES</h1>\n      <main>\n        <Outlet />\n      </main>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Basic Request Handler with Remix Adapter\nDESCRIPTION: Basic example of creating a request handler using a Remix adapter with build and context configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/adapter.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nconst {\n  createRequestHandler,\n} = require(\"@remix-run/{adapter}\");\ncreateRequestHandler({ build, getLoadContext });\n```\n\n----------------------------------------\n\nTITLE: Updating Headers Implementation for Single Fetch\nDESCRIPTION: Example showing how to modify headers implementation when migrating to Single Fetch, replacing json with data function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_1\n\nLANGUAGE: diff\nCODE:\n```\n-import { json } from \"@remix-run/node\";\n+import { data } from \"@remix-run/node\";\n\n// This example assumes you already have a headers function to handle header\n// merging for your document requests\nexport function headers() {\n  // ...\n}\n\nexport async function loader({}: LoaderFunctionArgs) {\n  let tasks = await fetchTasks();\n-  return json(tasks, {\n+  return data(tasks, {\n    headers: {\n      \"Cache-Control\": \"public, max-age=604800\"\n    }\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: HTML Link Equivalent to Search Form\nDESCRIPTION: Shows the HTML anchor tag equivalent to a search form submission, demonstrating how forms allow users to supply the search parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"/search?term=remix\">Search for \"remix\"</a>\n```\n\n----------------------------------------\n\nTITLE: Creating Development Request Handler for Manual Mode\nDESCRIPTION: Function to create a development request handler that manages server updates and request handling in manual mode.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n/**\n * @param {ServerBuild} initialBuild\n */\nfunction createDevRequestHandler(initialBuild) {\n  let build = initialBuild;\n  async function handleServerUpdate() {\n    // 1. re-import the server build\n    build = await reimportServer();\n    // 2. tell Remix that this app server is now up-to-date and ready\n    broadcastDevReady(build);\n  }\n\n  chokidar\n    .watch(VERSION_PATH, { ignoreInitial: true })\n    .on(\"add\", handleServerUpdate)\n    .on(\"change\", handleServerUpdate);\n\n  // wrap request handler to make sure its recreated with the latest build for every request\n  return async (req, res, next) => {\n    try {\n      return createRequestHandler({\n        build,\n        mode: \"development\",\n      })(req, res, next);\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring SPA Mode in Vite for Remix\nDESCRIPTION: This snippet shows how to configure SPA Mode in a Remix project using Vite. It sets the 'unstable_ssr' option to false in the Remix Vite plugin configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n// vite.config.ts\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix({ unstable_ssr: false })],\n});\n```\n\n----------------------------------------\n\nTITLE: Styling Active NavLinks with CSS\nDESCRIPTION: Demonstrates how to use CSS to style NavLinks when they have the automatically applied 'active' class.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to=\"/messages\" />\n```\n\nLANGUAGE: css\nCODE:\n```\na.active {\n  color: red;\n}\n```\n\n----------------------------------------\n\nTITLE: Enhanced Loader Type Inference\nDESCRIPTION: Demonstrates the improved type signatures for loaders using LoaderArgs type for better type inference.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\n- import type { LoaderFunction } from \"@remix-run/[runtime]\";\n+ import type { LoaderArgs } from \"@remix-run/[runtime]\";\n\n- export const loader: LoaderFunction = async (args) => {\n-   return json<LoaderData>(data);\n- }\n+ export async function loader(args: LoaderArgs) {\n+   return json(data);\n+ }\n```\n\n----------------------------------------\n\nTITLE: Incorrect Server Module Import in Remix Routes\nDESCRIPTION: This example shows a problematic direct import of a server-only module (fs-extra) in a route file. This causes errors because server code gets included in client bundles.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\nimport fs from \"fs-extra\";\n\nexport async function loader() {\n  return json(await fs.pathExists(\"../some/path\"));\n}\n\nexport default function SomeRoute() {\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Directory Structure for Conventional Routes\nDESCRIPTION: Example directory structure showing the conventional app/routes folder organization in a Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/routes.md#2025-04-18_snippet_0\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── routes/\n│   ├── _index.tsx\n│   ├── about.tsx\n│   ├── concerts._index.tsx\n│   ├── concerts.$city.tsx\n│   ├── concerts.trending.tsx\n│   └── concerts.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: ScrollRestoration with Conditional Key Logic\nDESCRIPTION: Demonstrates implementing conditional logic for scroll restoration keys, using pathname for specific routes and location key for others.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/scroll-restoration.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n<ScrollRestoration\n  getKey={(location, matches) => {\n    const paths = [\"/home\", \"/notifications\"];\n    return paths.includes(location.pathname)\n      ? // home and notifications restore by pathname\n        location.pathname\n      : // everything else by location like the browser\n        location.key;\n  }}\n/>\n```\n\n----------------------------------------\n\nTITLE: Correct Import from Remix for React Router Hooks\nDESCRIPTION: Example showing the correct way to import React Router hooks in a Remix application, using @remix-run/react instead of react-router-dom directly.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/react-router.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLocation } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Defining Headers Function with HeadersArgs Type in TypeScript\nDESCRIPTION: Demonstrates how to use the new HeadersArgs type to define a headers function that can access loader headers. This allows using a function declaration in addition to an arrow function expression.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-serve/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { HeadersArgs } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport function headers({ loaderHeaders }: HeadersArgs) {\n  return {\n    \"x-my-custom-thing\": loaderHeaders.get(\"x-my-custom-thing\") || \"fallback\",\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Running HTTP Server for SPA Mode\nDESCRIPTION: Command to serve the client assets directory using an HTTP server after building a Remix app in SPA Mode. This is part of the new unstable SPA Mode support added in version 2.5.0.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_5\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx http-server build/client\n```\n\n----------------------------------------\n\nTITLE: Configuring Server Bundles in Remix Vite Plugin\nDESCRIPTION: Demonstrates how to use the unstable_serverBundles option in the Remix Vite plugin to split server code into multiple request handlers based on route conditions.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      unstable_serverBundles: ({ branch }) => {\n        const isAuthenticatedRoute = branch.some(\n          (route) => route.id === \"routes/_authenticated\"\n        );\n\n        return isAuthenticatedRoute ? \"authenticated\" : \"unauthenticated\";\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Creating Routes from JSX Elements in TSX\nDESCRIPTION: Demonstration of using createRoutesFromElements function to create routes from JSX notation, which is then used to initialize the router. This allows for a familiar JSX-style route definition while still using the new RouterProvider approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nconst routes = createRoutesFromElements(\n  <Route path=\"/\" element={<Layout />}>\n    <Route index element={<Home />} />\n  </Route>\n);\nconst router = createBrowserRouter(routes);\n\nfunction App() {\n  return <RouterProvider router={router} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating JSON Response with Custom Status and Headers in TSX\nDESCRIPTION: This snippet shows how to use the `json` function from Remix to create a JSON response with a custom status code and additional headers. It demonstrates setting a 418 status code and a Cache-Control header.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/json.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json(\n    { not: \"coffee\" },\n    {\n      status: 418,\n      headers: {\n        \"Cache-Control\": \"no-store\",\n      },\n    }\n  );\n};\n```\n\n----------------------------------------\n\nTITLE: Using redirectDocument with Status Codes in TypeScript\nDESCRIPTION: This snippet shows how to use redirectDocument with specific HTTP status codes for the redirect.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/redirectDocument.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nredirectDocument(path, 301);\nredirectDocument(path, 303);\n```\n\n----------------------------------------\n\nTITLE: Index Route Component\nDESCRIPTION: Implements the index route component that displays content at the root URL path.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function IndexRoute() {\n  return <div>Hello Index Route</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Runs the Remix development asset server and Express server in development mode. This purges the server require cache when Remix rebuilds assets, eliminating the need for a process manager to restart the Express server.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/express/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Updating Route Structure for Splat Routes\nDESCRIPTION: Diff showing the changes needed to split a splat route into a layout and child route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_18\n\nLANGUAGE: diff\nCODE:\n```\n\nroutes(defineRoutes) {\n  return defineRoutes((route) => {\n    route(\"/\", \"home/route.tsx\", { index: true });\n-    route(\"dashboard/*\", \"dashboard/route.tsx\")\n+    route(\"dashboard\", \"dashboard/layout.tsx\", () => {\n+      route(\"*\", \"dashboard/route.tsx\");\n    });\n  });\n},\n```\n\n----------------------------------------\n\nTITLE: Generating TLS Key and Certificate\nDESCRIPTION: Command to create a TLS key and certificate for localhost using mkcert.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nmkcert -key-file key.pem -cert-file cert.pem localhost\n```\n\n----------------------------------------\n\nTITLE: Configuring Node.js Polyfills in Remix Config\nDESCRIPTION: Example of configuring global and module polyfills using the serverNodeBuiltinsPolyfill option in remix.config.js. This shows how to polyfill Node's Buffer global along with the buffer module.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  serverNodeBuiltinsPolyfill: {\n    globals: {\n      Buffer: true,\n    },\n    // You'll probably need to polyfill the \"buffer\" module\n    // too since the global polyfill imports this:\n    modules: {\n      buffer: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Initializing New Remix Project using CLI\nDESCRIPTION: Command to create a new Remix project using the official create-remix package. This will launch an interactive setup process where you can configure your project options.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Styling Transitioning NavLinks with CSS\nDESCRIPTION: Demonstrates how to use CSS to style NavLinks with the 'transitioning' class when using view transitions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/nav-link.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n<NavLink to=\"/messages\" viewTransition />\n```\n\nLANGUAGE: css\nCODE:\n```\na.transitioning {\n  view-transition-name: my-transition;\n}\n```\n\n----------------------------------------\n\nTITLE: Loading Random Joke in Remix Route\nDESCRIPTION: Implements a loader for the /jokes index route, fetching a random joke from the database. This snippet shows how to get a random record using Prisma and render it in the component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_32\n\nLANGUAGE: tsx\nCODE:\n```\nimport { json } from \"@remix-run/node\";\nimport { Link, useLoaderData } from \"@remix-run/react\";\n\nimport { db } from \"~/utils/db.server\";\n\nexport const loader = async () => {\n  const count = await db.joke.count();\n  const randomRowNumber = Math.floor(Math.random() * count);\n  const [randomJoke] = await db.joke.findMany({\n    skip: randomRowNumber,\n    take: 1,\n  });\n  return json({ randomJoke });\n};\n\nexport default function JokesIndexRoute() {\n  const data = useLoaderData<typeof loader>();\n\n  return (\n    <div>\n      <p>Here's a random joke:</p>\n      <p>{data.randomJoke.content}</p>\n      <Link to={data.randomJoke.id}>\n        \"data.randomJoke.name\" Permalink\n      </Link>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Advanced MDX Route with Loader and Styles\nDESCRIPTION: Demonstrates an advanced MDX route with frontmatter, custom components, loader, and styles.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n---\nmeta:\n  - title: My First Post\n  - name: description\n    content: Isn't this awesome?\n\nheaders:\n  Cache-Control: no-cache\n\nhandle:\n  someData: abc\n---\n\nimport styles from \"./first-post.css\";\n\nexport const links = () => [\n  { rel: \"stylesheet\", href: styles },\n];\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport const loader = async () => {\n  return json({ mamboNumber: 5 });\n};\n\nexport function ComponentUsingData() {\n  const { mamboNumber } = useLoaderData<typeof loader>();\n  return <div id=\"loader\">Mambo Number: {mamboNumber}</div>;\n}\n\n# This is some markdown!\n\n<ComponentUsingData />\n```\n\n----------------------------------------\n\nTITLE: Configuring SPA Mode in Remix Vite Plugin\nDESCRIPTION: Demonstrates how to enable SPA Mode in a Remix app using the Vite plugin configuration. SPA Mode allows for client-side only rendering without server-side rendering.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n// vite.config.ts\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix({ unstable_ssr: false })],\n});\n```\n\n----------------------------------------\n\nTITLE: Navigation State Type Definition in TypeScript\nDESCRIPTION: Type definition showing the restructured navigation state object that replaces the previous transition state, removing the type field and flattening the submission object.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n{\n  state: \"idle\" | \"loading\" | \"submitting\";\n  location: Location;\n  formMethod?: FormMethod;\n  formAction?: string;\n  formEncType?: FormEncType;\n  formData?: FormData;\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Entry Server Stream Timeout in Remix\nDESCRIPTION: Configuration example for entry.server.tsx showing how to set up stream timeout and React renderer abort timing. Demonstrates setting a 5 second timeout for pending promises and a 10 second timeout for the React renderer.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\n// Reject all pending promises from handler functions after 5 seconds\nexport const streamTimeout = 5000;\n\n// ...\n\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onShellReady() {\n          /* ... */\n        },\n        onShellError(error: unknown) {\n          /* ... */\n        },\n        onError(error: unknown) {\n          /* ... */\n        },\n      }\n    );\n\n    // Automatically timeout the react renderer after 10 seconds\n    setTimeout(abort, 10000);\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Enabling Breaking Changes with Future Flags in Remix Vite Config\nDESCRIPTION: This code snippet illustrates how to enable breaking changes for future versions in Remix using the Vite plugin configuration. It demonstrates the use of the 'v3_' prefix for future flags to adopt changes incrementally.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/api-development-strategy.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        v3_someFeature: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Defining CSS with SVG Background in Remix\nDESCRIPTION: This CSS snippet defines a background image for elements with the 'data-copy-to-clipboard' attribute, using an SVG icon.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_5\n\nLANGUAGE: css\nCODE:\n```\n[data-copy-to-clipboard] {\n  background: url(\"/icons/clipboard.svg\");\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Deno Deploy CLI\nDESCRIPTION: Command to install the Deno Deploy CLI (deployctl). This tool is used for deploying the app to Deno Deploy.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_9\n\nLANGUAGE: sh\nCODE:\n```\ndeno install --allow-read --allow-write --allow-env --allow-net --allow-run --no-check -r -f https://deno.land/x/deploy/deployctl.ts\n```\n\n----------------------------------------\n\nTITLE: Defining routes in routes.ts\nDESCRIPTION: Example of defining routes using the new routes.ts configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// app/routes.ts\nimport { flatRoutes } from \"@remix-run/fs-routes\";\nimport type { RouteConfig } from \"@remix-run/route-config\";\n\nexport const routes: RouteConfig = flatRoutes();\n```\n\n----------------------------------------\n\nTITLE: Installing source-map-support in Custom App Server for Remix v2\nDESCRIPTION: Example of how to install and configure source-map-support in a custom app server for Remix v2, which is now required for source map support.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_16\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm i source-map-support\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport sourceMapSupport from \"source-map-support\";\n\nsourceMapSupport.install();\n```\n\n----------------------------------------\n\nTITLE: Remix Server Entry Point\nDESCRIPTION: Server-side entry point for Remix applications handling both bot and browser requests with stream rendering.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { PassThrough } from \"node:stream\";\n\nimport type {\n  AppLoadContext,\n  EntryContext,\n} from \"@remix-run/node\";\nimport { createReadableStreamFromReadable } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { isbot } from \"isbot\";\nimport { renderToPipeableStream } from \"react-dom/server\";\n\nconst ABORT_DELAY = 5_000;\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  loadContext: AppLoadContext\n) {\n  return isbot(request.headers.get(\"user-agent\") || \"\")\n    ? handleBotRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      )\n    : handleBrowserRequest(\n        request,\n        responseStatusCode,\n        responseHeaders,\n        remixContext\n      );\n}\n\nfunction handleBotRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onAllReady() {\n          const body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(\n              createReadableStreamFromReadable(body),\n              {\n                headers: responseHeaders,\n                status: responseStatusCode,\n              }\n            )\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          responseStatusCode = 500;\n          console.error(error);\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n\nfunction handleBrowserRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  return new Promise((resolve, reject) => {\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n        abortDelay={ABORT_DELAY}\n      />,\n      {\n        onShellReady() {\n          const body = new PassThrough();\n\n          responseHeaders.set(\"Content-Type\", \"text/html\");\n\n          resolve(\n            new Response(\n              createReadableStreamFromReadable(body),\n              {\n                headers: responseHeaders,\n                status: responseStatusCode,\n              }\n            )\n          );\n\n          pipe(body);\n        },\n        onShellError(error: unknown) {\n          reject(error);\n        },\n        onError(error: unknown) {\n          console.error(error);\n          responseStatusCode = 500;\n        },\n      }\n    );\n\n    setTimeout(abort, ABORT_DELAY);\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Incorrect Import from React Router DOM in Remix\nDESCRIPTION: Example showing the incorrect way to import React Router hooks in a Remix application. Instead of importing directly from react-router-dom, use @remix-run/react.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/react-router.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLocation } from \"react-router-dom\";\n```\n\n----------------------------------------\n\nTITLE: Migrating Vite Custom Server Integration\nDESCRIPTION: Shows changes required to migrate custom server integration from using Remix's Vite wrapper APIs to using Vite's native APIs directly. This change improves direct interaction with Vite's functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_16\n\nLANGUAGE: TypeScript\nCODE:\n```\nconst vite =\n  process.env.NODE_ENV === \"production\"\n    ? undefined\n    : await import(\"vite\").then(({ createServer }) =>\n        createServer({\n          server: {\n            middlewareMode: true,\n          },\n        })\n      );\n```\n\nLANGUAGE: TypeScript\nCODE:\n```\napp.all(\n  \"*\",\n  createRequestHandler({\n    build: vite\n      ? () => vite.ssrLoadModule(unstable_viteServerBuildModuleId)\n      : await import(\"./build/server/index.js\"),\n  })\n);\n```\n\n----------------------------------------\n\nTITLE: Configuring Remix Options in Vite\nDESCRIPTION: Example of passing Remix-specific options to the Vite plugin.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      ignoredRouteFiles: [\"**/*.css\"],\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Up Tailwind Base CSS\nDESCRIPTION: Basic CSS file with Tailwind directives for importing base styles, components, and utilities\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/tailwind.md#2025-04-18_snippet_3\n\nLANGUAGE: css\nCODE:\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n----------------------------------------\n\nTITLE: Client Entry Point for SPA\nDESCRIPTION: Client entry point configuration for div-based hydration in SPA mode\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { RemixBrowser } from \"@remix-run/react\";\nimport { startTransition, StrictMode } from \"react\";\nimport { hydrateRoot } from \"react-dom/client\";\n\nstartTransition(() => {\n  hydrateRoot(\n    document.querySelector(\"#app\"),\n    <StrictMode>\n      <RemixBrowser />\n    </StrictMode>\n  );\n});\n```\n\n----------------------------------------\n\nTITLE: Common but Problematic Form Event Handler\nDESCRIPTION: An example of a common but problematic approach to form handling in React that prevents the default form submission behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<form onSubmit={(event) => { event.preventDefault(); // good\nluck! }} />\n```\n\n----------------------------------------\n\nTITLE: Vite Config with Single Fetch\nDESCRIPTION: Vite configuration example showing how to enable the single-fetch feature\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_singleFetch: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Meta Function Parent Data Access Changes in TypeScript\nDESCRIPTION: Demonstrates changes to accessing parent route data in meta functions when using future.v2_meta flag. Shows transition from using parentsData to accessing data through matches.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_16\n\nLANGUAGE: tsx\nCODE:\n```\n// before\nexport function meta({ parentsData }) {\n  return [{ title: parentsData[\"routes/some-route\"].title }];\n}\n// after\nexport function meta({ matches }) {\n  return [\n    {\n      title: matches.find((match) => match.id === \"routes/some-route\")\n        .data.title,\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Demonstrating TypeScript Generic Syntax in .tsx Files\nDESCRIPTION: Example showing how type generics require a comma in .tsx files to disambiguate from JSX elements, highlighting the difference in syntax requirements between file types.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\n// this doesn't work in .tsx files\nconst id = <T>(x: T) => x;\n//          ^ is this a JSX element? or a single-argument type generic?\n```\n\n----------------------------------------\n\nTITLE: Updating Prisma Schema for User Authentication\nDESCRIPTION: This snippet shows the updated Prisma schema file that includes a User model with authentication-related fields and establishes a relationship between User and Joke models.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_37\n\nLANGUAGE: prisma\nCODE:\n```\n// This is your Prisma schema file,\n// learn more about it in the docs: https://pris.ly/d/prisma-schema\n\ngenerator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"sqlite\"\n  url      = env(\"DATABASE_URL\")\n}\n\nmodel User {\n  id           String   @id @default(uuid())\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n  username     String   @unique\n  passwordHash String\n  jokes        Joke[]\n}\n\nmodel Joke {\n  id         String   @id @default(uuid())\n  jokesterId String\n  jokester   User     @relation(fields: [jokesterId], references: [id], onDelete: Cascade)\n  createdAt  DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n  name       String\n  content    String\n}\n```\n\n----------------------------------------\n\nTITLE: Comparing Route Loading Behavior in Remix\nDESCRIPTION: This code snippet illustrates the difference in route loading behavior between the current architecture and the new Fog of War architecture in Remix. It shows how the Fog of War approach can introduce a waterfall effect in route loading.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/lazy-route-discovery.md#2025-04-18_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nclick /a\n        |-- load route module -->\n        |-- load route data -->\n                                 | render /a\n\nclick /a\n        |-- discover route -->\n                              |-- load route module -->\n                              |-- load route data -->\n                                                       | render /a\n```\n\n----------------------------------------\n\nTITLE: Customizing Scroll Restoration Keys in TypeScript\nDESCRIPTION: Demonstrates how to use the new getKey prop for ScrollRestoration to customize scroll position retention based on different routes or navigation patterns.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nfunction getKey(location: Location, matches: DataRouteMatch[]) {\n  // Restore by pathname on /tweets\n  if (location.pathname === \"/tweets\") {\n    return location.pathname;\n  }\n  // Otherwise use the key\n  return location.key;\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Vanilla Extract Styles in TypeScript\nDESCRIPTION: Example of creating CSS styles using Vanilla Extract in a .css.ts file. Demonstrates creating a styled button with basic properties using the style function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/vanilla-extract.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { style } from \"@vanilla-extract/css\";\n\nexport const root = style({\n  border: \"solid 1px\",\n  background: \"white\",\n  color: \"#454545\",\n});\n```\n\n----------------------------------------\n\nTITLE: Nested Higher Order Functions vs. Sequential Approach\nDESCRIPTION: Comparison between nested higher order functions and a more readable sequential approach for multiple route abstractions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\n// this\nexport const loader = async ({\n  request,\n}: LoaderFunctionArgs) => {\n  return removeTrailingSlash(request.url, () => {\n    return withSession(request, (session) => {\n      return requireUser(session, (user) => {\n        return json(user);\n      });\n    });\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Installing bcryptjs for Password Hashing\nDESCRIPTION: This snippet shows the command to install bcryptjs, a library used for password hashing in the authentication implementation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_39\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install bcryptjs\n```\n\n----------------------------------------\n\nTITLE: Meta Function with Error Handling\nDESCRIPTION: Example of using the new meta() function with error parameter for rendering error-specific metadata.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_6\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport function meta({ error }) {\n  return [{ title: error.message }];\n}\n```\n\n----------------------------------------\n\nTITLE: Remix Adapter Implementation Pattern in TypeScript\nDESCRIPTION: This pseudocode illustrates how Remix adapters work by converting server-specific request/response APIs to the Fetch API. It shows the pattern of creating a request handler that adapts incoming requests, processes them with Remix, and converts the response.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/introduction.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport function createRequestHandler({ build }) {\n  // creates a Fetch API request handler from the server build\n  const handleRequest = createRemixRequestHandler(build);\n\n  // returns an express.js specific handler for the express server\n  return async (req, res) => {\n    // adapts the express.req to a Fetch API request\n    const request = createRemixRequest(req);\n\n    // calls the app handler and receives a Fetch API response\n    const response = await handleRequest(request);\n\n    // adapts the Fetch API response to the express.res\n    sendRemixResponse(res, response);\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Changing Object Keys Without Destructuring in TSX\nDESCRIPTION: Shows how direct object access through a variable helps preserve component state during key name changes. This approach allows React Fast Refresh to better handle updates to loader data property names.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_7\n\nLANGUAGE: diff\nCODE:\n```\n  export const loader = async () => {\n-   return json({ stuff: \"some things\" })\n+   return json({ things: \"some things\" })\n  }\n\n  export default Component() {\n    const data = useLoaderData<typeof loader>()\n    return (\n      <div>\n        <input />\n-       <p>{data.stuff}</p>\n+       <p>{data.things}</p>\n      </div>\n    )\n  }\n```\n\n----------------------------------------\n\nTITLE: Client-Side Bundle After Server Code Removal in Remix\nDESCRIPTION: Demonstrates how Remix optimizes the client bundle by removing server-only code (action, headers, and loader exports) while preserving the necessary client-side component code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/server-vs-client.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nexport default function Component() {\n  const user = useLoaderData();\n  return (\n    <Form action=\"/account\">\n      <h1>Settings for {user.displayName}</h1>\n\n      <input\n        name=\"displayName\"\n        defaultValue={user.displayName}\n      />\n      <input name=\"email\" defaultValue={user.email} />\n\n      <button type=\"submit\">Save</button>\n    </Form>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Incorrect Link Component Usage in Remix\nDESCRIPTION: Example showing incorrect usage of Link from react-router-dom in Remix applications. This won't enable Remix-specific features like prefetching.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/react-router.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Link } from \"react-router-dom\";\n\n// this won't do anything\n<Link prefetch=\"intent\" />;\n```\n\n----------------------------------------\n\nTITLE: Feature-based Directory Structure\nDESCRIPTION: Example directory structure organized by features instead of routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/routes.md#2025-04-18_snippet_3\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── about/\n│   └── route.tsx\n├── concerts/\n│   ├── card.tsx\n│   ├── city.tsx\n│   ├── favorites-cookie.ts\n│   ├── home.tsx\n│   ├── layout.tsx\n│   ├── sponsored.tsx\n│   └── trending.tsx\n├── home/\n│   ├── header.tsx\n│   └── route.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Module Cache Reset Example in Development\nDESCRIPTION: Example demonstrating how module-scope values are reset in development mode due to cache purging on every request.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/serve.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// this will be reset for every request because the module cache was\n// cleared and this will be required brand new\nconst cache = new Map();\n\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  if (cache.has(params.foo)) {\n    return json(cache.get(params.foo));\n  }\n\n  const record = await fakeDb.stuff.find(params.foo);\n  cache.set(params.foo, record);\n  return json(record);\n}\n```\n\n----------------------------------------\n\nTITLE: Illustrating Browser History Stack After Back Button with Redirect\nDESCRIPTION: This snippet demonstrates how the browser history stack changes when the back button is clicked after a POST request with a redirect. It shows how this approach prevents form resubmission.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/resubmissions.md#2025-04-18_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n```\nGET /buy - *GET /order/123\n```\n```\n\n----------------------------------------\n\nTITLE: Configuring Tailwind Content Sources\nDESCRIPTION: TypeScript configuration for Tailwind specifying which files to scan for generating utility classes\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/tailwind.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { Config } from \"tailwindcss\";\n\nexport default {\n  content: [\n    \"./app/**/{**,.client,.server}/**/*.{js,jsx,ts,tsx}\",\n  ],\n  theme: {\n    extend: {},\n  },\n  plugins: [],\n} satisfies Config;\n```\n\n----------------------------------------\n\nTITLE: Destructuring Hook Return Values with React Fast Refresh in TSX\nDESCRIPTION: Demonstrates how destructuring hook return values can affect React Fast Refresh state preservation. When destructured keys are renamed or removed, component state may be lost on update.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json({ stuff: \"some things\" });\n};\n\nexport default function Component() {\n  const { stuff } = useLoaderData<typeof loader>();\n  return (\n    <div>\n      <input />\n      <p>{stuff}</p>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Storing Sessions in Cloudflare KV and Node.js File System\nDESCRIPTION: Code examples showing runtime-specific session storage implementations in Remix, contrasting Cloudflare KV storage with Node.js file system storage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/runtimes.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\n// store sessions in cloudflare KV storage\nimport { createWorkersKVSessionStorage } from \"@remix-run/cloudflare\";\n\n// store sessions on the file system in node\nimport { createFileSessionStorage } from \"@remix-run/node\";\n```\n\n----------------------------------------\n\nTITLE: NavLink Component with View Transitions\nDESCRIPTION: Example of using NavLink component with view transitions to create smooth image transitions.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_23\n\nLANGUAGE: jsx\nCODE:\n```\n<NavLink to={to} unstable_viewTransition>\n  <img src={src} alt={alt} />\n</NavLink>\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript for Remix (JSON)\nDESCRIPTION: Provides recommended TypeScript configuration settings for a Remix project, including module resolution, path aliases, and compiler options.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_11\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"include\": [\"remix.env.d.ts\", \"**/*.ts\", \"**/*.tsx\"],\n  \"compilerOptions\": {\n    \"lib\": [\"DOM\", \"DOM.Iterable\", \"ES2022\"],\n    \"isolatedModules\": true,\n    \"esModuleInterop\": true,\n    \"jsx\": \"react-jsx\",\n    \"resolveJsonModule\": true,\n    \"moduleResolution\": \"Bundler\",\n    \"baseUrl\": \".\",\n    \"noEmit\": true,\n    \"paths\": {\n      \"~/*\": [\"./app/*\"]\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix App for Production\nDESCRIPTION: This command builds the Remix app for production deployment. It creates optimized assets and prepares the app for a production environment.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/create-remix/__tests__/fixtures/stack/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Setting up Express Server with TLS\nDESCRIPTION: TypeScript code showing how to configure an Express server with TLS support\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_25\n\nLANGUAGE: ts\nCODE:\n```\nimport fs from \"node:fs\";\nimport https from \"node:https\";\n\nimport express from \"express\";\n\nconst app = express();\n\n// ...code setting up your express app...\n\nconst appServer = https.createServer(\n  {\n    key: fs.readFileSync(\"key.pem\"),\n    cert: fs.readFileSync(\"cert.pem\"),\n  },\n  app\n);\n\nappServer.listen(3000, () => {\n  console.log(\"Ready on https://localhost:3000\");\n});\n```\n\n----------------------------------------\n\nTITLE: Unstable CreateRemixStub Route Configuration\nDESCRIPTION: Example showing updated route configuration for unstable_createRemixStub where element/errorElement properties are replaced with Component/ErrorBoundary to match Remix route module exports.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-testing/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n{\n  routes: [{\n    // Old way - no longer supported\n    element: <MyComponent/>,\n    errorElement: <MyErrorComponent/>,\n\n    // New way\n    Component: MyComponent,\n    ErrorBoundary: MyErrorComponent,\n    // New support for meta/links\n    meta: () => [...],\n    links: () => [...]\n  }]\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Usage of useFormAction Hook in Remix\nDESCRIPTION: Demonstrates basic usage of useFormAction hook to resolve URLs to the closest route in the component hierarchy. Shows both default usage and usage with an action parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-form-action.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useFormAction } from \"@remix-run/react\";\n\nfunction SomeComponent() {\n  // closest route URL\n  const action = useFormAction();\n\n  // closest route URL + \"destroy\"\n  const destroyAction = useFormAction(\"destroy\");\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Button Component with CSS URL Imports in Remix\nDESCRIPTION: A Button component that uses Vite's explicit URL imports for CSS. It exports a links array containing the CSS URL, which allows the styles to be tied to Remix's routing lifecycle.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_5\n\nLANGUAGE: jsx\nCODE:\n```\nimport buttonCssUrl from \"./Button.css?url\";\n\nexport const links = [\n  { rel: \"stylesheet\", href: buttonCssUrl },\n];\n\nexport function Button(props) {\n  return <button {...props} className=\"Button__root\" />;\n}\n```\n\n----------------------------------------\n\nTITLE: CSS Transitions for NavLink Component\nDESCRIPTION: CSS code demonstrating how to apply view transition styles to images within transitioning NavLink components.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_22\n\nLANGUAGE: css\nCODE:\n```\na.transitioning img {\n  view-transition-name: \"image-expand\";\n}\n```\n\n----------------------------------------\n\nTITLE: Display Create Remix Help\nDESCRIPTION: Shows available commands and flags for the create-remix CLI.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest --help\n```\n\n----------------------------------------\n\nTITLE: Running Prisma Seed Script with TypeScript\nDESCRIPTION: Command to execute the database seed script. This uses ts-node to run TypeScript directly with the required module resolution for the project's configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_24\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx ts-node --require tsconfig-paths/register prisma/seed.ts\n```\n\n----------------------------------------\n\nTITLE: Implementing Config Validation in Remix Preset\nDESCRIPTION: Extended preset implementation that includes config validation using the remixConfigResolved hook to ensure serverBundles isn't overridden.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/presets.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type {\n  Preset,\n  ServerBundlesFunction,\n} from \"@remix-run/dev\";\n\nconst serverBundles: ServerBundlesFunction = ({\n  branch,\n}) => {\n  const isAuthenticatedRoute = branch.some((route) =>\n    route.id.split(\"/\").includes(\"_authenticated\")\n  );\n\n  return isAuthenticatedRoute\n    ? \"authenticated\"\n    : \"unauthenticated\";\n};\n\nexport function myCoolPreset(): Preset {\n  return {\n    name: \"my-cool-preset\",\n    remixConfig: () => ({ serverBundles }),\n    remixConfigResolved: ({ remixConfig }) => {\n      if (remixConfig.serverBundles !== serverBundles) {\n        throw new Error(\"`serverBundles` was overridden!\");\n      }\n    },\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Using Routes Option Adapter with remix-flat-routes\nDESCRIPTION: Example showing how to use the remixRoutesOptionAdapter with an alternative file system routing implementation like remix-flat-routes, converting it to the React Router v7 format.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_34\n\nLANGUAGE: typescript\nCODE:\n```\nimport { type RouteConfig } from \"@remix-run/route-config\";\nimport { remixRoutesOptionAdapter } from \"@remix-run/routes-option-adapter\";\nimport { flatRoutes } from \"remix-flat-routes\";\n\nexport default remixRoutesOptionAdapter((defineRoutes) =>\n  flatRoutes(\"routes\", defineRoutes)\n) satisfies RouteConfig;\n```\n\n----------------------------------------\n\nTITLE: Using Routes Option Adapter with Config-Based Routes\nDESCRIPTION: Example demonstrating how to use remixRoutesOptionAdapter with manually defined config-based routes to adapt them to the React Router v7 format.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_35\n\nLANGUAGE: typescript\nCODE:\n```\nimport { flatRoutes } from \"@remix-run/fs-routes\";\nimport { type RouteConfig } from \"@remix-run/route-config\";\nimport { remixRoutesOptionAdapter } from \"@remix-run/routes-option-adapter\";\n\nexport default remixRoutesOptionAdapter((defineRoutes) => {\n  return defineRoutes((route) => {\n    route(\"/\", \"home/route.tsx\", { index: true });\n    route(\"about\", \"about/route.tsx\");\n    route(\"\", \"concerts/layout.tsx\", () => {\n      route(\"trending\", \"concerts/trending.tsx\");\n      route(\":city\", \"concerts/city.tsx\");\n    });\n  });\n}) satisfies RouteConfig;\n```\n\n----------------------------------------\n\nTITLE: Displaying Nested URL Structure without Layout Nesting in Remix\nDESCRIPTION: This code snippet shows a file structure where a trailing underscore is used to opt out of layout nesting for nested URLs. It demonstrates how '/concerts/mine' does not nest with 'app/routes/concerts.tsx'.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/routes.md#2025-04-18_snippet_3\n\nLANGUAGE: text\nCODE:\n```\n app/\n├── routes/\n│   ├── _index.tsx\n│   ├── about.tsx\n│   ├── concerts.$city.tsx\n│   ├── concerts.trending.tsx\n│   ├── concerts.tsx\n│   └── concerts_.mine.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_fetcherPersist Flag\nDESCRIPTION: Configuration to enable the v3_fetcherPersist future flag in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    v3_fetcherPersist: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Browser History Stack for Form Submissions\nDESCRIPTION: This code snippet illustrates how the browser history stack looks after a series of navigation events including a form submission. It shows the default browser behavior for form resubmissions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/resubmissions.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n```\nGET /buy > POST /checkout > *GET /order/123\n```\n```\n\n----------------------------------------\n\nTITLE: Configuring Remix Dev Server with TLS in JavaScript\nDESCRIPTION: Example of configuring the Remix development server to use TLS in the remix.config.js file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  dev: {\n    tlsKey: \"key.pem\", // relative to cwd\n    tlsCert: \"cert.pem\", // relative to cwd\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Primary Button Component Extension\nDESCRIPTION: Extension of the base Button component with additional styling and linked styles inheritance.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_3\n\nLANGUAGE: css\nCODE:\n```\n[data-primary-button] {\n  background: blue;\n  color: white;\n}\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport { Button, links as buttonLinks } from \"../button\";\n\nimport styles from \"./styles.css?url\";\n\nexport const links: LinksFunction = () => [\n  ...buttonLinks(),\n  { rel: \"stylesheet\", href: styles },\n];\n\nexport const PrimaryButton = React.forwardRef(\n  ({ children, ...props }, ref) => {\n    return (\n      <Button {...props} ref={ref} data-primary-button />\n    );\n  }\n);\nPrimaryButton.displayName = \"PrimaryButton\";\n```\n\n----------------------------------------\n\nTITLE: Defining Types for JSON Responses in loader and action Functions\nDESCRIPTION: Demonstrates how developers currently need to ensure type consistency by manually specifying the same type when using the json function in loader and action functions.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nexport const loader: LoaderFunction = () => {\n  return json<MyLoaderData>({\n    /* ... */\n  });\n};\n\nexport const action: ActionFunction = () => {\n  return json<MyActionData>({\n    /* ... */\n  });\n};\n```\n\n----------------------------------------\n\nTITLE: Initializing New Remix Project with CLI\nDESCRIPTION: Command to create a new Remix project using the official create-remix CLI tool. This will launch an interactive setup process where you can configure your project options.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/create-remix/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Installing Source Map Support in Custom App Server\nDESCRIPTION: This code snippet demonstrates how to install source map support when using a custom app server. This became a responsibility of the app server as of version 2.0.0.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-architect/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport sourceMapSupport from \"source-map-support\";\nsourceMapSupport.install();\n```\n\n----------------------------------------\n\nTITLE: Running Remix Development Server\nDESCRIPTION: This command starts the Remix app in development mode, which rebuilds assets on file changes. It's used for local development and testing.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/create-remix/__tests__/fixtures/stack/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Launches the Remix application in development mode with hot reloading enabled for asset rebuilding on file changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix-javascript/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Vite Config for Single Fetch\nDESCRIPTION: Configuration example showing how to enable single-fetch functionality in Remix via Vite config\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-deno/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_singleFetch: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing Remix Project with NPX\nDESCRIPTION: This command uses npx to run the create-remix tool, which sets up a new Remix project. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-cloudflare-pages/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Accessing Route Match Data in Remix v2\nDESCRIPTION: Demonstrates how to access route match data directly from the match object instead of using the route property in Remix v2.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// before\nexport function meta({ matches }) {\n  const rootModule = matches.find((match) => match.route.id === \"root\");\n}\n// after\nexport function meta({ matches }) {\n  const rootModule = matches.find((match) => match.id === \"root\");\n}\n```\n\n----------------------------------------\n\nTITLE: Single Fetch Code Migration Examples\nDESCRIPTION: Examples showing the migration from using json() responses to returning raw data with the new Single Fetch API, including how to handle custom status and headers.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n// Old approach\nreturn json({ data: whatever });\n\n// New approach\nreturn { data: whatever };\n\n// With custom status/headers using unstable_data\nreturn unstable_data(\n  { data: whatever },\n  { status: 201, headers: { \"X-Custom\": \"value\" } }\n);\n```\n\n----------------------------------------\n\nTITLE: Creating a Remix Project from a Private Template\nDESCRIPTION: Command to create a new Remix project using a private GitHub repository as a template, requiring a GitHub token.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_6\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template your-private/repo --token yourtoken\n```\n\n----------------------------------------\n\nTITLE: Initializing Remix Project using NPX\nDESCRIPTION: This command uses npx to run the create-remix tool, which sets up a new Remix project. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-cloudflare-workers/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Enabling Single Fetch in Remix 2.9.0\nDESCRIPTION: Demonstrates how to enable the new Single Fetch feature in Remix 2.9.0 by setting the future.unstable_singleFetch flag. This feature changes how loaders and actions handle data fetching and serialization.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nfuture.unstable_singleFetch = true;\n```\n\n----------------------------------------\n\nTITLE: Generating a new Remix project with create-remix\nDESCRIPTION: Uses npx to run create-remix and set up a new Remix project called 'remix-jokes'. It initializes a Git repository and installs dependencies.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Transformed CSS Bundle in Vite Development Mode\nDESCRIPTION: Shows how Vite transforms CSS files into JavaScript during development. This code injects styles as a side effect and sets up hot module reloading, which can lead to CSS ordering differences between development and production.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_3\n\nLANGUAGE: js\nCODE:\n```\nimport {createHotContext as __vite__createHotContext} from \"/@vite/client\";\nimport.meta.hot = __vite__createHotContext(\"/app/components/Button.css\");\nimport {updateStyle as __vite__updateStyle, removeStyle as __vite__removeStyle} from \"/@vite/client\";\nconst __vite__id = \"/path/to/app/components/Button.css\";\nconst __vite__css = \".Button__root{background:blue;color:white;}\"\n__vite__updateStyle(__vite__id, __vite__css);\nimport.meta.hot.accept();\nimport.meta.hot.prune(()=>__vite__removeStyle(__vite__id));\n```\n\n----------------------------------------\n\nTITLE: Styling a Login Form with CSS in Remix\nDESCRIPTION: CSS styles for a login page, including responsive design elements, form layout, and visual styling. The styles are scoped to the login page and will be unloaded when navigating away.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_41\n\nLANGUAGE: css\nCODE:\n```\n/*\n * when the user visits this page, this style will apply, when they leave, it\n * will get unloaded, so don't worry so much about conflicting styles between\n * pages!\n */\n\nbody {\n  background-image: var(--gradient-background);\n}\n\n.container {\n  min-height: inherit;\n}\n\n.container,\n.content {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.content {\n  padding: 1rem;\n  background-color: hsl(0, 0%, 100%);\n  border-radius: 5px;\n  box-shadow: 0 0.2rem 1rem rgba(0, 0, 0, 0.5);\n  width: 400px;\n  max-width: 100%;\n}\n\n@media print, (min-width: 640px) {\n  .content {\n    padding: 2rem;\n    border-radius: 8px;\n  }\n}\n\nh1 {\n  margin-top: 0;\n}\n\nfieldset {\n  display: flex;\n  justify-content: center;\n}\n\nfieldset > :not(:last-child) {\n  margin-right: 2rem;\n}\n\n.links ul {\n  margin-top: 1rem;\n  padding: 0;\n  list-style: none;\n  display: flex;\n  gap: 1.5rem;\n  align-items: center;\n}\n\n.links a:hover {\n  text-decoration-style: wavy;\n  text-decoration-thickness: 1px;\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Server Node Builtins Polyfills in Remix\nDESCRIPTION: Examples showing how to configure the serverNodeBuiltinsPolyfill option in remix.config.js to either disable all polyfills or enable specific ones for non-Node.js server platforms.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_22\n\nLANGUAGE: javascript\nCODE:\n```\n// Disable all polyfills\nexports.serverNodeBuiltinsPolyfill = { modules: {} };\n\n// Enable specific polyfills\nexports.serverNodeBuiltinsPolyfill = {\n  modules: {\n    crypto: true, // Provide a JSPM polyfill\n    fs: \"empty\", // Provide an empty polyfill\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Styling Form Elements with Invalid State Indicators in CSS\nDESCRIPTION: CSS rules that style form input elements with visual indicators when they have invalid states. This includes styling for various input types with aria-invalid attribute set to true.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_12\n\nLANGUAGE: css\nCODE:\n```\n[type=\"email\"][aria-invalid=\"true\"],\n[type=\"number\"][aria-invalid=\"true\"],\n[type=\"search\"][aria-invalid=\"true\"],\n[type=\"tel\"][aria-invalid=\"true\"],\n[type=\"time\"][aria-invalid=\"true\"],\n[type=\"url\"][aria-invalid=\"true\"],\n[type=\"color\"][aria-invalid=\"true\"],\ntextarea[aria-invalid=\"true\"] {\n  border-color: var(--color-invalid);\n}\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Production Mode\nDESCRIPTION: This command starts the Remix app in production mode, using the optimized build created by the build command.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/stack/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite Plugin with MDX\nDESCRIPTION: Example showing the correct ordering of Vite plugins, with MDX plugin placed before the Remix plugin. This addresses a breaking change in plugin ordering where Remix no longer uses 'enforce: \"post\"'.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport mdx from \"@mdx-js/rollup\";\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n+     mdx(),\n      remix()\n-     mdx(),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Class Instance Serialization in Single Fetch\nDESCRIPTION: Demonstrates how class instances are serialized, maintaining only their serializable properties.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/single-fetch.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nclass Dog {\n  name: string;\n  age: number;\n\n  constructor(name: string, age: number) {\n    this.name = name;\n    this.age = age;\n  }\n\n  bark() {\n    console.log(\"woof\");\n  }\n}\n\nexport function loader() {\n  return {\n    planet: \"world\",\n    date: new Date(),\n    spot: new Dog(\"Spot\", 3),\n  };\n}\n\nexport default function Component() {\n  const data = useLoaderData<typeof loader>();\n  //    ^? { planet: string, date: Date, spot: { name: string, age: number, bark: undefined } }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic React DOM Entry Point\nDESCRIPTION: Example of a typical React Router browser entry point that renders the root App component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { render } from \"react-dom\";\n\nimport App from \"./App\";\n\nrender(<App />, document.getElementById(\"app\"));\n```\n\n----------------------------------------\n\nTITLE: Browser-Only Proxy Generated by Remix Compiler\nDESCRIPTION: Example of how Remix compiler creates a proxy module that only imports browser-specific exports from a route module.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nexport { meta, default } from \"./routes/posts.tsx\";\n```\n\n----------------------------------------\n\nTITLE: Importing MDX Files as Modules\nDESCRIPTION: Shows how to import MDX files as modules and access their exports.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/mdx.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport Component, {\n  attributes,\n  filename,\n} from \"./first-post.mdx\";\n```\n\n----------------------------------------\n\nTITLE: Building Remix for Production\nDESCRIPTION: Builds the Remix application for production deployment, generating optimized assets and bundles.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix-javascript/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Configuring Single Fetch Types in Vite Config\nDESCRIPTION: This snippet shows how to configure TypeScript types and enable single fetch functionality in a Vite configuration file for a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// vite.config.ts\n\ndeclare module \"@remix-run/server-runtime\" {\n  interface Future {\n    unstable_singleFetch: true; // 👈 enable _types_ for single-fetch\n  }\n}\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_singleFetch: true, // 👈 enable single-fetch\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing New Remix Project using CLI\nDESCRIPTION: This command uses npx to run the create-remix tool, which sets up a new Remix project. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-route-config/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Basic Remix Vite Plugin Configuration\nDESCRIPTION: Minimum configuration needed for setting up Remix with Vite. Imports the Remix Vite plugin and adds it to the Vite configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/vite-config.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Client-Side Routing with Link Component\nDESCRIPTION: Code snippet demonstrating how to replace anchor tags with Remix Link components for client-side routing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// existing imports\nimport {\n  Form,\n  Link,\n  Links,\n  Meta,\n  Outlet,\n  Scripts,\n  ScrollRestoration,\n} from \"@remix-run/react\";\n\n// existing imports & exports\n\nexport default function App() {\n  return (\n    <html lang=\"en\">\n      {/* other elements */}\n      <body>\n        <div id=\"sidebar\">\n          {/* other elements */}\n          <nav>\n            <ul>\n              <li>\n                <Link to={`/contacts/1`}>Your Name</Link>\n              </li>\n              <li>\n                <Link to={`/contacts/2`}>Your Friend</Link>\n              </li>\n            </ul>\n          </nav>\n        </div>\n        {/* other elements */}\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Autoprefixer for PostCSS in Remix\nDESCRIPTION: Command to install the Autoprefixer PostCSS plugin as a dev dependency in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D autoprefixer\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Dependencies\nDESCRIPTION: Commands to install required Remix packages including react, node, serve and dev dependencies.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nnpm install @remix-run/react @remix-run/node @remix-run/serve\nnpm install -D @remix-run/dev\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Framework using NPX\nDESCRIPTION: Command to create a new Remix project using the latest version of the create-remix utility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/index.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Creating a Unified Error Boundary in TSX\nDESCRIPTION: Shows how to implement a consolidated error boundary that maintains backward compatibility with the previous separation of Error and Catch boundaries by checking the error type.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nfunction NewErrorBoundary() {\n  const error = useRouteError();\n\n  if (error instanceof Response) {\n    return <MyOldCatchBoudnary error={error} />;\n  } else {\n    return <MyOldErrorBoundary error={error} />;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Command to run the Remix development server for local development of the SPA.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/spa/README.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Importing and Linking CSS in Index Route\nDESCRIPTION: TypeScript code for importing the CSS file and exporting a links function to add the stylesheet to the index route.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\n\nimport stylesUrl from \"~/styles/index.css\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: stylesUrl },\n];\n\nexport default function IndexRoute() {\n  return <div>Hello Index Route</div>;\n}\n```\n\n----------------------------------------\n\nTITLE: Problematic Higher Order Function for Loader Abstraction\nDESCRIPTION: Example of a higher order function that creates module side effects preventing proper code pruning.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_6\n\nLANGUAGE: ts\nCODE:\n```\nimport { redirect } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport function removeTrailingSlash(loader) {\n  return function (arg) {\n    const { request } = arg;\n    const url = new URL(request.url);\n    if (\n      url.pathname !== \"/\" &&\n      url.pathname.endsWith(\"/\")\n    ) {\n      return redirect(request.url.slice(0, -1), {\n        status: 308,\n      });\n    }\n    return loader(arg);\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PostCSS for Vanilla Extract in Remix\nDESCRIPTION: Advanced PostCSS configuration that applies different plugins for Vanilla Extract files and other styles in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = (ctx) => {\n  return ctx.remix?.vanillaExtract\n    ? {\n        // PostCSS plugins for Vanilla Extract styles...\n      }\n    : {\n        // PostCSS plugins for other styles...\n      };\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring React Canary Version with Package Overrides\nDESCRIPTION: Package.json configuration to use a specific React canary version throughout a project. This helps address issues with styles disappearing in development when using CSS bundling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/css-files.md#2025-04-18_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"react\": \"18.3.0-canary-...\",\n    \"react-dom\": \"18.3.0-canary-...\"\n  },\n  \"overrides\": {\n    \"react\": \"18.3.0-canary-...\",\n    \"react-dom\": \"18.3.0-canary-...\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Globals in Custom App Server for Remix v2\nDESCRIPTION: Example of how to install globals in a custom app server for Remix v2, which is now required for using Node's built-in fetch implementation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport { installGlobals } from \"@remix-run/node\";\n\ninstallGlobals();\n```\n\n----------------------------------------\n\nTITLE: Building Remix App with Classic Compiler\nDESCRIPTION: Illustrates the command to build a Remix app for production using the Classic Remix Compiler.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nremix build\n```\n\n----------------------------------------\n\nTITLE: Installing mkcert and Creating Local Certificate Authority\nDESCRIPTION: Commands to install mkcert, create a local Certificate Authority, and configure Node.js to use the local CA.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nmkcert -install\n\nexport NODE_EXTRA_CA_CERTS=\"$(mkcert -CAROOT)/rootCA.pem\"\n```\n\n----------------------------------------\n\nTITLE: Updating Cloudflare Proxy Configuration in Vite\nDESCRIPTION: This code snippet shows the changes required to update the Cloudflare proxy configuration in a Vite project using Remix. It replaces the unstable Cloudflare preset with a new Vite plugin and adjusts the configuration accordingly.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_7\n\nLANGUAGE: diff\nCODE:\n```\n import {\n    unstable_vitePlugin as remix,\n-   unstable_cloudflarePreset as cloudflare,\n+   cloudflareDevProxyVitePlugin as remixCloudflareDevProxy,\n  } from \"@remix-run/dev\";\n  import { defineConfig } from \"vite\";\n\n  export default defineConfig({\n    plugins: [\n+     remixCloudflareDevProxy(),\n+     remix(),\n-     remix({\n-       presets: [cloudflare()],\n-     }),\n    ],\n-   ssr: {\n-     resolve: {\n-       externalConditions: [\"workerd\", \"worker\"],\n-     },\n-   },\n  });\n```\n\n----------------------------------------\n\nTITLE: Response Stub Header Interface Usage\nDESCRIPTION: Demonstration of the new ResponseStub interface for handling headers and status codes in loader/action functions with Single Fetch enabled.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// Setting status code\nresponse.status = 201;\n\n// Managing headers\nresponse.headers.set(\"X-Custom\", \"value\");\nresponse.headers.append(\"X-Multi\", \"value1\");\nresponse.headers.delete(\"X-Remove\");\n```\n\n----------------------------------------\n\nTITLE: Updating NPM Scripts for Vite Commands\nDESCRIPTION: Package.json script updates showing migration from direct Vite commands to using the new Remix CLI commands for Vite development and building.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_15\n\nLANGUAGE: JSON\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"remix vite:dev\",\n    \"build\": \"remix vite:build\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix Project for Production\nDESCRIPTION: Builds the Remix application for production deployment. This step is necessary before running the app in production mode.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/express/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Updating Prisma Seed File for User Authentication\nDESCRIPTION: This snippet shows the updated Prisma seed file that creates a user with a hashed password and associates jokes with that user.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_38\n\nLANGUAGE: typescript\nCODE:\n```\nimport { PrismaClient } from \"@prisma/client\";\nconst db = new PrismaClient();\n\nasync function seed() {\n  const kody = await db.user.create({\n    data: {\n      username: \"kody\",\n      // this is a hashed version of \"twixrox\"\n      passwordHash:\n        \"$2b$10$K7L1OJ45/4Y2nIvhRVpCe.FSmhDdWoXehVzJptJ/op0lSsvqNu/1u\",\n    },\n  });\n  await Promise.all(\n    getJokes().map((joke) => {\n      const data = { jokesterId: kody.id, ...joke };\n      return db.joke.create({ data });\n    })\n  );\n}\n\nseed();\n\nfunction getJokes() {\n  // shout-out to https://icanhazdadjoke.com/\n\n  return [\n    {\n      name: \"Road worker\",\n      content: `I never wanted to believe that my Dad was stealing from his job as a road worker. But when I got home, all the signs were there.`,\n    },\n    {\n      name: \"Frisbee\",\n      content: `I was wondering why the frisbee was getting bigger, then it hit me.`,\n    },\n    {\n      name: \"Trees\",\n      content: `Why do trees seem suspicious on sunny days? Dunno, they're just a bit shady.`,\n    },\n    {\n      name: \"Skeletons\",\n      content: `Why don't skeletons ride roller coasters? They don't have the stomach for it.`,\n    },\n    {\n      name: \"Hippos\",\n      content: `Why don't you find hippopotamuses hiding in trees? They're really good at it.`,\n    },\n    {\n      name: \"Dinner\",\n      content: `What did one plate say to the other plate? Dinner is on me!`,\n    },\n    {\n      name: \"Elevator\",\n      content: `My first time using an elevator was an uplifting experience. The second time let me down.`,\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Traditional Backend Signup Handler\nDESCRIPTION: Example of a traditional backend signup handler implementation with validation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/state-management.md#2025-04-18_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function signupHandler(request: Request) {\n  const errors = await validateSignupRequest(request);\n  if (errors) {\n    return json({ ok: false, errors: errors });\n  }\n  await signupUser(request);\n  return json({ ok: true, errors: null });\n}\n```\n\n----------------------------------------\n\nTITLE: Production Start Command\nDESCRIPTION: Command to run the built application in production mode.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Deploying Remix Project to Cloudflare Workers\nDESCRIPTION: Command to deploy the Remix project to Cloudflare Workers. This assumes you have already set up a Cloudflare account and configured your custom Workers subdomain.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/cloudflare-workers/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Installing Tailwind CSS\nDESCRIPTION: Command to install Tailwind CSS as a development dependency in a Remix project\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/tailwind.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D tailwindcss\n```\n\n----------------------------------------\n\nTITLE: Incorrect Top-Level Server Code in Remix Routes\nDESCRIPTION: This example shows a problematic initialization of server-only code at the top level of a route module. This causes errors because the code runs in the browser during hydration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { unstable_createFileUploadHandler } from \"@remix-run/node\"; // or cloudflare/deno\n\nconst uploadHandler = unstable_createFileUploadHandler({\n  maxPartSize: 5_000_000,\n  file: ({ filename }) => filename,\n});\n\nexport async function action() {\n  // use `uploadHandler` here ...\n}\n```\n\n----------------------------------------\n\nTITLE: Component with CSS Side Effect Import Example - TSX\nDESCRIPTION: Example showing how a component might use a CSS side effect import, which needs special handling in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css-imports.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport \"./menu-button.css\";\n\nexport function MenuButton() {\n  return <button data-menu-button>{/* ... */}</button>;\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Production Server\nDESCRIPTION: Runs the built Remix application in production mode using the built-in Remix app server.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix-javascript/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Installing CSS Bundle Package for Remix\nDESCRIPTION: Command to install the @remix-run/css-bundle package using npm, which is required for CSS bundling in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/bundling.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install @remix-run/css-bundle\n```\n\n----------------------------------------\n\nTITLE: Using v1 Route Convention in v2 (JavaScript)\nDESCRIPTION: Configures Remix to use the v1 route convention even after upgrading to v2, using the @remix-run/v1-route-convention package.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst {\n  createRoutesFromFolders,\n} = require(\"@remix-run/v1-route-convention\");\n\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  future: {\n    // makes the warning go away in v1.15+\n    v2_routeConvention: true,\n  },\n\n  routes(defineRoutes) {\n    // uses the v1 convention, works in v1.15+ and v2\n    return createRoutesFromFolders(defineRoutes);\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Inefficient Streaming in Remix Loaders\nDESCRIPTION: This snippet illustrates an inefficient way of implementing streaming in Remix loaders. It shows how awaiting promises before initiating deferred data loading can reduce the benefits of streaming.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/streaming.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader({\n  params,\n}: LoaderFunctionArgs) {\n  const product = await db.getProduct(params.productId);\n  // 👇 this won't initiate loading until `product` is done\n  const reviewsPromise = db.getReviews(params.productId);\n\n  return defer({\n    product,\n    reviews: reviewsPromise,\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Cloudflare Proxy Configuration for Vite Integration\nDESCRIPTION: Example showing the migration from using the unstable Cloudflare preset to the new Cloudflare Dev Proxy Vite plugin. The new approach requires placing the remixCloudflareDevProxy plugin before the remix plugin in the configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: diff\nCODE:\n```\nimport {\n    unstable_vitePlugin as remix,\n-   unstable_cloudflarePreset as cloudflare,\n+   cloudflareDevProxyVitePlugin as remixCloudflareDevProxy,\n  } from \"@remix-run/dev\";\n  import { defineConfig } from \"vite\";\n\n  export default defineConfig({\n    plugins: [\n+     remixCloudflareDevProxy(),\n+     remix(),\n-     remix({\n-       presets: [cloudflare()],\n-     }),\n    ],\n-   ssr: {\n-     resolve: {\n-       externalConditions: [\"workerd\", \"worker\"],\n-     },\n-   },\n  });\n```\n\n----------------------------------------\n\nTITLE: Installing Fetch Globals in Custom App Server\nDESCRIPTION: This code snippet shows how to install fetch globals when using a custom app server instead of remix-serve. This is required as of version 2.0.0.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-architect/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { installGlobals } from \"@remix-run/node\";\n\ninstallGlobals();\n```\n\n----------------------------------------\n\nTITLE: Building Remix App with Vite\nDESCRIPTION: Demonstrates the command to build a Remix app for production using Remix Vite.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nremix vite:build\n```\n\n----------------------------------------\n\nTITLE: Express Server Dev Ready Broadcasting\nDESCRIPTION: Example of implementing dev server ready broadcasting in an Express server for development mode coordination.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n// server.js\n// <other imports>\nimport { broadcastDevReady } from \"@remix-run/node\";\n\n// Path to Remix's server build directory ('build/' by default)\nconst BUILD_DIR = path.join(process.cwd(), \"build\");\n\n// <code setting up your express server>\n\napp.listen(3000, () => {\n  const build = require(BUILD_DIR);\n  console.log(\"Ready: http://localhost:\" + port);\n\n  // in development, call `broadcastDevReady` _after_ your server is up and running\n  if (process.env.NODE_ENV === \"development\") {\n    broadcastDevReady(build);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server with Wrangler\nDESCRIPTION: This command starts the Remix development server and Wrangler for local development, emulating the Cloudflare runtime. It's configured in the package.json file as the 'dev' script.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/cloudflare/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n# start the remix dev server and wrangler\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Browser-Safe Bundle After Code Pruning\nDESCRIPTION: Example of the resulting browser bundle after Remix removes server-only code from a route module.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport PostsView from \"../PostsView\";\n\nexport function meta() {\n  return [{ title: \"Posts\" }];\n}\n\nexport default function Posts() {\n  const posts = useLoaderData<typeof loader>();\n  return <PostsView posts={posts} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Updating CSS Imports for Vite\nDESCRIPTION: Diff showing the addition of ?url to CSS imports for Vite compatibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_13\n\nLANGUAGE: diff\nCODE:\n```\n-import styles from \"~/styles/dashboard.css\";\n+import styles from \"~/styles/dashboard.css?url\";\n\nexport const links = () => {\n  return [\n    { rel: \"stylesheet\", href: styles }\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Command to run the Remix development server for local development.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/express/README.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Headers Function Implementation with HeadersArgs\nDESCRIPTION: Example of implementing a headers function using the HeadersArgs type, showing how to access and manipulate loader headers.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { HeadersArgs } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport function headers({ loaderHeaders }: HeadersArgs) {\n  return {\n    \"x-my-custom-thing\": loaderHeaders.get(\"x-my-custom-thing\") || \"fallback\",\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Converting Remix Commands to Vite Commands\nDESCRIPTION: Maps traditional Remix build and dev commands to their Vite equivalents for Node-based applications. Build command now requires both client and SSR builds, while dev command maps directly to Vite dev.\nSOURCE: https://github.com/remix-run/remix/blob/main/integration/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nremix build 👉 vite build && vite build --ssr\n```\n\nLANGUAGE: bash\nCODE:\n```\nremix dev 👉 vite dev\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Deno Template\nDESCRIPTION: Command to create a new Remix project using the Deno template via npx.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/deno\n```\n\n----------------------------------------\n\nTITLE: Create Remix with Template\nDESCRIPTION: Initializes a Remix project using a specified template URL.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest --template <templateUrl>\n```\n\n----------------------------------------\n\nTITLE: Initializing New Remix Project via CLI\nDESCRIPTION: Command to create a new Remix project using the npm create-remix package. This will launch an interactive setup process where you can configure your project options.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Server Development Mode Watcher\nDESCRIPTION: Example implementation of a development mode file watcher that handles server rebuilds.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\n// server.dev.js\n// eslint-disable-next-line no-restricted-globals\nconst BUILD_PATH = path.resolve(__dirname, \"build\");\n\nconst watcher = chokidar.watch(BUILD_PATH);\n\nwatcher.on(\"change\", () => {\n  // 1. purge require cache\n  purgeRequireCache();\n  // 2. load updated server build\n  const build = require(BUILD_PATH);\n  // 3. tell dev server that this app server is now ready\n  broadcastDevReady(build);\n});\n```\n\n----------------------------------------\n\nTITLE: Building and Running Remix Production Build\nDESCRIPTION: Commands to build the Remix project for production and start the production server. This is used to check the production build locally.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/cloudflare-workers/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Installing @remix-run/route-config Package\nDESCRIPTION: Command to install the @remix-run/route-config package which provides the RouteConfig type and helpers for configuring routes in code, matching the API of React Router v7.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_28\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D @remix-run/route-config\n```\n\n----------------------------------------\n\nTITLE: Removing cssBundleHref References\nDESCRIPTION: Diff showing the removal of cssBundleHref import and usage.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_12\n\nLANGUAGE: diff\nCODE:\n```\n- import { cssBundleHref } from \"@remix-run/css-bundle\";\n  import type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\n  export const links: LinksFunction = () => [\n-   ...(cssBundleHref\n-     ? [{ rel: \"stylesheet\", href: cssBundleHref }]\n-     : []),\n    // ...\n  ];\n```\n\n----------------------------------------\n\nTITLE: Running Remix Dev Server with TLS via Command Line\nDESCRIPTION: Command to run the Remix development server with TLS using command-line flags.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_5\n\nLANGUAGE: shellscript\nCODE:\n```\nremix dev --tls-key=key.pem --tls-cert=cert.pem -c \"node ./server.js\"\n```\n\n----------------------------------------\n\nTITLE: Migrating to New Build Directory Structure\nDESCRIPTION: Example showing migration from separate assetsBuildDirectory and serverBuildDirectory options to the new unified buildDirectory option in the Vite plugin configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n-      serverBuildDirectory: \"dist/server\",\n-      assetsBuildDirectory: \"dist/client\",\n+      buildDirectory: \"dist\",\n    })\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Importing useOutlet Hook from Remix\nDESCRIPTION: Shows how to import the useOutlet hook from the @remix-run/react package. This hook returns the element for child routes at the current level of the route hierarchy and is used internally by the Outlet component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-outlet.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useOutlet } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Building for Production\nDESCRIPTION: Command to create a production build of the Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare/README.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Configuring Concurrent SASS and Remix Dev Scripts\nDESCRIPTION: NPM script configuration in package.json to run SASS compilation and Remix development server concurrently.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"concurrently \\\"npm run sass\\\" \\\"remix dev\\\"\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Comparing Link and Form GET Navigation in HTML\nDESCRIPTION: Demonstrates the functional equivalence between a hyperlink and a GET form submission, both resulting in the same query parameter being sent to the server.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"/search?query=matt\">Search</a>\n\n<form action=\"/search\">\n  <input name=\"query\" value=\"matt\" />\n  <button type=\"submit\">Search</button>\n</form>\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Development with Vite\nDESCRIPTION: Shows the command to run a Remix app in development mode using Remix Vite.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\nremix vite:dev\n```\n\n----------------------------------------\n\nTITLE: Setting Custom Port for Remix Serve\nDESCRIPTION: Demonstrates how to set a custom port for the Remix app server when using remix-serve in the dev command.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_8\n\nLANGUAGE: shellscript\nCODE:\n```\nremix dev -c \"remix-serve --port 8000 ./build/index.js\"\n```\n\n----------------------------------------\n\nTITLE: Enabling v2_dev in Remix Config (JavaScript)\nDESCRIPTION: Configures the Remix project to use the v2 dev server by enabling the v2_dev future flag in the remix.config.js file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  future: {\n    v2_dev: true,\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Jokes Index Route Component\nDESCRIPTION: Implements the index route component for the jokes section displaying a random joke.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function JokesIndexRoute() {\n  return (\n    <div>\n      <p>Here's a random joke:</p>\n      <p>\n        I was wondering why the frisbee was getting bigger,\n        then it hit me.\n      </p>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix App for Production\nDESCRIPTION: This command builds the Remix app for production, optimizing assets and creating a production-ready bundle.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/stack/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Installing Source Map Support in Custom Express Server\nDESCRIPTION: Code snippet demonstrating how to install source map support when using a custom Express server with Remix. This is now a responsibility of the app server.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-express/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport sourceMapSupport from \"source-map-support\";\nsourceMapSupport.install();\n```\n\n----------------------------------------\n\nTITLE: Building Remix for Production\nDESCRIPTION: Builds the Remix application for production deployment, generating optimized assets.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-tutorial/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Remix ESLint Rules\nDESCRIPTION: Basic ESLint configuration for a Remix project. This extends the Remix ESLint config in the project's .eslintrc.js file.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-eslint-config/README.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  extends: \"@remix-run/eslint-config\",\n};\n```\n\n----------------------------------------\n\nTITLE: Creating New Remix Project via NPX\nDESCRIPTION: Command to initialize a new Remix project using the create-remix CLI tool. This will launch an interactive setup process for configuring a new Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Updating Loader Type Inference in TypeScript\nDESCRIPTION: Shows how to update loader function type signatures to enable better type inference of loader data. This change allows inferring the data type from the return type of the loader function.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-cloudflare/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n- import type { LoaderFunction } from \"@remix-run/cloudflare\";\n+ import type { LoaderArgs } from \"@remix-run/cloudflare\";\n\n- export const loader: LoaderFunction = async (args) => {\n-   return json<LoaderData>(data);\n- }\n+ export async function loader(args: LoaderArgs) {\n+   return json(data);\n+ }\n```\n\nLANGUAGE: typescript\nCODE:\n```\n- let data = useLoaderData() as LoaderData;\n+ let data = useLoaderData<typeof loader>();\n```\n\n----------------------------------------\n\nTITLE: Initializing Remix Project with Express Template\nDESCRIPTION: Command to create a new Remix project using the Express server template via npx create-remix CLI tool. The --template flag specifies the template URL from the official Remix templates repository.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/deployment.md#2025-04-18_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/express\n```\n\n----------------------------------------\n\nTITLE: Form Submission Button in Remix Application\nDESCRIPTION: A submit button implementation for a form component in a Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_59\n\nLANGUAGE: tsx\nCODE:\n```\n<button type=\"submit\" className=\"button\">\n  Submit\n</button>\n```\n\n----------------------------------------\n\nTITLE: Creating a Custom SerializeFrom Type for Single Fetch\nDESCRIPTION: A custom type definition to replace the deprecated SerializeFrom type that was used to unwrap loader/action data. This is useful for migrating to React Router v7's Single Fetch approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_38\n\nLANGUAGE: typescript\nCODE:\n```\ntype SerializeFrom<T> = ReturnType<typeof useLoaderData<T>>;\n```\n\n----------------------------------------\n\nTITLE: Detecting Server Code Changes with Chokidar\nDESCRIPTION: Using Chokidar to watch for server code changes and trigger reimports.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nimport chokidar from \"chokidar\";\n\nasync function handleServerUpdate() {\n  build = await reimportServer();\n}\n\nchokidar\n  .watch(VERSION_PATH, { ignoreInitial: true })\n  .on(\"add\", handleServerUpdate)\n  .on(\"change\", handleServerUpdate);\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_throwAbortReason Flag in Remix Configuration\nDESCRIPTION: This snippet shows how to enable the v3_throwAbortReason flag in the Remix configuration file. This flag changes how Remix handles aborted server-side requests.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    v3_throwAbortReason: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Running Wrangler for Cloudflare Development\nDESCRIPTION: Commands to build the application and start it using Wrangler, Cloudflare's command-line tool.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\nnpm run start\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Dev Script in package.json\nDESCRIPTION: Shows how to set up a custom dev script in package.json to use a specific app server command with remix dev.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"remix dev -c \\\"node ./server.js\\\"\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Pushing Prisma Schema to Database\nDESCRIPTION: Command to sync the Prisma schema with the SQLite database. This creates the database file and tables based on the defined schema.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_20\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx prisma db push\n```\n\n----------------------------------------\n\nTITLE: Removing LiveReload Component with Vite\nDESCRIPTION: Code diff showing the removal of the LiveReload component when using Vite. The Scripts component now automatically includes Vite's client-side runtime for development features.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nimport {\n-   LiveReload,\n    Outlet,\n    Scripts,\n  }\n\n  export default function App() {\n    return (\n      <html>\n        <head>\n        </head>\n        <body>\n          <Outlet />\n          <Scripts />\n-         <LiveReload />\n        </body>\n      </html>\n    )\n  }\n```\n\n----------------------------------------\n\nTITLE: Visualizing Linear Workflow with Mermaid Diagram\nDESCRIPTION: This Mermaid diagram illustrates the general workflow of Linear issues, showing the progression from intake to completion or cancellation. It visualizes the various statuses an issue can have and the transitions between them.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0006-linear-workflow.md#2025-04-18_snippet_0\n\nLANGUAGE: mermaid\nCODE:\n```\ngraph TD\n    A(Github/Discord/???) -->|intake| Triage\n    Triage -->|accepted| Backlog\n    Triage -->|rejected| Canceled\n    Backlog -->|planned| Todo\n    Todo -->|picked up| InProgress(In Progress)\n    InProgress -->|PR| InReview(In Review)\n    InProgress -->|stopped| Todo\n    InProgress -->|blocked| NeedsFeedback(Needs Feedback)\n    NeedsFeedback -->|unblocked| InProgress\n    InReview -->|larger changes| InProgress\n    InReview -->|small comments| InReview\n    InReview -->|merged| Done\n```\n\n----------------------------------------\n\nTITLE: Updating Package Scripts for v2 Dev Server (JSON)\nDESCRIPTION: Updates the package.json scripts to use the new remix dev command instead of separate watch and server commands for v2 compatibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n-    \"dev:remix\": \"cross-env NODE_ENV=development remix watch\",\n-    \"dev:server\": \"cross-env NODE_ENV=development node ./server.js\"\n+    \"dev\": \"remix dev -c 'node ./server.js'\",\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Meta Function in Remix v2\nDESCRIPTION: Shows how to update the meta function to use the new API in Remix v2, accessing parent route data through the matches array instead of parentsData.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// before\nexport function meta({ parentsData }) {\n  return [{ title: parentsData[\"routes/some-route\"].title }];\n}\n// after\nexport function meta({ matches }) {\n  return [\n    {\n      title: matches.find((match) => match.id === \"routes/some-route\")\n        .data.title,\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Side Effects Configuration\nDESCRIPTION: Package.json configuration to declare the app as side-effect free for better tree shaking\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_13\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"sideEffects\": false\n}\n```\n\n----------------------------------------\n\nTITLE: Invalid Nested Route Structure\nDESCRIPTION: Example showing an invalid deeply nested route structure that won't be registered by Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/routes.md#2025-04-18_snippet_2\n\nLANGUAGE: text\nCODE:\n```\napp/\n├── routes/\n│   └── about/\n│       ├── header/\n│       │   └── route.tsx\n│       └── route.tsx\n└── root.tsx\n```\n\n----------------------------------------\n\nTITLE: Running Remix Development Server\nDESCRIPTION: Command to start the Remix development server for local development.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-javascript/README.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Initializing New Remix Project with CLI\nDESCRIPTION: Command to create a new Remix project using the npm create-remix package. This command launches an interactive setup process that guides users through project configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-routes-option-adapter/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Command to run the Remix application in development mode using npm\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix/README.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Running Remix Build and Server with Local TLS\nDESCRIPTION: Commands to build the Remix application and run the server with local TLS.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/local-tls.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nremix build\nnode ./server.js\n```\n\n----------------------------------------\n\nTITLE: Configuring vite-tsconfig-paths in Vite\nDESCRIPTION: Adding the vite-tsconfig-paths plugin to the Vite configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\nimport tsconfigPaths from \"vite-tsconfig-paths\";\n\nexport default defineConfig({\n  plugins: [remix(), tsconfigPaths()],\n});\n```\n\n----------------------------------------\n\nTITLE: Enabling unstable_optimizeDeps in Vite Config\nDESCRIPTION: Configuration to enable the unstable_optimizeDeps flag for dependency optimization.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_optimizeDeps: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Deploying to Deno Deploy\nDESCRIPTION: Command to deploy the Remix app to Deno Deploy. This should be run after setting up Deno Deploy and building the app for production.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Running Remix in SPA Mode\nDESCRIPTION: Shows the commands for development, building, and serving a Remix app in SPA Mode using the Vite plugin.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_10\n\nLANGUAGE: shell\nCODE:\n```\nremix vite:dev\n```\n\nLANGUAGE: shell\nCODE:\n```\nremix vite:build\n```\n\nLANGUAGE: shell\nCODE:\n```\nnpx http-server build/client\n```\n\n----------------------------------------\n\nTITLE: HTML Form with Multiple Checkbox Inputs\nDESCRIPTION: An HTML form with multiple checkbox inputs that demonstrates how browsers serialize multiple selections into URL parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-writes.md#2025-04-18_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<form method=\"get\" action=\"/search\">\n  <fieldset>\n    <legend>Brand</legend>\n    <label>\n      <input name=\"brand\" value=\"nike\" type=\"checkbox\" />\n      Nike\n    </label>\n    <label>\n      <input name=\"brand\" value=\"reebok\" type=\"checkbox\" />\n      Reebok\n    </label>\n    <label>\n      <input name=\"color\" value=\"white\" type=\"checkbox\" />\n      White\n    </label>\n    <label>\n      <input name=\"color\" value=\"black\" type=\"checkbox\" />\n      Black\n    </label>\n    <button type=\"submit\">Search</button>\n  </fieldset>\n</form>\n```\n\n----------------------------------------\n\nTITLE: Starting Development Server\nDESCRIPTION: Command to start the Remix development server. This runs the app in development mode, rebuilding assets on file changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Defining Headers Function in TypeScript\nDESCRIPTION: Example of defining a headers function using the HeadersArgs type from @remix-run/node. This allows using a function declaration in addition to an arrow function expression.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-eslint-config/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport type { HeadersArgs } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport function headers({ loaderHeaders }: HeadersArgs) {\n  return {\n    \"x-my-custom-thing\": loaderHeaders.get(\"x-my-custom-thing\") || \"fallback\",\n  };\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Remix Project with TypeScript\nDESCRIPTION: Command to create a new Remix project using the default template with TypeScript support.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Specific Package Resolution Error Example\nDESCRIPTION: Concrete example of a dependency resolution error for the 'jimp' package.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/dependency-optimization.md#2025-04-18_snippet_1\n\nLANGUAGE: text\nCODE:\n```\n✘ [ERROR] Failed to resolve entry for package \"jimp\". The package may have incorrect main/module/exports specified in its package.json. [plugin vite:dep-pre-bundle]\n```\n\n----------------------------------------\n\nTITLE: Updating Package.json Scripts for PostCSS\nDESCRIPTION: Diff showing the removal of PostCSS-specific scripts in favor of built-in Remix handling.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_27\n\nLANGUAGE: diff\nCODE:\n```\n{\n  \"scripts\": {\n-    \"dev:css\": \"postcss styles --base styles --dir app/styles -w\",\n-    \"build:css\": \"postcss styles --base styles --dir app/styles --env production\",\n-    \"dev\": \"concurrently \\\"npm run dev:css\\\" \\\"remix dev\\\"\"\n+    \"dev\": \"remix dev\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Development Server Command\nDESCRIPTION: Command to start the development server with hot reload capabilities.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Building Remix Production Bundle\nDESCRIPTION: Command to build the Remix application for production deployment, generating optimized assets in the build directory.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/express/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Basic Remix Server Command\nDESCRIPTION: Basic command syntax for starting the Remix server with a server build path.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/serve.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nremix-serve <server-build-path>\n# e.g.\nremix-serve build/index.js\n```\n\n----------------------------------------\n\nTITLE: Asset Import Example in TypeScript/React\nDESCRIPTION: Demonstrates how to import and use image assets in a React component using standard import syntax.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\nimport logo from \"./logo.png\";\n\nexport function Logo() {\n  return <img src={logo} alt=\"My logo\" />;\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Launches the Remix application in development mode with hot reloading enabled for asset rebuilding on file changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-tutorial/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Package Manager Installation Options\nDESCRIPTION: Different package manager commands to create a new Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nnpm create remix@latest <projectDir>\n# or\nyarn create remix@latest <projectDir>\n# or\npnpm create remix@latest <projectDir>\n# or\nbunx create-remix@latest <projectDir>\n```\n\n----------------------------------------\n\nTITLE: Updating Package Scripts for Vite\nDESCRIPTION: Changes to package.json scripts for Vite development, build, and start commands.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"remix vite:dev\",\n    \"build\": \"remix vite:build\",\n    \"start\": \"remix-serve ./build/server/index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Return Type of useLoaderData Without Generic Parameter\nDESCRIPTION: Shows how the return type of useLoaderData will change to unknown when the generic parameter is omitted, helping to catch potential type errors.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_7\n\nLANGUAGE: ts\nCODE:\n```\ntype MyLoaderData = {\n  /*...*/\n};\n\nexport default function Route() {\n  const data = useLoaderData();\n  // ^? unknown\n}\n```\n\n----------------------------------------\n\nTITLE: Updating to Latest Remix v2.x\nDESCRIPTION: Command to update Remix packages to the latest v2 version.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install @remix-run/{dev,react,node,etc.}@2\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite Dev Server Port\nDESCRIPTION: Vite configuration to set a custom port for the development server.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  server: {\n    port: 3000,\n  },\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Configuration Property Updates - Remix Config\nDESCRIPTION: Changes to remix.config.js properties including renamed and removed configuration options. Notable changes include browserBuildDirectory becoming assetsBuildDirectory and serverModuleFormat defaulting to ESM.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_24\n\nLANGUAGE: javascript\nCODE:\n```\n// Old config\nmodule.exports = {\n  browserBuildDirectory: \"public/build\",\n  devServerPort: 8002,\n  serverModuleFormat: \"cjs\"\n}\n\n// New config\nmodule.exports = {\n  assetsBuildDirectory: \"public/build\",\n  dev: {\n    port: 8002\n  },\n  serverModuleFormat: \"esm\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Deno Deploy Script\nDESCRIPTION: JSON configuration for the deploy script in package.json. This script is used to deploy the app to Deno Deploy. Replace '<your deno deploy project>' with your actual project name.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"deploy\": \"deployctl deploy --project=<your deno deploy project> --include=.cache,build,public ./build/index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server with Wrangler\nDESCRIPTION: This command starts the Remix development server and Wrangler to emulate the Cloudflare runtime for local development. It uses the 'dev' script defined in the package.json file.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/cloudflare-pages/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n# start the remix dev server and wrangler\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Implementing LiveReload Component in Remix Root Component\nDESCRIPTION: This snippet demonstrates how to implement the LiveReload component in the root component of a Remix application. The LiveReload component is imported from @remix-run/react and rendered within the body tag.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/live-reload.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { LiveReload } from \"@remix-run/react\";\n\nexport default function Root() {\n  return (\n    <html>\n      <head />\n      <body>\n        <LiveReload />\n      </body>\n    </html>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix App for Production\nDESCRIPTION: Command to build the Remix app for production. This creates optimized bundles for both server and browser.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Automatic Index Parameter in Remix Index Routes\nDESCRIPTION: Shows how Remix automatically handles the index parameter when forms are rendered within index routes without an explicit action prop.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/index-query-param.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nfunction ProjectsIndex() {\n  return <Form method=\"post\" />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Remix Projects with Official Templates\nDESCRIPTION: Commands to create Remix projects using various official templates for different deployment targets and configurations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/cloudflare\nnpx create-remix@latest --template remix-run/remix/templates/cloudflare-workers\nnpx create-remix@latest --template remix-run/remix/templates/express\nnpx create-remix@latest --template remix-run/remix/templates/remix\nnpx create-remix@latest --template remix-run/remix/templates/remix-javascript\n\n## SPA Mode\nnpx create-remix@latest --template remix-run/remix/templates/spa\n\n## Classic Remix Compiler\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/arc\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/cloudflare-pages\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/cloudflare-workers\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/deno\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/express\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/fly\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/remix\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/remix-javascript\n```\n\n----------------------------------------\n\nTITLE: Creating a Remix Project with an Official Stack\nDESCRIPTION: Command to create a new Remix project using the Blues Stack, which is an official production-ready stack.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_4\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/blues-stack\n```\n\n----------------------------------------\n\nTITLE: Running Remix Project in Production\nDESCRIPTION: Starts the Remix application in production mode after the build process has been completed.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/express/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Importing Deno Modules\nDESCRIPTION: Example of importing Deno standard library modules using URL imports.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { copy } from \"https://deno.land/std@0.138.0/streams/conversion.ts\";\n```\n\n----------------------------------------\n\nTITLE: Signature of useSubmit Hook in TypeScript\nDESCRIPTION: Shows the TypeScript signature of the useSubmit hook, indicating that it takes two parameters: targetOrData and options.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-submit.md#2025-04-18_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nsubmit(targetOrData, options);\n```\n\n----------------------------------------\n\nTITLE: Starting Development Server\nDESCRIPTION: Command to start the Remix application in development mode with hot reloading\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/fly/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Declaring Remix Environment Types (TypeScript)\nDESCRIPTION: Shows how to declare global type references for Remix in a TypeScript project using a declaration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\n/// <reference types=\"@remix-run/dev\" />\n/// <reference types=\"@remix-run/node\" />\n```\n\n----------------------------------------\n\nTITLE: Creating a Remix Project with a Community Stack\nDESCRIPTION: Command to create a new Remix project using a community-created stack from GitHub.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_5\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template :username/:repo\n```\n\n----------------------------------------\n\nTITLE: Updating Root Component for Vite\nDESCRIPTION: Diff showing the removal of LiveReload component while keeping Scripts component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_6\n\nLANGUAGE: diff\nCODE:\n```\n  import {\n-   LiveReload,\n    Outlet,\n    Scripts,\n  }\n\n  export default function App() {\n    return (\n      <html>\n        <head>\n        </head>\n        <body>\n          <Outlet />\n-         <LiveReload />\n          <Scripts />\n        </body>\n      </html>\n    )\n  }\n```\n\n----------------------------------------\n\nTITLE: Running Remix in Production\nDESCRIPTION: Starts the built Remix application in production mode using the built-in app server.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-tutorial/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: SPA Mode Development Commands\nDESCRIPTION: Shell commands for developing, building and serving a Remix app in SPA Mode using the Remix dev server and http-server\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\nremix vite:dev\n```\n\nLANGUAGE: shell\nCODE:\n```\nremix vite:build\n```\n\nLANGUAGE: shell\nCODE:\n```\nnpx http-server build/client\n```\n\n----------------------------------------\n\nTITLE: Updating TypeScript Configuration for Vite\nDESCRIPTION: Changes to tsconfig.json for Vite compatibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"compilerOptions\": {\n    \"types\": [\"@remix-run/node\", \"vite/client\"],\n    \"skipLibCheck\": true,\n    \"module\": \"ESNext\",\n    \"moduleResolution\": \"Bundler\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Vite Plugin Ordering for MDX Support\nDESCRIPTION: Demonstrates the breaking change in plugin ordering where MDX plugins must now be placed before the Remix plugin. This ensures proper transpilation sequence as Remix now relies on standard Vite plugin ordering.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_9\n\nLANGUAGE: diff\nCODE:\n```\n  import mdx from \"@mdx-js/rollup\";\n  import { unstable_vitePlugin as remix } from \"@remix-run/dev\";\n  import { defineConfig } from \"vite\";\n\n  export default defineConfig({\n    plugins: [\n+     mdx(),\n      remix()\n-     mdx(),\n    ],\n  });\n```\n\n----------------------------------------\n\nTITLE: Configuring Host in Remix App Server\nDESCRIPTION: Example showing how to configure the hostname for the Express app using the HOST environment variable.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/serve.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nHOST=127.0.0.1 npx remix-serve build/index.js\n```\n\n----------------------------------------\n\nTITLE: Creating Vite Configuration for Remix\nDESCRIPTION: Basic Vite configuration file for a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Installing TypeScript Tools for Prisma Seed\nDESCRIPTION: Commands to install TypeScript execution dependencies. These tools allow running TypeScript files directly for database seeding without compilation to JavaScript.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_23\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install --save-dev ts-node tsconfig-paths\n```\n\n----------------------------------------\n\nTITLE: SPA HTML Template\nDESCRIPTION: Base HTML template for div-based SPA hydration with placeholder comment\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <title>My Cool App!</title>\n  </head>\n  <body>\n    <div id=\"app\"><!-- Remix SPA --></div>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Defining Remix Route Module Front Matter\nDESCRIPTION: Front matter configuration for a documentation page about Remix route modules, specifying the title and order of the section in the documentation.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/index.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: Route Module\norder: 4\n---\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Production Server\nDESCRIPTION: Command to start the Remix application in production mode after building.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/express/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Package Import Migration Example\nDESCRIPTION: Example showing how to update package imports for v2 by replacing 'remix' imports with direct @remix-run/* package imports\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-testing/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n- import type { ActionArgs } from \"remix\";\n- import { json, useLoaderData } from \"remix\";\n+ import type { ActionArgs } from \"@remix-run/node\";\n+ import { json } from \"@remix-run/node\";\n+ import { useLoaderData } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Production Build Command\nDESCRIPTION: Command to build the application for production deployment.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Styling Form Placeholders and Validation Messages in CSS\nDESCRIPTION: CSS styling for placeholder text, form validation error messages, and error containers with appropriate colors and sizing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_16\n\nLANGUAGE: css\nCODE:\n```\n::placeholder {\n  color: hsl(0 0% 100% / 65%);\n}\n\n.form-validation-error {\n  margin: 0;\n  margin-top: 0.25em;\n  color: var(--color-invalid);\n  font-size: 0.8rem;\n}\n\n.error-container {\n  background-color: hsla(356, 77%, 59%, 0.747);\n  border-radius: 0.25rem;\n  padding: 0.5rem 1rem;\n}\n```\n\n----------------------------------------\n\nTITLE: useHref Function Signature\nDESCRIPTION: Defines the signature of the useHref function, showing its parameters 'to' and 'options'.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/hooks/use-href.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nuseHref(to, options)\n```\n\n----------------------------------------\n\nTITLE: Cloning Remix Repository (Shell)\nDESCRIPTION: Commands to fork and clone the Remix repository locally, including checking out the dev branch for code changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/contributing.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\n# in a terminal, cd to parent directory where you want your clone to be, then\ngit clone https://github.com/<your_github_username>/remix.git\ncd remix\n\n# if you are making *any* code changes, make sure to checkout the dev branch\ngit checkout dev\n```\n\n----------------------------------------\n\nTITLE: Remix Minify Syntax Configuration Reference\nDESCRIPTION: A reference link to a GitHub file showing how Remix configured minification, demonstrating how bundler optimizations should not affect Remix's correctness.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0009-do-not-rely-on-treeshaking-for-correctness.md#2025-04-18_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n[remix-minify-syntax]: https://github.com/remix-run/remix/blob/bf042e7d340b3cbfdaa389c201e1284fb4d03403/packages/remix-dev/compiler/server/compiler.ts#L80-L88\n```\n\n----------------------------------------\n\nTITLE: Running Tests in Remix Project\nDESCRIPTION: These commands demonstrate how to run tests for all packages or a specific package in the Remix project. The first command runs all tests, while the second targets only the @remix-run/express package.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/contributing.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\n# Test all packages\npnpm test\n\n# Test only @remix-run/express\npnpm test:primary --selectProjects express\n```\n\n----------------------------------------\n\nTITLE: Accessing Cloudflare Environment Variables in Remix\nDESCRIPTION: Example of accessing environment variables in Cloudflare adapters using the context parameter in loaders/actions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async ({\n  context,\n}: LoaderFunctionArgs) => {\n  console.log(context.cloudflare.env.SOME_SECRET);\n};\n```\n\n----------------------------------------\n\nTITLE: Creating Remix Projects from Local Templates\nDESCRIPTION: Commands to create new Remix projects using local directories or tarballs as templates.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_7\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template /my/remix-stack\nnpx create-remix@latest --template /my/remix-stack.tar.gz\nnpx create-remix@latest --template /my/remix-stack.tgz\nnpx create-remix@latest --template file:///Users/michael/my-remix-stack.tar.gz\n```\n\n----------------------------------------\n\nTITLE: Running Remix Development Environment\nDESCRIPTION: Command to start both the Miniflare server (local environment for Cloudflare Workers) and the Remix development server simultaneously.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/cloudflare-workers/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Vite Cloudflare Template\nDESCRIPTION: Command to create a new Remix project using the unstable Vite Cloudflare template. This is part of the new Cloudflare Pages support added in version 2.6.0.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite-cloudflare\n```\n\n----------------------------------------\n\nTITLE: Initializing Prisma with SQLite\nDESCRIPTION: Command to initialize Prisma with SQLite as the database provider. This creates the basic schema structure and configuration files needed for the Prisma ORM.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_18\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx prisma init --datasource-provider sqlite\n```\n\n----------------------------------------\n\nTITLE: Installing Remix with Unstable Vite Cloudflare Template\nDESCRIPTION: Command to create a new Remix project using the unstable Vite Cloudflare template. This template provides Cloudflare support which was added in this release.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_8\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite-cloudflare\n```\n\n----------------------------------------\n\nTITLE: NPM Scripts Configuration\nDESCRIPTION: Package.json scripts configuration for development and production server execution.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"node ./server.js\",\n    \"start\": \"cross-env NODE_ENV=production node ./server.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Remix ESLint with Jest and Testing Library\nDESCRIPTION: Extended ESLint configuration for Remix projects using Jest and Testing Library. This includes additional rules specific to these testing frameworks.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-eslint-config/README.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = {\n  extends: [\n    \"@remix-run/eslint-config\",\n    \"@remix-run/eslint-config/jest-testing-library\",\n  ],\n};\n```\n\n----------------------------------------\n\nTITLE: Changes to Destructured Keys Affecting HMR in TSX\nDESCRIPTION: Shows how modifying destructured keys from hook return values can break React Fast Refresh state preservation. When a key name is changed, React has no way to preserve the state of sibling components.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_5\n\nLANGUAGE: diff\nCODE:\n```\n  export const loader = async () => {\n-   return json({ stuff: \"some things\" })\n+   return json({ things: \"some things\" })\n  }\n\n  export default Component() {\n-   const { stuff } = useLoaderData<typeof loader>()\n+   const { things } = useLoaderData<typeof loader>()\n    return (\n      <div>\n        <input />\n-       <p>{stuff}</p>\n+       <p>{things}</p>\n      </div>\n    )\n  }\n```\n\n----------------------------------------\n\nTITLE: Previewing Remix SPA Production Build\nDESCRIPTION: Command to preview the production build locally using Vite's preview functionality.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/spa/README.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run preview\n```\n\n----------------------------------------\n\nTITLE: Uninstalling @remix-run/css-bundle\nDESCRIPTION: Command to remove the @remix-run/css-bundle package.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_11\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm uninstall @remix-run/css-bundle\n```\n\n----------------------------------------\n\nTITLE: Building and Running Remix with Wrangler\nDESCRIPTION: Commands to build the Remix project and start it using Wrangler, Cloudflare's command-line tool for Workers.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare-workers/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Installing Concurrently for Parallel Script Execution in Remix\nDESCRIPTION: Command to install Concurrently as a dev dependency for running multiple npm scripts in parallel in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_5\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm add -D concurrently\n```\n\n----------------------------------------\n\nTITLE: Building Remix Production Bundle\nDESCRIPTION: Command to build the Remix application for production deployment. Creates build/server and build/client directories.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Installing TypeScript Definitions for bcryptjs\nDESCRIPTION: This snippet shows the command to install TypeScript definitions for bcryptjs from DefinitelyTyped.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_40\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install --save-dev @types/bcryptjs\n```\n\n----------------------------------------\n\nTITLE: Initializing Remix Project with Create-Remix Command\nDESCRIPTION: This command initializes a new Remix project using the create-remix package. It launches an interactive setup process in the terminal.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Creating a Remix Project from Community Examples\nDESCRIPTION: Command to create a new Remix project using a community-driven example template.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/examples/basic\n```\n\n----------------------------------------\n\nTITLE: Route Match Access Changes in TypeScript\nDESCRIPTION: Shows changes to accessing route match data in meta functions by removing the route property and accessing data directly from match object.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\n// before\nexport function meta({ matches }) {\n  const rootModule = matches.find((match) => match.route.id === \"root\");\n}\n// after\nexport function meta({ matches }) {\n  const rootModule = matches.find((match) => match.id === \"root\");\n}\n```\n\n----------------------------------------\n\nTITLE: Updated Link Properties Configuration\nDESCRIPTION: Demonstrates migration from lowercase to camelCase link properties in route definitions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nexport const links: LinksFunction = () => {\n  return [\n    {\n      rel: \"preload\",\n      as: \"image\",\n      imagesrcset: \"...\",\n      imagesizes: \"...\",\n    },\n  ];\n};\n```\n\nLANGUAGE: typescript\nCODE:\n```\nexport const links: V2_LinksFunction = () => {\n  return [\n    {\n      rel: \"preload\",\n      as: \"image\",\n      imageSrcSet: \"...\",\n      imageSizes: \"...\",\n    },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Displaying Remix CLI Help\nDESCRIPTION: Shows how to get a full list of available commands and flags for the Remix CLI.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx @remix-run/dev -h\n```\n\n----------------------------------------\n\nTITLE: Installing Remix SPA Template using npx\nDESCRIPTION: Command to set up a new Remix SPA project using the create-remix tool.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/spa/README.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/spa\n```\n\n----------------------------------------\n\nTITLE: Loading Vite Server Build in Request Handler\nDESCRIPTION: A code diff showing how to update the request handler to load the Vite server build directly using Vite's ssrLoadModule function.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_14\n\nLANGUAGE: diff\nCODE:\n```\napp.all(\n  \"*\",\n  createRequestHandler({\n    build: vite\n-      ? () => unstable_loadViteServerBuild(vite)\n+      ? () => vite.ssrLoadModule(unstable_viteServerBuildModuleId)\n      : await import(\"./build/server/index.js\"),\n  })\n);\n```\n\n----------------------------------------\n\nTITLE: Generated HTML Output from Meta Function\nDESCRIPTION: The resulting HTML tags generated from the meta function implementation\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/route/meta.md#2025-04-18_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<title>Very cool app | Remix</title>\n<meta property=\"og:title\" content=\"Very cool app\" />;\n<meta name=\"description\" content=\"This app is the best\" />\n```\n\n----------------------------------------\n\nTITLE: Using Undici as Fetch Polyfill in Remix 2.9.0\nDESCRIPTION: Shows how to opt into using Undici as the Web Fetch polyfill in Remix 2.9.0 by passing the nativeFetch option to installGlobals. This allows for better spec compliance and prepares apps for using built-in Node.js APIs.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\ninstallGlobals({ nativeFetch: true });\n```\n\n----------------------------------------\n\nTITLE: Updating Package Scripts for Remix (JSON)\nDESCRIPTION: Shows how to update the package.json scripts to use Remix commands for building, development, and serving the application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"build\": \"remix build\",\n    \"dev\": \"remix dev\",\n    \"start\": \"remix-serve build/index.js\",\n    \"typecheck\": \"tsc\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Empty routes.ts File\nDESCRIPTION: Command to create an empty routes.ts file which will be used to define routes for React Router v7's config-based routing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_29\n\nLANGUAGE: shellscript\nCODE:\n```\ntouch app/routes.ts\n```\n\n----------------------------------------\n\nTITLE: Conceptual Implementation of useLoaderData with Explicit loader Input\nDESCRIPTION: A conceptual implementation showing how useLoaderData would work if loader were an explicit input parameter, which would allow for proper type inference.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\n// _conceptually_ `loader` is an input for `useLoaderData`\nfunction useLoaderData<Loader extends LoaderFunction>(loader: Loader) {\n  /*...*/\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Prisma Dependencies for Remix\nDESCRIPTION: Commands to install Prisma and its client for use in a Remix application. This includes the dev dependency for schema management and the client library for runtime database queries.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_17\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install --save-dev prisma\nnpm install @prisma/client\n```\n\n----------------------------------------\n\nTITLE: Installing vite-tsconfig-paths\nDESCRIPTION: Command to install the vite-tsconfig-paths plugin for path alias resolution.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_9\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D vite-tsconfig-paths\n```\n\n----------------------------------------\n\nTITLE: Updating Relative Links in Splat Routes\nDESCRIPTION: Diff showing the changes needed for relative links within splat routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_19\n\nLANGUAGE: diff\nCODE:\n```\n// dashboard.$.tsx or dashboard/route.tsx\nfunction Dashboard() {\n  return (\n    <div>\n      <h2>Dashboard</h2>\n      <nav>\n-        <Link to=\"\">Dashboard Home</Link>\n-        <Link to=\"team\">Team</Link>\n-        <Link to=\"projects\">Projects</Link>\n+        <Link to=\"../\">Dashboard Home</Link>\n+        <Link to=\"../team\">Team</Link>\n+        <Link to=\"../projects\">Projects</Link>\n      </nav>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Link Discovery Options\nDESCRIPTION: Examples of using the discover prop for route discovery behavior\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/components/link.md#2025-04-18_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n<>\n  <Link /> {/* defaults to \"render\" */}\n  <Link discover=\"none\" />\n</>\n```\n\n----------------------------------------\n\nTITLE: Starting Development Server in Remix\nDESCRIPTION: Command to start the development server for local development.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Installing Global Node Polyfills in Vite Config\nDESCRIPTION: Example of how to explicitly opt-in to global Node polyfills in a Vite configuration file after their automatic installation was removed.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_17\n\nLANGUAGE: JavaScript\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { installGlobals } from \"@remix-run/node\";\nimport { defineConfig } from \"vite\";\n\ninstallGlobals();\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Create Remix with Project Directory\nDESCRIPTION: Creates a new Remix project in the specified directory path.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest <projectDir>\n```\n\n----------------------------------------\n\nTITLE: Serving Remix SPA with sirv-cli\nDESCRIPTION: Example command to serve the built Remix SPA using sirv-cli, demonstrating SPA fallback configuration.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/spa/README.md#2025-04-18_snippet_4\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx sirv-cli build/client/ --single\n```\n\n----------------------------------------\n\nTITLE: File Structure Reference for Remix Runtime Packages\nDESCRIPTION: Shows the core file references that each Remix server runtime package must implement, including interface.ts and reexport.ts files.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/README.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n- Implement and export values for each type in [`interface.ts`](./interface.ts)\n- Re-export types in [`reexport.ts`](./reexport.ts)\n```\n\n----------------------------------------\n\nTITLE: Sample .env File Content for Remix\nDESCRIPTION: Example of how to define environment variables in a .env file with a key-value pair format.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nSOME_SECRET=super-secret\n```\n\n----------------------------------------\n\nTITLE: Accessing Multiple Search Parameter Values in Loader\nDESCRIPTION: Shows how to retrieve multiple values for the same search parameter using searchParams.getAll() in a Remix loader.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LoaderFunctionArgs } from \"@remix-run/node\"; // or cloudflare/deno\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\nexport async function loader({\n  request,\n}: LoaderFunctionArgs) {\n  const url = new URL(request.url);\n  const brands = url.searchParams.getAll(\"brand\");\n  return json(await getProducts({ brands }));\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing Old React Router with DataBrowserRouter in TSX\nDESCRIPTION: Example of the previous implementation using DataBrowserRouter component with JSX Route definitions. This approach used an internal router singleton created upon first render.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nfunction OldApp() {\n  return (\n    <DataBrowserRouter>\n      <Route path=\"/\" element={<Layout />}>\n        <Route index element={<Home />} />\n      </Route>\n    </DataBrowserRouter>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Installing @remix-run/css-bundle Package for Remix\nDESCRIPTION: This command installs the @remix-run/css-bundle package using npm. This package is used to access the href of the generated CSS file when using CSS bundling features in Remix projects.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-css-bundle/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install @remix-run/css-bundle\n```\n\n----------------------------------------\n\nTITLE: Vite CloudflareDevProxy Plugin Configuration\nDESCRIPTION: Example showing how to configure the Cloudflare dev proxy as a Vite plugin, which must come before the remix plugin to override Vite's dev server middleware for Cloudflare compatibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-cloudflare-pages/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport {\n  unstable_vitePlugin as remix,\n  cloudflareDevProxyVitePlugin as remixCloudflareDevProxy,\n} from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remixCloudflareDevProxy(),\n    remix(),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Styling Form Input Controls in CSS\nDESCRIPTION: CSS styling for form input controls like checkboxes, radio buttons, and file inputs, including margin settings and width configurations.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_14\n\nLANGUAGE: css\nCODE:\n```\n[type=\"file\"],\n[type=\"checkbox\"],\n[type=\"radio\"] {\n  margin: 0;\n}\n\n[type=\"file\"] {\n  width: 100%;\n}\n```\n\n----------------------------------------\n\nTITLE: Importing React in TypeScript\nDESCRIPTION: Example of importing React components in a TypeScript file.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useState } from \"react\";\n```\n\n----------------------------------------\n\nTITLE: Correctly Using Type Generics and JSX in .tsx Files\nDESCRIPTION: Example showing the correct syntax for both type generics and JSX elements in .tsx files, where generics require a comma for disambiguation.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\n// this works in .tsx files\nconst id = <T,>(x: T) => x;\n//           ^ comma: this is a generic, not a JSX element\nconst component = <h1>hello</h1>;\n//                   ^ no comma: this is a JSX element\n```\n\n----------------------------------------\n\nTITLE: Setting Session Secret in Fly.io\nDESCRIPTION: Command to set the SESSION_SECRET environment variable in Fly.io for secure session management.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_90\n\nLANGUAGE: shellscript\nCODE:\n```\nfly secrets set SESSION_SECRET=your-secret-here\n```\n\n----------------------------------------\n\nTITLE: Implementation of useLoaderData in Remix v1.6.4\nDESCRIPTION: Shows the current implementation of useLoaderData in Remix v1.6.4 where the function returns an any type that is implicitly type cast to whatever type is passed into the generic parameter.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\n// https://github.com/remix-run/remix/blob/v1.6.4/packages/remix-react/components.tsx#L1370\nexport function useLoaderData<T = AppData>(): T {\n  return useRemixRouteContext().data; //\n}\n\n// https://github.com/remix-run/remix/blob/v1.6.4/packages/remix-react/components.tsx#L73\nfunction useRemixRouteContext(): RemixRouteContextType {\n  /* ... */\n}\n\n// https://github.com/remix-run/remix/blob/v1.6.4/packages/remix-react/components.tsx#L56\ninterface RemixRouteContextType {\n  data: AppData;\n  id: string;\n}\n\n// https://github.com/remix-run/remix/blob/v1.6.4/packages/remix-react/data.ts#L4\nexport type AppData = any;\n```\n\n----------------------------------------\n\nTITLE: Installing Remix with Vite Express Template\nDESCRIPTION: Command to create a new Remix project using the unstable Vite Express template.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_20\n\nLANGUAGE: bash\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite-express\n```\n\n----------------------------------------\n\nTITLE: Removing installGlobals from Vite Config\nDESCRIPTION: Diff showing the removal of installGlobals from the Vite configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_1\n\nLANGUAGE: diff\nCODE:\n```\nimport { vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\n-installGlobals();\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Remix Config with Dev Options\nDESCRIPTION: Example of configuring dev server options in Remix config file.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_30\n\nLANGUAGE: javascript\nCODE:\n```\n// remix.config.js\nmodule.exports = {\n  future: {\n    unstable_dev: {\n      httpPort: 8001,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Deno Template\nDESCRIPTION: Command to create a new Remix project using the Deno template. This sets up the initial project structure and dependencies.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/classic-remix-compiler/deno\n```\n\n----------------------------------------\n\nTITLE: Authenticating with Fly CLI\nDESCRIPTION: Command to sign up and authenticate with Fly.io using the CLI tool\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/fly/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nflyctl auth signup\n```\n\n----------------------------------------\n\nTITLE: Configuring Vite with Build Manifest\nDESCRIPTION: Configuration for enabling Vite manifest file generation by setting build.manifest to true in the Vite config.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  build: { manifest: true },\n  // ...\n});\n```\n\n----------------------------------------\n\nTITLE: Deploying Remix App to Cloudflare Workers\nDESCRIPTION: Command to deploy the Remix application to Cloudflare Workers. Requires a Cloudflare account and a configured Workers subdomain.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare-workers/README.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Creating Contact Route File\nDESCRIPTION: Shell commands to create the routes directory and a new contact route file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nmkdir app/routes\ntouch app/routes/contacts.\\$contactId.tsx\n```\n\n----------------------------------------\n\nTITLE: Implementing Request Body Access in Remix Actions\nDESCRIPTION: Example showing the recommended approach to handle request body in Remix actions using .clone() when multiple reads are needed, though this is not recommended due to performance implications.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0002-do-not-clone-request.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nrequest.clone()\n```\n\n----------------------------------------\n\nTITLE: Configuring SPA Mode in Vite\nDESCRIPTION: Configuration example for enabling SPA Mode in Remix by setting unstable_ssr to false in the Vite plugin config\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n// vite.config.ts\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [remix({ unstable_ssr: false })],\n});\n```\n\n----------------------------------------\n\nTITLE: Running Initial Prisma Migration\nDESCRIPTION: Command to create and run the initial database migration using Prisma, setting up the database schema.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_91\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx prisma migrate dev\n```\n\n----------------------------------------\n\nTITLE: Running Filtered Tests (Shell)\nDESCRIPTION: Example command to run filtered tests using pnpm, selecting specific projects, test paths, and test names.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/contributing.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\npnpm test:primary --selectProjects react --testPathPattern transition --testNamePattern \"initial values\"\n```\n\n----------------------------------------\n\nTITLE: Installing Source Map Support\nDESCRIPTION: Example demonstrating how to install source map support in a custom server implementation using the source-map-support package.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nnpm i source-map-support\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport sourceMapSupport from \"source-map-support\";\nsourceMapSupport.install();\n```\n\n----------------------------------------\n\nTITLE: Configuring Textarea Styling in CSS\nDESCRIPTION: CSS rules for textarea elements, including display settings, height constraints, and disabled/readonly states.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_13\n\nLANGUAGE: css\nCODE:\n```\ntextarea {\n  display: block;\n  min-height: 50px;\n  max-width: 100%;\n}\n\ntextarea[rows] {\n  height: auto;\n}\n\ninput:disabled,\ninput[readonly],\ntextarea:disabled,\ntextarea[readonly] {\n  opacity: 0.7;\n  cursor: not-allowed;\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix Project for Production\nDESCRIPTION: This command builds the Remix application for production deployment. It should be run before deploying the project to AWS.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/arc/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Sending Ready Message on Server Start\nDESCRIPTION: Code snippet to send a 'ready' message to the Remix compiler when the server initially starts.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst port = 3000;\napp.listen(port, async () => {\n  console.log(`Express server listening on port ${port}`);\n\n  if (process.env.NODE_ENV === \"development\") {\n    broadcastDevReady(initialBuild);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing Fly.io Deployment\nDESCRIPTION: Command to launch a new Fly.io application setup process that detects Remix project configuration and initiates deployment setup.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_89\n\nLANGUAGE: shellscript\nCODE:\n```\nfly launch\n```\n\n----------------------------------------\n\nTITLE: Illustrating Browser History Stack After Back Button Click\nDESCRIPTION: This snippet shows how the browser history stack changes when the back button is clicked after a form submission. It demonstrates the potential for form resubmission in default browser behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/resubmissions.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n```\nGET /buy - *POST /checkout < GET /order/123\n```\n```\n\n----------------------------------------\n\nTITLE: Updating Remix Package Imports\nDESCRIPTION: Example of migrating imports from the deprecated 'remix' package to the new '@remix-run/*' packages structure.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_5\n\nLANGUAGE: TypeScript\nCODE:\n```\n- import type { ActionArgs } from \"remix\";\n- import { json, useLoaderData } from \"remix\";\n+ import type { ActionArgs } from \"@remix-run/node\";\n+ import { json } from \"@remix-run/node\";\n+ import { useLoaderData } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Running Remix Production Server\nDESCRIPTION: Command to start the Remix application in production mode after building\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Package.json Module Configuration\nDESCRIPTION: Configuration update in package.json to specify the project type as module for remix-serve compatibility.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/quickstart.md#2025-04-18_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"type\": \"module\"\n}\n```\n\n----------------------------------------\n\nTITLE: Installing @remix-run/fs-routes Package\nDESCRIPTION: Command to install the @remix-run/fs-routes package which provides an API matching React Router v7's @react-router/fs-routes for file system based routing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_31\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D @remix-run/fs-routes\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Framework using NPX\nDESCRIPTION: Command to create a new Remix project using the create-remix package. This will launch an interactive setup process where you can configure your project options.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-fs-routes/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Vite Configuration for Single Fetch\nDESCRIPTION: Example Vite configuration to enable the single fetch feature in Remix\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_singleFetch: true,\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Deploying to Cloudflare Pages\nDESCRIPTION: Command to deploy the built application to Cloudflare Pages hosting platform.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare/README.md#2025-04-18_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Creating .env File for Local Development in Remix\nDESCRIPTION: Command to create an empty .env file in the root of your Remix project for storing environment variables during local development.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/envvars.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\ntouch .env\n```\n\n----------------------------------------\n\nTITLE: Deploying Remix Project to AWS with Architect\nDESCRIPTION: This command deploys the built Remix application to AWS using Architect. It should be run after building the project for production.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/arc/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpx arc deploy production\n```\n\n----------------------------------------\n\nTITLE: Running Prisma Seed Script\nDESCRIPTION: Command to manually run the Prisma seed script to populate the database with initial data.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_92\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx prisma db seed\n```\n\n----------------------------------------\n\nTITLE: Integrating broadcastDevReady in Express Server\nDESCRIPTION: Demonstrates how to integrate the broadcastDevReady function in an Express server setup for Remix development.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport path from \"node:path\";\n\nimport { broadcastDevReady } from \"@remix-run/node\";\nimport express from \"express\";\n\nconst BUILD_DIR = path.resolve(__dirname, \"build\");\nconst build = require(BUILD_DIR);\n\nconst app = express();\n\n// ... code for setting up your express app goes here ...\n\napp.all(\"*\", createRequestHandler({ build }));\n\nconst port = 3000;\napp.listen(port, () => {\n  console.log(`👉 http://localhost:${port}`);\n\n  if (process.env.NODE_ENV === \"development\") {\n    broadcastDevReady(build);\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Complete Set of Default Polyfills in Remix v1\nDESCRIPTION: Reference configuration showing the complete set of default polyfills from Remix v1, which can be manually specified in remix.config.js for v2 if needed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/v2.md#2025-04-18_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  serverNodeBuiltinsPolyfill: {\n    modules: {\n      _stream_duplex: true,\n      _stream_passthrough: true,\n      _stream_readable: true,\n      _stream_transform: true,\n      _stream_writable: true,\n      assert: true,\n      \"assert/strict\": true,\n      buffer: true,\n      console: true,\n      constants: true,\n      crypto: \"empty\",\n      diagnostics_channel: true,\n      domain: true,\n      events: true,\n      fs: \"empty\",\n      \"fs/promises\": \"empty\",\n      http: true,\n      https: true,\n      module: true,\n      os: true,\n      path: true,\n      \"path/posix\": true,\n      \"path/win32\": true,\n      perf_hooks: true,\n      process: true,\n      punycode: true,\n      querystring: true,\n      stream: true,\n      \"stream/promises\": true,\n      \"stream/web\": true,\n      string_decoder: true,\n      sys: true,\n      timers: true,\n      \"timers/promises\": true,\n      tty: true,\n      url: true,\n      util: true,\n      \"util/types\": true,\n      vm: true,\n      wasi: true,\n      worker_threads: true,\n      zlib: true,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Installing Remix with Vite for Cloudflare\nDESCRIPTION: Command to create a new Remix project with Vite and Cloudflare Pages support using the unstable-vite-cloudflare template.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_5\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite-cloudflare\n```\n\n----------------------------------------\n\nTITLE: Enabling Single Fetch Types in Vite Config\nDESCRIPTION: This snippet shows how to enable single fetch types in the Vite configuration file. It declares a module augmentation for @remix-run/server-runtime and sets the unstable_singleFetch future flag to true.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// vite.config.ts\n\ndeclare module \"@remix-run/server-runtime\" {\n  interface Future {\n    unstable_singleFetch: true; // 👈 enable _types_ for single-fetch\n  }\n}\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      future: {\n        unstable_singleFetch: true, // 👈 enable single-fetch\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Defining CSS Styles for Index Route\nDESCRIPTION: CSS code for styling the body of the index route with a purple gradient background and white text.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_9\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  color: hsl(0, 0%, 100%);\n  background-image: radial-gradient(\n    circle,\n    rgba(152, 11, 238, 1) 0%,\n    rgba(118, 15, 181, 1) 35%,\n    rgba(58, 13, 85, 1) 100%\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a New Playground Project in Remix\nDESCRIPTION: Command to create a new project within the 'playground' directory, which is ignored by .gitignore. The <?name> parameter allows specifying a custom project name.\nSOURCE: https://github.com/remix-run/remix/blob/main/scripts/playground/template/README.md#2025-04-18_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\npnpm playground:new <?name>\n```\n\n----------------------------------------\n\nTITLE: Creating New Remix SPA Project\nDESCRIPTION: Command to create a new Remix project using the SPA template\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/spa\n```\n\n----------------------------------------\n\nTITLE: Updating Remix Imports Example in JavaScript/TypeScript\nDESCRIPTION: Example showing how to update imports when migrating from the deprecated 'remix' package to the source '@remix-run/*' packages.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_6\n\nLANGUAGE: diff\nCODE:\n```\n- import type { ActionArgs } from \"remix\";\n- import { json, useLoaderData } from \"remix\";\n+ import type { ActionArgs } from \"@remix-run/node\";\n+ import { json } from \"@remix-run/node\";\n+ import { useLoaderData } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Basic Create Remix Command\nDESCRIPTION: Launches the interactive CLI to create a new Remix project in the current directory.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Creating Edit Route File in Remix\nDESCRIPTION: Shell command to create a new route file for editing contacts with special naming convention to prevent nesting.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_12\n\nLANGUAGE: shellscript\nCODE:\n```\ntouch app/routes/contacts.\\$contactId_.edit.tsx\n```\n\n----------------------------------------\n\nTITLE: Implementing Strangler Pattern for React Router Integration\nDESCRIPTION: A pseudocode example demonstrating how to use the strangler pattern with a feature flag to validate that the new React Router static handler produces identical results to the existing Remix implementation before full migration.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0007-remix-on-react-router-6-4-0.md#2025-04-18_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\n// Runtime-agnostic flag to enable behavior, will always be committed as\n// `false` initially, and toggled to true during local dev\nconst ENABLE_REMIX_ROUTER = false;\n\nasync function handleDocumentRequest({ request }) {\n  const appState = {\n    trackBoundaries: true,\n    trackCatchBoundaries: true,\n    catchBoundaryRouteId: null,\n    renderBoundaryRouteId: null,\n    loaderBoundaryRouteId: null,\n    error: undefined,\n    catch: undefined,\n  };\n\n  // ... do all the current stuff\n\n  const serverHandoff = {\n    actionData,\n    appState: appState,\n    matches: entryMatches,\n    routeData,\n  };\n\n  const entryContext = {\n    ...serverHandoff,\n    manifest: build.assets,\n    routeModules,\n    serverHandoffString: createServerHandoffString(serverHandoff),\n  };\n\n  // If the flag is enabled, process the request again with the new static\n  // handler and confirm we get the same data on the other side\n  if (ENABLE_REMIX_ROUTER) {\n    const staticHandler = unstable_createStaticHandler(routes);\n    const context = await staticHandler.query(request);\n\n    // Note: == only used for brevity ;)\n    assert(entryContext.matches === context.matches);\n    assert(entryContext.routeData === context.loaderData);\n    assert(entryContext.actionData === context.actionData);\n\n    if (catchBoundaryRouteId) {\n      assert(appState.catch === context.errors[catchBoundaryRouteId]);\n    }\n\n    if (loaderBoundaryRouteId) {\n      assert(appState.error === context.errors[loaderBoundaryRouteId]);\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Production\nDESCRIPTION: Command to run the Remix app in production mode after building. This serves the optimized production build.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Cloudflare Template Installation Command\nDESCRIPTION: Shell command to create a new Remix project using the unstable-vite-cloudflare template.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-cloudflare-pages/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite-cloudflare\n```\n\n----------------------------------------\n\nTITLE: Type Definition Updates - Remix Types\nDESCRIPTION: Changes to TypeScript type definitions removing V2_ prefixes and adjusting types to use unknown instead of any for better type safety.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_25\n\nLANGUAGE: typescript\nCODE:\n```\n// Old types\ntype OldMetaFunction = V2_MetaFunction;\ntype OldMetaArgs = V2_MetaArgs;\n\n// New types\ntype NewMetaFunction = MetaFunction;\ntype NewMetaArgs = MetaArgs;\n\n// Type changes from any to unknown\ntype AppData = unknown;\ntype LocationState = unknown;\ntype UIMatchData = unknown;\n```\n\n----------------------------------------\n\nTITLE: Initializing a New Remix Project via Command Line\nDESCRIPTION: This command uses npx to run the create-remix tool, which sets up a new Remix project. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-serve/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Implementing CatchBoundary and ErrorBoundary in Remix v1 (TypeScript/React)\nDESCRIPTION: Demonstrates the current implementation of separate CatchBoundary and ErrorBoundary components in Remix v1, for comparison with the new v2 approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport { useCatch } from \"@remix-run/react\";\n\nexport function CatchBoundary() {\n  const caught = useCatch();\n  return (\n    <p>\n      {caught.status} {caught.data}\n    </p>\n  );\n}\n\nexport function ErrorBoundary({ error }) {\n  return <p>{error.message}</p>;\n}\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Development Mode\nDESCRIPTION: Starts the Remix app in development mode, which rebuilds assets on file changes. This command is typically used during the development process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/node/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Setting Deno Deploy Token\nDESCRIPTION: Command to set the Deno Deploy API token as an environment variable.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nexport DENO_DEPLOY_TOKEN=<your Deno Deploy API token>\n```\n\n----------------------------------------\n\nTITLE: Configuring Unstable Route Config in Vite\nDESCRIPTION: Configuration to enable React Router v7's config-based routing by setting the unstable_routeConfig future flag in vite.config.ts\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    unstable_routeConfig: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Reverse Proxy Environment Configuration\nDESCRIPTION: Shell command for configuring REMIX_DEV_ORIGIN to work with reverse proxy setup\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_12\n\nLANGUAGE: shellscript\nCODE:\n```\nREMIX_DEV_ORIGIN=https://myhost remix dev\n```\n\n----------------------------------------\n\nTITLE: Using Inferred Loader Data Types\nDESCRIPTION: Shows how to use the inferred loader data types with useLoaderData hook.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_20\n\nLANGUAGE: typescript\nCODE:\n```\n- let data = useLoaderData() as LoaderData;\n+ let data = useLoaderData<typeof loader>();\n```\n\n----------------------------------------\n\nTITLE: Deno Deploy Configuration\nDESCRIPTION: Package.json script configuration for deploying to Deno Deploy platform.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"deploy\": \"deployctl deploy --project=<your deno deploy project> --include=.cache,build,public ./build/index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Deno Deploy CLI\nDESCRIPTION: Command to install the Deno Deploy CLI tool with necessary permissions.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_9\n\nLANGUAGE: sh\nCODE:\n```\ndeno install --allow-read --allow-write --allow-env --allow-net --allow-run --no-check -r -f https://deno.land/x/deploy/deployctl.ts\n```\n\n----------------------------------------\n\nTITLE: Importing Deno Module\nDESCRIPTION: Example of importing a Deno module using an inlined URL. This demonstrates the recommended approach for using Deno-specific modules.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nimport { copy } from \"https://deno.land/std@0.138.0/streams/conversion.ts\";\n```\n\n----------------------------------------\n\nTITLE: Configuring Tailwind CSS Base File\nDESCRIPTION: Basic Tailwind CSS configuration file with core directives for base, components and utilities.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_26\n\nLANGUAGE: css\nCODE:\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n----------------------------------------\n\nTITLE: Adding Stylesheet Links in Root Component\nDESCRIPTION: Code snippet showing how to import and link a CSS file in the root component of a Remix application.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\";\n// existing imports\n\nimport appStylesHref from \"./app.css?url\";\n\nexport const links: LinksFunction = () => [\n  { rel: \"stylesheet\", href: appStylesHref },\n];\n```\n\n----------------------------------------\n\nTITLE: Checklist for Adding a New Package in Remix Project\nDESCRIPTION: A markdown checklist outlining the steps required to add a new package to the Remix project. It includes tasks such as creating a folder, updating configuration files, and modifying build scripts.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/ADDING_A_PACKAGE.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# How to add a package\n\n- [ ] add folder and make sure it's a unique \"name\" field in `package.json`\n- [ ] add to root package.json `packages` array\n- [ ] update rollup config to build the package\n- [ ] add root `tsconfig.json` entry and make sure pkg tsconfig is proper output dir\n- [ ] add to publish scripts\n- [ ] update version script\n- [ ] update `.changeset/config.json` to include the package\n```\n\n----------------------------------------\n\nTITLE: Building Remix SPA for Production\nDESCRIPTION: Command to build the Remix SPA for production, generating assets and an index.html file.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/spa/README.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Module Side Effects Example\nDESCRIPTION: Example showing module side effects that persist in development mode despite cache purging.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/serve.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { json } from \"@remix-run/node\"; // or cloudflare/deno\n\n// this starts running the moment the module is imported\nsetInterval(() => {\n  console.log(Date.now());\n}, 1000);\n\nexport async function loader() {\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix for Production\nDESCRIPTION: Command to build the Remix application for production deployment.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/remix-javascript/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Installing Vanilla Extract Core Package\nDESCRIPTION: Command to install the Vanilla Extract core styling package as a development dependency in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/vanilla-extract.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D @vanilla-extract/css\n```\n\n----------------------------------------\n\nTITLE: Initializing New React Router with RouterProvider in TSX\nDESCRIPTION: Example of the new implementation using createBrowserRouter function to create a router instance, which is then passed to RouterProvider. This approach moves router creation to user-land, allowing for more flexibility and easier testing.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nconst router = createBrowserRouter([\n  {\n    path: \"/\",\n    element: <Layout />,\n    children: [\n      {\n        index: true,\n        element: <Home />,\n      },\n    ],\n  },\n]);\n\nfunction NewApp() {\n  return <RouterProvider router={router} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a New Remix Project using NPX\nDESCRIPTION: This command initiates the creation of a new Remix project using NPX. After running this command, users should follow the prompts in their terminal to complete the setup process.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-testing/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```\n\n----------------------------------------\n\nTITLE: Form Ref Forwarding Implementation\nDESCRIPTION: Code showing how ref prop is forwarded to Form component\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-react/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nbdd04217713292307078a30dab9033926d48ede6\n```\n\n----------------------------------------\n\nTITLE: Starting Remix Development Server\nDESCRIPTION: Launches the Remix application in development mode with hot reloading enabled for asset rebuilding on file changes.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/remix/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Updating Deno Deploy CLI\nDESCRIPTION: Command to update the Deno Deploy CLI to the latest version. It's recommended to keep the CLI up-to-date for the best deployment experience.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\ndeployctl upgrade\n```\n\n----------------------------------------\n\nTITLE: Explicit Type Casting Instead of Deprecated Generic Usage\nDESCRIPTION: Demonstrates the recommended approach of using explicit type casting instead of providing non-inferred types via generics when needed.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_8\n\nLANGUAGE: ts\nCODE:\n```\ntype MyLoaderData = {\n  /*...*/\n};\n\nexport default function Route() {\n  const dataGeneric = useLoaderData<MyLoaderData>(); // <-- will be deprecated\n  const dataCast = useLoaderData() as MyLoaderData; // <- use this instead\n}\n```\n\n----------------------------------------\n\nTITLE: Setting up TLS Certificate\nDESCRIPTION: Commands to install mkcert and create local CA certificates for HTTPS development\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_23\n\nLANGUAGE: sh\nCODE:\n```\nbrew install mkcert\nmkcert -install\n```\n\nLANGUAGE: sh\nCODE:\n```\nexport NODE_EXTRA_CA_CERTS=\"$(mkcert -CAROOT)/rootCA.pem\"\n```\n\nLANGUAGE: sh\nCODE:\n```\nmkcert -key-file key.pem -cert-file cert.pem localhost\n```\n\nLANGUAGE: sh\nCODE:\n```\nremix dev --tls-key=key.pem --tls-cert=cert.pem\n```\n\n----------------------------------------\n\nTITLE: Adjusting Server Abort Delay for v3_singleFetch in Remix\nDESCRIPTION: This snippet shows how to adjust the server abort delay when using v3_singleFetch. It demonstrates the use of the new streamTimeout API and updates the abort logic in the entry.server.tsx file.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_26\n\nLANGUAGE: typescript\nCODE:\n```\n// Reject/cancel all pending promises after 5 seconds\nexport const streamTimeout = 5000;\n\n// ...\n\nfunction handleBrowserRequest(/* ... */) {\n  return new Promise((resolve, reject) => {\n    const { pipe, abort } = renderToPipeableStream(\n      <RemixServer\n        context={remixContext}\n        url={request.url}\n      />,\n      {\n        onShellReady() {\n          /* ... */\n        },\n        onShellError(error: unknown) {\n          /* ... */\n        },\n        onError(error: unknown) {\n          /* ... */\n        },\n      }\n    );\n\n   // Automatically timeout the React renderer after 6 seconds, which ensures\n   // React has enough time to flush down the rejected boundary contents\n   setTimeout(abort, streamTimeout + 1000);\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Remix Development Commands\nDESCRIPTION: Essential commands for installing dependencies, building the project, and running different types of tests in the Remix development environment using pnpm.\nSOURCE: https://github.com/remix-run/remix/blob/main/DEVELOPMENT.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# install everything\npnpm install\n\n# run the build\npnpm build\n\n# run the unit tests\npnpm test:primary\n\n# run the unit tests for a specific package in watch mode\npnpm test:primary packages/remix-react --watch\n\n# run the playwright integration tests in Chromium\npnpm test:integration --project chromium\n\n# run specific playwright integration tests in Chromium\npnpm test:integration integration/client-data --project chromium\n```\n\n----------------------------------------\n\nTITLE: Installing ESLint and Remix ESLint Config\nDESCRIPTION: Command to install ESLint and the Remix ESLint configuration package as dev dependencies. This requires at least version 8.1 of ESLint.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-eslint-config/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install -D eslint @remix-run/eslint-config\n```\n\n----------------------------------------\n\nTITLE: Deploying to Deno Deploy\nDESCRIPTION: Command to deploy the application to Deno Deploy platform.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_11\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Markdown Frontmatter Configuration\nDESCRIPTION: YAML frontmatter configuration for a documentation page, specifying the title as 'Guides' and setting the display order to 10.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/index.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: Guides\norder: 10\n---\n```\n\n----------------------------------------\n\nTITLE: Updating Custom Server Implementation with Vite Direct API\nDESCRIPTION: A code diff showing how to refactor a custom server implementation to use Vite's APIs directly instead of using the removed Remix wrapper functions.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_12\n\nLANGUAGE: diff\nCODE:\n```\n-import {\n-  unstable_createViteServer,\n-  unstable_loadViteServerBuild,\n-} from \"@remix-run/dev\";\n+import { unstable_viteServerBuildModuleId } from \"@remix-run/dev\";\n```\n\n----------------------------------------\n\nTITLE: Creating Vite Server in Middleware Mode\nDESCRIPTION: A code diff demonstrating how to create a Vite server in middleware mode directly using Vite's createServer API instead of the removed Remix wrapper.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_13\n\nLANGUAGE: diff\nCODE:\n```\nconst vite =\n  process.env.NODE_ENV === \"production\"\n    ? undefined\n-    : await unstable_createViteServer();\n+    : await import(\"vite\").then(({ createServer }) =>\n+        createServer({\n+          server: {\n+            middlewareMode: true,\n+          },\n+        })\n+      );\n```\n\n----------------------------------------\n\nTITLE: Configuring TLS in Remix Config\nDESCRIPTION: JavaScript configuration for enabling TLS support in Remix development server\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_24\n\nLANGUAGE: js\nCODE:\n```\nmodule.exports = {\n  future: {\n    unstable_dev: {\n      tlsKey: \"key.pem\",\n      tlsCert: \"cert.pem\",\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Production Mode\nDESCRIPTION: This command starts the Remix app in production mode, using the assets and configuration optimized for a production environment.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/create-remix/__tests__/fixtures/stack/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Installing @remix-run/routes-option-adapter Package\nDESCRIPTION: Command to install the adapter package that converts Remix's routes option into React Router's RouteConfig array, facilitating migration to React Router v7.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_33\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D @remix-run/routes-option-adapter\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Development Mode\nDESCRIPTION: This command starts the Remix app in development mode, which rebuilds assets on file changes. It's used for local development and testing.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/stack/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Package.json PostCSS Integration Updates\nDESCRIPTION: Diff showing the removal of manual PostCSS script configurations after enabling built-in PostCSS support.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_10\n\nLANGUAGE: diff\nCODE:\n```\n{\n  \"scripts\": {\n-    \"dev:css\": \"postcss styles --base styles --dir app/styles -w\",\n-    \"build:css\": \"postcss styles --base styles --dir app/styles --env production\",\n-    \"dev\": \"concurrently \\\"npm run dev:css\\\" \\\"remix dev\\\"\"\n+    \"dev\": \"remix dev\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running Remix with Vite using create-remix\nDESCRIPTION: Command to create a new Remix project using the unstable Vite template for a minimal server setup.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_19\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/unstable-vite\n```\n\n----------------------------------------\n\nTITLE: Updating .gitignore for Prisma Files\nDESCRIPTION: Configuration to exclude the SQLite database file from version control. This ensures that the database, which contains development data, isn't committed to the repository.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_21\n\nLANGUAGE: text\nCODE:\n```\nnode_modules\n\n/.cache\n/build\n/public/build\n.env\n\n/prisma/dev.db\n```\n\n----------------------------------------\n\nTITLE: Server Entry Point for SPA\nDESCRIPTION: Server entry point configuration for handling HTML template injection in SPA mode\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport fs from \"node:fs\";\nimport path from \"node:path\";\n\nimport type { EntryContext } from \"@remix-run/node\";\nimport { RemixServer } from \"@remix-run/react\";\nimport { renderToString } from \"react-dom/server\";\n\nexport default function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext\n) {\n  const shellHtml = fs\n    .readFileSync(\n      path.join(process.cwd(), \"app/index.html\")\n    )\n    .toString();\n\n  const appHtml = renderToString(\n    <RemixServer context={remixContext} url={request.url} />\n  );\n\n  const html = shellHtml.replace(\n    \"<!-- Remix SPA -->\",\n    appHtml\n  );\n\n  return new Response(html, {\n    headers: { \"Content-Type\": \"text/html\" },\n    status: responseStatusCode,\n  });\n}\n```\n\n----------------------------------------\n\nTITLE: Running Remix Development Server with Architect\nDESCRIPTION: This command starts both the Architect server sandbox and the Remix development server. It watches for file changes and rebuilds assets automatically.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/arc/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n$ npm run dev\n```\n\n----------------------------------------\n\nTITLE: Visualizing Potential Stale Data Scenario in Remix\nDESCRIPTION: This text snippet shows a rare scenario where stale data might be displayed due to network inconsistencies, despite Remix's precautions.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/concurrency.md#2025-04-18_snippet_2\n\nLANGUAGE: text\nCODE:\n```\n     👇 interruption with new submission\n|----❌----------------------✓\n       |-------✓-----✅\n                             👆\n                  initial request reaches the server\n                  after the interrupting submission\n                  has completed revalidation\n```\n\n----------------------------------------\n\nTITLE: Installing NPM Package in Deno Project\nDESCRIPTION: Example of installing an NPM package (react) in a Deno-based Remix project. This demonstrates the recommended approach for managing NPM dependencies.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm install react\n```\n\n----------------------------------------\n\nTITLE: Running Remix Dev Server\nDESCRIPTION: Command to start the development server for a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare-workers/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Type Safety Issue with Date Objects in Loader Data\nDESCRIPTION: Demonstrates a common type safety issue where JSON serialization converts Date objects to strings, but TypeScript doesn't reflect this transformation when using the current approach.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\ntype MyLoaderData = {\n  birthday: Date;\n};\n\nexport const loader: LoaderFunction = () => {\n  return json<MyLoaderData>({ birthday: new Date(\"February 15, 1992\") });\n};\n\nexport default function Route() {\n  const { birthday } = useLoaderData<MyLoaderData>();\n  // ^ `useLoaderData` tricks Typescript into thinking this is a `Date`, when in fact its a `string`!\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Cloudflare Type Bindings\nDESCRIPTION: Command to generate TypeScript types for Cloudflare bindings defined in wrangler.toml configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm run typegen\n```\n\n----------------------------------------\n\nTITLE: Installing Global Fetch in Server\nDESCRIPTION: Example showing how to install global fetch polyfills in a custom server implementation using @remix-run/node's installGlobals function.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { installGlobals } from \"@remix-run/node\";\n\ninstallGlobals();\n```\n\n----------------------------------------\n\nTITLE: Installing @remix-run/deno package using npm\nDESCRIPTION: This command installs the @remix-run/deno package via npm. Despite being a Deno module, npm is used for dependency management in Remix Deno projects.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-deno/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install @remix-run/deno\n```\n\n----------------------------------------\n\nTITLE: Deploying to Fly.io\nDESCRIPTION: Command to deploy the Remix application to Fly.io production environment\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/fly/README.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nnpm run deploy\n```\n\n----------------------------------------\n\nTITLE: Initializing Tailwind Configuration\nDESCRIPTION: Command to generate a TypeScript-based Tailwind configuration file\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/tailwind.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx tailwindcss init --ts\n```\n\n----------------------------------------\n\nTITLE: SVG Component Definition\nDESCRIPTION: Example of an SVG file that can be converted to a React component.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_14\n\nLANGUAGE: svg\nCODE:\n```\n<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z\" />\n</svg>\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Remix Project with JavaScript\nDESCRIPTION: Command to create a new Remix project using the JavaScript template without TypeScript.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/templates.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/remix-javascript\n```\n\n----------------------------------------\n\nTITLE: Initializing Fly Project\nDESCRIPTION: Command to initialize a new Fly.io project configuration\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/fly/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nflyctl launch\n```\n\n----------------------------------------\n\nTITLE: NPM Package Dependency Check Command\nDESCRIPTION: Command line example showing how to check package dependency relationships using npm.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/dependency-optimization.md#2025-04-18_snippet_2\n\nLANGUAGE: text\nCODE:\n```\n❯ npm why jimp\njimp@0.16.13\nnode_modules/jimp\n  jimp@\"^0.16.1\" from svg2img@1.0.0-beta.2\n  node_modules/svg2img\n    svg2img@\"^1.0.0-beta.2\" from the root project\n```\n\n----------------------------------------\n\nTITLE: Generating a New Playground in Remix\nDESCRIPTION: This command creates a new playground environment for Remix development. The playground name is optional and defaults to a timestamp-based name if not provided.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/contributing.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\npnpm playground:new <?name>\n```\n\n----------------------------------------\n\nTITLE: Optional Implementation Guidelines for Runtime Packages\nDESCRIPTION: Lists the optional features and implementations that Remix server runtime packages may include beyond the required interface.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/README.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n- Re-export the [default implementations](./index.ts) as its implementations\n- Export custom implementations adhering to the [interface types](./interface.ts)\n- Provide additional exports relevant for that runtime\n```\n\n----------------------------------------\n\nTITLE: Browser Bundle with Problematic Server Dependencies\nDESCRIPTION: Example of a browser bundle that still contains server-only dependencies due to module side effects.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useLoaderData } from \"@remix-run/react\";\n\nimport { prisma } from \"../db\"; //😬\nimport PostsView from \"../PostsView\";\n\nconsole.log(prisma); //🥶\n\nexport function meta() {\n  return [{ title: \"Posts\" }];\n}\n\nexport default function Posts() {\n  const posts = useLoaderData<typeof loader>();\n  return <PostsView posts={posts} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Incorrect Server Environment Detection Using window in Remix\nDESCRIPTION: This example demonstrates an incorrect way to detect server environment by checking for window. This approach works in Node.js but fails in Deno which supports window, making it unreliable for environment detection.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/gotchas.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nif (typeof window === \"undefined\") {\n  // running in a server environment\n} else {\n  // running in a browser environment\n}\n```\n\n----------------------------------------\n\nTITLE: Type Definition for Single Fetch Future Configuration\nDESCRIPTION: TypeScript interface definition to enable single fetch types in Remix configuration\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"@remix-run/server-runtime\" {\n  interface Future {\n    unstable_singleFetch: true;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring SASS Watch Script in package.json for Remix\nDESCRIPTION: NPM script configuration in package.json to watch and compile SASS files in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"sass\": \"sass --watch app/:app/\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Demonstrating GitHub repo shorthand notation with dots in folder names\nDESCRIPTION: This snippet shows how to use the create-remix command with a GitHub repository shorthand notation that includes dots in folder names. It demonstrates the updated functionality allowing for more flexible template specifications.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/create-remix/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx create-remix@latest --template remix-run/examples/socket.io\n```\n\n----------------------------------------\n\nTITLE: Vite Command Equivalents for Remix\nDESCRIPTION: Command mappings showing the Vite equivalents for Remix commands when using unstable Vite support for Node-based Remix apps.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_18\n\nLANGUAGE: markdown\nCODE:\n```\n- `remix build` 👉 `vite build && vite build --ssr`\n- `remix dev` 👉 `vite dev`\n```\n\n----------------------------------------\n\nTITLE: Type Definition for Future Interface\nDESCRIPTION: TypeScript interface definition for enabling single-fetch functionality in Vite config\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"@remix-run/server-runtime\" {\n  interface Future {\n    unstable_singleFetch: true;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_relativeSplatPath Flag\nDESCRIPTION: Configuration to enable the v3_relativeSplatPath future flag in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    v3_relativeSplatPath: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Setting Deno Deploy Token\nDESCRIPTION: Command to set the Deno Deploy API token as an environment variable. This token is required for authentication when deploying to Deno Deploy.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/deno/README.md#2025-04-18_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nexport DENO_DEPLOY_TOKEN=<your Deno Deploy API token>\n```\n\n----------------------------------------\n\nTITLE: VS Code Import Map Configuration for NPM Dependencies\nDESCRIPTION: Import map configuration file for VS Code Deno extension to enable type hints for NPM-managed dependencies. This configuration is for editor support only and not used by Remix directly.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0001-use-npm-to-manage-npm-dependencies-for-deno-projects.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"// This import map is used solely for the denoland.vscode-deno extension.\": \"\",\n  \"// Remix does not support import maps.\": \"\",\n  \"// Dependency management is done through `npm` and `node_modules/` instead.\": \"\",\n  \"// Deno-only dependencies may be imported via URL imports (without using import maps).\": \"\",\n\n  \"imports\": {\n    \"react\": \"https://esm.sh/react@18.0.0\",\n    \"react-dom\": \"https://esm.sh/react-dom@18.0.0\",\n    \"react-dom/server\": \"https://esm.sh/react-dom@18.0.0/server\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: SVG as React Component\nDESCRIPTION: Converted SVG file into a React component using TypeScript.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_15\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function Icon() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      className=\"icon\"\n      viewBox=\"0 0 20 20\"\n      fill=\"currentColor\"\n    >\n      <path\n        fillRule=\"evenodd\"\n        clipRule=\"evenodd\"\n        d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V13a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z\"\n      />\n    </svg>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Returning Non-Serializable Data from Remix Loader\nDESCRIPTION: Example showing an anti-pattern where a loader returns non-serializable data (Date object and function). When this data reaches the client through useLoaderData(), only the serializable parts will be available.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_18\n\nLANGUAGE: tsx\nCODE:\n```\nexport async function loader() {\n  return {\n    date: new Date(),\n    someMethod() {\n      return \"hello!\";\n    },\n  };\n}\n\nexport default function RouteComp() {\n  const data = useLoaderData<typeof loader>();\n  console.log(data);\n  // '{\"date\":\"2021-11-27T23:54:26.384Z\"}'\n}\n```\n\n----------------------------------------\n\nTITLE: Referencing Remix Package Changelogs in Markdown\nDESCRIPTION: This snippet provides a markdown heading and a brief instruction for users to find change information in individual Remix package changelogs.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# `remix`\n\nSee the `CHANGELOG.md` in individual Remix packages for all changes.\n```\n\n----------------------------------------\n\nTITLE: Implementing Hot Module Replacement for Router in JavaScript\nDESCRIPTION: Example of how to implement Hot Module Replacement (HMR) for the router in the new API. This code disposes of the router when the module is hot-reloaded, ensuring proper cleanup and preventing memory leaks during development.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0005-remixing-react-router.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nif (import.meta.hot) {\n  import.meta.hot.dispose(() => router.dispose());\n}\n```\n\n----------------------------------------\n\nTITLE: Installing SASS for CSS Preprocessing in Remix\nDESCRIPTION: Command to install SASS as a dev dependency for CSS preprocessing in a Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/postcss.md#2025-04-18_snippet_3\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm add -D sass\n```\n\n----------------------------------------\n\nTITLE: Demonstrating TypeScript Single-Argument Generic Syntax in .ts Files\nDESCRIPTION: Example showing how single-argument type generics work in .ts files without needing a comma for disambiguation from JSX syntax, which is now supported by the Remix compiler.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_19\n\nLANGUAGE: typescript\nCODE:\n```\n// this works in .ts files\nconst id = <T>(x: T) => x;\n//          ^ single-argument type generic\n```\n\n----------------------------------------\n\nTITLE: Configuring MSW with Remix Dev Server (CommonJS)\nDESCRIPTION: Package.json configuration for setting up Mock Service Worker with Remix development server using Node's require flag\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"remix dev -c \\\"npm run dev:app\\\"\",\n    \"dev:app\": \"cross-env NODE_OPTIONS=\\\"--require ./mocks\\\" remix-serve ./build\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Vite\nDESCRIPTION: Command to install Vite as a dev dependency.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_2\n\nLANGUAGE: shellscript\nCODE:\n```\nnpm install -D vite\n```\n\n----------------------------------------\n\nTITLE: Example HTML Template\nDESCRIPTION: Sample HTML template structure that the Remix root route will replace.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\" />\n    <link rel=\"icon\" href=\"/favicon.ico\" />\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1\"\n    />\n    <meta name=\"theme-color\" content=\"#000000\" />\n    <meta\n      name=\"description\"\n      content=\"My beautiful React app\"\n    />\n    <link rel=\"apple-touch-icon\" href=\"/logo192.png\" />\n    <link rel=\"manifest\" href=\"/manifest.json\" />\n    <title>My React App</title>\n  </head>\n  <body>\n    <noscript\n      >You need to enable JavaScript to run this\n      app.</noscript\n    >\n    <div id=\"root\"></div>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Default Tailwind CSS Configuration\nDESCRIPTION: Basic Tailwind CSS configuration file contents for use with built-in Tailwind support.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_11\n\nLANGUAGE: css\nCODE:\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n----------------------------------------\n\nTITLE: Directly Calling a Loader in Component\nDESCRIPTION: Example demonstrating an incorrect approach of directly calling a loader function within a component. Loaders are meant to be called by Remix on the server, not directly invoked in component code.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/data-loading.md#2025-04-18_snippet_19\n\nLANGUAGE: tsx\nCODE:\n```\nexport const loader = async () => {\n  return json(await fakeDb.products.findMany());\n};\n\nexport default function RouteComp() {\n  const data = loader();\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Building Remix App for Production\nDESCRIPTION: Builds the Remix app for production deployment. This command compiles and optimizes the app for better performance in a production environment.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/node/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: MSW Request Handler Configuration\nDESCRIPTION: TypeScript code for configuring MSW request handlers to forward internal dev ready messages\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { http, passthrough } from \"msw\";\n\nconst REMIX_DEV_PING = new URL(\n  process.env.REMIX_DEV_ORIGIN\n);\nREMIX_DEV_PING.pathname = \"/ping\";\n\nexport const server = setupServer(\n  http.post(REMIX_DEV_PING.href, () => passthrough())\n  // ... other request handlers go here ...\n);\n```\n\n----------------------------------------\n\nTITLE: Generating Remix Project Template\nDESCRIPTION: Command to create a new Remix project using a basic template for the tutorial.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_0\n\nLANGUAGE: shellscript\nCODE:\n```\nnpx create-remix@latest --template remix-run/remix/templates/remix-tutorial\n```\n\n----------------------------------------\n\nTITLE: Starting the Remix Development Server\nDESCRIPTION: Commands to navigate to the project directory, install dependencies, and start the development server.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/tutorial.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\n# cd into the app directory\ncd {wherever you put the app}\n\n# install dependencies if you haven't already\nnpm install\n\n# start the server\nnpm run dev\n```\n\n----------------------------------------\n\nTITLE: TypeScript Future Interface Declaration\nDESCRIPTION: Type declaration for enabling single-fetch functionality in Remix via the Future interface\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-deno/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare module \"@remix-run/server-runtime\" {\n  interface Future {\n    unstable_singleFetch: true;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Simplified Implementation of useLoaderData\nDESCRIPTION: A simplified version of the current implementation showing how useLoaderData just blindly casts any data to the generic type parameter provided by the user.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nlet data: any;\n\n// somewhere else, `loader` gets called an sets `data` to some value\n\nfunction useLoaderData<T>(): T {\n  return data; // <-- Typescript casts this `any` to `T`\n}\n```\n\n----------------------------------------\n\nTITLE: Displaying the Remix CLI Project Creation Options\nDESCRIPTION: Shows the interactive CLI prompt when creating a new Remix project, including the option to choose between TypeScript and JavaScript.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0008-only-support-js-conversion-for-app-code.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n❯ npx create-remix@latest\n? Where would you like to create your app? ./my-remix-app\n? What type of app do you want to create? Just the basics\n? Where do you want to deploy? Choose Remix App Server if you're unsure; it's easy to change deployment targets. Remix App Server\n? TypeScript or JavaScript? (Use arrow keys)\n❯ TypeScript\n  JavaScript\n```\n\n----------------------------------------\n\nTITLE: Configuring Form Labels and Input Combinations in CSS\nDESCRIPTION: CSS rules for styling label elements and their positioning relative to checkbox and radio inputs, ensuring proper spacing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_15\n\nLANGUAGE: css\nCODE:\n```\nlabel {\n  margin: 0;\n}\n\n[type=\"checkbox\"] + label,\n[type=\"radio\"] + label {\n  margin-left: 0.5rem;\n}\n\nlabel > [type=\"checkbox\"],\nlabel > [type=\"radio\"] {\n  margin-right: 0.5rem;\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Tailwind Support (JavaScript)\nDESCRIPTION: Configuration example showing how to disable Tailwind CSS support in a Remix application. By default, Tailwind functions and directives are supported if tailwindcss is installed.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/file-conventions/remix-config.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('@remix-run/dev').AppConfig} */\nmodule.exports = {\n  tailwind: false,\n};\n```\n\n----------------------------------------\n\nTITLE: Updating dependencies in package.json\nDESCRIPTION: Example of updating dependency versions in package.json for a patch release.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"@remix-run/node\": \"2.16.5\",\n    \"@remix-run/server-runtime\": \"2.16.5\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Specifying Testing Library Dependencies\nDESCRIPTION: Package.json snippet showing the required dependencies for using the Jest and Testing Library ESLint configuration. These dependencies are not included as peer dependencies of the ESLint config package.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-eslint-config/README.md#2025-04-18_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"@testing-library/jest-dom\": \">=5.16.0\",\n    \"@testing-library/react\": \">=12.0.0\",\n    \"jest\": \">=28.0.0\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Remix Config with Dev Server Options\nDESCRIPTION: Example of configuring dev server options in the Remix configuration file.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\n// remix.config.js\nmodule.exports = {\n  future: {\n    unstable_dev: {\n      httpPort: 8001,\n    },\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Running Remix App in Production Mode\nDESCRIPTION: Starts the Remix app in production mode after it has been built. This command is used to run the optimized version of the app on a production server.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/__tests__/fixtures/node/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm start\n```\n\n----------------------------------------\n\nTITLE: Using Templates with Remix CLI\nDESCRIPTION: Command line example showing how to create a new Remix application using a community template from GitHub.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/runtimes.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nnpx create-remix@latest --template <org>/<repo>\n```\n\n----------------------------------------\n\nTITLE: Markdown Frontmatter Configuration\nDESCRIPTION: YAML frontmatter block defining metadata for a discussion topics page, including title and ordering information.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/index.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: Discussion Topics\norder: 2\n---\n```\n\n----------------------------------------\n\nTITLE: Package.json Tailwind Integration Updates\nDESCRIPTION: Diff showing the removal of manual Tailwind script configurations after enabling built-in Tailwind support.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-server-runtime/CHANGELOG.md#2025-04-18_snippet_12\n\nLANGUAGE: diff\nCODE:\n```\n{\n  // ...\n  \"scripts\": {\n-    \"build\": \"run-s \\\"build:*\\\"\",\n+    \"build\": \"remix build\",\n-    \"build:css\": \"npm run generate:css -- --minify\",\n-    \"build:remix\": \"remix build\",\n-    \"dev\": \"run-p \\\"dev:*\\\"\",\n+    \"dev\": \"remix dev\",\n-    \"dev:css\": \"npm run generate:css -- --watch\",\n-    \"dev:remix\": \"remix dev\",\n-    \"generate:css\": \"npx tailwindcss -o ./app/tailwind.css\",\n    \"start\": \"remix-serve build\"\n  }\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Required Return Pattern for Type Inference\nDESCRIPTION: Shows the required pattern for returning data from loader functions when opting into type inference, emphasizing the need to use json() instead of returning bare objects.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0003-infer-types-for-useloaderdata-and-useactiondata-from-loader-and-action-via-generics.md#2025-04-18_snippet_9\n\nLANGUAGE: ts\nCODE:\n```\nconst loader = () => {\n  // NO\n  return { hello: \"world\" };\n\n  // YES\n  return json({ hello: \"world\" });\n};\n```\n\n----------------------------------------\n\nTITLE: Implementing Advanced Cloudflare Workers Handler\nDESCRIPTION: Detailed implementation of a Cloudflare Workers handler with asset handling and error management using the lower-level Remix adapter API.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/adapter.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createRequestHandler,\n  handleAsset,\n} from \"@remix-run/cloudflare-workers\";\n\nimport * as build from \"../build\";\n\nconst handleRequest = createRequestHandler({ build });\n\nconst handleEvent = async (event: FetchEvent) => {\n  let response = await handleAsset(event, build);\n\n  if (!response) {\n    response = await handleRequest(event);\n  }\n\n  return response;\n};\n\naddEventListener(\"fetch\", (event) => {\n  try {\n    event.respondWith(handleEvent(event));\n  } catch (e: any) {\n    if (process.env.NODE_ENV === \"development\") {\n      event.respondWith(\n        new Response(e.message || e.toString(), {\n          status: 500,\n        })\n      );\n    }\n\n    event.respondWith(\n      new Response(\"Internal Error\", { status: 500 })\n    );\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: VS Code Settings for Deno Extension\nDESCRIPTION: VS Code settings configuration to enable Deno support and specify the import map location for editor type hints.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0001-use-npm-to-manage-npm-dependencies-for-deno-projects.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"deno.enable\": true,\n  \"deno.importMap\": \"./.vscode/resolve_npm_imports_in_deno.json\"\n}\n```\n\n----------------------------------------\n\nTITLE: Vite Configuration for Dependency Exclusion\nDESCRIPTION: TypeScript configuration example showing how to exclude problematic dependencies from Vite's optimization process.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/dependency-optimization.md#2025-04-18_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport default defineConfig({\n  optimizeDeps: {\n    exclude: [\"svg2img\"],\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring MSW with Remix Dev Server (ESM)\nDESCRIPTION: Package.json configuration for setting up Mock Service Worker with Remix development server using ESM import flag\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/dev.md#2025-04-18_snippet_10\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"dev\": \"remix dev -c \\\"npm run dev:app\\\"\",\n    \"dev:app\": \"cross-env NODE_OPTIONS=\\\"--import ./mocks/index.js\\\" remix-serve ./build/index.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Types for Cloudflare Bindings\nDESCRIPTION: Command to generate TypeScript types for Cloudflare bindings defined in wrangler.toml. This needs to be rerun after any changes to wrangler.toml.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/cloudflare-workers/README.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm run typegen\n```\n\n----------------------------------------\n\nTITLE: React Router Import Update Example\nDESCRIPTION: Demonstrates the recommended way to import React Router components in Remix.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_18\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Link, Outlet } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Template Usage Examples\nDESCRIPTION: Various examples of using templates with create-remix, including GitHub repos, remote tarballs, and local paths.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/other-api/create-remix.md#2025-04-18_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest ./my-app --template remix-run/grunge-stack\nnpx create-remix@latest ./my-app --template remix-run/remix/templates/remix\nnpx create-remix@latest ./my-app --template remix-run/examples/basic\nnpx create-remix@latest ./my-app --template :username/:repo\nnpx create-remix@latest ./my-app --template :username/:repo/:directory\nnpx create-remix@latest ./my-app --template https://github.com/:username/:repo\nnpx create-remix@latest ./my-app --template https://github.com/:username/:repo/tree/:branch\nnpx create-remix@latest ./my-app --template https://github.com/:username/:repo/tree/:branch/:directory\nnpx create-remix@latest ./my-app --template https://github.com/:username/:repo/archive/refs/tags/:tag.tar.gz\nnpx create-remix@latest ./my-app --template https://github.com/:username/:repo/releases/latest/download/:tag.tar.gz\nnpx create-remix@latest ./my-app --template https://example.com/remix-template.tar.gz\nnpx create-remix@latest ./my-app --template ./path/to/remix-template\nnpx create-remix@latest ./my-app --template ./path/to/remix-template.tar.gz\n```\n\n----------------------------------------\n\nTITLE: Deploying to Fly.io\nDESCRIPTION: Command to build and deploy the Remix application to Fly.io in the selected region.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_93\n\nLANGUAGE: shellscript\nCODE:\n```\nfly deploy\n```\n\n----------------------------------------\n\nTITLE: Root Component for Div Hydration\nDESCRIPTION: Root component configuration for div-based hydration in SPA mode\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/spa-mode.md#2025-04-18_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nexport function HydrateFallback() {\n  return (\n    <>\n      <p>Loading...</p>\n      <Scripts />\n    </>\n  );\n}\n\nexport default function Component() {\n  return (\n    <>\n      <Outlet />\n      <Scripts />\n    </>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Server Bundles in Vite for Remix\nDESCRIPTION: This snippet demonstrates how to configure server bundles in a Remix project using Vite. It uses the 'unstable_serverBundles' option to split server code based on route authentication.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n      unstable_serverBundles: ({ branch }) => {\n        const isAuthenticatedRoute = branch.some(\n          (route) => route.id === \"routes/_authenticated\"\n        );\n\n        return isAuthenticatedRoute ? \"authenticated\" : \"unauthenticated\";\n      },\n    }),\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring File Session Storage in Remix\nDESCRIPTION: Sets up file-based session storage using createFileSessionStorage. This implementation stores session data in files while keeping only the session ID in the cookie.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/utils/sessions.md#2025-04-18_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  createCookie,\n  createFileSessionStorage,\n} from \"@remix-run/node\"; // or cloudflare/deno\n\n// In this example the Cookie is created separately.\nconst sessionCookie = createCookie(\"__session\", {\n  secrets: [\"r3m1xr0ck5\"],\n  sameSite: true,\n});\n\nconst { getSession, commitSession, destroySession } =\n  createFileSessionStorage({\n    // The root directory where you want to store the files.\n    // Make sure it's writable!\n    dir: \"/app/sessions\",\n    cookie: sessionCookie,\n  });\n\nexport { getSession, commitSession, destroySession };\n```\n\n----------------------------------------\n\nTITLE: Reimporting Server Build in ESM\nDESCRIPTION: Function to bust the import cache and reimport the server build in an ESM environment using timestamp query parameters.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/manual-mode.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport * as fs from \"node:fs\";\nimport * as path from \"node:path\";\nimport * as url from \"node:url\";\n\n/** @typedef {import('@remix-run/node').ServerBuild} ServerBuild */\n\nconst BUILD_PATH = path.resolve(\"./build/index.js\");\nconst VERSION_PATH = path.resolve(\"./build/version.txt\");\nconst initialBuild = await reimportServer();\n\n/**\n * @returns {Promise<ServerBuild>}\n */\nasync function reimportServer() {\n  const stat = fs.statSync(BUILD_PATH);\n\n  // convert build path to URL for Windows compatibility with dynamic `import`\n  const BUILD_URL = url.pathToFileURL(BUILD_PATH).href;\n\n  // use a timestamp query parameter to bust the import cache\n  return import(BUILD_URL + \"?t=\" + stat.mtimeMs);\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Meta Function Parent Data Access in Remix\nDESCRIPTION: Changes to accessing parent route data in meta functions when using future.v2_meta flag. Demonstrates migration from parentsData to accessing data through match objects.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-deno/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// before\nexport function meta({ parentsData }) {\n  return [{ title: parentsData[\"routes/some-route\"].title }];\n}\n// after\nexport function meta({ matches }) {\n  return [\n    {\n      title: matches.find((match) => match.id === \"routes/some-route\")\n        .data.title,\n    },\n  ];\n}\n```\n\n----------------------------------------\n\nTITLE: Migrating from Separate Build Directories to Single Build Directory\nDESCRIPTION: Demonstrates how to update Vite configuration to use the new buildDirectory option instead of separate assetsBuildDirectory and serverBuildDirectory options.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_11\n\nLANGUAGE: diff\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [\n    remix({\n-      serverBuildDirectory: \"dist/server\",\n-      assetsBuildDirectory: \"dist/client\",\n+      buildDirectory: \"dist\",\n    })\n  ],\n});\n```\n\n----------------------------------------\n\nTITLE: Rendering Streamed Data with Await Component in Remix\nDESCRIPTION: This example demonstrates how to render Promise values from useLoaderData() using the Await component with Suspense. It shows the full set of rendering APIs including useAsyncValue() and useAsyncError() hooks for accessing resolved values and handling errors.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0004-streaming-apis.md#2025-04-18_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nfunction Component() {\n  const data = useLoaderData(); // data.lazy is a Promise\n\n  return (\n    <React.Suspense fallback={<p>Loading...</p>}>\n      <Await resolve={data.lazy} errorElement={<MyError />}>\n        <MyData />\n      </Await>\n    </React.Suspense>\n  );\n}\n\nfunction MyData() {\n  const value = useAsyncValue(); // Get the resolved value\n  return <p>Resolved: {value}</p>;\n}\n\nfunction MyError() {\n  const error = useAsyncError(); // Get the rejected value\n  return <p>Error: {error.message}</p>;\n}\n```\n\n----------------------------------------\n\nTITLE: Removing LiveReload Component when Using Vite\nDESCRIPTION: Shows the breaking change where the LiveReload component should be removed from root.tsx when using the Vite plugin. Scripts component now automatically includes Vite's client-side runtime.\nSOURCE: https://github.com/remix-run/remix/blob/main/CHANGELOG.md#2025-04-18_snippet_10\n\nLANGUAGE: diff\nCODE:\n```\n  import {\n-   LiveReload,\n    Outlet,\n    Scripts,\n  }\n\n  export default function App() {\n    return (\n      <html>\n        <head>\n        </head>\n        <body>\n          <Outlet />\n          <Scripts />\n-         <LiveReload />\n        </body>\n      </html>\n    )\n  }\n```\n\n----------------------------------------\n\nTITLE: Route Component with Surfaced Styles\nDESCRIPTION: Example of surfacing component styles in a route component using the links function.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/styling/css.md#2025-04-18_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { LinksFunction } from \"@remix-run/node\"; // or cloudflare/deno\n\nimport {\n  AddFavoriteButton,\n  links as addFavoriteLinks,\n} from \"~/components/add-favorite-button\";\nimport {\n  ProductDetails,\n  links as productDetailsLinks,\n} from \"~/components/product-details\";\nimport {\n  ProductTile,\n  links as productTileLinks,\n} from \"~/components/product-tile\";\nimport {\n  TileGrid,\n  links as tileGridLinks,\n} from \"~/components/tile-grid\";\nimport styles from \"~/styles/$category.css?url\";\n\nexport const links: LinksFunction = () => {\n  return [\n    ...tileGridLinks(),\n    ...productTileLinks(),\n    ...productDetailsLinks(),\n    ...addFavoriteLinks(),\n    { rel: \"stylesheet\", href: styles },\n  ];\n};\n```\n\n----------------------------------------\n\nTITLE: Creating Reusable Values in Non-Route Modules in TypeScript\nDESCRIPTION: Shows how to properly organize custom values to avoid HMR issues. By placing custom values in separate non-route modules, they can be imported without affecting HMR behavior.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/discussion/hot-module-replacement.md#2025-04-18_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nexport const myValue = \"some value\";\n```\n\n----------------------------------------\n\nTITLE: Updating Environment Type Declarations\nDESCRIPTION: Diff showing the removal of Remix-specific type references.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_8\n\nLANGUAGE: diff\nCODE:\n```\n- /// <reference types=\"@remix-run/dev\" />\n- /// <reference types=\"@remix-run/node\" />\n```\n\n----------------------------------------\n\nTITLE: ESBuild Minify Considerations Reference\nDESCRIPTION: A reference link to ESBuild documentation about treeshaking considerations, highlighting that bundlers make their own tradeoffs regarding optimization.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0009-do-not-rely-on-treeshaking-for-correctness.md#2025-04-18_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n[esbuild-minify-considerations]: https://esbuild.github.io/api/#minify-considerations\n```\n\n----------------------------------------\n\nTITLE: Exporting Default App Component in Remix Routes (TypeScript)\nDESCRIPTION: Demonstrates how to export the default app component in Remix route files for both the index and catch-all routes.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/migrating-react-router-app.md#2025-04-18_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nexport { default } from \"~/old-app/app\";\n```\n\n----------------------------------------\n\nTITLE: AST Transforms Reference (GitHub Pull Request)\nDESCRIPTION: A reference link to a GitHub pull request where Remix briefly used AST transforms to remove server-only exports as an alternative to virtual modules.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0009-do-not-rely-on-treeshaking-for-correctness.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n[ast-transforms]: https://github.com/remix-run/remix/pull/5259\n```\n\n----------------------------------------\n\nTITLE: Installing Node Globals in Vite Config\nDESCRIPTION: A code diff showing how to explicitly opt-in to Node.js global polyfills in a Vite config file after the automatic installation was removed.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_15\n\nLANGUAGE: diff\nCODE:\n```\nimport { unstable_vitePlugin as remix } from \"@remix-run/dev\";\n+import { installGlobals } from \"@remix-run/node\";\nimport { defineConfig } from \"vite\";\n\n+installGlobals();\n\nexport default defineConfig({\n  plugins: [remix()],\n});\n```\n\n----------------------------------------\n\nTITLE: Updating Package.json Scripts for Tailwind\nDESCRIPTION: Diff showing the simplification of build scripts after enabling built-in Tailwind support.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-dev/CHANGELOG.md#2025-04-18_snippet_28\n\nLANGUAGE: diff\nCODE:\n```\n{\n  // ...\n  \"scripts\": {\n-    \"build\": \"run-s \\\"build:*\\\"\",\n+    \"build\": \"remix build\",\n-    \"build:css\": \"npm run generate:css -- --minify\",\n-    \"build:remix\": \"remix build\",\n-    \"dev\": \"run-p \\\"dev:*\\\"\",\n+    \"dev\": \"remix dev\",\n-    \"dev:css\": \"npm run generate:css -- --watch\",\n-    \"dev:remix\": \"remix dev\",\n-    \"generate:css\": \"npx tailwindcss -o ./app/tailwind.css\",\n    \"start\": \"remix-serve build\"\n  }\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Changing directory to the new Remix project\nDESCRIPTION: Changes the current working directory to the newly created 'remix-jokes' project folder.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/tutorials/jokes.md#2025-04-18_snippet_1\n\nLANGUAGE: shellscript\nCODE:\n```\ncd remix-jokes\n```\n\n----------------------------------------\n\nTITLE: Updating Package Imports\nDESCRIPTION: Example showing required changes to imports after removal of magic exports from 'remix' package in favor of direct @remix-run/* imports.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-node/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\n- import type { ActionArgs } from \"remix\";\n- import { json, useLoaderData } from \"remix\";\n+ import type { ActionArgs } from \"@remix-run/node\";\n+ import { json } from \"@remix-run/node\";\n+ import { useLoaderData } from \"@remix-run/react\";\n```\n\n----------------------------------------\n\nTITLE: Updating Deno Deploy CLI\nDESCRIPTION: Command to update the Deno Deploy CLI to the latest version.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\ndeployctl upgrade\n```\n\n----------------------------------------\n\nTITLE: Browser-Only Code Breaking Server Rendering\nDESCRIPTION: Example of browser-only code that will break server rendering by accessing window in the module scope.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/constraints.md#2025-04-18_snippet_12\n\nLANGUAGE: ts\nCODE:\n```\nimport { loadStripe } from \"@stripe/stripe-js\";\n\nconst stripe = await loadStripe(window.ENV.stripe);\n\nexport async function redirectToStripeCheckout(\n  sessionId: string\n) {\n  return stripe.redirectToCheckout({ sessionId });\n}\n```\n\n----------------------------------------\n\nTITLE: Error Message Example - Failed Dependency Resolution\nDESCRIPTION: Example error message shown when Vite fails to resolve a package entry point during dependency pre-bundling.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/guides/dependency-optimization.md#2025-04-18_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n✘ [ERROR] Failed to resolve entry for package \"<package>\". The package may have incorrect main/module/exports specified in its package.json. [plugin vite:dep-pre-bundle]\n```\n\n----------------------------------------\n\nTITLE: Enabling v3_routeConfig Future Flag in Vite Configuration\nDESCRIPTION: Configuration to enable the v3_routeConfig future flag in the Remix Vite plugin. This flag disables Remix's built-in file system routing and opts into React Router v7's config-based routing.\nSOURCE: https://github.com/remix-run/remix/blob/main/docs/start/future-flags.md#2025-04-18_snippet_27\n\nLANGUAGE: typescript\nCODE:\n```\nremix({\n  future: {\n    v3_routeConfig: true,\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Installing NPM Dependencies\nDESCRIPTION: Example of installing NPM packages in a Deno Remix project.\nSOURCE: https://github.com/remix-run/remix/blob/main/templates/classic-remix-compiler/deno/README.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nnpm install react\n```\n\n----------------------------------------\n\nTITLE: Virtual Modules for Route Exports Reference (GitHub Link)\nDESCRIPTION: A reference link to the GitHub file where Remix previously used virtual modules to re-export client-safe exports from routes as part of its treeshaking strategy.\nSOURCE: https://github.com/remix-run/remix/blob/main/decisions/0009-do-not-rely-on-treeshaking-for-correctness.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[virtual-modules]: https://github.com/remix-run/remix/blob/71f0e051d895807c349987655325c153903abad8/packages/remix-dev/compiler/js/plugins/routes.ts\n```\n\n----------------------------------------\n\nTITLE: Installing Globals in Custom Express Server\nDESCRIPTION: Code snippet showing how to install globals when using a custom Express server with Remix. This is required for preparation of using Node's built-in fetch implementation.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-express/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { installGlobals } from \"@remix-run/node\";\n\ninstallGlobals();\n```\n\n----------------------------------------\n\nTITLE: Installing Remix Framework via CLI\nDESCRIPTION: Command to create a new Remix project using the create-remix CLI tool. This will launch an interactive prompt to configure the project settings.\nSOURCE: https://github.com/remix-run/remix/blob/main/packages/remix-architect/README.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpx create-remix@latest\n```"
  }
]