[
  {
    "owner": "azuread",
    "repo": "microsoft-authentication-library-for-java",
    "content": "TITLE: Configuring MSAL Client Application with Persistence\nDESCRIPTION: Java code demonstrating how to configure a PublicClientApplication with the persistence token cache access aspect.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-persistence-extension/README.md#2025-04-23_snippet_3\n\nLANGUAGE: java\nCODE:\n```\nreturn PublicClientApplication.builder(PUBLIC_CLIENT_ID)\n    .authority(AUTHORITY)\n    .setTokenCacheAccessAspect(createPersistenceAspect())\n    .build();\n```\n\n----------------------------------------\n\nTITLE: Installing MSAL4J Using Gradle\nDESCRIPTION: Gradle configuration for adding the Microsoft Authentication Library for Java (MSAL4J) dependency to a Java project. This adds version 1.20.1 of the library.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/README.md#2025-04-23_snippet_1\n\nLANGUAGE: gradle\nCODE:\n```\nimplementation group: 'com.microsoft.azure', name: 'com.microsoft.aad.msal4j', version: '1.20.1'\n```\n\n----------------------------------------\n\nTITLE: Installing MSAL4J Using Maven\nDESCRIPTION: Maven configuration for adding the Microsoft Authentication Library for Java (MSAL4J) dependency to a Java project. This adds version 1.20.1 of the library.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/README.md#2025-04-23_snippet_0\n\nLANGUAGE: xml\nCODE:\n```\n<dependency>\n    <groupId>com.microsoft.azure</groupId>\n    <artifactId>msal4j</artifactId>\n    <version>1.20.1</version>\n</dependency>\n```\n\n----------------------------------------\n\nTITLE: Installing MSAL Persistence Extension Maven Dependency\nDESCRIPTION: Maven dependency configuration for adding the Microsoft Authentication Extensions library to a Java project.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-persistence-extension/README.md#2025-04-23_snippet_0\n\nLANGUAGE: xml\nCODE:\n```\n<dependency>\n    <groupId>com.microsoft.azure</groupId>\n    <artifactId>msal4j-persistence-extension</artifactId>\n    <version>1.2.0</version>\n</dependency>\n```\n\n----------------------------------------\n\nTITLE: Configuring PersistenceSettings for Token Cache\nDESCRIPTION: Java code to configure persistence settings for token cache across different platforms including Mac Keychain and Linux Keyring settings. Includes file path configuration and lock retry parameters.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-persistence-extension/README.md#2025-04-23_snippet_1\n\nLANGUAGE: java\nCODE:\n```\nprivate PersistenceSettings createPersistenceSettings() throws IOException {\n\n    Path path = Paths.get(System.getProperty(\"user.home\"), \"MSAL\", \"testCache\");\n\n    return PersistenceSettings.builder(\"testCacheFile\", path)\n            .setMacKeychain(\"MsalTestService\", \"MsalTestAccount\")\n            .setLinuxKeyring(null,\n                    \"MsalTestSchema\",\n                    \"MsalTestSecretLabel\",\n                    \"MsalTestAttribute1Key\",\n                    \"MsalTestAttribute1Value\",\n                    \"MsalTestAttribute2Key\",\n                    \"MsalTestAttribute2Value\")\n            .setLockRetry(1000, 50)\n            .build();\n}\n```\n\n----------------------------------------\n\nTITLE: Creating PersistenceTokenCacheAccessAspect\nDESCRIPTION: Java code to create a PersistenceTokenCacheAccessAspect instance using the configured persistence settings.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-persistence-extension/README.md#2025-04-23_snippet_2\n\nLANGUAGE: java\nCODE:\n```\nprivate ITokenCacheAccessAspect createPersistenceAspect() throws IOException {\n    return new PersistenceTokenCacheAccessAspect(createPersistenceSettings());\n}\n```\n\n----------------------------------------\n\nTITLE: Installing MSAL4J with Maven\nDESCRIPTION: Maven dependency configuration for adding the Microsoft Authentication Library for Java to your project. Uses version 1.20.1 of the library.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/README.md#2025-04-23_snippet_0\n\nLANGUAGE: XML\nCODE:\n```\n<dependency>\n    <groupId>com.microsoft.azure</groupId>\n    <artifactId>msal4j</artifactId>\n    <version>1.20.1</version>\n</dependency>\n```\n\n----------------------------------------\n\nTITLE: Installing MSAL4J with Gradle\nDESCRIPTION: Gradle dependency configuration for adding the Microsoft Authentication Library for Java to your project. Uses version 1.20.1 of the library.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/README.md#2025-04-23_snippet_1\n\nLANGUAGE: Gradle\nCODE:\n```\ncompile group: 'com.microsoft.azure', name: 'msal4j', version: '1.20.1'\n```\n\n----------------------------------------\n\nTITLE: Adding MSAL Brokers Dependency with Gradle\nDESCRIPTION: Gradle configuration for adding the Microsoft Authentication Library Brokers dependency to a Gradle project. Imports version 0.0.1 of the msal4j-brokers package from the com.microsoft.azure group.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-brokers/README.md#2025-04-23_snippet_1\n\nLANGUAGE: gradle\nCODE:\n```\nimplementation group: 'com.microsoft.azure', name: 'msal4j-brokers', version: '0.0.1'\n```\n\n----------------------------------------\n\nTITLE: Adding MSAL Brokers Dependency with Maven\nDESCRIPTION: XML configuration for adding the Microsoft Authentication Library Brokers dependency to a Maven project. Uses version 0.0.1 of the msal4j-brokers package from the com.microsoft.azure group.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-brokers/README.md#2025-04-23_snippet_0\n\nLANGUAGE: xml\nCODE:\n```\n<dependency>\n    <groupId>com.microsoft.azure</groupId>\n    <artifactId>msal4j-brokers</artifactId>\n    <version>0.0.1</version>\n</dependency>\n```\n\n----------------------------------------\n\nTITLE: Cached MSAL Access Token with Scopes\nDESCRIPTION: This is a cached Microsoft Authentication Library (MSAL) access token stored as plaintext. It contains a GUID, tenant information (login.microsoftonline.com), token type (accesstoken), client application ID, scope (common), and the requested permissions including calendars.read, openid, profile, tasks.read, user.read, and email.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/Foci_cache_data/at_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-accesstoken-b6c69a37-df96-4db0-9088-2ab96e1d8215-common-calendars.read openid profile tasks.read user.read email\n```\n\n----------------------------------------\n\nTITLE: MSAL Java Access Token Cache Entry with Microsoft Graph API Scopes\nDESCRIPTION: This is a single-line cache entry for an Azure AD access token. It contains a unique token identifier (9f4880d8-80ba-4c40-97bc-f7a23c703084), a tenant-specific identifier, the token authority (login.microsoftonline.com), token type (accesstoken), client ID, and the requested scopes (calendars.read, openid, profile, tasks.read, user.read, email).\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/AAD_cache_data/at_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-accesstoken-b6c69a37-df96-4db0-9088-2ab96e1d8215-common-calendars.read openid profile tasks.read user.read email\n```\n\n----------------------------------------\n\nTITLE: Azure AD Access Token Configuration String\nDESCRIPTION: A configuration string containing Azure AD tenant ID, client ID, authority URL, token type, and required scopes. This format is typically used in MSAL token cache implementations.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/MSA_cache_data/at_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n00000000-0000-0000-40c0-3bac188d01d1.9188040d-6c67-4c5b-b112-36a304b66dad-login.microsoftonline.com-accesstoken-b6c69a37-df96-4db0-9088-2ab96e1d8215-common-tasks.read user.read openid profile\n```\n\n----------------------------------------\n\nTITLE: MSAL Java Cache Storage Token Format\nDESCRIPTION: A single line containing Azure AD authentication token cache data. The line contains a combination of various IDs including client ID, tenant ID, domain, token type, and user ID, separated by hyphens.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/AAD_cache_data/rt_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-refreshtoken-b6c69a37-df96-4db0-9088-2ab96e1d8215--\n```\n\n----------------------------------------\n\nTITLE: OAuth 2.0 Refresh Token Format for Azure AD Authentication\nDESCRIPTION: This is an example of an OAuth 2.0 refresh token format used by Microsoft Authentication Library (MSAL) for Java. The token contains multiple parts separated by hyphens including what appears to be GUIDs, the login endpoint, token type, and version information.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/Foci_cache_data/rt_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-refreshtoken-1--\n```\n\n----------------------------------------\n\nTITLE: Azure AD Token Cache Key Format Example\nDESCRIPTION: An example format of a token cache entry key used in Microsoft Authentication Library for Java. This key includes multiple components separated by hyphens: client ID, environment, token type, user/app ID, and tenant information.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/MSA_cache_data/id_token_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n00000000-0000-0000-40c0-3bac188d01d1.9188040d-6c67-4c5b-b112-36a304b66dad-login.microsoftonline.com-idtoken-b6c69a37-df96-4db0-9088-2ab96e1d8215-common-\n```\n\n----------------------------------------\n\nTITLE: Cache Filename Format for MSAL Java Library\nDESCRIPTION: Sample filename showing the structure of MSAL Java cache storage. Contains tenant ID (9f4880d8), client ID (b6c69a37), authority host (login.microsoftonline.com), token type (idtoken) and other identifying information concatenated with hyphens.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/Foci_cache_data/id_token_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-idtoken-b6c69a37-df96-4db0-9088-2ab96e1d8215-common-\n```\n\n----------------------------------------\n\nTITLE: Demonstrating MSAL for Java token cache entry format\nDESCRIPTION: This code snippet shows the format of a cached token entry in MSAL for Java. The format contains the client ID, tenant information, and other identifiers needed for token caching and retrieval in the authentication flow.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/MSA_cache_data/account_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: plain\nCODE:\n```\n00000000-0000-0000-40c0-3bac188d01d1.9188040d-6c67-4c5b-b112-36a304b66dad-login.microsoftonline.com-common\n```\n\n----------------------------------------\n\nTITLE: Azure AD Authentication Token String\nDESCRIPTION: An authentication token string containing tenant ID, client ID and Microsoft login endpoint information. Used for authenticating with Azure AD services.\nSOURCE: https://github.com/azuread/microsoft-authentication-library-for-java/blob/dev/msal4j-sdk/src/test/resources/AAD_cache_data/account_cache_entity_key.txt#2025-04-23_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n9f4880d8-80ba-4c40-97bc-f7a23c703084.f645ad92-e38d-4d1a-b510-d1b09a74a8ca-login.microsoftonline.com-common\n```"
  }
]