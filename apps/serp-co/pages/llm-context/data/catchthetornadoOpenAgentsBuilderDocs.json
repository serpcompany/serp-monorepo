[
  {
    "owner": "catchthetornado",
    "repo": "open-agents-builder-docs",
    "content": "TITLE: Implementing Google Search Tool in TypeScript for Open Agents Builder\nDESCRIPTION: This code creates a Google Search tool using the Serply.io API. It defines the necessary interfaces, schemas for validation, and exports a factory function that returns two tool descriptors: one for web search and one for image search. The implementation handles API key validation, request configuration, and response formatting.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\n// src/tools/googleSearchTool.ts\n\nimport axios from 'axios'\nimport { z } from 'zod'\nimport { tool } from 'ai'\nimport s from 'dedent'\n\n// Reuse the approach from your environment variable checks:\nimport { checkApiKey } from '@/lib/utils'\n\n// 1. TypeScript interface for config\ninterface SerplyOptions {\n  apiKey: string\n  limit?: number\n  hl?: string\n  proxyLocation?: string\n}\n\n// 2. Default values\nconst defaults: Required<SerplyOptions> = {\n  apiKey: '',\n  limit: 5,\n  hl: 'en',\n  proxyLocation: 'US'\n}\n\n// 3. Response schema for normal search\nconst GoogleSearchResponseSchema = z.object({\n  results: z.array(\n    z.object({\n      title: z.string(),\n      link: z.string(),\n      description: z.string(),\n    })\n  ),\n})\n\n// 4. Response schema for image search\nconst GoogleImageSearchResponseSchema = z.object({\n  results: z.array(\n    z.object({\n      image: z.object({\n        src: z.string(),\n        alt: z.string(),\n      }),\n      link: z.object({\n        href: z.string(),\n        title: z.string(),\n        domain: z.string(),\n      }),\n    })\n  ),\n})\n\n// 5. Factory function to create the tools\nexport function createGoogleSearchTool() {\n  // Resolve your Serply API key. \n  // You can set it in .env or any secret manager. \n  // For example: SERPLY_API_KEY=xxx\n  const apiKey = checkApiKey(\n    'Serply.io API key', \n    'SERPLY_API_KEY', \n    process.env.SERPLY_API_KEY || ''\n  )\n\n  // Prepare request config\n  const config = {\n    ...defaults,\n    apiKey\n  } satisfies Required<SerplyOptions>\n\n  const request = {\n    headers: {\n      'X-Api-Key': config.apiKey,\n      'X-User-Agent': 'desktop',\n      'Content-Type': 'application/json',\n      'X-Proxy-Location': config.proxyLocation,\n    },\n    params: {\n      num: config.limit,\n      gl: config.proxyLocation,\n      hl: config.hl,\n    },\n  }\n\n  // 6. Return a descriptor with two tools: \"googleSearch\" and \"googleImageSearch\"\n  //    but you can just expose them individually if you prefer\n  return {\n    googleSearch: {\n      displayName: 'Google Web Search',\n      tool: tool({\n        description: 'Perform a Google web search using Serply API',\n        parameters: z.object({\n          query: z.string().describe('Search query for Google search'),\n        }),\n        execute: async ({ query }) => {\n          const url = `https://api.serply.io/v1/search/q=${encodeURIComponent(query)}`\n\n          // 1) Perform the search\n          const response = await axios.get(url, request)\n\n          // 2) Validate the response\n          const parsed = GoogleSearchResponseSchema.parse(response.data)\n\n          // 3) Format the result\n          const results = parsed.results\n            .map(\n              (res) => s`\n                Title: ${res.title}\n                Link: ${res.link}\n                Description: ${res.description}\n              `\n            )\n            .join('\\n')\n\n          return s`\n            Search results for \"${query}\":\n            ${results}\n          `\n        },\n      }),\n    },\n    googleImageSearch: {\n      displayName: 'Google Image Search',\n      tool: tool({\n        description: 'Perform a Google Image search using Serply API',\n        parameters: z.object({\n          query: z.string().describe('Search query for Google Image search'),\n        }),\n        execute: async ({ query }) => {\n          const url = `https://api.serply.io/v1/search/q=${encodeURIComponent(query)}`\n\n          const response = await axios.get(url, request)\n          const parsed = GoogleImageSearchResponseSchema.parse(response.data)\n\n          const results = parsed.results\n            .map(\n              (res) => s`\n                Title: ${res.link.title}\n                Link: ${res.link.href}\n                Image: ${res.image.src}\n              `\n            )\n            .join('\\n')\n\n          return s`\n            Image search results for \"${query}\":\n            ${results}\n          `\n        },\n      }),\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Comprehensive Example of Using OpenAgentsBuilderClient in TypeScript\nDESCRIPTION: A complete example showing how to initialize the client and perform multiple operations including creating an agent, a product, recording stats, and retrieving agents in a single workflow.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\n// 1. Initialize the client\nconst client = new OpenAgentsBuilderClient({\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\",\n  apiKey: \"YOUR_API_KEY\"\n});\n\n// 2. Create an Agent\nconst newAgent = await client.agent.upsertAgent({\n  displayName: \"My Example Agent\",\n  prompt: \"You are a helpful agent...\"\n});\n\n// 3. Create a Product\nawait client.product.upsertProduct({\n  sku: \"SKU-123\",\n  name: \"Cool Gadget\",\n  description: \"A cool gadget for demonstration\",\n  price: { value: 99.99, currency: \"USD\" }\n});\n\n// 4. Record Stats\nawait client.stats.putStats({\n  eventName: \"agentCreation\",\n  promptTokens: 10,\n  completionTokens: 5\n});\n\n// 5. Retrieve and log all Agents\nconst agents = await client.agent.listAgents();\nconsole.log(\"All Agents:\", agents);\n```\n\n----------------------------------------\n\nTITLE: Implementing a Chat Page Component with Vercel AI SDK in React/TypeScript\nDESCRIPTION: Implementation of a chat page component that uses the ExecContext provider and Vercel AI SDK's useChat hook. It handles agent initialization, manages session headers, and renders the chat interface with message history and input form.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n'use client';\n\nimport { useExecContext } from \"@/context/exec-context\";\nimport { useChat } from \"ai/react\";\nimport { nanoid } from \"nanoid\";\nimport { useEffect, useState } from \"react\";\n\nexport default function ChatPage({\n  params\n}: {\n  params: { id: string; databaseIdHash: string; locale: string };\n}) {\n  const { agent, init, databaseIdHash, setDatabaseIdHash, sessionId, setSessionId, locale } = useExecContext();\n  const [isInitializing, setIsInitializing] = useState(true);\n  const [generalError, setGeneralError] = useState<string | null>(null);\n\n  // useChat from Vercel AI SDK\n  const { messages, append, input, handleInputChange, handleSubmit, isLoading } = useChat({\n    api: \"/api/chat\"  // Your OAB endpoint\n  });\n\n  // Build custom headers for each request\n  const getSessionHeaders = () => ({\n    'Database-Id-Hash': databaseIdHash,\n    'Agent-Id': agent?.id ?? '',\n    'Agent-Session-Id': sessionId,\n    'Current-Datetime-Iso': new Date().toISOString(),\n    'Current-Datetime': new Date().toLocaleString(),\n    'Current-Timezone': Intl.DateTimeFormat().resolvedOptions().timeZone\n  });\n\n  // On mount, init the agent context\n  useEffect(() => {\n    const newSessionId = nanoid();\n    init(params.id, params.databaseIdHash, params.locale, newSessionId)\n      .then(() => setIsInitializing(false))\n      .catch((error) => {\n        console.error(error);\n        setGeneralError(error.message || 'Failed to init agent');\n        setIsInitializing(false);\n      });\n  }, [init, params.id, params.databaseIdHash, params.locale]);\n\n  // Example: auto-send a greeting once agent is loaded\n  useEffect(() => {\n    if (!isInitializing && agent) {\n      append(\n        {\n          id: nanoid(),\n          role: \"user\",\n          content: \"Hello, let's chat!\"\n        },\n        { headers: getSessionHeaders() }\n      ).catch((err) => {\n        console.error(\"Initial chat error:\", err);\n      });\n    }\n  }, [agent, isInitializing]);\n\n  // Basic message rendering\n  function renderMessages() {\n    return messages.map((msg) => (\n      <div key={msg.id} style={{ margin: \"4px 0\" }}>\n        <b>{msg.role}:</b> {msg.content}\n      </div>\n    ));\n  }\n\n  if (isInitializing) {\n    return <div>Initializing chat...</div>;\n  }\n\n  if (generalError) {\n    return <div>Error: {generalError}</div>;\n  }\n\n  if (!agent) {\n    return <div>No agent loaded</div>;\n  }\n\n  return (\n    <div>\n      <h3>Chat with {agent.displayName}</h3>\n      <div style={{ border: \"1px solid #ccc\", padding: 10, minHeight: 200 }}>\n        {renderMessages()}\n      </div>\n      <form\n        onSubmit={(e) => handleSubmit(e, { headers: getSessionHeaders() })}\n        style={{ marginTop: 10 }}\n      >\n        <input\n          value={input}\n          onChange={handleInputChange}\n          placeholder=\"Type your message...\"\n        />\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading ? \"Sending...\" : \"Send\"}\n        </button>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Orders in TypeScript\nDESCRIPTION: Example demonstrating how to list orders filtered by status and create or update an order with line items using the order module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\n// List Orders\nconst orders = await client.order.listOrders({ status: \"new\" });\n\n// Upsert Order\nawait client.order.upsertOrder({\n  status: \"new\",\n  email: \"customer@example.com\",\n  items: [\n    {\n      id: \"item-123\",\n      productSku: \"PROD-XYZ\",\n      quantity: 2,\n      price: { value: 19.99, currency: \"USD\" },\n    }\n  ]\n});\n```\n\n----------------------------------------\n\nTITLE: Embedding Chat Widget Script in HTML\nDESCRIPTION: JavaScript snippet for embedding the Open Agents Builder chat widget into a webpage. Must be placed before the closing body tag.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/5-integrating-with-the-website.md#2025-04-23_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<script src=\"https://app.openagentsbuilder.com/chat-widget.js\" \n        data-chat-url=\"https://app.openagentsbuilder.com/chat/524a624e60b83b6c2f1f63970c48aee0c2b83b33827fd4129f85a37e9e55?nc6pRLWFFlV_yMXGCNnf5\">\n</script>\n```\n\n----------------------------------------\n\nTITLE: Managing API Keys in TypeScript\nDESCRIPTION: Example demonstrating how to list existing API keys and delete a key by its locator hash using the keys module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// List Keys\nconst keys = await client.keys.listKeys();\nconsole.log(\"Keys:\", keys);\n\n// Delete Key\nawait client.keys.deleteKey(\"LOCATOR_HASH_OF_THE_KEY\");\n```\n\n----------------------------------------\n\nTITLE: Creating a CustomerContext Provider with TypeScript and React\nDESCRIPTION: A comprehensive implementation of a CustomerContext provider that orchestrates API calls for customer data management. It includes CRUD operations, data transformation between DTOs and domain models, pagination support, and loading state management.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// src/contexts/customer-context.tsx\n\"use client\";\n\nimport React, { createContext, useState, useContext, ReactNode } from \"react\";\nimport { DatabaseContext } from \"./db-context\";\nimport { SaaSContext } from \"./saas-context\";\nimport { DataLoadingStatus } from \"@/data/client/models\";\nimport { useTranslation } from \"react-i18next\";\nimport { getErrorMessage } from \"@/lib/utils\";\nimport { CustomerApiClient } from \"@/data/client/customer-api-client\";\nimport { Customer } from \"@/data/client/models/customer\";\nimport {\n  PaginatedQuery,\n  PaginatedResult,\n  CustomerDTO,\n} from \"@/data/dto\";\nimport { toast } from \"sonner\";\n\ntype CustomerContextType = {\n  current: Customer | null;\n  loaderStatus: DataLoadingStatus;\n  setCurrent: (customer: Customer | null) => void;\n\n  // CRUD:\n  getAllCustomers: () => Promise<Customer[]>;\n  getCustomerById: (id: number) => Promise<Customer>;\n  updateCustomer: (customer: Customer) => Promise<Customer>; \n  deleteCustomer: (customer: Customer) => Promise<void>;\n\n  // Optional for pagination\n  queryCustomers: (params: PaginatedQuery) => Promise<PaginatedResult<Customer[]>>;\n\n  refreshDataSync: string;\n  setRefreshDataSync: (val: string) => void;\n};\n\nconst CustomerContext = createContext<CustomerContextType | undefined>(undefined);\n\nexport const CustomerProvider = ({ children }: { children: ReactNode }) => {\n  const dbContext = useContext(DatabaseContext);\n  const saasContext = useContext(SaaSContext);\n  const { t } = useTranslation();\n\n  const [current, setCurrent] = useState<Customer | null>(null);\n  const [loaderStatus, setLoaderStatus] = useState<DataLoadingStatus>(DataLoadingStatus.Idle);\n  const [refreshDataSync, setRefreshDataSync] = useState(\"\");\n\n  // Create a new instance of the API client\n  const getApiClient = (): CustomerApiClient => {\n    return new CustomerApiClient(\"\", dbContext, saasContext, { useEncryption: false });\n  };\n\n  // Basic CRUD\n  async function getAllCustomers(): Promise<Customer[]> {\n    setLoaderStatus(DataLoadingStatus.Loading);\n    try {\n      const client = getApiClient();\n      const dtos = await client.getAll();\n      setLoaderStatus(DataLoadingStatus.Success);\n      return dtos.map((dto) => Customer.fromDTO(dto));\n    } catch (err) {\n      setLoaderStatus(DataLoadingStatus.Error);\n      toast.error(t(getErrorMessage(err)));\n      return [];\n    }\n  }\n\n  async function getCustomerById(id: number): Promise<Customer> {\n    setLoaderStatus(DataLoadingStatus.Loading);\n    try {\n      const client = getApiClient();\n      const dtos = await client.getById(id);\n      if (!dtos || !dtos.length) {\n        throw new Error(t(\"Customer not found\") as string);\n      }\n      setLoaderStatus(DataLoadingStatus.Success);\n      return Customer.fromDTO(dtos[0]);\n    } catch (err) {\n      setLoaderStatus(DataLoadingStatus.Error);\n      toast.error(t(getErrorMessage(err)));\n      throw err;\n    }\n  }\n\n  async function updateCustomer(customer: Customer): Promise<Customer> {\n    const client = getApiClient();\n    const dto = customer.toDTO();\n    const resp = await client.put(dto);\n    if (resp.status !== 200) {\n      toast.error(resp.message);\n      throw new Error(resp.message);\n    }\n    const updated = Customer.fromDTO(resp.data);\n    setRefreshDataSync(new Date().toISOString());\n    return updated;\n  }\n\n  async function deleteCustomer(customer: Customer): Promise<void> {\n    const client = getApiClient();\n    const resp = await client.delete(customer.id!);\n    if (resp.status !== 200) {\n      toast.error(resp.message);\n      throw new Error(resp.message);\n    }\n    setRefreshDataSync(new Date().toISOString());\n  }\n\n  // If you need pagination:\n  async function queryCustomers(params: PaginatedQuery): Promise<PaginatedResult<Customer[]>> {\n    setLoaderStatus(DataLoadingStatus.Loading);\n    try {\n      const client = getApiClient();\n      const raw = await client.query(params);\n      setLoaderStatus(DataLoadingStatus.Success);\n      return {\n        ...raw,\n        rows: raw.rows.map((r: CustomerDTO) => Customer.fromDTO(r)),\n      };\n    } catch (err) {\n      setLoaderStatus(DataLoadingStatus.Error);\n      toast.error(t(getErrorMessage(err)));\n      throw err;\n    }\n  }\n\n  const value: CustomerContextType = {\n    current,\n    loaderStatus,\n    setCurrent,\n\n    getAllCustomers,\n    getCustomerById,\n    updateCustomer,\n    deleteCustomer,\n\n    queryCustomers,\n\n    refreshDataSync,\n    setRefreshDataSync,\n  };\n\n  return <CustomerContext.Provider value={value}>{children}</CustomerContext.Provider>;\n};\n\nexport const useCustomerContext = (): CustomerContextType => {\n  const ctx = useContext(CustomerContext);\n  if (!ctx) {\n    throw new Error(\"useCustomerContext must be used within a CustomerProvider\");\n  }\n  return ctx;\n};\n```\n\n----------------------------------------\n\nTITLE: Initializing the OpenAgentsBuilderClient in TypeScript\nDESCRIPTION: Code to create a new instance of the OpenAgentsBuilderClient with required configuration parameters including base URL, database ID hash, and API key.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  baseUrl: \"https://app.openagentsbuilder.com\", \n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\",\n  apiKey: \"YOUR_API_KEY\"\n});\n```\n\n----------------------------------------\n\nTITLE: PUT (Upsert) Product Endpoint with TypeScript Fetch Example\nDESCRIPTION: TypeScript implementation for creating or updating a product using the Fetch API. Includes error handling, response parsing, and an example of usage with sample product data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_6\n\nLANGUAGE: TypeScript\nCODE:\n```\nasync function upsertProduct(productData: any) {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/product\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(productData)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error upserting product: ${result.message}`);\n  }\n\n  console.log(\"Upserted product:\", result);\n  return result;\n}\n\n// Usage Example\nupsertProduct({\n  id: \"p-abc123\",\n  sku: \"SHOE-001\",\n  name: \"Nice Shoes\",\n  price: { value: 49.99, currency: \"USD\" },\n  taxRate: 0.23,\n  brand: \"Some Brand\",\n  status: \"active\"\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Implementing Server Repository for Customer Entity\nDESCRIPTION: Creates a repository class that extends BaseRepository to provide CRUD operations for the Customer entity. Includes methods for create, upsert, delete, findAll, and findOne operations with proper database querying.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/server/server-customer-repository.ts\n\nimport { BaseRepository, IQuery } from \"./base-repository\";\nimport { CustomerDTO } from \"../dto\";\nimport { customers } from \"./db-schema\";\nimport { eq } from \"drizzle-orm\";\nimport { create } from \"./generic-repository\";\nimport { getCurrentTS } from \"@/lib/utils\";\n\nexport default class ServerCustomerRepository extends BaseRepository<CustomerDTO> {\n  async create(item: CustomerDTO): Promise<CustomerDTO> {\n    const db = await this.db();\n    return create(item, customers, db); // uses a generic \"create\" helper\n  }\n\n  async upsert(query: Record<string, any>, item: CustomerDTO): Promise<CustomerDTO> {\n    const db = await this.db();\n    let existing: CustomerDTO | null = null;\n\n    if (query.id) {\n      // If we got an id in the query, we find an existing record\n      existing = (db.select().from(customers).where(eq(customers.id, query.id)).get()) as CustomerDTO;\n    }\n\n    if (!existing) {\n      // If it doesn't exist, create it\n      return this.create(item);\n    } else {\n      // If it exists, update\n      item.updatedAt = getCurrentTS();\n      db.update(customers).set(item).where(eq(customers.id, query.id)).run();\n      return item;\n    }\n  }\n\n  async delete(query: Record<string, any>): Promise<boolean> {\n    const db = await this.db();\n    if (!query.id) return false; // must specify \"id\"\n    const result = db.delete(customers).where(eq(customers.id, query.id)).run();\n    return result.changes > 0;\n  }\n\n  async findAll(query?: IQuery): Promise<CustomerDTO[]> {\n    const db = await this.db();\n    let dbQuery = db.select().from(customers);\n\n    if (query?.filter) {\n      if (query.filter[\"id\"]) {\n        dbQuery.where(eq(customers.id, parseInt(query.filter[\"id\"], 10)));\n      }\n      if (query.filter[\"name\"]) {\n        // example: you might do partial matching, or eq, etc.\n        // For eq:\n        // dbQuery.where(eq(customers.name, query.filter[\"name\"]));\n      }\n    }\n\n    return Promise.resolve(dbQuery.all() as CustomerDTO[]);\n  }\n\n  async findOne(query: { id: number }): Promise<CustomerDTO | null> {\n    const db = await this.db();\n    const record = db\n      .select()\n      .from(customers)\n      .where(eq(customers.id, query.id))\n      .get();\n    return record ? (record as CustomerDTO) : null;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: GET Aggregated Stats Endpoint Using TypeScript API Client\nDESCRIPTION: This TypeScript example demonstrates how to use the OpenAgentsBuilderClient to make a GET request to the /api/stats/aggregated endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getAggregatedStatsClientExample() {\n  const aggregated = await client.stats.getAggregatedStats();\n  console.log(\"Aggregated stats via client:\", aggregated);\n}\n\ngetAggregatedStatsClientExample();\n```\n\n----------------------------------------\n\nTITLE: Working with Agents API in TypeScript\nDESCRIPTION: Example showing how to list all agents, create or update an agent, and delete an agent by ID using the agent module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// List Agents\nconst agents = await client.agent.listAgents();\nconsole.log(\"Agents:\", agents);\n\n// Upsert Agent\nawait client.agent.upsertAgent({\n  displayName: \"My New Agent\",\n  prompt: \"You are a helpful AI assistant...\"\n});\n\n// Delete Agent\nawait client.agent.deleteAgent(\"AGENT_ID\");\n```\n\n----------------------------------------\n\nTITLE: Creating a Customer Model Class with DTO Transformations in TypeScript\nDESCRIPTION: Defines a Customer class that handles transformations between DTO (Data Transfer Object) and frontend model. Includes methods for converting from DTO, to DTO, and creating from form data with timestamp handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/client/models/customer.ts\nimport { CustomerDTO } from \"@/data/dto\";\nimport { getCurrentTS } from \"@/lib/utils\";\n\nexport class Customer {\n  id?: number;\n  name: string;\n  email?: string;\n  company?: string | null;\n  createdAt: string;\n  updatedAt: string;\n\n  constructor(dto: CustomerDTO) {\n    this.id = dto.id;\n    this.name = dto.name;\n    this.email = dto.email;\n    this.company = dto.company || null;\n    this.createdAt = dto.createdAt;\n    this.updatedAt = dto.updatedAt;\n  }\n\n  static fromDTO(dto: CustomerDTO): Customer {\n    return new Customer(dto);\n  }\n\n  toDTO(): CustomerDTO {\n    return {\n      id: this.id,\n      name: this.name,\n      email: this.email,\n      company: this.company,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt,\n    };\n  }\n\n  /**\n   * Optionally, a helper to create or update from a form:\n   */\n  static fromForm(data: Record<string, any>, existing?: Customer): Customer {\n    return new Customer({\n      ...existing,\n      id: existing?.id || data.id,\n      name: data.name || \"\",\n      email: data.email || \"\",\n      company: data.company || null,\n      createdAt: existing?.createdAt || getCurrentTS(),\n      updatedAt: getCurrentTS(),\n    } as CustomerDTO);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Zod Schema and DTO for Customer Entity\nDESCRIPTION: Defines a Zod validation schema for the Customer entity and creates TypeScript types. This ensures proper validation of inbound and outbound data with specific constraints for each field.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/dto.ts\n\nimport { z } from \"zod\";\nimport { getCurrentTS } from \"@/lib/utils\";\n\nexport const customerDTOSchema = z.object({\n  id: z.number().positive().int().optional(),  // auto-increment primary key\n  name: z.string().min(1),                    // must have at least 1 character\n  email: z.string().email().optional(),       // optional but must be valid email if present\n  company: z.string().optional().nullable(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n});\n\n// The encryption settings for the new DTO (if needed):\nexport const CustomerDTOEncSettings = { ecnryptedFields: [] };\n\nexport type CustomerDTO = z.infer<typeof customerDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Defining Drizzle Schema Table for Customer Entity\nDESCRIPTION: Creates a new SQLite table schema for customers with id, name, email, company, and timestamp fields. Uses Drizzle ORM to define the table structure that will be used for migrations.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/server/db-schema.ts\n\nimport { sqliteTable, text, integer } from \"drizzle-orm/sqlite-core\";\nimport { sql } from \"drizzle-orm\";\n\n// Add this near your existing tables (e.g. agents, sessions, etc.)\nexport const customers = sqliteTable(\"customers\", {\n  id: integer(\"id\", { mode: \"number\" }).primaryKey({ autoIncrement: true }),\n  name: text(\"name\"),           // We'll store the customer's name\n  email: text(\"email\"),         // We'll store the customer's email\n  company: text(\"company\"),     // optional company name\n  createdAt: text(\"createdAt\")\n    .notNull()\n    .default(sql`CURRENT_TIMESTAMP`),\n  updatedAt: text(\"updatedAt\")\n    .notNull()\n    .default(sql`CURRENT_TIMESTAMP`),\n});\n```\n\n----------------------------------------\n\nTITLE: PUT Calendar Event TypeScript Fetch Example\nDESCRIPTION: TypeScript function that uses the Fetch API to create or update a calendar event. Takes an eventData object and returns the server response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nasync function upsertCalendarEvent(eventData: any) {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/calendar\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(eventData)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error upserting calendar event: ${result.message}`);\n  }\n\n  console.log(\"Upserted event:\", result);\n  return result;\n}\n\n// Usage example:\nupsertCalendarEvent({\n  id: \"evt-001\",\n  title: \"Meeting with Bob\",\n  agentId: \"agent-123\",\n  start: \"2025-04-01T10:00:00.000Z\",\n  end: \"2025-04-01T11:00:00.000Z\"\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Running the Open Agents Builder Application\nDESCRIPTION: Commands to install dependencies and start the development server for Open Agents Builder.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nyarn\nyarn dev\n```\n\n----------------------------------------\n\nTITLE: Creating Customer API Routes with GET and PUT Methods\nDESCRIPTION: Implements the Next.js API route for handling GET (list) and PUT (create/update) operations for the Customer entity. Includes authorization, validation, error handling, and audit logging.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// src/app/api/customer/route.ts\nimport { NextRequest, NextResponse } from \"next/server\";\nimport { customerDTOSchema, CustomerDTO } from \"@/data/dto\";\nimport ServerCustomerRepository from \"@/data/server/server-customer-repository\";\nimport { genericGET, genericPUT } from \"@/lib/generic-api\";\nimport { auditLog, authorizeSaasContext } from \"@/lib/generic-api\";\nimport { authorizeRequestContext } from \"@/lib/authorization-api\";\nimport { getErrorMessage } from \"@/lib/utils\";\nimport { detailedDiff } from \"deep-object-diff\";\n\nexport async function GET(request: NextRequest, response: NextResponse) {\n  try {\n    const requestContext = await authorizeRequestContext(request, response);\n    const saasContext = await authorizeSaasContext(request);\n\n    const repo = new ServerCustomerRepository(requestContext.databaseIdHash);\n    // We can reuse the genericGET utility for listing\n    const list = await genericGET<CustomerDTO>(request, repo, 50, 0);\n    return Response.json(list);\n  } catch (error) {\n    return Response.json({ message: getErrorMessage(error), status: 500 }, { status: 500 });\n  }\n}\n\nexport async function PUT(request: NextRequest, response: NextResponse) {\n  try {\n    const requestContext = await authorizeRequestContext(request, response);\n    const saasContext = await authorizeSaasContext(request);\n\n    const inputObj = await request.json();\n    const repo = new ServerCustomerRepository(requestContext.databaseIdHash);\n\n    // If we want to handle \"upsert\" or \"create\" specifically:\n    const existing = inputObj.id ? await repo.findOne({ id: inputObj.id }) : null;\n    const apiResult = await genericPUT<CustomerDTO>(inputObj, customerDTOSchema, repo, \"id\");\n\n    if (!existing && apiResult.status === 200) {\n      // new record\n      auditLog(\n        {\n          eventName: \"createCustomer\",\n          diff: JSON.stringify(inputObj),\n          recordLocator: JSON.stringify({ id: apiResult.data?.id }),\n        },\n        request,\n        requestContext,\n        saasContext\n      );\n    } else if (existing && apiResult.status === 200) {\n      // update\n      const changes = detailedDiff(existing, apiResult.data || {});\n      auditLog(\n        {\n          eventName: \"updateCustomer\",\n          diff: JSON.stringify(changes),\n          recordLocator: JSON.stringify({ id: apiResult.data?.id }),\n        },\n        request,\n        requestContext,\n        saasContext\n      );\n    }\n\n    return Response.json(apiResult, { status: apiResult.status });\n  } catch (error) {\n    return Response.json({ message: getErrorMessage(error), status: 500 }, { status: 500 });\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Calendar Event DTO Schema Definition in TypeScript\nDESCRIPTION: The TypeScript schema definition for calendar events using Zod validation. It defines all required and optional fields with their types and validation rules.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const calendarEventDTOSchema = z.object({\n  id: z.string().min(1),\n  title: z.string().min(1),\n  agentId: z.string().min(1),\n  description: z.string().optional().nullable(),\n  exclusive: z.string().optional().nullable(),\n  start: z.string().optional().nullable(),\n  location: z.string().optional().nullable(),\n  end: z.string().optional().nullable(),\n  allDay: z.boolean().optional().nullable(),\n  sessionId: z.string().optional().nullable(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  participants: z.string().optional().nullable(),\n  updatedAt: z.string().default(() => getCurrentTS()),\n});\nexport type CalendarEventDTO = z.infer<typeof calendarEventDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: E-Commerce Agent Cheat Sheet\nDESCRIPTION: A concise reference guide summarizing the key steps for creating and using an e-commerce agent in Open Agents Builder, from template selection to sharing and embedding.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/tutorials/10-ecommerce..md#2025-04-23_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n1. New Agent â†’ Use Template â†’ InstaFit\n2. Preview link â†’ test chat, add to cart, place order\n3. Orders tab â†’ verify order data\n4. Products & services â†’ edit item, Generate Variants ðŸª„\n5. Images â†’ ðŸª„ Generate description\n6. Configure shipping, payment, statuses\n7. Share the public URL or embed widget\n```\n\n----------------------------------------\n\nTITLE: Creating a Context Provider for Open Agents Builder in React/TypeScript\nDESCRIPTION: Implementation of a context provider (ExecProvider) that manages agent state, database ID hash, session ID, and locale. It includes functionality for initializing the agent and provides a custom hook for accessing the context.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport React, { createContext, useState, useContext, ReactNode } from 'react';\nimport { z } from 'zod';\n\n// 1. Define an Agent DTO schema (you may customize as needed)\nconst agentDTOSchema = z.object({\n  id: z.string().optional(),\n  displayName: z.string().min(1),\n  options: z.string().optional().nullable(),\n  prompt: z.string().optional(),\n  // ... more fields as your app requires ...\n  createdAt: z.string(),\n  updatedAt: z.string()\n});\nexport type AgentDTO = z.infer<typeof agentDTOSchema>;\n\n// 2. Define the context shape\nexport interface ExecContextType {\n  agent: AgentDTO | null;\n  databaseIdHash: string;\n  sessionId: string;\n  locale: string;\n  init: (id: string, dbHash: string, locale: string, sessionId: string) => Promise<AgentDTO>;\n  setDatabaseIdHash: (hash: string) => void;\n  setSessionId: (sid: string) => void;\n}\n\n// 3. Create the context and default\nconst ChatContext = createContext<ExecContextType | undefined>(undefined);\n\n// 4. Provider component\nexport const ExecProvider = ({ children }: { children: ReactNode }) => {\n  const [agent, setAgent] = useState<AgentDTO | null>(null);\n  const [databaseIdHash, setDatabaseIdHash] = useState<string>('');\n  const [sessionId, setSessionId] = useState<string>('');\n  const [locale, setLocale] = useState<string>('en');\n\n  // Basic init logic:\n  const init = async (agentId: string, dbHash: string, loc: string, sid: string): Promise<AgentDTO> => {\n    setDatabaseIdHash(dbHash);\n    setSessionId(sid);\n    setLocale(loc);\n\n    // Example fetch from your backend or OAB admin. \n    // In reality, adjust the URL/headers to fit your setup.\n    try {\n      const url = `https://openagentsbuilder.com/api/agent/${agentId}`;\n      const res = await fetch(url, { headers: { 'Content-Type': 'application/json' } });\n      if (!res.ok) {\n        throw new Error(`Failed to load agent ${agentId}`);\n      }\n\n      const data = await res.json();\n      // Validate with Zod:\n      const validatedData = agentDTOSchema.parse(data);\n      setAgent(validatedData);\n\n      return validatedData;\n    } catch (err) {\n      console.error(err);\n      throw err; // or handle gracefully\n    }\n  };\n\n  return (\n    <ChatContext.Provider\n      value={{\n        agent,\n        databaseIdHash,\n        sessionId,\n        locale,\n        init,\n        setDatabaseIdHash,\n        setSessionId\n      }}\n    >\n      {children}\n    </ChatContext.Provider>\n  );\n};\n\n// 5. Hook to access the context\nexport const useExecContext = () => {\n  const context = useContext(ChatContext);\n  if (!context) {\n    throw new Error('useExecContext must be used within an ExecProvider');\n  }\n  return context;\n};\n```\n\n----------------------------------------\n\nTITLE: Vector Store Entry Schema Definition in TypeScript\nDESCRIPTION: TypeScript schema definition for vector store entries using Zod validation. Defines the structure including id, content, embedding, metadata, and timestamp fields.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nexport const vectorStoreEntrySchema = z.object({\n  id: z.string(),\n  content: z.string(),\n  embedding: z.array(z.number()),\n  metadata: z.record(z.unknown()),\n  createdAt: z.string().optional(),\n  updatedAt: z.string().optional(),\n});\n```\n\n----------------------------------------\n\nTITLE: Defining Result Schema in TypeScript\nDESCRIPTION: TypeScript schema definition for the ResultDTO object using Zod validation. This schema defines the structure of result data including agent and session IDs, user information, content, and timestamps.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const resultDTOSchema = z.object({\n  agentId: z.string().min(1),\n  sessionId: z.string().min(1),\n  userName: z.string().optional().nullable(),\n  userEmail: z.string().optional().nullable(),\n  content: z.string().optional().nullable(),\n  format: z.string().optional().nullable(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n  finalizedAt: z.string().optional().nullable(),\n});\nexport type ResultDTO = z.infer<typeof resultDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Creating Customer Model Class for Client-Side Data Handling\nDESCRIPTION: A model class for handling Customer data in the front-end. It implements methods for converting between DTOs and models, and includes a utility for creating a Customer from form data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/client/models.ts\n\nimport { CustomerDTO } from \"@/data/dto\";\nimport { getCurrentTS } from \"@/lib/utils\";\n\nexport class Customer {\n  id?: number;\n  name: string;\n  email?: string;\n  company?: string | null;\n  createdAt: string;\n  updatedAt: string;\n\n  constructor(dto: CustomerDTO) {\n    this.id = dto.id;\n    this.name = dto.name;\n    this.email = dto.email;\n    this.company = dto.company || null;\n    this.createdAt = dto.createdAt;\n    this.updatedAt = dto.updatedAt;\n  }\n\n  static fromDTO(dto: CustomerDTO): Customer {\n    return new Customer(dto);\n  }\n\n  toDTO(): CustomerDTO {\n    return {\n      id: this.id,\n      name: this.name,\n      email: this.email,\n      company: this.company,\n      createdAt: this.createdAt,\n      updatedAt: this.updatedAt,\n    };\n  }\n\n  // Optionally, a \"fromForm\" helper if you have a form:\n  static fromForm(data: Record<string, any>, existing?: Customer) {\n    return new Customer({\n      ...existing,\n      id: existing?.id || data.id,\n      name: data.name || \"\",\n      email: data.email || \"\",\n      company: data.company || null,\n      createdAt: existing?.createdAt || getCurrentTS(),\n      updatedAt: getCurrentTS(),\n    } as CustomerDTO);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Full HTML Implementation Example\nDESCRIPTION: Example showing the correct placement of the chat widget script within a complete HTML document structure.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/5-integrating-with-the-website.md#2025-04-23_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n...\n<!-- Other content on your site -->\n\n<script src=\"https://app.openagentsbuilder.com/chat-widget.js\" \n        data-chat-url=\"https://app.openagentsbuilder.com/chat/XXXXXXXXXXXXXXXXXXXXXXXXXXXXX\">\n</script>\n</body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Defining FlowChunkType and FlowChunkEvent Interfaces in TypeScript\nDESCRIPTION: TypeScript definitions for the FlowChunkType enum and FlowChunkEvent interface. These structures define the format of chunks returned during streamed flow execution, including various event types like flow start/finish, generation, tool calls, and error states.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/20-executing-flow.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nexport enum FlowChunkType {\n  FlowStart = \"flowStart\",\n  FlowStepStart = \"flowStepStart\",\n  FlowFinish = \"flowFinish\",\n  Generation = \"generation\",\n  GenerationEnd = \"generationEnd\",\n  ToolCalls = \"toolCalls\",\n  TextStream = \"textStream\",\n  FinalResult = \"finalResult\",\n  Error = \"error\",\n  Message = \"message\",\n  UIComponent = \"uiComponent\" // e.g. a custom React component\n}\n\nexport interface FlowChunkEvent {\n  type: FlowChunkType;\n  flowNodeId?: string;\n  flowAgentId?: string;\n  duration?: number;\n  name?: string;\n  timestamp?: Date;\n  issues?: any[];\n\n  result?: string | string[];\n  message?: string;\n  input?: any;\n\n  // If this chunk describes tool calls and results:\n  toolResults?: Array<{\n    args?: any;\n    result?: string;\n  }>;\n\n  // If this chunk includes final messages\n  messages?: Array<{\n    role: string;\n    content: Array<{ type: string; text: string }>;\n    id?: string;\n  }>;\n}\n```\n\n----------------------------------------\n\nTITLE: Agent DTO Schema Definition in TypeScript\nDESCRIPTION: Zod schema definition for agent data transfer object, specifying validation rules and field types.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { z } from 'zod';\nimport { getCurrentTS } from \"@/lib/utils\";\n\nexport const agentDTOSchema = z.object({\n  id: z.string().optional(),\n  displayName: z.string().min(1),           // Required, min length: 1\n  options: z.string().optional().nullable(),\n  prompt: z.string().optional(),\n  expectedResult: z.string().optional().nullable(),\n  safetyRules: z.string().optional().nullable(),\n  published: z.string().optional().nullable(),\n  events: z.string().optional().nullable(),\n  tools: z.string().optional().nullable(),\n  status: z.string().optional().nullable(),\n  locale: z.string().optional().nullable(),\n  agentType: z.string().optional().nullable(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n  inputs: z.string().optional().nullable(),\n  defaultFlow: z.string().optional().nullable(),\n  flows: z.string().optional().nullable(),\n  agents: z.string().optional().nullable(),\n  icon: z.string().optional().nullable(),\n  extra: z.string().optional().nullable()\n});\n\nexport type AgentDTO = z.infer<typeof agentDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Listing Keys with TypeScript Fetch API\nDESCRIPTION: A TypeScript function that uses the fetch API to list keys for a specific database. This example includes error handling and properly structures the request with authentication headers.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nasync function listKeys(databaseIdHash: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/keys?databaseIdHash=${databaseIdHash}`,\n    {\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": databaseIdHash\n      }\n    }\n  );\n  if (!response.ok) {\n    throw new Error(`Error listing keys: ${response.statusText}`);\n  }\n  return await response.json();\n}\n\n// Usage\nlistKeys(\"35f5c5b139a6b569d4649b7...\")\n  .then((data) => console.log(\"All keys:\", data))\n  .catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Product DTO Schema Definition in TypeScript\nDESCRIPTION: The ProductDTO schema definition using Zod for validation, including required fields (sku, name), pricing information, dimensions, and optional arrays for attributes, variants, images, and tags.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_0\n\nLANGUAGE: TypeScript\nCODE:\n```\nexport const productDTOSchema = z.object({\n  id: z.string().optional(),\n  agentId: z.string().optional().nullable(),\n\n  sku: z.string().min(1),\n  name: z.string().min(1),\n  description: z.string().optional().nullable(),\n\n  price: priceSchema.optional(),\n  priceInclTax: priceSchema.optional(),\n\n  taxRate: z.number().min(0).max(1).optional(),\n  taxValue: z.number().min(0).optional(),\n\n  width: z.number().min(0).optional(),\n  height: z.number().min(0).optional(),\n  length: z.number().min(0).optional(),\n  weight: z.number().min(0).optional(),\n\n  widthUnit: z.string().optional(),\n  heightUnit: z.string().optional(),\n  lengthUnit: z.string().optional(),\n  weightUnit: z.string().optional(),\n\n  brand: z.string().optional(),\n  status: z.string().optional(),\n\n  imageUrl: z.string().url().optional().nullable(),\n\n  attributes: z.array(productAttributeSchema).optional(),\n  variants: z.array(productVariantSchema).optional(),\n  images: z.array(productImageSchema).optional(),\n  tags: z.array(z.string()).optional(),\n\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n});\nexport type ProductDTO = z.infer<typeof productDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Defining Order Data Schema in TypeScript\nDESCRIPTION: This snippet defines the OrderDTO schema using Zod, including fields for order details, addresses, pricing, and line items. It specifies the structure and validation rules for order data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const orderDTOSchema = z.object({\n  id: z.string().optional(),\n  agentId: z.string().optional(),\n  sessionId: z.string().optional(),\n\n  billingAddress: addressSchema.optional(),\n  shippingAddress: addressSchema.optional(),\n\n  attributes: z.record(z.any()).optional(),\n  notes: z.array(noteSchema).optional(),\n  statusChanges: z.array(statusChangeSchema).optional(),\n  status: z.enum([\n    \"shopping_cart\",\n    \"quote\",\n    \"new\",\n    \"processing\",\n    \"shipped\",\n    \"completed\",\n    \"cancelled\",\n  ]).default(\"shopping_cart\"),\n  email: z.string().email().optional(),\n  customer: customerSchema.optional(),\n\n  // Price fields\n  subtotal: priceSchema.optional(),\n  subTotalInclTax: priceSchema.optional(),\n  subtotalTaxValue: priceSchema.optional(),\n  total: priceSchema.optional(),\n  totalInclTax: priceSchema.optional(),\n  shippingMethod: z.string().optional(),\n  shippingPrice: priceSchema.optional(),\n  shippingPriceInclTax: priceSchema.optional(),\n  shippingPriceTaxRate: z.number().optional(),\n\n  items: z.array(orderItemSchema).optional(),\n\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n});\nexport type OrderDTO = z.infer<typeof orderDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Registering Google Search Tool in toolRegistry\nDESCRIPTION: Example of importing and registering the Google Search tool in the toolRegistry.ts file. This code shows how to import the factory function, call it to create tool instances, and add them to the availableTools record in the init method.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\n// src/tools/registry.ts\n\nimport { Tool } from 'ai';\nimport { createGoogleSearchTool } from './googleSearchTool';  // <-- Add this\n// ...other imports...\n\nexport type ToolDescriptor = {\n  displayName: string;\n  tool: Tool;\n  injectStreamingController?: (streamingController: ReadableStreamDefaultController<any>) => void;\n}\n\nlet availableTools: Record<string, ToolDescriptor> | null = null;\n\nexport const toolRegistry = {\n  init: ({\n    saasContext,\n    databaseIdHash,\n    storageKey,\n    agentId,\n    agent,\n    sessionId,\n    streamingController\n  }: {\n    saasContext?: AuthorizedSaaSContext,\n    agentId: string,\n    sessionId: string,\n    agent?: Agent,\n    databaseIdHash: string,\n    storageKey: string | undefined | null,\n    streamingController?: ReadableStreamDefaultController<any>\n  }): Record<string, ToolDescriptor> => {\n\n    const streamToOutput = (chunk: FlowChunkEvent) => {\n      // ... streaming code ...\n    };\n\n    // Create or reset your tools record\n    availableTools = {\n      // Existing tools\n      sendEmail: createEmailTool({\n        apiKey: checkApiKey('Resend.com API key', 'RESEND_API_KEY', process.env.RESEND_API_KEY || ''),\n      }),\n      currentDate: currentDateTool,\n      calendarSchedule: createCalendarScheduleTool(agentId, sessionId, databaseIdHash, storageKey),\n      calendarList: createCalendarListTool(agentId, sessionId, databaseIdHash, storageKey),\n      // ...others...\n\n      // 1. Use your new factory function:\n      // createGoogleSearchTool returns { googleSearch, googleImageSearch }\n      // so let's destructure them as two tool entries:\n      googleSearch: createGoogleSearchTool().googleSearch,\n      googleImageSearch: createGoogleSearchTool().googleImageSearch,\n    }\n\n    // Additional logic, flows, etc.\n    // ...\n    \n    return availableTools;\n  },\n};\n```\n\n----------------------------------------\n\nTITLE: Project Structure for Google Search Tool Implementation\nDESCRIPTION: Example project structure showing how the Google Search tool fits into the Open Agents Builder project. This demonstrates the organization of tool files, configurators, and registries.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\nsrc/\n  tools/\n    googleSearchTool.ts             # Your new tool\n    googleSearchTool-configurator.tsx   # Tool configurator\n    calendarListTool.ts\n    calendarScheduleTool.ts\n    calendarScheduleTool-configurator.tsx\n    ...\n    registry.ts                     # Tools registry (toolRegistry.init)\n    configurators.ts                # Tools configurators registry\n...\n```\n\n----------------------------------------\n\nTITLE: TypeScript Client for Session Listing\nDESCRIPTION: Example showing how to use the TypeScript client library to list sessions with optional filtering parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function listSessions() {\n  // Optionally pass filtering parameters, e.g. { agentId: \"agent-123\" }\n  const sessions = await client.session.listSessions({ agentId: \"agent-123\" });\n  console.log(\"Sessions:\", sessions);\n}\n\nlistSessions();\n```\n\n----------------------------------------\n\nTITLE: Managing Products in TypeScript\nDESCRIPTION: Example showing how to list products, create or update a product, and delete a product by ID using the product module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\n// List Products\nconst products = await client.product.listProducts();\n\n// Upsert Product\nawait client.product.upsertProduct({\n  sku: \"PROD-XYZ\",\n  name: \"New Product\",\n  description: \"An awesome product\"\n});\n\n// Delete Product\nawait client.product.deleteProduct(\"PRODUCT_ID\");\n```\n\n----------------------------------------\n\nTITLE: Example React Component Using Customer API Client\nDESCRIPTION: A sample React component that demonstrates how to use the CustomerApiClient to fetch and display customer data. It initializes the client using context providers and loads customers on component mount.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport React, { useEffect, useState } from \"react\";\nimport { Customer } from \"@/data/client/models\"; // your model\nimport { CustomerApiClient } from \"@/data/client/customer-api-client\";\nimport { useDatabaseContext } from \"@/contexts/db-context\";\nimport { useSaaSContext } from \"@/contexts/saas-context\";\n\nexport default function CustomerList() {\n  const [customers, setCustomers] = useState<Customer[]>([]);\n  const dbContext = useDatabaseContext();\n  const saasContext = useSaaSContext();\n\n  // Initialize your API client\n  const client = new CustomerApiClient(\n    \"\",\n    dbContext,\n    saasContext,\n    { useEncryption: false } // or pass a secretKey\n  );\n\n  useEffect(() => {\n    client\n      .getAll()\n      .then((res) => {\n        const cList = res.map((dto) => Customer.fromDTO(dto));\n        setCustomers(cList);\n      })\n      .catch((err) => console.error(\"Error loading customers:\", err));\n  }, []);\n\n  return (\n    <div>\n      <h2>Customer List</h2>\n      <ul>\n        {customers.map((cust) => (\n          <li key={cust.id}>\n            {cust.id}: {cust.name} ({cust.email})\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing CustomerApiClient for Backend Communication in TypeScript\nDESCRIPTION: Extends the AdminApiClient class to create a specialized client for Customer entity operations. Provides methods for fetching, creating, updating, and deleting customers, with support for pagination through a query endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/client/customer-api-client.ts\nimport { AdminApiClient, ApiEncryptionConfig } from \"./admin-api-client\";\nimport {\n  CustomerDTO,\n  CustomerDTOEncSettings,\n  PaginatedQuery,\n  PaginatedResult,\n} from \"@/data/dto\";\nimport { DatabaseContextType } from \"@/contexts/db-context\";\nimport { SaaSContextType } from \"@/contexts/saas-context\";\nimport { Customer } from \"./models/customer\";\n\nexport type GetCustomersResponse = CustomerDTO[];\nexport type PutCustomerRequest = CustomerDTO;\n\nexport type PutCustomerResponseSuccess = {\n  message: string;\n  data: CustomerDTO;\n  status: 200;\n};\n\nexport type PutCustomerResponseError = {\n  message: string;\n  status: 400;\n  issues?: any[];\n};\n\nexport type PutCustomerResponse =\n  | PutCustomerResponseSuccess\n  | PutCustomerResponseError;\n\nexport type DeleteCustomerResponse = {\n  message: string;\n  status: number;\n};\n\nexport class CustomerApiClient extends AdminApiClient {\n  constructor(\n    baseUrl: string,\n    dbContext?: DatabaseContextType | null,\n    saasContext?: SaaSContextType | null,\n    encryptionConfig?: ApiEncryptionConfig\n  ) {\n    super(baseUrl, dbContext, saasContext, encryptionConfig);\n  }\n\n  // GET /api/customer\n  async getAll(): Promise<GetCustomersResponse> {\n    return this.request<GetCustomersResponse>(\n      \"/api/customer\",\n      \"GET\",\n      CustomerDTOEncSettings\n    );\n  }\n\n  // GET /api/customer?id=...\n  async getById(id: number): Promise<GetCustomersResponse> {\n    return this.request<GetCustomersResponse>(\n      `/api/customer?id=${encodeURIComponent(id.toString())}`,\n      \"GET\",\n      CustomerDTOEncSettings\n    );\n  }\n\n  // PUT /api/customer\n  async put(record: PutCustomerRequest): Promise<PutCustomerResponse> {\n    return this.request<PutCustomerResponse>(\n      \"/api/customer\",\n      \"PUT\",\n      CustomerDTOEncSettings,\n      record\n    );\n  }\n\n  // DELETE /api/customer/[id]\n  async delete(customerId: number): Promise<DeleteCustomerResponse> {\n    return this.request<DeleteCustomerResponse>(\n      `/api/customer/${customerId}`,\n      \"DELETE\",\n      CustomerDTOEncSettings\n    );\n  }\n\n  /**\n   * If you need pagination:\n   * POST /api/customer/query\n   */\n  async query(params: PaginatedQuery): Promise<PaginatedResult<CustomerDTO[]>> {\n    return this.request<PaginatedResult<CustomerDTO[]>>(\n      \"/api/customer/query\",\n      \"POST\",\n      CustomerDTOEncSettings,\n      params\n    );\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Calendar Events in TypeScript\nDESCRIPTION: Example demonstrating how to list calendar events filtered by agent ID and create or update an event using the calendar module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\n// List Events\nconst events = await client.calendar.listEvents({ agentId: \"AGENT_ID\" });\n\n// Upsert Event\nawait client.calendar.upsertEvent({\n  id: \"event-123\",\n  title: \"Weekly Meeting\",\n  agentId: \"AGENT_ID\",\n  start: \"2025-03-21T10:00:00Z\",\n  end: \"2025-03-21T11:00:00Z\"\n});\n```\n\n----------------------------------------\n\nTITLE: Implementing Customer API Client for Next.js Frontend\nDESCRIPTION: A client-side API client for interacting with the Customer API endpoints. Extends AdminApiClient to reuse authentication and encryption capabilities and provides methods for CRUD operations.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// src/data/client/customer-api-client.ts\n\nimport { AdminApiClient, ApiEncryptionConfig } from \"./admin-api-client\";\nimport { CustomerDTO, CustomerDTOEncSettings, PaginatedQuery, PaginatedResult } from \"@/data/dto\";\nimport { DatabaseContextType } from \"@/contexts/db-context\";\nimport { SaaSContextType } from \"@/contexts/saas-context\";\nimport { Customer } from \"./models\";\n\nexport type GetCustomersResponse = CustomerDTO[];\nexport type PutCustomerRequest = CustomerDTO;\n\nexport type PutCustomerResponseSuccess = {\n  message: string;\n  data: CustomerDTO;\n  status: 200;\n};\n\nexport type PutCustomerResponseError = {\n  message: string;\n  status: 400;\n  issues?: any[];\n};\n\nexport type PutCustomerResponse = PutCustomerResponseSuccess | PutCustomerResponseError;\n\nexport type DeleteCustomerResponse = {\n  message: string;\n  status: number;\n};\n\nexport class CustomerApiClient extends AdminApiClient {\n  constructor(\n    baseUrl: string,\n    dbContext?: DatabaseContextType | null,\n    saasContext?: SaaSContextType | null,\n    encryptionConfig?: ApiEncryptionConfig\n  ) {\n    super(baseUrl, dbContext, saasContext, encryptionConfig);\n  }\n\n  // GET /api/customer\n  async getAll(): Promise<GetCustomersResponse> {\n    return this.request<GetCustomersResponse>(\"/api/customer\", \"GET\", CustomerDTOEncSettings);\n  }\n\n  // GET /api/customer?id=...\n  async getById(id: number): Promise<GetCustomersResponse> {\n    return this.request<GetCustomersResponse>(\n      `/api/customer?id=${encodeURIComponent(id.toString())}`,\n      \"GET\",\n      CustomerDTOEncSettings\n    );\n  }\n\n  // PUT /api/customer\n  async put(record: PutCustomerRequest): Promise<PutCustomerResponse> {\n    return this.request<PutCustomerResponse>(\"/api/customer\", \"PUT\", CustomerDTOEncSettings, record);\n  }\n\n  // DELETE /api/customer/[id]\n  async delete(customerId: number): Promise<DeleteCustomerResponse> {\n    return this.request<DeleteCustomerResponse>(\n      `/api/customer/${customerId}`,\n      \"DELETE\",\n      CustomerDTOEncSettings\n    );\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Paginated Customer Listing in Next.js\nDESCRIPTION: This component creates a paginated list of customers with search functionality, infinite scrolling, and the ability to add new customers. It uses React hooks for state management and custom contexts for data fetching.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\n\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useCustomerContext } from \"@/contexts/customer-context\";\nimport { PaginatedQuery, PaginatedResult } from \"@/data/dto\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { NoRecordsAlert } from \"@/components/shared/no-records-alert\";\nimport InfiniteScroll from \"@/components/infinite-scroll\";\nimport { Loader2, FolderOpenIcon, PlusIcon } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useDebounce } from \"use-debounce\";\nimport { toast } from \"sonner\";\nimport { getErrorMessage } from \"@/lib/utils\";\nimport { useTranslation } from \"react-i18next\";\nimport Link from \"next/link\";\n\nexport default function CustomersPage() {\n  const router = useRouter();\n  const { t } = useTranslation();\n  const customerContext = useCustomerContext();\n\n  // Searching / pagination\n  const [query, setQuery] = useState<PaginatedQuery>({\n    limit: 5,\n    offset: 0,\n    orderBy: \"createdAt\",\n    query: \"\",\n  });\n  const [debouncedQuery] = useDebounce(query, 500);\n\n  // Data\n  const [customersData, setCustomersData] = useState<PaginatedResult<any>>({\n    rows: [],\n    total: 0,\n    limit: 5,\n    offset: 0,\n    orderBy: \"createdAt\",\n    query: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n\n  // Initial load / search\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const result = await customerContext.queryCustomers({\n          ...debouncedQuery,\n          offset: 0,\n        });\n        setCustomersData(result);\n        setHasMore(result.rows.length < result.total);\n      } catch (err) {\n        toast.error(t(getErrorMessage(err)));\n      }\n      setLoading(false);\n    })();\n  }, [debouncedQuery, customerContext.refreshDataSync]);\n\n  // Check if more data is available\n  useEffect(() => {\n    setHasMore(customersData.offset + customersData.limit < customersData.total);\n  }, [customersData]);\n\n  // Load next page\n  const loadMore = async () => {\n    if (loading) return;\n    const newOffset = customersData.offset + customersData.limit;\n    if (newOffset >= customersData.total) {\n      setHasMore(false);\n      return;\n    }\n    setLoading(true);\n    try {\n      const result = await customerContext.queryCustomers({\n        ...debouncedQuery,\n        offset: newOffset,\n      });\n      setCustomersData((prev) => ({\n        ...prev,\n        rows: [...prev.rows, ...result.rows],\n        offset: newOffset,\n      }));\n      setHasMore(newOffset + result.rows.length < result.total);\n    } catch (err) {\n      toast.error(t(getErrorMessage(err)));\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex space-x-2\">\n        <Link href={\"./customers/new\"} className=\"inline-flex\">\n          <Button size=\"sm\" variant=\"outline\">\n            <PlusIcon className=\"w-4 h-4 mr-2\" />\n            {t(\"Add new customer\")}\n          </Button>\n        </Link>\n      </div>\n\n      {/* Search */}\n      <Input\n        placeholder={t(\"Search customers...\") || \"Search...\"}\n        onChange={(e) => setQuery({ ...query, query: e.target.value })}\n        value={query.query}\n      />\n\n      {/* No Records */}\n      {customersData.rows.length === 0 && !loading && (\n        <NoRecordsAlert title={t(\"No customers found\") as string}>\n          {t(\"Try adjusting your search or add a new customer.\")}\n        </NoRecordsAlert>\n      )}\n\n      {/* List */}\n      <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n        {customersData.rows.map((customer: any) => (\n          <div key={customer.id} className=\"border rounded p-4\">\n            <div className=\"font-bold\">\n              {customer.name}\n            </div>\n            <div className=\"text-sm text-gray-500\">{customer.email}</div>\n            {customer.company && (\n              <div className=\"text-sm text-gray-500 mt-1\">\n                {customer.company}\n              </div>\n            )}\n            <div className=\"mt-2\">\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                onClick={() => router.push(`./customers/${customer.id}`)}\n              >\n                <FolderOpenIcon className=\"w-4 h-4 mr-1\" />\n                {t(\"Open\")}\n              </Button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <InfiniteScroll hasMore={hasMore} isLoading={loading} next={loadMore}>\n        {hasMore && (\n          <div className=\"flex justify-center\">\n            <Loader2 className=\"my-4 h-8 w-8 animate-spin\" />\n          </div>\n        )}\n      </InfiniteScroll>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Stats Schema in TypeScript\nDESCRIPTION: This code defines the schema for storing usage events using Zod. It includes fields for event name, token counts, timestamps, and counters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const statsSchema = z.object({\n  id: z.number().positive().int().optional(),\n  eventName: z.string().min(1),\n  promptTokens: z.number().positive().int(),\n  completionTokens: z.number().positive().int(),\n  finishReasons: z.string().nullable().optional(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  createdMonth:  z.number().positive().int().nullable().optional(),\n  createdDay:  z.number().positive().int().nullable().optional(),\n  createdYear:  z.number().positive().int().nullable().optional(),\n  createdHour:  z.number().positive().int().nullable().optional(),\n  counter: z.number().positive().int().optional()\n});\nexport type StatDTO = z.infer<typeof statsSchema>;\n```\n\n----------------------------------------\n\nTITLE: Parsing Stream Output (TypeScript)\nDESCRIPTION: A TypeScript class that demonstrates how to consume and parse the chunked stream output from the Flow execution API. It uses a generator function to yield parsed JSON objects from the stream.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/20-executing-flow.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nexport class FlowExecApiClient {\n  async *execStream(\n    agentId: string,\n    flowId: string,\n    uiState: any,\n    input: any,\n    execMode: string,\n    headers: Record<string, string>\n  ): AsyncGenerator<any, void, unknown> {\n    const body = JSON.stringify({ \n      flow: flowId, \n      input, \n      execMode, \n      outputMode: \"stream\", \n      uiState \n    });\n\n    const response = await fetch(`https://openagentsbuilder.com/api/agent/${agentId}/exec`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...headers\n      },\n      body\n    });\n\n    if (!response.body) {\n      throw new Error(\"Response body is null\");\n    }\n\n    const reader = response.body.getReader();\n    const decoder = new TextDecoder();\n    let buffer = \"\";\n\n    while (true) {\n      const { value, done } = await reader.read();\n      if (done) break;\n\n      buffer += decoder.decode(value, { stream: true });\n      const lines = buffer.split(/\\r?\\n/);\n      buffer = lines.pop()!; // keep the incomplete chunk in buffer\n\n      for (const line of lines) {\n        if (!line.trim()) continue;\n        try {\n          yield JSON.parse(line);\n        } catch (err) {\n          console.error(\"JSON parse error:\", err, \"\\nLine:\", line);\n        }\n      }\n    }\n\n    // Process any remaining buffer\n    if (buffer.trim()) {\n      try {\n        yield JSON.parse(buffer);\n      } catch (err) {\n        console.error(\"JSON parse error:\", err, \"\\nLine:\", buffer);\n      }\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing Chat Interface with ExecProvider in TypeScript React\nDESCRIPTION: Example of wrapping a ChatPage component with ExecProvider to enable chat context functionality. The code demonstrates the basic setup required for integrating Open Agents Builder's chat features in a React application.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport ChatPage from \"./ChatPage\";\nimport { ExecProvider } from \"@/context/exec-context\";\n\nexport default function App({ params }) {\n  return (\n    <ExecProvider>\n      <ChatPage params={params} />\n    </ExecProvider>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Session Data Schema in TypeScript\nDESCRIPTION: TypeScript schema definition for SessionDTO using zod validator. Defines the structure and validation rules for session data including required and optional fields.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const sessionDTOSchema = z.object({\n  id: z.string().min(1),          // A unique session identifier\n  agentId: z.string().min(1),     // The agent to which this session belongs\n  userName: z.string().optional().nullable(),\n  userEmail: z.string().optional().nullable(),\n  acceptTerms: z.string().optional().nullable(),\n  messages: z.string().optional().nullable(),   // JSON-serialized chat data\n  promptTokens: z.number().optional().nullable(),\n  completionTokens: z.number().optional().nullable(),\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n  finalizedAt: z.string().optional().nullable(),\n});\nexport type SessionDTO = z.infer<typeof sessionDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Defining AttachmentDTO Schema in TypeScript\nDESCRIPTION: Schema definition for the AttachmentDTO object that represents an attachment in the database. This schema validates attachment objects with fields for metadata, content references, and timestamps.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const attachmentDTOSchema = z.object({\n  id: z.number().positive().optional(),\n  displayName: z.string().optional().nullable(),\n  safeNameIdentifier: z.string().optional().nullable(),\n  description: z.string().optional().nullable(),\n\n  mimeType: z.string().optional().nullable(),\n  type: z.string().optional().nullable(),\n  json: z.string().optional().nullable(),\n  extra: z.string().optional().nullable(),\n\n  size: z.number().positive().int().nullable(),\n  storageKey: z.string().min(1),\n  filePath: z.string().optional(),\n\n  content: z.string().optional().nullable(),\n\n  createdAt: z.string().default(() => getCurrentTS()),\n  updatedAt: z.string().default(() => getCurrentTS()),\n\n  assignedTo: z.string().optional().nullable()\n});\nexport type AttachmentDTO = z.infer<typeof attachmentDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Querying Attachments with TypeScript Client\nDESCRIPTION: Example of using the TypeScript client library to search and paginate attachments. This snippet demonstrates how to call the queryAttachments method with filtering and pagination parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nasync function queryAttachmentsClient() {\n  const result = await client.attachment.queryAttachments({\n    limit: 5,\n    offset: 0,\n    orderBy: \"createdAt\",\n    query: \"jpg\"\n  });\n  console.log(\"Queried attachments:\", result);\n}\n\nqueryAttachmentsClient();\n```\n\n----------------------------------------\n\nTITLE: Upserting a Product with TypeScript Client\nDESCRIPTION: Example TypeScript code that demonstrates how to create or update a product using the client library with proper product attributes.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nclient.product.upsertProduct({\n  sku: \"PROD-XYZ\",\n  name: \"Sample Product\",\n  description: \"A wonderful product\"\n})\n.then((resp) => {\n  console.log(\"Product upserted:\", resp);\n})\n.catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: PUT (Upsert) Product Using TypeScript API Client\nDESCRIPTION: Example of creating or updating a product using the OpenAgentsBuilderClient library instead of direct API calls. Simplifies authentication and request handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_7\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function upsertProductClientExample() {\n  const result = await client.product.upsertProduct({\n    id: \"p-abc123\",\n    sku: \"SHOE-001\",\n    name: \"Nice Shoes\",\n    price: { value: 49.99, currency: \"USD\" },\n    taxRate: 0.23,\n    brand: \"Some Brand\",\n    status: \"active\"\n  });\n  console.log(\"Upserted product via client:\", result);\n}\n\nupsertProductClientExample();\n```\n\n----------------------------------------\n\nTITLE: Formatting Chat Endpoint Request Body in JSON\nDESCRIPTION: Example JSON structure for the request body when using the Chat endpoint. The messages array contains objects with role and content fields, where the role can be system, user, or assistant.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"messages\": [\n    {\n      \"role\": \"system\",\n      \"content\": \"Hello, how can I assist you today?\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Public Attachment URL with JavaScript Fetch\nDESCRIPTION: Example of using the JavaScript fetch API to download an attachment from the public URL. This function doesn't require authentication and handles the binary response as a Blob or ArrayBuffer.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nasync function fetchPublicAttachment(databaseIdHash: string, storageKey: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/storage/attachment/${databaseIdHash}/${storageKey}`\n  );\n  if (!response.ok) {\n    throw new Error(\"File not found or server error\");\n  }\n  // e.g., blob or arrayBuffer\n  const blob = await response.blob();\n  console.log(\"Public file blob:\", blob);\n  return blob;\n}\n```\n\n----------------------------------------\n\nTITLE: Upserting an Order with TypeScript API Client\nDESCRIPTION: This example shows how to use the open-agents-builder-client to upsert an order. It demonstrates client initialization and calling the upsertOrder method with order data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function upsertOrderClientExample() {\n  const updated = await client.order.upsertOrder({\n    id: \"ORD-2025-03-21-ABC\",\n    status: \"new\",\n    agentId: \"agent-XYZ\",\n    email: \"[email protected]\",\n    items: [\n      {\n        id: \"line-1\",\n        productSku: \"PROD-ABC\",\n        variantSku: \"VAR-ABC\",\n        quantity: 2,\n        price: { value: 50, currency: \"USD\" }\n      }\n    ],\n    shippingMethod: \"UPS\",\n    shippingPrice: { value: 10, currency: \"USD\" }\n  });\n  console.log(\"Upserted via client:\", updated);\n}\n```\n\n----------------------------------------\n\nTITLE: GET Products Endpoint with TypeScript Fetch Example\nDESCRIPTION: TypeScript implementation for fetching products with pagination and filtering using the Fetch API. Includes error handling and response parsing.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_2\n\nLANGUAGE: TypeScript\nCODE:\n```\nasync function getProducts() {\n  const params = new URLSearchParams({\n    limit: \"5\",\n    offset: \"0\",\n    orderBy: \"name\",\n    query: \"shoes\"\n  });\n\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/product?${params.toString()}`,\n    {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Failed to fetch products: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  console.log(\"Products result:\", data);\n  return data;\n}\n```\n\n----------------------------------------\n\nTITLE: Using TypeScript Client for Paginated Agent Results\nDESCRIPTION: TypeScript code showing how to list results for a specific agent with pagination, using the OpenAgentsBuilderClient. This example explains how to adapt the client for the paginated endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nasync function listResultsForAgent(agentId: string) {\n  // There's currently no specialized method for this route in the client,\n  // but you can call it by passing custom query params to `listResults`.\n  // If needed, you can add a new method to the ResultApi class for more direct usage.\n  const results = await client.result.listResults({\n    agentId, limit: 10, offset: 0, orderBy: \"userName\", query: \"alice\"\n  });\n  console.log(`Paginated results for agent ${agentId}:`, results);\n}\n```\n\n----------------------------------------\n\nTITLE: Listing Audit Logs using TypeScript API Client\nDESCRIPTION: This TypeScript function demonstrates how to retrieve a list of audit logs using the OpenAgentsBuilderClient. It calls the listAudit method with optional query parameters for partition and limit.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nasync function listAuditClientExample(partition?: string, limit = 50) {\n  // You can pass optional query parameters to the client.audit.listAudit()\n  const logs = await client.audit.listAudit({ partition, limit });\n  console.log(\"Audit logs via client:\", logs);\n}\n\nlistAuditClientExample(\"2025-02\");\n```\n\n----------------------------------------\n\nTITLE: Downloading Attachment Binary with JavaScript Fetch\nDESCRIPTION: Example of using the JavaScript fetch API to download an attachment's binary content. This function authenticates the request and handles the binary response as a Blob or ArrayBuffer.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nasync function downloadAttachmentBinary(storageKey: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/attachment/${storageKey}`,\n    {\n      headers: {\n        \"Authorization\": `Bearer ${process.env.OPEN_AGENTS_BUILDER_API_KEY}`,\n        \"database-id-hash\": \"YOUR_DATABASE_ID_HASH\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Error fetching attachment: ${response.statusText}`);\n  }\n\n  const blob = await response.blob();\n  // or arrayBuffer()\n  console.log(\"Downloaded blob:\", blob);\n  return blob;\n}\n```\n\n----------------------------------------\n\nTITLE: Querying Orders with TypeScript API Client\nDESCRIPTION: This example demonstrates how to use the open-agents-builder-client to query orders. It shows how to initialize the client and call the listOrders method with parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function listOrdersClientExample() {\n  const orders = await client.order.listOrders({ limit: 5, offset: 0, orderBy: \"status\", query: \"shipped\" });\n  console.log(\"Orders via client:\", orders);\n}\n```\n\n----------------------------------------\n\nTITLE: Recording and Retrieving Stats in TypeScript\nDESCRIPTION: Example demonstrating how to record usage statistics and retrieve aggregated stats data using the stats module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\n// Record Stats\nawait client.stats.putStats({\n  eventName: \"sampleEvent\",\n  promptTokens: 50,\n  completionTokens: 20\n});\n\n// Get Aggregated Stats\nconst { data } = await client.stats.getAggregatedStats();\nconsole.log(\"This month's usage:\", data.thisMonth);\n```\n\n----------------------------------------\n\nTITLE: Managing Attachments in TypeScript\nDESCRIPTION: Example showing how to list attachments, create or update an attachment, and delete an attachment by storage key using the attachment module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\n// List Attachments\nconst attachments = await client.attachment.listAttachments();\n\n// Upsert Attachment\nawait client.attachment.upsertAttachment({\n  storageKey: \"my-file-key\",\n  displayName: \"document.pdf\",\n  mimeType: \"application/pdf\",\n  content: \"Text content or base64...\"\n});\n\n// Delete Attachment\nawait client.attachment.deleteAttachment(\"my-file-key\");\n```\n\n----------------------------------------\n\nTITLE: Upserting Keys with OpenAgentsBuilderClient\nDESCRIPTION: Example showing how to create or update a key using the official TypeScript client library, which simplifies the API interaction with built-in authentication and request handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"<YOUR_API_KEY>\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function upsertKeyClientExample() {\n  const keyData = {\n    displayName: \"My Key #1\",\n    keyLocatorHash: \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\",\n    keyHash: \"abc123def456...\",\n    keyHashParams: \"some-params\",\n    databaseIdHash: \"35f5c5b139a6b569d4649b7...\",\n    encryptedMasterKey: \"some-encrypted-value\"\n  };\n  const result = await client.keys.upsertKey(keyData);\n  console.log(\"Upserted key via client:\", result);\n}\n\nupsertKeyClientExample();\n```\n\n----------------------------------------\n\nTITLE: Creating Audit Log Entry using TypeScript API Client\nDESCRIPTION: This TypeScript function demonstrates how to create an audit log entry using the OpenAgentsBuilderClient. It initializes the client with API key and database ID hash, then calls the createAuditLog method.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"<YOUR_API_KEY>\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function createAuditLogClientExample() {\n  const newLog = await client.audit.createAuditLog({\n    eventName: \"updateUserProfile\",\n    recordLocator: JSON.stringify({ userId: \"user-123\" }),\n    diff: JSON.stringify({ old: { name: \"Alice\" }, new: { name: \"Alice Updated\" } })\n  });\n  console.log(\"Created log via client:\", newLog);\n}\n\ncreateAuditLogClientExample();\n```\n\n----------------------------------------\n\nTITLE: Creating Google Search Tool Configurator Component in React\nDESCRIPTION: This React component provides a user interface for configuring the Google Search tool. It allows users to modify the results limit, language, and proxy location. The component includes form inputs that update the tool's configuration through an onChange callback.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_1\n\nLANGUAGE: TSX\nCODE:\n```\n// src/tools/googleSearchTool-configurator.tsx\n'use client';\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\n\ntype GoogleSearchToolOptions = {\n  limit?: number;\n  hl?: string;\n  proxyLocation?: string;\n};\n\ntype GoogleSearchToolConfiguratorProps = {\n  options: GoogleSearchToolOptions;\n  onChange: (updated: GoogleSearchToolOptions) => void;\n};\n\nexport function GoogleSearchToolConfigurator({\n  options,\n  onChange,\n}: GoogleSearchToolConfiguratorProps) {\n  const { t } = useTranslation();\n\n  // Update the limit\n  const handleLimitChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({ ...options, limit: parseInt(event.target.value, 10) || 5 });\n  };\n\n  // Update the hl (interface language)\n  const handleHlChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({ ...options, hl: event.target.value });\n  };\n\n  // Update the proxyLocation\n  const handleProxyLocationChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    onChange({ ...options, proxyLocation: event.target.value });\n  };\n\n  return (\n    <div className=\"space-y-2 text-sm text-gray-600\">\n      <p>{t('Configure Google Search tool:')}</p>\n      <label className=\"block\">\n        <span>{t('Results limit')}:</span>\n        <input\n          type=\"number\"\n          value={options.limit ?? ''}\n          onChange={handleLimitChange}\n          className=\"border p-1 block w-32\"\n        />\n      </label>\n      <label className=\"block\">\n        <span>{t('Language')} (hl):</span>\n        <input\n          type=\"text\"\n          value={options.hl ?? ''}\n          onChange={handleHlChange}\n          className=\"border p-1 block w-32\"\n        />\n      </label>\n      <label className=\"block\">\n        <span>{t('Proxy location')} (gl):</span>\n        <input\n          type=\"text\"\n          value={options.proxyLocation ?? ''}\n          onChange={handleProxyLocationChange}\n          className=\"border p-1 block w-32\"\n        />\n      </label>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Listing Attachments with TypeScript Client\nDESCRIPTION: Example of using the TypeScript client library to list all attachments. This snippet demonstrates how to call the listAttachments method to retrieve all attachment records.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nasync function listAttachmentsClient() {\n  const result = await client.attachment.listAttachments();\n  console.log(\"All attachments:\", result);\n}\n\nlistAttachmentsClient();\n```\n\n----------------------------------------\n\nTITLE: PUT Stats Endpoint Using TypeScript API Client\nDESCRIPTION: This TypeScript example demonstrates how to use the OpenAgentsBuilderClient to make a PUT request to the /api/stats endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function putStatsClientExample() {\n  await client.stats.putStats({\n    eventName: \"chat\",\n    promptTokens: 100,\n    completionTokens: 150\n  });\n  console.log(\"Stats aggregated via client!\");\n}\n\nputStatsClientExample();\n```\n\n----------------------------------------\n\nTITLE: Querying Orders with TypeScript Fetch API\nDESCRIPTION: This TypeScript function uses the fetch API to query orders. It demonstrates how to set query parameters and handle the response, including error handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getOrders() {\n  const limit = 5;\n  const offset = 0;\n  const orderBy = \"status\";\n  const query = \"shipped\";\n\n  const response = await fetch(\n    `https://your-domain.com/api/order?limit=${limit}&offset=${offset}&orderBy=${orderBy}&query=${query}`, \n    {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer YOUR_API_KEY\",\n        \"database-id-hash\": \"YOUR_DATABASE_ID_HASH\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Error fetching orders: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  console.log(\"Paginated order list:\", data);\n  // data.rows => array of OrderDTO\n  return data;\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Sessions in TypeScript\nDESCRIPTION: Example showing how to list sessions filtered by agent ID and delete a session by its ID using the session module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\n// List Sessions\nconst sessions = await client.session.listSessions({ agentId: \"AGENT_ID\" });\n\n// Delete Session\nawait client.session.deleteSession(\"SESSION_ID\");\n```\n\n----------------------------------------\n\nTITLE: Listing Agents with TypeScript Client\nDESCRIPTION: Example TypeScript code that uses the client to retrieve a list of agents and handle the response with Promise chaining.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nclient.agent.listAgents()\n  .then((agents) => {\n    console.log(\"Agents:\", agents);\n  })\n  .catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Executing Flow API Endpoint (JSON)\nDESCRIPTION: The JSON structure for the request body when calling the API endpoint to execute a Flow-type agent. It includes fields for specifying the flow, execution mode, output mode, and input parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/20-executing-flow.md#2025-04-23_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"flow\": \"import\",\n  \"execMode\": \"sync\",\n  \"outputMode\": \"stream\",\n  \"input\": {}\n}\n```\n\n----------------------------------------\n\nTITLE: Listing All Results using TypeScript Client\nDESCRIPTION: This TypeScript code snippet demonstrates how to list all results using the Open Agents Builder TypeScript client. The client handles authentication and returns the results as an array.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nconst allResults = await client.result.listResults();\nconsole.log(\"All results:\", allResults);\n```\n\n----------------------------------------\n\nTITLE: DELETE Product Endpoint with TypeScript Fetch Example\nDESCRIPTION: TypeScript implementation for deleting a product by ID using the Fetch API. Includes error handling and response parsing.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_10\n\nLANGUAGE: TypeScript\nCODE:\n```\nasync function deleteProduct(productId: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/product/${productId}`,\n    {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n      }\n    }\n  );\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error deleting product: ${result.message}`);\n  }\n\n  console.log(\"Delete response:\", result);\n  return result;\n}\n\n// Usage Example\ndeleteProduct(\"p-abc123\").catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Fetching Product Image using TypeScript Fetch\nDESCRIPTION: TypeScript function to fetch a product image and create an object URL, using the Fetch API.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_21\n\nLANGUAGE: typescript\nCODE:\n```\nasync function fetchProductImage(databaseIdHash: string, storageKey: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/storage/product/${databaseIdHash}/${storageKey}`,\n    {\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Error fetching product image: ${response.statusText}`);\n  }\n\n  // For example, to create an object URL in a browser:\n  const blob = await response.blob();\n  const imageURL = URL.createObjectURL(blob);\n  console.log(\"Image URL:\", imageURL);\n  return imageURL;\n}\n```\n\n----------------------------------------\n\nTITLE: Extending ProductApi for Exporting Products in TypeScript\nDESCRIPTION: TypeScript code to extend the BaseClient class with a method for exporting products, including error handling and blob response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_15\n\nLANGUAGE: typescript\nCODE:\n```\nimport { BaseClient } from \"open-agents-builder-client\";\n\nclass ExtendedProductApi extends BaseClient {\n  public async exportProducts(): Promise<Blob> {\n    const url = `${this.baseUrl}/api/product/export`;\n    const resp = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${this.apiKey}`,\n        \"database-id-hash\": this.databaseIdHash\n      }\n    });\n    if (!resp.ok) {\n      throw new Error(`Error exporting products: ${resp.statusText}`);\n    }\n    return resp.blob();\n  }\n}\n\n// Usage\n(async () => {\n  const extendedProductApi = new ExtendedProductApi({\n    apiKey: \"YOUR_API_KEY\",\n    databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n  });\n\n  const zipBlob = await extendedProductApi.exportProducts();\n  console.log(\"Exported Products as ZIP Blob:\", zipBlob);\n})();\n```\n\n----------------------------------------\n\nTITLE: Listing Keys with OpenAgentsBuilderClient\nDESCRIPTION: Example showing how to use the official TypeScript client library to list keys, simplifying authentication and request handling compared to manual fetch implementations.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"<YOUR_API_KEY>\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function listKeysClientExample() {\n  const keys = await client.keys.listKeys({ databaseIdHash: \"35f5c5b139a6b569d4649b7...\" });\n  console.log(\"Keys (via client):\", keys);\n}\n\nlistKeysClientExample();\n```\n\n----------------------------------------\n\nTITLE: Using TypeScript Client to List Results\nDESCRIPTION: TypeScript code example showing how to use the OpenAgentsBuilderClient to retrieve results filtered by session ID. This client simplifies API interactions.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\",\n  apiKey: \"YOUR_API_KEY\"\n});\n\nasync function listAllResults() {\n  const results = await client.result.listResults({ sessionId: \"session-123\" });\n  console.log(\"Results:\", results);\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting an Order with TypeScript fetch\nDESCRIPTION: An asynchronous function that deletes an order by ID using the fetch API. It sends a DELETE request to the API endpoint with authorization headers and handles the response, including error handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteOrder(orderId: string) {\n  const response = await fetch(`https://your-domain.com/api/order/${orderId}`, {\n    method: \"DELETE\",\n    headers: {\n      \"Authorization\": \"Bearer YOUR_API_KEY\",\n      \"database-id-hash\": \"YOUR_DATABASE_ID_HASH\"\n    }\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error deleting order: ${result.message}`);\n  }\n  console.log(\"Delete response:\", result);\n  return result;\n}\n\n// Usage:\ndeleteOrder(\"ORD-2025-03-21-ABC\")\n  .then(() => console.log(\"Order deleted.\"))\n  .catch((err) => console.error(err));\n```\n\n----------------------------------------\n\nTITLE: Extending ProductApi for Describing Products in TypeScript\nDESCRIPTION: TypeScript code to extend the BaseClient class with a method for describing products using an LLM, including error handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nclass ExtendedProductApi extends BaseClient {\n  public async describeProduct(storageKey: string, productData: Partial<ProductDTO>) {\n    const url = `${this.baseUrl}/api/product/descriptor/${storageKey}`;\n    const resp = await fetch(url, {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": `Bearer ${this.apiKey}`,\n        \"database-id-hash\": this.databaseIdHash,\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(productData)\n    });\n    if (!resp.ok) {\n      throw new Error(`Error describing product: ${resp.statusText}`);\n    }\n    return resp.json();\n  }\n}\n\n// Usage:\n(async () => {\n  const extendedProductApi = new ExtendedProductApi({\n    apiKey: \"YOUR_API_KEY\",\n    databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n  });\n\n  const result = await extendedProductApi.describeProduct(\"unique-image-storage-key\", {\n    sku: \"DES-123\",\n    name: \"From LLM\",\n    price: { value: 19.99, currency: \"USD\" }\n  });\n\n  console.log(\"LLM-based described product:\", result);\n})();\n```\n\n----------------------------------------\n\nTITLE: Installing TypeScript Client Library\nDESCRIPTION: NPM and Yarn commands for installing the official Open Agents Builder client library and its Zod dependency for TypeScript integration.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nnpm install open-agents-builder-client zod\n```\n\nLANGUAGE: bash\nCODE:\n```\nyarn add open-agents-builder-client zod\n```\n\n----------------------------------------\n\nTITLE: Creating Audit Log Entry using TypeScript fetch\nDESCRIPTION: This TypeScript function uses the fetch API to create a new audit log entry. It sends a PUT request to the /api/audit endpoint with the necessary headers and payload, and handles the response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nasync function createAuditLog(auditLog: any) {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/audit\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(auditLog)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error creating audit log: ${result.message}`);\n  }\n  console.log(\"Created audit log:\", result);\n  return result;\n}\n\n// Usage example:\ncreateAuditLog({\n  eventName: \"updateUserProfile\",\n  recordLocator: JSON.stringify({ userId: \"user-123\" }),\n  diff: JSON.stringify({\n    old: { name: \"Alice\" },\n    new: { name: \"Alice Updated\" }\n  })\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: PUT Stats Endpoint TypeScript Example\nDESCRIPTION: This TypeScript function demonstrates how to make a PUT request to the /api/stats endpoint using the fetch API.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nasync function putStats(statData: any) {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/stats\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(statData)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error aggregating stats: ${result.message}`);\n  }\n  console.log(\"Stats aggregated:\", result.data);\n  return result.data;\n}\n\n// Usage:\nputStats({\n  eventName: \"chat\",\n  promptTokens: 100,\n  completionTokens: 150\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Implementing CustomerProvider in Admin Layout\nDESCRIPTION: An example of how to integrate the CustomerProvider into an admin layout component. This allows all child components under the admin routes to access customer data and operations via the useCustomerContext hook.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\n// src/app/[locale]/admin/layout.tsx\n\"use client\";\n\nimport { CustomerProvider } from \"@/contexts/customer-context\";\n// ...other providers...\n\nexport default function AdminLayout({ children, params }: {\n  children: React.ReactNode;\n  params: { locale: string; id: string };\n}) {\n  // ... Possibly set up translations, other contexts ...\n  return (\n    <CustomerProvider>\n      {/* ... any other providers or layout markup ... */}\n      {children}\n    </CustomerProvider>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Extending TypeScript API Client for Attachment Export\nDESCRIPTION: Extends the BaseClient to implement an exportAttachments method that fetches a ZIP archive of all attachments. The method makes an authenticated GET request to the /api/attachment/export endpoint and returns the response as a Blob.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nimport { BaseClient } from \"open-agents-builder-client\";\n\nclass ExtendedAttachmentApi extends BaseClient {\n  public async exportAttachments(): Promise<Blob> {\n    const url = `${this.baseUrl}/api/attachment/export`;\n    const resp = await fetch(url, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${this.apiKey}`,\n        \"database-id-hash\": this.databaseIdHash\n      }\n    });\n    if (!resp.ok) {\n      throw new Error(`Error exporting attachments: ${resp.statusText}`);\n    }\n    return resp.blob();\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Upserting an Order with TypeScript Fetch API\nDESCRIPTION: This TypeScript function demonstrates how to upsert an order using the fetch API. It includes error handling and logs the upserted order data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nasync function upsertOrder(orderData: any) {\n  const response = await fetch(\"https://your-domain.com/api/order\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer YOUR_API_KEY\",\n      \"database-id-hash\": \"YOUR_DATABASE_ID_HASH\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(orderData)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error upserting order: ${result?.error?.message || result?.message}`);\n  }\n\n  console.log(\"Upserted order:\", result.data);\n  return result.data;\n}\n\n// Example usage\nupsertOrder({\n  id: \"ORD-2025-03-21-ABC\",\n  status: \"new\",\n  agentId: \"agent-XYZ\",\n  email: \"[email protected]\",\n  items: [\n    {\n      id: \"line-1\",\n      productSku: \"PROD-ABC\",\n      variantSku: \"VAR-ABC\",\n      quantity: 2,\n      price: { value: 50, currency: \"USD\" }\n    }\n  ],\n  shippingMethod: \"UPS\",\n  shippingPrice: { value: 10, currency: \"USD\" }\n});\n```\n\n----------------------------------------\n\nTITLE: TypeScript Client for Session Deletion\nDESCRIPTION: Example demonstrating how to delete a session using the TypeScript client library.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function deleteSessionById(sessionId: string) {\n  await client.session.deleteSession(sessionId);\n  console.log(`Session ${sessionId} deleted.`);\n}\n\n// Usage example\ndeleteSessionById(\"session-001\");\n```\n\n----------------------------------------\n\nTITLE: Key Data Schema Definition in TypeScript\nDESCRIPTION: The TypeScript schema definition for the KeyDTO object using Zod validation library. This schema defines the structure, validation rules, and types for key objects in the system.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const keyDTOSchema = z.object({\n  displayName: z.string().min(1),\n  keyLocatorHash: z.string().min(64).max(64),\n  keyHash: z.string().min(32),\n  keyHashParams: z.string().min(1),\n  databaseIdHash: z.string().min(64).max(64),\n  encryptedMasterKey: z.string().min(1),\n  acl: z.string().nullable().optional(),\n  extra: z.string().nullable().optional(),\n  expiryDate: z.string().nullable(),\n  updatedAt: z.string().default(() => getCurrentTS()),\n});\nexport type KeyDTO = z.infer<typeof keyDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: GET Calendar Events Using TypeScript API Client\nDESCRIPTION: Example of retrieving calendar events using the OpenAgentsBuilderClient. Initializes the client with API key and database ID hash and calls the calendar.listEvents method.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function listEventsClientExample() {\n  // This method returns an array of CalendarEventDTO\n  const events = await client.calendar.listEvents({ agentId: \"agent-123\" });\n  console.log(\"Calendar events (client):\", events);\n}\n\nlistEventsClientExample();\n```\n\n----------------------------------------\n\nTITLE: Creating Customer Details/Edit Page in Next.js\nDESCRIPTION: This component handles both creation of new customers and editing of existing ones. It uses React Hook Form for form management, custom contexts for data operations, and includes delete functionality for existing customers.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/10-new-entity-admin.md#2025-04-23_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\n\"use client\";\n\nimport React, { useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useCustomerContext } from \"@/contexts/customer-context\";\nimport { useParams, useRouter } from \"next/navigation\";\nimport { toast } from \"sonner\";\nimport { getErrorMessage } from \"@/lib/utils\";\nimport { useTranslation } from \"react-i18next\";\nimport { Customer } from \"@/data/client/models/customer\";\n\ninterface CustomerFormData {\n  name: string;\n  email: string;\n  company?: string;\n}\n\nexport default function CustomerFormPage() {\n  const router = useRouter();\n  const params = useParams();\n  const { t } = useTranslation();\n  const { getCustomerById, updateCustomer, deleteCustomer } = useCustomerContext();\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm<CustomerFormData>();\n\n  const isNew = params.customerId === \"new\";\n\n  // Load data if editing\n  useEffect(() => {\n    if (!isNew) {\n      const idNum = parseInt(params.customerId, 10);\n      (async () => {\n        try {\n          const existing = await getCustomerById(idNum);\n          reset({\n            name: existing.name,\n            email: existing.email,\n            company: existing.company || \"\",\n          });\n        } catch (err) {\n          toast.error(t(getErrorMessage(err)));\n        }\n      })();\n    }\n  }, [isNew, params.customerId]);\n\n  // Save\n  const onSubmit = async (data: CustomerFormData) => {\n    try {\n      if (isNew) {\n        // Create new\n        const newCust = Customer.fromForm(data, undefined);\n        const saved = await updateCustomer(newCust);\n        toast.success(t(\"Customer created!\") as string);\n      } else {\n        // Update existing\n        const idNum = parseInt(params.customerId, 10);\n        const existing = Customer.fromForm(data, new Customer({\n          id: idNum,\n          // placeholders for existing fields\n          name: data.name,\n          email: data.email,\n          company: data.company,\n          createdAt: \"\",\n          updatedAt: \"\",\n        }.toDTO()));\n\n        await updateCustomer(existing);\n        toast.success(t(\"Customer updated!\") as string);\n      }\n      router.push(\"../\");\n    } catch (err) {\n      toast.error(t(getErrorMessage(err)));\n    }\n  };\n\n  // Delete\n  const handleDelete = async () => {\n    if (isNew) return; // nothing to delete\n    const confirmed = confirm(t(\"Are you sure you want to delete?\") as string);\n    if (!confirmed) return;\n\n    try {\n      await deleteCustomer({ id: parseInt(params.customerId, 10) } as Customer);\n      toast.success(t(\"Customer deleted!\") as string);\n      router.push(\"../\");\n    } catch (err) {\n      toast.error(t(getErrorMessage(err)));\n    }\n  };\n\n  return (\n    <div className=\"max-w-xl\">\n      <Button variant=\"outline\" size=\"sm\" onClick={() => router.back()}>\n        {t(\"Back\")}\n      </Button>\n\n      <h2 className=\"text-2xl font-bold mt-4\">\n        {isNew ? t(\"New Customer\") : t(\"Edit Customer\")}\n      </h2>\n\n      <form onSubmit={handleSubmit(onSubmit)} className=\"mt-4 space-y-4\">\n        <div>\n          <label className=\"block font-medium\">{t(\"Name\")}</label>\n          <Input {...register(\"name\", { required: \"Name is required\" })} />\n          {errors.name && (\n            <p className=\"text-red-500 text-sm\">{errors.name.message}</p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">{t(\"Email\")}</label>\n          <Input type=\"email\" {...register(\"email\")} />\n          {errors.email && (\n            <p className=\"text-red-500 text-sm\">{errors.email.message}</p>\n          )}\n        </div>\n\n        <div>\n          <label className=\"block font-medium\">{t(\"Company\")}</label>\n          <Input {...register(\"company\")} />\n        </div>\n\n        <div className=\"flex gap-2 pt-2\">\n          <Button type=\"submit\">{isNew ? t(\"Create\") : t(\"Save\")}</Button>\n          {!isNew && (\n            <Button variant=\"destructive\" onClick={handleDelete}>\n              {t(\"Delete\")}\n            </Button>\n          )}\n        </div>\n      </form>\n    </div>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: GET Calendar Events TypeScript Fetch Example\nDESCRIPTION: TypeScript function using the Fetch API to retrieve calendar events filtered by agentId. Handles errors and returns the parsed JSON response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getCalendarEvents() {\n  const response = await fetch(\n    \"https://app.openagentsbuilder.com/api/calendar?agentId=agent-123\",\n    {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n      }\n    }\n  );\n\n  if (!response.ok) {\n    throw new Error(`Error fetching calendar events: ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  console.log(\"Calendar events:\", data);\n  return data;\n}\n```\n\n----------------------------------------\n\nTITLE: Internal Pricing Logic in TypeScript\nDESCRIPTION: This TypeScript code snippet shows the internal pricing logic used to calculate the overall USD cost based on token usage.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\ncurrentPricing[\"gpt-4o\"].input / 1000 * promptTokens + currentPricing[\"gpt-4o\"].output / 1000 * completionTokens\n```\n\n----------------------------------------\n\nTITLE: Paginated Response Format for Agent Results\nDESCRIPTION: JSON structure returned when retrieving paginated results for a specific agent, including the data rows and pagination metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_11\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"rows\": [\n    {\n      \"agentId\": \"agent-123\",\n      \"sessionId\": \"session-001\",\n      \"userName\": \"Alice\",\n      \"userEmail\": \"[email protected]\",\n      \"content\": \"Result content\",\n      \"format\": \"markdown\",\n      \"createdAt\": \"2025-03-21T10:00:00.000Z\",\n      \"updatedAt\": \"2025-03-21T11:00:00.000Z\",\n      \"finalizedAt\": null\n    },\n    ...\n  ],\n  \"total\": 37,\n  \"limit\": 10,\n  \"offset\": 0,\n  \"orderBy\": \"userName\",\n  \"query\": \"alice\"\n}\n```\n\n----------------------------------------\n\nTITLE: Executing Flow API Call (cURL)\nDESCRIPTION: An example cURL command demonstrating how to make an API call to execute a Flow-type agent. It includes necessary headers such as Authorization and database-id-hash.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/20-executing-flow.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  -H \"Authorization: Bearer ${OPEN_AGENT_BUILDER_API_KEY}\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"flow\":\"import\",\"execMode\":\"sync\",\"outputMode\":\"stream\"}' \\\n  https://app.openagentsbuilder.com/api/agent/m8r22uvT2_KsMODoEw9ag/exec\n```\n\n----------------------------------------\n\nTITLE: Generating Embeddings using cURL (bash)\nDESCRIPTION: Example of how to generate embeddings for text content using the embeddings endpoint. This request requires Authorization headers, database ID hash, and includes the content to embed in the JSON payload.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_26\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  https://app.example.com/api/memory/embeddings \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"content\": \"Hello world\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Create Vector Store API Request\nDESCRIPTION: cURL example for creating a new vector store using the /api/memory/create endpoint. This request requires authorization headers and a storeName in the request body.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  https://app.example.com/api/memory/create \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"storeName\": \"my-new-store\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Authentication Headers Example for Memory API\nDESCRIPTION: Example of the required authentication headers for the Memory API, including the Authorization bearer token and database-id-hash.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nAuthorization: Bearer abc1234exampleKey\ndatabase-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\n```\n\n----------------------------------------\n\nTITLE: Listing Audit Logs using TypeScript fetch\nDESCRIPTION: This TypeScript function uses the fetch API to retrieve a list of audit logs. It constructs the URL with query parameters for partition and limit, sends a GET request, and handles the response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nasync function listAuditLogs(partition: string, limit = 50) {\n  const url = new URL(\"https://app.openagentsbuilder.com/api/audit\");\n  url.searchParams.set(\"partition\", partition);\n  url.searchParams.set(\"limit\", limit.toString());\n\n  const response = await fetch(url.toString(), {\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n    }\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error listing audit logs: ${data.message}`);\n  }\n  console.log(\"Audit logs:\", data);\n  return data;\n}\n\n// Usage:\nlistAuditLogs(\"2025-02\").catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Extending the Client for Result Export Functionality\nDESCRIPTION: TypeScript code example showing how to extend the OpenAgentsBuilderClient with a custom method for exporting results as a ZIP file, handling the binary response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport { BaseClient } from \"open-agents-builder-client\";\n\nclass ExtendedResultApi extends BaseClient {\n  public async exportResults(agentId: string): Promise<Blob> {\n    const resp = await fetch(`${this.baseUrl}/api/agent/${agentId}/result/export`, {\n      method: \"GET\",\n      headers: {\n        \"Authorization\": `Bearer ${this.apiKey}`,\n        \"database-id-hash\": this.databaseIdHash\n      }\n    });\n    if (!resp.ok) {\n      throw new Error(`Error exporting results: ${resp.statusText}`);\n    }\n    return resp.blob();\n  }\n}\n\n// Usage in your code:\nconst extendedResultApi = new ExtendedResultApi({\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\",\n  apiKey: \"YOUR_API_KEY\"\n});\n\nasync function exportResultsForAgent(agentId: string) {\n  const zipBlob = await extendedResultApi.exportResults(agentId);\n  // Now handle the Blob (e.g., save to local filesystem in an Electron app, or upload elsewhere, etc.)\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Results in TypeScript\nDESCRIPTION: Example demonstrating how to list results and delete a specific result by session ID using the result module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\n// List Results\nconst results = await client.result.listResults();\n\n// Delete a specific result\nawait client.result.deleteResult(\"SESSION_ID\");\n```\n\n----------------------------------------\n\nTITLE: Passing Inputs Including Files (JSON)\nDESCRIPTION: An example JSON structure showing how to pass inputs to a Flow-type agent, including file contents encoded in Base64 format.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/20-executing-flow.md#2025-04-23_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"flow\": \"import\",\n  \"execMode\": \"sync\",\n  \"input\": {\n    \"userName\": \"pkarw\",\n    \"orderFile\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD...\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: GET Request for Listing Results\nDESCRIPTION: cURL example for making a GET request to the /api/result endpoint to retrieve all results, filtered by session ID. The request includes necessary authorization headers.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/result?sessionId=session-123\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Defining AuditDTO Schema in TypeScript\nDESCRIPTION: This snippet defines the schema for AuditDTO using Zod library. It includes fields such as id, ip, ua, keyLocatorHash, databaseIdHash, recordLocator, diff, eventName, and createdAt.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const auditDTOSchema = z.object({\n  id: z.number().positive().int().optional(),\n  ip: z.string().optional(),\n  ua: z.string().optional(),\n  keyLocatorHash: z.string().optional(),\n  databaseIdHash: z.string().optional(),\n  recordLocator: z.string().optional(),\n  diff: z.string().optional(),\n  eventName: z.string().optional(),\n  createdAt: z.string().default(() => getCurrentTS()).optional(),\n});\nexport type AuditDTO = z.infer<typeof auditDTOSchema>;\n```\n\n----------------------------------------\n\nTITLE: Deleting a Single Result using TypeScript Client\nDESCRIPTION: This TypeScript code snippet demonstrates how to delete a specific result by session ID using the Open Agents Builder TypeScript client. The client handles authentication and request formatting.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_18\n\nLANGUAGE: typescript\nCODE:\n```\nawait client.result.deleteResult(\"session-001\");\nconsole.log(\"Result with session-001 deleted\");\n```\n\n----------------------------------------\n\nTITLE: Defining Aggregated Stats DTO in TypeScript\nDESCRIPTION: This type definition outlines the structure for aggregated stats response, including metrics for the current month, last month, and today.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nexport type AggregatedStatsDTO = {\n  thisMonth: {\n    overallTokens: number;\n    promptTokens: number;\n    completionTokens: number;\n    overalUSD: number;\n    requests: number;\n  };\n  lastMonth: {\n    overallTokens: number;\n    promptTokens: number;\n    completionTokens: number;\n    overalUSD: number;\n    requests: number;\n  };\n  today: {\n    overallTokens: number;\n    promptTokens: number;\n    completionTokens: number;\n    overalUSD: number;\n    requests: number;\n  };\n};\n```\n\n----------------------------------------\n\nTITLE: Error Response Format in Calendar API\nDESCRIPTION: Standard JSON format returned for API errors, including a descriptive message and HTTP status code. This structure is used for all error responses including bad requests (400), authorization issues (401/403), and server errors (499/500).\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_15\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Error details\",\n  \"status\": <number>\n}\n```\n\n----------------------------------------\n\nTITLE: Searching Attachments with Pagination using cURL\nDESCRIPTION: Example of searching attachments with pagination using the GET /api/attachment/query endpoint. This request includes limit, offset, ordering, and search query parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/attachment/query?limit=5&offset=0&orderBy=createdAt&query=jpg\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Upserting Keys with TypeScript Fetch API\nDESCRIPTION: A TypeScript function that uses fetch to create or update a key via the PUT /api/keys endpoint. Includes proper request configuration, error handling, and a usage example.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nasync function upsertKey(keyData: any) {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/keys\", {\n    method: \"PUT\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(keyData)\n  });\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error upserting key: ${result.message}`);\n  }\n  console.log(\"Upserted key:\", result);\n  return result;\n}\n\n// Usage:\nupsertKey({\n  displayName: \"My Key #1\",\n  keyLocatorHash: \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\",\n  keyHash: \"abc123def456...\",\n  keyHashParams: \"some-params\",\n  databaseIdHash: \"35f5c5b139a6b569d4649b7...\",\n  encryptedMasterKey: \"some-encrypted-value\"\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Deleting Keys with OpenAgentsBuilderClient\nDESCRIPTION: Example showing how to delete a key using the official TypeScript client library, which abstracts away the HTTP request details and provides a simpler interface.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteKeyClientExample() {\n  const keyLocatorHash = \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\";\n  const deleted = await client.keys.deleteKey(keyLocatorHash);\n  console.log(\"Deleted key via client:\", deleted);\n}\n\ndeleteKeyClientExample();\n```\n\n----------------------------------------\n\nTITLE: Example Chat Endpoint Response Format in JSON\nDESCRIPTION: Example JSON structure for the response from the Chat endpoint. The response is typically streamed as chunked data containing the assistant's reply.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"data\": {\n    // Stream of text tokens or JSON lines\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables\nDESCRIPTION: Sample content for the .env.local file, including settings for LLM provider, API keys, and application URLs.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nLLM_PROVIDER=openai\nLLM_MODEL=gpt-4o\n\n# OpenAI API key\nOPENAI_API_KEY=\n\n# Resend.com API key\nRESEND_API_KEY=\n\n# Absolute app URL starting with http://\nNEXT_PUBLIC_APP_URL=http://localhost:3000\nAPP_URL=http://localhost:3000\nPORT=3000 # 3002 is the production app port\nNEXT_PUBLIC_EMAIL_FROM=no-reply@.... # According to your Resend.com settings\nNEXT_PUBLIC_ENV=dev\n```\n\n----------------------------------------\n\nTITLE: Deleting Keys with TypeScript Fetch API\nDESCRIPTION: A TypeScript function that uses fetch to delete a key via the DELETE /api/keys/[key] endpoint, accepting a keyLocatorHash as input. Includes error handling and response processing.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteKey(keyLocatorHash: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/keys/${keyLocatorHash}`,\n    {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n      }\n    }\n  );\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error deleting key: ${result.message}`);\n  }\n  console.log(\"Delete result:\", result);\n  return result;\n}\n\n// Usage:\ndeleteKey(\"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\")\n  .catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Creating Audit Log Entry using cURL\nDESCRIPTION: This cURL command demonstrates how to create a new audit log entry by sending a PUT request to the /api/audit endpoint. It includes the necessary headers and a JSON payload with event details.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/audit\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"eventName\": \"updateUserProfile\",\n    \"recordLocator\": \"{\\\"userId\\\": \\\"user-123\\\"}\",\n    \"diff\": \"{\\\"old\\\": {\\\"name\\\": \\\"Alice\\\"}, \\\"new\\\": {\\\"name\\\": \\\"Alice Updated\\\"}}\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Testing E-Commerce Agent Conversation\nDESCRIPTION: Example conversation with the e-commerce agent, showing how it handles product inquiries, adds items to cart, and processes orders without hallucinating prices or SKUs.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/tutorials/10-ecommerce..md#2025-04-23_snippet_1\n\nLANGUAGE: text\nCODE:\n```\nUser: Do you have any hoodie?\nAgent: [Shows Gradient Performance Hoodie, price $130, sizes XSâ€‘L]\nUser: I'll take size M\nAgent: Adds item to the cart, shows order summary\nUser: Please make the order, my name is John Doe, New York City, 46 Street 52, 23W42\nAgent: Generates order confirmation + Order ID, and promises a payment link\n```\n\n----------------------------------------\n\nTITLE: Testing API with Environment Variable via CURL\nDESCRIPTION: Example curl command that tests the API connection by retrieving agents using the API key stored in an environment variable.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET -H \"Authorization: Bearer $OPEN_AGENTS_BUILDER_API_KEY\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\" \\\n  https://app.openagentsbuilder.com/api/agent\n```\n\n----------------------------------------\n\nTITLE: Deleting an Agent using Open Agents Builder Client in TypeScript\nDESCRIPTION: This snippet demonstrates how to initialize the OpenAgentsBuilderClient and use it to delete an agent. It includes the client setup with authentication and a function to remove an agent by its ID.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  databaseIdHash: \"35f5c5b139a6b569d4649b7...\",\n  apiKey: \"abc1234exampleKey\"\n});\n\nasync function removeAgent(agentId: string) {\n  await client.agent.deleteAgent(agentId);\n  console.log(`Agent ${agentId} was deleted.`);\n}\n\n// Usage\nremoveAgent(\"agent-123\");\n```\n\n----------------------------------------\n\nTITLE: Upserting an Attachment with TypeScript Client\nDESCRIPTION: Example of using the TypeScript client library to create or update an attachment. This snippet demonstrates how to initialize the client and call the upsertAttachment method with metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function upsertAttachmentClientExample() {\n  const result = await client.attachment.upsertAttachment({\n    storageKey: \"file-key-123\",\n    displayName: \"example.txt\",\n    mimeType: \"text/plain\",\n    content: \"Some text content\"\n  });\n\n  console.log(\"Upserted attachment via client:\", result);\n}\n\nupsertAttachmentClientExample();\n```\n\n----------------------------------------\n\nTITLE: DELETE Product Endpoint with cURL Example\nDESCRIPTION: cURL command for deleting a product by its ID. Shows the required headers for authentication and authorization.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_9\n\nLANGUAGE: Bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/product/p-abc123\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Successful Response Format for Result Listing\nDESCRIPTION: JSON structure returned when successfully retrieving result data, showing an array of ResultDTO objects with their properties.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n[\n  {\n    \"agentId\": \"agent-123\",\n    \"sessionId\": \"session-123\",\n    \"userName\": \"Alice\",\n    \"userEmail\": \"[email protected]\",\n    \"content\": \"Some result content\",\n    \"format\": \"markdown\",\n    \"createdAt\": \"2025-03-21T10:00:00.000Z\",\n    \"updatedAt\": \"2025-03-21T11:00:00.000Z\",\n    \"finalizedAt\": null\n  },\n  ...\n]\n```\n\n----------------------------------------\n\nTITLE: Exporting Results as ZIP using curl in Bash\nDESCRIPTION: This curl command exports all results for a specific agent as a ZIP file. It requires an API key and database ID hash for authentication and saves the response directly to a local file.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_19\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/agent/agent-ABC/result/export\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -o agentABC-results.zip\n```\n\n----------------------------------------\n\nTITLE: Attachment Creation API Response Example\nDESCRIPTION: Example JSON response when successfully creating or updating an attachment. The response includes the attachment data with its assigned ID and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data saved successfully!\",\n  \"data\": {\n    \"id\": 101,\n    \"storageKey\": \"my-pdf-file\",\n    \"displayName\": \"Doc.pdf\",\n    \"mimeType\": \"application/pdf\",\n    ...\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting Keys with cURL\nDESCRIPTION: A cURL example for the DELETE /api/keys/[key] endpoint, showing how to delete a key by its keyLocatorHash. Requires owner role authorization.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/keys/1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: 35f5c5b139a6b5...\"\n```\n\n----------------------------------------\n\nTITLE: Query Vector Stores Success Response\nDESCRIPTION: JSON response structure for successful vector store queries, including file metadata, pagination details, and total count of stores.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"files\": [\n    {\n      \"file\": \"my-new-store\",\n      \"displayName\": \"my-new-store\",\n      \"itemCount\": 5,\n      \"createdAt\": \"2025-03-20T12:45:01.000Z\",\n      \"updatedAt\": \"2025-03-20T12:46:22.000Z\",\n      \"lastAccessed\": \"2025-03-21T08:00:00.000Z\"\n    },\n    {\n      \"file\": \"my-other-store\",\n      \"displayName\": \"my-other-store\",\n      \"itemCount\": 17,\n      \"createdAt\": \"...\",\n      \"updatedAt\": \"...\",\n      \"lastAccessed\": \"...\"\n    }\n  ],\n  \"limit\": 10,\n  \"offset\": 0,\n  \"hasMore\": false,\n  \"total\": 2\n}\n```\n\n----------------------------------------\n\nTITLE: Exporting Products using cURL\nDESCRIPTION: cURL command to export all products as a ZIP file, including authentication headers and output file specification.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/product/export\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -o products-export.zip\n```\n\n----------------------------------------\n\nTITLE: LLM-Generated Product Description Response in JSON\nDESCRIPTION: Example of a successful HTTP 200 response for an LLM-generated product description, showing the validated ProductDTO structure.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_19\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"sku\": \"DES-123\",\n  \"name\": \"LLM Enhanced Product\",\n  \"description\": \"A wonderful product described by the LLM...\",\n  ...\n}\n```\n\n----------------------------------------\n\nTITLE: PUT Request Examples\nDESCRIPTION: Examples of creating or updating agents using cURL, axios, and the open-agents-builder-client library.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  https://app.openagentsbuilder.com/api/agent \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"New Agent\",\n    \"prompt\": \"Hello from my new agent\"\n  }'\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport axios from \"axios\";\n\nasync function createOrUpdateAgent(agentData: any) {\n  const response = await axios.put(\n    \"https://app.openagentsbuilder.com/api/agent\",\n    agentData,\n    {\n      headers: {\n        \"Authorization\": \"Bearer abc1234exampleKey\",\n        \"database-id-hash\": \"35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\",\n        \"Content-Type\": \"application/json\"\n      }\n    }\n  );\n  console.log(\"Operation successful. Returned data:\", response.data);\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  databaseIdHash: \"35f5c5b139a6b569d4649b7...\",\n  apiKey: \"abc1234exampleKey\"\n});\n\nasync function upsertAgent() {\n  const updated = await client.agent.upsertAgent({\n    id: \"agent-XYZ\",\n    displayName: \"Agent 123 updated\",\n    prompt: \"Updated prompt text\"\n  });\n  console.log(\"Upsert response:\", updated);\n}\n```\n\n----------------------------------------\n\nTITLE: Delete Vector Store API Request\nDESCRIPTION: cURL example for permanently deleting an entire vector store by filename, removing the JSON file and its index.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  https://app.example.com/api/memory/my-new-store \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: GET Aggregated Stats Endpoint cURL Example\nDESCRIPTION: This cURL command demonstrates how to make a GET request to the /api/stats/aggregated endpoint to retrieve aggregated usage stats.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/stats/aggregated\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: GET Request for Exporting Results\nDESCRIPTION: cURL example for exporting all results for a specific agent into a ZIP archive, saving the file locally as result-export.zip.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/agent/agent-123/result/export\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -o result-export.zip\n```\n\n----------------------------------------\n\nTITLE: Example JSON Response for Key Listing\nDESCRIPTION: Sample JSON response returned when listing keys, showing the structure of key objects with their properties including displayName, keyLocatorHash, keyHash, and other metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n[\n  {\n    \"displayName\": \"My Key #1\",\n    \"keyLocatorHash\": \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\",\n    \"keyHash\": \"abc1234def5678...\",\n    \"databaseIdHash\": \"35f5c5b139a6b569d4649b7...\",\n    \"encryptedMasterKey\": \"base64-or-other-encrypted-string\",\n    \"acl\": null,\n    \"extra\": null,\n    \"expiryDate\": null,\n    \"updatedAt\": \"2025-03-21T11:00:00.000Z\"\n  },\n  ...\n]\n```\n\n----------------------------------------\n\nTITLE: GET Aggregated Stats Endpoint Success Response Example\nDESCRIPTION: This JSON represents a successful response from the GET /api/stats/aggregated endpoint, showing the aggregated stats for different time periods.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Stats aggregated!\",\n  \"data\": {\n    \"thisMonth\": {\n      \"overallTokens\": 9999,\n      \"promptTokens\": 4000,\n      \"completionTokens\": 5999,\n      \"overalUSD\": 4.50,\n      \"requests\": 27\n    },\n    \"lastMonth\": {\n      \"overallTokens\": 3000,\n      \"promptTokens\": 1000,\n      \"completionTokens\": 2000,\n      \"overalUSD\": 2.30,\n      \"requests\": 10\n    },\n    \"today\": {\n      \"overallTokens\": 999,\n      \"promptTokens\": 400,\n      \"completionTokens\": 599,\n      \"overalUSD\": 0.45,\n      \"requests\": 2\n    }\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Creating and Listing Audit Logs in TypeScript\nDESCRIPTION: Example showing how to create a new audit log entry and retrieve existing audit logs using the audit module of the OpenAgentsBuilderClient.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\n// Create an Audit Log\nawait client.audit.createAuditLog({\n  eventName: \"updateProduct\",\n  recordLocator: JSON.stringify({ productId: \"1234\" }),\n  diff: JSON.stringify({\n    old: { name: \"Old Product\" },\n    new: { name: \"New Product\" }\n  })\n});\n\n// List Audit Logs\nconst audits = await client.audit.listAudit();\n```\n\n----------------------------------------\n\nTITLE: Using TypeScript Client to Delete a Result\nDESCRIPTION: TypeScript code example showing how to use the OpenAgentsBuilderClient to delete a result by its session ID.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteResult(sessionId: string) {\n  await client.result.deleteResult(sessionId);\n  console.log(`Result for session ${sessionId} was deleted.`);\n}\n```\n\n----------------------------------------\n\nTITLE: Exporting All Attachments as ZIP using cURL\nDESCRIPTION: Example of exporting all attachments as a ZIP archive using the GET /api/attachment/export endpoint. The ZIP contains the files, their metadata, and additional formats for text content.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/attachment/export\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -o attachments.zip\n```\n\n----------------------------------------\n\nTITLE: Describing Product with Image using TypeScript Fetch\nDESCRIPTION: TypeScript function to describe a product using an LLM, based on an image storage key and product data, using the Fetch API.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_17\n\nLANGUAGE: typescript\nCODE:\n```\nasync function describeProductWithImage(storageKey: string, product: any) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/product/descriptor/${storageKey}`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(product)\n    }\n  );\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error describing product: ${result.message}`);\n  }\n\n  console.log(\"Described product:\", result);\n  return result;\n}\n\n// Usage Example\ndescribeProductWithImage(\"unique-image-storage-key\", {\n  sku: \"DES-123\",\n  name: \"LLM Enhanced Product\",\n  price: { value: 19.99, currency: \"USD\" }\n}).catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Example Response for GET Products Endpoint\nDESCRIPTION: Sample JSON response from the GET /api/product endpoint showing the structure of returned data, including product details and pagination metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_4\n\nLANGUAGE: JSON\nCODE:\n```\n{\n  \"rows\": [\n    {\n      \"id\": \"p-abc123\",\n      \"sku\": \"SHOE-001\",\n      \"name\": \"Nice Shoes\",\n      \"price\": { \"value\": 49.99, \"currency\": \"USD\" },\n      \"priceInclTax\": { \"value\": 61.48, \"currency\": \"USD\" },\n      \"taxRate\": 0.23,\n      \"taxValue\": 11.49,\n      \"width\": 0,\n      \"height\": 0,\n      \"length\": 0,\n      \"weight\": 0,\n      \"widthUnit\": \"cm\",\n      \"heightUnit\": \"cm\",\n      \"lengthUnit\": \"cm\",\n      \"weightUnit\": \"kg\",\n      \"brand\": \"Some Brand\",\n      \"status\": \"active\",\n      \"imageUrl\": null,\n      \"attributes\": [],\n      \"variants\": [],\n      \"images\": [],\n      \"tags\": [],\n      \"agentId\": null,\n      \"createdAt\": \"2025-03-21T10:00:00.000Z\",\n      \"updatedAt\": \"2025-03-21T10:05:00.000Z\"\n    },\n    ...\n  ],\n  \"total\": 12,\n  \"limit\": 5,\n  \"offset\": 0,\n  \"orderBy\": \"name\",\n  \"query\": \"shoes\"\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting an Order with OpenAgentsBuilderClient\nDESCRIPTION: Example of deleting an order using the OpenAgentsBuilderClient TypeScript library. This approach simplifies API interaction by handling authentication and request formatting automatically.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function deleteOrderClientExample(orderId: string) {\n  const result = await client.order.deleteOrder(orderId);\n  console.log(\"Order deleted:\", result);\n}\n\n// Usage\ndeleteOrderClientExample(\"ORD-2025-03-21-ABC\");\n```\n\n----------------------------------------\n\nTITLE: Vector Search in Store API Request\nDESCRIPTION: cURL example for performing a vector similarity search within a store using the embeddingSearch parameter to find semantically similar records.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.example.com/api/memory/my-new-store/records?embeddingSearch=climate+change&topK=3\" \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: Describing Product with Image using cURL\nDESCRIPTION: cURL command to generate or enhance a product description using an LLM, based on an image and product data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_16\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  \"https://app.openagentsbuilder.com/api/product/descriptor/unique-image-storage-key\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"sku\": \"DES-123\",\n    \"name\": \"Description from LLM\",\n    \"price\": { \"value\": 19.99, \"currency\": \"USD\" }\n  }'\n```\n\n----------------------------------------\n\nTITLE: Sample JSON Response from Agent API\nDESCRIPTION: Example JSON response returned when successfully querying the agent API endpoint, showing the list of available agents with their IDs and display names.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n[\n    {\n        \"id\": \"zb18x8kjoilNo-vL99r9s\",\n        \"displayName\": \"New from template: InstaFit - fitness shop for Instagram\",\n        ...\n    },\n    {\n        \"id\": \"m8r22uvT2_KsMODoEw9ag\",\n        \"displayName\": \"New from template: Import and invoice orders\",\n        ...\n    },\n    ...\n]\n```\n\n----------------------------------------\n\nTITLE: Deleting an Attachment with TypeScript Client\nDESCRIPTION: Example of using the TypeScript client library to delete an attachment. This snippet demonstrates how to call the deleteAttachment method with the storageKey parameter.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_16\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteAttachmentClientExample(storageKey: string) {\n  const deleted = await client.attachment.deleteAttachment(storageKey);\n  console.log(\"Deleted attachment:\", deleted);\n}\n\ndeleteAttachmentClientExample(\"my-file-key\");\n```\n\n----------------------------------------\n\nTITLE: Installing Python Dependencies with pipx\nDESCRIPTION: Commands to install required Python packages (markitdown and poppler) using pipx for text extraction from PDF and Office files.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipx install markitdown\npipx install poppler\n```\n\n----------------------------------------\n\nTITLE: DELETE Calendar Event TypeScript Fetch Example\nDESCRIPTION: TypeScript function that uses the Fetch API to delete a calendar event by ID. Handles errors and returns the response data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteCalendarEvent(eventId: string) {\n  const response = await fetch(\n    `https://app.openagentsbuilder.com/api/calendar/${eventId}`,\n    {\n      method: \"DELETE\",\n      headers: {\n        \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n        \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n      }\n    }\n  );\n\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error deleting event: ${result.message}`);\n  }\n\n  console.log(\"Delete result:\", result);\n  return result;\n}\n\n// Usage example:\ndeleteCalendarEvent(\"evt-001\").catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: Create or Get Session using Fetch API\nDESCRIPTION: TypeScript example showing how to create or retrieve a session using the Fetch API when direct client method is not available.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nasync function createOrGetSession(sessionId: string) {\n  const response = await fetch(`https://app.openagentsbuilder.com/api/exec/session/${sessionId}`, {\n    method: \"POST\",\n    headers: {\n      \"Authorization\": `Bearer ${process.env.OPEN_AGENTS_BUILDER_API_KEY}`,\n      \"database-id-hash\": \"YOUR_DATABASE_ID_HASH\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      agentId: \"agent-123\",\n      userName: \"Alice\",\n      userEmail: \"[email protected]\",\n      acceptTerms: \"true\"\n    })\n  });\n\n  if (!response.ok) {\n    throw new Error(`Error creating or retrieving session: ${response.status} ${response.statusText}`);\n  }\n\n  const data = await response.json();\n  console.log(\"Session response:\", data);\n}\n\ncreateOrGetSession(\"session-XYZ\");\n```\n\n----------------------------------------\n\nTITLE: Vector Store Creation Success Response\nDESCRIPTION: JSON response when a vector store is successfully created, returning a success message with HTTP 200 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Store created successfully\"\n}\n```\n\n----------------------------------------\n\nTITLE: GET Request for Paginated Agent Results\nDESCRIPTION: cURL example for retrieving paginated results for a specific agent, with query parameters for limiting, ordering, and searching results.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/agent/agent-123/result?limit=10&offset=0&orderBy=userName&query=alice\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: List Records in Vector Store API Request\nDESCRIPTION: cURL example for listing records in a specific vector store with pagination, using the /api/memory/[filename]/records endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.example.com/api/memory/my-new-store/records?limit=10&offset=0\" \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: DELETE Calendar Event cURL Example\nDESCRIPTION: cURL command to delete a calendar event by ID. Requires the API key and database ID hash in the headers.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/calendar/evt-001\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Successful Embedding Generation Response (JSON)\nDESCRIPTION: Example of a successful response when generating embeddings. Returns HTTP 200 status code and an array of floating-point numbers representing the embedding vector.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_27\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"embedding\": [0.12345, -0.0321, ...]\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting an Attachment using cURL\nDESCRIPTION: Example of deleting an attachment using the DELETE /api/attachment/[id] endpoint. This request removes both the database record and the stored file.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/attachment/my-file-key\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Accessing Public Attachment URL without Authentication using cURL\nDESCRIPTION: Example of downloading an attachment from the public URL using the GET /storage/attachment/[databaseIdHash]/[id] endpoint. This request doesn't require authentication headers and is suitable for public file access.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/storage/attachment/35f5c5b139a6b569d4649b7.../my-file-key\" \\\n  -o downloaded-file\n```\n\n----------------------------------------\n\nTITLE: Deleting an Order with cURL\nDESCRIPTION: This cURL command demonstrates how to delete an order using the DELETE /api/order/[id] endpoint. It requires the order ID as part of the URL path.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://your-domain.com/api/order/ORD-2025-03-21-ABC\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"database-id-hash: YOUR_DATABASE_ID_HASH\"\n```\n\n----------------------------------------\n\nTITLE: PUT Calendar Event Using TypeScript API Client\nDESCRIPTION: Example of creating or updating a calendar event using the OpenAgentsBuilderClient library. Uses the calendar.upsertEvent method with the event data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function upsertCalendarEventClientExample() {\n  const result = await client.calendar.upsertEvent({\n    id: \"evt-001\",\n    title: \"Meeting with Bob\",\n    agentId: \"agent-123\",\n    start: \"2025-04-01T10:00:00.000Z\",\n    end: \"2025-04-01T11:00:00.000Z\"\n  });\n  console.log(\"Upserted event via client:\", result);\n}\n\nupsertCalendarEventClientExample();\n```\n\n----------------------------------------\n\nTITLE: Example JSON Response for Key Deletion\nDESCRIPTION: Sample JSON responses returned after attempting to delete a key, showing both successful deletion and the error case when the key is not found.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_11\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting Records from Memory Store using cURL (bash)\nDESCRIPTION: Example of how to delete a single record from a specific memory store. This request requires an Authorization bearer token and database-id-hash in the headers, and specifies the store name and record ID in the URL path.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_21\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  https://app.example.com/api/memory/my-new-store/records/intro-text-01 \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: Get Vector Store Success Response\nDESCRIPTION: JSON response containing an array of all records in a specific vector store, including their ids, content, embeddings, and metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n[\n  {\n    \"id\": \"record-123\",\n    \"content\": \"Some content here...\",\n    \"embedding\": [0.12, -0.08, ...], \n    \"metadata\": { \"source\": \"docs\" }\n  },\n  {\n    \"id\": \"record-456\",\n    \"content\": \"Another piece of text\",\n    \"embedding\": [...],\n    \"metadata\": {}\n  }\n]\n```\n\n----------------------------------------\n\nTITLE: Successful Deletion Response Example\nDESCRIPTION: Example JSON response when successfully deleting an attachment. The response includes a success message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Success Response for Order Deletion\nDESCRIPTION: JSON response structure returned when an order is successfully deleted, with HTTP status code 200. Includes a confirmation message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_10\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Order deleted\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Querying Orders with cURL\nDESCRIPTION: This cURL command demonstrates how to query orders using the GET /api/order endpoint. It includes parameters for pagination, sorting, and filtering.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://your-domain.com/api/order?limit=5&offset=0&orderBy=status&query=shipped\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Vector Search Success Response\nDESCRIPTION: JSON response for a successful vector similarity search, returning records with similarity scores and embedding previews, sorted by relevance.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_16\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"rows\": [\n    {\n      \"id\": \"record-789\",\n      \"content\": \"Text related to climate change\",\n      \"embeddingPreview\": [...],\n      \"similarity\": 0.89234,\n      \"metadata\": { \"category\": \"environment\" }\n    },\n    ...\n  ],\n  \"total\": 3,\n  \"vectorSearchQuery\": \"climate change\"\n}\n```\n\n----------------------------------------\n\nTITLE: Delete Vector Store Success Response\nDESCRIPTION: JSON response for successful vector store deletion, confirming the store was deleted with a 200 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_11\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Store deleted successfully\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: GET Products Using TypeScript API Client\nDESCRIPTION: Example of fetching products using the OpenAgentsBuilderClient library instead of direct API calls. Simplifies authentication and request handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_3\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function listProductsClientExample() {\n  // The client.product.listProducts() method accepts optional query parameters.\n  const products = await client.product.listProducts({\n    limit: 5,\n    offset: 0,\n    orderBy: \"name\",\n    query: \"shoes\"\n  });\n  console.log(\"Products from client:\", products);\n}\n\nlistProductsClientExample();\n```\n\n----------------------------------------\n\nTITLE: Success Response for Record Deletion (JSON)\nDESCRIPTION: Example of a successful response when deleting a record from a memory store. Returns HTTP 200 status code and a confirmation message.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_22\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Record deleted successfully\"\n}\n```\n\n----------------------------------------\n\nTITLE: GET Request Examples\nDESCRIPTION: Examples of retrieving agents using cURL, fetch API, and the open-agents-builder-client library.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/agent?limit=10&offset=0\" \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getAgents() {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/agent?limit=10&offset=0\", {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer abc1234exampleKey\",\n      \"database-id-hash\": \"35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\"\n    }\n  });\n  const data = await response.json();\n  console.log(\"Agents:\", data);\n}\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  databaseIdHash: \"35f5c5b139a6b569d4649b7...\",\n  apiKey: \"abc1234exampleKey\"\n});\n\nasync function listAgents() {\n  const agents = await client.agent.listAgents({ limit: 10, offset: 0 });\n  console.log(\"Agents:\", agents);\n}\n```\n\n----------------------------------------\n\nTITLE: Query Vector Stores API Request\nDESCRIPTION: cURL example for listing available vector stores with pagination and text filtering using the /api/memory/query endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.example.com/api/memory/query?limit=10&offset=0&query=my\" \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: Delete Vector Store Error Response\nDESCRIPTION: JSON error response when attempting to delete a non-existent vector store, returning a 404 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_12\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Store 'my-new-store' not found\",\n  \"status\": 404\n}\n```\n\n----------------------------------------\n\nTITLE: Successful Data Deletion Response in JSON\nDESCRIPTION: Example of a successful HTTP 200 response for data deletion, showing the message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_12\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Delete Session API Request Example\nDESCRIPTION: cURL example showing how to make a DELETE request to remove a specific session by ID.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/session/session-001\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: PUT Calendar Event Success Response JSON Example\nDESCRIPTION: Example JSON response from successfully creating or updating a calendar event. Shows the standardized response format with message, data, and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data saved successfully!\",\n  \"data\": {\n    \"id\": \"evt-001\",\n    \"title\": \"Meeting with Bob\",\n    \"agentId\": \"agent-123\",\n    \"description\": \"Discuss project updates\",\n    \"start\": \"2025-04-01T10:00:00.000Z\",\n    \"end\": \"2025-04-01T11:00:00.000Z\",\n    \"participants\": null,\n    \"createdAt\": \"2025-03-21T12:00:00.000Z\",\n    \"updatedAt\": \"2025-03-21T12:00:00.000Z\",\n    ...\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Data Not Found Error Response in JSON\nDESCRIPTION: Example of an HTTP 400 response when data is not found during deletion, showing the error message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_13\n\nLANGUAGE: json\nCODE:\n```\n{ \"message\": \"Data not found!\", \"status\": 400 }\n```\n\n----------------------------------------\n\nTITLE: Upserting an Order with cURL\nDESCRIPTION: This cURL command demonstrates how to upsert (create or update) an order using the PUT /api/order endpoint. It includes a JSON payload with order details.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://your-domain.com/api/order\" \\\n  -H \"Authorization: Bearer YOUR_API_KEY\" \\\n  -H \"database-id-hash: YOUR_DATABASE_ID_HASH\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"ORD-2025-03-21-ABC\",\n    \"agentId\": \"agent-XYZ\",\n    \"status\": \"new\",\n    \"email\": \"[email protected]\",\n    \"items\": [\n      {\n        \"id\": \"line-1\",\n        \"productSku\": \"PROD-ABC\",\n        \"variantSku\": \"VAR-ABC\",\n        \"quantity\": 2,\n        \"price\": { \"value\": 50, \"currency\": \"USD\" }\n      }\n    ],\n    \"shippingMethod\": \"UPS\",\n    \"shippingPrice\": { \"value\": 10, \"currency\": \"USD\" }\n  }'\n```\n\n----------------------------------------\n\nTITLE: Successful Agent Deletion Response in JSON\nDESCRIPTION: This JSON snippet shows the expected response structure for a successful agent deletion operation. It includes a success message and an HTTP status code of 200.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: DELETE Request for Removing a Result\nDESCRIPTION: cURL example for making a DELETE request to remove a specific result by its session ID. The session ID is provided in the URL path.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/result/mySession123\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Listing Keys API Request with cURL\nDESCRIPTION: A cURL example demonstrating how to list keys for a specific database using the GET /api/keys endpoint with proper authentication headers.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/keys?databaseIdHash=35f5c5b139a6b5...\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: 35f5c5b139a6b5...\"\n```\n\n----------------------------------------\n\nTITLE: Error Response for Missing Content (JSON)\nDESCRIPTION: Example of an error response when attempting to generate embeddings without providing content. Returns HTTP 400 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_28\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Content is required\"\n}\n```\n\n----------------------------------------\n\nTITLE: Attachment Not Found Response Example\nDESCRIPTION: Example JSON response when attempting to delete a non-existent attachment. The response includes an error message and 404 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_15\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Record not found\",\n  \"status\": 404\n}\n```\n\n----------------------------------------\n\nTITLE: Success Response for Result Deletion\nDESCRIPTION: JSON response returned when a result is successfully deleted, confirming the operation with a status code and message.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: DELETE Calendar Event Success Response JSON Example\nDESCRIPTION: Sample successful JSON response from deleting a calendar event. Shows the standard response format with message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_13\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data deleted successfully!\",\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Error Response for Missing Record (JSON)\nDESCRIPTION: Example of an error response when attempting to delete a non-existent record. Returns HTTP 404 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_24\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Record not found\"\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Attachment with Multipart Form Data using cURL\nDESCRIPTION: Example of creating or updating an attachment by uploading a file using multipart/form-data via the PUT /api/attachment endpoint. This approach allows uploading binary files along with their metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/attachment\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -F \"file=@/path/to/file.pdf\" \\\n  -F \"attachmentDTO={\\\"storageKey\\\":\\\"my-pdf-file\\\",\\\"displayName\\\":\\\"Doc.pdf\\\",\\\"mimeType\\\":\\\"application/pdf\\\"}\"\n```\n\n----------------------------------------\n\nTITLE: Get Vector Store Error Response\nDESCRIPTION: JSON error response when a requested vector store is not found, returning a 404 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Store not found\"\n}\n```\n\n----------------------------------------\n\nTITLE: Fetching Product Image using cURL\nDESCRIPTION: cURL command to retrieve a binary attachment (e.g., product image) from the commerce partition.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_20\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/storage/product/35f5c5b139a6b569d4.../my-image-storageKey\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\"\n  # => binary image data\n```\n\n----------------------------------------\n\nTITLE: Creating Attachment with JSON Body using cURL\nDESCRIPTION: Example of creating or updating an attachment using a JSON body via the PUT /api/attachment endpoint. This approach is suitable when you need to provide metadata without uploading a file.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/attachment\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"storageKey\": \"file-key-123\",\n    \"displayName\": \"example.txt\",\n    \"mimeType\": \"text/plain\",\n    \"content\": \"Some text content\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Standard Error Response Format (JSON)\nDESCRIPTION: The standard format for error responses in the API. Includes an error description and optionally a numeric status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_29\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"<description>\",\n  \"status\": <numericCode>   // optional\n}\n```\n\n----------------------------------------\n\nTITLE: Missing ID Error Response in JSON\nDESCRIPTION: This JSON snippet shows the response structure when the agent ID is missing from the delete request URL. It includes an error message and an HTTP status code of 400.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Invalid request, no id provided within request url\",\n  \"status\": 400\n}\n```\n\n----------------------------------------\n\nTITLE: GET Calendar Events cURL Example\nDESCRIPTION: cURL command to retrieve calendar events filtered by agentId. Requires API key and database ID hash for authentication.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/calendar?agentId=agent-123\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Signing Up and Logging In to Open Agents Builder\nDESCRIPTION: Steps to create an account and log in to Open Agents Builder. The process takes less than 30 seconds and brings users to the main workspace.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/tutorials/10-ecommerce..md#2025-04-23_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n1. Visit https://openagentsbuilder.com\n2. Click **Get started free** and create your account  \n   â–¸ The whole process takes < 30 s.\n3. Log in â€” you'll land in the **Open Agents Builder** workspace.\n```\n\n----------------------------------------\n\nTITLE: PUT (Upsert) Product Endpoint with cURL Example\nDESCRIPTION: cURL command for creating or updating a product record. Demonstrates sending a JSON payload with required fields and receives the updated object as a response.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_5\n\nLANGUAGE: Bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/product\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"p-abc123\",\n    \"sku\": \"SHOE-001\",\n    \"name\": \"Nice Shoes\",\n    \"price\": {\n      \"value\": 49.99,\n      \"currency\": \"USD\"\n    },\n    \"taxRate\": 0.23,\n    \"brand\": \"Some Brand\",\n    \"status\": \"active\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Alternative Failure Response for Result Deletion\nDESCRIPTION: JSON response returned when a result deletion fails specifically because no ID was provided in the request URL.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Invalid request, no id provided within request url\",\n  \"status\": 400\n}\n```\n\n----------------------------------------\n\nTITLE: Insert Record Validation Error Response\nDESCRIPTION: JSON error response when record insertion fails validation, typically due to missing required fields, returning a 400 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_20\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Missing required fields\"\n}\n```\n\n----------------------------------------\n\nTITLE: Error Response for Result Operations\nDESCRIPTION: JSON structure returned when an error occurs during a result operation, containing an error message and HTTP status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Internal server error\",\n  \"status\": 499\n}\n```\n\n----------------------------------------\n\nTITLE: Generic Error Response Structure in JSON\nDESCRIPTION: This JSON snippet demonstrates the general structure of error responses from the API. It includes a message, optional error details, and a numeric status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"<description>\",\n  \"error\": { ... },       // Optional, with error details\n  \"status\": <numericCode>\n}\n```\n\n----------------------------------------\n\nTITLE: Error Response for Missing Store (JSON)\nDESCRIPTION: Example of an error response when attempting to delete a record from a non-existent store. Returns HTTP 404 status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_23\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Store not found\"\n}\n```\n\n----------------------------------------\n\nTITLE: Not Found / Nothing Deleted Response in JSON\nDESCRIPTION: This JSON snippet illustrates the response structure when an agent to be deleted is not found or nothing is deleted. It includes an error message and an HTTP status code of 400.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data not found!\",\n  \"status\": 400\n}\n```\n\n----------------------------------------\n\nTITLE: PUT Calendar Event cURL Example\nDESCRIPTION: cURL command to create or update a calendar event. Includes authorization headers and the complete event data in the request body.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/calendar\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"evt-001\",\n    \"title\": \"Meeting with Bob\",\n    \"agentId\": \"agent-123\",\n    \"start\": \"2025-04-01T10:00:00.000Z\",\n    \"end\": \"2025-04-01T11:00:00.000Z\",\n    \"description\": \"Discuss project updates\",\n    \"location\": \"Conference Room\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Error Response Format in JSON\nDESCRIPTION: Example of a typical error response format, showing the error message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_22\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Error details\",\n  \"status\": <number>\n}\n```\n\n----------------------------------------\n\nTITLE: Error Response from Chat Endpoint in JSON\nDESCRIPTION: Example JSON structure for an error response when required headers are missing from the request to the Chat endpoint.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/30-using-chat-endpoint.md#2025-04-23_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"The required HTTP headers: Database-Id-Hash, Agent-Session-Id and Agent-Id missing\"\n}\n```\n\n----------------------------------------\n\nTITLE: Listing All Results using curl in Bash\nDESCRIPTION: This curl command retrieves all results from the Open Agents Builder API. It requires an API key and database ID hash in the request headers for authentication.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/result\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Request Headers Example\nDESCRIPTION: Example of mandatory request headers for authentication and database identification.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nAuthorization: Bearer abc1234exampleKey\ndatabase-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\n```\n\n----------------------------------------\n\nTITLE: Error Response Structure in JSON\nDESCRIPTION: The standard JSON structure returned for API errors. It includes a descriptive message about the error and a numeric status code corresponding to the HTTP status.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_13\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Error details\",\n  \"status\": <number>\n}\n```\n\n----------------------------------------\n\nTITLE: Failure Response for Result Deletion\nDESCRIPTION: JSON response returned when a result deletion fails, either because the data wasn't found or the request was invalid.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data not found!\",\n  \"status\": 400\n}\n```\n\n----------------------------------------\n\nTITLE: Creating or Updating Keys with cURL\nDESCRIPTION: A cURL example for the PUT /api/keys endpoint, demonstrating how to create or update a key with all required fields in the request body. Requires owner role authorization.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/keys\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: 35f5c5b139a6b5...\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"displayName\": \"My Key #1\",\n    \"keyLocatorHash\": \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\",\n    \"keyHash\": \"abc123def456...\",\n    \"keyHashParams\": \"some-params\",\n    \"databaseIdHash\": \"35f5c5b139a6b569d4649b7...\",\n    \"encryptedMasterKey\": \"some-encrypted-value\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Switching to Node.js Version 22\nDESCRIPTION: Commands to install and use Node.js version 22 using nvm (Node Version Manager).\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnvm install 22\nnvm use 22\n```\n\n----------------------------------------\n\nTITLE: Installing open-agents-builder-client with npm\nDESCRIPTION: Command to install the Open Agents Builder client library and its dependency Zod using npm package manager.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install open-agents-builder-client zod\n```\n\n----------------------------------------\n\nTITLE: PUT Stats Endpoint Success Response Example\nDESCRIPTION: This JSON represents a successful response from the PUT /api/stats endpoint, showing the aggregated stats data.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Stats aggregated!\",\n  \"data\": {\n    \"id\": 42,\n    \"eventName\": \"chat\",\n    \"promptTokens\": 200,\n    \"completionTokens\": 300,\n    \"createdAt\": \"2025-03-21T10:00:00.000Z\",\n    \"createdMonth\": 2,\n    \"createdDay\": 21,\n    \"createdYear\": 2025,\n    \"createdHour\": 10,\n    \"counter\": 2\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Cloning Open Agents Builder Repository\nDESCRIPTION: Commands to clone the Open Agents Builder repository from GitHub and navigate to the project directory.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/CatchTheTornado/open-agents-builder\ncd open-agents-builder\n```\n\n----------------------------------------\n\nTITLE: Installing open-agents-builder-client with Yarn\nDESCRIPTION: Command to install the Open Agents Builder client library and its dependency Zod using Yarn package manager.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/1-working-with-api-client.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nyarn add open-agents-builder-client zod\n```\n\n----------------------------------------\n\nTITLE: Not Found Response for Order Deletion\nDESCRIPTION: JSON response structure returned when attempting to delete a non-existent order, with HTTP status code 404. Provides an error message and status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/13-order-api.md#2025-04-23_snippet_11\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Not found\",\n  \"status\": 404\n}\n```\n\n----------------------------------------\n\nTITLE: Insert Record API Request\nDESCRIPTION: cURL example for inserting a new record into a vector store, including id, content, embedding vector, and metadata.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_18\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  https://app.example.com/api/memory/my-new-store/records \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\": \"intro-text-01\",\n    \"content\": \"Introduction to vector stores\",\n    \"embedding\": [0.12345, 0.54321, ...],\n    \"metadata\": {\n      \"category\": \"tutorial\"\n    }\n  }'\n```\n\n----------------------------------------\n\nTITLE: Implementing DELETE API Route for Customer Resource in Next.js\nDESCRIPTION: API route handler for deleting a customer record by ID. It authorizes the request, logs the deletion event, and uses a repository pattern to remove the customer from the database.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/0-new-endpoint-entity.md#2025-04-23_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\n// src/app/api/customer/[id]/route.tsx\nimport ServerCustomerRepository from \"@/data/server/server-customer-repository\";\nimport { NextRequest } from \"next/server\";\nimport { getErrorMessage } from \"@/lib/utils\";\nimport { auditLog, authorizeSaasContext, genericDELETE } from \"@/lib/generic-api\";\nimport { authorizeRequestContext } from \"@/lib/authorization-api\";\n\nexport async function DELETE(request: NextRequest, { params }: { params: { id: string } }) {\n  try {\n    const recordLocator = parseInt(params.id, 10);\n    if (!recordLocator) {\n      return Response.json({ message: \"Invalid id in request URL\", status: 400 }, { status: 400 });\n    }\n\n    const requestContext = await authorizeRequestContext(request);\n    const saasContext = await authorizeSaasContext(request);\n\n    // If you had references, you'd delete them here (like you do for agent's results, sessions, etc.)\n    // e.g. await someRepo.delete({ customerId: recordLocator });\n\n    auditLog(\n      {\n        eventName: \"deleteCustomer\",\n        recordLocator: JSON.stringify({ id: recordLocator }),\n      },\n      request,\n      requestContext,\n      saasContext\n    );\n\n    const repo = new ServerCustomerRepository(requestContext.databaseIdHash);\n    const apiResult = await genericDELETE(request, repo, { id: recordLocator });\n    return Response.json(apiResult, { status: apiResult.status });\n  } catch (error) {\n    return Response.json({ message: getErrorMessage(error), status: 500 }, { status: 500 });\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting API Key as Environment Variable in Bash/ZSH\nDESCRIPTION: Demonstrates how to store the Open Agents Builder API key as an environment variable in your shell configuration file for easy access.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nexport OPEN_AGENTS_BUILDER_API_KEY=ad_key_eyJhbGciOiJIUzI1NiJ9.eyJkYXRhYmFzZUlkSGFzaCI6IjM1ZjVjNWIx...\n```\n\n----------------------------------------\n\nTITLE: Copying Environment Variables Template\nDESCRIPTION: Command to create a local environment file by copying the default template.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/1-getting-started.md#2025-04-23_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncp .env.defaults .env.local\n```\n\n----------------------------------------\n\nTITLE: Registering Google Search Tool Configurator\nDESCRIPTION: Example showing how to register the Google Search Tool Configurator in the configurators.ts file. This code demonstrates importing the configurator component and adding entries for both Google Web Search and Google Image Search tools.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\n// src/tools/configurators.ts\n\nimport { GoogleSearchToolConfigurator } from './googleSearchTool-configurator'; \n// ...other imports...\n\ntype ToolConfiguratorDescriptor = {\n  displayName: string;\n  configurator: React.ComponentType<any>;\n}\n\nexport const toolConfiguratorsRepository = {\n  init: ({ agent }: { agent?: Agent }): Record<string, ToolConfiguratorDescriptor> => {\n\n    let configurators: Record<string, ToolConfiguratorDescriptor> = {\n      // Existing\n      sendEmail: {\n        displayName: 'Send Email',\n        configurator: SendEmailConfigurator\n      },\n      currentDate: {\n        displayName: 'Get current date',\n        configurator: CurrentDateConfigurator\n      },\n      // ...\n      // Insert your Google search configurator entry:\n      googleSearch: {\n        displayName: 'Google Web Search',\n        configurator: GoogleSearchToolConfigurator,\n      },\n      googleImageSearch: {\n        displayName: 'Google Image Search',\n        configurator: GoogleSearchToolConfigurator,\n      },\n    }\n\n    // Additional logic for flows or other agent types\n    // ...\n\n    return configurators;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Testing API with Direct API Key via CURL\nDESCRIPTION: Example curl command that tests the API connection by retrieving agents using a direct API key in the authorization header.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET -H \"Authorization: Bearer ad_key_eyJhbGciOiJIUzI1NiJ9.eyJkYXRhYmFzZUlkSGFzaCI6IjM1ZjVjNWIxMzlhN...\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\" \\\n  https://app.openagentsbuilder.com/api/agent\n```\n\n----------------------------------------\n\nTITLE: Alternative Error Response Format (JSON)\nDESCRIPTION: An alternative format for error responses that may be used in some endpoints. Includes a message description and optionally a numeric status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_30\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"<description>\",\n  \"status\": <numericCode>\n}\n```\n\n----------------------------------------\n\nTITLE: Listing All Attachments using cURL\nDESCRIPTION: Example of listing all attachments using the GET /api/attachment endpoint. This request returns an array of all attachment objects with optional filtering via query parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/attachment\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Initializing TypeScript Client for Open Agents Builder\nDESCRIPTION: Code snippet showing how to set up and configure the OpenAgentsBuilderClient with your API credentials and endpoint URL.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  // This URL can be changed if you're self-hosting.\n  baseUrl: \"https://app.openagentsbuilder.com\", \n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\",\n  apiKey: \"YOUR_API_KEY\" // or set process.env.OPEN_AGENTS_BUILDER_API_KEY\n});\n```\n\n----------------------------------------\n\nTITLE: Example Usage of Google Search Tool\nDESCRIPTION: Example showing how to invoke the Google Search tool in agent conversations. This demonstrates the format for using the tool with a query parameter.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/extensibility/20-new-tool-integration.md#2025-04-23_snippet_5\n\nLANGUAGE: markdown\nCODE:\n```\n@tool googleSearch\n{\n  \"query\": \"Best restaurants in New York City\"\n}\n```\n\n----------------------------------------\n\nTITLE: GET Products Endpoint with cURL Example\nDESCRIPTION: cURL command for retrieving a paginated list of products with filter parameters including limit, offset, orderBy, and text query.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_1\n\nLANGUAGE: Bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/product?limit=5&offset=0&orderBy=name&query=shoes\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: API Authentication Request Example\nDESCRIPTION: cURL command demonstrating how to make authenticated API requests to the Open Agents Builder service using an API key and database hash.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/guides/5-integrating-with-the-website.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  -H \"Authorization: Bearer ${OPEN_AGENTS_BUILDER_API_KEY}\" \\\n  -H \"x-database-hash: 524a624e60b83b6c2f1f63970c48aee0c2b83b33827fd4129f85a37e9e55\" \\\n  https://app.openagentsbuilder.com/api/agent\n```\n\n----------------------------------------\n\nTITLE: Importing Starlight UI Components in JSX\nDESCRIPTION: Demonstrates importing Card and CardGrid components from the Starlight UI library for creating a responsive grid layout in the documentation page.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/index.mdx#2025-04-23_snippet_0\n\nLANGUAGE: jsx\nCODE:\n```\nimport { Card, CardGrid } from '@astrojs/starlight/components';\n```\n\n----------------------------------------\n\nTITLE: Get Specific Vector Store API Request\nDESCRIPTION: cURL example for fetching all records stored in a specific vector store by filename, returning the raw JSON data including full embeddings.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  https://app.example.com/api/memory/my-new-store \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569...\"\n```\n\n----------------------------------------\n\nTITLE: Downloading Attachment Binary with Authentication using cURL\nDESCRIPTION: Example of downloading an attachment's binary content using the authorized GET /api/attachment/[id] endpoint. This request requires authentication headers and returns the raw file content.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/16-attachments-api.md#2025-04-23_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/attachment/my-file-key\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -o downloaded-file\n```\n\n----------------------------------------\n\nTITLE: Create Session API Request Example\nDESCRIPTION: cURL example showing how to make a POST request to create a new session with specific parameters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X POST \\\n  \"https://app.openagentsbuilder.com/api/exec/session/session-XYZ\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n      \"agentId\": \"agent-123\",\n      \"userName\": \"Alice\",\n      \"userEmail\": \"[email protected]\",\n      \"acceptTerms\": \"true\"\n    }'\n```\n\n----------------------------------------\n\nTITLE: List Sessions API Request Example\nDESCRIPTION: cURL example demonstrating how to make a GET request to retrieve session data with optional filtering by agentId.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/session?agentId=agent-123\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: DELETE Calendar Event Using TypeScript API Client\nDESCRIPTION: Example of deleting a calendar event using the OpenAgentsBuilderClient library. Uses the calendar.deleteEvent method with the event ID.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"<YOUR_DATABASE_ID_HASH>\"\n});\n\nasync function deleteCalendarEventClientExample() {\n  const result = await client.calendar.deleteEvent(\"evt-001\");\n  console.log(\"Deleted event via client:\", result);\n}\n\ndeleteCalendarEventClientExample();\n```\n\n----------------------------------------\n\nTITLE: DELETE Product Using TypeScript API Client\nDESCRIPTION: Example of deleting a product using the OpenAgentsBuilderClient library instead of direct API calls. Simplifies authentication and request handling.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_11\n\nLANGUAGE: TypeScript\nCODE:\n```\nimport { OpenAgentsBuilderClient } from \"open-agents-builder-client\";\n\nconst client = new OpenAgentsBuilderClient({\n  apiKey: \"YOUR_API_KEY\",\n  databaseIdHash: \"YOUR_DATABASE_ID_HASH\"\n});\n\nasync function deleteProductClientExample() {\n  const response = await client.product.deleteProduct(\"p-abc123\");\n  console.log(\"Delete product via client:\", response);\n}\n\ndeleteProductClientExample();\n```\n\n----------------------------------------\n\nTITLE: GET Aggregated Stats Endpoint TypeScript Example\nDESCRIPTION: This TypeScript function demonstrates how to make a GET request to the /api/stats/aggregated endpoint using the fetch API.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nasync function getAggregatedStats() {\n  const response = await fetch(\"https://app.openagentsbuilder.com/api/stats/aggregated\", {\n    method: \"GET\",\n    headers: {\n      \"Authorization\": \"Bearer <YOUR_API_KEY>\",\n      \"database-id-hash\": \"<YOUR_DATABASE_ID_HASH>\"\n    }\n  });\n  const result = await response.json();\n  if (!response.ok) {\n    throw new Error(`Error fetching aggregated stats: ${result.message}`);\n  }\n  console.log(\"Aggregated stats:\", result.data);\n  return result.data;\n}\n\n// Usage:\ngetAggregatedStats().catch(console.error);\n```\n\n----------------------------------------\n\nTITLE: PUT Stats Endpoint cURL Example\nDESCRIPTION: This cURL command demonstrates how to make a PUT request to the /api/stats endpoint to aggregate usage stats.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/18-stats-api.md#2025-04-23_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X PUT \\\n  \"https://app.openagentsbuilder.com/api/stats\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"eventName\": \"chat\",\n    \"promptTokens\": 100,\n    \"completionTokens\": 150\n  }'\n```\n\n----------------------------------------\n\nTITLE: DELETE Request Examples\nDESCRIPTION: Examples of deleting agents using cURL and fetch API, including associated data deletion.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/10-agent-api.md#2025-04-23_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  https://app.openagentsbuilder.com/api/agent/agent-123 \\\n  -H \"Authorization: Bearer abc1234exampleKey\" \\\n  -H \"database-id-hash: 35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\"\n```\n\nLANGUAGE: typescript\nCODE:\n```\nasync function deleteAgent(agentId: string) {\n  const response = await fetch(`https://app.openagentsbuilder.com/api/agent/${agentId}`, {\n    method: \"DELETE\",\n    headers: {\n      \"Authorization\": \"Bearer abc1234exampleKey\",\n      \"database-id-hash\": \"35f5c5b139a6b569d4649b788c1851831eb44d8e32b716b8411ec6431af8121d\"\n    }\n  });\n\n  const result = await response.json();\n  console.log(\"Delete result:\", result);\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting a Single Result using curl in Bash\nDESCRIPTION: This curl command deletes a specific result identified by its session ID. It requires an API key and database ID hash for authentication and returns a success message when the operation completes.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/11-result-api.md#2025-04-23_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X DELETE \\\n  \"https://app.openagentsbuilder.com/api/result/session-001\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Listing Audit Logs using cURL\nDESCRIPTION: This cURL command demonstrates how to retrieve a list of audit logs by sending a GET request to the /api/audit endpoint. It includes query parameters for specifying the partition and limit.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/17-audit-log-api.md#2025-04-23_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ncurl -X GET \\\n  \"https://app.openagentsbuilder.com/api/audit?partition=2025-02&limit=50\" \\\n  -H \"Authorization: Bearer <YOUR_API_KEY>\" \\\n  -H \"database-id-hash: <YOUR_DATABASE_ID_HASH>\"\n```\n\n----------------------------------------\n\nTITLE: Example Calendar API Response JSON\nDESCRIPTION: Sample JSON response from the GET /api/calendar endpoint showing the structure of a calendar event with all fields populated.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n[\n  {\n    \"id\": \"evt-001\",\n    \"title\": \"Meeting with Bob\",\n    \"agentId\": \"agent-123\",\n    \"description\": \"Discuss project updates\",\n    \"location\": \"Conference Room\",\n    \"start\": \"2025-04-01T10:00:00.000Z\",\n    \"end\": \"2025-04-01T11:00:00.000Z\",\n    \"participants\": \"[{\\\"name\\\":\\\"Bob\\\",\\\"email\\\":\\\"[email protected]\\\"}]\",\n    \"allDay\": null,\n    \"sessionId\": null,\n    \"createdAt\": \"2025-03-21T12:00:00.000Z\",\n    \"updatedAt\": \"2025-03-21T12:00:00.000Z\",\n    \"exclusive\": null\n  },\n  ...\n]\n```\n\n----------------------------------------\n\nTITLE: Example Success Response for PUT Product Endpoint\nDESCRIPTION: Sample JSON response from the PUT /api/product endpoint showing the structure of returned data after successfully creating or updating a product record.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/14-products-api.md#2025-04-23_snippet_8\n\nLANGUAGE: JSON\nCODE:\n```\n{\n  \"message\": \"Data saved successfully!\",\n  \"data\": {\n    \"id\": \"p-abc123\",\n    \"sku\": \"SHOE-001\",\n    \"name\": \"Nice Shoes\",\n    \"price\": { \"value\": 49.99, \"currency\": \"USD\" },\n    \"priceInclTax\": { \"value\": 61.48, \"currency\": \"USD\" },\n    \"brand\": \"Some Brand\",\n    \"status\": \"active\",\n    \"attributes\": [],\n    \"variants\": [],\n    \"images\": [],\n    \"tags\": [],\n    ...\n    \"createdAt\": \"2025-03-21T10:00:00.000Z\",\n    \"updatedAt\": \"2025-03-21T10:05:00.000Z\"\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Example JSON Response for Key Upsert Operation\nDESCRIPTION: Sample JSON response returned after successfully creating or updating a key, showing the status, confirmation message, and the saved key object with all its properties.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/19-keys-api.md#2025-04-23_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data saved successfully!\",\n  \"data\": {\n    \"displayName\": \"My Key #1\",\n    \"keyLocatorHash\": \"1122334455667788aaabbbcccdddeeefff0011223344556677aaabbbcccdddee\",\n    \"keyHash\": \"abc123def456...\",\n    \"keyHashParams\": \"some-params\",\n    \"databaseIdHash\": \"35f5c5b139a6b569d4649b7...\",\n    \"encryptedMasterKey\": \"some-encrypted-value\",\n    \"acl\": null,\n    \"extra\": null,\n    \"expiryDate\": null,\n    \"updatedAt\": \"2025-03-21T11:00:00.000Z\"\n  },\n  \"status\": 200\n}\n```\n\n----------------------------------------\n\nTITLE: Calendar Event Request Body JSON Example\nDESCRIPTION: Example JSON request body for creating or updating a calendar event, showing required and optional fields formatted according to the CalendarEventDTO schema.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"id\": \"evt-001\",\n  \"title\": \"Meeting with Bob\",\n  \"agentId\": \"agent-123\",\n  \"start\": \"2025-04-01T10:00:00.000Z\",\n  \"end\": \"2025-04-01T11:00:00.000Z\",\n  \"description\": \"Discuss project updates\",\n  \"location\": \"Conference Room\",\n  \"participants\": \"[{\\\"name\\\":\\\"Bob\\\",\\\"email\\\":\\\"[email protected]\\\"}]\"\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Embeddings Request Body (JSON)\nDESCRIPTION: Request body format for generating embeddings. The 'content' field contains the text to be embedded using the configured embedding provider (e.g., OpenAI).\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_25\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"content\": \"Text to embed\"\n}\n```\n\n----------------------------------------\n\nTITLE: List Records Success Response\nDESCRIPTION: JSON response for successfully listing records in a vector store, including record details with embedding previews and total count.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"rows\": [\n    {\n      \"id\": \"record-123\",\n      \"metadata\": {...},\n      \"content\": \"Some content...\",\n      \"embeddingPreview\": [0.12, -0.08, ...]  // only first 8 numbers\n    },\n    {\n      \"id\": \"record-456\",\n      \"...\": \"...\"\n    }\n  ],\n  \"total\": 2\n}\n```\n\n----------------------------------------\n\nTITLE: Insert Record Success Response\nDESCRIPTION: JSON response for successful record insertion into a vector store, confirming the operation with a success flag.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_19\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"success\": true\n}\n```\n\n----------------------------------------\n\nTITLE: Session Field Encryption Example\nDESCRIPTION: TypeScript code snippet showing how sensitive session fields are automatically encrypted before storage.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/12-session-api.md#2025-04-23_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nif (this.encUtils) {\n  if (item.userName) item.userName = await this.encUtils.encrypt(item.userName);\n  if (item.userEmail) item.userEmail = await this.encUtils.encrypt(item.userEmail);\n  if (item.messages) item.messages = await this.encUtils.encrypt(item.messages);\n}\n```\n\n----------------------------------------\n\nTITLE: DELETE Calendar Event Not Found Response JSON Example\nDESCRIPTION: Sample JSON response when attempting to delete a calendar event that doesn't exist. Shows the error response format.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/15-calendar-api.md#2025-04-23_snippet_14\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"message\": \"Data not found!\",\n  \"status\": 400\n}\n```\n\n----------------------------------------\n\nTITLE: Records API Error Response\nDESCRIPTION: JSON error response when fetching records fails, returning a 500 server error status code.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_17\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Failed to fetch records\"\n}\n```\n\n----------------------------------------\n\nTITLE: Vector Store Creation Error Response\nDESCRIPTION: Example JSON error responses when vector store creation fails, either due to an existing store or invalid store name characters.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/31-memory-api.md#2025-04-23_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Store already exists\"\n}\n```\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"error\": \"Store name contains invalid characters...\"\n}\n```\n\n----------------------------------------\n\nTITLE: Using Starlight Card Components in JSX/Markdown\nDESCRIPTION: Shows how to implement a staggered card grid with multiple cards containing links and descriptive text. Each card represents a different next step for users of Open Agents Builder.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/index.mdx#2025-04-23_snippet_1\n\nLANGUAGE: jsx\nCODE:\n```\n<CardGrid stagger>\n\t<Card title=\"Create demo instance\" icon=\"setting\">\n\tGo to <a href=\"https://openagentsbuilder.com\">`openagentsbuilder.com`</a> and create your free instance and start building AI agents right away.\n\t</Card>\n\t<Card title=\"Deploy locally and start contributing\" icon=\"add-document\">\n\t\tOAB is MIT Licensed, deploy it locally to start building your custom integrations and AI tools.\n\t\t<a href=\"\">Go to Getting Started guide</a>\n\t</Card>\n\t<Card title=\"Read the API docs\" icon=\"open-book\">\n\t\tLearn more in [the API docs](/api/1-creating-api-key).\n\t</Card>\n</CardGrid>\n```\n\n----------------------------------------\n\nTITLE: Uploading or Upserting an Attachment with TypeScript Client\nDESCRIPTION: Example TypeScript code for handling file attachments with the client library, including storage key, display name, MIME type, and content.\nSOURCE: https://github.com/catchthetornado/open-agents-builder-docs/blob/main/src/content/docs/api/0-creating-api-key.md#2025-04-23_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nclient.attachment.upsertAttachment({\n  storageKey: \"unique-file-123\",\n  displayName: \"myfile.pdf\",\n  mimeType: \"application/pdf\",\n  content: \"Optional text content\"\n})\n.then((resp) => console.log(\"Attachment upserted:\", resp))\n.catch(console.error);\n```"
  }
]