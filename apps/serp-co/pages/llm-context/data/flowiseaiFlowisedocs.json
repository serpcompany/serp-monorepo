[
  {
    "owner": "flowiseai",
    "repo": "flowisedocs",
    "content": "TITLE: Storage Type Configuration\nDESCRIPTION: Available storage types for file management in Flowise\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_3\n\nLANGUAGE: plaintext\nCODE:\n```\ns3, gcs, local\n```\n\n----------------------------------------\n\nTITLE: Implementing Streaming Predictions with Flowise TypeScript SDK\nDESCRIPTION: This snippet shows how to use the Flowise TypeScript SDK to create streaming predictions. It initializes a FlowiseClient, sends a prediction request with streaming enabled, and processes the streamed chunks using async iteration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/streaming.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { FlowiseClient } from 'flowise-sdk'\n\nasync function test_streaming() {\n  const client = new FlowiseClient({ baseUrl: 'http://localhost:3000' });\n\n  try {\n    // For streaming prediction\n    const prediction = await client.createPrediction({\n      chatflowId: '<chatflow-id>',\n      question: 'What is the capital of France?',\n      streaming: true,\n    });\n\n    for await (const chunk of prediction) {\n        // {event: \"token\", data: \"hello\"}\n        console.log(chunk);\n    }\n    \n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\n// Run streaming test\ntest_streaming()\n```\n\n----------------------------------------\n\nTITLE: TypeScript SDK Implementation for Flowise Prediction\nDESCRIPTION: Shows how to implement streaming and non-streaming predictions using the Flowise TypeScript SDK. Includes error handling and connection setup.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { FlowiseClient } from 'flowise-sdk'\n\nasync function test_streaming() {\n  const client = new FlowiseClient({ baseUrl: 'http://localhost:3000' });\n\n  try {\n    // For streaming prediction\n    const prediction = await client.createPrediction({\n      chatflowId: 'fe1145fa-1b2b-45b7-b2ba-bcc5aaeb5ffd',\n      question: 'What is the revenue of Apple?',\n      streaming: true,\n    });\n\n    for await (const chunk of prediction) {\n        console.log(chunk);\n    }\n    \n  } catch (error) {\n    console.error('Error:', error);\n  }\n}\n\nasync function test_non_streaming() {\n    const client = new FlowiseClient({ baseUrl: 'http://localhost:3000' });\n  \n    try {\n      // For streaming prediction\n      const prediction = await client.createPrediction({\n        chatflowId: 'fe1145fa-1b2b-45b7-b2ba-bcc5aaeb5ffd',\n        question: 'What is the revenue of Apple?',\n      });\n  \n      console.log(prediction);\n      \n    } catch (error) {\n      console.error('Error:', error);\n    }\n}\n\n// Run non-streaming test\ntest_non_streaming()\n\n// Run streaming test\ntest_streaming()\n```\n\n----------------------------------------\n\nTITLE: Deploying Flowise with Docker Compose\nDESCRIPTION: Commands to deploy Flowise using Docker Compose, including the startup and shutdown procedures.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d\n```\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose stop\n```\n\n----------------------------------------\n\nTITLE: Python SDK Implementation for Flowise Prediction\nDESCRIPTION: Demonstrates both streaming and non-streaming prediction implementations using the Flowise Python SDK. Includes examples of creating predictions with different configurations and handling responses.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom flowise import Flowise, PredictionData\n\ndef test_non_streaming():\n    client = Flowise()\n\n    # Test non-streaming prediction\n    completion = client.create_prediction(\n        PredictionData(\n            chatflowId=\"<chatflow-id>\",\n            question=\"What is the capital of France?\",\n            streaming=False\n        )\n    )\n\n    # Process and print the response\n    for response in completion:\n        print(\"Non-streaming response:\", response)\n\ndef test_streaming():\n    client = Flowise()\n\n    # Test streaming prediction\n    completion = client.create_prediction(\n        PredictionData(\n            chatflowId=\"<chatflow-id>\",\n            question=\"Tell me a joke!\",\n            streaming=True\n        )\n    )\n\n    # Process and print each streamed chunk\n    print(\"Streaming response:\")\n    for chunk in completion:\n        print(chunk)\n\n\nif __name__ == \"__main__\":\n    # Run non-streaming test\n    test_non_streaming()\n\n    # Run streaming test\n    test_streaming()\n```\n\n----------------------------------------\n\nTITLE: Override Config Implementation in Python\nDESCRIPTION: Example of overriding configuration settings in Flowise API calls using Python, including session management and source document retrieval.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"question\": \"Hey, how are you?\",\n    \"overrideConfig\": {\n        \"sessionId\": \"123\",\n        \"returnSourceDocuments\": true\n    }\n})\n```\n\n----------------------------------------\n\nTITLE: Override Config Implementation in JavaScript\nDESCRIPTION: JavaScript implementation for overriding Flowise API configuration settings, including API endpoint setup and response handling.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"Hey, how are you?\",\n    \"overrideConfig\": {\n        \"sessionId\": \"123\",\n        \"returnSourceDocuments\": true\n    }\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Log Level Configuration\nDESCRIPTION: Available log levels for debugging and monitoring\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_4\n\nLANGUAGE: plaintext\nCODE:\n```\nerror, info, verbose, debug\n```\n\n----------------------------------------\n\nTITLE: Configuring Klarna OpenAPI Specification in JSON\nDESCRIPTION: OpenAPI specification for Klarna's product API defining endpoints, parameters, and response schemas for product search functionality. The spec includes server configuration, endpoint details, and data models.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/interacting-with-api.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"openapi\": \"3.0.1\",\n  \"info\": {\n    \"version\": \"v0\",\n    \"title\": \"Open AI Klarna product Api\"\n  },\n  \"servers\": [\n    {\n      \"url\": \"https://www.klarna.com/us/shopping\"\n    }\n  ],\n  \"tags\": [\n    {\n      \"name\": \"open-ai-product-endpoint\",\n      \"description\": \"Open AI Product Endpoint. Query for products.\"\n    }\n  ],\n  \"paths\": {\n    \"/public/openai/v0/products\": {\n      \"get\": {\n        \"tags\": [\n          \"open-ai-product-endpoint\"\n        ],\n        \"summary\": \"API for fetching Klarna product information\",\n        \"operationId\": \"productsUsingGET\",\n        \"parameters\": [\n          {\n            \"name\": \"countryCode\",\n            \"in\": \"query\",\n            \"description\": \"ISO 3166 country code with 2 characters based on the user location. Currently, only US, GB, DE, SE and DK are supported.\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          },\n          {\n            \"name\": \"q\",\n            \"in\": \"query\",\n            \"description\": \"A precise query that matches one very small category or product that needs to be searched for to find the products the user is looking for. If the user explicitly stated what they want, use that as a query. The query is as specific as possible to the product name or category mentioned by the user in its singular form, and don't contain any clarifiers like latest, newest, cheapest, budget, premium, expensive or similar. The query is always taken from the latest topic, if there is a new topic a new query is started. If the user speaks another language than English, translate their request into English (example: translate fia med knuff to ludo board game)!\",\n            \"required\": true,\n            \"schema\": {\n              \"type\": \"string\"\n            }\n          },\n          {\n            \"name\": \"size\",\n            \"in\": \"query\",\n            \"description\": \"number of products returned\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            }\n          },\n          {\n            \"name\": \"min_price\",\n            \"in\": \"query\",\n            \"description\": \"(Optional) Minimum price in local currency for the product searched for. Either explicitly stated by the user or implicitly inferred from a combination of the user's request and the kind of product searched for.\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            }\n          },\n          {\n            \"name\": \"max_price\",\n            \"in\": \"query\",\n            \"description\": \"(Optional) Maximum price in local currency for the product searched for. Either explicitly stated by the user or implicitly inferred from a combination of the user's request and the kind of product searched for.\",\n            \"required\": false,\n            \"schema\": {\n              \"type\": \"integer\"\n            }\n          }\n        ],\n        \"responses\": {\n          \"200\": {\n            \"description\": \"Products found\",\n            \"content\": {\n              \"application/json\": {\n                \"schema\": {\n                  \"$ref\": \"#/components/schemas/ProductResponse\"\n                }\n              }\n            }\n          },\n          \"503\": {\n            \"description\": \"one or more services are unavailable\"\n          }\n        },\n        \"deprecated\": false\n      }\n    }\n  },\n  \"components\": {\n    \"schemas\": {\n      \"Product\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"attributes\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"name\": {\n            \"type\": \"string\"\n          },\n          \"price\": {\n            \"type\": \"string\"\n          },\n          \"url\": {\n            \"type\": \"string\"\n          }\n        },\n        \"title\": \"Product\"\n      },\n      \"ProductResponse\": {\n        \"type\": \"object\",\n        \"properties\": {\n          \"products\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"$ref\": \"#/components/schemas/Product\"\n            }\n          }\n        },\n        \"title\": \"ProductResponse\"\n      }\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Referencing Swagger YAML for Vector Upsert Endpoint in Flowise\nDESCRIPTION: This snippet uses a custom Swagger syntax to reference an external YAML file containing the API specifications for the vector upsert endpoint. The endpoint is a POST method at the path '/vector/upsert/{id}'.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/vector-upsert.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/vector/upsert/{id}\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Implementing Streaming Predictions with Flowise Python Library\nDESCRIPTION: This code demonstrates how to use the Flowise Python library to create streaming predictions. It initializes a Flowise client, sends a prediction request with streaming enabled, and processes the streamed chunks.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/streaming.md#2025-04-18_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom flowise import Flowise, PredictionData\n\ndef test_streaming():\n    client = Flowise()\n\n    # Test streaming prediction\n    completion = client.create_prediction(\n        PredictionData(\n            chatflowId=\"<chatflow-id>\",\n            question=\"Tell me a joke!\",\n            streaming=True\n        )\n    )\n\n    # Process and print each streamed chunk\n    print(\"Streaming response:\")\n    for chunk in completion:\n        # {event: \"token\", data: \"hello\"}\n        print(chunk)\n\n\nif __name__ == \"__main__\":\n    test_streaming()\n```\n\n----------------------------------------\n\nTITLE: Vector Upsert for Document Loaders via Flowise Python API\nDESCRIPTION: This code snippet illustrates how to use the Flowise Python API for vector upsert operations with document loaders that don't require file uploads. It shows the payload structure for sending configuration options.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_10\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/vector/upsert/<chatflowId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    print(response)\n    return response.json()\n\noutput = query({\n    \"overrideConfig\": { # optional\n        \"returnSourceDocuments\": true\n    }\n})\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Creating Assistant (POST /assistants)\nDESCRIPTION: Swagger documentation for the POST /assistants endpoint. This endpoint is used to create a new assistant.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/assistants.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/assistants\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Installing Docker on Digital Ocean Droplet\nDESCRIPTION: Commands to install Docker and Docker Compose on a Digital Ocean droplet. Includes downloading the Docker installation script and setting up Docker Compose with proper permissions.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/digital-ocean.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl -fsSL https://get.docker.com -o get-docker.sh\n```\n\nLANGUAGE: bash\nCODE:\n```\nsudo sh get-docker.sh\n```\n\nLANGUAGE: bash\nCODE:\n```\nsudo curl -L \"https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)\" -o /usr/local/bin/docker-compose\n```\n\nLANGUAGE: bash\nCODE:\n```\nsudo chmod +x /usr/local/bin/docker-compose\n```\n\n----------------------------------------\n\nTITLE: Executing SQL Query and Retrieving Results\nDESCRIPTION: This custom JavaScript function connects to the SingleStore database, executes the validated SQL query, and returns the results as a JSON string.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/sql-qna.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nconst HOST = 'singlestore-host.com';\nconst USER = 'admin';\nconst PASSWORD = 'mypassword';\nconst DATABASE = 'mydb';\nconst TABLE = 'samples';\nconst mysql = require('mysql2/promise');\n\nlet result;\n\nfunction getSQLResult() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const singleStoreConnection = mysql.createPool({\n        host: HOST,\n        user: USER,\n        password: PASSWORD,\n        database: DATABASE,\n      });\n     \n      const [rows] = await singleStoreConnection.execute(\n        $sqlQuery\n      );\n  \n      result = JSON.stringify(rows)\n      \n      resolve();\n    } catch (e) {\n      console.error(e);\n      return reject(e);\n    }\n  });\n}\n\nasync function main() {\n    await getSQLResult();\n}\n\nawait main();\n\nreturn result;\n```\n\n----------------------------------------\n\nTITLE: Configuring SMTP Environment Variables for User Invitations\nDESCRIPTION: Required environment variables for setting up email functionality to send workspace invitations in self-hosted Flowise Enterprise.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/workspaces.md#2025-04-18_snippet_1\n\nLANGUAGE: env\nCODE:\n```\nINVITE_TOKEN_EXPIRY_IN_HOURS\nSMTP_HOST\nSMTP_PORT\nSMTP_USER\nSMTP_PASSWORD\n```\n\n----------------------------------------\n\nTITLE: Creating Supabase Vector Store with BigSerial ID\nDESCRIPTION: SQL setup for creating a vector store in Supabase with pgvector extension, documents table using bigserial ID, and match_documents search function. Includes vector embeddings support for OpenAI (1536 dimensions).\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/supabase.md#2025-04-18_snippet_0\n\nLANGUAGE: plsql\nCODE:\n```\n-- Enable the pgvector extension to work with embedding vectors\ncreate extension vector;\n\n-- Create a table to store your documents\ncreate table documents (\n  id bigserial primary key,\n  content text, -- corresponds to Document.pageContent\n  metadata jsonb, -- corresponds to Document.metadata\n  embedding vector(1536) -- 1536 works for OpenAI embeddings, change if needed\n);\n\n-- Create a function to search for documents\ncreate function match_documents (\n  query_embedding vector(1536),\n  match_count int DEFAULT null,\n  filter jsonb DEFAULT '{}'\n) returns table (\n  id bigint,\n  content text,\n  metadata jsonb,\n  similarity float\n)\nlanguage plpgsql\nas $$\n#variable_conflict use_column\nbegin\n  return query\n  select\n    id,\n    content,\n    metadata,\n    1 - (documents.embedding <=> query_embedding) as similarity\n  from documents\n  where metadata @> filter\n  order by documents.embedding <=> query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n----------------------------------------\n\nTITLE: Uploading Images via Flowise JavaScript API\nDESCRIPTION: This snippet shows how to upload images using the Flowise JavaScript API. It demonstrates the payload structure for sending image data as base64 or URL, along with metadata such as file name and MIME type.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"Can you describe the image?\",\n    \"uploads\": [\n        {\n            \"data\": 'data:image/png;base64,iVBORw0KGgdM2uN0', //base64 string or url\n            \"type\": 'file', //file | url\n            \"name\": 'Flowise.png',\n            \"mime\": 'image/png'\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Generating SQL Schema and Example Rows Prompt\nDESCRIPTION: This snippet connects to a SingleStore database, retrieves the schema and top 3 rows of a specified table, and formats the data into a prompt for an LLM.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/sql-qna.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst HOST = 'singlestore-host.com';\nconst USER = 'admin';\nconst PASSWORD = 'mypassword';\nconst DATABASE = 'mydb';\nconst TABLE = 'samples';\nconst mysql = require('mysql2/promise');\n\nlet sqlSchemaPrompt;\n\nfunction getSQLPrompt() {\n  return new Promise(async (resolve, reject) => {\n    try {\n      const singleStoreConnection = mysql.createPool({\n        host: HOST,\n        user: USER,\n        password: PASSWORD,\n        database: DATABASE,\n      });\n  \n      // Get schema info\n      const [schemaInfo] = await singleStoreConnection.execute(\n        `SELECT * FROM INFORMATION_SCHEMA.COLUMNS WHERE table_name = \"${TABLE}\"`\n      );\n  \n      const createColumns = [];\n      const columnNames = [];\n  \n      for (const schemaData of schemaInfo) {\n        columnNames.push(`${schemaData['COLUMN_NAME']}`);\n        createColumns.push(`${schemaData['COLUMN_NAME']} ${schemaData['COLUMN_TYPE']} ${schemaData['IS_NULLABLE'] === 'NO' ? 'NOT NULL' : ''}`);\n      }\n  \n      const sqlCreateTableQuery = `CREATE TABLE samples (${createColumns.join(', ')})`;\n      const sqlSelectTableQuery = `SELECT * FROM samples LIMIT 3`;\n  \n      // Get first 3 rows\n      const [rows] = await singleStoreConnection.execute(\n          sqlSelectTableQuery,\n      );\n      \n      const allValues = [];\n      for (const row of rows) {\n          const rowValues = [];\n          for (const colName in row) {\n              rowValues.push(row[colName]);\n          }\n          allValues.push(rowValues.join(' '));\n      }\n  \n      sqlSchemaPrompt = sqlCreateTableQuery + '\\n' + sqlSelectTableQuery + '\\n' + columnNames.join(' ') + '\\n' + allValues.join('\\n');\n      \n      resolve();\n    } catch (e) {\n      console.error(e);\n      return reject(e);\n    }\n  });\n}\n\nasync function main() {\n    await getSQLPrompt();\n}\n\nawait main();\n\nreturn sqlSchemaPrompt;\n```\n\n----------------------------------------\n\nTITLE: Making Streaming Predictions with cURL\nDESCRIPTION: This cURL command demonstrates how to make a streaming prediction request to the Flowise API. It sends a POST request to the predictions endpoint with the chatflow ID, question, and streaming flag set to true.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/streaming.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl https://localhost:3000/api/v1/predictions/{chatflow-id} \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"question\": \"Hello world!\",\n    \"streaming\": true\n  }'\n```\n\n----------------------------------------\n\nTITLE: Implementing Calculator Core Functionality\nDESCRIPTION: Defines the core Calculator class extending LangChain's Tool class to handle mathematical expression evaluation using expr-eval parser.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/contributing/building-node.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport { Parser } from \"expr-eval\"\nimport { Tool } from \"@langchain/core/tools\"\n\nexport class Calculator extends Tool {\n    name = \"calculator\"\n    description = `Useful for getting the result of a math expression. The input to this tool should be a valid mathematical expression that could be executed by a simple calculator.`\n \n    async _call(input: string) {\n        try {\n            return Parser.evaluate(input).toString()\n        } catch (error) {\n            return \"I don't know how to do that.\"\n        }\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Condition Agent Node Implementation\nDESCRIPTION: The Condition Agent Node combines LLM processing with conditional logic for intelligent routing. It processes conversation context and custom state to make routing decisions.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n// Example structured output schema for Condition Agent\n{\n  \"decision\": \"string\",\n  \"confidence\": \"number\",\n  \"reasoning\": \"string\",\n  \"nextPath\": {\n    \"type\": \"enum\",\n    \"values\": [\"AgentPath\", \"LLMPath\", \"End\"]\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Tool Function Dependencies in Flowise Environment File\nDESCRIPTION: This snippet demonstrates how to configure environment variables to control which built-in and external dependencies are allowed in Tool Functions. It shows different permission levels from allowing all modules to allowing only specific ones.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# Allows usage of all builtin modules\nTOOL_FUNCTION_BUILTIN_DEP=*\n\n# Allows usage of only fs\nTOOL_FUNCTION_BUILTIN_DEP=fs\n\n# Allows usage of only crypto and fs\nTOOL_FUNCTION_BUILTIN_DEP=crypto,fs\n\n# Allow usage of external npm modules.\nTOOL_FUNCTION_EXTERNAL_DEP=axios,moment\n```\n\n----------------------------------------\n\nTITLE: Character Text Splitter Configuration Parameters\nDESCRIPTION: Defines the input parameters and output for the Character Text Splitter, including separator character, chunk size, and overlap settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/text-splitters/charater-text-splitter.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# Character Text Splitter\nThis is the simplest method of text splitting. This splits based on characters (by default \"\\n\\n\") and measure chunk length by number of characters.\n## Inputs\nSeparator: default \"\\n\\n\" <br>\nChunck Size: the maximum size of your chunk length by number of characters <br>\nChunck Overlap: the maximum overlap between chunks. It can be nice to have some overlap to maintain some continuity between chunks (e.g. do a sliding window) <br>\n## Output \nCharater Text Splitter: the split chunks of text\n```\n\n----------------------------------------\n\nTITLE: Implementing Calculator Node Base Class in TypeScript\nDESCRIPTION: Defines the base Calculator node class implementing INode interface with required properties like label, name, version, and other metadata for Flowise integration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/contributing/building-node.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport { INode } from '../../../src/Interface'\nimport { getBaseClasses } from '../../../src/utils'\n\nclass Calculator_Tools implements INode {\n    label: string\n    name: string\n    version: number\n    description: string\n    type: string\n    icon: string\n    category: string\n    author: string\n    baseClasses: string[]\n\n    constructor() {\n        this.label = 'Calculator'\n        this.name = 'calculator'\n        this.version = 1.0\n        this.type = 'Calculator'\n        this.icon = 'calculator.svg'\n        this.category = 'Tools'\n        this.author = 'Your Name'\n        this.description = 'Perform calculations on response'\n        this.baseClasses = [this.type, ...getBaseClasses(Calculator)]\n    }\n}\n\nmodule.exports = { nodeClass: Calculator_Tools }\n```\n\n----------------------------------------\n\nTITLE: Installing Flowise via NPM\nDESCRIPTION: Commands to install Flowise globally using npm. Also includes an option to install a specific version by referencing the version number.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g flowise\n```\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g flowise@x.x.x\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Tool API Call in Flowise\nDESCRIPTION: JavaScript function for a custom tool that calls the Prediction API of a Chain of Thought chatflow. The function makes a POST request to a specified chatflow endpoint and returns the response text. Requires node-fetch for HTTP requests.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/calling-children-flows.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst url = 'http://localhost:3000/api/v1/prediction/<chatflow-id>'; // replace with specific chatflow id\n\nconst body = {\n\t\"question\": $input\n};\n\nconst options = {\n\tmethod: 'POST',\n\theaders: {\n\t\t'Content-Type': 'application/json'\n\t},\n\tbody: JSON.stringify(body)\n};\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst resp = await response.json();\n\treturn resp.text;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Using JSON Body for Document Loaders in JavaScript\nDESCRIPTION: This snippet shows how to use a JSON body for document loaders without file upload functionality in the Document Store API using JavaScript.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"docId\": <docId>\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: File Upload for Document Loaders via Flowise Python API\nDESCRIPTION: This code snippet shows how to use the Flowise Python API for uploading files to document loaders. It demonstrates the use of form data to send files and additional parameters.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/vector/upsert/<chatflowId>\"\n\n# use form data to upload files\nform_data = {\n    \"files\": ('state_of_the_union.txt', open('state_of_the_union.txt', 'rb'))\n}\n\nbody_data = {\n    \"returnSourceDocuments\": True\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Generating Answers from Context in Question-Answering Systems\nDESCRIPTION: This prompt template is used to generate an answer based on provided context information. It takes the context and query as inputs, and produces an answer based solely on the given context without using prior knowledge.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/response-synthesizer/compact-and-refine.md#2025-04-18_snippet_1\n\nLANGUAGE: markup\nCODE:\n```\nContext information is below.\n---------------------\n{context}\n---------------------\nGiven the context information and not prior knowledge, answer the query.\nQuery: {query}\nAnswer:\n```\n\n----------------------------------------\n\nTITLE: Custom Retriever Template Format\nDESCRIPTION: Template syntax for customizing how context and metadata are formatted before being sent to the LLM, using handlebars-style variables.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/retrievers/custom-retriever.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n{{context}}\nSource: {{metadata.source}}\n```\n\n----------------------------------------\n\nTITLE: Vector Upsert for Document Loaders via Flowise JavaScript API\nDESCRIPTION: This snippet shows how to use the Flowise JavaScript API for vector upsert operations with document loaders that don't require file uploads. It demonstrates the payload structure for sending configuration options.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/vector/upsert/<chatflowId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"overrideConfig\": { // optional\n        \"returnSourceDocuments\": true\n    }\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring MySQL Database in Flowise\nDESCRIPTION: Environment variables configuration for MySQL database connection including host, port, database name, and credentials.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nDATABASE_TYPE=mysql\nDATABASE_PORT=3306\nDATABASE_HOST=localhost\nDATABASE_NAME=flowise\nDATABASE_USER=user\nDATABASE_PASSWORD=123\n```\n\n----------------------------------------\n\nTITLE: Uploading Images via Flowise Python API\nDESCRIPTION: This snippet demonstrates how to upload images using the Flowise Python API. It includes the payload structure for sending image data as base64 or URL, along with metadata such as file name and MIME type.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"question\": \"Can you describe the image?\",\n    \"uploads\": [\n        {\n            \"data\": 'data:image/png;base64,iVBORw0KGgdM2uN0', # base64 string or url\n            \"type\": 'file', # file | url\n            \"name\": 'Flowise.png',\n            \"mime\": 'image/png'\n        }\n    ]\n})\n```\n\n----------------------------------------\n\nTITLE: Creating New Document Store for Every Upsert in JavaScript\nDESCRIPTION: This JavaScript code shows how to create a new document store for every upsert operation. It includes the 'createNewDocStore' parameter set to true and a 'docStore' object in the FormData.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nconst DOC_STORE_ID = \"your_doc_store_id\";\nconst DOC_LOADER_ID = \"your_doc_loader_id\";\n\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"docId\", DOC_LOADER_ID);\nformData.append(\"createNewDocStore\", true);\nformData.append(\"docStore\", JSON.stringify({ \"name\": \"My NEW Doc Store\" }));\n\nasync function query(formData) {\n    const response = await fetch(\n        `http://localhost:3000/api/v1/document-store/upsert/${DOC_STORE_ID}`,\n        {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": \"Bearer <your_api_key_here>\"\n            },\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Making Predictions with Uploads in JavaScript\nDESCRIPTION: Shows how to use the Prediction API with file uploads in JavaScript. Handles base64 encoded file data and chat session management.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowid>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"What is the speech about?\",\n    \"chatId\": \"same-session-id-from-step-1\",\n    \"uploads\": [\n        {\n            \"data\": \"data:text/plain;base64,TWFkYWwcy4=\",\n            \"type\": \"file:rag\",\n            \"name\": \"state_of_the_union.txt\",\n            \"mime\": \"text/plain\"\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: NGINX Reverse Proxy Configuration for Flowise\nDESCRIPTION: NGINX server block configuration that sets up a reverse proxy to direct traffic from port 80 to the Flowise application running on port 3000.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_25\n\nLANGUAGE: shell\nCODE:\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name yourdomain.com; #Example: demo.flowiseai.com\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_cache_bypass $http_upgrade;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Add Airtable Record Tool in JavaScript\nDESCRIPTION: JavaScript function to add a new record to Airtable using their Create Record API. This tool takes stock information, price movement, and news summary as inputs.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst baseId = 'your-base-id';\nconst tableId = 'your-table-id';\nconst token = 'your-token';\n\nconst body = {\n\t\"records\": [\n\t\t{\n\t\t\t\"fields\": {\n\t\t\t\t\"stock\": $stock,\n\t\t\t\t\"move\": $move,\n\t\t\t\t\"news_summary\": $news_summary,\n\t\t\t}\n\t\t}\n\t]\n};\n\nconst options = {\n\tmethod: 'POST',\n\theaders: {\n\t\t'Authorization': `Bearer ${token}`,\n\t\t'Content-Type': 'application/json'\n\t},\n\tbody: JSON.stringify(body)\n};\n\nconst url = `https://api.airtable.com/v0/${baseId}/${tableId}`\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst text = await response.text();\n\treturn text;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Uploading Images via API in JavaScript\nDESCRIPTION: This code snippet shows how to upload images to a Flowise chatbot API endpoint using JavaScript. It sends the image data as a base64 string or URL in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowid>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"Can you describe the image?\",\n    \"uploads\": [\n        {\n            \"data\": \"data:image/png;base64,iVBORw0KGgdM2uN0\", //base64 string or url\n            \"type\": \"file\", // file | url\n            \"name\": \"Flowise.png\",\n            \"mime\": \"image/png\"\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Updating and Rebuilding Flowise with Docker Compose\nDESCRIPTION: Commands to pull the latest Docker images and rebuild the containers with the updated images in detached mode.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_20\n\nLANGUAGE: bash\nCODE:\n```\ndocker-compose pull\ndocker-compose up --build -d\n```\n\n----------------------------------------\n\nTITLE: Implementing Get Stock News Tool in JavaScript\nDESCRIPTION: JavaScript function to fetch stock news using the Morning Star API. This tool retrieves the latest news for a specific stock based on its performanceId.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst url = 'https://morning-star.p.rapidapi.com/news/list?performanceId=' + $performanceId;\nconst options = {\n\tmethod: 'GET',\n\theaders: {\n\t\t'X-RapidAPI-Key': 'replace with your api key',\n\t\t'X-RapidAPI-Host': 'morning-star.p.rapidapi.com'\n\t}\n};\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst result = await response.text();\n\tconsole.log(result);\n\treturn result;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Webhook Request Handler - JavaScript\nDESCRIPTION: JavaScript function for handling webhook requests in FlowiseAI custom tool. Uses node-fetch to send POST requests to a Make.com webhook endpoint with message payload.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/webhook-tool.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst webhookUrl = 'https://hook.eu1.make.com/abcdef';\nconst body = {\n    \"message\": $message\n};\nconst options = {\n    method: 'POST',\n    headers: {\n        'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n};\ntry {\n    const response = await fetch(webhookUrl, options);\n    const text = await response.text();\n    return text;\n} catch (error) {\n    console.error(error);\n    return '';\n}\n```\n\n----------------------------------------\n\nTITLE: File Upload for Document Loaders via Flowise JavaScript API\nDESCRIPTION: This snippet demonstrates how to use the Flowise JavaScript API for uploading files to document loaders. It shows the use of FormData to send files and additional parameters.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n// use FormData to upload files\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"returnSourceDocuments\", true);\n\nasync function query(formData) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/vector/upsert/<chatflowId>\",\n        {\n            method: \"POST\",\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Defining Custom State Using JavaScript in Flowise\nDESCRIPTION: This snippet demonstrates how to define a custom state object using JavaScript in Flowise. It shows an example of appending new values to an existing array in the state.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n{\n    aggregate: {\n        value: (x, y) => x.concat(y), // here we append the new message to the existing messages\n        default: () => []\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Refresh API in JavaScript\nDESCRIPTION: This snippet shows how to use the Refresh API to re-process all document loaders within a document store using JavaScript.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/document-store/refresh/<storeId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery().then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Uploading Files using FormData in JavaScript\nDESCRIPTION: Shows how to upload files using FormData in JavaScript with the Fetch API. Includes handling of file input and chat session ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"chatId\", \"some-session-id\");\n\nasync function query(formData) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/vector/upsert/<chatflowid>\",\n        {\n            method: \"POST\",\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables for Flowise Azure Web App\nDESCRIPTION: This snippet defines the environment variables for the Flowise application running in an Azure Web App. It includes database connection details, Flowise credentials, and other configuration settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_8\n\nLANGUAGE: hcl\nCODE:\n```\nDATABASE_PASSWORD                   = azurerm_postgresql_flexible_server.postgres.administrator_password\nDATABASE_PORT                       = 5432\nFLOWISE_USERNAME                    = var.flowise_username\nFLOWISE_PASSWORD                    = var.flowise_password\nFLOWISE_SECRETKEY_OVERWRITE         = var.flowise_secretkey_overwrite\nPORT                                = 3000\nSECRETKEY_PATH                      = \"/root\"\nDOCKER_IMAGE_TAG                    = var.tagged_image\n```\n\n----------------------------------------\n\nTITLE: Launching Flowise Docker Container with Database Configuration\nDESCRIPTION: Command to run a Flowise Docker container with PostgreSQL database configuration. This example shows how to set multiple environment variables for database connections.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -d -p 5678:5678 flowise \\\n -e DATABASE_TYPE=postgresdb \\\n -e DATABASE_PORT=<POSTGRES_PORT> \\\n -e DATABASE_HOST=<POSTGRES_HOST> \\\n -e DATABASE_NAME=<POSTGRES_DATABASE_NAME> \\\n -e DATABASE_USER=<POSTGRES_USER> \\\n -e DATABASE_PASSWORD=<POSTGRES_PASSWORD> \\\n```\n\n----------------------------------------\n\nTITLE: Configuring LiteLLM Models in YAML\nDESCRIPTION: YAML configuration file defining multiple LLM models for LiteLLM proxy, including Azure OpenAI endpoints with different model versions and API bases.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/litellm/README.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmodel_list:\n  - model_name: gpt-4\n    litellm_params:\n      model: azure/chatgpt-v-2\n      api_base: https://openai-gpt-4-test-v-1.openai.azure.com/\n      api_version: \"2023-05-15\"\n      api_key: \n  - model_name: gpt-4\n    litellm_params:\n      model: azure/gpt-4\n      api_key: \n      api_base: https://openai-gpt-4-test-v-2.openai.azure.com/\n  - model_name: gpt-4\n    litellm_params:\n      model: azure/gpt-4\n      api_key: \n      api_base: https://openai-gpt-4-test-v-2.openai.azure.com/\n```\n\n----------------------------------------\n\nTITLE: Defining System Message for Tool Agent in Markdown\nDESCRIPTION: A system message used to instruct the Tool Agent on how to behave and use the provided tools for financial analysis. It sets guidelines for answering questions and using the available SEC documents.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/multiple-documents-qna.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\nYou are an expert financial analyst that always answers questions with the most relevant information using the tools at your disposal.\nThese tools have information regarding companies that the user has expressed interest in.\nHere are some guidelines that you must follow:\n* For financial questions, you must use the tools to find the answer and then write a response.\n* Even if it seems like your tools won't be able to answer the question, you must still use them to find the most relevant information and insights. Not using them will appear as if you are not doing your job.\n* You may assume that the users financial questions are related to the documents they've selected.\n* For any user message that isn't related to financial analysis, respectfully decline to respond and suggest that the user ask a relevant question.\n* If your tools are unable to find an answer, you should say that you haven't found an answer but still relay any useful information the tools found.\n* Dont ask clarifying questions, just return answer.\n\nThe tools at your disposal have access to the following SEC documents that the user has selected to discuss with you:\n- Apple Inc (APPL) FORM 10K 2022\n- Tesla Inc (TSLA) FORM 10K 2022\n\nThe current date is: 2024-01-28\n```\n\n----------------------------------------\n\nTITLE: Updating Flowise on Digital Ocean\nDESCRIPTION: Commands for updating the Flowise application to the latest version on Digital Ocean.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/digital-ocean.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise/docker\nsudo docker compose stop\nsudo docker compose rm\ndocker pull flowiseai/flowise\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Vector Upsert API Call in Python\nDESCRIPTION: This code snippet demonstrates how to use the Vector Upsert API in Python to upload files for RAG. It uses formData to send the file and includes a chatId parameter.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/vector/upsert/<chatflowid>\"\n```\n\n----------------------------------------\n\nTITLE: Creating New Document Store for Every Upsert in Python\nDESCRIPTION: This Python code demonstrates how to create a new document store for every upsert operation. It includes the 'createNewDocStore' parameter set to True and a 'docStore' object in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_6\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nDOC_STORE_ID = \"your_doc_store_id\"\nDOC_LOADER_ID = \"your_doc_loader_id\"\nAPI_URL = f\"http://localhost:3000/api/v1/document-store/upsert/{DOC_STORE_ID}\"\nAPI_KEY = \"your_api_key_here\"\n\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\nbody_data = {\n    \"docId\": DOC_LOADER_ID,\n    \"createNewDocStore\": True,\n    \"docStore\": json.dumps({\"name\":\"My NEW Doc Store\"})\n}\n\nheaders = {\n    \"Authorization\": f\"Bearer {BEARER_TOKEN}\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data, headers=headers)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Uploading Images via API in Python\nDESCRIPTION: This code snippet demonstrates how to upload images to a Flowise chatbot API endpoint using Python. It includes the image data as a base64 string or URL in the payload.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowid>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"question\": \"Can you describe the image?\",\n    \"uploads\": [\n        {\n            \"data\": \"data:image/png;base64,iVBORw0KGgdM2uN0\", # base64 string or url\n            \"type\": \"file\", # file | url\n            \"name\": \"Flowise.png\",\n            \"mime\": \"image/png\"\n        }\n    ]\n})\n```\n\n----------------------------------------\n\nTITLE: Creating New Document Loader from Scratch in JavaScript\nDESCRIPTION: This JavaScript code shows how to create a new document loader from scratch. It includes configurations for loader, splitter, embedding, and vector store in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nconst DOC_STORE_ID = \"your_doc_store_id\";\nconst API_URL = `http://localhost:3000/api/v1/document-store/upsert/${DOC_STORE_ID}`;\nconst API_KEY = \"your_api_key_here\";\n\nconst formData = new FormData();\nformData.append(\"files\", new Blob([await (await fetch('my-another-file.pdf')).blob()]), \"my-another-file.pdf\");\n\nconst loader = {\n    name: \"pdfFile\",\n    config: {} // You can leave empty to use the default config\n};\n\nconst splitter = {\n    name: \"recursiveCharacterTextSplitter\",\n    config: {\n        chunkSize: 1400,\n        chunkOverlap: 100\n    }\n};\n\nconst embedding = {\n    name: \"openAIEmbeddings\",\n    config: {\n        modelName: \"text-embedding-ada-002\",\n        credential: \"your_credential_id\"\n    }\n};\n\nconst vectorStore = {\n    name: \"pinecone\",\n    config: {\n        pineconeIndex: \"exampleindex\",\n        pineconeNamespace: \"examplenamespace\",\n        credential: \"your_credential_id\"\n    }\n};\n\nconst bodyData = {\n    docId: \"DOC_LOADER_ID\",\n    loader: JSON.stringify(loader),\n    splitter: JSON.stringify(splitter),\n    embedding: JSON.stringify(embedding),\n    vectorStore: JSON.stringify(vectorStore)\n};\n\nconst headers = {\n    \"Authorization\": `Bearer BEARER_TOKEN`\n};\n\nasync function query() {\n    try {\n        const response = await fetch(API_URL, {\n            method: \"POST\",\n            headers: headers,\n            body: formData\n        });\n\n        const result = await response.json();\n        console.log(result);\n        return result;\n    } catch (error) {\n        console.error(\"Error:\", error);\n    }\n}\n\nquery();\n```\n\n----------------------------------------\n\nTITLE: Updating Custom State Object in LLM Node\nDESCRIPTION: Demonstrates the usage of the Update State parameter in the LLM Node to modify the custom State object shared within the workflow.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n```\nUpdate State\n```\n```\n\n----------------------------------------\n\nTITLE: Refining Answers with Context in Question-Answering Systems\nDESCRIPTION: This prompt template is used to refine an existing answer based on new context. It takes the original query, existing answer, and new context as inputs, and produces a refined answer if the new context is relevant.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/response-synthesizer/compact-and-refine.md#2025-04-18_snippet_0\n\nLANGUAGE: markup\nCODE:\n```\nThe original query is as follows: {query}\nWe have provided an existing answer: {existingAnswer}\nWe have the opportunity to refine the existing answer (only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the query. If the context isn't useful, return the original answer.\nRefined Answer:\n```\n\n----------------------------------------\n\nTITLE: Initializing Flowise Chat Widget with Custom CSS in HTML\nDESCRIPTION: This snippet demonstrates how to initialize the Flowise chat widget with custom CSS styling. It includes the script tag to load the widget and a JavaScript code block to configure the widget with custom CSS.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<script src=\"https://cdn.jsdelivr.net/gh/FlowiseAI/FlowiseChatEmbed@main/dist/web.js\"></script>\n<script>\n  Chatbot.init({\n    chatflowid: \"your-chatflowid-here\",\n    apiHost: \"your-apihost-here\",\n    theme: {\n      // ... other theme settings\n      customCSS: `\n        /* Your custom CSS here */\n        /* Use !important to override default styles */\n      `,\n    }\n  });\n</script>\n```\n\n----------------------------------------\n\nTITLE: Configuring Docker Compose for Postgres Vector Database\nDESCRIPTION: Docker compose configuration to set up a Postgres database with pgvector extension. Includes environment variables for database name, user credentials, and port mapping for local access.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/postgres.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# Run this command to start the database:\n# docker-compose up --build\nversion: \"3\"\nservices:\n  db:\n    hostname: 127.0.0.1\n    image: pgvector/pgvector:pg16\n    ports:\n      - 5432:5432\n    restart: always\n    environment:\n      - POSTGRES_DB=api\n      - POSTGRES_USER=myuser\n      - POSTGRES_PASSWORD=ChangeMe\n    volumes:\n      - ./init.sql:/docker-entrypoint-initdb.d/init.sql\n```\n\n----------------------------------------\n\nTITLE: Accessing Flow Configurations in Custom Tool Function\nDESCRIPTION: Demonstrates the default flow configurations available in a custom tool function, including session ID, chat ID, chatflow ID, and input.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n$flow.sessionId \n$flow.chatId\n$flow.chatflowId\n$flow.input\n}\n```\n\n----------------------------------------\n\nTITLE: Creating New Document Loader from Scratch in Python\nDESCRIPTION: This Python code demonstrates how to create a new document loader from scratch. It includes configurations for loader, splitter, embedding, and vector store in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nDOC_STORE_ID = \"your_doc_store_id\"\nAPI_URL = f\"http://localhost:3000/api/v1/document-store/upsert/{DOC_STORE_ID}\"\nAPI_KEY = \"your_api_key_here\"\n\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\nloader = {\n    \"name\": \"pdfFile\",\n    \"config\": {} # you can leave empty to use default config\n}\n\nsplitter = {\n    \"name\": \"recursiveCharacterTextSplitter\",\n    \"config\": {\n        \"chunkSize\": 1400,\n        \"chunkOverlap\": 100\n    }\n}\n\nembedding = {\n    \"name\": \"openAIEmbeddings\",\n    \"config\": {\n        \"modelName\": \"text-embedding-ada-002\",\n        \"credential\": <your_credential_id>\n    }\n}\n\nvectorStore = {\n    \"name\": \"pinecone\",\n    \"config\": {\n        \"pineconeIndex\": \"exampleindex\",\n        \"pineconeNamespace\": \"examplenamespace\",\n        \"credential\":  <your_credential_i\n    }\n}\n\nbody_data = {\n    \"docId\": DOC_LOADER_ID,\n    \"loader\": json.dumps(loader),\n    \"splitter\": json.dumps(splitter),\n    \"embedding\": json.dumps(embedding),\n    \"vectorStore\": json.dumps(vectorStore)\n}\n\nheaders = {\n    \"Authorization\": f\"Bearer {BEARER_TOKEN}\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data, headers=headers)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Crafting a Detailed System Prompt for Travel Booking Agent in Markdown\nDESCRIPTION: This code snippet demonstrates how to create a clear and context-aware system prompt for a travel booking agent. It provides specific instructions and context to guide the agent in assisting users with trip planning and booking.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n```\nYou are a travel booking agent. Your primary goal is to assist users in planning and booking their trips. \n- Guide them through searching for flights, finding accommodations, and exploring destinations.\n- Be polite, patient, and offer travel recommendations based on their preferences.\n- Utilize available tools to access flight data, hotel availability, and destination information.\n```\n```\n\n----------------------------------------\n\nTITLE: Cloning and Building Flowise Repository\nDESCRIPTION: Commands to clone the Flowise repository from GitHub and build the project using pnpm.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\n```\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise\npnpm install\npnpm build\n```\n\n----------------------------------------\n\nTITLE: Speech-to-Text via Flowise JavaScript API\nDESCRIPTION: This snippet illustrates how to use the Flowise JavaScript API for speech-to-text functionality. It demonstrates the payload structure for sending audio data as base64, along with metadata such as file name and MIME type.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"uploads\": [\n        {\n            \"data\": 'data:audio/webm;codecs=opus;base64,GkXf', //base64 string\n            \"type\": 'audio',\n            \"name\": 'audio.wav',\n            \"mime\": 'audio/webm'\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: PostgreSQL Database Backup Commands\nDESCRIPTION: Commands for backing up and restoring PostgreSQL database using pg_dump and psql.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npg_dump -U USERNAME -h HOST -p PORT -d DATABASE_NAME -f /PATH/TO/BACKUP_FILE_NAME.sql\npsql -U USERNAME -h HOST -p PORT -d TEST_DATABASE_NAME -f /PATH/TO/BACKUP_FILE_NAME.sql\n```\n\n----------------------------------------\n\nTITLE: Configuring Docker Compose for Flowise Worker\nDESCRIPTION: Docker Compose configuration for running a Flowise worker, including environment variables and volume mapping.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/running-flowise-using-queue.md#2025-04-18_snippet_1\n\nLANGUAGE: docker\nCODE:\n```\nversion: '3.1'\n\nservices:\n    flowise:\n        image: flowiseai/flowise\n        restart: always\n        environment:\n            - PORT=${PORT}\n            ....\n            - MODE=${MODE}\n            - WORKER_CONCURRENCY=${WORKER_CONCURRENCY}\n            ....\n        ports:\n            - '${PORT}:${PORT}'\n        volumes:\n            - ~/.flowise:/root/.flowise\n        entrypoint: /bin/sh -c \"sleep 3; flowise worker\"\n```\n\n----------------------------------------\n\nTITLE: Uploading File and Overriding PDF Loader Configuration in JavaScript\nDESCRIPTION: This snippet shows how to upload a PDF file and override the configuration of a PDF File Loader using the Document Store API in JavaScript. It demonstrates changing the 'usage' parameter of the loader.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nconst DOC_STORE_ID = \"your_doc_store_id\";\nconst DOC_LOADER_ID = \"your_doc_loader_id\";\n\nconst overrideLoaderConfig = {\n    \"config\": {\n        \"usage\": \"perPage\"\n    }\n}\n\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"docId\", DOC_LOADER_ID);\nformData.append(\"loader\", JSON.stringify(overrideLoaderConfig));\n\nasync function query(formData) {\n    const response = await fetch(\n        `http://localhost:3000/api/v1/document-store/upsert/${DOC_STORE_ID}`,\n        {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": \"Bearer <your_api_key_here>\"\n            },\n            body: formData\n        }\n    )\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Upserting Documents with Existing Loader in Python\nDESCRIPTION: This code snippet demonstrates how to upsert documents using an existing document loader configuration in Python. It sends a POST request to the Flowise API with the necessary parameters and files.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nDOC_STORE_ID = \"your_doc_store_id\"\nDOC_LOADER_ID = \"your_doc_loader_id\"\nAPI_URL = f\"http://localhost:3000/api/v1/document-store/upsert/{DOC_STORE_ID}\"\nAPI_KEY = \"your_api_key_here\"\n\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\nbody_data = {\n    \"docId\": DOC_LOADER_ID\n}\n\nheaders = {\n    \"Authorization\": f\"Bearer {BEARER_TOKEN}\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data, headers=headers)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Accessing State Messages Array in LLM Node\nDESCRIPTION: Shows how to access the state.messages array in the LLM Node, which contains the conversation history and user input.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n```\nstate.messages\n```\n```\n\n----------------------------------------\n\nTITLE: Deploying Container Instance without Persistent Storage\nDESCRIPTION: Azure CLI command to create a container instance running Flowise without persistent storage\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\naz container create -g flowise-rg \\\n\t--name flowise \\\n\t--image flowiseai/flowise \\\n\t--command-line \"/bin/sh -c 'flowise start'\" \\\n\t--environment-variables FLOWISE_USERNAME=flowise-user FLOWISE_PASSWORD=flowise-password \\\n\t--ip-address public \\\n\t--ports 80 3000 \\\n\t--restart-policy OnFailure\n```\n\n----------------------------------------\n\nTITLE: Upserting Documents with Existing Loader in JavaScript\nDESCRIPTION: This code snippet shows how to upsert documents using an existing document loader configuration in JavaScript. It uses the Fetch API to send a POST request to the Flowise API with the required data.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst DOC_STORE_ID = \"your_doc_store_id\"\nconst DOC_LOADER_ID = \"your_doc_loader_id\"\n\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"docId\", DOC_LOADER_ID)\n\nasync function query(formData) {\n    const response = await fetch(\n        `http://localhost:3000/api/v1/document-store/upsert/${DOC_STORE_ID}`,\n        {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": \"Bearer <your_api_key_here>\"\n            },\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: MySQL and MariaDB Backup Commands\nDESCRIPTION: Commands for backing up and restoring MySQL and MariaDB databases using mysqldump and mysql.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nmysqldump -u USERNAME -p DATABASE_NAME > BACKUP_FILE_NAME.sql\nmysql -u USERNAME -p TEST_DATABASE_NAME < BACKUP_FILE_NAME.sql\n```\n\n----------------------------------------\n\nTITLE: Implementing Get Stock Movers Tool in JavaScript\nDESCRIPTION: JavaScript function to fetch stock movers data using the Morning Star API. This tool retrieves stocks with significant price/volume movements.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst url = 'https://morning-star.p.rapidapi.com/market/v2/get-movers';\nconst options = {\n\tmethod: 'GET',\n\theaders: {\n\t\t'X-RapidAPI-Key': 'replace with your api key',\n\t\t'X-RapidAPI-Host': 'morning-star.p.rapidapi.com'\n\t}\n};\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst result = await response.text();\n\tconsole.log(result);\n\treturn result;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Overriding Variables via API Request JSON\nDESCRIPTION: Example JSON structure for overriding variable values through the API. Shows how to provide new values for existing variables using the overrideConfig property.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/variables.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"question\": \"hello\",\n    \"overrideConfig\": {\n        \"vars\": {\n            \"var\": \"some-override-value\"\n        }\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Overriding Custom Tool Parameters in Javascript API\nDESCRIPTION: Shows how to override custom tool parameters when making an API call to Flowise, including tool name, description, schema, and function.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflow-id>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"Hey, how are you?\",\n    \"overrideConfig\": {\n        \"customToolName\": \"example_tool\",\n        \"customToolSchema\": \"z.object({title: z.string()})\"\n    }\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise with Authentication Credentials\nDESCRIPTION: Command to start Flowise with specific username and password credentials for access control.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise start --FLOWISE_USERNAME=user --FLOWISE_PASSWORD=1234\n```\n\n----------------------------------------\n\nTITLE: Running Flowise with Environment Variables via NPM\nDESCRIPTION: Example of how to start Flowise using npx with environment variables for PORT and DEBUG settings. This approach is useful for development and testing environments.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise start --PORT=3000 --DEBUG=true\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Chat Widget with Advanced Options in JavaScript\nDESCRIPTION: This code snippet shows how to initialize the Flowise chat widget with advanced configuration options. It includes customization for the chat flow, theme, button appearance, chat window, and text input settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/embed.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nChatbot.init({\n    chatflowid: \"your-chatflowid-here\",\n    apiHost: \"http://localhost:3000\",\n    chatflowConfig: {\n        // Sobrescribe la configuración del flujo de chat\n        systemMessagePrompt: \"You are a helpful AI assistant\",\n        temperature: 0,\n        // ... otras configuraciones\n    },\n    theme: {\n        button: {\n            backgroundColor: \"#3B81F6\",\n            right: 20,\n            bottom: 20,\n            size: \"medium\",\n            iconColor: \"white\",\n            customIconSrc: \"https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg\",\n            // Opciones de tamaño: \"small\" | \"medium\" | \"large\"\n        },\n        chatWindow: {\n            welcomeMessage: \"¡Hola! ¿En qué puedo ayudarte?\",\n            backgroundColor: \"#ffffff\",\n            height: 700,\n            width: 400,\n            fontSize: 16,\n            poweredByTextColor: \"#303235\",\n            botMessage: {\n                backgroundColor: \"#f7f8ff\",\n                textColor: \"#303235\",\n                showAvatar: true,\n                avatarSrc: \"https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png\",\n            },\n            userMessage: {\n                backgroundColor: \"#3B81F6\",\n                textColor: \"#ffffff\",\n                showAvatar: true,\n                avatarSrc: \"https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png\",\n            },\n            textInput: {\n                placeholder: \"Escribe tu pregunta\",\n                backgroundColor: \"#ffffff\",\n                textColor: \"#303235\",\n                sendButtonColor: \"#3B81F6\",\n                maxChars: 50,\n                maxCharsWarningMessage: \"Has excedido el límite de caracteres. Por favor, ingresa menos de 50 caracteres.\",\n                autoFocus: true, // Si no se usa, el autofocus está deshabilitado en móvil y habilitado en escritorio. true lo habilita en ambos, false lo deshabilita en ambos.\n                sendMessageSound: true,\n                // sendSoundLocation: \"send_message.mp3\", // Si no se usa, se reproducirá el efecto de sonido por defecto si sendSoundMessage es true.\n                receiveMessageSound: true,\n            }\n        }\n    }\n})\n```\n\n----------------------------------------\n\nTITLE: Uploading File Using Form Data in Python\nDESCRIPTION: This snippet demonstrates how to upload a file using Form Data with the Document Store API in Python. It's specifically for document loaders that have file upload functionality.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_12\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\"\n\n# use form data to upload files\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\nbody_data = {\n    \"docId\": <docId>\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise Main Server with Git Clone\nDESCRIPTION: Command to start the Flowise main server after cloning the repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/running-flowise-using-queue.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npnpm start\n```\n\n----------------------------------------\n\nTITLE: Speech-to-Text via Flowise Python API\nDESCRIPTION: This code snippet demonstrates how to use the Flowise Python API for speech-to-text functionality. It shows the payload structure for sending audio data as base64, along with metadata such as file name and MIME type.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/api.md#2025-04-18_snippet_6\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"uploads\": [\n        {\n            \"data\": 'data:audio/webm;codecs=opus;base64,GkXf', #base64 string\n            \"type\": 'audio',\n            \"name\": 'audio.wav',\n            \"mime\": 'audio/webm'\n        }\n    ]\n})\n```\n\n----------------------------------------\n\nTITLE: Uploading Files using Form Data in Python\nDESCRIPTION: Demonstrates how to upload files using form data in Python with the requests library. The code handles file upload with a chat session ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nform_data = {\n    \"files\": (\"state_of_the_union.txt\", open(\"state_of_the_union.txt\", \"rb\"))\n}\n\nbody_data = {\n    \"chatId\": \"some-session-id\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Deploying Flowise Enterprise Edition\nDESCRIPTION: Commands to deploy the enterprise version of Flowise using Docker Compose, requiring enterprise-specific environment variables to be set prior to startup.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\ncd docker\ncd enterprise\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Configuring OpenTelemetry Environment Variables in Flowise\nDESCRIPTION: Environment variables needed to set up OpenTelemetry metrics monitoring in Flowise. Includes endpoint configuration, protocol selection, and debug options.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/monitoring.md#2025-04-18_snippet_1\n\nLANGUAGE: properties\nCODE:\n```\nENABLE_METRICS=true\nMETRICS_PROVIDER=open_telemetry\nMETRICS_INCLUDE_NODE_METRICS=true\nMETRICS_OPEN_TELEMETRY_METRIC_ENDPOINT=http://localhost:4318/v1/metrics\nMETRICS_OPEN_TELEMETRY_PROTOCOL=http # http | grpc | proto (default is http)\nMETRICS_OPEN_TELEMETRY_DEBUG=true\n```\n\n----------------------------------------\n\nTITLE: Creating Supabase Vector Store with Text ID\nDESCRIPTION: Modified SQL setup for Record Manager compatibility using text IDs instead of bigserial. Includes the same vector store functionality but allows for UUID storage.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/supabase.md#2025-04-18_snippet_1\n\nLANGUAGE: sql\nCODE:\n```\n-- Enable the pgvector extension to work with embedding vectors\ncreate extension vector;\n\n-- Create a table to store your documents\ncreate table documents (\n  id text primary key, -- CHANGE TO TEXT\n  content text,\n  metadata jsonb,\n  embedding vector(1536)\n);\n\n-- Create a function to search for documents\ncreate function match_documents (\n  query_embedding vector(1536),\n  match_count int DEFAULT null,\n  filter jsonb DEFAULT '{}'\n) returns table (\n  id text, -- CHANGE TO TEXT\n  content text,\n  metadata jsonb,\n  similarity float\n)\nlanguage plpgsql\nas $$\n#variable_conflict use_column\nbegin\n  return query\n  select\n    id,\n    content,\n    metadata,\n    1 - (documents.embedding <=> query_embedding) as similarity\n  from documents\n  where metadata @> filter\n  order by documents.embedding <=> query_embedding\n  limit match_count;\nend;\n$$;\n```\n\n----------------------------------------\n\nTITLE: Creating Kubernetes Deployment Configuration for Flowise\nDESCRIPTION: YAML configuration for deploying Flowise on a Kubernetes cluster in GCP, specifying container image and resource requirements.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n# deployment.yaml\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: flowise\n  labels:\n    app: flowise\nspec:\n  selector:\n    matchLabels:\n      app: flowise\n  replicas: 1\n  template:\n    metadata:\n      labels:\n        app: flowise\n    spec:\n      containers:\n      - name: flowise\n        image: gcr.io/[ProjectID]/flowise:dev\n        imagePullPolicy: Always\n        resources: \n          requests:\n            cpu: \"1\"\n            memory: \"1Gi\"\n```\n\n----------------------------------------\n\nTITLE: Uploading File Using Form Data in JavaScript\nDESCRIPTION: This snippet shows how to upload a file using Form Data with the Document Store API in JavaScript. It's specifically for document loaders that have file upload functionality.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n// use FormData to upload files\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"docId\", <docId>);\n\nasync function query(formData) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\",\n        {\n            method: \"POST\",\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Deploying Flowise using AWS CloudFormation CLI\nDESCRIPTION: Command to create a CloudFormation stack for Flowise deployment using the AWS CLI, which will set up an ECS cluster exposed through ELB.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\naws cloudformation create-stack --stack-name flowise --template-body file://flowise-cloudformation.yml --capabilities CAPABILITY_IAM\n```\n\n----------------------------------------\n\nTITLE: Making Predictions with Uploads in Python\nDESCRIPTION: Demonstrates how to use the Prediction API with file uploads in Python. Includes handling of base64 encoded file data and chat session management.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowid>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"question\": \"What is the speech about?\",\n    \"chatId\": \"same-session-id-from-step-1\",\n    \"uploads\": [\n        {\n            \"data\": \"data:text/plain;base64,TWFkYWwcy4=\",\n            \"type\": \"file:rag\",\n            \"name\": \"state_of_the_union.txt\",\n            \"mime\": \"text/plain\"\n        }\n    ]\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring Analytics Provider via Prediction API\nDESCRIPTION: Example of how to override or provide additional analytics configuration when making a prediction API call. Shows how to specify user ID for analytics tracking.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/analytics/README.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"question\": \"hi there\",\n  \"overrideConfig\": {\n    \"analytics\": {\n      \"langFuse\": {\n        // langSmith, langFuse, lunary, langWatch, opik\n        \"userId\": \"user1\"\n      }\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Testing Discord Webhook Request - JSON\nDESCRIPTION: Sample JSON payload for testing webhook integration with Discord channel via Make.com\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/webhook-tool.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"message\": \"Hello Discord!\"\n}\n```\n\n----------------------------------------\n\nTITLE: Overriding Configuration with Refresh API in Python\nDESCRIPTION: This snippet demonstrates how to override the existing configuration of a specific document loader using the Refresh API in Python.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_18\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/refresh/<storeId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n\noutput = query(\n{\n    \"items\": [\n        {\n            \"docId\": <docId>,\n            \"splitter\": {\n                \"name\": \"recursiveCharacterTextSplitter\",\n                \"config\": {\n                    \"chunkSize\": 2000,\n                    \"chunkOverlap\": 100\n                }\n            }\n        }\n    ]\n}\n)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Overriding Configuration with Refresh API in JavaScript\nDESCRIPTION: This snippet shows how to override the existing configuration of a specific document loader using the Refresh API in JavaScript.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_19\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/document-store/refresh/<storeId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"items\": [\n        {\n            \"docId\": <docId>,\n            \"splitter\": {\n                \"name\": \"recursiveCharacterTextSplitter\",\n                \"config\": {\n                    \"chunkSize\": 2000,\n                    \"chunkOverlap\": 100\n                }\n            }\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Generating SQL Query for Database Question using LLMChain\nDESCRIPTION: This snippet shows the input and output of an LLMChain that generates a SQL query based on a given schema and user question. It demonstrates how to formulate a SELECT query to answer a specific question about a person's address.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/sql-qna.md#2025-04-18_snippet_3\n\nLANGUAGE: sql\nCODE:\n```\nSELECT userAddress FROM samples WHERE firstName = 'John'\n```\n\n----------------------------------------\n\nTITLE: Embedding Flowise Chatbot with Variables in HTML\nDESCRIPTION: Demonstrates how to embed a Flowise chatbot in HTML and pass variables using the chatflowConfig object.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n    import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js';\n    Chatbot.init({\n        chatflowid: 'chatflow-id',\n        apiHost: 'http://localhost:3000',\n        chatflowConfig: {\n          vars: {\n            apiKey: 'def'\n          }\n        }\n    });\n</script>\n```\n\n----------------------------------------\n\nTITLE: Initializing Flowise Chat Widget with Version Specification\nDESCRIPTION: Shows how to embed the chat widget with a specific version of flowise-embed's web.js using CDN.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n  import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed@<some-version>/dist/web.js';\n  Chatbot.init({\n    chatflowid: 'your-chatflowid-here',\n    apiHost: 'your-apihost-here',\n  })\n</script>\n```\n\n----------------------------------------\n\nTITLE: Setting Authorization Header for Flowise API Access\nDESCRIPTION: Example of the required Authorization header format when making API calls to a protected Flowise chatflow. The header must include a Bearer token with the assigned API key.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/chatflow-level.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n\"Authorization\": \"Bearer <your-api-key>\"\n```\n\n----------------------------------------\n\nTITLE: Handling Irrelevant Questions with Default SQL Query\nDESCRIPTION: This snippet shows the SQL query generated when the user's question is not relevant to the database. It's a simple SELECT statement that retrieves a limited number of rows from the samples table.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/sql-qna.md#2025-04-18_snippet_4\n\nLANGUAGE: sql\nCODE:\n```\nSELECT * FROM samples LIMIT 3\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise with Docker Compose\nDESCRIPTION: Command to start Flowise in detached mode using Docker Compose, which will run the application in the background.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Creating a Dockerfile for Flowise Deployment on Hugging Face\nDESCRIPTION: This Dockerfile configures a Node.js Alpine environment for running Flowise. It installs necessary dependencies including Python, build tools, Cairo, Pango, and Chromium for browser automation. The configuration sets up appropriate file paths and permissions for Flowise operation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/hugging-face.md#2025-04-18_snippet_0\n\nLANGUAGE: Dockerfile\nCODE:\n```\nFROM node:18-alpine\nUSER root\n\n# Arguments that can be passed at build time\nARG FLOWISE_PATH=/usr/local/lib/node_modules/flowise\nARG BASE_PATH=/root/.flowise\nARG DATABASE_PATH=$BASE_PATH\nARG APIKEY_PATH=$BASE_PATH\nARG SECRETKEY_PATH=$BASE_PATH\nARG LOG_PATH=$BASE_PATH/logs\nARG BLOB_STORAGE_PATH=$BASE_PATH/storage\n\n# Install dependencies\nRUN apk add --no-cache git python3 py3-pip make g++ build-base cairo-dev pango-dev chromium\n\nENV PUPPETEER_SKIP_DOWNLOAD=true\nENV PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser\n\n# Install Flowise globally\nRUN npm install -g flowise\n\n# Configure Flowise directories using the ARG\nRUN mkdir -p $LOG_PATH $FLOWISE_PATH/uploads && chmod -R 777 $LOG_PATH $FLOWISE_PATH\n\nWORKDIR /data\n\nCMD [\"npx\", \"flowise\", \"start\"]\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Chat Widget with Chatflow Config\nDESCRIPTION: Demonstrates how to initialize the chat widget with custom chatflow configuration options.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n  import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js';\n  Chatbot.init({\n    chatflowid: 'your-chatflowid-here',\n    apiHost: 'your-apihost-here',\n    chatflowConfig: {\n      \"sessionId\": \"123\",\n      \"returnSourceDocuments\": true\n    }\n  })\n</script>\n```\n\n----------------------------------------\n\nTITLE: Using Refresh API in Python\nDESCRIPTION: This snippet demonstrates how to use the Refresh API to re-process all document loaders within a document store using Python.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_16\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/refresh/<storeId>\"\n\ndef query():\n    response = requests.post(API_URL)\n    return response.json()\n\noutput = query()\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Applying Theme Customization to Flowise Chat Widget\nDESCRIPTION: Demonstrates comprehensive theme customization including button, tooltip, disclaimer, and chat window styling.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n  import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js';\n  Chatbot.init({\n    chatflowid: 'your-chatflowid-here',\n    apiHost: 'your-apihost-here',\n    theme: {\n      button: {\n        backgroundColor: '#3B81F6',\n        right: 20,\n        bottom: 20,\n        size: 48,\n        dragAndDrop: true,\n        iconColor: 'white',\n        customIconSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',\n        autoWindowOpen: {\n          autoOpen: true,\n          openDelay: 2,\n          autoOpenOnMobile: false,\n        },\n      },\n      tooltip: {\n        showTooltip: true,\n        tooltipMessage: 'Hi There 👋!',\n        tooltipBackgroundColor: 'black',\n        tooltipTextColor: 'white',\n        tooltipFontSize: 16,\n      },\n      disclaimer: {\n        title: 'Disclaimer',\n        message: 'By using this chatbot, you agree to the <a target=\"_blank\" href=\"https://flowiseai.com/terms\">Terms & Condition</a>',\n        textColor: 'black',\n        buttonColor: '#3b82f6',\n        buttonText: 'Start Chatting',\n        buttonTextColor: 'white',\n        blurredBackgroundColor: 'rgba(0, 0, 0, 0.4)',\n        backgroundColor: 'white',\n      },\n      customCSS: ``,\n      chatWindow: {\n        showTitle: true,\n        showAgentMessages: true,\n        title: 'Flowise Bot',\n        titleAvatarSrc: 'https://raw.githubusercontent.com/walkxcode/dashboard-icons/main/svg/google-messages.svg',\n        welcomeMessage: 'Hello! This is custom welcome message',\n        errorMessage: 'This is a custom error message',\n        backgroundColor: '#ffffff',\n        backgroundImage: 'enter image path or link',\n        height: 700,\n        width: 400,\n        fontSize: 16,\n        starterPrompts: ['What is a bot?', 'Who are you?'],\n        starterPromptFontSize: 15,\n        clearChatOnReload: false,\n        sourceDocsTitle: 'Sources:',\n        renderHTML: true,\n        botMessage: {\n          backgroundColor: '#f7f8ff',\n          textColor: '#303235',\n          showAvatar: true,\n          avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/parroticon.png',\n        },\n        userMessage: {\n          backgroundColor: '#3B81F6',\n          textColor: '#ffffff',\n          showAvatar: true,\n          avatarSrc: 'https://raw.githubusercontent.com/zahidkhawaja/langchain-chat-nextjs/main/public/usericon.png',\n        },\n        textInput: {\n          placeholder: 'Type your question',\n          backgroundColor: '#ffffff',\n          textColor: '#303235',\n          sendButtonColor: '#3B81F6',\n          maxChars: 50,\n          maxCharsWarningMessage: 'You exceeded the characters limit. Please input less than 50 characters.',\n          autoFocus: true,\n          sendMessageSound: true,\n          receiveMessageSound: true,\n        },\n        feedback: {\n          color: '#303235',\n        },\n        dateTimeToggle: {\n          date: true,\n          time: true,\n        },\n        footer: {\n          textColor: '#303235',\n          text: 'Powered by',\n          company: 'Flowise',\n          companyLink: 'https://flowiseai.com',\n        },\n      },\n    },\n  });\n</script>\n```\n\n----------------------------------------\n\nTITLE: Configuring OverrideConfig JSON Structure\nDESCRIPTION: Example JSON structure showing how to override system message and variables after enabling configuration overrides. Demonstrates setting a custom system message and defining variables that can be overridden via API or embed.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/migration-guide/v2.1.4-migration-guide.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"overrideConfig\": {\n        \"systemMessage\": \"You are helpful assistant\",\n        \"vars\": {\n            \"character\": \"nice\"\n        }\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Using JSON Body for Document Loaders in Python\nDESCRIPTION: This snippet demonstrates how to use a JSON body for document loaders without file upload functionality in the Document Store API using Python.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_14\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n\noutput = query({\n    \"docId\": <docId>\n})\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables for Self-Hosted Flowise Authentication\nDESCRIPTION: List of required environment variables for setting up authentication in self-hosted Flowise installations. These variables are crucial for JWT token management, password hashing, and token expiration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/workspaces.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nJWT_AUTH_TOKEN_SECRET\nJWT_REFRESH_TOKEN_SECRET\nJWT_ISSUER\nJWT_AUDIENCE\nJWT_TOKEN_EXPIRY_IN_MINUTES\nJWT_REFRESH_TOKEN_EXPIRY_IN_MINUTES\nPASSWORD_RESET_TOKEN_EXPIRY_IN_MINS\nPASSWORD_SALT_HASH_ROUNDS\nTOKEN_HASH_SECRET\n```\n\n----------------------------------------\n\nTITLE: Generating Zep Authentication Tokens\nDESCRIPTION: Commands to generate a secret and JWT token for Zep authentication using zepcli.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n./zepcli -i\n```\n\nLANGUAGE: bash\nCODE:\n```\nzepcli.exe -i\n```\n\n----------------------------------------\n\nTITLE: NGINX Configuration for Flowise Reverse Proxy\nDESCRIPTION: NGINX server block configuration to set up a reverse proxy for Flowise, allowing access via a custom domain without specifying the port.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name yourdomain.com; #Example: demo.flowiseai.com\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_cache_bypass $http_upgrade;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Advanced Development Setup for Contributors\nDESCRIPTION: Development workflow for contributors, including commands for development mode that provides hot-reloading capabilities for UI and server changes.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npnpm dev\n```\n\nLANGUAGE: bash\nCODE:\n```\npnpm build\n```\n\nLANGUAGE: bash\nCODE:\n```\npnpm start\n```\n\n----------------------------------------\n\nTITLE: Configuring PostgreSQL Database in Flowise\nDESCRIPTION: Environment variables configuration for PostgreSQL database connection including SSL mode setting.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nDATABASE_TYPE=postgres\nDATABASE_PORT=5432\nDATABASE_HOST=localhost\nDATABASE_NAME=flowise\nDATABASE_USER=user\nDATABASE_PASSWORD=123\nPGSSLMODE=require\n```\n\n----------------------------------------\n\nTITLE: State Change Validation in Condition Node\nDESCRIPTION: JavaScript condition to check if an orderStatus variable in the custom State matches a specific value 'confirmed'. Routes to different outputs based on the comparison result.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nreturn $flow.state.orderStatus === \"confirmed\" ? \"Output 1\" : \"Output 2\";\n```\n\n----------------------------------------\n\nTITLE: Spinning up Redis-Stack Server using Docker\nDESCRIPTION: This command runs a Redis-Stack Server in a Docker container, exposing it on port 6379. It's a prerequisite step for using Redis with Flowise.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/redis.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -d --name redis-stack-server -p 6379:6379 redis/redis-stack-server:latest\n```\n\n----------------------------------------\n\nTITLE: Example of Flowise Streaming Event Format\nDESCRIPTION: This HTML snippet shows the format of a streaming event in Flowise. It demonstrates the structure of a 'token' event, which includes the event type and the data payload.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/streaming.md#2025-04-18_snippet_3\n\nLANGUAGE: html\nCODE:\n```\nevent: token\ndata: Once upon a time...\n```\n\n----------------------------------------\n\nTITLE: Network Configuration - Terraform\nDESCRIPTION: Network infrastructure setup including virtual networks, subnets, and DNS zones.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n// network.tf\n\n// Vnet\nresource \"azurerm_virtual_network\" \"vnet\" {\n  name                = \"vn-${var.project_name}\"\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  address_space       = [\"10.3.0.0/16\"]\n}\n\nresource \"azurerm_subnet\" \"dbsubnet\" {\n  name                                      = \"db-subnet-${var.project_name}\"\n  resource_group_name                       = azurerm_resource_group.rg.name\n  virtual_network_name                      = azurerm_virtual_network.vnet.name\n  address_prefixes                          = [\"10.3.1.0/24\"]\n  private_endpoint_network_policies_enabled = true\n  delegation {\n    name = \"delegation\"\n    service_delegation {\n      name = \"Microsoft.DBforPostgreSQL/flexibleServers\"\n    }\n  }\n  lifecycle {\n    ignore_changes = [\n      service_endpoints,\n      delegation\n    ]\n  }\n}\n\nresource \"azurerm_subnet\" \"webappsubnet\" {\n  name                 = \"web-app-subnet-${var.project_name}\"\n  resource_group_name  = azurerm_resource_group.rg.name\n  virtual_network_name = azurerm_virtual_network.vnet.name\n  address_prefixes     = [\"10.3.8.0/24\"]\n\n  delegation {\n    name = \"delegation\"\n    service_delegation {\n      name = \"Microsoft.Web/serverFarms\"\n    }\n  }\n  lifecycle {\n    ignore_changes = [\n      delegation\n    ]\n  }\n}\n\nresource \"azurerm_private_dns_zone\" \"postgres\" {\n  name                = \"private.postgres.database.azure.com\"\n  resource_group_name = azurerm_resource_group.rg.name\n}\n\nresource \"azurerm_private_dns_zone_virtual_network_link\" \"postgres\" {\n  name                  = \"private-postgres-vnet-link\"\n  resource_group_name   = azurerm_resource_group.rg.name\n  private_dns_zone_name = azurerm_private_dns_zone.postgres.name\n  virtual_network_id    = azurerm_virtual_network.vnet.id\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Docker User Permissions on EC2\nDESCRIPTION: Commands to add the default ec2-user to the docker group to allow running docker commands without sudo, then applying the new group membership.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nsudo usermod -a -G docker ec2-user\nid ec2-user\nnewgrp docker\n```\n\n----------------------------------------\n\nTITLE: Starting OpenTelemetry Collector with Docker Compose\nDESCRIPTION: Commands to navigate to the OpenTelemetry directory and start the collector container using Docker Compose.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/monitoring.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise\ncd metrics && cd otel\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Creating Vector Search Index in MongoDB Atlas\nDESCRIPTION: JSON configuration for creating a vector search index in MongoDB Atlas. This index is used for similarity search on embedded data. The configuration specifies the field to be indexed, its dimensionality, and the similarity metric to be used.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/mongodb-atlas.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"fields\": [\n    {\n      \"numDimensions\": 1536,\n      \"path\": \"embedding\",\n      \"similarity\": \"euclidean\",\n      \"type\": \"vector\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Finalizing Calculator Node Implementation\nDESCRIPTION: Completes the Calculator node implementation by adding the init function to instantiate the Calculator tool during flow execution.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/contributing/building-node.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { INode } from '../../../src/Interface'\nimport { getBaseClasses } from '../../../src/utils'\nimport { Calculator } from './core'\n\nclass Calculator_Tools implements INode {\n    label: string\n    name: string\n    version: number\n    description: string\n    type: string\n    icon: string\n    category: string\n    author: string\n    baseClasses: string[]\n\n    constructor() {\n        this.label = 'Calculator'\n        this.name = 'calculator'\n        this.version = 1.0\n        this.type = 'Calculator'\n        this.icon = 'calculator.svg'\n        this.category = 'Tools'\n        this.author = 'Your Name'\n        this.description = 'Perform calculations on response'\n        this.baseClasses = [this.type, ...getBaseClasses(Calculator)]\n    }\n    \n \n    async init() {\n        return new Calculator()\n    }\n}\n\nmodule.exports = { nodeClass: Calculator_Tools }\n```\n\n----------------------------------------\n\nTITLE: Uploading File and Overriding PDF Loader Configuration in Python\nDESCRIPTION: This snippet demonstrates how to upload a PDF file and override the configuration of a PDF File Loader using the Document Store API in Python. It shows how to change the 'usage' parameter of the loader.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_10\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\"\nAPI_KEY = \"your_api_key_here\"\n\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\noverride_loader_config = {\n    \"config\": {\n        \"usage\": \"perPage\"\n    }\n}\n\nbody_data = {\n    \"docId\": <docLoaderId>,\n    \"loader\": json.dumps(override_loader_config) # Override existing configuration\n}\n\nheaders = {\n    \"Authorization\": f\"Bearer {BEARER_TOKEN}\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data, headers=headers)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise with CORS Settings via NPX\nDESCRIPTION: This command demonstrates how to start Flowise using NPX with the required CORS settings. It specifies the CORS_ORIGINS and IFRAME_ORIGINS as command-line arguments.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise start --CORS_ORIGINS=* --IFRAME_ORIGINS=*\n```\n\n----------------------------------------\n\nTITLE: Overriding Document Loader Configuration in Python\nDESCRIPTION: This snippet demonstrates how to override the existing configuration of a document loader using the Document Store API in Python. It shows how to change the URL of a web page loader.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nimport requests\n\nAPI_URL = \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n\noutput = query({\n    \"docId\": <docLoaderId>,\n    # override existing configuration\n    \"loader\": {\n        \"config\": {\n            \"url\": \"https://new-url.com\"\n        }\n    }\n})\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Running Zep with Docker Compose\nDESCRIPTION: Command to build and run Zep using Docker Compose in detached mode.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d --build\n```\n\n----------------------------------------\n\nTITLE: Main Infrastructure Configuration - Terraform\nDESCRIPTION: Main infrastructure configuration including resource group, storage account, and file share setup.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n// main.tf\nresource \"random_string\" \"resource_code\" {\n  length  = 5\n  special = false\n  upper   = false\n}\n\n// resource group\nresource \"azurerm_resource_group\" \"rg\" {\n  location = var.resource_group_location\n  name     = \"rg-${var.project_name}\"\n}\n\n// Storage Account\nresource \"azurerm_storage_account\" \"sa\" {\n  name                     = \"${var.subscription_name}${random_string.resource_code.result}\"\n  resource_group_name      = azurerm_resource_group.rg.name\n  location                 = azurerm_resource_group.rg.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n\n  blob_properties {\n    versioning_enabled = true\n  }\n\n}\n\n// File share\nresource \"azurerm_storage_share\" \"flowise-share\" {\n  name                 = \"flowise\"\n  storage_account_name = azurerm_storage_account.sa.name\n  quota                = 50\n}\n```\n\n----------------------------------------\n\nTITLE: Querying Flowise API with Variables in Javascript\nDESCRIPTION: Example of making a POST request to the Flowise API, passing variables in the overrideConfig object.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflow-id>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"question\": \"Hey, how are you?\",\n    \"overrideConfig\": {\n        \"vars\": {\n            \"apiKey\": \"abc\"\n        }\n    }\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Setting CORS Environment Variables for Flowise\nDESCRIPTION: This code snippet shows how to set the necessary environment variables to resolve CORS issues when using the embedded chat widget. It includes the CORS_ORIGINS and IFRAME_ORIGINS variables.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_6\n\nLANGUAGE: plaintext\nCODE:\n```\nCORS_ORIGINS=*\nIFRAME_ORIGINS=*\n```\n\n----------------------------------------\n\nTITLE: Retrieving Specific Chatflow (GET /chatflows/{id})\nDESCRIPTION: Swagger documentation for the GET endpoint to retrieve a specific chatflow by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Running Unstructured API via Docker\nDESCRIPTION: Command to run the Unstructured API locally using Docker. This creates a container named 'unstructured-api' that listens on port 8000.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/document-loaders/s3-file-loader.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -p 8000:8000 -d --rm --name unstructured-api quay.io/unstructured-io/unstructured-api:latest --port 8000 --host 0.0.0.0\n```\n\n----------------------------------------\n\nTITLE: Resulting Context Format Example\nDESCRIPTION: Example of the final formatted output after applying the custom retriever template, showing context with source citations.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/retrievers/custom-retriever.md#2025-04-18_snippet_2\n\nLANGUAGE: text\nCODE:\n```\nThis is an example\nSource: example.pdf\n\nThis is example 2\nSource: example2.txt\n```\n\n----------------------------------------\n\nTITLE: Custom State Access Pattern\nDESCRIPTION: Example showing how to access the conversation history and custom state in the Agent Node\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_3\n\nLANGUAGE: plaintext\nCODE:\n```\nstate.messages // full conversation history\nstate.{customKey} // custom state values\n```\n\n----------------------------------------\n\nTITLE: Implementing Refine Prompt Template for Answer Refinement\nDESCRIPTION: Template prompt used to refine an existing answer by incorporating new context information. The prompt includes placeholders for the original query, existing answer, and new context.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/response-synthesizer/refine.md#2025-04-18_snippet_0\n\nLANGUAGE: markup\nCODE:\n```\nThe original query is as follows: {query}\nWe have provided an existing answer: {existingAnswer}\nWe have the opportunity to refine the existing answer (only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the query. If the context isn't useful, return the original answer.\nRefined Answer:\n```\n\n----------------------------------------\n\nTITLE: Checking State Change Condition using JavaScript\nDESCRIPTION: This code snippet evaluates if a specific value in the custom State has changed to a desired value. It compares the 'orderStatus' in the flow state to 'confirmed' and routes accordingly.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nreturn $flow.state.orderStatus === \"confirmed\" ? \"Output 1\" : \"Output 2\";\n```\n\n----------------------------------------\n\nTITLE: Structuring JSON for Airtable Create Record API\nDESCRIPTION: Example of the required JSON structure for creating a record in Airtable using their API. This structure is what the LLM should ideally output for proper integration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"records\": [\n    {\n      \"fields\": {\n        \"Address\": \"some address\",\n        \"Name\": \"some name\",\n        \"Visited\": true\n      }\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a New Tool (POST /tools)\nDESCRIPTION: Swagger documentation for the POST /tools endpoint, used to create a new tool in the system.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/tools.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables for Railway Volume\nDESCRIPTION: Environment variable paths configuration for setting up persistent storage in Railway deployment. These variables define the storage locations for database, API keys, logs, secret keys, and blob storage.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/railway.md#2025-04-18_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nDATABASE_PATH=/opt/railway/.flowise\nAPIKEY_PATH=/opt/railway/.flowise\nLOG_PATH=/opt/railway/.flowise/logs\nSECRETKEY_PATH=/opt/railway/.flowise\nBLOB_STORAGE_PATH=/opt/railway/.flowise/storage\n```\n\n----------------------------------------\n\nTITLE: Configuring Automatic Certificate Renewal\nDESCRIPTION: Sets up a cron job to automatically renew SSL certificates before expiration with random timing to prevent server overload.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_31\n\nLANGUAGE: bash\nCODE:\n```\necho \"0 0,12 * * * root /opt/certbot/bin/python -c 'import random; import time; time.sleep(random.random() * 3600)' && sudo certbot renew -q\" | sudo tee -a /etc/crontab > /dev/null\n```\n\n----------------------------------------\n\nTITLE: Documenting Document Store API Endpoints using Swagger\nDESCRIPTION: This code snippet uses Swagger to document various API endpoints for a Document Store. It includes operations for storing, retrieving, updating, and deleting documents, as well as vector store operations and chunk management.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/document-store.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/store\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/store\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/store/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/store/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/store/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (3).yml\" path=\"/document-store/upsert/{id}\" method=\"post\" %}\n[swagger (3).yml](<../.gitbook/assets/swagger (3).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (3).yml\" path=\"/document-store/refresh/{id}\" method=\"post\" %}\n[swagger (3).yml](<../.gitbook/assets/swagger (3).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/vectorstore/query\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger.yml\" path=\"/document-store/loader/{storeId}/{loaderId}\" method=\"delete\" %}\n[swagger.yml](../.gitbook/assets/swagger.yml)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/document-store/vectorstore/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger.yml\" path=\"/document-store/chunks/{storeId}/{loaderId}/{pageNo}\" method=\"get\" %}\n[swagger.yml](../.gitbook/assets/swagger.yml)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger.yml\" path=\"/document-store/chunks/{storeId}/{loaderId}/{chunkId}\" method=\"put\" %}\n[swagger.yml](../.gitbook/assets/swagger.yml)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger.yml\" path=\"/document-store/chunks/{storeId}/{loaderId}/{chunkId}\" method=\"delete\" %}\n[swagger.yml](../.gitbook/assets/swagger.yml)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Implementing Observer Configuration for Flowise Chat Widget\nDESCRIPTION: Shows how to set up observers for user input, messages, and loading states in the chat widget.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n  import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js';\n  Chatbot.init({\n    chatflowid: 'your-chatflowid-here',\n    apiHost: 'your-apihost-here',\n    observersConfig: {\n      observeUserInput: (userInput) => {\n        console.log({ userInput });\n      },\n      observeMessages: (messages) => {\n        console.log({ messages });\n      },\n      observeLoading: (loading) => {\n        console.log({ loading });\n      },\n    },\n  })\n</script>\n```\n\n----------------------------------------\n\nTITLE: Defining XML Agent Prompt Template in XML\nDESCRIPTION: A prompt template used for XML Agent to structure the interaction with LLMs that don't support function calling. It provides instructions on how to use tools and format the final answer.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/multiple-documents-qna.md#2025-04-18_snippet_2\n\nLANGUAGE: xml\nCODE:\n```\nYou are a helpful assistant. Help the user answer any questions.\n\nYou have access to the following tools:\n\n{tools}\n\nIn order to use a tool, you can use <tool></tool> and <tool_input></tool_input> tags. You will then get back a response in the form <observation></observation>\nFor example, if you have a tool called 'search' that could run a google search, in order to search for the weather in SF you would respond:\n\n<tool>search</tool><tool_input>weather in SF</tool_input>\n<observation>64 degrees</observation>\n\nWhen you are done, respond with a final answer between <final_answer></final_answer>. For example:\n\n<final_answer>The weather in SF is 64 degrees</final_answer>\n\nBegin!\n\nPrevious Conversation:\n{chat_history}\n\nQuestion: {input}\n{agent_scratchpad}\n```\n\n----------------------------------------\n\nTITLE: Implementing Text QA Prompt Template for Initial Answers\nDESCRIPTION: Template prompt used for generating initial answers from context information. The prompt includes placeholders for context and query input.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/response-synthesizer/refine.md#2025-04-18_snippet_1\n\nLANGUAGE: markup\nCODE:\n```\nContext information is below.\n---------------------\n{context}\n---------------------\nGiven the context information and not prior knowledge, answer the query.\nQuery: {query}\nAnswer:\n```\n\n----------------------------------------\n\nTITLE: Desired LLM Output Structure for Airtable Integration\nDESCRIPTION: The ideal JSON structure that the LLM should output, which can be easily parsed and used to create the body for the Airtable API request.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"Address\": \"some address\",\n  \"Name\": \"some name\",\n  \"Visited\": true\n}\n```\n\n----------------------------------------\n\nTITLE: Retrieving a Specific Tool (GET /tools/{id})\nDESCRIPTION: Swagger documentation for the GET /tools/{id} endpoint, used to retrieve a specific tool by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/tools.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Referencing Artillery Load Testing Script for Flowise\nDESCRIPTION: A reference to an Artillery load testing script YAML file used for performance testing of deployed Flowise applications. The script is located in the main Flowise GitHub repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/running-in-production.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nhttps://github.com/FlowiseAI/Flowise/blob/main/artillery-load-test.yml\n```\n\n----------------------------------------\n\nTITLE: Installing Docker Compose Plugin on EC2\nDESCRIPTION: Command to install the docker-compose-plugin package on an EC2 instance using yum.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install docker-compose-plugin\n```\n\n----------------------------------------\n\nTITLE: Uploading Audio via API in JavaScript\nDESCRIPTION: This code snippet shows how to upload audio files to a Flowise chatbot API endpoint using JavaScript. It sends the audio data as a base64 string in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/prediction/<chatflowid>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"uploads\": [\n        {\n            \"data\": \"data:audio/webm;codecs=opus;base64,GkXf\", // base64 string\n            \"type\": \"audio\",\n            \"name\": \"audio.wav\",\n            \"mime\": \"audio/webm\"\n        }\n    ]\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Creating Vector Search Index in Couchbase\nDESCRIPTION: JSON configuration for creating a vector search index named 'vector-index' in Couchbase. It defines the structure for indexing vector embeddings, metadata, and text fields, optimized for similarity search using dot product.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/couchbase.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"vector-index\",\n  \"type\": \"fulltext-index\",\n  \"params\": {\n    \"doc_config\": {\n      \"docid_prefix_delim\": \"\",\n      \"docid_regexp\": \"\",\n      \"mode\": \"scope.collection.type_field\",\n      \"type_field\": \"type\"\n    },\n    \"mapping\": {\n      \"default_analyzer\": \"standard\",\n      \"default_datetime_parser\": \"dateTimeOptional\",\n      \"default_field\": \"_all\",\n      \"default_mapping\": {\n        \"dynamic\": true,\n        \"enabled\": false\n      },\n      \"default_type\": \"_default\",\n      \"docvalues_dynamic\": false,\n      \"index_dynamic\": true,\n      \"store_dynamic\": false,\n      \"type_field\": \"_type\",\n      \"types\": {\n        \"_default._default\": {\n          \"dynamic\": true,\n          \"enabled\": true,\n          \"properties\": {\n            \"embedding\": {\n              \"enabled\": true,\n              \"dynamic\": false,\n              \"fields\": [\n                {\n                  \"dims\": 1536,\n                  \"index\": true,\n                  \"name\": \"embedding\",\n                  \"similarity\": \"dot_product\",\n                  \"type\": \"vector\",\n                  \"vector_index_optimized_for\": \"recall\"\n                }\n              ]\n            },\n            \"metadata\": {\n              \"dynamic\": true,\n              \"enabled\": true\n            },\n            \"text\": {\n              \"enabled\": true,\n              \"dynamic\": false,\n              \"fields\": [\n                {\n                  \"index\": true,\n                  \"name\": \"text\",\n                  \"store\": true,\n                  \"type\": \"text\"\n                }\n              ]\n            }\n          }\n        }\n      }\n    },\n    \"store\": {\n      \"indexType\": \"scorch\",\n      \"segmentVersion\": 16\n    }\n  },\n  \"sourceType\": \"gocbcore\",\n  \"sourceName\": \"pdf-chat\",\n  \"sourceParams\": {},\n  \"planParams\": {\n    \"maxPartitionsPerPIndex\": 64,\n    \"indexPartitions\": 16,\n    \"numReplicas\": 0\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Tool Call Property in LLM Output\nDESCRIPTION: This code snippet shows the structure of the 'tool_calls' property in an LLM Node's output, which is used by the Tool Node to execute external tools.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n\"tool_calls\": {\n  \"tool_name\": \"example_tool\",\n  \"parameters\": {\n    \"param1\": \"value1\",\n    \"param2\": \"value2\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic LLM Context Template\nDESCRIPTION: Template showing how conversation history is provided as context to the language model.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/README.md#2025-04-18_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nYou are an assistant to a human, powered by a large language model trained by OpenAI.\n\nWhether the human needs help with a specific question or just wants to have a conversation about a particular topic, you are here to assist.\n\nCurrent conversation:\n{history}\n```\n\n----------------------------------------\n\nTITLE: Retrieving Chatflow by API Key (GET /chatflows/apikey/{apikey})\nDESCRIPTION: Swagger documentation for the GET endpoint to fetch a chatflow using an API key.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/apikey/{apikey}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Downloading GPT4All Model in Bash\nDESCRIPTION: Command to download the GPT4All-J model and save it to the models directory in LocalAI.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nwget https://gpt4all.io/models/ggml-gpt4all-j.bin -O models/ggml-gpt4all-j\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise Worker with NPM\nDESCRIPTION: Command to run a Flowise worker using NPM, with a reminder to include environment variables.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/running-flowise-using-queue.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise worker # remember to pass in the env vars!\n```\n\n----------------------------------------\n\nTITLE: Custom Tool Function with API Key in Javascript\nDESCRIPTION: Example of a custom tool function that uses an API key passed as a variable to make an authenticated HTTP request.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst webhookUrl = \"https://discord.com/api/webhooks/1124783587267\";\nconst content = $content; // captured from input schema\nconst sessionId = $flow.sessionId;\nconst apiKey = $vars.apiKey;\n\nconst body = {\n\t\"content\": `${mycontent} and the sessionid is ${sessionId}`\n};\n\nconst options = {\n\tmethod: 'POST',\n\theaders: {\n\t\t'Content-Type': 'application/json',\n\t\t'Authorization': `Bearer ${apiKey}`\n\t},\n\tbody: JSON.stringify(body)\n};\n\nconst url = `${webhookUrl}?wait=true`\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst text = await response.text();\n\treturn text;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Database Type Configuration\nDESCRIPTION: Supported database types for Flowise data storage\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_2\n\nLANGUAGE: plaintext\nCODE:\n```\nsqlite, mysql, postgres\n```\n\n----------------------------------------\n\nTITLE: Uploading Audio via API in Python\nDESCRIPTION: This code snippet demonstrates how to upload audio files to a Flowise chatbot API endpoint using Python. It includes the audio data as a base64 string in the payload.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/uploads.md#2025-04-18_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nAPI_URL = \"http://localhost:3000/api/v1/prediction/<chatflowid>\"\n\ndef query(payload):\n    response = requests.post(API_URL, json=payload)\n    return response.json()\n    \noutput = query({\n    \"uploads\": [\n        {\n            \"data\": \"data:audio/webm;codecs=opus;base64,GkXf\", # base64 string\n            \"type\": \"audio\",\n            \"name\": \"audio.wav\",\n            \"mime\": \"audio/webm\"\n        }\n    ]\n})\n```\n\n----------------------------------------\n\nTITLE: Default File Size Configuration\nDESCRIPTION: Default maximum file upload size limit in Flowise\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n50mb\n```\n\n----------------------------------------\n\nTITLE: Variables API Swagger Reference\nDESCRIPTION: Swagger/OpenAPI specification snippets showing the endpoints for managing variables, including POST /variables, GET /variables, PUT /variables/{id}, and DELETE /variables/{id} operations.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/variables.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Environment Variables\nDESCRIPTION: Environment variables configuration for Flowise Docker setup, specifying port, database path, API key path, secret key path, log path, and storage path.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_16\n\nLANGUAGE: sh\nCODE:\n```\nPORT=3000\nDATABASE_PATH=/root/.flowise\nAPIKEY_PATH=/root/.flowise\nSECRETKEY_PATH=/root/.flowise\nLOG_PATH=/root/.flowise/logs\nBLOB_STORAGE_PATH=/root/.flowise/storage\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Web App Environment Variables in Terraform\nDESCRIPTION: HCL configuration block defining environment variables for a Flowise deployment in Azure Web App, including database credentials, application ports, and storage settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_6\n\nLANGUAGE: hcl\nCODE:\n```\nDATABASE_NAME                       = azurerm_postgresql_flexible_server_database.production.name\nDATABASE_USER                       = azurerm_postgresql_flexible_server.postgres.administrator_login\nDATABASE_PASSWORD                   = azurerm_postgresql_flexible_server.postgres.administrator_password\nDATABASE_PORT                       = 5432\nFLOWISE_USERNAME                    = var.flowise_username\nFLOWISE_PASSWORD                    = var.flowise_password\nFLOWISE_SECRETKEY_OVERWRITE         = var.flowise_secretkey_overwrite\nPORT                                = 3000\nSECRETKEY_PATH                      = \"/root\"\nDOCKER_IMAGE_TAG                    = var.tagged_image\n```\n\n----------------------------------------\n\nTITLE: Starting OpenTelemetry Collector with Docker Compose\nDESCRIPTION: This command navigates to the OpenTelemetry directory in the Flowise project and starts the OpenTelemetry collector using Docker Compose in detached mode.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/monitoring.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise\ncd metrics && cd otel\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Building and Pushing Docker Image to GCP Container Registry\nDESCRIPTION: Commands to build a Docker image for Flowise and push it to the Google Cloud Platform Container Registry.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndocker build -t gcr.io/[ProjectId]/flowise:dev .\n```\n\nLANGUAGE: bash\nCODE:\n```\ndocker push gcr.io/[ProjectId]/flowise:dev\n```\n\n----------------------------------------\n\nTITLE: Sending Prediction Request with ChatID\nDESCRIPTION: Example of how to make a prediction API request with a chatId parameter to maintain conversation threads. The chatId parameter ensures separate conversation threads for different users.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/agents/openai-assistant/threads.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"question\": \"hello!\",\n    \"chatId\": \"user1\"\n}\n```\n\n----------------------------------------\n\nTITLE: Docker Compose Configuration with Environment Variables\nDESCRIPTION: Docker compose environment configuration that passes authentication variables from the .env file.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nenvironment:\n    - PORT=${PORT}\n    - FLOWISE_USERNAME=${FLOWISE_USERNAME}\n    - FLOWISE_PASSWORD=${FLOWISE_PASSWORD}\n```\n\n----------------------------------------\n\nTITLE: Configuring SQLite Database in Flowise\nDESCRIPTION: Environment variables configuration for SQLite database setup. SQLite is the default database type that creates a database.sqlite file in the specified path.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nDATABASE_TYPE=sqlite\nDATABASE_PATH=/root/.flowise\n```\n\n----------------------------------------\n\nTITLE: Configuring MariaDB Database in Flowise\nDESCRIPTION: Environment variables configuration for MariaDB database connection settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nDATABASE_TYPE=\"mariadb\"\nDATABASE_PORT=\"3306\"\nDATABASE_HOST=\"localhost\"\nDATABASE_NAME=\"flowise\"\nDATABASE_USER=\"flowise\"\nDATABASE_PASSWORD=\"mypassword\"\n```\n\n----------------------------------------\n\nTITLE: Vector Store Upsert API Endpoint\nDESCRIPTION: New API endpoint for upserting vector data in FlowiseAI v1.4.3. Makes a POST request to /api/v1/vector/upsert to perform vector store operations.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/migration-guide/v1.4.3-migration-guide.md#2025-04-18_snippet_0\n\nLANGUAGE: curl\nCODE:\n```\nPOST /api/v1/vector/upsert\n```\n\n----------------------------------------\n\nTITLE: Setting Zep Authentication Environment Variables\nDESCRIPTION: Example of environment variables to be set for enabling Zep authentication.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nZEP_AUTH_REQUIRED=true\nZEP_AUTH_SECRET=<the secret you generated above>\n```\n\n----------------------------------------\n\nTITLE: Vector Upsert Event Structure in JSON\nDESCRIPTION: JSON structure for the vector_upserted event telemetry data, including version, chatflow details, and flow graph information.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/telemetry.md#2025-04-18_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"version\": <app-version>,\n    \"chatlowId\": <chatflow-id>,\n    \"type\": \"INTERNAL\",\n    \"flowGraph\": {\n        \"nodes\": [<nodeid-1>, <nodeid-2>],\n        \"edges\": [\n            {\n                \"source\": <nodeid-1>,\n                \"target\": <nodeid-2>\n            }\n        ]\n    },\n    \"stopNodeId\": <nodeid-1>\n}\n```\n\n----------------------------------------\n\nTITLE: Filtering Qdrant Results Using JSON Configuration\nDESCRIPTION: This JSON snippet demonstrates how to filter Qdrant query results based on metadata. It uses the 'should' operator to match documents where the 'metadata.source' field equals 'apple'.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/qdrant.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n\"overrideConfig\": {\n    \"qdrantFilter\": {\n        \"should\": [\n            {\n                \"key\": \"metadata.source\",\n                \"match\": {\n                    \"value\": \"apple\"\n                }\n            }\n        ]\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Variable in If-Else Function\nDESCRIPTION: Example of how to reference an input variable within If-Else functions using the $ prefix.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/utilities/if-else.md#2025-04-18_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n$output\n```\n\n----------------------------------------\n\nTITLE: Creating Docker Environment File with Authentication Variables\nDESCRIPTION: Content for a .env file that specifies port and authentication credentials for Docker deployment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nPORT=3000\nFLOWISE_USERNAME=user\nFLOWISE_PASSWORD=1234\n```\n\n----------------------------------------\n\nTITLE: Loop Node Setup Parameters - Markdown\nDESCRIPTION: Table defining the required setup parameters for the Loop Node, including the Loop To target specification.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_13\n\nLANGUAGE: markdown\nCODE:\n```\n<table><thead><tr><th width=\"125\"></th><th width=\"109\">Required</th><th>Description</th></tr></thead><tbody><tr><td>Loop To</td><td><strong>Yes</strong></td><td>The Loop Node requires us to <strong>specify the target node</strong> (\"Loop To\") where the conversational flow should be redirected. This target node must be an <strong>Agent Node</strong> or <strong>LLM Node</strong>.</td></tr></tbody></table>\n```\n\n----------------------------------------\n\nTITLE: Boolean Flag Configuration\nDESCRIPTION: Boolean values used for showing community nodes configuration\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/environment-variables.md#2025-04-18_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\ntrue or false\n```\n\n----------------------------------------\n\nTITLE: Prediction Event Structure in JSON\nDESCRIPTION: JSON structure for the prediction_sent event telemetry data, including version, chatflow details, and flow graph information.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/telemetry.md#2025-04-18_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"version\": <app-version>,\n    \"chatlowId\": <chatflow-id>,\n    \"chatId\": <chat-id>,\n    \"type\": \"INTERNAL\",\n    \"flowGraph\": {\n        \"nodes\": [<nodeid-1>, <nodeid-2>],\n        \"edges\": [\n            {\n                \"source\": <nodeid-1>,\n                \"target\": <nodeid-2>\n            }\n        ]\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Environment Variables for Git Clone Installation\nDESCRIPTION: Authentication variables to add to the .env file when installing Flowise via Git clone method.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nFLOWISE_USERNAME=user\nFLOWISE_PASSWORD=1234\n```\n\n----------------------------------------\n\nTITLE: Condition Node Basic Configuration\nDESCRIPTION: The Condition Node evaluates predefined conditions using either table-based conditions or JavaScript code to determine output paths. The evaluation is sequential and only one output path is activated.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n// Example condition evaluation returning output path name\nfunction evaluateCondition(state) {\n  if (state.userAge < 18) {\n    return \"PolicyAdvisorPath\";\n  }\n  return \"End\";\n}\n```\n\n----------------------------------------\n\nTITLE: Supabase Metadata Filter Configuration\nDESCRIPTION: JSON configuration example for filtering documents based on metadata properties when querying the vector store.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/supabase.md#2025-04-18_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n\"overrideConfig\": {\n    \"supabaseMetadataFilter\": {\n        \"source\": \"henry\"\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Applying Updated Service Configuration\nDESCRIPTION: Command to apply the updated service YAML file with the BackendConfig reference.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nkubectl apply -f service.yaml\n```\n\n----------------------------------------\n\nTITLE: Initializing Terraform for Flowise ECS Deployment\nDESCRIPTION: Commands to initialize, apply, and destroy Terraform configuration for deploying Flowise on AWS ECS.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nterraform init\nterraform apply\nterraform destroy\n```\n\n----------------------------------------\n\nTITLE: PostgreSQL Database Configuration - Terraform\nDESCRIPTION: Database configuration including PostgreSQL server setup, firewall rules, and database creation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n// database.tf\n\n// Database instance\nresource \"azurerm_postgresql_flexible_server\" \"postgres\" {\n  name                         = \"postgresql-${var.project_name}\"\n  location                     = azurerm_resource_group.rg.location\n  resource_group_name          = azurerm_resource_group.rg.name\n  sku_name                     = \"GP_Standard_D2s_v3\"\n  storage_mb                   = 32768\n  version                      = \"11\"\n  delegated_subnet_id          = azurerm_subnet.dbsubnet.id\n  private_dns_zone_id          = azurerm_private_dns_zone.postgres.id\n  backup_retention_days        = 7\n  geo_redundant_backup_enabled = false\n  auto_grow_enabled            = false\n  administrator_login          = var.db_username\n  administrator_password       = var.db_password\n  zone                         = \"2\"\n\n  lifecycle {\n    prevent_destroy = false\n  }\n}\n\n// Firewall\nresource \"azurerm_postgresql_flexible_server_firewall_rule\" \"pg_firewall\" {\n  for_each         = var.postgres_ip_rules\n  name             = each.key\n  server_id        = azurerm_postgresql_flexible_server.postgres.id\n  start_ip_address = each.value\n  end_ip_address   = each.value\n}\n\n// Database\nresource \"azurerm_postgresql_flexible_server_database\" \"production\" {\n  name      = \"production\"\n  server_id = azurerm_postgresql_flexible_server.postgres.id\n  charset   = \"UTF8\"\n  collation = \"en_US.utf8\"\n\n  # prevent the possibility of accidental data loss\n  lifecycle {\n    prevent_destroy = false\n  }\n}\n\n// Transport off\nresource \"azurerm_postgresql_flexible_server_configuration\" \"postgres_config\" {\n  name      = \"require_secure_transport\"\n  server_id = azurerm_postgresql_flexible_server.postgres.id\n  value     = \"off\"\n}\n```\n\n----------------------------------------\n\nTITLE: Terraform Variables Configuration\nDESCRIPTION: Configuration file for setting up essential variables needed for the Azure infrastructure deployment\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nsubscription_name = \"subscrpiton_name\"\nsubscription_id = \"subscription id\"\nproject_name = \"webapp_name\"\ndb_username = \"PostgresUserName\"\ndb_password = \"strongPostgresPassword\"\nflowise_username = \"flowiseUserName\"\nflowise_password = \"strongFlowisePassword\"\nflowise_secretkey_overwrite = \"longandStrongSecretKey\"\nwebapp_ip_rules = [\n  {\n    name = \"AllowedIP\"\n    ip_address = \"X.X.X.X/32\"\n    headers = null\n    virtual_network_subnet_id = null\n    subnet_id = null\n    service_tag = null\n    priority = 300\n    action = \"Allow\"\n  }\n]\npostgres_ip_rules = {\n  \"ValbyOfficeIP\" = \"X.X.X.X\"\n}\nsource_image = \"flowiseai/flowise:latest\"\ntagged_image = \"flow:v1\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables for Flowise v1.3.0\nDESCRIPTION: Example .env file configuration showing required environment variables for Flowise v1.3.0. Includes settings for port, passphrase, database path, API key path, secret key path, and log path locations.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/migration-guide/v1.3.0-migration-guide.md#2025-04-18_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nPORT=3000\nPASSPHRASE=MYPASSPHRASE\nDATABASE_PATH=/root/.flowise\nAPIKEY_PATH=/root/.flowise\nSECRETKEY_PATH=/root/.flowise\nLOG_PATH=/root/.flowise/logs\n```\n\n----------------------------------------\n\nTITLE: Updating Assistant (PUT /assistants/{id})\nDESCRIPTION: Swagger documentation for the PUT /assistants/{id} endpoint. This endpoint is used to update an existing assistant identified by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/assistants.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"put\" %}\n[swagger (1) (1).yml](<../.gitbook/assets/swagger (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: DELETE Chat Message API Endpoint\nDESCRIPTION: Swagger documentation for the DELETE /chatmessage/{id} endpoint that removes a specific chat message by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chat-message.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (4).yml\" path=\"/chatmessage/{id}\" method=\"delete\" %}\n[swagger (4).yml](<../.gitbook/assets/swagger (4).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Applying GCP Backend Configuration\nDESCRIPTION: Command to apply the BackendConfig YAML file for extending the timeout in GCP.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nkubectl apply -f backendconfig.yaml\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - GET /chatflows/apikey/{apikey}\nDESCRIPTION: Swagger definition for retrieving chatflows using an API key\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/apikey/{apikey}\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: Starting Docker Service on EC2\nDESCRIPTION: Command to start the Docker service on an EC2 instance.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\nsudo systemctl start docker.service\n```\n\n----------------------------------------\n\nTITLE: Implementing Keyword Check in Condition Node\nDESCRIPTION: JavaScript code to check if the last message in the conversation contains a specific keyword 'yes'. Returns 'Output 1' if true, otherwise 'Output 2'.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst lastMessage = $flow.state.messages[$flow.state.messages.length - 1].content; \nreturn lastMessage.includes(\"yes\") ? \"Output 1\" : \"Output 2\";\n```\n\n----------------------------------------\n\nTITLE: Creating NGINX Configuration for Flowise\nDESCRIPTION: Command to create and edit a new NGINX configuration file for Flowise using nano.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_24\n\nLANGUAGE: bash\nCODE:\n```\nsudo nano /etc/nginx/conf.d/flowise.conf\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Environment Variables for Prometheus Monitoring\nDESCRIPTION: These environment variables enable metrics collection in Flowise and configure it to use Prometheus as the metrics provider. They also enable node-level metrics collection.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/monitoring.md#2025-04-18_snippet_0\n\nLANGUAGE: properties\nCODE:\n```\nENABLE_METRICS=true\nMETRICS_PROVIDER=prometheus\nMETRICS_INCLUDE_NODE_METRICS=true\n```\n\n----------------------------------------\n\nTITLE: Configuring Weaviate Filter in JSON for API\nDESCRIPTION: This JSON snippet demonstrates how to configure a Weaviate filter using the API. It sets up an 'Equal' operator filter on the 'test' path with a value of 'key'.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/weaviate.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n\"overrideConfig\": {\n    \"weaviateFilter\": {\n        \"where\": {\n            \"operator\": \"Equal\",\n            \"path\": [\n                \"test\"\n            ],\n            \"valueText\": \"key\"\n        }\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Applying Kubernetes Configurations for Flowise Deployment\nDESCRIPTION: Commands to apply the Kubernetes deployment and service configurations for Flowise on GCP.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nkubectl apply -f yamls/deployment.yaml\nkubectl apply -f yamls/service.yaml\n```\n\n----------------------------------------\n\nTITLE: Navigating to Docker Folder in Flowise\nDESCRIPTION: Commands to change directory into the Flowise project and then into the docker subfolder.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_14\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise && cd docker\n```\n\n----------------------------------------\n\nTITLE: Nginx Configuration for Reverse Proxy\nDESCRIPTION: Nginx server block configuration for setting up reverse proxy to the Flowise application.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/digital-ocean.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nserver {\n    listen 80;\n    listen [::]:80;\n    server_name your_domain;\n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header Upgrade $http_upgrade;\n        proxy_set_header Connection 'upgrade';\n        proxy_cache_bypass $http_upgrade;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Custom Forked Repository for Chat Widget\nDESCRIPTION: Shows how to use a custom forked version of the chat widget using GitHub CDN.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/embed.md#2025-04-18_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n      import Chatbot from \"https://cdn.jsdelivr.net/gh/HenryHengZJ/FlowiseChatEmbed-Test/dist/web.js\"\n      Chatbot.init({\n          chatflowid: \"your-chatflowid-here\",\n          apiHost: \"your-apihost-here\",\n      })\n</script>\n```\n\n----------------------------------------\n\nTITLE: Environment Variable Setup for Proxy Configuration\nDESCRIPTION: Configuration example for setting the NUMBER_OF_PROXIES environment variable in cloud environments to properly handle rate limiting behind proxies or load balancers.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/rate-limit.md#2025-04-18_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nNUMBER_OF_PROXIES=0\n```\n\n----------------------------------------\n\nTITLE: Stopping Flowise Docker Containers\nDESCRIPTION: Command to stop the running Flowise containers managed by Docker Compose.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_18\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose stop\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - POST /chatflows\nDESCRIPTION: Swagger definition for creating new chatflows\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows\" method=\"post\" %}\n```\n\n----------------------------------------\n\nTITLE: Setting EC2 Instance Permissions for .pem Key File\nDESCRIPTION: Command to set appropriate permissions for a private key file (.pem) to restrict access, required before connecting to an EC2 instance on Mac/Linux.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nchmod 400 /path/to/mykey.pem\n```\n\n----------------------------------------\n\nTITLE: Documentation Navigation Structure in Markdown\nDESCRIPTION: Markdown-formatted documentation structure showing the hierarchy of pages and sections in the Flowise documentation, including integrations, migration guides, and use cases.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/SUMMARY.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n* [Simple Chat Engine](integraciones/llamaindex/engine/simple-chat-engine.md)\n* [Context Chat Engine](integraciones/llamaindex/engine/context-chat-engine.md)\n* [Sub-Question Query Engine](integraciones/llamaindex/engine/sub-question-query-engine.md)\n* [Response Synthesizer](integraciones/llamaindex/response-synthesizer/README.md)\n* [Refine](integraciones/llamaindex/response-synthesizer/refine.md)\n* [Compact And Refine](integraciones/llamaindex/response-synthesizer/compact-and-refine.md)\n* [Simple Response Builder](integraciones/llamaindex/response-synthesizer/simple-response-builder.md)\n* [Tree Summarize](integraciones/llamaindex/response-synthesizer/tree-summarize.md)\n* [Tools](integraciones/llamaindex/tools/README.md)\n* [Query Engine Tool](integraciones/llamaindex/tools/query-engine-tool.md)\n* [Vector Stores](integraciones/llamaindex/vector-stores/README.md)\n* [Pinecone](integraciones/llamaindex/vector-stores/pinecone.md)\n* [SimpleStore](integraciones/llamaindex/vector-stores/queryengine-tool.md)\n* [Utilities](integraciones/utilities/README.md)\n* [Custom JS Function](integraciones/utilities/custom-js-function.md)\n* [Set/Get Variable](integraciones/utilities/set-get-variable.md)\n* [If Else](integraciones/utilities/if-else.md)\n* [Sticky Note](integraciones/utilities/sticky-note.md)\n* [External Integrations](integraciones/3rd-party-platform-integration/README.md)\n* [Zapier Zaps](integraciones/3rd-party-platform-integration/zapier-zaps.md)\n* [Migration Guide](migration-guide/README.md)\n* [v1.3.0 Migration Guide](migration-guide/v1.3.0-migration-guide.md)\n* [v1.4.3 Migration Guide](migration-guide/v1.4.3-migration-guide.md)\n* [v2.1.4 Migration Guide](migration-guide/v2.1.4-migration-guide.md)\n* [Use Cases](use-cases/README.md)\n* [Calling Children Flows](use-cases/calling-children-flows.md)\n* [Calling Webhook](use-cases/webhook-tool.md)\n* [Interacting with API](use-cases/interacting-with-api.md)\n* [Multiple Documents QnA](use-cases/multiple-documents-qna.md)\n* [SQL QnA](use-cases/sql-qna.md)\n* [Upserting Data](use-cases/upserting-data.md)\n* [Web Scrape QnA](use-cases/web-scrape-qna.md)\n\n## Flowise\n\n* [Flowise GitHub](https://github.com/FlowiseAI)\n* [Flowise Cloud](https://flowiseai.com/join)\n```\n\n----------------------------------------\n\nTITLE: Retrieving Chatflows (GET /chatflows)\nDESCRIPTION: Swagger documentation for the GET endpoint to retrieve chatflows.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Terraform Variables Configuration - HCL\nDESCRIPTION: Configuration of terraform.tfvars file with required variables for Azure deployment including subscription details, credentials, and IP rules.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nsubscription_name = \"subscrpiton_name\"\nsubscription_id = \"subscription id\"\nproject_name = \"webapp_name\"\ndb_username = \"PostgresUserName\"\ndb_password = \"strongPostgresPassword\"\nflowise_username = \"flowiseUserName\"\nflowise_password = \"strongFlowisePassword\"\nflowise_secretkey_overwrite = \"longandStrongSecretKey\"\nwebapp_ip_rules = [\n  {\n    name = \"AllowedIP\"\n    ip_address = \"X.X.X.X/32\"\n    headers = null\n    virtual_network_subnet_id = null\n    subnet_id = null\n    service_tag = null\n    priority = 300\n    action = \"Allow\"\n  }\n]\npostgres_ip_rules = {\n  \"ValbyOfficeIP\" = \"X.X.X.X\"\n}\nsource_image = \"flowiseai/flowise:latest\"\ntagged_image = \"flow:v1\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Environment Variables in Flowise\nDESCRIPTION: Environment variables required to enable Prometheus metrics monitoring in Flowise. Enables metric collection and includes node-level metrics.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/monitoring.md#2025-04-18_snippet_0\n\nLANGUAGE: properties\nCODE:\n```\nENABLE_METRICS=true\nMETRICS_PROVIDER=prometheus\nMETRICS_INCLUDE_NODE_METRICS=true\n```\n\n----------------------------------------\n\nTITLE: Connecting to Kubernetes Cluster in GCP\nDESCRIPTION: Commands to list available Kubernetes contexts and set the current context for GCP deployment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nkubectl config get-contexts\n```\n\nLANGUAGE: bash\nCODE:\n```\nkubectl config use-context gke_[ProjectId]_[DataCenter]_[ClusterName]\n```\n\n----------------------------------------\n\nTITLE: Accessing Variables in Custom Tool Function\nDESCRIPTION: Shows how to access variables passed to a custom tool function using the $vars object.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n$vars.<variable-name>\n```\n\n----------------------------------------\n\nTITLE: Obtaining SSL Certificate and Configuring NGINX\nDESCRIPTION: Runs Certbot to obtain an SSL certificate and automatically configure NGINX for HTTPS.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\nsudo certbot --nginx\n```\n\n----------------------------------------\n\nTITLE: Create Assistant Endpoint - Swagger YAML\nDESCRIPTION: POST endpoint specification for creating a new assistant\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/assistants.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/assistants\" method=\"post\" %}\n```\n\n----------------------------------------\n\nTITLE: Defining Metadata for Document Indexing in Markdown\nDESCRIPTION: This code snippet defines metadata for two documents (Cat and Dog) using a Markdown table format. It demonstrates how to structure metadata for use with Record Managers in document indexing.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/record-managers.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Text | Metadata         |\n| ---- | ---------------- |\n| Cat  | `{source:\"cat\"}` |\n| Dog  | `{source:\"dog\"}` |\n```\n\n----------------------------------------\n\nTITLE: Swagger YAML for Vector Upsert API Endpoint\nDESCRIPTION: This YAML snippet defines the Swagger documentation for the Vector Upsert API endpoint. It specifies the path, method, and likely includes details about parameters, request body, and responses.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/vector-upsert.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/vector/upsert/{id}\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Storage Account for Flowise Web App\nDESCRIPTION: This snippet sets up the storage account configuration for the Flowise web app. It specifies the storage account name, access key, and mount path for Azure Files integration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_9\n\nLANGUAGE: hcl\nCODE:\n```\nstorage_account {\n  name         = \"${var.project_name}_mount\"\n  access_key   = azurerm_storage_account.sa.primary_access_key\n  account_name = azurerm_storage_account.sa.name\n  share_name   = azurerm_storage_share.flowise-share.name\n  type         = \"AzureFiles\"\n  mount_path   = \"/root\"\n}\n```\n\n----------------------------------------\n\nTITLE: Authenticating with Google Cloud CLI for VertexAI\nDESCRIPTION: Command to create local application default credentials using the Google Cloud CLI. This authenticates your local environment for Google Cloud services including VertexAI.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/google-vertexai.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngcloud auth application-default login\n```\n\n----------------------------------------\n\nTITLE: Installing and Configuring NGINX for Flowise\nDESCRIPTION: Commands to install NGINX, create a configuration file for Flowise, and restart the NGINX service.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install nginx\nnginx -v\nsudo systemctl start nginx\nsudo nano /etc/nginx/conf.d/flowise.conf\nsudo systemctl restart nginx\n```\n\n----------------------------------------\n\nTITLE: Setting Up Automatic Certificate Renewal Cron Job\nDESCRIPTION: Adds a cron job to automatically renew the SSL certificate every 12 hours with a random delay.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\necho \"0 0,12 * * * root /opt/certbot/bin/python -c 'import random; import time; time.sleep(random.random() * 3600)' && sudo certbot renew -q\" | sudo tee -a /etc/crontab > /dev/null\n```\n\n----------------------------------------\n\nTITLE: Swagger Reference for GET Upsert History Endpoint\nDESCRIPTION: Swagger reference to the GET method for the /upsert-history/{id} endpoint, using an external Swagger definition file.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/upsert-history.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/upsert-history/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Environment Variables for Enterprise Edition\nDESCRIPTION: Required environment variables that need to be set for enterprise Flowise deployments. These values must be obtained from Flowise support.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nLICENSE_URL\nFLOWISE_EE_LICENSE_KEY\n```\n\n----------------------------------------\n\nTITLE: Updating Chatflow (PUT /chatflows/{id})\nDESCRIPTION: Swagger documentation for the PUT endpoint to update an existing chatflow by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Cloning Zep Repository and Setting Environment Variables\nDESCRIPTION: Commands to clone the Zep repository, navigate to the directory, and set up the OpenAI API key in the .env file.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/getzep/zep.git\ncd zep\nnano .env\n```\n\n----------------------------------------\n\nTITLE: Configuring Authentication Environment Variables for Self-hosted Enterprise\nDESCRIPTION: Required environment variables for setting up authentication and security settings in self-hosted Flowise Enterprise installations.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/workspaces.md#2025-04-18_snippet_0\n\nLANGUAGE: env\nCODE:\n```\nJWT_AUTH_TOKEN_SECRET\nJWT_REFRESH_TOKEN_SECRET\nJWT_ISSUER\nJWT_AUDIENCE\nJWT_TOKEN_EXPIRY_IN_MINUTES\nJWT_REFRESH_TOKEN_EXPIRY_IN_MINUTES\nPASSWORD_RESET_TOKEN_EXPIRY_IN_MINS\nPASSWORD_SALT_HASH_ROUNDS\nTOKEN_HASH_SECRET\n```\n\n----------------------------------------\n\nTITLE: Running Flowise with Docker Compose\nDESCRIPTION: Commands to start Flowise using Docker Compose, stop the application, and update to the latest image.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d\ndocker compose stop\ndocker pull flowiseai/flowise\ndocker-compose pull\ndocker-compose up --build -d\n```\n\n----------------------------------------\n\nTITLE: Enabling Docker Service at Boot on EC2\nDESCRIPTION: Command to configure the Docker service to start automatically when the EC2 instance boots.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nsudo systemctl enable docker.service\n```\n\n----------------------------------------\n\nTITLE: Terraform Provider Configuration\nDESCRIPTION: Provider configuration specifying required versions and Azure provider setup\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\nterraform {\n  required_version = \">=0.12\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"=3.87.0\"\n    }\n    random = {\n      source  = \"hashicorp/random\"\n      version = \"~>3.0\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting Assistant (DELETE /assistants/{id})\nDESCRIPTION: Swagger documentation for the DELETE /assistants/{id} endpoint. This endpoint is used to delete a specific assistant identified by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/assistants.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"delete\" %}\n[swagger (1) (1).yml](<../.gitbook/assets/swagger (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Defining Metadata Filter for Pinecone in JSON\nDESCRIPTION: JSON object used as a metadata filter when upserting documents to Pinecone. This filter is used to segregate documents from different sources.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/multiple-documents-qna.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\"source\": \"apple\"}\n```\n\n----------------------------------------\n\nTITLE: Installing Flowise with npm\nDESCRIPTION: Command to globally install Flowise package via npm.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g flowise\n```\n\n----------------------------------------\n\nTITLE: Environment Configuration for Community Nodes\nDESCRIPTION: Sets up the environment variable to enable community nodes in Flowise server configuration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/contributing/building-node.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nSHOW_COMMUNITY_NODES=true\n```\n\n----------------------------------------\n\nTITLE: Installing NGINX on EC2 Instance\nDESCRIPTION: Command to install the NGINX web server on an EC2 instance using yum.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_21\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install nginx\n```\n\n----------------------------------------\n\nTITLE: Setting up Python Virtual Environment for Certbot Installation\nDESCRIPTION: Creates a Python virtual environment and upgrades pip for Certbot installation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nsudo python3 -m venv /opt/certbot/\nsudo /opt/certbot/bin/pip install --upgrade pip\n```\n\n----------------------------------------\n\nTITLE: Terraform Deployment Commands\nDESCRIPTION: Commands for planning and applying Terraform infrastructure deployment\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nterraform plan\nterraform apply\n```\n\n----------------------------------------\n\nTITLE: Creating Chatflows (POST /chatflows)\nDESCRIPTION: Swagger documentation for the POST endpoint to create new chatflows.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Main Azure Resource Configuration\nDESCRIPTION: Core Azure resource configuration including resource group and storage account setup\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nresource \"random_string\" \"resource_code\" {\n  length  = 5\n  special = false\n  upper   = false\n}\n\nresource \"azurerm_resource_group\" \"rg\" {\n  location = var.resource_group_location\n  name     = \"rg-${var.project_name}\"\n}\n\nresource \"azurerm_storage_account\" \"sa\" {\n  name                     = \"${var.subscription_name}${random_string.resource_code.result}\"\n  resource_group_name      = azurerm_resource_group.rg.name\n  location                 = azurerm_resource_group.rg.location\n  account_tier             = \"Standard\"\n  account_replication_type = \"LRS\"\n\n  blob_properties {\n    versioning_enabled = true\n  }\n}\n\nresource \"azurerm_storage_share\" \"flowise-share\" {\n  name                 = \"flowise\"\n  storage_account_name = azurerm_storage_account.sa.name\n  quota                = 50\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise with App-Level Authorization on Replit\nDESCRIPTION: This command starts Flowise with username and password authentication. The FLOWISE_USERNAME and FLOWISE_PASSWORD environment variables are used to set the credentials for accessing the application.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/replit.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise start --FLOWISE_USERNAME=user --FLOWISE_PASSWORD=1234\n```\n\n----------------------------------------\n\nTITLE: Session ID Override Configuration JSON\nDESCRIPTION: Example JSON request body showing how to specify a sessionId in the prediction API to separate conversations for different users.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/README.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"question\": \"hello!\",\n    \"overrideConfig\": {\n        \"sessionId\": \"user1\"\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Deploying Flowise with Terraform on AWS\nDESCRIPTION: Basic Terraform commands for initializing the configuration, applying the changes to create the infrastructure, and destroying resources when no longer needed.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nterraform init\nterraform apply\nterraform destroy\n```\n\n----------------------------------------\n\nTITLE: Connecting to EC2 Instance (Mac/Linux)\nDESCRIPTION: SSH command to connect to an EC2 instance from Mac or Linux, using a .pem key file.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nssh -i /Users/username/Documents/mykey.pem ec2-user@ec2-123-45-678-910.compute-1.amazonaws.com\n```\n\n----------------------------------------\n\nTITLE: Building Chroma Docker Image and Container\nDESCRIPTION: Docker Compose command to build and run the Chroma image and container in detached mode.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/chroma.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d --build\n```\n\n----------------------------------------\n\nTITLE: GET Feedback API Endpoint\nDESCRIPTION: Swagger definition for retrieving feedback by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/feedback.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Get Lead Endpoint Swagger Definition\nDESCRIPTION: Swagger definition for retrieving a specific lead by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/leads.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/leads/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: PostgreSQL Database Configuration\nDESCRIPTION: Terraform configuration for setting up PostgreSQL Flexible Server with firewall rules and database settings\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\nresource \"azurerm_postgresql_flexible_server\" \"postgres\" {\n  name                         = \"postgresql-${var.project_name}\"\n  location                     = azurerm_resource_group.rg.location\n  resource_group_name          = azurerm_resource_group.rg.name\n  sku_name                     = \"GP_Standard_D2s_v3\"\n  storage_mb                   = 32768\n  version                      = \"11\"\n  delegated_subnet_id          = azurerm_subnet.dbsubnet.id\n  private_dns_zone_id          = azurerm_private_dns_zone.postgres.id\n  backup_retention_days        = 7\n  geo_redundant_backup_enabled = false\n  auto_grow_enabled            = false\n  administrator_login          = var.db_username\n  administrator_password       = var.db_password\n  zone                        = \"2\"\n\n  lifecycle {\n    prevent_destroy = false\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Azure CLI Login and Subscription Setup\nDESCRIPTION: Commands for authenticating with Azure CLI and setting the active subscription\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\naz login --tenant <Your Subscription ID> --use-device-code\n```\n\nLANGUAGE: bash\nCODE:\n```\naz account set --subscription <Your Subscription ID>\n```\n\n----------------------------------------\n\nTITLE: Setting up Flowise Application\nDESCRIPTION: Commands for cloning the Flowise repository and configuring the environment variables for deployment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/digital-ocean.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\n```\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise && cd docker\n```\n\nLANGUAGE: bash\nCODE:\n```\nnano .env\n```\n\nLANGUAGE: sh\nCODE:\n```\nPORT=3000\nDATABASE_PATH=/root/.flowise\nAPIKEY_PATH=/root/.flowise\nSECRETKEY_PATH=/root/.flowise\nLOG_PATH=/root/.flowise/logs\nBLOB_STORAGE_PATH=/root/.flowise/storage\n```\n\n----------------------------------------\n\nTITLE: Updating a Specific Tool (PUT /tools/{id})\nDESCRIPTION: Swagger documentation for the PUT /tools/{id} endpoint, used to update a specific tool by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/tools.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Get Variables - GET Endpoint\nDESCRIPTION: API endpoint for retrieving variables via GET request to /variables\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/variables.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: Create Lead Endpoint Swagger Definition\nDESCRIPTION: Swagger definition for creating a new lead\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/leads.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/leads\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Cloning Chroma Repository\nDESCRIPTION: Command to clone the Chroma repository from GitHub using Git.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/chroma.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/chroma-core/chroma.git\n```\n\n----------------------------------------\n\nTITLE: Variable Definitions - Terraform\nDESCRIPTION: Declaration of all variables used in the Terraform configuration including resource locations and credentials.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\n// variables.tf\nvariable \"resource_group_location\" {\n  default     = \"westeurope\"\n  description = \"Location of the resource group.\"\n}\n\nvariable \"container_rg_name\" {\n  default     = \"acrllm\"\n  description = \"Name of container regrestry.\"\n}\n\nvariable \"subscription_id\" {\n  type        = string\n  sensitive   = true\n  description = \"Service Subscription ID\"\n}\n\nvariable \"subscription_name\" {\n  type        = string\n  description = \"Service Subscription Name\"\n}\n\nvariable \"project_name\" {\n  type        = string\n  description = \"Project Name\"\n}\n\nvariable \"db_username\" {\n  type        = string\n  description = \"DB User Name\"\n}\n\nvariable \"db_password\" {\n  type        = string\n  sensitive   = true\n  description = \"DB Password\"\n}\n\nvariable \"flowise_username\" {\n  type        = string\n  description = \"Flowise User Name\"\n}\n\nvariable \"flowise_password\" {\n  type        = string\n  sensitive   = true\n  description = \"Flowise User Password\"\n}\n\nvariable \"flowise_secretkey_overwrite\" {\n  type        = string\n  sensitive   = true\n  description = \"Flowise secret key\"\n}\n\nvariable \"webapp_ip_rules\" {\n  type = list(object({\n    name                      = string\n    ip_address                = string\n    headers                   = string\n    virtual_network_subnet_id = string\n    subnet_id                 = string\n    service_tag               = string\n    priority                  = number\n    action                    = string\n  }))\n}\n\nvariable \"postgres_ip_rules\" {\n  description = \"A map of IP addresses and their corresponding names for firewall rules\"\n  type        = map(string)\n  default     = {}\n}\n\nvariable \"flowise_image\" {\n  type        = string\n  description = \"Flowise image from Docker Hub\"\n}\n\nvariable \"tagged_image\" {\n  type        = string\n  description = \"Tag for flowise image version\"\n}\n```\n\n----------------------------------------\n\nTITLE: Running Ollama with Docker for Flowise Integration\nDESCRIPTION: This code snippet demonstrates how to spin up a Docker instance of Ollama and run the llama3 model. It creates a Docker container named 'ollama' and executes the llama3 model within it.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatollama.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -d -v ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama\ndocker exec -it ollama ollama run llama3\n```\n\n----------------------------------------\n\nTITLE: Deploying Flowise with Docker Image\nDESCRIPTION: Commands for building, running, and stopping a Docker image for Flowise deployment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ndocker build --no-cache -t flowise .\n```\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -d --name flowise -p 3000:3000 flowise\n```\n\nLANGUAGE: bash\nCODE:\n```\ndocker stop flowise\n```\n\n----------------------------------------\n\nTITLE: Setting Custom State via API in Flowise\nDESCRIPTION: This JSON snippet illustrates how to set a custom state using the Flowise API. It includes a question and overrideConfig with stateMemory settings.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"question\": \"hello\",\n    \"overrideConfig\": {\n        \"stateMemory\": [\n            {\n                \"Key\": \"userName\",\n                \"Operation\": \"Replace\",\n                \"Default Value\": \"somevalue\"\n            }\n        ]\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Modifying Flowise Docker Compose Configuration\nDESCRIPTION: Docker Compose configuration for running Flowise with Chroma network integration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/chroma.md#2025-04-18_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nversion: '3.1'\n\nservices:\n    flowise:\n        image: flowiseai/flowise\n        restart: always\n        environment:\n            - PORT=${PORT}\n            - FLOWISE_USERNAME=${FLOWISE_USERNAME}\n            - FLOWISE_PASSWORD=${FLOWISE_PASSWORD}\n            - DEBUG=${DEBUG}\n            - DATABASE_PATH=${DATABASE_PATH}\n            - APIKEY_PATH=${APIKEY_PATH}\n            - SECRETKEY_PATH=${SECRETKEY_PATH}\n            - FLOWISE_SECRETKEY_OVERWRITE=${FLOWISE_SECRETKEY_OVERWRITE}\n            - LOG_PATH=${LOG_PATH}\n            - LOG_LEVEL=${LOG_LEVEL}\n            - EXECUTION_MODE=${EXECUTION_MODE}\n        ports:\n            - '${PORT}:${PORT}'\n        volumes:\n            - ~/.flowise:/root/.flowise\n        networks:\n            - flowise_net\n        command: /bin/sh -c \"sleep 3; flowise start\"\nnetworks:\n    flowise_net:\n        name: chroma_net\n        external: true\n```\n\n----------------------------------------\n\nTITLE: Retrieving Lead Endpoint Definition\nDESCRIPTION: Swagger configuration for GET endpoint to retrieve a specific lead by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/leads.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/leads/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Get Assistant by ID Endpoint - Swagger YAML\nDESCRIPTION: GET endpoint specification for retrieving a specific assistant by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/assistants.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: GET Chat Message API Endpoint\nDESCRIPTION: Swagger documentation for the GET /chatmessage/{id} endpoint that retrieves a specific chat message by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chat-message.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (3).yml\" path=\"/chatmessage/{id}\" method=\"get\" %}\n[swagger (3).yml](<../.gitbook/assets/swagger (3).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Provider Configuration - Terraform\nDESCRIPTION: Azure provider configuration and required provider versions.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\n// providers.tf\nterraform {\n  required_version = \">=0.12\"\n\n  required_providers {\n    azurerm = {\n      source  = \"hashicorp/azurerm\"\n      version = \"=3.87.0\"\n    }\n    random = {\n      source  = \"hashicorp/random\"\n      version = \"~>3.0\"\n    }\n  }\n}\n\nprovider \"azurerm\" {\n  subscription_id = var.subscription_id\n  features {}\n}\n```\n\n----------------------------------------\n\nTITLE: Simple Development Setup with PNPM\nDESCRIPTION: Step-by-step commands for a simple development setup using PNPM, including cloning the repository, installing dependencies, building, and starting the application.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\n```\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise\n```\n\nLANGUAGE: bash\nCODE:\n```\npnpm install\n```\n\nLANGUAGE: bash\nCODE:\n```\npnpm build\n```\n\nLANGUAGE: bash\nCODE:\n```\npnpm start\n```\n\n----------------------------------------\n\nTITLE: Installing Certbot and NGINX Plugin\nDESCRIPTION: Installs Certbot and its NGINX plugin within the virtual environment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_28\n\nLANGUAGE: bash\nCODE:\n```\nsudo /opt/certbot/bin/pip install certbot certbot-nginx\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - GET /chatflows\nDESCRIPTION: Swagger definition for retrieving chatflows\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: Retrieving Specific Assistant (GET /assistants/{id})\nDESCRIPTION: Swagger documentation for the GET /assistants/{id} endpoint. This endpoint is used to retrieve a specific assistant by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/assistants.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"get\" %}\n[swagger (1) (1).yml](<../.gitbook/assets/swagger (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Deleting Chatflow (DELETE /chatflows/{id})\nDESCRIPTION: Swagger documentation for the DELETE endpoint to remove a chatflow by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/chatflows.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Starting LiteLLM Proxy with Docker\nDESCRIPTION: Docker command to launch the LiteLLM proxy server with a mounted configuration file, exposing port 4000 and enabling detailed debug logging.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/litellm/README.md#2025-04-18_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ndocker run \\\n    -v $(pwd)/litellm_config.yaml:/app/config.yaml \\\n    -p 4000:4000 \\\n    ghcr.io/berriai/litellm:main-latest \\\n    --config /app/config.yaml --detailed_debug\n```\n\n----------------------------------------\n\nTITLE: Swagger Prediction Endpoint Definition\nDESCRIPTION: OpenAPI/Swagger specification for the /prediction/{id} POST endpoint that handles prediction requests.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/prediction.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/prediction/{id}\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Web App VNet Integration for Flowise\nDESCRIPTION: This snippet sets up the virtual network integration for the Flowise web app. It connects the web app to a specific subnet in the virtual network.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_11\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"azurerm_app_service_virtual_network_swift_connection\" \"webappvnetintegrationconnection\" {\n  app_service_id = azurerm_linux_web_app.webapp.id\n  subnet_id      = azurerm_subnet.webappsubnet.id\n\n  depends_on = [azurerm_linux_web_app.webapp, azurerm_subnet.webappsubnet]\n}\n```\n\n----------------------------------------\n\nTITLE: Update Variable - PUT Endpoint\nDESCRIPTION: API endpoint for updating a specific variable by ID via PUT request to /variables/{id}\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/variables.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables/{id}\" method=\"put\" %}\n```\n\n----------------------------------------\n\nTITLE: Swagger Tool Endpoints Reference\nDESCRIPTION: Swagger documentation for the tools API endpoints including creating, reading, updating and deleting tools. References an external Swagger YAML file for the API specification.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/tools.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Delete Chat Message API Endpoint\nDESCRIPTION: Swagger specification for the DELETE endpoint to remove a chat message by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chat-message.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (4).yml\" path=\"/chatmessage/{id}\" method=\"delete\" %}\n[swagger (4).yml](<../.gitbook/assets/swagger (4).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Installing PNPM for Development\nDESCRIPTION: Command to install PNPM globally, which is a prerequisite for developer setup of Flowise.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nnpm i -g pnpm\n```\n\n----------------------------------------\n\nTITLE: Get Chat Message API Endpoint\nDESCRIPTION: Swagger specification for the GET endpoint to retrieve a chat message by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chat-message.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (3).yml\" path=\"/chatmessage/{id}\" method=\"get\" %}\n[swagger (3).yml](<../.gitbook/assets/swagger (3).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Importing External Dependencies in Javascript Function\nDESCRIPTION: Demonstrates how to import external dependencies in a Javascript function after adding them to the project and environment variables.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\nconst axios = require('axios')\n```\n\n----------------------------------------\n\nTITLE: Web App Configuration - Terraform\nDESCRIPTION: Azure Web App service configuration including service plan and Linux web app setup.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\n// webapp.tf\n#Create the Linux App Service Plan\nresource \"azurerm_service_plan\" \"webappsp\" {\n  name                = \"asp${var.project_name}\"\n  resource_group_name = azurerm_resource_group.rg.name\n  location            = azurerm_resource_group.rg.location\n  os_type             = \"Linux\"\n  sku_name            = \"P3v3\"\n}\n\nresource \"azurerm_linux_web_app\" \"webapp\" {\n  name                = var.project_name\n  resource_group_name = azurerm_resource_group.rg.name\n  location            = azurerm_resource_group.rg.location\n  service_plan_id     = azurerm_service_plan.webappsp.id\n\n  app_settings = {\n    DOCKER_ENABLE_CI                    = true\n    WEBSITES_CONTAINER_START_TIME_LIMIT = 1800\n    WEBSITES_ENABLE_APP_SERVICE_STORAGE = false\n    APIKEY_PATH                         = \"/root\"\n    DATABASE_TYPE                       = \"postgres\"\n    DATABASE_HOST                       = azurerm_postgresql_flexible_server.postgres.fqdn\n    DATABASE_NAME                       = azurerm_postgresql_flexible_server_database.production.name\n    DATABASE_USER                       = azurerm_postgresql_flexible_server.postgres.administrator_login\n\n```\n\n----------------------------------------\n\nTITLE: Creating Azure Resource Group via CLI\nDESCRIPTION: Azure CLI command to create a new resource group for Flowise deployment\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\naz group create --name flowise-rg --location \"West US\"\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - DELETE /chatflows/{id}\nDESCRIPTION: Swagger definition for deleting a specific chatflow by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"delete\" %}\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - GET /chatflows/{id}\nDESCRIPTION: Swagger definition for retrieving a specific chatflow by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: Configuring Firewall for Zep\nDESCRIPTION: Commands to allow firewall access to port 8000 for Zep and check the firewall status.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nsudo ufw allow from any to any port 8000 proto tcp\nufw status numbered\n```\n\n----------------------------------------\n\nTITLE: Sending Session ID to Discord Webhook in Javascript\nDESCRIPTION: Example of a custom tool function that sends a message with the session ID to a Discord webhook using node-fetch.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/custom-tool.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst fetch = require('node-fetch');\nconst webhookUrl = \"https://discord.com/api/webhooks/1124783587267\";\nconst content = $content; // captured from input schema\nconst sessionId = $flow.sessionId;\n\nconst body = {\n\t\"content\": `${mycontent} and the sessionid is ${sessionId}`\n};\n\nconst options = {\n\tmethod: 'POST',\n\theaders: {\n\t\t'Content-Type': 'application/json'\n\t},\n\tbody: JSON.stringify(body)\n};\n\nconst url = `${webhookUrl}?wait=true`\n\ntry {\n\tconst response = await fetch(url, options);\n\tconst text = await response.text();\n\treturn text;\n} catch (error) {\n\tconsole.error(error);\n\treturn '';\n}\n```\n\n----------------------------------------\n\nTITLE: Initial Repository Setup - Bash Commands\nDESCRIPTION: Commands for cloning the Flowise repository and navigating to the terraform directory.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\n```\n\nLANGUAGE: bash\nCODE:\n```\ncd Flowise/terraform/azure\n```\n\n----------------------------------------\n\nTITLE: SQLite Database Backup Commands - Windows\nDESCRIPTION: Commands for backing up SQLite database on Windows systems, including renaming and copying database files.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nrename \"DATABASE_PATH\\database.sqlite\" \"DATABASE_PATH\\BACKUP_FILE_NAME.sqlite\"\ncopy DATABASE_PATH\\BACKUP_FILE_NAME.sqlite DATABASE_PATH\\database.sqlite\n```\n\n----------------------------------------\n\nTITLE: Retrieving All Tools (GET /tools)\nDESCRIPTION: Swagger documentation for the GET /tools endpoint, used to retrieve all tools from the system.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/tools.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Navigating to Docker Folder\nDESCRIPTION: Command to change directory to the Docker folder for Docker-based installation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/authorization/app-level.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncd docker\n```\n\n----------------------------------------\n\nTITLE: Copying Model to LocalAI Directory in Bash\nDESCRIPTION: Command to copy a local model file to the models directory in LocalAI.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncp your-model.bin models/\n```\n\n----------------------------------------\n\nTITLE: Swagger API Path Definition - PUT /chatflows/{id}\nDESCRIPTION: Swagger definition for updating a specific chatflow by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/chatflows.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/chatflows/{id}\" method=\"put\" %}\n```\n\n----------------------------------------\n\nTITLE: Updating EC2 Instance System Packages\nDESCRIPTION: Command to apply pending updates to an EC2 instance using the yum package manager.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum update\n```\n\n----------------------------------------\n\nTITLE: Azure Network Configuration\nDESCRIPTION: Network infrastructure setup including virtual networks, subnets, and DNS configuration\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nresource \"azurerm_virtual_network\" \"vnet\" {\n  name                = \"vn-${var.project_name}\"\n  location            = azurerm_resource_group.rg.location\n  resource_group_name = azurerm_resource_group.rg.name\n  address_space       = [\"10.3.0.0/16\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Feedback Entry (POST) - Swagger YAML\nDESCRIPTION: Swagger documentation for the POST endpoint to create a new feedback entry.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/feedback.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Searching for Docker Package on EC2\nDESCRIPTION: Command to search for Docker packages available in the yum repository on an EC2 instance.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum search docker\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise Worker with Git Clone\nDESCRIPTION: Command to start a Flowise worker after cloning the repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/running-flowise-using-queue.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npnpm start-worker\n```\n\n----------------------------------------\n\nTITLE: Attachments API Endpoint Specification in Swagger\nDESCRIPTION: Swagger/OpenAPI specification for the POST /attachments/{chatflowId}/{chatId} endpoint that handles file attachments. The endpoint is parameter-based with chatflowId and chatId path parameters.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/attachments.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nswagger src=\"../.gitbook/assets/swagger (1).yml\" path=\"/attachments/{chatflowId}/{chatId}\" method=\"post\"\n```\n\n----------------------------------------\n\nTITLE: Cloning Flowise Repository\nDESCRIPTION: Command to clone the Flowise repository from GitHub to the EC2 instance.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\n```\n\n----------------------------------------\n\nTITLE: SQLite Database Backup Commands - Linux\nDESCRIPTION: Commands for backing up SQLite database on Linux systems using mv and cp commands.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/databases.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nmv DATABASE_PATH/database.sqlite DATABASE_PATH/BACKUP_FILE_NAME.sqlite\ncp DATABASE_PATH/BACKUP_FILE_NAME.sqlite DATABASE_PATH/database.sqlite\n```\n\n----------------------------------------\n\nTITLE: PUT Feedback API Endpoint\nDESCRIPTION: Swagger definition for updating existing feedback by ID\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/feedback.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Updating Feedback Entry (PUT) - Swagger YAML\nDESCRIPTION: Swagger documentation for the PUT endpoint to update an existing feedback entry by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/feedback.md#2025-04-18_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback/{id}\" method=\"put\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Setting Up Python Virtual Environment for Certbot\nDESCRIPTION: Creates a Python virtual environment and upgrades pip for Certbot installation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_27\n\nLANGUAGE: bash\nCODE:\n```\nsudo python3 -m venv /opt/certbot/\nsudo /opt/certbot/bin/pip install --upgrade pip\n```\n\n----------------------------------------\n\nTITLE: Setting Up Flowise on EC2 Instance\nDESCRIPTION: Commands to clone the Flowise repository, navigate to the docker folder, and create a .env file for configuration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/FlowiseAI/Flowise.git\ncd Flowise && cd docker\nnano .env\n```\n\n----------------------------------------\n\nTITLE: Retrieving Feedback Entry (GET) - Swagger YAML\nDESCRIPTION: Swagger documentation for the GET endpoint to retrieve a specific feedback entry by ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/feedback.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Installing Git on EC2 Instance\nDESCRIPTION: Command to install Git version control system on an EC2 instance using yum.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_12\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install git -y\n```\n\n----------------------------------------\n\nTITLE: Installing Git on EC2 Instance\nDESCRIPTION: Command to install Git on an EC2 instance using yum package manager.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install git -y\n```\n\n----------------------------------------\n\nTITLE: Starting LocalAI with Docker Compose\nDESCRIPTION: Command to start LocalAI using Docker Compose, ensuring the latest image is pulled.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d --pull always\n```\n\n----------------------------------------\n\nTITLE: Tool Creation Event Structure in JSON\nDESCRIPTION: JSON structure for the tool_created event telemetry data, capturing tool version, ID, and name information.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/telemetry.md#2025-04-18_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"version\": <app-version>,\n    \"toolId\": <tool-id>,\n    \"toolName\": <tool-name>\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Docker on EC2 Instance\nDESCRIPTION: Series of commands to install Docker and Docker Compose on an EC2 instance, including system updates and user permissions.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum update\nsudo yum search docker\nsudo yum info docker\nsudo yum install docker\nsudo usermod -a -G docker ec2-user\nid ec2-user\nnewgrp docker\nsudo yum install docker-compose-plugin\nsudo systemctl enable docker.service\nsudo systemctl start docker.service\n```\n\n----------------------------------------\n\nTITLE: POST Feedback API Endpoint\nDESCRIPTION: Swagger definition for creating new feedback\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/feedback.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/feedback\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Query Input Processing\nDESCRIPTION: Example input showing the query processing format that includes schema definition and user question.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/use-cases/sql-qna.md#2025-04-18_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nBased on the provided SQL table schema and question below, return a SQL SELECT ALL query that would answer the user's question. For example: SELECT * FROM table WHERE id = '1'.\\n------------\\nSCHEMA: CREATE TABLE samples (id bigint(20) NOT NULL, firstName varchar(300) NOT NULL, lastName varchar(300) NOT NULL, userAddress varchar(300) NOT NULL, userState varchar(300) NOT NULL, userCode varchar(300) NOT NULL, userPostal varchar(300) NOT NULL, createdate timestamp(6) NOT NULL)\\nSELECT * FROM samples LIMIT 3\\nid firstName lastName userAddress userState userCode userPostal createdate\\n1125899906842627 Steven Repici 14 Kingston St. Oregon NJ 5578 Thu Dec 14 2023 13:06:17 GMT+0800 (Singapore Standard Time)\\n1125899906842625 John Doe 120 jefferson st. Riverside NJ 8075 Thu Dec 14 2023 13:04:32 GMT+0800 (Singapore Standard Time)\\n1125899906842629 Bert Jet 9th, at Terrace plc Desert City CO 8576 Thu Dec 14 2023 13:07:11 GMT+0800 (Singapore Standard Time)\\n------------\\nQUESTION: what is the address of John\\n------------\\nSQL QUERY:\n```\n\n----------------------------------------\n\nTITLE: Deploying Container Instance with Persistent Storage\nDESCRIPTION: Azure CLI command to create a container instance running Flowise with Azure File Share for persistent storage\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\naz container create -g flowise-rg \\\n\t--name flowise \\\n\t--image flowiseai/flowise \\\n\t--command-line \"/bin/sh -c 'flowise start'\" \\\n\t--environment-variables FLOWISE_USERNAME=flowise-user FLOWISE_PASSWORD=flowise-password DATABASE_PATH=/opt/flowise/.flowise APIKEY_PATH=/opt/flowise/.flowise SECRETKEY_PATH=/opt/flowise/.flowise LOG_PATH=/opt/flowise/.flowise/logs BLOB_STORAGE_PATH=/opt/flowise/.flowise/storage \\\n\t--ip-address public \\\n\t--ports 80 3000 \\\n\t--restart-policy OnFailure \\\n\t--azure-file-volume-share-name here goes the name of your File share \\\n\t--azure-file-volume-account-name here goes the name of your Storage Account \\\n\t--azure-file-volume-account-key here goes the access key to your Storage Account \\\n\t--azure-file-volume-mount-path /opt/flowise/.flowise\n```\n\n----------------------------------------\n\nTITLE: Cloning LocalAI Repository in Bash\nDESCRIPTION: This command clones the LocalAI repository from GitHub to the local machine.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/integraciones/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/go-skynet/LocalAI\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Environment Variables\nDESCRIPTION: Sample environment variables to be added to the .env file for Flowise configuration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nPORT=3000\nDATABASE_PATH=/root/.flowise\nAPIKEY_PATH=/root/.flowise\nSECRETKEY_PATH=/root/.flowise\nLOG_PATH=/root/.flowise/logs\nBLOB_STORAGE_PATH=/root/.flowise/storage\n```\n\n----------------------------------------\n\nTITLE: Fallback SQL Query\nDESCRIPTION: Default SQL query used when processing non-database related questions.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/use-cases/sql-qna.md#2025-04-18_snippet_3\n\nLANGUAGE: sql\nCODE:\n```\nSELECT * FROM samples LIMIT 3\n```\n\n----------------------------------------\n\nTITLE: Ping Endpoint Definition - Swagger YAML\nDESCRIPTION: Swagger/OpenAPI definition for a GET /ping endpoint that is typically used for health checks and API availability verification.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/ping.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/ping\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Installing Certbot and NGINX Plugin\nDESCRIPTION: Installs Certbot and the NGINX plugin using pip in the virtual environment.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nsudo /opt/certbot/bin/pip install certbot certbot-nginx\n```\n\n----------------------------------------\n\nTITLE: Referencing Swagger YAML for Prediction Endpoint in GitBook\nDESCRIPTION: This snippet uses GitBook's custom syntax to include and render a Swagger API specification from an external YAML file. It specifically targets the POST method for the '/prediction/{id}' endpoint.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/prediction.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/prediction/{id}\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Natural Language Response Processing\nDESCRIPTION: Input format for generating natural language response from SQL query results.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/use-cases/sql-qna.md#2025-04-18_snippet_2\n\nLANGUAGE: text\nCODE:\n```\nBased on the question, and SQL response, write a natural language response, be details as possible:\\n------------\\nQUESTION: what is the address of John\\n------------\\nSQL RESPONSE: [{\\\"userAddress\\\":\\\"120 jefferson st.\\\"}]\\n------------\\nNATURAL LANGUAGE RESPONSE:\n```\n\n----------------------------------------\n\nTITLE: Cloning LocalAI Repository in Bash\nDESCRIPTION: Command to clone the LocalAI repository from GitHub.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/go-skynet/LocalAI\n```\n\n----------------------------------------\n\nTITLE: Creating .env File for Flowise Configuration\nDESCRIPTION: Command to create and edit a .env file using the nano text editor for configuring Flowise environment variables.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_15\n\nLANGUAGE: bash\nCODE:\n```\nnano .env\n```\n\n----------------------------------------\n\nTITLE: Checking NGINX Version\nDESCRIPTION: Command to display the installed version of NGINX.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_22\n\nLANGUAGE: bash\nCODE:\n```\nnginx -v\n```\n\n----------------------------------------\n\nTITLE: Creating Symbolic Link for Certbot Command\nDESCRIPTION: Creates a symbolic link to make the certbot command accessible system-wide.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/aws.md#2025-04-18_snippet_11\n\nLANGUAGE: bash\nCODE:\n```\nsudo ln -s /opt/certbot/bin/certbot /usr/bin/certbot\n```\n\n----------------------------------------\n\nTITLE: Fallback Response Prompt\nDESCRIPTION: Prompt used to generate a polite response for queries that cannot be answered.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/use-cases/sql-qna.md#2025-04-18_snippet_4\n\nLANGUAGE: text\nCODE:\n```\nPolitely say \"I'm not able to answer query\"\n```\n\n----------------------------------------\n\nTITLE: Evaluating Keyword Condition in Conversation History using JavaScript\nDESCRIPTION: This code snippet checks if the user's last message contains the word 'yes' and routes the flow accordingly. It demonstrates how to access the conversation history and perform string matching.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\nconst lastMessage = $flow.state.messages[$flow.state.messages.length - 1].content; \nreturn lastMessage.includes(\"yes\") ? \"Output 1\" : \"Output 2\";\n```\n\n----------------------------------------\n\nTITLE: Changing Directory to LocalAI\nDESCRIPTION: Navigation command to enter the LocalAI project directory after cloning.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd LocalAI\n```\n\n----------------------------------------\n\nTITLE: Testing LocalAI API in Bash\nDESCRIPTION: Curl command to test the LocalAI API by retrieving available models.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:8080/v1/models\n```\n\n----------------------------------------\n\nTITLE: Creating Certbot Symbolic Link\nDESCRIPTION: Creates a symbolic link to make the certbot command globally accessible.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_29\n\nLANGUAGE: bash\nCODE:\n```\nsudo ln -s /opt/certbot/bin/certbot /usr/bin/certbot\n```\n\n----------------------------------------\n\nTITLE: Generated SQL Query\nDESCRIPTION: SQL query generated to fetch John's address from the samples table.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/use-cases/sql-qna.md#2025-04-18_snippet_1\n\nLANGUAGE: sql\nCODE:\n```\nSELECT userAddress FROM samples WHERE firstName = 'John'\n```\n\n----------------------------------------\n\nTITLE: Installing Docker on EC2 Instance\nDESCRIPTION: Command to install Docker on an EC2 instance using the yum package manager.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum install docker\n```\n\n----------------------------------------\n\nTITLE: Create Variable - POST Endpoint\nDESCRIPTION: API endpoint for creating a new variable via POST request to /variables\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/variables.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables\" method=\"post\" %}\n```\n\n----------------------------------------\n\nTITLE: State Object Usage Example\nDESCRIPTION: Example demonstrating potential issues with inconsistent state updates in the workflow\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_2\n\nLANGUAGE: plaintext\nCODE:\n```\n1. Agent 1 updates orderStatus to \"Payment Confirmed\".\n2. Agent 2, in a different branch, updates orderStatus to \"Order Complete\" without checking the previous status.\n```\n\n----------------------------------------\n\nTITLE: Defining Simple Chat Engine Inputs in Markdown\nDESCRIPTION: Lists the required inputs for the Simple Chat Engine, which are the Chat Model and Memory component.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/engine/simple-chat-engine.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n## Inputs\n\n* Chat Model\n* [Memory](../../langchain/memory/)\n```\n\n----------------------------------------\n\nTITLE: Configuring SearXNG Settings in YAML\nDESCRIPTION: YAML configuration for SearXNG settings, disabling the server limiter, enabling debug mode, and specifying search formats to include HTML and JSON.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/tools/searxng.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nserver:\n  limiter: false\ngeneral:\n  debug: true\nsearch:\n  formats:\n    - html\n    - json\n```\n\n----------------------------------------\n\nTITLE: Getting Docker Package Information on EC2\nDESCRIPTION: Command to display detailed information about the Docker package available in the yum repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nsudo yum info docker\n```\n\n----------------------------------------\n\nTITLE: Delete Variable - DELETE Endpoint\nDESCRIPTION: API endpoint for deleting a specific variable by ID via DELETE request to /variables/{id}\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/variables.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/variables/{id}\" method=\"delete\" %}\n```\n\n----------------------------------------\n\nTITLE: Defining Vectara QA Chain Outputs in Markdown\nDESCRIPTION: This code snippet defines the outputs for the Vectara QA Chain in a markdown table format. It specifies the output name and its description.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chains/vectara-chain.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Name           | Description                   |\n| -------------- | ----------------------------- |\n| VectaraQAChain | Final node to return response |\n```\n\n----------------------------------------\n\nTITLE: Validating SQL Query with If-Else Node\nDESCRIPTION: This snippet checks if the generated SQL query is valid by ensuring it contains 'SELECT' and 'WHERE' clauses.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/sql-qna.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst sqlQuery = $sqlQuery.trim();\n\nconst regex = /SELECT\\s.*?(?:\\n|$)/gi;\n\n// Extracting the SQL part\nconst matches = sqlQuery.match(regex);\nconst cleanSql = matches ? matches[0].trim() : \"\";\n\nif (cleanSql.includes(\"SELECT\") && cleanSql.includes(\"WHERE\")) {\n    return cleanSql;\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Vectara QA Chain Parameters in Markdown\nDESCRIPTION: This code snippet defines the parameters for the Vectara QA Chain in a markdown table format. It includes the parameter names, their descriptions, and implicitly their data types.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chains/vectara-chain.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                   | Description                                                   |\n| ---------------------- | ------------------------------------------------------------- |\n| Summarizer Prompt Name | model to be used in generating the summary                    |\n| Response Language      | desired language for the response                             |\n| Max Summarized Results | number of top results to use in summarization (defaults to 7) |\n```\n\n----------------------------------------\n\nTITLE: Changing Directory to Chroma\nDESCRIPTION: Command to change the current directory to the cloned Chroma repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/chroma.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd chroma\n```\n\n----------------------------------------\n\nTITLE: Starting NGINX Service\nDESCRIPTION: Command to start the NGINX service on the EC2 instance.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_23\n\nLANGUAGE: bash\nCODE:\n```\nsudo systemctl start nginx\n```\n\n----------------------------------------\n\nTITLE: Chatflow Creation Event Structure in JSON\nDESCRIPTION: JSON structure for the chatflow_created event telemetry data, including version, chatflow ID, and flow graph details.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/telemetry.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"version\": <app-version>,\n    \"chatlowId\": <chatflow-id>,\n    \"flowGraph\": {\n        \"nodes\": [<nodeid-1>, <nodeid-2>],\n        \"edges\": [\n            {\n                \"source\": <nodeid-1>,\n                \"target\": <nodeid-2>\n            }\n        ]\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Testing LocalAI Embeddings API\nDESCRIPTION: cURL command to test the LocalAI embeddings endpoint using the text-embedding-ada-002 model with a sample input.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:8080/v1/embeddings -H \"Content-Type: application/json\" -d '{\n    \"input\": \"Test\",\n    \"model\": \"text-embedding-ada-002\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Describing Simple Chat Engine Outputs in Markdown\nDESCRIPTION: Outlines the outputs of the Simple Chat Engine using a markdown table, specifying the output name and its description.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/engine/simple-chat-engine.md#2025-04-18_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n## Outputs\n\n| Name             | Description                   |\n| ---------------- | ----------------------------- |\n| SimpleChatEngine | Final node to return response |\n```\n\n----------------------------------------\n\nTITLE: Creating a Dataset Table in Markdown\nDESCRIPTION: This snippet demonstrates how to create a markdown table for a dataset with input-output pairs. It shows examples of questions and their expected answers.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/evaluations.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Input                             | Output                       |\n| --------------------------------- | ---------------------------- |\n| What is the capital of UK         | Capital of UK is London      |\n| How many days are there in a year | There are 365 days in a year |\n```\n\n----------------------------------------\n\nTITLE: Changing Directory to LocalAI in Bash\nDESCRIPTION: Command to change the current directory to the cloned LocalAI repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/chat-models/chatlocalai.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd LocalAI\n```\n\n----------------------------------------\n\nTITLE: Creating Kubernetes Service Configuration for Flowise\nDESCRIPTION: YAML configuration for creating a Kubernetes service to expose the Flowise deployment, using a LoadBalancer for external access.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n# service.yaml\napiVersion: \"v1\"\nkind: \"Service\"\nmetadata:\n  name: \"flowise-service\"\n  namespace: \"default\"\n  labels:\n    app: \"flowise\"\nspec:\n  ports:\n  - protocol: \"TCP\"\n    port: 80\n    targetPort: 3000\n  selector:\n    app: \"flowise\"\n  type: \"LoadBalancer\"\n```\n\n----------------------------------------\n\nTITLE: Specifying Simple Chat Engine Parameters in Markdown\nDESCRIPTION: Defines the parameters for the Simple Chat Engine using a markdown table. It includes the parameter name and its description.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/engine/simple-chat-engine.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n## Parameters\n\n| Name           | Description                                   |\n| -------------- | --------------------------------------------- |\n| System Message | An instruction for LLM on how to answer query |\n```\n\n----------------------------------------\n\nTITLE: Markdown Documentation Structure\nDESCRIPTION: Hierarchical markdown navigation structure defining the documentation layout for Flowise, including various sections like integrations, migration guides, and use cases.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/SUMMARY.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n* [ChatGroq](integrations/llamaindex/chat-models/chatgroq.md)\n* [Embeddings](integrations/llamaindex/embeddings/README.md)\n  * [Azure OpenAI Embeddings](integrations/llamaindex/embeddings/azure-openai-embeddings.md)\n  * [OpenAI Embedding](integrations/llamaindex/embeddings/openai-embedding.md)\n* [Engine](integrations/llamaindex/engine/README.md)\n  * [Query Engine](integrations/llamaindex/engine/query-engine.md)\n  * [Simple Chat Engine](integrations/llamaindex/engine/simple-chat-engine.md)\n  * [Context Chat Engine](integrations/llamaindex/engine/context-chat-engine.md)\n  * [Sub-Question Query Engine](integrations/llamaindex/engine/sub-question-query-engine.md)\n* [Response Synthesizer](integrations/llamaindex/response-synthesizer/README.md)\n  * [Refine](integrations/llamaindex/response-synthesizer/refine.md)\n  * [Compact And Refine](integrations/llamaindex/response-synthesizer/compact-and-refine.md)\n  * [Simple Response Builder](integrations/llamaindex/response-synthesizer/simple-response-builder.md)\n  * [Tree Summarize](integrations/llamaindex/response-synthesizer/tree-summarize.md)\n* [Tools](integrations/llamaindex/tools/README.md)\n  * [Query Engine Tool](integrations/llamaindex/tools/query-engine-tool.md)\n* [Vector Stores](integrations/llamaindex/vector-stores/README.md)\n  * [Pinecone](integrations/llamaindex/vector-stores/pinecone.md)\n  * [SimpleStore](integrations/llamaindex/vector-stores/queryengine-tool.md)\n* [Utilities](integrations/utilities/README.md)\n  * [Custom JS Function](integrations/utilities/custom-js-function.md)\n  * [Set/Get Variable](integrations/utilities/set-get-variable.md)\n  * [If Else](integrations/utilities/if-else.md)\n  * [Sticky Note](integrations/utilities/sticky-note.md)\n* [External Integrations](integrations/3rd-party-platform-integration/README.md)\n  * [Zapier Zaps](integrations/3rd-party-platform-integration/zapier-zaps.md)\n* [Migration Guide](migration-guide/README.md)\n  * [Cloud Migration](migration-guide/cloud-migration.md)\n  * [v1.3.0 Migration Guide](migration-guide/v1.3.0-migration-guide.md)\n  * [v1.4.3 Migration Guide](migration-guide/v1.4.3-migration-guide.md)\n  * [v2.1.4 Migration Guide](migration-guide/v2.1.4-migration-guide.md)\n* [Use Cases](use-cases/README.md)\n  * [Calling Children Flows](use-cases/calling-children-flows.md)\n  * [Calling Webhook](use-cases/webhook-tool.md)\n  * [Interacting with API](use-cases/interacting-with-api.md)\n  * [Multiple Documents QnA](use-cases/multiple-documents-qna.md)\n  * [SQL QnA](use-cases/sql-qna.md)\n  * [Upserting Data](use-cases/upserting-data.md)\n  * [Web Scrape QnA](use-cases/web-scrape-qna.md)\n\n## Flowise\n\n* [Flowise GitHub](https://github.com/FlowiseAI)\n* [Flowise Cloud](https://flowiseai.com/join)\n```\n\n----------------------------------------\n\nTITLE: Creating Lead Endpoint Definition\nDESCRIPTION: Swagger configuration for POST endpoint to create a new lead.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/leads.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/leads\" method=\"post\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Definiendo System Prompt para Agente de Reservas de Viajes en Markdown\nDESCRIPTION: Este snippet muestra cómo definir un System Prompt efectivo para un agente de reservas de viajes, proporcionando contexto y directrices claras para el comportamiento del agente.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n```\nEres un agente de reservas de viajes. Tu objetivo principal es ayudar a los usuarios a planificar y reservar sus viajes. \n- Guíalos a través de la búsqueda de vuelos, encontrar alojamiento y explorar destinos.\n- Sé amable, paciente y ofrece recomendaciones de viaje basadas en sus preferencias.\n- Utiliza las herramientas disponibles para acceder a datos de vuelos, disponibilidad de hoteles e información de destinos.\n```\n```\n\n----------------------------------------\n\nTITLE: Swagger GET Request for Upsert History\nDESCRIPTION: Swagger YAML configuration for GET request to '/upsert-history/{id}' endpoint. It references an external Swagger file for detailed API specifications.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/upsert-history.md#2025-04-18_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/upsert-history/{id}\" method=\"get\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Updating Kubernetes Service with Backend Configuration\nDESCRIPTION: Updated YAML configuration for the Kubernetes service, including a reference to the BackendConfig for extended timeout.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  annotations:\n    cloud.google.com/backend-config: '{\"default\": \"flowise-backendconfig\"}'\n  name: flowise-service\n  namespace: your-namespace\n...\n```\n\n----------------------------------------\n\nTITLE: Tree Summarize Prompt Template\nDESCRIPTION: A prompt template used for tree-based summarization that takes context information from multiple sources and a query as input. The template structures how context should be provided and how queries should be answered based solely on the given information.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/llamaindex/response-synthesizer/tree-summarize.md#2025-04-18_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nContext information from multiple sources is below.\n---------------------\n{context}\n---------------------\nGiven the information from multiple sources and not prior knowledge, answer the query.\nQuery: {query}\nAnswer:\n```\n\n----------------------------------------\n\nTITLE: Assistant Creation Event Structure in JSON\nDESCRIPTION: JSON structure for the assistant_created event telemetry data, including version and assistant ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/telemetry.md#2025-04-18_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"version\": <app-version>,\n    \"assistantId\": <assistant-id>\n}\n```\n\n----------------------------------------\n\nTITLE: Cloning LocalAI Repository\nDESCRIPTION: Command to clone the LocalAI repository from GitHub to get started with local setup.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/go-skynet/LocalAI\n```\n\n----------------------------------------\n\nTITLE: Overriding Document Loader Configuration in JavaScript\nDESCRIPTION: This snippet shows how to override the existing configuration of a document loader using the Document Store API in JavaScript. It demonstrates changing the URL of a web page loader.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nasync function query(data) {\n    const response = await fetch(\n        \"http://localhost:3000/api/v1/document-store/upsert/<storeId>\",\n        {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery({\n    \"docId\": <docLoaderId>,\n    // override existing configuration\n    \"loader\": {\n        \"config\": {\n            \"url\": \"https://new-url.com\"\n        }\n    }\n}).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Testing LocalAI Embeddings with cURL in Bash\nDESCRIPTION: This cURL command sends a POST request to the LocalAI API to generate embeddings for the input 'Test' using the 'text-embedding-ada-002' model.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/integraciones/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:8080/v1/embeddings -H \"Content-Type: application/json\" -d '{\n    \"input\": \"Test\",\n    \"model\": \"text-embedding-ada-002\"\n  }'\n```\n\n----------------------------------------\n\nTITLE: Replacing Existing Document Loader in JavaScript\nDESCRIPTION: This JavaScript code shows how to replace an existing document loader with new files. It includes the 'replaceExisting' parameter set to true in the FormData object.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst DOC_STORE_ID = \"your_doc_store_id\";\nconst DOC_LOADER_ID = \"your_doc_loader_id\";\n\nlet formData = new FormData();\nformData.append(\"files\", input.files[0]);\nformData.append(\"docId\", DOC_LOADER_ID);\nformData.append(\"replaceExisting\", true);\n\nasync function query(formData) {\n    const response = await fetch(\n        `http://localhost:3000/api/v1/document-store/upsert/${DOC_STORE_ID}`,\n        {\n            method: \"POST\",\n            headers: {\n                \"Authorization\": \"Bearer <your_api_key_here>\"\n            },\n            body: formData\n        }\n    );\n    const result = await response.json();\n    return result;\n}\n\nquery(formData).then((response) => {\n    console.log(response);\n});\n```\n\n----------------------------------------\n\nTITLE: Configuring Azure Web App Site Settings for Flowise\nDESCRIPTION: This snippet defines the site configuration for the Azure Web App running Flowise. It includes settings for always-on, IP restrictions, Docker image configuration, and logging.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/configuracion/deployment/azure.md#2025-04-18_snippet_10\n\nLANGUAGE: hcl\nCODE:\n```\nhttps_only = true\n\nsite_config {\n  always_on              = true\n  vnet_route_all_enabled = true\n  dynamic \"ip_restriction\" {\n    for_each = var.webapp_ip_rules\n    content {\n      name       = ip_restriction.value.name\n      ip_address = ip_restriction.value.ip_address\n    }\n  }\n  application_stack {\n    docker_image_name        = var.flowise_image\n    docker_registry_url      = \"https://${azurerm_container_registry.acr.login_server}\"\n    docker_registry_username = azurerm_container_registry.acr.admin_username\n    docker_registry_password = azurerm_container_registry.acr.admin_password\n  }\n}\n\nlogs {\n  http_logs {\n    file_system {\n      retention_in_days = 7\n      retention_in_mb   = 35\n    }\n\n  }\n}\n\nidentity {\n  type = \"SystemAssigned\"\n}\n\nlifecycle {\n  create_before_destroy = false\n\n  ignore_changes = [\n    virtual_network_subnet_id\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Replacing Existing Document Loader in Python\nDESCRIPTION: This Python code demonstrates how to replace an existing document loader with new files. It includes the 'replaceExisting' parameter set to True in the request body.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/document-stores.md#2025-04-18_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nimport requests\nimport json\n\nDOC_STORE_ID = \"your_doc_store_id\"\nDOC_LOADER_ID = \"your_doc_loader_id\"\nAPI_URL = f\"http://localhost:3000/api/v1/document-store/upsert/{DOC_STORE_ID}\"\nAPI_KEY = \"your_api_key_here\"\n\nform_data = {\n    \"files\": ('my-another-file.pdf', open('my-another-file.pdf', 'rb'))\n}\n\nbody_data = {\n    \"docId\": DOC_LOADER_ID,\n    \"replaceExisting\": True\n}\n\nheaders = {\n    \"Authorization\": f\"Bearer {BEARER_TOKEN}\"\n}\n\ndef query(form_data):\n    response = requests.post(API_URL, files=form_data, data=body_data, headers=headers)\n    print(response)\n    return response.json()\n\noutput = query(form_data)\nprint(output)\n```\n\n----------------------------------------\n\nTITLE: Creating GCP Backend Configuration for Timeout Extension\nDESCRIPTION: YAML configuration to create a BackendConfig resource in GCP, extending the default timeout to 10 minutes (600 seconds).\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/gcp.md#2025-04-18_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: cloud.google.com/v1\nkind: BackendConfig\nmetadata:\n  name: flowise-backendconfig\n  namespace: your-namespace\nspec:\n  timeoutSec: 600\n```\n\n----------------------------------------\n\nTITLE: Restarting NGINX Service\nDESCRIPTION: Command to restart the NGINX service to apply configuration changes.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_26\n\nLANGUAGE: bash\nCODE:\n```\nsudo systemctl restart nginx\n```\n\n----------------------------------------\n\nTITLE: Updating Flowise Docker Image\nDESCRIPTION: Command to pull the latest Flowise Docker image from Docker Hub.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_19\n\nLANGUAGE: bash\nCODE:\n```\ndocker pull flowiseai/flowise\n```\n\n----------------------------------------\n\nTITLE: Obtaining SSL Certificate\nDESCRIPTION: Runs Certbot to obtain SSL certificate and automatically configure NGINX for HTTPS.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_30\n\nLANGUAGE: bash\nCODE:\n```\nsudo certbot --nginx\n```\n\n----------------------------------------\n\nTITLE: Initializing Flowise Chat Widget with Specific Version in HTML\nDESCRIPTION: This snippet demonstrates how to initialize the Flowise chat widget using a specific version of the flowise-embed package. It imports the Chatbot module and calls the init method with basic configuration options.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/embed.md#2025-04-18_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<script type=\"module\">\n  import Chatbot from 'https://cdn.jsdelivr.net/npm/flowise-embed@<some-version>/dist/web.js';\n  Chatbot.init({\n    chatflowid: 'your-chatflowid-here',\n    apiHost: 'your-apihost-here',\n  })\n</script>\n```\n\n----------------------------------------\n\nTITLE: Connecting to EC2 Instance via SSH on Mac/Linux\nDESCRIPTION: SSH command to connect to an EC2 instance using a .pem key file, specifying the username and the public DNS address of the instance.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/aws.md#2025-04-18_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nssh -i /Users/username/Documents/mykey.pem ec2-user@ec2-123-45-678-910.compute-1.amazonaws.com\n```\n\n----------------------------------------\n\nTITLE: OpenAPI Chain Default Prompt\nDESCRIPTION: The default prompt used by OpenAPI Chain to instruct the LLM to utilize provided APIs for responding to user queries. This prompt forces API usage which can cause issues with general conversation.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/use-cases/interacting-with-api.md#2025-04-18_snippet_1\n\nLANGUAGE: text\nCODE:\n```\nUse the provided API's to respond to this user query\n```\n\n----------------------------------------\n\nTITLE: Initializing Terraform Project\nDESCRIPTION: Command to initialize a Terraform project and download required providers\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/configuration/deployment/azure.md#2025-04-18_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nterraform init\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables for Flowise Widget in Properties File\nDESCRIPTION: This snippet shows how to configure the CORS_ORIGINS environment variable to enable the Flowise widget on specific websites. It's essential for proper widget functionality across different domains.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/embed.md#2025-04-18_snippet_2\n\nLANGUAGE: properties\nCODE:\n```\nCORS_ORIGINS=\"http://localhost:3000,http://example.com\"\n```\n\n----------------------------------------\n\nTITLE: Running Flowise Docker Container\nDESCRIPTION: Command to start the Flowise Docker container using Docker Compose.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/vector-stores/chroma.md#2025-04-18_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ndocker compose up -d\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables for User Invitations in Self-Hosted Flowise\nDESCRIPTION: Required environment variables for enabling user invitations in self-hosted Flowise deployments. These settings control invitation token expiry and SMTP configuration for sending invitation emails.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/workspaces.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nINVITE_TOKEN_EXPIRY_IN_HOURS\nSMTP_HOST\nSMTP_PORT\nSMTP_USER\nSMTP_PASSWORD\n```\n\n----------------------------------------\n\nTITLE: Adding OpenAI API Key to .env File\nDESCRIPTION: Example of adding the OpenAI API key to the .env file for Zep configuration.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/memory/zep-memory.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nZEP_OPENAI_API_KEY=\n```\n\n----------------------------------------\n\nTITLE: Starting Flowise after installation\nDESCRIPTION: Command to start the Flowise application after installation, making it accessible on localhost port 3000.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/getting-started/README.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpx flowise start\n```\n\n----------------------------------------\n\nTITLE: Configuring Flowise Environment Variables for OpenTelemetry\nDESCRIPTION: These environment variables enable metrics collection in Flowise using OpenTelemetry. They specify the endpoint for sending metrics, the protocol to use, and enable debug mode.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/usar-flowise/monitoring.md#2025-04-18_snippet_1\n\nLANGUAGE: properties\nCODE:\n```\nENABLE_METRICS=true\nMETRICS_PROVIDER=open_telemetry\nMETRICS_INCLUDE_NODE_METRICS=true\nMETRICS_OPEN_TELEMETRY_METRIC_ENDPOINT=http://localhost:4318/v1/metrics\nMETRICS_OPEN_TELEMETRY_PROTOCOL=http # http | grpc | proto (por defecto es http)\nMETRICS_OPEN_TELEMETRY_DEBUG=true\n```\n\n----------------------------------------\n\nTITLE: Navigating to FlowiseDocs Directory - Bash Command\nDESCRIPTION: Command to change directory into the FlowiseDocs repository folder after cloning. This is part of the documentation contribution workflow.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/contributing/README.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncd FlowiseDocs\n```\n\n----------------------------------------\n\nTITLE: Default Vector Store Retrieval Format in JSON\nDESCRIPTION: Shows the default format of context retrieved from vector stores, containing an array of objects with pageContent and metadata fields.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/integrations/langchain/retrievers/custom-retriever.md#2025-04-18_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n[ \n    {\n        \"pageContent\": \"This is an example\",\n        \"metadata\": {\n            \"source\": \"example.pdf\"\n        }\n    },\n    {\n        \"pageContent\": \"This is example 2\",\n        \"metadata\": {\n            \"source\": \"example2.txt\"\n        }\n    }\n]\n```\n\n----------------------------------------\n\nTITLE: Changing Directory to LocalAI in Bash\nDESCRIPTION: This command changes the current directory to the newly cloned LocalAI repository.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/integraciones/langchain/embeddings/localai-embeddings.md#2025-04-18_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd LocalAI\n```\n\n----------------------------------------\n\nTITLE: End Node Configuration Example - Markdown\nDESCRIPTION: Table showing node inputs and outputs configuration for the End Node, which marks the termination point of a conversation flow.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/using-flowise/agentflows/sequential-agents.md#2025-04-18_snippet_12\n\nLANGUAGE: markdown\nCODE:\n```\n<table><thead><tr><th width=\"197\"></th><th width=\"104\">Required</th><th>Description</th></tr></thead><tbody><tr><td>Agent Node</td><td><strong>Yes</strong></td><td>Receives the output of a preceding Agent Node. This data is then sent back to the target node specified in the \"Loop To\" parameter.</td></tr></tbody></table>\n```\n\n----------------------------------------\n\nTITLE: List Assistants Endpoint - Swagger YAML\nDESCRIPTION: GET endpoint specification for retrieving a list of assistants\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/assistants.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants\" method=\"get\" %}\n```\n\n----------------------------------------\n\nTITLE: Retrieving Assistants (GET /assistants)\nDESCRIPTION: Swagger documentation for the GET /assistants endpoint. This endpoint is used to retrieve a list of assistants.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/assistants.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants\" method=\"get\" %}\n[swagger (1) (1).yml](<../.gitbook/assets/swagger (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Update Assistant Endpoint - Swagger YAML\nDESCRIPTION: PUT endpoint specification for updating an existing assistant\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/assistants.md#2025-04-18_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"put\" %}\n```\n\n----------------------------------------\n\nTITLE: Delete Assistant Endpoint - Swagger YAML\nDESCRIPTION: DELETE endpoint specification for removing an assistant\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/assistants.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1).yml\" path=\"/assistants/{id}\" method=\"delete\" %}\n```\n\n----------------------------------------\n\nTITLE: Deleting a Specific Tool (DELETE /tools/{id})\nDESCRIPTION: Swagger documentation for the DELETE /tools/{id} endpoint, used to delete a specific tool by its ID.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/tools.md#2025-04-18_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/tools/{id}\" method=\"delete\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Swagger Reference for PATCH Upsert History Endpoint\nDESCRIPTION: Swagger reference to the PATCH method for the /upsert-history/{id} endpoint, using an external Swagger definition file.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/en/api-reference/upsert-history.md#2025-04-18_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/upsert-history/{id}\" method=\"patch\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```\n\n----------------------------------------\n\nTITLE: Swagger PATCH Request for Upsert History\nDESCRIPTION: Swagger YAML configuration for PATCH request to '/upsert-history/{id}' endpoint. It references an external Swagger file for detailed API specifications.\nSOURCE: https://github.com/flowiseai/flowisedocs/blob/main/esp/referencia-api/upsert-history.md#2025-04-18_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n{% swagger src=\"../.gitbook/assets/swagger (1) (1) (1).yml\" path=\"/upsert-history/{id}\" method=\"patch\" %}\n[swagger (1) (1) (1).yml](<../.gitbook/assets/swagger (1) (1) (1).yml>)\n{% endswagger %}\n```"
  }
]