[
  {
    "owner": "hubspot",
    "repo": "hubspot-api-python",
    "content": "TITLE: Creating CRM Contact\nDESCRIPTION: Demonstrates how to create a new contact in HubSpot CRM using the API client.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.crm.contacts import SimplePublicObjectInputForCreate\nfrom hubspot.crm.contacts.exceptions import ApiException\n\ntry:\n    simple_public_object_input_for_create = SimplePublicObjectInputForCreate(\n        properties={\"email\": \"email@example.com\"}\n    )\n    api_response = api_client.crm.contacts.basic_api.create(\n        simple_public_object_input_for_create=simple_public_object_input_for_create\n    )\nexcept ApiException as e:\n    print(\"Exception when creating contact: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: Retrieving Contact by ID\nDESCRIPTION: Shows how to fetch a specific contact using their ID from the HubSpot CRM.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.crm.contacts import ApiException\n\ntry:\n    contact_fetched = api_client.crm.contacts.basic_api.get_by_id('contact_id')\nexcept ApiException as e:\n    print(\"Exception when requesting contact by id: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: Retrieving All Contacts\nDESCRIPTION: Demonstrates how to fetch all contacts using pagination under the hood.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_6\n\nLANGUAGE: python\nCODE:\n```\nall_contacts = api_client.crm.contacts.get_all()\n```\n\n----------------------------------------\n\nTITLE: Retrieving Custom Objects\nDESCRIPTION: Example of fetching a page of custom objects from HubSpot CRM.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.crm.objects import ApiException\n\ntry:\n    my_custom_objects_page = api_client.crm.objects.basic_api.get_page(object_type=\"my_custom_object_type\")\nexcept ApiException as e:\n    print(\"Exception when requesting custom objects: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: POST Request Example\nDESCRIPTION: Example of making a direct POST request to create a contact.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_12\n\nLANGUAGE: python\nCODE:\n```\nimport hubspot\nfrom pprint import pprint\nfrom hubspot.crm.contacts import ApiException\n\nclient = hubspot.Client.create(access_token=\"your_access_token\")\n\ntry:\n    response = client.api_request(\n        {\n            \"path\": \"/crm/v3/objects/contacts\",\n            \"method\": \"POST\",\n            \"body\": {\n                \"properties\":\n                    {\n                        \"email\": \"some_email@some.com\",\n                        \"lastname\": \"some_last_name\"\n                    },\n            }\n        }\n\n    )\n    pprint(response.json())\nexcept ApiException as e:\n    print(e)\n```\n\n----------------------------------------\n\nTITLE: GET Request Example\nDESCRIPTION: Example of making a direct GET request to the contacts endpoint.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_11\n\nLANGUAGE: python\nCODE:\n```\nimport hubspot\nfrom pprint import pprint\nfrom hubspot.crm.contacts import ApiException\n\nclient = hubspot.Client.create(access_token=\"your_access_token\")\n\ntry:\n    response = client.api_request(\n        {\"path\": \"/crm/v3/objects/contacts\"}\n    )\n    pprint(response)\nexcept ApiException as e:\n    print(e)\n```\n\n----------------------------------------\n\nTITLE: Direct API Request Example\nDESCRIPTION: Shows how to make direct API requests for endpoints not yet wrapped by the client.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_10\n\nLANGUAGE: python\nCODE:\n```\nclient.api_request({\n    \"method\": \"PUT\",\n    \"path\": \"/some/api/not/wrapped/yet\",\n    \"body\": {\"key\": \"value\"}\n})\n```\n\n----------------------------------------\n\nTITLE: Uploading Files\nDESCRIPTION: Example of uploading files to HubSpot with custom options.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_9\n\nLANGUAGE: python\nCODE:\n```\nimport hubspot\nimport json\nfrom pprint import pprint\nfrom hubspot.crm.contacts import ApiException\n\nclient = hubspot.Client.create(access_token=\"your_access_token\")\n\noptions = json.dumps(\n    {'access': 'PRIVATE',\n     \"overwrite\": False}\n)\n\ntry:\n    response = client.files.files_api.upload(\n        file=\"/file/path/file.jpeg\",\n        file_name=\"name_in_hubspot\",\n        folder_path=\"folder_in_hubspot\",\n        options=options,\n    )\n    pprint(response)\n\nexcept ApiException as e:\n    print(\"Exception when calling basic_api->get_page: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: OAuth Token Creation\nDESCRIPTION: Example of obtaining an OAuth2 access token using authorization code flow.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.oauth import ApiException\n\ntry:\n    tokens = api_client.oauth.tokens_api.create(\n        grant_type=\"authorization_code\",\n        redirect_uri='http://localhost',\n        client_id='client_id',\n        client_secret='client_secret',\n        code='code'\n    )\nexcept ApiException as e:\n    print(\"Exception when calling create_token method: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: Configuring HubSpot Client\nDESCRIPTION: Initialize the HubSpot client with an access token. Shows two methods of configuration.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot import HubSpot\n\napi_client = HubSpot(access_token='your_access_token')\n\n# or set your access token later\napi_client = HubSpot()\napi_client.access_token = 'your_access_token'\n```\n\n----------------------------------------\n\nTITLE: Installing HubSpot Python Client\nDESCRIPTION: Command to install the HubSpot API client package using pip.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npip install --upgrade hubspot-api-client\n```\n\n----------------------------------------\n\nTITLE: Converting Response to Dictionary\nDESCRIPTION: Example of converting API response objects to Python dictionaries.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_16\n\nLANGUAGE: python\nCODE:\n```\ncontacts = api_client.crm.contacts.basic_api.get_page()\nfor contact in contacts.results:\n    print(contact.to_dict())\n```\n\n----------------------------------------\n\nTITLE: Searching Contacts by Date\nDESCRIPTION: Example of searching contacts using date filters and the search API.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nimport hubspot\n\nfrom dateutil import parser\nfrom pprint import pprint\nfrom hubspot.crm.contacts import PublicObjectSearchRequest, ApiException\n\napi_client = hubspot.Client.create(access_token=\"YOUR_ACCESS_TOKEN\")\n\n# timestamp in milliseconds\ndate = str(int(parser.isoparse(\"XXXX-XX-XXTXX:XX:XX.XXXZ\").timestamp() * 1000))\npublic_object_search_request = PublicObjectSearchRequest(\n    filter_groups=[\n        {\n            \"filters\": [\n                {\n                    \"value\": date,\n                    \"propertyName\": \"lastmodifieddate\",\n                    \"operator\": \"EQ\"\n                }\n            ]\n        }\n    ], limit=10\n)\ntry:\n    api_response = api_client.crm.contacts.search_api.do_search(public_object_search_request=public_object_search_request)\n    pprint(api_response)\nexcept ApiException as e:\n    print(\"Exception when calling search_api->do_search: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: Retrieving CMS Audit Logs\nDESCRIPTION: Shows how to fetch audit logs from the CMS API.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.cms.audit_logs import ApiException\n\ntry:\n    audit_logs_page = api_client.cms.audit_logs.default_api.get_page()\nexcept ApiException as e:\n    print(\"Exception when calling cards_api->create: %s\\n\" % e)\n```\n\n----------------------------------------\n\nTITLE: Validating HubSpot Request Signature\nDESCRIPTION: Example of validating incoming webhook request signatures from HubSpot.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_14\n\nLANGUAGE: python\nCODE:\n```\nimport os\nfrom flask import request\nfrom hubspot.utils.signature import Signature\n\nSignature.is_valid(\n    signature=request.headers[\"X-HubSpot-Signature\"],\n    client_secret=os.getenv(\"HUBSPOT_CLIENT_SECRET\"),\n    request_body=request.data.decode(\"utf-8\"),\n    http_uri=request.base_url,\n    signature_version=request.headers[\"X-HubSpot-Signature-Version\"],\n    timestamp=request.headers[\"X-HubSpot-Request-Timestamp\"]\n)\n```\n\n----------------------------------------\n\nTITLE: Getting OAuth URL\nDESCRIPTION: Utility function to generate OAuth authorization URL.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_13\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot.utils.oauth import get_auth_url\n\nauth_url = get_auth_url(\n    scope=('contacts',),\n    client_id='client_id',\n    redirect_uri='http://localhost'\n)\n```\n\n----------------------------------------\n\nTITLE: Configuring Retry Middleware\nDESCRIPTION: Examples of configuring retry behavior for internal errors and rate limits.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/README.md#_snippet_15\n\nLANGUAGE: python\nCODE:\n```\nfrom hubspot import HubSpot\nfrom urllib3.util.retry import Retry\n\nretry = Retry(\n    total=3,\n    backoff_factor=0.3,\n    status_forcelist=(500, 502, 504),\n)\napi_client = HubSpot(retry=retry)\n```\n\n----------------------------------------\n\nTITLE: Adding New Parameters to CRM Properties API in Python\nDESCRIPTION: New parameters were added to some methods in the CRM properties API. This includes adding a 'properties' parameter to get methods and a 'high_value' parameter to all Filters.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_6\n\nLANGUAGE: Python\nCODE:\n```\ncrm.properties.core_api.get_all(properties=...)\ncrm.properties.core_api.get_by_name(properties=...)\n\n# high_value param added to all Filters\n```\n\n----------------------------------------\n\nTITLE: Updating CMS HubDB Tables API Methods in Python\nDESCRIPTION: Several methods in the cms.hubdb.tables_api module were updated to include a new boolean parameter 'include_foreign_ids'. This parameter allows for including foreign ID information in the API responses.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_2\n\nLANGUAGE: Python\nCODE:\n```\ncms.hubdb.tables_api.get_draft_table_details_by_id(include_foreign_ids: bool)\ncms.hubdb.tables_api.get_table_details(include_foreign_ids: bool)\ncms.hubdb.tables_api.update_draft_table(include_foreign_ids: bool)\n```\n\n----------------------------------------\n\nTITLE: Updating CRM Object Creation Methods in Python\nDESCRIPTION: The input type for create methods in various CRM object APIs was changed from SimplePublicObjectInput to SimplePublicObjectInputForCreate. This affects both basic and batch API methods for multiple object types.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_4\n\nLANGUAGE: Python\nCODE:\n```\n# Example changes:\ncrm.companies.basic_api.create(SimplePublicObjectInputForCreate)\ncrm.companies.batch_api.create(BatchInputSimplePublicObjectInputForCreate)\n\n# Similar changes for contacts, deals, line_items, and other object types\n```\n\n----------------------------------------\n\nTITLE: Renaming CMS HubDB API Methods in Python\nDESCRIPTION: Several methods in the cms.hubdb.rows_batch_api module were renamed to improve clarity and consistency. The changes include removing the 'batch_' prefix from method names.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_1\n\nLANGUAGE: Python\nCODE:\n```\ncms.hubdb.rows_batch_api.clone_draft_table_rows\ncms.hubdb.rows_batch_api.create_draft_table_rows\ncms.hubdb.rows_batch_api.purge_draft_table_rows\ncms.hubdb.rows_batch_api.read_draft_table_rows\ncms.hubdb.rows_batch_api.read_table_rows\ncms.hubdb.rows_batch_api.replace_draft_table_rows\ncms.hubdb.rows_batch_api.update_draft_table_rows\n```\n\n----------------------------------------\n\nTITLE: Renaming OAuth API Methods in Python\nDESCRIPTION: Several methods in the OAuth API were renamed for consistency and clarity. This includes changes to access token and refresh token related methods.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_5\n\nLANGUAGE: Python\nCODE:\n```\noauth.access_tokens_api.get()\noauth.refresh_tokens_api.archive()\noauth.refresh_tokens_api.get()\noauth.tokens_api.create()\n```\n\n----------------------------------------\n\nTITLE: Removing CRM Associations API Clients in Python\nDESCRIPTION: Multiple CRM associations API clients were removed from the library. This affects various object types such as companies, contacts, deals, line items, and more.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_3\n\nLANGUAGE: Python\nCODE:\n```\n# Removed API clients:\ncrm.companies.associations_api\ncrm.contacts.associations_api\ncrm.deals.associations_api\ncrm.line_items.associations_api\ncrm.objects.calls.associations_api\ncrm.objects.emails.associations_api\ncrm.objects.feedback_submissions.associations_api\ncrm.objects.meetings.associations_api\ncrm.objects.notes.associations_api\ncrm.objects.postal_mail.associations_api\ncrm.objects.tasks.associations_api\ncrm.products.associations_api\ncrm.quotes.associations_api\ncrm.tickets.associations_api\n```\n\n----------------------------------------\n\nTITLE: Defining FieldTypeDefinition Parameters in Python\nDESCRIPTION: This Python code snippet specifies a set of parameters for the FieldTypeDefinition model, listing all attributes and their expected types, reflecting newly added and existing fields. It highlights recently introduced parameters as part of an API update, supporting greater model flexibility. Required dependencies include the Option class for the options list, and each parameter's type is documented for model instantiation or schema validation.\nSOURCE: https://github.com/hubspot/hubspot-api-python/blob/master/CHANGELOG.md#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\n{\\n  \\\"help_text\\\": \\\"str\\\",\\n  \\\"referenced_object_type\\\": \\\"str\\\",\\n  \\\"name\\\": \\\"str\\\",\\n  \\\"options\\\": \\\"list[Option]\\\",\\n  \\\"description\\\": \\\"str\\\",\\n  \\\"external_options_reference_type\\\": \\\"str\\\",\\n  \\\"label\\\": \\\"str\\\",\\n  \\\"type\\\": \\\"str\\\",\\n  \\\"field_type\\\": \\\"str\\\",\\n  \\\"options_url\\\": \\\"str\\\",\\n  \\\"external_options\\\": \\\"bool\\\",\\n}\n```"
  }
]