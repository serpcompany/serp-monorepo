[
  {
    "owner": "oban-bg",
    "repo": "oban_web",
    "content": "TITLE: Adding Oban Web as a Dependency in mix.exs\nDESCRIPTION: Add the oban_web package as a dependency in your application's mix.exs file with the specified version constraint.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/introduction/installation.md#2025-04-19_snippet_0\n\nLANGUAGE: elixir\nCODE:\n```\n{:oban_web, \"~> 2.11\"}\n```\n\n----------------------------------------\n\nTITLE: Mounting Oban Dashboard in Phoenix Router\nDESCRIPTION: Code snippet demonstrating how to import and use the Oban.Web.Router to mount the dashboard at a specific path in your Phoenix application's router.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/introduction/installation.md#2025-04-19_snippet_2\n\nLANGUAGE: elixir\nCODE:\n```\n# lib/my_app_web/router.ex\nuse MyAppWeb, :router\n\nimport Oban.Web.Router\n\n...\n\nscope \"/\" do\n  pipe_through :browser\n\n  oban_dashboard \"/oban\"\nend\n```\n\n----------------------------------------\n\nTITLE: Simplifying Oban Dashboard Routes with Instance Selection\nDESCRIPTION: Shows how the new instance selection feature allows for a single dashboard route instead of multiple instance-specific routes. This change simplifies router configuration by automatically detecting and selecting Oban instances.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/CHANGELOG.md#2025-04-19_snippet_0\n\nLANGUAGE: diff\nCODE:\n```\n- oban_dashboard \"/oban_a\", oban_name: Oban.A\n- oban_dashboard \"/oban_b\", oban_name: Oban.B\n- oban_dashboard \"/oban_c\", oban_name: Oban.C\n+ oban_dashboard \"/oban\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Bulk Action Limits in Oban\nDESCRIPTION: Demonstrates how to customize the bulk_action_limit/1 callback to set different limits for bulk operations depending on the job state. This allows for fine-tuning performance and safety constraints.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/CHANGELOG.md#2025-04-19_snippet_3\n\nLANGUAGE: elixir\nCODE:\n```\ndef bulk_action_limit(:completed), do: 10_000\ndef bulk_action_limit(_state), do: :infinity\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Qualifier Usage in Oban Web Filtering\nDESCRIPTION: This snippet shows examples of using various qualifiers to filter Oban jobs based on different fields such as args, meta, nodes, priorities, queues, tags, and workers.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/advanced/filtering.md#2025-04-19_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Qualifier     | Description            | Example                 |\n| ------------- | ---------------------- | ----------------------- |\n| `args.`       | a key or value in args | `args.id:123`           |\n| `meta.`       | a key or value in meta | `meta.batch_id:123`     |\n| `nodes:`      | host name              | `nodes:worker@somehost` |\n| `priorities:` | number from 0 to 9     | `priorities:1`          |\n| `queues:`     | queue name             | `queues:default`        |\n| `tags:`       | tag name               | `tags:super,duper`      |\n| `workers`     | worker module name     | `workers:MyApp.Worker`  |\n```\n\n----------------------------------------\n\nTITLE: Instance Resolution Configuration with Elixir\nDESCRIPTION: Shows how to implement the resolve_instances/1 callback to restrict Oban instance selection based on user roles. This allows administrators to access all instances while limiting regular users to specific instances.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/CHANGELOG.md#2025-04-19_snippet_2\n\nLANGUAGE: elixir\nCODE:\n```\ndef resolve_instances(%{admin?: true}), do: :all\ndef resolve_instances(_user), do: [Oban]\n```\n\n----------------------------------------\n\nTITLE: Switching to PG Notifier Configuration\nDESCRIPTION: Configuration diff showing how to switch from the default Postgres notifier to the PG (Process Groups) notifier for better performance in clustered environments.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/introduction/installation.md#2025-04-19_snippet_3\n\nLANGUAGE: elixir\nCODE:\n```\nconfig :my_app, Oban,\n+  notifier: Oban.Notifiers.PG,\n   repo: MyApp.Repo,\n   ...\n```\n\n----------------------------------------\n\nTITLE: Adding Oban Met Dependency for Worker Nodes in Elixir\nDESCRIPTION: This snippet shows how to include the oban_met dependency in the mix.exs file for worker-only nodes in a system with separate web and worker applications.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/advanced/metrics.md#2025-04-19_snippet_0\n\nLANGUAGE: elixir\nCODE:\n```\n{:oban_met, \"~> 1.0\"},\n```\n\n----------------------------------------\n\nTITLE: Configuring Oban Met Auto-Start in Elixir\nDESCRIPTION: This code demonstrates how to disable the automatic starting of Met instances globally using application configuration in Elixir.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/advanced/metrics.md#2025-04-19_snippet_1\n\nLANGUAGE: elixir\nCODE:\n```\nconfig :oban_met, auto_start: false\n```\n\n----------------------------------------\n\nTITLE: Removing Explicit Oban Instance Configuration\nDESCRIPTION: Demonstrates how the dashboard can now automatically select the first running Oban instance without requiring explicit configuration. This eliminates the need to specify oban_name in the router.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/CHANGELOG.md#2025-04-19_snippet_1\n\nLANGUAGE: diff\nCODE:\n```\n- oban_dashboard \"/oban\", oban_name: MyOban\n+ oban_dashboard \"/oban\"\n```\n\n----------------------------------------\n\nTITLE: Adding oban_met Dependency for Worker Nodes\nDESCRIPTION: Code showing how to add the oban_met dependency explicitly for worker nodes in a system with separate web and worker applications.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/introduction/installation.md#2025-04-19_snippet_4\n\nLANGUAGE: elixir\nCODE:\n```\n{:oban_met, \"~> 1.0\"}\n```\n\n----------------------------------------\n\nTITLE: Illustrating Nested Args/Meta Paths in Oban Web Filtering\nDESCRIPTION: This snippet demonstrates how to use dot notation to search nested structures in args and meta fields of Oban jobs. It also mentions the limitation of comma separation for these fields.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/advanced/filtering.md#2025-04-19_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n* `args.user.plan.name:business`\n* `meta.worker_id:123`\n* `meta.batch_callback_args.some_id:123`\n```\n\n----------------------------------------\n\nTITLE: Explaining Quoted Searches in Oban Web Filtering\nDESCRIPTION: This snippet explains how to use quotation marks for searches containing whitespace or punctuation, and lists characters that cannot be used in search queries.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/advanced/filtering.md#2025-04-19_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n* `args.address.city:\"New York City\"`\n\nYou can't use the following characters as part of your search query:\n\n`, : ; / \\ ' = * ! ? # $ & + ^ | ~ < > ( ) { } [ ]`\n```\n\n----------------------------------------\n\nTITLE: Setting Up Oban Web Test Environment\nDESCRIPTION: Commands to setup the databases and run necessary migrations for Oban Web testing. Requires PostgreSQL 12+ and MySQL 8+, along with access to a valid Oban Pro license.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/README.md#2025-04-19_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nmix test.setup\n```\n\n----------------------------------------\n\nTITLE: Starting Oban Web Development Server\nDESCRIPTION: Command to start a development server that generates fake jobs for Oban Web testing and development.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/README.md#2025-04-19_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\niex -S mix dev\n```\n\n----------------------------------------\n\nTITLE: Fetching Dependencies with Mix\nDESCRIPTION: Command to fetch the Oban Web dependency and its dependencies (including oban_met) using Mix.\nSOURCE: https://github.com/oban-bg/oban_web/blob/main/guides/introduction/installation.md#2025-04-19_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nmix deps.get\n```"
  }
]