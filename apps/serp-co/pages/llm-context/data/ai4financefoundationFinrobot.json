[
  {
    "owner": "ai4finance-foundation",
    "repo": "finrobot",
    "content": "TITLE: Configuring OpenAI API\nDESCRIPTION: This snippet reads the OpenAI API keys from a JSON file and sets up the llm_config for the AutoGen agents. It's crucial to rename the sample config file and replace with actual API keys.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/agent_fingpt_forecaster.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\n# Read OpenAI API keys from a JSON file\nconfig_list = autogen.config_list_from_json(\n    \"../OAI_CONFIG_LIST\",\n    filter_dict={\"model\": [\"gpt-4-0125-preview\"]},\n)\nllm_config = {\"config_list\": config_list, \"timeout\": 120, \"temperature\": 0}\n\n# Register FINNHUB API keys\nregister_keys_from_json(\"../config_api_keys\")\n```\n\n----------------------------------------\n\nTITLE: Configuring Autogen Agents\nDESCRIPTION: Defines and configures two Autogen agents: `user_proxy` and `tool_proxy`.  `user_proxy` acts as the planner admin, receiving user input and generating plans, while `tool_proxy` decides if the suggested database is appropriate. The agent configuration includes language model settings and system messages.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_10\n\nLANGUAGE: python\nCODE:\n```\nfrom autogen import ConversableAgent\nimport os\n\n\nconfig_list = autogen.config_list_from_json(\n    \"../OAI_CONFIG_LIST\",\n    filter_dict={\n        \"model\": [\"gpt-4-0125-preview\"],\n    },\n)\nllm_config = {\n    \"config_list\": config_list,\n    \"timeout\": 120,\n    # \"temperature\": 0 # for debug convenience\n    \"temperature\": 0.5,\n}\nuser_proxy = ConversableAgent(\n    name = \"Planner Admin\",\n    system_message=system_msg,\n    code_execution_config=False,\n    llm_config=llm_config,\n    human_input_mode=\"NEVER\",\n    is_termination_msg=lambda msg: \"TERMINATE\" in msg[\"content\"],\n)\ntool_proxy = ConversableAgent(\n  name=\"Tool Proxy\",\n  system_message=\"Analyze the response from user proxy and decide whether the suggested database is suitable \"\n  \". Answer in simple yes or no\",\n  llm_config=False,\n  # is_termination_msg=lambda msg: \"exit\" in msg.get(\"content\",\"\"),\n  default_auto_reply=\"Please select the right database.\",\n  human_input_mode=\"ALWAYS\",\n  )\n\ntools_dict = {\n        \"sec\":[query_database_sec,\"Tool to query SEC filings database\"],\n        \"earnings_call\": [query_database_earnings_call, \"Tool to query earnings call transcripts database\"],\n    }\n```\n\n----------------------------------------\n\nTITLE: Register Toolkits for Data Provider\nDESCRIPTION: Registers predefined toolkits for the data provider, specifically for plotting stock price charts using `mplfinance` and retrieving market news using `Finnhub`. This enables the data provider to access these functions without needing to generate them from scratch, improving efficiency.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom finrobot.toolkits import register_toolkits\n\ntools = [\n    {\n        \"function\": FinnHubUtils.get_company_news,\n        \"name\": \"get_company_news\",\n        \"description\": \"retrieve market news related to designated company\"\n    },\n    {\n        \"function\": MplFinanceUtils.plot_stock_price_chart,\n        \"name\": \"plot_stock_price_chart\",\n        \"description\": \"plot stock price chart of designated company\"\n    }\n]\nregister_toolkits(tools, data_provider, user_proxy)\n```\n\n----------------------------------------\n\nTITLE: Registering Toolkits for Data Retrieval\nDESCRIPTION: This snippet registers a toolkit containing the `get_stock_data` function from `YFinanceUtils` to enable the agent to retrieve stock information. The toolkit is registered to both the AssistantAgent and UserProxyAgent.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom finrobot.toolkits import register_toolkits\ntools = [\n    {\n        \"function\": YFinanceUtils.get_stock_data,\n        #\"function\": FinnHubUtils.get_company_news,\n        \"name\": \"get_stock_news\",\n        \"description\": \"retrieve stock information related to designated company\"\n    }\n]\nregister_toolkits(tools, analyst, user_proxy)\n```\n\n----------------------------------------\n\nTITLE: Configuring OpenAI and Finnhub API keys\nDESCRIPTION: This code snippet configures the OpenAI and Finnhub API keys. It reads the OpenAI API keys from a JSON file using autogen.config_list_from_json and registers the FINNHUB API keys using register_keys_from_json. The OpenAI configuration includes setting the model, timeout, and temperature parameters.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_fingpt_forecaster.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\n# Read OpenAI API keys from a JSON file\nllm_config = {\n    \"config_list\": autogen.config_list_from_json(\n        \"../OAI_CONFIG_LIST\",\n        filter_dict={\"model\": [\"gpt-4-0125-preview\"]},\n    ),\n    \"timeout\": 120,\n    \"temperature\": 0,\n}\n\n# Register FINNHUB API keys\nregister_keys_from_json(\"../config_api_keys\")\n```\n\n----------------------------------------\n\nTITLE: Run Financial Analyst Agent\nDESCRIPTION: This code defines the company and year for the report, constructs a message instructing the agent to write an annual report based on the company's 10-K report, and then runs the agent. The message includes instructions on formatting, tool usage, file operations, and quality assurance.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_9\n\nLANGUAGE: python\nCODE:\n```\ncompany = \"Microsoft\"\nfyear = \"2023\"\n\nmessage = dedent(\n    f\"\"\"\n    With the tools you've been provided, write an annual report based on {company}'s {fyear} 10-k report, format it into a pdf.\n    Pay attention to the followings:\n    - Explicitly explain your working plan before you kick off.\n    - Use tools one by one for clarity, especially when asking for instructions. \n    - All your file operations should be done in \"{work_dir}\". \n    - Display any image in the chat once generated.\n    - All the paragraphs should combine between 400 and 450 words, don't generate the pdf until this is explicitly fulfilled.\n\"\"\"\n)\n\nassistant.chat(message, use_cache=True, max_turns=50,\n               summary_method=\"last_msg\")\n```\n\n----------------------------------------\n\nTITLE: Registering Tools with Autogen\nDESCRIPTION: Registers the `query_database_sec` and `query_database_earnings_call` functions as tools that can be used by the Autogen agents. This allows the agents to access and use the RAG querying capabilities.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_11\n\nLANGUAGE: python\nCODE:\n```\nfrom autogen import register_function\n\nfor tool_name,tool in tools_dict.items():\n  register_function(\n      tool[0],\n      caller=user_proxy,\n      executor=tool_proxy,\n      name = tool[0].__name__,\n      description=tool[1]\n  )\n```\n\n----------------------------------------\n\nTITLE: Registering API Keys and Creating Agents\nDESCRIPTION: This snippet registers the API keys from a JSON file, and then creates the AssistantAgent and UserProxyAgent. The UserProxyAgent is configured to avoid code execution, limit consecutive replies, use a termination message, and disable human input.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nregister_keys_from_json(\"../config_api_keys\")\n\nanalyst = AssistantAgent(\n    name=\"Market_Analyst\",\n    llm_config=llm_config,\n)\n\nuser_proxy = UserProxyAgent(\"user_proxy\", code_execution_config=False, max_consecutive_auto_reply=1,  is_termination_msg=lambda x: x.get(\"content\", \"\") and \"TERMINATE\" in x.get(\"content\", \"\"),\n    human_input_mode=\"NEVER\")\n```\n\n----------------------------------------\n\nTITLE: Registering Toolkits with Agents\nDESCRIPTION: This snippet defines a list of tools (functions) from FinnHubUtils and YFinanceUtils and registers them with the analyst and user_proxy. This allows the agents to access and use these functions for data retrieval and analysis.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/agent_fingpt_forecaster.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom finrobot.toolkits import register_toolkits\n\ntools = [\n    {\n        \"function\": FinnHubUtils.get_company_profile,\n        \"name\": \"get_company_profile\",\n        \"description\": \"get a company's profile information\"\n    },\n    {\n        \"function\": FinnHubUtils.get_company_news,\n        \"name\": \"get_company_news\",\n        \"description\": \"retrieve market news related to designated company\"\n    },\n    {\n        \"function\": FinnHubUtils.get_basic_financials,\n        \"name\": \"get_financial_basics\",\n        \"description\": \"get latest financial basics for a designated company\"\n    },\n    {\n        \"function\": YFinanceUtils.get_stock_data,\n        \"name\": \"get_stock_data\",\n        \"description\": \"retrieve stock price data for designated ticker symbol\"\n    }\n]\nregister_toolkits(tools, analyst, user_proxy)\n```\n\n----------------------------------------\n\nTITLE: Configure LLM and Register API Keys\nDESCRIPTION: Configures the Language Learning Model (LLM) settings using AutoGen's configuration loading from JSON files. It sets up two configurations, one for gpt-4-1106-vision-preview (for multimodal agent) and another for gpt-4-0125-preview. It also registers the Finnhub API keys and sets up a working directory to save intermediate results and charts.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nconfig_list_4v = autogen.config_list_from_json(\n    \"../OAI_CONFIG_LIST\",\n    filter_dict={\n        \"model\": [\"gpt-4-1106-vision-preview\"],\n    },\n)\nconfig_list_gpt4 = autogen.config_list_from_json(\n    \"../OAI_CONFIG_LIST\",\n    filter_dict={\n        \"model\": [\"gpt-4-0125-preview\"],\n    },\n)\n\n# Register FINNHUB API keys for later use\nregister_keys_from_json(\"../config_api_keys\")\n\n# Intermediate results/charts will be saved in this directory\nworking_dir = \"../coding\"\nos.makedirs(working_dir, exist_ok=True)\n```\n\n----------------------------------------\n\nTITLE: Q&A with 10-K Report Using SingleAssistantRAG\nDESCRIPTION: This snippet demonstrates using the SingleAssistantRAG class to answer questions about Microsoft's 2023 10-K report. It configures the agent with the path to the report, chunk size, collection name, and a description for the RAG task. Then, it prompts the agent with the same question.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nassitant = SingleAssistantRAG(\n    \"Data_Analyst\",\n    llm_config,\n    human_input_mode=\"NEVER\",\n    retrieve_config={\n        \"task\": \"qa\",\n        \"vector_db\": None,  # Autogen has bug for this version\n        \"docs_path\": [\n            \"../report/2023-07-27_10-K_msft-20230630.htm.pdf\",\n        ],\n        \"chunk_token_size\": 2000,\n        \"collection_name\": \"msft_10k\",\n        \"get_or_create\": True,\n        \"must_break_at_empty_line\": False,\n    },\n    rag_description=\"Retrieve content from MSFT's 2023 10-K report for detailed question answering.\",\n)\nassitant.chat(\"How's msft's 2023 income? Provide with some analysis.\")\n```\n\n----------------------------------------\n\nTITLE: Importing RAG query functions\nDESCRIPTION: Imports functions for querying the vector databases created from earnings call transcripts and SEC filings. These functions likely implement retrieval-augmented generation (RAG) to answer questions based on the financial documents.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nfrom finrobot.functional.ragquery import rag_database_earnings_call\nfrom finrobot.functional.ragquery import rag_database_sec\n```\n\n----------------------------------------\n\nTITLE: Initiating Chat for Stock Analysis\nDESCRIPTION: This snippet initiates a chat between the user_proxy and analyst agents. The message prompts the analyst to use the registered tools to retrieve information about a specified company (APPLE) and analyze its stock. It uses a cache to save progress and reuse results.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/agent_fingpt_forecaster.ipynb#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\n# company = \"Tesla\"\ncompany = \"APPLE\"\n\nwith Cache.disk() as cache:\n    # start the conversation\n    user_proxy.initiate_chat(\n        analyst,\n        message=f\"Use all the tools provided to retrieve information available for {company} upon {get_current_date()}. Analyze the positive developments and potential concerns of {company} \"\n        \"with 2-4 most important factors respectively and keep them concise. Most factors should be inferred from company related news. \"\n        f\"Then make a rough prediction (e.g. up/down by 2-3%) of the {company} stock price movement for next week. Provide a summary analysis to support your prediction.\",\n        cache=cache,\n    )\n```\n\n----------------------------------------\n\nTITLE: Configuring LLM for FinRobot Agent\nDESCRIPTION: Configures the Large Language Model (LLM) settings for the FinRobot agent, including specifying the model to use (gpt-4-0125-preview), timeout duration, and temperature. It also registers API keys from a JSON file for accessing the LLM service.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\n# Read OpenAI API keys from a JSON file\nllm_config = {\n    \"config_list\": autogen.config_list_from_json(\n        \"../OAI_CONFIG_LIST\",\n        filter_dict={\"model\": [\"gpt-4-0125-preview\"]},\n    ),\n    \"timeout\": 120,\n    \"temperature\": 0,\n}\n\n# Register FINNHUB API keys\nregister_keys_from_json(\"../config_api_keys\")\n```\n\n----------------------------------------\n\nTITLE: Initialize Autogen Agents in Python\nDESCRIPTION: Initializes an AssistantAgent named 'assistant' and a UserProxyAgent named 'user_proxy'. The AssistantAgent is configured with the LLM configuration. The UserProxyAgent is configured to execute code in the '../result code plot' directory without using Docker.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama stock chart.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nassistant = AssistantAgent(\"assistant\", llm_config={\"config_list\": config_list})\n\nuser_proxy = UserProxyAgent(\"user_proxy\", code_execution_config={\"work_dir\": \"../result code plot\", \"use_docker\": False})\n```\n\n----------------------------------------\n\nTITLE: Initializing Chat for AI Strategy\nDESCRIPTION: Initiates a chat between the `user_proxy` and `tool_proxy` agents with the input question \"What is the strategy of Nvidia for artificial intelligence?\". The chat interaction is limited to a maximum of 10 turns.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_12\n\nLANGUAGE: python\nCODE:\n```\ninput_text = \"What is the strategy of Nvidia for artificial intelligence?\"\nchat_result = user_proxy.initiate_chat(\n        recipient=tool_proxy,\n        message=input_text,\n        max_turns=10\n    )\n```\n\n----------------------------------------\n\nTITLE: Defining System Message for SEC and Earnings Call Data\nDESCRIPTION: Defines the `system_msg` variable which contains instructions for a helpful financial assistant. It specifies how to use functions to query SEC filings, earnings calls, and financial books, along with the available data sources and termination criteria.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_9\n\nLANGUAGE: python\nCODE:\n```\nsec_form_system_msg = \"\"\n#llm_config = {\"model\":\"gpt-4-turbo\"}\nfor sec_form in sec_form_names:\n    if sec_form == \"10-K\":\n        sec_form_system_msg+= \"10-K for yearly data, \"\n    elif \"10-Q\" in sec_form:\n        quarter = sec_form[-1]\n        sec_form_system_msg+= f\"{sec_form} for Q{quarter} data, \"\nsec_form_system_msg = sec_form_system_msg[:-2]\n\nearnings_call_system_message = \", \".join(earnings_call_quarter_vals)\n\nsystem_msg = f\"\"\"You are a helpful financial assistant and your task is to select the sec_filings or earnings_call or financial_books to best answer the question.\nYou can use query_database_sec(question,sec_form) by passing question, relevant sec_form names like {sec_form_system_msg}\nor you can use query_database_earnings_call(question,quarter) by passing question and relevant quarter names with possible values {earnings_call_system_message}\nor you can use query_database_books(question) to get relevant documents from financial textbooks about valuation and investing philosophies. When you are ready to end the coversation, reply TERMINATE\"\"\"\n```\n\n----------------------------------------\n\nTITLE: Initiate Chat for Stock Analysis in Python\nDESCRIPTION: Initiates a chat between the UserProxyAgent and the AssistantAgent. The message instructs the AssistantAgent to plot a chart of Apple's stock price change in 2023 and save it to a file, using yfinance to retrieve stock data.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama stock chart.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nyear=2023\ncompany=\"apple\"\n\nuser_proxy.initiate_chat(assistant, message=f\"Plot a chart of {company} stock price change in {year} and save in a file. Get information using yfinance.\")\n```\n\n----------------------------------------\n\nTITLE: Defining LLM Configuration\nDESCRIPTION: This snippet defines the configuration for the Large Language Model (LLM) to be used by the agents. It sets the model, base URL, API key, timeout, and temperature.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nconfig_list = [\n    {\n        \"model\": \"llama3\",\n        \"base_url\": \"http://127.0.0.1:4000\",\n        \"api_key\": \"ollama\",\n    }\n]\n\nllm_config = {\"config_list\": config_list, \"timeout\": 120, \"temperature\": 0}\n```\n\n----------------------------------------\n\nTITLE: Initializing AutoGen Agents\nDESCRIPTION: This snippet initializes the Market_Analyst (AssistantAgent) and User_Proxy (UserProxyAgent) agents using AutoGen. The Market_Analyst is configured with a system message describing its role, while the User_Proxy is set up to handle user input and execute code.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/agent_fingpt_forecaster.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nanalyst = autogen.AssistantAgent(\n    name=\"Market_Analyst\",\n    system_message=\"As a Market Analyst, one must possess strong analytical and problem-solving abilities, collect necessary financial information and aggregate them based on client's requirement.\"\n    \"For coding tasks, only use the functions you have been provided with. Reply TERMINATE when the task is done.\",\n    llm_config=llm_config,\n)\n\nuser_proxy = autogen.UserProxyAgent(\n    name=\"User_Proxy\",\n    is_termination_msg=lambda x: x.get(\"content\", \"\") and x.get(\n        \"content\", \"\").endswith(\"TERMINATE\"),\n    human_input_mode=\"NEVER\",\n    max_consecutive_auto_reply=10,\n    code_execution_config={\n        \"work_dir\": \"coding\",\n        \"use_docker\": False,\n    },  # Please set use_docker=True if docker is available to run the generated code. Using docker is safer than running the generated code directly.\n)\n```\n\n----------------------------------------\n\nTITLE: Define Agents: Market Analyst, Data Provider, User Proxy\nDESCRIPTION: Defines three agents: a multimodal Market Analyst using GPT-4V for analyzing financial data and market news from charts, a Data Provider using GPT-4 for providing charts and market information, and a User Proxy for executing Python functions and controlling the conversation flow. The agents are configured with specific system messages and termination conditions.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nmarket_analyst = MultimodalConversableAgent(\n    name=\"Market_Analyst\",\n    max_consecutive_auto_reply=10,\n    llm_config={\"config_list\": config_list_4v, \"temperature\": 0},\n    system_message=dedent(\"\"\"\n        Your are a Market Analyst. Your task is to analyze the financial data and market news.\n        Reply \\\"TERMINATE\\\" in the end when everything is done.\n        \"\"\")\n)\ndata_provider = AssistantAgent(\n    name=\"Data_Provider\",\n    llm_config={\"config_list\": config_list_gpt4, \"temperature\": 0},\n    system_message=dedent(\"\"\"\n        You are a Data Provider. Your task is to provide charts and necessary market information.\n        Use the functions you have been provided with.\n        Reply \\\"TERMINATE\\\" in the end when everything is done.\n        \"\"\")\n)\nuser_proxy = UserProxyAgent(\n    name=\"User_proxy\",\n    human_input_mode=\"NEVER\",\n    max_consecutive_auto_reply=10,\n    is_termination_msg=lambda x: x.get(\"content\", \"\") and x.get(\n        \"content\", \"\").endswith(\"TERMINATE\"),\n    code_execution_config={\n        \"work_dir\": working_dir,\n        \"use_docker\": False\n    },  # Please set use_docker=True if docker is available to run the generated code. Using docker is safer than running the generated code directly.\n)\n```\n\n----------------------------------------\n\nTITLE: Running a Market Forecaster Agent\nDESCRIPTION: Initializes and runs a Market Forecaster agent to analyze a specific company (NVDA) and predict its stock movement for the next week based on available information. The human_input_mode is set to \"NEVER\" so the agent autonomously generates the prediction.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_6\n\nLANGUAGE: python\nCODE:\n```\ncompany = \"NVDA\"\n\nassitant = SingleAssistant(\n    \"Market_Analyst\",\n    llm_config,\n    # set to \"ALWAYS\" if you want to chat instead of simply receiving the prediciton\n    human_input_mode=\"NEVER\",\n)\nassitant.chat(\n    f\"Use all the tools provided to retrieve information available for {company} upon {get_current_date()}. Analyze the positive developments and potential concerns of {company} \"\n    \"with 2-4 most important factors respectively and keep them concise. Most factors should be inferred from company related news. \"\n    f\"Then make a rough prediction (e.g. up/down by 2-3%) of the {company} stock price movement for next week. Provide a summary analysis to support your prediction.\"\n)\n```\n\n----------------------------------------\n\nTITLE: HTML Table for Valuation Ratios\nDESCRIPTION: This HTML snippet defines a table displaying valuation ratios such as P/E, P/S, P/B, EV / Revenue, EV / EBITDA, and FCF Yield. The table includes historical and forecasted data for multiple fiscal years, providing a snapshot of the company's valuation metrics.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"w-full text-[16px]\">\n      <thead>\n       <tr class=\"border-b-2 border-black\">\n        <th class=\"text-left font-normal pb-1\">\n         FY Dec\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2021A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2022A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2023A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2024F\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2025F\n        </th>\n       </tr>\n      </thead>\n      <tbody>\n       <tr class=\"bg-gray-100\">\n        <td>\n         P/E\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         P/S\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         P/B\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         EV / Revenue\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         EV / EBITDA\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         FCF Yield %\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n      </tbody>\n     </table>\n```\n\n----------------------------------------\n\nTITLE: Defining and running the Market Analyst assistant\nDESCRIPTION: This code snippet defines and runs the Market_Analyst assistant using the SingleAssistant workflow. It initializes the assistant with the llm_config and sets human_input_mode to \"NEVER\" to automatically receive predictions. It then uses the chat method to analyze information for a given company and predict its stock price movement.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_fingpt_forecaster.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\ncompany = \"APPLE\"\n\nassitant = SingleAssistant(\n    \"Market_Analyst\",\n    llm_config,\n    # set to \"ALWAYS\" if you want to chat instead of simply receiving the prediciton\n    human_input_mode=\"NEVER\",\n)\nassitant.chat(\n    f\"Use all the tools provided to retrieve information available for {company} upon {get_current_date()}. Analyze the positive developments and potential concerns of {company} \"\n    \"with 2-4 most important factors respectively and keep them concise. Most factors should be inferred from company related news. \"\n    f\"Then make a rough prediction (e.g. up/down by 2-3%) of the {company} stock price movement for next week. Provide a summary analysis to support your prediction.\"\n)\n```\n\n----------------------------------------\n\nTITLE: Import Necessary Libraries\nDESCRIPTION: Imports required libraries for agent setup, data handling, charting, and utility functions. Includes AutoGen components, Finnhub utilities, MplFinance utilities, and standard libraries for text manipulation, plotting, and image processing.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport os\nimport autogen\nfrom autogen import AssistantAgent, UserProxyAgent\nfrom autogen.agentchat.contrib.multimodal_conversable_agent import MultimodalConversableAgent\nfrom autogen.cache import Cache\n\nfrom finrobot.utils import get_current_date, register_keys_from_json\nfrom finrobot.data_source.finnhub_utils import FinnHubUtils\nfrom finrobot.functional.charting import MplFinanceUtils\n\nfrom textwrap import dedent\nfrom matplotlib import pyplot as plt\nfrom PIL import Image\n```\n\n----------------------------------------\n\nTITLE: HTML Table for Credit & Cashflow Metrics\nDESCRIPTION: This HTML snippet defines a table displaying credit and cash flow metrics in USD millions. Metrics include Debt/Equity, Net Debt/Equity, Debt/Assets, Net Debt/Assets, EBITDA/Int Exp, ST Debt/Total Debt, Debt/EBITDA, [Cash + CFO] / ST Debt, Receivables Days, Days Payable, and Inventory Days. The table includes historical and forecasted data for multiple fiscal years, offering insights into the company's financial health and liquidity.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"w-full text-[16px]\">\n      <thead>\n       <tr class=\"border-b-2 border-black\">\n        <th class=\"text-left font-normal pb-1\">\n         FY Dec\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2021A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2022A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2023A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2024F\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2025F\n        </th>\n       </tr>\n      </thead>\n      <tbody>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Debt / Equity\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         Net Debt / Equity\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Debt / Assets\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         Net Debt / Assets\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         EBITDA / Int Exp\n        </td>\n        <td class=\"text-right\">\n         XX\n        </td>\n        <td class=\"text-right\">\n         XX\n        </td>\n        <td class=\"text-right\">\n         XX\n        </td>\n        <td class=\"text-right\">\n         XX\n        </td>\n        <td class=\"text-right\">\n         XX\n        </td>\n       </tr>\n       <tr>\n        <td>\n         ST Debt / Total Debt\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Debt / EBITDA\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         [Cash + CFO] / ST Debt\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Receivables Days\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         Days Payable\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XXX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Inventory Days\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n      </tbody>\n     </table>\n```\n\n----------------------------------------\n\nTITLE: Importing data processing and Langchain modules\nDESCRIPTION: Imports modules for fetching earnings call data, SEC filings, and Langchain components for text splitting, vector database creation, and embedding generation. These libraries are used to process financial documents and create vector embeddings for efficient retrieval.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom finrobot.data_source.earnings_calls_src.main_earningsData import get_earnings_all_docs\nfrom finrobot.data_source.earnings_calls_src import earningsData\nfrom finrobot.data_source.filings_src import sec_main as unstructured_sec_main\nfrom finrobot.data_source.earnings_calls_src.main_earningsData import get_earnings_all_docs\nfrom finrobot.data_source.earnings_calls_src import earningsData\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\nfrom langchain_chroma import Chroma\nfrom langchain_community.embeddings.sentence_transformer import SentenceTransformerEmbeddings\n```\n\n----------------------------------------\n\nTITLE: Configuring OpenAI API Keys for Autogen\nDESCRIPTION: This snippet configures the OpenAI API keys for the autogen library. It reads the API keys from a JSON file named 'OAI_CONFIG_LIST' and sets the timeout and temperature parameters for the language model.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\n# Read OpenAI API keys from a JSON file\nllm_config = {\n    \"config_list\": autogen.config_list_from_json(\n        \"../OAI_CONFIG_LIST\",\n        filter_dict={\"model\": [\"gpt-4-0125-preview\"]},\n    ),\n    \"timeout\": 120,\n    \"temperature\": 0,\n}\n```\n\n----------------------------------------\n\nTITLE: Q&A with Annual Report Using SingleAssistantRAG\nDESCRIPTION: This snippet demonstrates using the SingleAssistantRAG class to answer questions about Microsoft's 2023 annual report. It configures the agent with the path to the report, chunk size, and collection name, then prompts the agent with a question.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nassitant = SingleAssistantRAG(\n    \"Data_Analyst\",\n    llm_config,\n    human_input_mode=\"NEVER\",\n    retrieve_config={\n        \"task\": \"qa\",\n        \"vector_db\": None,  # Autogen has bug for this version\n        \"docs_path\": [\n            \"../report/Microsoft_Annual_Report_2023.pdf\",\n        ],\n        \"chunk_token_size\": 1000,\n        \"get_or_create\": True,\n        \"collection_name\": \"msft_analysis\",\n        \"must_break_at_empty_line\": False,\n    },\n)\nassitant.chat(\"How's msft's 2023 income? Provide with some analysis.\")\n```\n\n----------------------------------------\n\nTITLE: Importing Modules and Dependencies\nDESCRIPTION: This snippet imports the necessary modules from Autogen and FinRobot for creating agents, managing cache, accessing data sources, and registering API keys. It also imports typing annotations.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport autogen\nfrom autogen.cache import Cache\n\nfrom finrobot.utils import get_current_date, register_keys_from_json\nfrom finrobot.data_source import FinnHubUtils, YFinanceUtils\nfrom autogen import AssistantAgent, UserProxyAgent\n\nfrom typing import Annotated\n```\n\n----------------------------------------\n\nTITLE: Importing necessary libraries\nDESCRIPTION: This code snippet imports the required libraries and functions for the FinRobot project. It includes autogen for automating workflows, finrobot.utils for utility functions like getting the current date and registering API keys, and finrobot.agents.workflow for defining the agent's workflow.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_fingpt_forecaster.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport autogen\nfrom finrobot.utils import get_current_date, register_keys_from_json\nfrom finrobot.agents.workflow import SingleAssistant\n```\n\n----------------------------------------\n\nTITLE: HTML Financial Summary Template\nDESCRIPTION: This code snippet defines an HTML template for displaying a financial summary. It uses Tailwind CSS for styling and includes tables for financial data and valuation metrics, along with placeholders for actual data.  The HTML defines the structure of a financial report page.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   FinRobot Research Financial Summary\n  </title>\n  <script src=\"https://cdn.tailwindcss.com\">\n  </script>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body {\n            font-family: 'DM Sans', sans-serif;\n            font-weight: 300;\n            width: 8.5in;\n            height: 11in;\n            margin: 0 auto;\n            padding: 0.5in;\n            box-sizing: border-box;\n        }\n  </style>\n </head>\n <body class=\"bg-white\">\n  <div class=\"max-w-4xl mx-auto\">\n   <div class=\"text-right text-xs text-gray-500 mb-4\">\n    FinRobot Research\n   </div>\n   <div class=\"w-2/3\">\n    <div class=\"mb-8\">\n     <h2 class=\"text-gray-500 text-[14px] font-bold mb-2\">\n      FINANCIAL SUMMARY (USD M)\n     </h2>\n     <table class=\"w-full text-[16px]\">\n      <thead>\n       <tr class=\"border-b-2 border-black\">\n        <th class=\"text-left font-normal pb-1\">\n         FY Dec\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2021A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2022A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2023A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2024F\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2025F\n        </th>\n       </tr>\n      </thead>\n      <tbody>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Sales\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr>\n        <td class=\"pl-4 italic\">\n         % Sales y-o-y\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Gross Profit\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr>\n        <td class=\"pl-4 italic\">\n         % Gross Profit y-o-y\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         EBITDA\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr>\n        <td class=\"pl-4 italic\">\n         % EBITDA y-o-y\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Net Profit\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr>\n        <td class=\"pl-4 italic\">\n         % Net Profit y-o-y\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n        <td class=\"text-right italic\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         FCF\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr>\n        <td>\n         CAPEX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n        <td class=\"text-right\">\n         XXX\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         EBITDA Margin %\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         Net Margin %\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         ROA (%)\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         ROE (%)\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Tax Rate %\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n      </tbody>\n     </table>\n     <div class=\"text-[12px] text-gray-500 mt-1\">\n      Source: Visible Alpha\n     </div>\n    </div>\n    <div class=\"mb-8\">\n     <h2 class=\"text-gray-500 text-[14px] font-bold mb-2\">\n      VALUATION METRICS (USD, M)\n     </h2>\n     <table class=\"w-full text-[16px]\">\n      <thead>\n       <tr class=\"border-b-2 border-black\">\n        <th class=\"text-left font-normal pb-1\">\n         FY Dec\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2021A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2022A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2023A\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2024F\n        </th>\n        <th class=\"text-right font-normal pb-1\">\n         FY2025F\n        </th>\n       </tr>\n      </thead>\n      <tbody>\n       <tr class=\"bg-gray-100\">\n        <td>\n         P/E\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         P/B\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr class=\"bg-gray-100\">\n        <td>\n         Dividend Yield\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n       </tr>\n       <tr>\n        <td>\n         EV/EBITDA (x)\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         XX.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n        </td>\n        <td class=\"text-right\">\n         X.X\n\n```\n\n----------------------------------------\n\nTITLE: Configure LLM in Python\nDESCRIPTION: Defines a configuration list for the LLM (Language Model). It specifies the model name (llama3), the base URL for the LLM API (http://127.0.0.1:4000), and the API key ('ollama'). This configuration is used by the Autogen agents to connect to the LLM.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama stock chart.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nconfig_list = [\n    {\n        \"model\": \"llama3\",\n        \"base_url\": \"http://127.0.0.1:4000\",\n        \"api_key\": \"ollama\",\n    }\n]\n```\n\n----------------------------------------\n\nTITLE: Initiate Chats for Data Gathering and Analysis\nDESCRIPTION: Initiates a sequence of chats between the User Proxy, Data Provider, and Market Analyst. The User Proxy first instructs the Data Provider to gather market news and generate a candlestick chart for a specified company, saving the chart to a file. Then, the User Proxy passes this information to the Market Analyst for trend analysis and predictions. The chart's file path is passed as a carryover message. Cache is temporarily disabled for image generation.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\ncompany = \"Tesla\"\n# company = \"APPLE\"\n\nwith Cache.disk() as cache:  # image cannot be cached\n    autogen.initiate_chats(\n        [\n            {\n                \"sender\": user_proxy,\n                \"recipient\": data_provider,\n                \"message\": dedent(f\"\"\"\n                Gather information available upon {get_current_date()} for {company}, \n                including its recent market news and a candlestick chart of the stock \n                price trend. Save the chart in `{working_dir}/result.jpg`\n                \"\"\"),           # As currently AutoGen has the bug of not respecting `work_dir` when using function call, we have to specify the directory\n                \"clear_history\": True,\n                \"silent\": False,\n                \"summary_method\": \"last_msg\",\n            },\n            {\n                \"sender\": user_proxy,\n                \"recipient\": market_analyst,\n                \"message\": dedent(f\"\"\"\n                With the stock price chart provided, along with recent market news of {company}, \n                analyze the recent fluctuations of the stock and the potential relationship with \n                market news. Provide your predictive analysis for the stock's trend in the coming \n                week. Reply TERMINATE when the task is done.\n                \"\"\"),\n                \"max_turns\": 1,  # max number of turns for the conversation\n                \"summary_method\": \"last_msg\",\n                # cheated here for stability\n                \"carryover\": f\"<img {working_dir}/result.jpg>\"\n            }\n        ]\n    )\n```\n\n----------------------------------------\n\nTITLE: Importing Libraries\nDESCRIPTION: This snippet imports the necessary libraries, including autogen, Cache from autogen, and custom modules from finrobot.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/agent_fingpt_forecaster.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport autogen\nfrom autogen.cache import Cache\n\nfrom finrobot.utils import get_current_date, register_keys_from_json\nfrom finrobot.data_source import FinnHubUtils, YFinanceUtils\n```\n\n----------------------------------------\n\nTITLE: Display the Resulting Image\nDESCRIPTION: Opens and displays the generated stock price chart image using Matplotlib. It loads the image from the specified working directory, displays it using `imshow`, and hides the axes for a cleaner presentation.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_advanced/lmm_agent_mplfinance.ipynb#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nimg = Image.open(f\"{working_dir}/result.jpg\")\nplt.imshow(img)\nplt.axis(\"off\")  # Hide the axes\nplt.show()\n```\n\n----------------------------------------\n\nTITLE: Configure LLM and Agent\nDESCRIPTION: This code configures the Large Language Model (LLM) settings for the agent, including the model to use, timeout, and temperature. It also registers API keys and sets up the working directory. Finally, it instantiates a SingleAssistantShadow agent with the specified configuration.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nllm_config = {\n    \"config_list\": autogen.config_list_from_json(\n        \"../OAI_CONFIG_LIST\",\n        filter_dict={\n            \"model\": [\"gpt-4-0125-preview\"],\n        },\n    ),\n    \"timeout\": 120,\n    \"temperature\": 0.5,\n}\nregister_keys_from_json(\"../config_api_keys\")\n\n# Intermediate strategy modules will be saved in this directory\nwork_dir = \"../report\"\nos.makedirs(work_dir, exist_ok=True)\n\nassistant = SingleAssistantShadow(\n    \"Expert_Investor\",\n    llm_config,\n    max_consecutive_auto_reply=None,\n    human_input_mode=\"TERMINATE\",\n)\n```\n\n----------------------------------------\n\nTITLE: Setting ticker and year variables\nDESCRIPTION: Sets the ticker symbol to 'NVDA' and the year to '2023'.  These parameters are used when creating vector databases of the financial documents.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\n#ticker = 'GOOG'\nticker = 'NVDA'\nyear = '2023'\nfiling_types = ['10-K','10-Q']\ninclude_amends = True\n```\n\n----------------------------------------\n\nTITLE: Defining HTML content for the third page\nDESCRIPTION: This snippet defines a multiline string variable 'html_content_third_page' containing the HTML structure and content for a specific page (the third page) of a financial research report. The HTML includes sections for target price and ratings history, a disclaimer, and branding elements.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   Research Report\n  </title>\n  <script src=\"https://cdn.tailwindcss.com\">\n  </script>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body {\n            font-family: 'DM Sans', sans-serif;\n            font-weight: 300;\n        }\n        @page {\n            size: letter;\n        }\n  </style>\n </head>\n <body class=\"bg-white flex items-center justify-center\" style=\"width: 8.5in; height: 11in;\">\n  <div class=\"max-w-3xl mx-auto p-8\">\n   <div class=\"text-right text-sm text-gray-500 mb-4\">\n    FinRobot Research\n   </div>\n   <h2 class=\"text-lg font-normal text-gray-500 mb-2\">\n    Target Price &amp; Ratings History\n   </h2>\n   <hr class=\"border-gray-300 mb-4\"/>\n   <div class=\"bg-gray-100 p-4 mb-4 h-48\">\n    <!-- Placeholder for graph -->\n   </div>\n   <div class=\"text-xs mb-4 text-gray-500\">\n    Source: [Redacted]\n    <br/>\n    Analysts: [Redacted]\n   </div>\n   <div class=\"border border-black p-4 text-xs mb-4\">\n    <p class=\"font-bold mb-2\">\n     Research recommendations are based on an Absolute Total Return* Rating system, defined as follows:\n    </p>\n    <p class=\"mb-1\">\n     <span class=\"font-bold\">\n      STRONG BUY\n     </span>\n     &gt;20% total return over the next 3 months, with identifiable share price catalysts within this time frame\n    </p>\n    <p class=\"mb-1\">\n     <span class=\"font-bold\">\n      BUY\n     </span>\n     &gt;15% total return over the next 12 months for small caps, &gt;10% for large caps\n    </p>\n    <p class=\"mb-1\">\n     <span class=\"font-bold\">\n      HOLD\n     </span>\n     -10% to +15% total return over the next 12 months for small caps, -10% to +10% for large caps\n    </p>\n    <p class=\"mb-1\">\n     <span class=\"font-bold\">\n      FULLY VALUED\n     </span>\n     negative total return, i.e., &gt; -10% over the next 12 months\n    </p>\n    <p>\n     <span class=\"font-bold\">\n      SELL\n     </span>\n     negative total return of &gt; -20% over the next 3 months, with identifiable share price catalysts within this time frame\n    </p>\n   </div>\n   <div class=\"text-xs mb-4\">\n    Sources for all charts and tables are [Redacted] unless otherwise specified.\n   </div>\n   <div class=\"text-xs mb-4\">\n    <p class=\"font-bold mb-2\">\n     GENERAL DISCLOSURE/DISCLAIMER\n    </p>\n    <p class=\"mb-2\">\n     This report is prepared by [Redacted]. This report is solely intended for the clients of [Redacted], its respective connected and associated corporations and affiliates only and no part of this document may be (i) copied, photocopied or duplicated in any form or by any means or (ii) redistributed without the prior written consent of [Redacted].\n    </p>\n    <p class=\"mb-2\">\n     The research set out in this report is based on information obtained from sources believed to be reliable, but we (which collectively refers to [Redacted], its respective connected and associated corporations, affiliates and their respective directors, officers, employees and agents (collectively, the \"Group\") have not conducted due diligence on any of the companies, verified any information or sources or taken into account any other factors which we may consider to be relevant or appropriate in preparing the research. Accordingly, we do not make any representation or warranty as to the accuracy, completeness or correctness of the research set out in this report.\n    </p>\n    <p>\n     Any valuations, opinions, estimates, forecasts, ratings or risk assessments herein constitutes a judgment as of the date of this report, and there can be no assurance that future results or events will be consistent with any such valuations, opinions, estimates, forecasts, ratings or risk assessments. The information in this document is subject to change without notice, its accuracy is not guaranteed, it may be incomplete or condensed, it may not contain all material information concerning the company (or companies) referred to in this report and the Group is under no obligation to update the information in this report.\n    </p>\n    <p class=\"mb-2\">\n     This publication has not been reviewed or authorized by any regulatory authority in Singapore, Hong Kong or elsewhere. There is no planned schedule or frequency for updating research publication relating to any issuer.\n    </p>\n   </div>\n   <div class=\"text-xs\">\n    <p class=\"italic\">\n     Disclaimer: The information contained in this document is intended solely for use by the person to whom it has been delivered and should not be reproduced or distributed to third parties without our prior written consent. [Redacted] accepts no liability whatsoever with respect to the use of this document or its contents.\n    </p>\n    <p class=\"italic\">\n     Please refer to Disclaimer found at the end of the document.\n    </p>\n   </div>\n   <div class=\"absolute bottom-4 right-4\">\n    <div class=\"w-24 h-12 bg-gray-200\">\n     <!-- Placeholder for logo -->\n    </div>\n   </div>\n  </div>\n </body>\n</html>\n\n```\n\n----------------------------------------\n\nTITLE: Calling RAG function for earnings calls\nDESCRIPTION: Calls `rag_database_earnings_call` function to retrieve earnings call data based on the ticker and year. Returns variables for accessing the data in the database.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_6\n\nLANGUAGE: python\nCODE:\n```\nquery_database_earnings_call, earnings_call_quarter_vals, quarter_speaker_dict = rag_database_earnings_call(ticker = ticker, year = year)\n```\n\n----------------------------------------\n\nTITLE: Calling RAG function for SEC filings\nDESCRIPTION: Calls `rag_database_sec` to retrieve SEC filing data based on the specified ticker, year, and `FROM_MARKDOWN` value. The resulting variable will store the information from the database and used in other functions.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nquery_database_sec, sec_form_names = rag_database_sec(ticker = ticker, year = year,FROM_MARKDOWN = FROM_MARKDOWN)\n```\n\n----------------------------------------\n\nTITLE: Adding parent directory to sys.path\nDESCRIPTION: Adds the parent directory to the Python system path to allow importing modules from the parent directory. This is useful for organizing project code into multiple directories.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nimport sys\nimport os\n# Add the parent directory to the system path\nparent_directory = os.path.abspath(os.path.join(os.getcwd(), '..'))\nif parent_directory not in sys.path:\n    sys.path.insert(0, parent_directory)\n```\n\n----------------------------------------\n\nTITLE: Importing Autogen and FinRobot Modules\nDESCRIPTION: This snippet imports the necessary modules from the autogen and finrobot libraries. Autogen is used for agent creation and configuration, while finrobot provides the SingleAssistantRAG class for retrieval-augmented generation.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport autogen\nfrom finrobot.agents.workflow import SingleAssistantRAG\n```\n\n----------------------------------------\n\nTITLE: Creating a Conda Environment\nDESCRIPTION: Creates a new Conda virtual environment named 'finrobot' with Python 3.10 and then activates it. This ensures a clean and isolated environment for installing FinRobot and its dependencies.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nconda create --name finrobot python=3.10\nconda activate finrobot\n```\n\n----------------------------------------\n\nTITLE: Initializing IronPDF Renderer in Python\nDESCRIPTION: This snippet initializes the ChromePdfRenderer from IronPDF, which is used to convert HTML content to PDF documents.  It creates an instance of the ChromePdfRenderer class, which manages the rendering process using a headless Chrome browser.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_14\n\nLANGUAGE: python\nCODE:\n```\nfrom ironpdf import *\n\n# Instantiate the renderer\nrenderer = ChromePdfRenderer()\n```\n\n----------------------------------------\n\nTITLE: Installing required python packages\nDESCRIPTION: Install langchain-chroma and sentence-transformers using pip package manager. Chroma will be used as vector database and sentence-transformers used for generating embeddings.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_2\n\nLANGUAGE: python\nCODE:\n```\n!pip install langchain-chroma -U -q\n!pip install sentence-transformers -q\n```\n\n----------------------------------------\n\nTITLE: Write HTML to File Python\nDESCRIPTION: This code snippet writes the HTML content stored in the `html_content` variable to a file named `Equity_Research_Template_firstpage.html`. The file is opened in write mode (`'w'`), overwriting any existing content. After writing, a success message is printed to the console.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nwith open(\"/content/Equity_Research_Template_firstpage.html\", \"w\") as file:\n    file.write(html_content)\n\nprint(\"HTML file created successfully.\")\n```\n\n----------------------------------------\n\nTITLE: Initializing Chat for Forward Estimates\nDESCRIPTION: Initiates a chat between the `user_proxy` and `tool_proxy` agents with the input question \"What was forward estimates of Nvidia for the year 2023?\". The chat interaction is limited to a maximum of 10 turns.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_13\n\nLANGUAGE: python\nCODE:\n```\ninput_text = \"What was forward estimates of Nvidia for the year 2023?\"\nchat_result = user_proxy.initiate_chat(\n        recipient=tool_proxy,\n        message=input_text,\n        max_turns=10\n    )\n```\n\n----------------------------------------\n\nTITLE: Writing HTML content to file (second page)\nDESCRIPTION: This snippet opens a file named 'Equity_Research_Template_secondpage.html' in write mode ('w') and writes the content of the 'html_content_second_page' variable to it. After writing the content, it prints a success message to the console.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nwith open(\"/content/Equity_Research_Template_secondpage.html\", \"w\") as file:\n    file.write(html_content_second_page)\n\nprint(\"HTML file created successfully.\")\n```\n\n----------------------------------------\n\nTITLE: Writing HTML content to a file using Python\nDESCRIPTION: This snippet demonstrates how to write HTML content stored in a Python string variable to an HTML file.  The file is opened in write mode ('w'), the HTML content is written using `file.write()`, and the file is automatically closed when the `with` block exits. A print statement confirms the successful file creation. Requires file write permissions.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_11\n\nLANGUAGE: python\nCODE:\n```\nwith open(\"/content/Equity_Research_Template_fifthpage.html\", \"w\") as file:\n    file.write(html_content_fifth_page)\n\nprint(\"HTML file created successfully.\")\n```\n\n----------------------------------------\n\nTITLE: Cloning the FinRobot Repository\nDESCRIPTION: Clones the FinRobot repository from GitHub to the local machine and navigates into the cloned directory. This provides access to the project's source code, tutorials, and configuration files.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngit clone https://github.com/AI4Finance-Foundation/FinRobot.git\ncd FinRobot\n```\n\n----------------------------------------\n\nTITLE: Write HTML to File (Python)\nDESCRIPTION: This Python snippet writes the content of the `html_content_third_page` variable to a file named `/content/Equity_Research_Template_thirdpage.html`. The file is opened in write mode ('w'), and the `write()` method is used to write the string to the file. After writing, a confirmation message is printed to the console.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nwith open(\"/content/Equity_Research_Template_thirdpage.html\", \"w\") as file:\n    file.write(html_content_third_page)\n\nprint(\"HTML file created successfully.\")\n```\n\n----------------------------------------\n\nTITLE: Initializing Chat for Risk Factors\nDESCRIPTION: Initiates a chat between the `user_proxy` and `tool_proxy` agents with the input question \"What are the risk factors that Nvidia faced this year?\". The chat interaction is limited to a maximum of 10 turns.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_14\n\nLANGUAGE: python\nCODE:\n```\ninput_text = \"What are the risk factors that Nvidia faced this year?\"\nchat_result = user_proxy.initiate_chat(\n        recipient=tool_proxy,\n        message=input_text,\n        max_turns=10\n    )\n```\n\n----------------------------------------\n\nTITLE: Import Autogen Agents in Python\nDESCRIPTION: Imports the AssistantAgent and UserProxyAgent classes from the autogen library. This allows the creation of intelligent agents that can collaborate to solve tasks.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama stock chart.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom autogen import AssistantAgent, UserProxyAgent\n```\n\n----------------------------------------\n\nTITLE: Defining HTML content for Restrictions on Distribution\nDESCRIPTION: This HTML snippet defines the structure and content for a webpage detailing restrictions on distribution of research reports across different countries. It includes headings, paragraphs, and basic styling for layout and readability. The content covers legal disclaimers and limitations regarding distribution in various regions (Country A, Country C, Country D, Country E, Country F).\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   FinRobot Research - Restrictions on Distribution\n  </title>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;700&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body {\n            font-family: 'DM Sans', sans-serif;\n            font-weight: 300;\n            line-height: 1.6;\n            margin: 0;\n            padding: 20px;\n            font-size: 12px;\n            width: 8.5in;\n            height: 11in;\n            box-sizing: border-box;\n        }\n        .header {\n            text-align: right;\n            color: #808080;\n            font-size: 12px;\n            margin-bottom: 20px;\n        }\n        h2 {\n            font-size: 14px;\n            font-weight: 700;\n            margin-bottom: 5px;\n        }\n        p {\n            margin: 0 0 10px 0;\n        }\n        .section {\n            margin-bottom: 15px;\n        }\n        .footer {\n            margin-top: 20px;\n            text-align: right;\n        }\n        .logo {\n            width: 50px;\n            height: auto;\n        }\n  </style>\n </head>\n <body>\n  <div class=\"header\">\n   FinRobot Research\n  </div>\n  <div class=\"section\">\n   <h2>\n    RESTRICTIONS ON DISTRIBUTION\n   </h2>\n   <p>\n    <strong>\n     General\n    </strong>\n    This report is not directed to, or intended for distribution to or use by, any person or entity who is a citizen or resident of or located in any locality, state, country or other jurisdiction where such distribution, publication, availability or use would be contrary to law or regulation.\n   </p>\n  </div>\n  <div class=\"section\">\n   <h2>\n    Country A\n   </h2>\n   <p>\n    This report is being distributed in Country A by Company X, Company Y (\"CY\") or Company Z. Company X holds Financial Services Licence no. 123456.\n   </p>\n   <p>\n    Company X, CY and Company Z are exempted from the requirement to hold a Financial Services Licence under the Corporation Act 2001 (\"CA\") in respect of financial services provided to the recipients. Both Company X and CY are regulated by the Financial Authority of Country B under the laws of Country B, and Company Z is regulated by the Securities Commission of Country C under the laws of Country C, which differ from Country A laws.\n   </p>\n   <p>\n    Distribution of this report is intended only for \"wholesale investors\" within the meaning of the CA.\n   </p>\n  </div>\n  <div class=\"section\">\n   <h2>\n    Country C\n   </h2>\n   <p>\n    This report has been prepared by a personnel of Company X, who is not licensed by the Securities and Futures Commission of Country C to carry on the regulated activity of advising on securities in Country C pursuant to the Securities and Futures Ordinance (Chapter 571 of the Laws of Country C). This report is being distributed in Country C and is attributable to Company X (Country C) Limited (CX), a registered institution registered with the Securities and Futures Commission of Country C to carry out the regulated activity of advising on securities pursuant to the Securities and Futures Ordinance (Chapter 571 of the Laws of Country C). Company X, Country C Branch is a limited liability company incorporated in Country B.\n   </p>\n   <p>\n    This report is being distributed in Country C by Company X, Company X (Country C) Limited and Company Y (Country C) Limited, all of which are registered with or licensed by the Securities and Futures Commission of Country C to carry out the regulated activity of advising on securities. Company X, Country C Branch is a limited liability company incorporated in Country B.\n   </p>\n   <p>\n    For any query regarding the materials herein, please contact John Smith (Reg No. AB1234) at johnsmith@companyx.com\n   </p>\n  </div>\n  <div class=\"section\">\n   <h2>\n    Country D\n   </h2>\n   <p>\n    This report is being distributed in Country D by PT Company Y Sekuritas Country D.\n   </p>\n  </div>\n  <div class=\"section\">\n   <h2>\n    Country E\n   </h2>\n   <p>\n    This report is distributed in Country E by AllianceXYZ Research Sdn Bhd (\"AXYZR\"). Recipients of this report, received from AXYZR are to contact the undersigned at 123-456-7890 in respect of any matters arising from or in connection with this report. In addition to the General Disclosure/Disclaimer found at the preceding page, recipients of this report are advised that AXYZR (the preparer of this report), its holding company Alliance Investment Bank Berhad, their respective connected and associated corporations, affiliates, their directors, officers, employees, agents and parties related or associated with any of them may have positions in, and may effect transactions in the securities mentioned herein and may also perform or seek to perform broking, investment banking/corporate advisory and other services for the subject companies. They may also have received compensation and/or seek to obtain compensation for broking, investment banking/corporate advisory and other services from the subject companies.\n   </p>\n   <p>\n    Jane Doe, Executive Director, AXYZR\n   </p>\n  </div>\n  <div class=\"section\">\n   <h2>\n    Country F\n   </h2>\n   <p>\n    This report is distributed in Country F by Company X (Company Regn. No. 123456789A) or CY (Company Regn No. 987654321B), both of which are Exempt Financial Advisers as defined in the Financial Advisers Act and regulated by the Monetary Authority of Country F. Company X and/or CY, may distribute reports produced by its respective foreign entities, affiliates or other foreign research houses pursuant to an arrangement under Regulation 32C of the Financial Advisers Regulations. Where the report is distributed in Country F to a person who is not an Accredited Investor, Expert Investor or an\n   </p>\n  </div>\n  <div class=\"section\">\n   <p>\n    Disclaimer: The information contained in this document is intended only for use by the person to whom it has been delivered and should not be disseminated or distributed to third parties without our prior written consent. Company X accepts no liability whatsoever with respect to the use of this document or its contents. Please refer to Disclaimer found at the end of this document.\n   </p>\n  </div>\n  <div class=\"footer\">\n   <img alt=\"FinRobot logo\" class=\"logo\" height=\"50\" src=\"https://replicate.delivery/yhqm/sJtrgYOYss4VNJUwU0EanYuI3iicgdFPf5wFqk0Ihm0V4dsJA/out-0.png\" width=\"50\"/>\n  </div>\n </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Installing FinRobot from PyPI\nDESCRIPTION: Installs the FinRobot package from PyPI. The -U flag ensures that the package and its dependencies are upgraded to the latest versions if they are already installed.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npip install -U finrobot\n```\n\n----------------------------------------\n\nTITLE: Defining HTML content as a String\nDESCRIPTION: This snippet defines a multiline string variable `html_content_last_page` containing HTML markup for an equity research report's concluding page. The HTML includes styling, headers, paragraphs with disclaimers, contact information for various regional offices, and a logo. It uses inline CSS for styling and includes a link to a remote image.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_12\n\nLANGUAGE: html\nCODE:\n```\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   FinRobot Research\n  </title>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;700&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body {\n            font-family: 'DM Sans', sans-serif;\n            font-weight: 300;\n            margin: 0;\n            padding: 20px;\n            color: #333;\n            width: 8.5in;\n            height: 11in;\n            box-sizing: border-box;\n            display: flex;\n            flex-direction: column;\n        }\n        .header {\n            text-align: right;\n            color: #808080;\n            font-size: 12px;\n            margin-bottom: 20px;\n        }\n        h2 {\n            font-size: 14px;\n            font-weight: 700;\n            margin-bottom: 5px;\n        }\n        p {\n            font-size: 12px;\n            line-height: 1.4;\n            margin-bottom: 20px;\n        }\n        .offices-header {\n            font-size: 14px;\n            font-weight: 700;\n            color: #808080;\n            margin-top: 30px;\n            margin-bottom: 5px;\n        }\n        .offices-line {\n            border-top: 1px solid #808080;\n            margin-bottom: 20px;\n        }\n        .offices {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 20px;\n        }\n        .office {\n            font-size: 12px;\n        }\n        .office h3 {\n            font-size: 14px;\n            font-weight: 700;\n            margin-bottom: 5px;\n        }\n        .office p {\n            margin: 0;\n            line-height: 1.3;\n        }\n        .footer {\n            font-size: 10px;\n            color: #666;\n            margin-top: auto;\n            padding-top: 20px;\n        }\n        .logo {\n            text-align: right;\n            margin-top: 10px;\n        }\n  </style>\n </head>\n <body>\n  <div class=\"header\">\n   FinRobot Research\n  </div>\n  <h2>\n   United States\n  </h2>\n  <p>\n   This report was prepared by FinRobot Ltd. FinRobot/USA did not participate in its preparation. The research analyst(s) named on this report are not registered as research analysts with FINRA and are not associated persons of FinRobot/USA. The research analyst(s) are not subject to FINRA Rule 2241 restrictions on analyst compensation, communications with a subject company, public appearances and trading securities held by a research analyst. This report is being distributed in the United States by FinRobot/USA, which accepts responsibility for its contents. This report may only be distributed to Major U.S. Institutional Investors and to such other institutional investors and qualified persons as FinRobot/USA may authorize. Any U.S. person receiving this report who wishes to effect transactions in any securities referred to herein should contact FinRobot/USA directly and not its affiliate.\n  </p>\n  <h2>\n   Other Jurisdictions\n  </h2>\n  <p>\n   In any other jurisdictions, except if otherwise restricted by laws or regulations, this report is intended only for qualified, professional, institutional or sophisticated investors as defined in the laws and regulations of such jurisdictions.\n  </p>\n  <div class=\"offices-header\">\n   FINROBOT REGIONAL RESEARCH OFFICES\n  </div>\n  <div class=\"offices-line\">\n  </div>\n  <div class=\"offices\">\n   <div class=\"office\">\n    <h3>\n     REGION A\n    </h3>\n    <p>\n     FinRobot (Region A) Ltd\n     <br/>\n     Contact: John Doe\n     <br/>\n     123 Financial Street,\n     <br/>\n     Business District,\n     <br/>\n     City A, Country A\n     <br/>\n     Tel: +1 234 567 8901\n     <br/>\n     Fax: +1 234 567 8902\n     <br/>\n     e-mail: regiona@finrobot.com\n    </p>\n   </div>\n   <div class=\"office\">\n    <h3>\n     REGION B\n    </h3>\n    <p>\n     FinRobot Ltd\n     <br/>\n     Contact: Jane Smith\n     <br/>\n     456 Market Avenue,\n     <br/>\n     Financial Hub Tower 2\n     <br/>\n     City B 54321\n     <br/>\n     Tel: +9 876 543 2100\n     <br/>\n     e-mail: research@finrobot.com\n     <br/>\n     Company Regn. No. 987654321B\n    </p>\n   </div>\n   <div class=\"office\">\n    <h3>\n     REGION C\n    </h3>\n    <p>\n     FinRobot Securities (Region C)\n     <br/>\n     Contact: Alex Johnson\n     <br/>\n     FinRobot Tower\n     <br/>\n     789 Trader's Lane, 15/F\n     <br/>\n     City C 13579, Country C\n     <br/>\n     Tel: +2 468 1012 1416\n     <br/>\n     Fax: +2 468 1012 1417\n     <br/>\n     e-mail: regionc@finrobot.com\n    </p>\n   </div>\n   <div class=\"office\">\n    <h3>\n     REGION D\n    </h3>\n    <p>\n     FinRobot Securities (Region D) Co Ltd\n     <br/>\n     Contact: Sarah Lee\n     <br/>\n     101 Investment Building,\n     <br/>\n     11th-12th Floor\n     <br/>\n     Finance Road, Business Park,\n     <br/>\n     City D, Country D 24680\n     <br/>\n     Tel. +3 579 1113 1517\n     <br/>\n     Fax: +3 579 1113 1518\n     <br/>\n     e-mail: regiond@finrobot.com\n     <br/>\n     Company Regn. No 135792468D\n     <br/>\n     Securities and Exchange Commission, Country D\n    </p>\n   </div>\n  </div>\n  <div class=\"footer\">\n   <p>\n    Disclaimer: The information contained in this document is intended only for use by the person to whom it has been delivered and should not be disseminated or distributed to third parties without our prior written consent. FinRobot accepts no liability whatsoever with respect to the use of this document or its contents. Please refer to Disclaimer found at the end of this document.\n   </p>\n   <div class=\"logo\">\n    <img alt=\"FinRobot logo in black with white text\" height=\"20\" src=\"https://replicate.delivery/yhqm/MMaixaZ2CG7SJtcbfOHllDFnq3z6UHn3dZSfU5hr2LOJ47YTA/out-0.png\" width=\"50\"/>\n   </div>\n  </div>\n </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Initiating Chat with Agents\nDESCRIPTION: This snippet initiates a chat between the UserProxyAgent and the AssistantAgent. The message prompts the analyst to retrieve the stock price for the specified company and date.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nuser_proxy.initiate_chat(analyst, message=f\"What is stock price available for {company} from {date} upon {get_current_date()}.\")\n```\n\n----------------------------------------\n\nTITLE: Setting FROM_MARKDOWN global variable\nDESCRIPTION: Sets the global variable `FROM_MARKDOWN` to `False`. This variable likely controls whether the input documents are treated as Markdown files during processing.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nglobal FROM_MARKDOWN\nFROM_MARKDOWN = False\n```\n\n----------------------------------------\n\nTITLE: Import FinRobot Modules\nDESCRIPTION: This code snippet imports necessary modules for building a financial analyst agent using the FinRobot framework. It includes modules for OS operations, autogen, text manipulation, key registration, and the SingleAssistantShadow agent.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nimport os\nimport autogen\nfrom textwrap import dedent\nfrom finrobot.utils import register_keys_from_json\nfrom finrobot.agents.workflow import SingleAssistantShadow\n```\n\n----------------------------------------\n\nTITLE: Importing FinRobot Modules\nDESCRIPTION: Imports necessary modules from the FinRobot library, including autogen, utils, and the SingleAssistant class for creating and running financial analysis agents.  This sets up the environment for using FinRobot's agent workflow.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nimport autogen\nfrom finrobot.utils import get_current_date, register_keys_from_json\nfrom finrobot.agents.workflow import SingleAssistant\n```\n\n----------------------------------------\n\nTITLE: Importing basic libraries\nDESCRIPTION: Imports necessary libraries such as `os`, `autogen`, and `autogen.cache`. The autogen library facilitates the creation of autonomous conversational agents, while `os` is used for operating system dependent functionalities.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/agent_rag_qa_up.ipynb#_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport os\nimport autogen\nfrom autogen.cache import Cache\n```\n\n----------------------------------------\n\nTITLE: Defining Company and Date Variables\nDESCRIPTION: This snippet defines the company and date variables to be used in the chat initiation message. These are used as parameters to retrieve information in later steps.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/tutorials_beginner/ollama function call.ipynb#_snippet_4\n\nLANGUAGE: python\nCODE:\n```\ncompany = \"apple\"\ndate='2024-07-01'\n```\n\n----------------------------------------\n\nTITLE: Installing FinRobot from Source\nDESCRIPTION: Installs FinRobot directly from the local repository using pip. The -e flag installs the package in editable mode, allowing changes to the source code to be immediately reflected in the installed package.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/README.md#_snippet_3\n\nLANGUAGE: python\nCODE:\n```\npip install -e .\n```\n\n----------------------------------------\n\nTITLE: HTML Content Generation with Tailwind CSS\nDESCRIPTION: This snippet defines an HTML string that creates the structure and content of a US Equity Research report. It incorporates Tailwind CSS classes for styling the layout, typography, and visual elements. The generated HTML includes sections for company overview, investment analysis, financial data, and disclaimers, designed to resemble a standard research report.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   US EQUITY RESEARCH - Energy Company X\n  </title>\n  <script src=\"https://cdn.tailwindcss.com\">\n  </script>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body { font-family: 'DM Sans', sans-serif; font-weight: 300; }\n        @page { size: 8.5in 11in; margin: 0; }\n        .page-container { width: 8.5in; height: 11in; padding: 0.5in; box-sizing: border-box; }\n        .financial-table tr:not(:last-child) { border-bottom: 1px solid #e5e7eb; }\n        .financial-table td { padding: 4px 0; }\n  </style>\n </head>\n <body class=\"bg-white text-xs\">\n  <div class=\"page-container mx-auto\">\n   <header class=\"mb-6\">\n    <div class=\"flex justify-between items-center mb-2\">\n     <div>\n     </div>\n     <p class=\"text-gray-500 text-[12px]\">\n      FinRobot Research\n     </p>\n    </div>\n    <div class=\"bg-black text-white px-2 py-1 w-full\">\n     <h1 class=\"text-2xl font-normal\">\n      US EQUITY RESEARCH\n     </h1>\n    </div>\n    <p class=\"text-gray-500 text-[12px] text-right mt-1\">\n     15 Apr 20XX\n    </p>\n   </header>\n   <main>\n    <div class=\"flex justify-between mb-6\">\n     <div>\n      <h2 class=\"text-[20px] text-gray-400 mb-3\">\n       Energy Company X\n      </h2>\n      <p class=\"text-gray-600 text-[14px]\">\n       Leading the Transition to Clean Energy\n      </p>\n     </div>\n     <div>\n      <p class=\"text-gray-400 text-[14px]\">\n       Analysts\n      </p>\n      <p class=\"text-gray-500\">\n       Analyst A | analyst.a@research.com\n      </p>\n      <p class=\"text-gray-500\">\n       Analyst B | analyst.b@research.com\n      </p>\n     </div>\n    </div>\n    <div class=\"flex gap-6\">\n     <div class=\"w-2/3\">\n      <h3 class=\"font-normal mb-2 text-[14px] text-gray-400\">\n       Company Overview\n      </h3>\n      <p class=\"mb-4 text-xs leading-tight\">\n       <span class=\"font-bold\">\n        Energy Company X is a leading utility and renewable energy company in the United States.\n       </span>\n       The company has two primary businesses: 1) A major electric utility division providing clean electricity to millions of customers, with significant generating capacity, and 2) A renewable energy division, which is a global leader in renewable energy generation from wind and solar, as well as a pioneer in battery storage technology. These two divisions contribute to the company's overall adjusted EPS.\n      </p>\n      <h3 class=\"font-normal mb-2 text-[14px] text-gray-400\">\n       Investment Overview\n      </h3>\n      <p class=\"mb-4 text-xs leading-tight\">\n       <span class=\"font-bold underline\">\n        A unique combination of regulated utility business with significant renewable energy exposure.\n       </span>\n       Energy Company X offers a compelling proposition, combining a large regulated utility business with a rapidly growing renewable energy division. The utility business benefits from steady growth in its service area, while the renewable energy division is poised for substantial expansion. The company has set ambitious targets for renewable capacity growth and is exploring innovative technologies such as green hydrogen. Despite these ambitious goals, Energy Company X has consistently demonstrated strong financial performance, outpacing industry averages in terms of EPS growth over the past decade.\n      </p>\n      <p class=\"mb-4 text-xs leading-tight\">\n       <span class=\"font-bold\">\n        Recent financial performance aligns with expectations.\n       </span>\n       The company reported adjusted EPS growth in line with consensus estimates, slightly exceeding management's guidance. Both the utility and renewable energy segments performed well, with the utility division maintaining high reliability and competitive rates, while the renewable energy division continued to expand its project pipeline.\n      </p>\n      <p class=\"mb-4 text-xs leading-tight\">\n       <span class=\"font-bold\">\n        Strong growth outlook maintained.\n       </span>\n       Management has reaffirmed its target for adjusted EPS CAGR through the mid-2020s. The company anticipates significant capital expenditure in the coming years, with a substantial portion allocated to renewables and energy storage projects. This strategy is expected to drive long-term growth and maintain the company's leadership position in the clean energy transition.\n      </p>\n      <p class=\"mb-4 text-xs leading-tight\">\n       <span class=\"font-bold\">\n        Positive recommendation with increased target price.\n       </span>\n       We maintain a positive outlook on Energy Company X, with an increased target price. The company is trading at a premium to its historical average, which we believe is justified given its strong growth prospects and leading position in both the utility and renewable energy sectors. We view the recent market pullback as an attractive entry point for investors seeking exposure to the clean energy transition with the stability of a regulated utility business.\n      </p>\n      <h3 class=\"font-normal mb-2 text-[14px] text-gray-400\">\n       Risks\n      </h3>\n      <p class=\"mb-4 text-xs leading-tight\">\n       Key risks include\n       <span class=\"font-bold\">\n        interest rate fluctuations\n       </span>\n       ,\n       <span class=\"font-bold\">\n        supply chain challenges\n       </span>\n       , and\n       <span class=\"font-bold\">\n        regulatory changes\n       </span>\n       . The company has mitigation strategies in place but investors should be aware of these potential headwinds.\n      </p>\n     </div>\n     <div class=\"w-1/3\">\n      <h3 class=\"font-normal mb-2 text-[14px] text-gray-400\">\n       Key Financial Data\n      </h3>\n      <div class=\"bg-gray-100 p-4 mb-4\">\n       <table class=\"w-full text-xs financial-table\">\n        <tr>\n         <td class=\"text-gray-500\">\n          Bloomberg Ticker\n         </td>\n         <td class=\"text-black text-right\">\n          ECX US\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Sector\n         </td>\n         <td class=\"text-black text-right\">\n          Utilities\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Share Price (USD)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.XX\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Rating\n         </td>\n         <td class=\"text-black text-right\">\n          BUY\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          12-mth Target Price (USD)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Market Cap (USDb)\n         </td>\n         <td class=\"text-black text-right\">\n          XXX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Volume (m shares)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Free float (%)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Dividend yield (%)\n         </td>\n         <td class=\"text-black text-right\">\n          X.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Net Debt to Equity (%)\n         </td>\n         <td class=\"text-black text-right\">\n          XXX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          Fwd. P/E (x)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          P/Book (x)\n         </td>\n         <td class=\"text-black text-right\">\n          X.X\n         </td>\n        </tr>\n        <tr>\n         <td class=\"text-gray-500\">\n          ROE (%)\n         </td>\n         <td class=\"text-black text-right\">\n          XX.X\n         </td>\n        </tr>\n       </table>\n      </div>\n      <p class=\"text-[12px] text-gray-500 mb-2 italic\">\n       Closing Price as of XX Apr 20XX\n      </p>\n      <p class=\"text-[12px] text-gray-500 mb-4\">\n       Source: Market Data Provider, Research Group\n      </p>\n      <h3 class=\"font-normal mb-2 text-[14px] text-gray-400\">\n       Indexed Share Price vs Composite Index Performance\n      </h3>\n      <img alt=\"Placeholder for graph showing Energy Company X's stock performance compared to a market index\" class=\"w-full mb-4\" height=\"200\" src=\"https://replicate.delivery/yhqm/prdmq2OHHg4jB98MW6IsistKsvmeYhIPU43wzPzg8BXc0csJA/out-0.png\" width=\"400\"/>\n      <p class=\"text-[12px] text-gray-500\">\n       Source: Market Data Provider\n      </p>\n     </div>\n    </div>\n   </main>\n   <footer class=\"mt-8 text-xs text-gray-500\">\n    <p>\n     Disclaimer: The information contained in this document is intended only for use by the person to whom it has been delivered and should not be disseminated or distributed to third parties without our prior written consent. Our firm accepts no liability whatsoever with respect to the use of this document or its contents.\n    </p>\n    <p>\n     Please refer to Disclaimer found at the end of this document.\n    </p>\n   </footer>\n   <div class=\"mt-4 text-right\">\n    <img alt=\"Research Group logo\" class=\"inline-block\" height=\"20\" src=\"https://replicate.delivery/yhqm/uamWKEkrvh70KlkPPLqmIkUu2pEStFh0xVzMWzvdu99NaO2E/out-0.png\" width=\"50\"/>\n   </div>\n  </div>\n </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Define HTML Content (Python)\nDESCRIPTION: This Python snippet defines a multiline string containing HTML code for the fourth page (disclaimer) of the report. This HTML includes meta tags, title, CSS styling (including font families), and the disclaimer text itself. It also includes an image tag referencing a logo.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_8\n\nLANGUAGE: python\nCODE:\n```\nhtml_content_fourth_page = \"\"\"\n<html lang=\"en\">\n <head>\n  <meta charset=\"utf-8\"/>\n  <meta content=\"width=device-width, initial-scale=1.0\" name=\"viewport\"/>\n  <title>\n   FinRobot Research Disclaimer\n  </title>\n  <script src=\"https://cdn.tailwindcss.com\">\n  </script>\n  <link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;700&amp;display=swap\" rel=\"stylesheet\"/>\n  <style>\n   body {\n            font-family: 'DM Sans', sans-serif;\n            font-weight: 300;\n        }\n        @page {\n            size: 8.5in 11in;\n        }\n  </style>\n </head>\n <body class=\"bg-white p-8\">\n  <div class=\"max-w-[8.5in] mx-auto\">\n   <div class=\"text-right text-xs mb-4 text-gray-500\">\n    FinRobot Research\n   </div>\n   <p class=\"text-xs mb-4\">\n    The valuations, opinions, estimates, forecasts, ratings or risk assessments described in this report were based upon a number of estimates and\n            assumptions and are inherently subject to significant uncertainties and contingencies. It can be expected that one or more of the estimates on\n            which the valuations, opinions, estimates, forecasts, ratings or risk assessments were based will not materialize or will vary significantly from actual\n            results. Therefore, the inclusion of the valuations, opinions, estimates, forecasts, ratings or risk assessments described herein IS NOT TO BE RELIED\n            UPON as a representation and/or warranty by the FinRobot Research and/or any persons associated with the aforesaid entities, that:\n   </p>\n   <p class=\"text-xs mb-4 pl-4\">\n    (a) such valuations, opinions, estimates, forecasts, ratings or risk assessments or their underlying assumptions will be achieved, and\n            (b) there is any assurance that future results or events will be consistent with any such valuations, opinions, estimates, forecasts, ratings or risk\n            assessments stated therein.\n   </p>\n   <p class=\"text-xs mb-4\">\n    Please contact the primary analyst for valuation methodologies and assumptions associated with the covered companies or price targets.\n   </p>\n   <p class=\"text-xs mb-4\">\n    Any assumptions made in this report that refers to commodities, are for the purposes of making forecasts for the company (or companies)\n            mentioned herein. They are not to be construed as recommendations to trade in the physical commodity or in the futures contract relating to the\n            commodity referred to in this report.\n   </p>\n   <p class=\"text-sm font-bold mb-2 uppercase\">\n    ANALYST CERTIFICATION\n   </p>\n   <p class=\"text-xs mb-4\">\n    The research analyst(s) primarily responsible for the content of this research report, in part or in whole, certifies that the views about the companies\n            and their securities expressed in this report accurately reflect his/her personal views. The analyst(s) also certifies that no part of his/her compensation\n            was, is, or will be, directly or indirectly, related to specific recommendations or views expressed in the report. The research analyst\n            (s) primarily responsible for the content of this research report, in part or in whole, certifies that he or his associate1 does not serve as an officer\n            of the issuer or the new listing applicant (which includes in the case of a real estate investment trust, an officer of the management company of the real estate investment trust;\n            and in the case of any other entity, an officer or its equivalent counterparty of the entity who is responsible for\n            the management of the issuer or the new listing applicant) and the research analyst(s) primarily responsible for the content of this research report\n            or his associate does not have financial interests2 in relation to an issuer or a new listing applicant that the analyst reviews. FinRobot Research has procedures\n            in place to eliminate, avoid and manage any potential conflicts of interests that may arise in connection with the production of research reports. The\n            research analyst(s) responsible for this report operates as part of a separate and independent team to the investment banking function of the FinRobot Research\n            and procedures are in place to ensure that confidential information held by either the research or investment banking function is handled\n            appropriately. There is no direct link of FinRobot Research's compensation to any specific investment banking function of the FinRobot Research.\n   </p>\n   <p class=\"text-sm font-bold mb-2 uppercase\">\n    COMPANY-SPECIFIC / REGULATORY DISCLOSURES\n   </p>\n   <ol class=\"list-decimal list-inside text-xs mb-4\">\n    <li class=\"mb-2 pl-4\">\n     FinRobot Research, its subsidiaries and/or other affiliates do not have a proprietary position in the securities recommended in this report as of 31 Mar 2024.\n    </li>\n   </ol>\n   <p class=\"text-xs font-bold mb-2\">\n    Compensation for investment banking services:\n   </p>\n   <ol class=\"list-decimal list-inside text-xs mb-4\" start=\"2\">\n    <li class=\"pl-4\">\n     FinRobot Research does not have its own investment banking or research department, nor has it participated in any public offering of securities as a\n                manager or co-manager or in any other investment banking transaction in the past twelve months. Any persons wishing to obtain further\n                information, including any clarification on disclosures in this disclaimer, or to effect a transaction in any security discussed in this document\n                should contact FinRobot Research exclusively.\n    </li>\n   </ol>\n   <p class=\"text-xs font-bold mb-2\">\n    Disclosure of previous investment recommendation produced:\n   </p>\n   <ol class=\"list-decimal list-inside text-xs mb-4\" start=\"3\">\n    <li class=\"pl-4\">\n     FinRobot Research, their subsidiaries and/or other affiliates may have published other investment recommendations in respect of the same securities / instruments recommended in this research report during the preceding 12\n                months. Please contact the primary analyst listed on page 1 of this report to view previous investment recommendations published by FinRobot Research,\n                their subsidiaries and/or other affiliates in the preceding 12 months.\n    </li>\n   </ol>\n   <hr class=\"my-4 border-gray-300\"/>\n   <div class=\"text-[10px] mt-4\">\n    <p class=\"mb-2\">\n     1 An associate is defined as (i) the spouse, or any minor child (natural or adopted) or minor step-child, of the analyst; (ii) the trustee of a trust of which the analyst, his spouse,\n                minor child (natural or adopted) or minor step-child, is a beneficiary or discretionary object; or (iii) another person accustomed or obliged to act in accordance\n                with the directions or instructions of the analyst.\n    </p>\n    <p>\n     2 Financial interest is defined as interests that are commonly known financial interest, such as investment in the securities in respect of an issuer or a new listing applicant,\n                or financial accommodation arrangement between the issuer or the new listing applicant and the firm or analysis. This term does not include commercial lending\n                conducted at arm's length, or investments in any collective investment scheme other than an issuer or new listing applicant notwithstanding the fact that the scheme\n                has investments in securities in respect of an issuer or a new listing applicant.\n    </p>\n   </div>\n   <p class=\"text-xs mt-8\">\n    Disclaimer: The information contained in this document is intended only for use during the presentation and should not be disseminated or distributed to parties outside the presentation.\n            FinRobot Research accepts no liability whatsoever with respect to the use of this document or its contents.\n   </p>\n   <div class=\"mt-8 text-right\">\n    <img alt=\"FinRobot Research logo in black and white\" class=\"inline-block\" height=\"50\" src=\"https://replicate.delivery/yhqm/nDCMpKlx297xGRYwD9pwusNeTv8HaPqV2n4XDGotR4w8gdsJA/out-0.png\" width=\"100\"/>\n   </div>\n  </div>\n </body>\n</html>\n\"\"\"\n```\n\n----------------------------------------\n\nTITLE: Writing HTML content to a file in Python\nDESCRIPTION: This snippet demonstrates writing a string containing HTML content to a file using Python. The 'with open(...)' statement ensures that the file is properly closed after writing. The HTML content is assumed to be pre-defined in the 'html_content_fourth_page' variable.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_9\n\nLANGUAGE: python\nCODE:\n```\nwith open(\"/content/Equity_Research_Template_fourthpage.html\", \"w\") as file:\n    file.write(html_content_fourth_page)\n\nprint(\"HTML file created successfully.\")\n```\n\n----------------------------------------\n\nTITLE: Installing IronPDF using Pip\nDESCRIPTION: This snippet shows how to install the IronPDF library using pip, the Python package installer.  This command downloads and installs the IronPDF package and its dependencies from the Python Package Index (PyPI). Requires an active internet connection.\nSOURCE: https://github.com/ai4finance-foundation/finrobot/blob/master/New Template/Template.ipynb#_snippet_13\n\nLANGUAGE: python\nCODE:\n```\n!pip install ironpdf\n```"
  }
]