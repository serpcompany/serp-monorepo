[
  {
    "owner": "projectsveltos",
    "repo": "helm-charts",
    "content": "TITLE: Installing Projectsveltos with Helm\nDESCRIPTION: Command to install Projectsveltos using Helm. This creates a new namespace and installs Projectsveltos in the default agent mode. Additional parameters can be specified to customize the installation.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm install projectsveltos projectsveltos/projectsveltos \\\n  --create-namespace -n projectsveltos\n```\n\n----------------------------------------\n\nTITLE: Adding Projectsveltos Helm Repository with Helm\nDESCRIPTION: Command to add the Projectsveltos Helm repository to your local Helm configuration. This is the first step for installing Projectsveltos components using Helm.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nhelm repo add projectsveltos https://projectsveltos.github.io/helm-charts\n```\n\n----------------------------------------\n\nTITLE: ProjectSveltos Helm Values Configuration\nDESCRIPTION: Helm chart values file containing configuration settings for ProjectSveltos components. Includes container image specifications, security contexts, resource limits, service configurations and command line arguments for different managers.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/charts/projectsveltos/README.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nglobal:\n  registry: \"docker.io\"\n  useDigest: false\n  capiOnboardAnnotation: \"\"\n  imagePullSecrets: []\naccessManager:\n  manager:\n    args:\n      - \"--diagnostics-address=:8443\"\n      - \"--v=5\"\n    extraArgs: {}\n    extraEnv: []\n    containerSecurityContext:\n      allowPrivilegeEscalation: false\n      capabilities:\n        drop:\n          - \"ALL\"\n    image:\n      repository: \"projectsveltos/access-manager\"\n      tag: \"v0.52.2\"\n      digest: \"sha256:d79abc04c1522377a692ba2955c5f37ab42a5cdd7986dd175d533cefb0fa92d7\"\n    resources:\n      limits:\n        cpu: \"500m\"\n        memory: \"512Mi\"\n      requests:\n        cpu: \"10m\"\n        memory: \"128Mi\"\n```\n\n----------------------------------------\n\nTITLE: ClusterProfile Example for Deploying Kyverno and Additional Resources\nDESCRIPTION: YAML definition for a ClusterProfile that deploys the Kyverno Helm chart and references additional resources stored in a Secret and ConfigMap. This ClusterProfile targets clusters with the label 'env: prod' and uses continuous synchronization mode.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: config.projectsveltos.io/v1alpha1\nkind: ClusterProfile\nmetadata:\n  name: deploy-kyverno\nspec:\n  clusterSelector: env=prod\n  syncMode: Continuous\n  helmCharts:\n    - repositoryURL: https://kyverno.github.io/kyverno/\n      repositoryName: kyverno\n      chartName: kyverno/kyverno\n      chartVersion: v3.0.1\n      releaseName: kyverno-latest\n      releaseNamespace: kyverno\n      helmChartAction: Install\n      values: |\n        admissionController:\n          replicas: 3\n  policyRefs:\n    - name: storage-class\n      namespace: default\n      kind: Secret\n    - name: contour-gateway\n      namespace: default\n      kind: ConfigMap\n```\n\n----------------------------------------\n\nTITLE: ClusterProfile Example for Kustomize-based Deployment\nDESCRIPTION: YAML definition for a ClusterProfile that deploys resources using Kustomize. This example references a GitRepository synchronized with Flux and targets clusters with the label 'env: fv'.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: config.projectsveltos.io/v1alpha1\nkind: ClusterProfile\nmetadata:\n  name: flux-system\nspec:\n  clusterSelector: env=fv\n  syncMode: Continuous\n  kustomizationRefs:\n    - namespace: flux-system\n      name: flux-system\n      kind: GitRepository\n      path: ./helloWorld/\n      targetNamespace: eng\n```\n\n----------------------------------------\n\nTITLE: Helm Values Configuration for Sveltos Dashboard\nDESCRIPTION: Complete values.yaml configuration for deploying Sveltos dashboard. Includes configuration for container images, networking ports, ingress settings, resource limits, security contexts, and node placement rules.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/charts/dashboard/README.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nglobal.registry: \"docker.io\"\nglobal.useDigest: false\nglobal.imagePullSecrets: []\ndashboard.dashboard.image.repository: \"projectsveltos/dashboard\"\ndashboard.dashboard.image.tag: \"v0.52.2\"\ndashboard.dashboard.image.digest: \"sha256:3bd10521f36a2f85c2dea6643d49201331622ccc01ff6541f290cbcb9dee77a6\"\ndashboard.ports[0].port: 80\ndashboard.ports[0].protocol: \"TCP\"\ndashboard.ports[0].targetPort: 5173\ndashboard.replicas: 1\ndashboard.type: \"ClusterIP\"\ndashboard.ingress.enabled: false\ndashboard.ingress.className: \"\"\ndashboard.ingress.annotations: {}\ndashboard.ingress.hosts[0].host: \"dashboard.cluster.local\"\ndashboard.ingress.hosts[0].paths[0].path: \"/\"\ndashboard.ingress.hosts[0].paths[0].pathType: \"ImplementationSpecific\"\ndashboard.ingress.tls: []\ndashboard.tolerations: []\ndashboard.nodeSelector.\"kubernetes.io/os\": \"linux\"\ndashboard.affinity: {}\nkubernetesClusterDomain: \"cluster.local\"\nuiBackendManager.manager.args[0]: \"--diagnostics-address=:8443\"\nuiBackendManager.manager.args[1]: \"--v=5\"\nuiBackendManager.manager.containerSecurityContext.allowPrivilegeEscalation: false\nuiBackendManager.manager.containerSecurityContext.capabilities.drop[0]: \"ALL\"\nuiBackendManager.manager.image.repository: \"projectsveltos/ui-backend\"\nuiBackendManager.manager.image.tag: \"v0.52.2\"\nuiBackendManager.manager.image.digest: \"sha256:2e9e89a8a4f741afd745c0f7e918d5ce232f930772a9230a6032ae85ccfdf36c\"\nuiBackendManager.manager.resources.limits.cpu: \"500m\"\nuiBackendManager.manager.resources.limits.memory: \"512Mi\"\nuiBackendManager.manager.resources.requests.cpu: \"10m\"\nuiBackendManager.manager.resources.requests.memory: \"64Mi\"\nuiBackendManager.ports[0].port: 80\nuiBackendManager.ports[0].protocol: \"TCP\"\nuiBackendManager.ports[0].targetPort: 8080\nuiBackendManager.replicas: 1\nuiBackendManager.type: \"ClusterIP\"\nuiBackendManager.tolerations: []\nuiBackendManager.nodeSelector.\"kubernetes.io/os\": \"linux\"\nuiBackendManager.affinity: {}\n```\n\n----------------------------------------\n\nTITLE: Updating Projectsveltos CRDs\nDESCRIPTION: Command to update Projectsveltos Custom Resource Definitions (CRDs) before upgrading. This step is necessary as Helm upgrade doesn't automatically update CRDs.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nkubectl apply -f https://raw.githubusercontent.com/projectsveltos/sveltos/v0.51.1/manifest/crds/sveltos_crds.yaml\n```\n\n----------------------------------------\n\nTITLE: Uninstalling Projectsveltos Helm Chart\nDESCRIPTION: Command to remove the Projectsveltos installation from your Kubernetes cluster. This deletes all Projectsveltos components from the specified namespace.\nSOURCE: https://github.com/projectsveltos/helm-charts/blob/main/README.md#2025-04-22_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm delete projectsveltos -n projectsveltos\n```"
  }
]