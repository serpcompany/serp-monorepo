[
  {
    "owner": "apostrophecms",
    "repo": "sanitize-html",
    "content": "TITLE: Configuring Allowed Tags and Attributes in sanitize-html\nDESCRIPTION: Example of using sanitize-html with custom configuration to allow only specific tags and attributes.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  allowedTags: [ 'b', 'i', 'em', 'strong', 'a' ],\n  allowedAttributes: {\n    'a': [ 'href' ]\n  },\n  allowedIframeHostnames: ['www.youtube.com']\n});\n```\n\n----------------------------------------\n\nTITLE: Default Options for sanitize-html\nDESCRIPTION: The default configuration options used by sanitize-html when no custom options are provided.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nallowedTags: [\n  \"address\", \"article\", \"aside\", \"footer\", \"header\", \"h1\", \"h2\", \"h3\", \"h4\",\n  \"h5\", \"h6\", \"hgroup\", \"main\", \"nav\", \"section\", \"blockquote\", \"dd\", \"div\",\n  \"dl\", \"dt\", \"figcaption\", \"figure\", \"hr\", \"li\", \"main\", \"ol\", \"p\", \"pre\",\n  \"ul\", \"a\", \"abbr\", \"b\", \"bdi\", \"bdo\", \"br\", \"cite\", \"code\", \"data\", \"dfn\",\n  \"em\", \"i\", \"kbd\", \"mark\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\",\n  \"small\", \"span\", \"strong\", \"sub\", \"sup\", \"time\", \"u\", \"var\", \"wbr\", \"caption\",\n  \"col\", \"colgroup\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\"\n],\nnonBooleanAttributes: [\n  'abbr', 'accept', 'accept-charset', 'accesskey', 'action',\n  'allow', 'alt', 'as', 'autocapitalize', 'autocomplete',\n  'blocking', 'charset', 'cite', 'class', 'color', 'cols',\n  'colspan', 'content', 'contenteditable', 'coords', 'crossorigin',\n  'data', 'datetime', 'decoding', 'dir', 'dirname', 'download',\n  'draggable', 'enctype', 'enterkeyhint', 'fetchpriority', 'for',\n  'form', 'formaction', 'formenctype', 'formmethod', 'formtarget',\n  'headers', 'height', 'hidden', 'high', 'href', 'hreflang',\n  'http-equiv', 'id', 'imagesizes', 'imagesrcset', 'inputmode',\n  'integrity', 'is', 'itemid', 'itemprop', 'itemref', 'itemtype',\n  'kind', 'label', 'lang', 'list', 'loading', 'low', 'max',\n  'maxlength', 'media', 'method', 'min', 'minlength', 'name',\n  'nonce', 'optimum', 'pattern', 'ping', 'placeholder', 'popover',\n  'popovertarget', 'popovertargetaction', 'poster', 'preload',\n  'referrerpolicy', 'rel', 'rows', 'rowspan', 'sandbox', 'scope',\n  'shape', 'size', 'sizes', 'slot', 'span', 'spellcheck', 'src',\n  'srcdoc', 'srclang', 'srcset', 'start', 'step', 'style',\n  'tabindex', 'target', 'title', 'translate', 'type', 'usemap',\n  'value', 'width', 'wrap',\n  // Event handlers\n  'onauxclick', 'onafterprint', 'onbeforematch', 'onbeforeprint',\n  'onbeforeunload', 'onbeforetoggle', 'onblur', 'oncancel',\n  'oncanplay', 'oncanplaythrough', 'onchange', 'onclick', 'onclose',\n  'oncontextlost', 'oncontextmenu', 'oncontextrestored', 'oncopy',\n  'oncuechange', 'oncut', 'ondblclick', 'ondrag', 'ondragend',\n  'ondragenter', 'ondragleave', 'ondragover', 'ondragstart',\n  'ondrop', 'ondurationchange', 'onemptied', 'onended',\n  'onerror', 'onfocus', 'onformdata', 'onhashchange', 'oninput',\n  'oninvalid', 'onkeydown', 'onkeypress', 'onkeyup',\n  'onlanguagechange', 'onload', 'onloadeddata', 'onloadedmetadata',\n  'onloadstart', 'onmessage', 'onmessageerror', 'onmousedown',\n  'onmouseenter', 'onmouseleave', 'onmousemove', 'onmouseout',\n  'onmouseover', 'onmouseup', 'onoffline', 'ononline', 'onpagehide',\n  'onpageshow', 'onpaste', 'onpause', 'onplay', 'onplaying',\n  'onpopstate', 'onprogress', 'onratechange', 'onreset', 'onresize',\n  'onrejectionhandled', 'onscroll', 'onscrollend',\n  'onsecuritypolicyviolation', 'onseeked', 'onseeking', 'onselect',\n  'onslotchange', 'onstalled', 'onstorage', 'onsubmit', 'onsuspend',\n  'ontimeupdate', 'ontoggle', 'onunhandledrejection', 'onunload',\n  'onvolumechange', 'onwaiting', 'onwheel'\n],\ndisallowedTagsMode: 'discard',\nallowedAttributes: {\n  a: [ 'href', 'name', 'target' ],\n  // We don't currently allow img itself by default, but\n  // these attributes would make sense if we did.\n  img: [ 'src', 'srcset', 'alt', 'title', 'width', 'height', 'loading' ]\n},\n// Lots of these won't come up by default because we don't allow them\nselfClosing: [ 'img', 'br', 'hr', 'area', 'base', 'basefont', 'input', 'link', 'meta' ],\n// URL schemes we permit\nallowedSchemes: [ 'http', 'https', 'ftp', 'mailto', 'tel' ],\nallowedSchemesByTag: {},\nallowedSchemesAppliedToAttributes: [ 'href', 'src', 'cite' ],\nallowProtocolRelative: true,\nenforceHtmlBoundary: false,\nparseStyleAttributes: true\n```\n\n----------------------------------------\n\nTITLE: Basic Usage of sanitize-html in Node.js\nDESCRIPTION: Simple example of using sanitize-html to clean a string of HTML in a Node.js application.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst dirty = 'some really tacky HTML';\nconst clean = sanitizeHtml(dirty);\n```\n\n----------------------------------------\n\nTITLE: Configuring Allowed CSS Styles\nDESCRIPTION: Demonstrates how to configure allowed CSS styles with regular expressions for specific elements.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n        allowedTags: ['p'],\n        allowedAttributes: {\n          'p': [\"style\"],\n        },\n        allowedStyles: {\n          '*': {\n            'color': [/^#(0x)?[0-9a-f]+$/i, /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/],\n            'text-align': [/^left$/, /^right$/, /^center$/],\n            'font-size': [/^\\d+(?:px|em|%)$/]\n          },\n          'p': {\n            'font-size': [/^\\d+rem$/]\n          }\n        }\n      });\n```\n\n----------------------------------------\n\nTITLE: Configuring Allowed CSS Classes\nDESCRIPTION: Shows how to restrict CSS classes to specific elements and use patterns for class names.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  allowedTags: [ 'p', 'em', 'strong' ],\n  allowedClasses: {\n    'p': [ 'fancy', 'simple' ]\n  }\n});\n```\n\nLANGUAGE: javascript\nCODE:\n```\nallowedClasses: {\n  'code': [ 'language-*', 'lang-*' ],\n  '*': [ 'fancy', 'simple' ]\n}\n```\n\nLANGUAGE: javascript\nCODE:\n```\nallowedClasses: {\n  p: [ /^regex\\d{2}$/ ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Allowed Attributes with Values in JavaScript\nDESCRIPTION: Demonstrates how to configure allowed attributes with specific values for iframe elements, including support for multiple space-separated values.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\nallowedAttributes: {\n  iframe: [\n    {\n      name: 'sandbox',\n      multiple: true,\n      values: ['allow-popups', 'allow-same-origin', 'allow-scripts']\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Allowing YouTube iframe Sources with sanitize-html\nDESCRIPTION: Example of allowing iframes with sources from specific hostnames. This example shows how to configure sanitize-html to allow iframes from YouTube and Vimeo while filtering out other domains.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_23\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml('<p><iframe src=\"https://www.youtube.com/embed/nykIhs12345\"></iframe><p>', {\n  allowedTags: [ 'p', 'em', 'strong', 'iframe' ],\n  allowedClasses: {\n    'p': [ 'fancy', 'simple' ],\n  },\n  allowedAttributes: {\n    'iframe': ['src']\n  },\n  allowedIframeHostnames: ['www.youtube.com', 'player.vimeo.com']\n});\n```\n\n----------------------------------------\n\nTITLE: Restricting Script Sources by Hostname in sanitize-html\nDESCRIPTION: Demonstrates how to allow script tags but restrict their sources to specific hostnames using allowedScriptHostnames. This provides more specific control than domain-level filtering.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_28\n\nLANGUAGE: js\nCODE:\n```\nconst clean = sanitizeHtml('<script src=\"https://www.authorized.com/lib.js\"></script>', {\n    allowedTags: ['script'],\n    allowedAttributes: {\n        script: ['src']\n    },\n    allowedScriptHostnames: [ 'www.authorized.com' ],\n})\n```\n\n----------------------------------------\n\nTITLE: Allowing URL Schemes for Specific Tags in sanitize-html\nDESCRIPTION: Demonstrates how to allow specific URL schemes for particular tags using allowedSchemesByTag. This example allows data URLs only for img tags while maintaining http/https for other tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_30\n\nLANGUAGE: js\nCODE:\n```\nallowedSchemes: [ 'http', 'https' ],\nallowedSchemesByTag: {\n  img: [ 'data' ]\n}\n```\n\n----------------------------------------\n\nTITLE: Tag Transformation Configuration\nDESCRIPTION: Examples of different ways to transform HTML tags, including simple and advanced transformations.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  transformTags: {\n    'ol': 'ul',\n  }\n});\n```\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  transformTags: {\n    'ol': function(tagName, attribs) {\n      return {\n        tagName: 'ul',\n        attribs: {\n          class: 'foo'\n        }\n      };\n    }\n  }\n});\n```\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  transformTags: {\n    'ol': sanitizeHtml.simpleTransform('ul', {class: 'foo'}),\n  }\n});\n```\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  transformTags: {\n    'a': function(tagName, attribs) {\n      return {\n        tagName: 'a',\n        text: 'Some text'\n      };\n    }\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Adding Additional Allowed Tags to sanitize-html\nDESCRIPTION: Example of extending the default allowed tags list in sanitize-html configuration.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  allowedTags: sanitizeHtml.defaults.allowedTags.concat([ 'img' ])\n});\n```\n\n----------------------------------------\n\nTITLE: Restricting Iframe Sources with Domain Allowlists in sanitize-html\nDESCRIPTION: Shows how to configure sanitize-html to allow iframes but restrict their sources to specific hostnames and domains. Demonstrates the allowedIframeHostnames and allowedIframeDomains options.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_21\n\nLANGUAGE: js\nCODE:\n```\nallowedIframeHostnames: ['www.youtube.com', 'player.vimeo.com'],\nallowedIframeDomains: ['zoom.us']\n```\n\n----------------------------------------\n\nTITLE: Restricting Script Sources by Domain in sanitize-html\nDESCRIPTION: Shows how to allow script tags but restrict their sources to specific domains using allowedScriptDomains. This ensures scripts can only be loaded from trusted domains.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_27\n\nLANGUAGE: js\nCODE:\n```\nconst clean = sanitizeHtml('<script src=\"https://www.safe.authorized.com/lib.js\"></script>', {\n    allowedTags: ['script'],\n    allowedAttributes: {\n        script: ['src']\n    },\n    allowedScriptDomains: ['authorized.com'],\n})\n```\n\n----------------------------------------\n\nTITLE: Customizing Allowed URL Schemes in sanitize-html\nDESCRIPTION: Shows how to override the default allowed URL schemes to include data URLs. This example allows data URLs for image sources, which is useful for embedded base64 images.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_29\n\nLANGUAGE: js\nCODE:\n```\nsanitizeHtml(\n  // teeny-tiny valid transparent GIF in a data URL\n  '<img src=\"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" />',\n  {\n    allowedTags: [ 'img', 'p' ],\n    allowedSchemes: [ 'data', 'http' ]\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Setting Nesting Depth Limit in sanitize-html\nDESCRIPTION: Configuration option to restrict the depth of nested HTML tags in the document. Tags nested beyond the specified limit are stripped out while preserving text content.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_38\n\nLANGUAGE: javascript\nCODE:\n```\nnestingLimit: 6\n```\n\n----------------------------------------\n\nTITLE: Removing Empty Anchor Tags with exclusiveFilter in sanitize-html\nDESCRIPTION: Demonstrates how to use the exclusiveFilter option to remove empty anchor tags from HTML content. The filter checks if the tag is an anchor ('a') and if it contains no text content.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_18\n\nLANGUAGE: js\nCODE:\n```\nsanitizeHtml(\n  '<p>This is <a href=\"http://www.linux.org\"></a><br/>Linux</p>',\n  {\n    exclusiveFilter: function(frame) {\n      return frame.tag === 'a' && !frame.text.trim();\n    }\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Processing Text Content with textFilter in sanitize-html\nDESCRIPTION: Demonstrates how to use the textFilter option to process text content. This example replaces three dots with an ellipsis HTML entity, while skipping this processing for anchor tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_20\n\nLANGUAGE: js\nCODE:\n```\nsanitizeHtml(\n  '<p>some text...</p>',\n  {\n    textFilter: function(text, tagName) {\n      if (['a'].indexOf(tagName) > -1) return //Skip anchor tags\n\n      return text.replace(/\\.\\.\\./, '&hellip;');\n    }\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Implementing Advanced Tag Filtering with Event Hooks\nDESCRIPTION: Example of using onOpenTag and onCloseTag events along with textFilter to add spaces around removed tags during sanitization process.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_39\n\nLANGUAGE: javascript\nCODE:\n```\nconst allowedTags = [ 'b' ];\nlet addSpace = false;\nconst sanitizedHtml = sanitizeHtml(\n  'There should be<div><p>spaces</p></div>between <b>these</b> words.',\n  {\n    allowedTags,\n    onOpenTag: (tagName, attribs) => {\n      addSpace = !allowedTags.includes(tagName);\n    },\n    onCloseTag: (tagName, isImplied) => {\n      addSpace = !allowedTags.includes(tagName);\n    },\n    textFilter: (text) => {\n      if (addSpace) {\n        addSpace = false;\n        return ' ' + text;\n      }\n      return text;\n    }\n  }\n);\n```\n\n----------------------------------------\n\nTITLE: Configuring SVG Case Sensitivity in JavaScript\nDESCRIPTION: Shows how to preserve case sensitivity for SVG elements and attributes by configuring parser options.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\nallowedTags: [ 'svg', 'g', 'defs', 'linearGradient', 'stop', 'circle' ],\nallowedAttributes: false,\nparser: {\n  lowerCaseTags: false,\n  lowerCaseAttributeNames: false\n}\n```\n\n----------------------------------------\n\nTITLE: Filtering Out Non-allowed iframe Sources in sanitize-html\nDESCRIPTION: Demonstrates how sanitize-html filters out iframe src attributes when they don't match the allowed hostnames. This example shows an iframe from youtube.net being sanitized out.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_24\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml('<p><iframe src=\"https://www.youtube.net/embed/nykIhs12345\"></iframe><p>', {\n  allowedTags: [ 'p', 'em', 'strong', 'iframe' ],\n  allowedClasses: {\n    'p': [ 'fancy', 'simple' ],\n  },\n  allowedAttributes: {\n    'iframe': ['src']\n  },\n  allowedIframeHostnames: ['www.youtube.com', 'player.vimeo.com']\n});\n```\n\n----------------------------------------\n\nTITLE: Handling Invalid iframe URLs in sanitize-html\nDESCRIPTION: Shows how sanitize-html handles invalid iframe URLs when hostname restrictions are in place. This example demonstrates an invalid Vimeo URL being sanitized out.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_25\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml('<p><iframe src=\"https://www.vimeo/video/12345\"></iframe><p>', {\n  allowedTags: [ 'p', 'em', 'strong', 'iframe' ],\n  allowedClasses: {\n    'p': [ 'fancy', 'simple' ],\n  },\n  allowedAttributes: {\n    'iframe': ['src']\n  },\n  allowedIframeHostnames: ['www.youtube.com', 'player.vimeo.com']\n});\n```\n\n----------------------------------------\n\nTITLE: Allowing Subdomains with allowedIframeDomains in sanitize-html\nDESCRIPTION: Demonstrates how to allow iframes from any subdomain of a specific domain using allowedIframeDomains. This example allows any Zoom subdomain by specifying the base domain.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_26\n\nLANGUAGE: javascript\nCODE:\n```\n// This iframe markup will pass through as safe.\nconst clean = sanitizeHtml('<p><iframe src=\"https://us02web.zoom.us/embed/12345\"></iframe><p>', {\n  allowedTags: [ 'p', 'em', 'strong', 'iframe' ],\n  allowedClasses: {\n    'p': [ 'fancy', 'simple' ],\n  },\n  allowedAttributes: {\n    'iframe': ['src']\n  },\n  allowedIframeHostnames: ['www.youtube.com', 'player.vimeo.com'],\n  allowedIframeDomains: ['zoom.us']\n});\n```\n\n----------------------------------------\n\nTITLE: Disabling Protocol-relative URLs in sanitize-html\nDESCRIPTION: Shows how to disable protocol-relative URLs (URLs starting with //). By default, these are allowed, but can be disabled for additional security.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_31\n\nLANGUAGE: js\nCODE:\n```\nallowProtocolRelative: false\n```\n\n----------------------------------------\n\nTITLE: Customizing Non-text Tags in sanitize-html\nDESCRIPTION: Demonstrates how to override the default list of tags whose contents are discarded completely. This example adds 'noscript' to the list of tags whose contents are not preserved.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_32\n\nLANGUAGE: js\nCODE:\n```\nnonTextTags: [ 'style', 'script', 'textarea', 'option', 'noscript' ]\n```\n\n----------------------------------------\n\nTITLE: Configuring Disallowed Tags Mode to Escape in sanitize-html\nDESCRIPTION: Shows how to configure sanitize-html to escape disallowed tags instead of removing them. This transforms '<disallowed>content</disallowed>' to '&lt;disallowed&gt;content&lt;/disallowed&gt;'.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_33\n\nLANGUAGE: js\nCODE:\n```\ndisallowedTagsMode: 'escape'\n```\n\n----------------------------------------\n\nTITLE: Configuring Disallowed Tags Mode to Discard in sanitize-html\nDESCRIPTION: Demonstrates the default 'discard' mode for disallowed tags, which removes the tags but keeps their content. This transforms '<disallowed>content</disallowed>' to 'content'.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_34\n\nLANGUAGE: js\nCODE:\n```\ndisallowedTagsMode: 'discard'\n```\n\n----------------------------------------\n\nTITLE: Configuring Disallowed Tags Mode to CompletelyDiscard in sanitize-html\nDESCRIPTION: Shows how to configure sanitize-html to completely discard disallowed tags and their text content. This preserves any allowed subtags within the disallowed tag.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_35\n\nLANGUAGE: js\nCODE:\n```\ndisallowedTagsMode: 'completelyDiscard'\n```\n\n----------------------------------------\n\nTITLE: Configuring Disallowed Tags Mode to RecursiveEscape in sanitize-html\nDESCRIPTION: Demonstrates how to recursively escape both disallowed tags and all their children, even if those children would normally be allowed. This provides the most conservative sanitization approach.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_36\n\nLANGUAGE: js\nCODE:\n```\ndisallowedTagsMode: `recursiveEscape`\n```\n\n----------------------------------------\n\nTITLE: Configuring Style Attribute Parsing in sanitize-html\nDESCRIPTION: Configuration option to disable parsing of style attributes, allowing invalid style properties to remain in the output instead of being stripped.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_37\n\nLANGUAGE: javascript\nCODE:\n```\nparseStyleAttributes: false\n```\n\n----------------------------------------\n\nTITLE: Allowing Relative URLs in iframes with sanitize-html\nDESCRIPTION: Demonstrates how to allow relative URLs in iframe src attributes using the allowIframeRelativeUrls option. By default, relative URLs are allowed if no hostname/domain filter is provided.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_22\n\nLANGUAGE: js\nCODE:\n```\nallowIframeRelativeUrls: true\n```\n\n----------------------------------------\n\nTITLE: Removing Tags While Keeping Content with exclusiveFilter in sanitize-html\nDESCRIPTION: Shows how to use exclusiveFilter to remove only the tag while preserving its content by returning 'excludeTag'. This example filters out anchor tags with invalid links but keeps their content.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_19\n\nLANGUAGE: js\nCODE:\n```\nsanitizeHtml(\n  'This is a <a href=\"javascript:alert(123)\">bad link</a> and a <a href=\"https://www.linux.org\">good link</a>',\n  {\n    exclusiveFilter: function(frame) {\n      // the href attribute is removed by the URL protocol check\n      return frame.tag === 'a' && !frame.attribs.href ? 'excludeTag' : false;\n    }\n  }\n);\n// Output: 'This is a bad link and a <a href=\"https://www.linux.org\">good link</a>'\n```\n\n----------------------------------------\n\nTITLE: Allowing All Tags or Attributes in sanitize-html\nDESCRIPTION: Configuration to allow all tags or all attributes in sanitize-html.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\nallowedTags: false,\nallowedAttributes: false\n```\n\n----------------------------------------\n\nTITLE: Using Wildcards for Attribute Configuration\nDESCRIPTION: Examples of using wildcards to allow attributes with specific prefixes or across all tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nallowedAttributes: {\n  a: [ 'href', 'data-*' ]\n}\n```\n\nLANGUAGE: javascript\nCODE:\n```\nallowedAttributes: {\n  '*': [ 'href', 'align', 'alt', 'center', 'bgcolor' ]\n}\n```\n\n----------------------------------------\n\nTITLE: HTML Parser Configuration\nDESCRIPTION: Shows how to configure the underlying htmlparser2 options.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\nconst clean = sanitizeHtml(dirty, {\n  allowedTags: ['a'],\n  parser: {\n    lowerCaseTags: true\n  }\n});\n```\n\n----------------------------------------\n\nTITLE: Allowing Empty Attributes in sanitize-html\nDESCRIPTION: Configuration to allow empty attributes for all cases in sanitize-html.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nnonBooleanAttributes: []\n```\n\n----------------------------------------\n\nTITLE: Removing All Empty Attributes in sanitize-html\nDESCRIPTION: Configuration to remove all empty attributes, including valid ones, in sanitize-html.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nnonBooleanAttributes: ['*']\n```\n\n----------------------------------------\n\nTITLE: Disallowing All Tags in sanitize-html\nDESCRIPTION: Configuration to disallow all tags in sanitize-html, effectively stripping all HTML.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\nallowedTags: [],\nallowedAttributes: {}\n```\n\n----------------------------------------\n\nTITLE: Setting Allowed URL Schemes in sanitize-html\nDESCRIPTION: Example of using the allowedSchemes option to specify permitted URL schemes.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/CHANGELOG.md#2025-04-18_snippet_3\n\nLANGUAGE: JavaScript\nCODE:\n```\nallowedSchemes: [ 'http', 'https', 'ftp', 'mailto' ]\n```\n\n----------------------------------------\n\nTITLE: Allowing All Attributes in sanitize-html\nDESCRIPTION: Example of how to allow all attributes for all tags using the wildcard '*' in the allowedAttributes option.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/CHANGELOG.md#2025-04-18_snippet_0\n\nLANGUAGE: JavaScript\nCODE:\n```\nallowedAttributes: { '*': ['*'] }\n```\n\n----------------------------------------\n\nTITLE: Allowing Specific CSS Classes in sanitize-html\nDESCRIPTION: Example of using the allowedClasses option to permit specific CSS classes for certain tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/CHANGELOG.md#2025-04-18_snippet_2\n\nLANGUAGE: JavaScript\nCODE:\n```\nallowedClasses: { 'p': [ 'fancy', 'simple' ] }\n```\n\n----------------------------------------\n\nTITLE: Transforming All Tags in sanitize-html\nDESCRIPTION: Example of using the wildcard '*' in the transformTags option to transform all tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/CHANGELOG.md#2025-04-18_snippet_1\n\nLANGUAGE: JavaScript\nCODE:\n```\ntransformTags: { '*': function(tagName, attribs) { /* transformation logic */ } }\n```\n\n----------------------------------------\n\nTITLE: Configuring Allowed Schemes by Tag in sanitize-html\nDESCRIPTION: Example of using the allowedSchemesByTag option to specify allowed URL schemes for specific tags.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/CHANGELOG.md#2025-04-18_snippet_4\n\nLANGUAGE: JavaScript\nCODE:\n```\nallowedSchemesByTag: { 'img': [ 'http', 'https', 'data' ] }\n```\n\n----------------------------------------\n\nTITLE: Importing sanitize-html in Node.js\nDESCRIPTION: Examples of importing the sanitize-html module in Node.js using ES modules and CommonJS syntax.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n// In ES modules\nimport sanitizeHtml from 'sanitize-html';\n\n// Or in CommonJS\nconst sanitizeHtml = require('sanitize-html');\n```\n\n----------------------------------------\n\nTITLE: Using sanitize-html in Browser JavaScript\nDESCRIPTION: Example of importing and using sanitize-html in browser-side JavaScript to sanitize HTML strings.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport sanitizeHtml from 'sanitize-html';\n\nconst html = \"<strong>hello world</strong>\";\nconsole.log(sanitizeHtml(html));\nconsole.log(sanitizeHtml(\"<img src=x onerror=alert('img') />\"));\nconsole.log(sanitizeHtml(\"console.log('hello world')\"));\nconsole.log(sanitizeHtml(\"<script>alert('hello world')</script>\"));\n```\n\n----------------------------------------\n\nTITLE: Installing sanitize-html via npm\nDESCRIPTION: Commands to install the sanitize-html package using npm or yarn package managers.\nSOURCE: https://github.com/apostrophecms/sanitize-html/blob/main/README.md#2025-04-18_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install sanitize-html\n```\n\nLANGUAGE: bash\nCODE:\n```\nyarn add sanitize-html\n```"
  }
]