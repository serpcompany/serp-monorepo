[
  {
    "owner": "opennextjs",
    "repo": "opennextjs-cloudflare",
    "content": "TITLE: Building Next.js App for Cloudflare\nDESCRIPTION: Commands to build and adapt a Next.js application for Cloudflare deployment using different package managers.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx opennextjs-cloudflare build\n# or\npnpm opennextjs-cloudflare build\n# or\nyarn opennextjs-cloudflare build\n# or\nbun opennextjs-cloudflare build\n```\n\n----------------------------------------\n\nTITLE: Deploying Next.js App to Cloudflare\nDESCRIPTION: Commands to build and deploy the Next.js application to Cloudflare production environment using different package managers.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpx opennextjs-cloudflare build && npx opennextjs-cloudflare deploy\n# or\npnpm opennextjs-cloudflare build && pnpm opennextjs-cloudflare deploy\n# or\nyarn opennextjs-cloudflare build && yarn opennextjs-cloudflare deploy\n# or\nbun opennextjs-cloudflare build && bun opennextjs-cloudflare deploy\n```\n\n----------------------------------------\n\nTITLE: Previewing Cloudflare App with Wrangler\nDESCRIPTION: Commands to preview the built application locally using Wrangler dev server with different package managers.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpx wrangler dev\n# or\npnpm wrangler dev\n# or\nyarn wrangler dev\n# or\nbun wrangler dev\n```\n\n----------------------------------------\n\nTITLE: TypeScript Configuration Example with defineCloudflareConfig\nDESCRIPTION: Example showing how to use the defineCloudflareConfig utility in an open-next.config.ts file to generate configuration compatible with the Cloudflare adapter.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/CHANGELOG.md#2025-04-22_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\n// open-next.config.ts\nimport { defineCloudflareConfig } from \"@opennextjs/cloudflare\";\nimport kvIncrementalCache from \"@opennextjs/cloudflare/kv-cache\";\n\nexport default defineCloudflareConfig({\n  incrementalCache: kvIncrementalCache,\n});\n```\n\n----------------------------------------\n\nTITLE: Enabling Partial Prerendering in Next.js Configuration\nDESCRIPTION: This code snippet shows how to enable the experimental Partial Prerendering (PPR) feature in the Next.js configuration file. It sets the 'ppr' flag to true in the 'experimental' section of next.config.js.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/next-partial-prerendering/README.md#2025-04-22_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nexperimental: {\n    ppr: true,\n},\n```\n\n----------------------------------------\n\nTITLE: Installing OpenNext Cloudflare Package from Prerelease Branch\nDESCRIPTION: Command to install the prerelease version of @opennextjs/cloudflare package directly from the main branch using pkg.pr.new service. This allows developers to test the latest stable development version.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm i https://pkg.pr.new/@opennextjs/cloudflare@main\n```\n\n----------------------------------------\n\nTITLE: Next.js Configuration Example with OpenNextJS Cloudflare Integration\nDESCRIPTION: Example showing how to initialize OpenNextJS Cloudflare adapter for development in a Next.js config file using the initOpenNextCloudflareForDev utility.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/CHANGELOG.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n// next.config.mjs\n\nimport { initOpenNextCloudflareForDev } from \"@opennextjs/cloudflare\";\n\ninitOpenNextCloudflareForDev();\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default nextConfig;\n```\n\n----------------------------------------\n\nTITLE: Wrangler Service Binding Configuration\nDESCRIPTION: JSON configuration example showing how to set up service bindings in wrangler config for the memory queue functionality.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/packages/cloudflare/CHANGELOG.md#2025-04-22_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"services\": [\n    {\n      \"binding\": \"NEXT_CACHE_REVALIDATION_WORKER\",\n      \"service\": \"<WORKER_NAME>\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Markdown Documentation for Benchmarking Process\nDESCRIPTION: Describes the automated benchmarking workflow that processes example applications by building them with the build:worker script, deploying to production using wrangler, and measuring response times from the deployment URL.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/benchmarking/README.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# Benchmarking\n\nThis directory contains a script for running full end to end benchmarks against the example applications.\n\nWhat the script does:\n\n- takes all the example applications from the [`./examples` directory](../examples/)\n  (excluding the ones specified in the `exampleAppsNotToBenchmark` set in [`./src/cloudflare.ts`](./src/cloudflare.ts))\n- in parallel for each application:\n  - builds the application by running its `build:worker` script\n  - deploys the application to production (with `wrangler deploy`)\n  - takes the production deployment url\n  - benchmarks the application's response time by fetching from the deployment url a number of times\n\n> [!note]\n> This is the first cut at benchmarking our solution, later we can take the script in this directory,\n> generalize it and make it more reusable if we want\n```\n\n----------------------------------------\n\nTITLE: Starting Next.js Development Server\nDESCRIPTION: Commands to start the Next.js development server using different package managers. The server will run on localhost:3000 with hot-reloading enabled.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/bugs/gh-119/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dev\n# or\nyarn dev\n# or\npnpm dev\n# or\nbun dev\n```\n\n----------------------------------------\n\nTITLE: Running Next.js Development Server\nDESCRIPTION: Commands to start the Next.js development server using various package managers. This allows developers to run the project locally for development and testing.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/bugs/gh-219/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dev\n# or\nyarn dev\n# or\npnpm dev\n# or\nbun dev\n```\n\n----------------------------------------\n\nTITLE: Cloning Repository Setup\nDESCRIPTION: Commands for cloning the repository and setting up the local development environment.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\n> git clone https://github.com/<your-github-username>/opennextjs-cloudflare\n> cd opennextjs-cloudflare\n```\n\n----------------------------------------\n\nTITLE: Building and Running Commands\nDESCRIPTION: Various commands for building and running the project in different modes.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\npnpm --filter cloudflare build\n\npnpm --filter cloudflare build:watch\n\npnpm --filter api preview\n\nSKIP_NEXT_APP_BUILD=true pnpm --filter api preview\n```\n\n----------------------------------------\n\nTITLE: Creating Next.js Blog with PNPM\nDESCRIPTION: Initialize a new Next.js blog starter project using pnpm create next-app command with the blog-starter template.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/vercel-blog-starter/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npnpm create next-app --example blog-starter blog-starter-app\n```\n\n----------------------------------------\n\nTITLE: Creating Next.js Blog with Yarn\nDESCRIPTION: Initialize a new Next.js blog starter project using yarn create next-app command with the blog-starter template.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/vercel-blog-starter/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nyarn create next-app --example blog-starter blog-starter-app\n```\n\n----------------------------------------\n\nTITLE: Creating Next.js Blog with NPX\nDESCRIPTION: Initialize a new Next.js blog starter project using npx create-next-app command with the blog-starter template.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/vercel-blog-starter/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx create-next-app --example blog-starter blog-starter-app\n```\n\n----------------------------------------\n\nTITLE: Deploying Next.js Middleware Example with pnpm\nDESCRIPTION: Command to create a new Next.js application with middleware example using pnpm.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/middleware/README.md#2025-04-22_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npnpm create next-app --example middleware middleware-app\n```\n\n----------------------------------------\n\nTITLE: Deploying Next.js Middleware Example with Yarn\nDESCRIPTION: Command to create a new Next.js application with middleware example using Yarn.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/middleware/README.md#2025-04-22_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nyarn create next-app --example middleware middleware-app\n```\n\n----------------------------------------\n\nTITLE: Deploying Next.js Middleware Example with npm\nDESCRIPTION: Command to create a new Next.js application with middleware example using npm.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/middleware/README.md#2025-04-22_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpx create-next-app --example middleware middleware-app\n```\n\n----------------------------------------\n\nTITLE: Installing Dependencies\nDESCRIPTION: Command to install project dependencies using pnpm package manager.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\n> cd opennextjs-cloudflare\n> pnpm install\n```\n\n----------------------------------------\n\nTITLE: Testing Commands\nDESCRIPTION: Commands for running unit and e2e tests.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\npnpm run test\n\npnpm run e2e\npnpm run e2e:dev\n```\n\n----------------------------------------\n\nTITLE: Code Quality Commands\nDESCRIPTION: Commands for checking and fixing code quality issues.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\npnpm run code:checks\n\npnpm run fix\n```\n\n----------------------------------------\n\nTITLE: Blog Post Frontmatter Configuration in Next.js\nDESCRIPTION: YAML frontmatter configuration for a Next.js blog post, defining metadata like title, excerpt, cover image, date, author information, and OG image.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/vercel-blog-starter/_posts/hello-world.md#2025-04-22_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Learn How to Pre-render Pages Using Static Generation with Next.js\"\nexcerpt: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Praesent elementum facilisis leo vel fringilla est ullamcorper eget. At imperdiet dui accumsan sit amet nulla facilities morbi tempus.\"\ncoverImage: \"/assets/blog/hello-world/cover.jpg\"\ndate: \"2020-03-16T05:35:07.322Z\"\nauthor:\n  name: Tim Neutkens\n  picture: \"/assets/blog/authors/tim.jpeg\"\nogImage:\n  url: \"/assets/blog/hello-world/cover.jpg\"\n---\n```\n\n----------------------------------------\n\nTITLE: Changeset Management\nDESCRIPTION: Commands for creating and managing changesets.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\npnpm changeset\n\ngit add ./changeset/*.md\n```\n\n----------------------------------------\n\nTITLE: Example Changeset Format\nDESCRIPTION: Example of a changeset file structure for documentation purposes.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_9\n\nLANGUAGE: md\nCODE:\n```\n---\n\"@opennextjs/cloudflare\": patch\n---\n\nfix: replace the word \"publish\" with \"deploy\" everywhere.\n\nWe should be consistent with the word that describes how we get a worker to the edge. The command is `deploy`, so let's use that everywhere.\n```\n\n----------------------------------------\n\nTITLE: Syncing with Upstream\nDESCRIPTION: Commands to keep the local repository in sync with the upstream repository.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\n> git switch main\n> git pull upstream main\nFrom https://github.com/opennextjs/opennextjs-cloudflare\n* branch            main       -> FETCH_HEAD\nAlready up to date.\n```\n\n----------------------------------------\n\nTITLE: Git Remote Configuration\nDESCRIPTION: Commands to view and configure remote repositories for the project.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\n> git remote -v\norigin https://github.com/<your-github-username>/opennextjs-cloudflare (fetch)\norigin https://github.com/<your-github-username>/opennextjs-cloudflare (push)\n```\n\n----------------------------------------\n\nTITLE: Adding Upstream Remote\nDESCRIPTION: Commands to add and verify the upstream remote repository configuration.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/CONTRIBUTING.md#2025-04-22_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n> git remote add upstream https://github.com/opennextjs/opennextjs-cloudflare\n> git remote -v\norigin https://github.com/<your-github-username>/opennextjs-cloudflare (fetch)\norigin https://github.com/<your-github-username>/opennextjs-cloudflare (push)\nupstream https://github.com/opennextjs/opennextjs-cloudflare (fetch)\nupstream https://github.com/opennextjs/opennextjs-cloudflare (push)\n```\n\n----------------------------------------\n\nTITLE: Version History Documentation in Markdown\nDESCRIPTION: Markdown formatted changelog showing version history from 0.1.1 to 0.1.6, documenting patch changes and dependency updates.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/e2e/app-pages-router/CHANGELOG.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# app-pages-router\n\n## 0.1.6\n\n### Patch Changes\n\n- Updated dependencies [[`7eda030388880d8ad25d3f4692e24bac31b7ec4f`](https://github.com/opennextjs/opennextjs-aws/commit/7eda030388880d8ad25d3f4692e24bac31b7ec4f), [`e5678b39e0f3c21d3e30d08a89f5cb0acdd3d050`](https://github.com/opennextjs/opennextjs-aws/commit/e5678b39e0f3c21d3e30d08a89f5cb0acdd3d050), [`1981a47dd3dbc77066d2bf5cad5d5d406fecb010`](https://github.com/opennextjs/opennextjs-aws/commit/1981a47dd3dbc77066d2bf5cad5d5d406fecb010), [`b4ad0f0e0f6069ca87f3b72c23d655cedebc86e5`](https://github.com/opennextjs/opennextjs-aws/commit/b4ad0f0e0f6069ca87f3b72c23d655cedebc86e5)]:\n  - @opennextjs/aws@3.4.1\n```\n\n----------------------------------------\n\nTITLE: Displaying Version History in Markdown\nDESCRIPTION: This code snippet shows the version history for the app-router package, including patch changes and dependency updates. It uses markdown formatting to structure the information hierarchically.\nSOURCE: https://github.com/opennextjs/opennextjs-cloudflare/blob/main/examples/e2e/app-router/CHANGELOG.md#2025-04-22_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# app-router\n\n## 0.1.4\n\n### Patch Changes\n\n- Updated dependencies [[`9595714ac23e5f131b879d04d5cfb2a5d11bdbdd`](https://github.com/opennextjs/opennextjs-aws/commit/9595714ac23e5f131b879d04d5cfb2a5d11bdbdd), [`4e88b47935523de1d15da067b56105bd6be91e47`](https://github.com/opennextjs/opennextjs-aws/commit/4e88b47935523de1d15da067b56105bd6be91e47), [`7140ca56e1e88d7a7cae327eceb3ef8c2fde2a1e`](https://github.com/opennextjs/opennextjs-aws/commit/7140ca56e1e88d7a7cae327eceb3ef8c2fde2a1e)]:\n  - @opennextjs/aws@3.3.1\n\n## 0.1.3\n\n### Patch Changes\n\n- Updated dependencies [[`4d328e3fc306b878e9497986baa65bfd1d4de66a`](https://github.com/opennextjs/opennextjs-aws/commit/4d328e3fc306b878e9497986baa65bfd1d4de66a), [`2b2a48b70ae95b5e600ac2e4b7f2df8702c5c26e`](https://github.com/opennextjs/opennextjs-aws/commit/2b2a48b70ae95b5e600ac2e4b7f2df8702c5c26e), [`f685ddea8f8a5c82591dc02713aff7138f2d9896`](https://github.com/opennextjs/opennextjs-aws/commit/f685ddea8f8a5c82591dc02713aff7138f2d9896), [`ef1fe48d570863266c271e5dedaf02b943849ded`](https://github.com/opennextjs/opennextjs-aws/commit/ef1fe48d570863266c271e5dedaf02b943849ded), [`8ab921f8b5bd40c7ba109ccef3e59a6c24283fb2`](https://github.com/opennextjs/opennextjs-aws/commit/8ab921f8b5bd40c7ba109ccef3e59a6c24283fb2), [`2202f36ce0f87357b249bd127cdd5e84d6deffd3`](https://github.com/opennextjs/opennextjs-aws/commit/2202f36ce0f87357b249bd127cdd5e84d6deffd3), [`44392ba82990d43e16a614113d9e7d8e257e5bdd`](https://github.com/opennextjs/opennextjs-aws/commit/44392ba82990d43e16a614113d9e7d8e257e5bdd), [`4dea7ea2f5ffd1848e51502c88d2efcc1896bb8c`](https://github.com/opennextjs/opennextjs-aws/commit/4dea7ea2f5ffd1848e51502c88d2efcc1896bb8c), [`0ac604e5867497cc93fb677b5ebc28ef87e057f8`](https://github.com/opennextjs/opennextjs-aws/commit/0ac604e5867497cc93fb677b5ebc28ef87e057f8), [`1ece6b479bb4e0309892ffbd1200870821a410c4`](https://github.com/opennextjs/opennextjs-aws/commit/1ece6b479bb4e0309892ffbd1200870821a410c4), [`697681bf9ce25212ce4e2e94d886ca425428280d`](https://github.com/opennextjs/opennextjs-aws/commit/697681bf9ce25212ce4e2e94d886ca425428280d)]:\n  - @opennextjs/aws@3.3.0\n\n## 0.1.2\n\n### Patch Changes\n\n- Updated dependencies [[`6f798debb575b157acb2f5068658f95ace0fae50`](https://github.com/opennextjs/opennextjs-aws/commit/6f798debb575b157acb2f5068658f95ace0fae50), [`fe600ac6f5e513376cf233a5d2ce68affaa3aa5a`](https://github.com/opennextjs/opennextjs-aws/commit/fe600ac6f5e513376cf233a5d2ce68affaa3aa5a), [`5f0cbc8feac9eec728c27bb3b7ff5c3f3bc26716`](https://github.com/opennextjs/opennextjs-aws/commit/5f0cbc8feac9eec728c27bb3b7ff5c3f3bc26716), [`8b51108d9aee7e5ed3027c1ceda99091b579951d`](https://github.com/opennextjs/opennextjs-aws/commit/8b51108d9aee7e5ed3027c1ceda99091b579951d), [`b999c4e9a38499680bed77ddeb94b62a3301c0fa`](https://github.com/opennextjs/opennextjs-aws/commit/b999c4e9a38499680bed77ddeb94b62a3301c0fa), [`ba84259d2e35e79a562a7e3f055e350a03c9d651`](https://github.com/opennextjs/opennextjs-aws/commit/ba84259d2e35e79a562a7e3f055e350a03c9d651)]:\n  - @opennextjs/aws@3.2.2\n\n## 0.1.1\n\n### Patch Changes\n\n- Updated dependencies [[`cf33973f3fbab73e77898fdd072a00a1f037257a`](https://github.com/opennextjs/opennextjs-aws/commit/cf33973f3fbab73e77898fdd072a00a1f037257a), [`77d87e7a870fad6afad022bf75aca18c8656c268`](https://github.com/opennextjs/opennextjs-aws/commit/77d87e7a870fad6afad022bf75aca18c8656c268), [`a43b82b4cb68889371ac8260aefef9e04eefb037`](https://github.com/opennextjs/opennextjs-aws/commit/a43b82b4cb68889371ac8260aefef9e04eefb037), [`bfa1a8c4056bd691fb57617dd6287693e51071b4`](https://github.com/opennextjs/opennextjs-aws/commit/bfa1a8c4056bd691fb57617dd6287693e51071b4), [`5839217411012d1df2874d299daa977ba3701c2c`](https://github.com/opennextjs/opennextjs-aws/commit/5839217411012d1df2874d299daa977ba3701c2c), [`dfc174d88b7bcc54eede09c98d9443dd84b93fd8`](https://github.com/opennextjs/opennextjs-aws/commit/dfc174d88b7bcc54eede09c98d9443dd84b93fd8)]:\n  - @opennextjs/aws@3.2.1\n```"
  }
]