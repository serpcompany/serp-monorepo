[
  {
    "owner": "spatie",
    "repo": "laravel-medialibrary",
    "content": "TITLE: Basic File Association in Laravel Media Library\nDESCRIPTION: Demonstrates how to associate a file with a model instance using the addMedia method and moving it to the configured disk.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/associating-files.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$yourModel = YourModel::find(1);\n$yourModel\n   ->addMedia($pathToFile)\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Retrieving Media Items in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to retrieve media items using the getMedia method. It can be used to get all media or media from specific collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems = $yourModel->getMedia();\n\n$mediaItems = $yourModel->getMedia(\"*\");\n```\n\n----------------------------------------\n\nTITLE: Implementing Media Conversions in Laravel Model\nDESCRIPTION: Example of implementing the HasMedia interface and registering media conversions in a Laravel model. The conversion creates a thumbnail with specific dimensions and sharpening.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\nuse Spatie\\MediaLibrary\\HasMedia;\nuse Spatie\\MediaLibrary\\InteractsWithMedia;\n\nclass YourModel extends Model implements HasMedia\n{\n    use InteractsWithMedia;\n\n    public function registerMediaConversions(?Media $media = null): void\n    {\n        $this->addMediaConversion('thumb')\n              ->width(368)\n              ->height(232)\n              ->sharpen(10);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing HasMedia Interface in Laravel Model\nDESCRIPTION: This snippet shows how to implement the HasMedia interface and use the InteractsWithMedia trait in a Laravel model to enable media associations with that model.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/preparing-your-model.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Spatie\\MediaLibrary\\HasMedia;\nuse Spatie\\MediaLibrary\\InteractsWithMedia;\n\nclass YourModel extends Model implements HasMedia\n{\n    use InteractsWithMedia;\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Media to a Collection in Laravel Media Library\nDESCRIPTION: Demonstrates how to add a file to a media collection for a News model. This snippet shows the basic usage of the package for associating files with Eloquent models.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$newsItem = News::find(1);\n$newsItem->addMedia($pathToFile)->toMediaCollection('images');\n```\n\n----------------------------------------\n\nTITLE: Adding Media to Collections in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to add different types of files to specific collections using Laravel Media Library. It shows adding images to an 'images' collection and document files to a 'downloads' collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/simple-media-collections.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$yourModel = YourModel::find(1);\n$yourModel->addMedia($pathToImage)->toMediaCollection('images');\n$yourModel->addMedia($pathToAnotherImage)->toMediaCollection('images');\n$yourModel->addMedia($pathToPdfFile)->toMediaCollection('downloads');\n$yourModel->addMedia($pathToAnExcelFile)->toMediaCollection('downloads');\n```\n\n----------------------------------------\n\nTITLE: Accessing Derived Images from Media Collections in Laravel Media Library\nDESCRIPTION: Demonstrates how to retrieve a specific converted version of an image. The code gets the first media item from the 'images' collection and returns the URL for its 'thumb' conversion.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/introduction.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->getMedia('images')->first()->getUrl('thumb');\n```\n\n----------------------------------------\n\nTITLE: Registering Media Conversions within Collections\nDESCRIPTION: This snippet shows how to register media conversions specifically for a collection, creating automatic image transformations when files are added to that collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_17\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\n// ...\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('my-collection')\n        ->registerMediaConversions(function (Media $media) {\n            $this\n                ->addMediaConversion('thumb')\n                ->width(100)\n                ->height(100);\n        });\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Media Properties in Laravel Media Library\nDESCRIPTION: This snippet shows how to access various properties of media items, including URLs, paths, and temporary URLs for S3 storage.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$publicUrl = $mediaItems[0]->getUrl();\n$publicFullUrl = $mediaItems[0]->getFullUrl(); // URL including domain\n$fullPathOnDisk = $mediaItems[0]->getPath();\n$temporaryS3Url = $mediaItems[0]->getTemporaryUrl(Carbon::now()->addMinutes(5));\n```\n\n----------------------------------------\n\nTITLE: Running Media Library Migrations\nDESCRIPTION: Artisan command to execute the database migrations and create the required media table.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan migrate\n```\n\n----------------------------------------\n\nTITLE: Adding Remote Files to Laravel Media Library\nDESCRIPTION: Illustrates how to add a remote file to the media library using a URL with the addMediaFromUrl method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/associating-files.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$url = 'http://medialibrary.spatie.be/assets/images/mountain.jpg';\n$yourModel\n   ->addMediaFromUrl($url)\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Handling File Uploads from Requests in Laravel Media Library\nDESCRIPTION: Demonstrates how to add media directly from an HTTP request. This code takes a file from the 'image' field of an incoming request and adds it to the 'images' media collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/introduction.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMediaFromRequest('image')->toMediaCollection('images');\n```\n\n----------------------------------------\n\nTITLE: Handling File Uploads in Laravel Media Library\nDESCRIPTION: Shows how to directly handle file uploads from a request and add them to a media collection. This is useful for processing user-uploaded files.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$newsItem->addMedia($request->file('image'))->toMediaCollection('images');\n```\n\n----------------------------------------\n\nTITLE: Adding Media Disk Configuration in Laravel PHP\nDESCRIPTION: This code block demonstrates how to add a dedicated media disk configuration to Laravel's filesystems.php config file.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n'disks' => [\n    ...\n\n    'media' => [\n        'driver' => 'local',\n        'root'   => public_path('media'),\n        'url'    => env('APP_URL').'/media',\n        'visibility' => 'public',\n        'throw' => false,\n    ],\n...\n```\n\n----------------------------------------\n\nTITLE: Enabling Responsive Images for Media Collections in Laravel MediaLibrary\nDESCRIPTION: This code shows how to configure a media collection to automatically generate responsive images. By calling the withResponsiveImages method when defining a collection in your model, the package will create various sized versions of any media uploaded to this collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_19\n\nLANGUAGE: php\nCODE:\n```\n// in your model\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('my-collection')\n        ->withResponsiveImages();\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Multiple Media from Request in Laravel Media Library\nDESCRIPTION: Method to add multiple files from the current request to the media library. Returns a collection of FileAdders.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n/**\n * Add multiple files from the current request to the media library.\n *\n * @param string[] $keys\n *\n * @return Collection\n *\n * @throws \\Spatie\\MediaLibrary\\MediaCollections\\Exceptions\\FileCannotBeAdded\n */\npublic function addMultipleMediaFromRequest(array $keyNames): Collection\n```\n\n----------------------------------------\n\nTITLE: Storing Files on Different Filesystems with Laravel Media Library\nDESCRIPTION: Demonstrates how to store files on different filesystems using Laravel Media Library. This allows for flexible storage options, such as local storage or cloud storage like S3.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$newsItem->addMedia($smallFile)->toMediaCollection('downloads', 'local');\n$newsItem->addMedia($bigFile)->toMediaCollection('downloads', 's3');\n```\n\n----------------------------------------\n\nTITLE: Adding Media to an Eloquent Model in Laravel Media Library\nDESCRIPTION: Shows how to add a file to a model's media collection. The code finds a model by ID and adds a file from a specified path to the 'images' media collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/introduction.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$yourModel = YourModel::find(1);\n$yourModel->addMedia($pathToFile)->toMediaCollection('images');\n```\n\n----------------------------------------\n\nTITLE: Preserving Original File While Associating in Laravel Media Library\nDESCRIPTION: Shows how to copy a file to media storage while preserving the original file using the preservingOriginal method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/associating-files.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->preservingOriginal()\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Registering Media Collections in Laravel Model\nDESCRIPTION: This snippet shows how to register media collections in a Laravel model by implementing the registerMediaCollections method and using the addMediaCollection method to define collections with options.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n// in your model\n\npublic function registerMediaCollections(): void\n{\n    $this->addMediaCollection('my-collection')\n        //add options\n        ...\n\n    // you can define as many collections as needed\n    $this->addMediaCollection('my-other-collection')\n        //add options\n        ...\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Media from URL in Laravel Media Library\nDESCRIPTION: Method to add a remote file to the media library from a URL. Only accepts URLs starting with http:// or https://.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n/**\n * Add a remote file to the media library.\n *\n * @param string $url\n *\n * @return mixed\n *\n * @throws \\Spatie\\MediaLibrary\\MediaCollections\\Exceptions\\FileCannotBeAdded\n */\npublic function addMediaFromUrl(string $url)\n```\n\n----------------------------------------\n\nTITLE: Adding Media with Custom Properties in Laravel Media Library\nDESCRIPTION: Demonstrates how to add a file to the media library with custom properties and options using a chain of methods.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n    ->addMedia($pathToFile) //starting method\n    ->withCustomProperties(['mime-type' => 'image/jpeg']) //middle method\n    ->preservingOriginal() //middle method\n    ->toMediaCollection(); //finishing method\n```\n\n----------------------------------------\n\nTITLE: Displaying Responsive Image in Laravel Blade Template\nDESCRIPTION: This snippet demonstrates how to display a responsive image in a Laravel Blade template. It uses the media object as an invokable to generate the img tag with a filled srcset attribute.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<h1>My greyscale responsive image</h1>\n{{ $media('my-conversion') }}\n```\n\n----------------------------------------\n\nTITLE: Registering Multiple Media Conversions in Laravel\nDESCRIPTION: Example showing how to register multiple media conversions with different effects. Includes thumbnail, sepia with border, and cropped image conversions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n// in your model\nuse Spatie\\Image\\Enums\\BorderType;\nuse Spatie\\Image\\Enums\\CropPosition;\n\n// ...\n\n    public function registerMediaConversions(?Media $media = null): void\n    {\n        $this->addMediaConversion('thumb')\n              ->width(368)\n              ->height(232)\n              ->sharpen(10);\n\n        $this->addMediaConversion('old-picture')\n              ->sepia()\n              ->border(10, BorderType::Overlay, 'black');\n              \n        $this->addMediaConversion('thumb-cropped')\n            ->crop(400, 400, CropPosition::Center); // Trim or crop the image to the center for specified width and height.\n    }\n```\n\n----------------------------------------\n\nTITLE: Checking for Generated Conversions in Laravel Media Library\nDESCRIPTION: Illustrates how to check if a specific conversion has been generated for a media item using the hasGeneratedConversion method provided by Laravel Media Library.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/retrieving-converted-images.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->getMedia('images')[0]->hasGeneratedConversion('thumb'); // returns true or false\n```\n\n----------------------------------------\n\nTITLE: Adding Existing Storage Disk Files to Laravel Media Library\nDESCRIPTION: Shows how to add a file that already exists on a storage disk to the media library using addMediaFromDisk method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/associating-files.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMediaFromDisk('/path/to/file', 's3')\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Using Different Filesystems for Media Storage in Laravel Media Library\nDESCRIPTION: Shows how to store files on different filesystems. The example adds a small file to the 'downloads' collection on the local filesystem and a big file to the same collection but on the S3 filesystem.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/introduction.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($smallFile)->toMediaCollection('downloads', 'local');\n$yourModel->addMedia($bigFile)->toMediaCollection('downloads', 's3');\n```\n\n----------------------------------------\n\nTITLE: Adding Media to Collection on Cloud Disk in Laravel Media Library\nDESCRIPTION: Method to add media to a collection and store it on the cloud disk configured in the filesystems.php config.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n/**\n * @param string $collectionName\n *\n * @return \\Spatie\\MediaLibrary\\MediaCollections\\Models\\Media\n *\n * @throws FileCannotBeAdded\n * @throws \\Spatie\\MediaLibrary\\MediaCollections\\Exceptions\\FileCannotBeAdded\n */\npublic function toMediaCollectionOnCloudDisk(string $collectionName = 'default')\n```\n\n----------------------------------------\n\nTITLE: Retrieving Media from Collections in Laravel Media Library\nDESCRIPTION: This snippet shows how to retrieve all media instances from specific collections. It demonstrates accessing files from both 'images' and 'downloads' collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/simple-media-collections.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n// will return media instances for all files in the images collection\n$yourModel->getMedia('images');\n\n// will returns media instance for all files in the downloads collection\n$yourModel->getMedia('downloads');\n```\n\n----------------------------------------\n\nTITLE: Defining Single File Media Collections\nDESCRIPTION: This code shows how to create a media collection that only maintains one file at a time using the singleFile method, which is useful for user avatars and similar scenarios.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_12\n\nLANGUAGE: php\nCODE:\n```\n// in your model\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('avatar')\n        ->singleFile();\n}\n```\n\n----------------------------------------\n\nTITLE: Simple Media Download Using Responsable Interface\nDESCRIPTION: Demonstrates how to download a file by returning a Media object directly, leveraging Laravel's Responsable interface. This is the simplest way to implement file downloads.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/downloading-media/downloading-a-single-file.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\nclass DownloadMediaController\n{\n   public function show(Media $mediaItem)\n   {\n      return $mediaItem;\n   }\n}\n```\n\n----------------------------------------\n\nTITLE: Verbose Media Download with Response Control\nDESCRIPTION: Shows a more detailed approach to downloading files using Laravel's response helper, providing more control over the download process including custom filename specification.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/downloading-media/downloading-a-single-file.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\nclass DownloadMediaController\n{\n   public function show(Media $mediaItem)\n   {\n       return response()->download($mediaItem->getPath(), $mediaItem->file_name);\n   }\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting Media in Laravel Media Library\nDESCRIPTION: This snippet shows how to delete individual media items, models with associated media, and how to clear media collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_7\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems[0]->delete();\n\n$yourModel->delete(); // all associated files will be deleted as well\n\n$yourModel->deletePreservingMedia(); // all associated files will be preserved \n\n$yourModel->clearMediaCollection(); // all media in the \"default\" collection will be deleted\n\n$yourModel->clearMediaCollection('images'); // all media in the images collection will be deleted\n\n$yourModel->clearMediaCollectionExcept('images', $yourModel->getFirstMedia()); // This will remove all associated media in the 'images' collection except the first media\n```\n\n----------------------------------------\n\nTITLE: Adding Media with Responsive Images in PHP\nDESCRIPTION: Demonstrates how to add an image to the media library with responsive image support using the withResponsiveImages() method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($yourImageFile)\n   ->withResponsiveImages()\n   // or if you want to add it based on a condition then use\n   ->withResponsiveImagesIf($condition) // accepts \"closure or boolean\"\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Basic File Streaming with Laravel MediaStream\nDESCRIPTION: Demonstrates how to use MediaStream to create a zip stream of multiple files on the fly. This approach allows for efficient streaming of large files without creating temporary zip archives on the server.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/downloading-media/downloading-multiple-files.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\Support\\MediaStream;\n\nclass DownloadMediaController\n{\n   public function download(YourModel $yourModel)\n   {\n        // Let's get some media.\n        $downloads = $yourModel->getMedia('downloads');\n\n        // Download the files associated with the media in a streamed way.\n        // No prob if your files are very large.\n        return MediaStream::create('my-files.zip')->addMedia($downloads);\n   }\n}\n```\n\n----------------------------------------\n\nTITLE: Storing Media on a Custom Disk in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to save a media file to a specific disk (in this case 's3') using the toMediaCollection method. The second parameter specifies the disk name where the file should be stored.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/working-with-multiple-filesystems.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n// Will be stored on a disk named s3\n$yourModel->addMedia($pathToAFile)->toMediaCollection('images', 's3');\n```\n\n----------------------------------------\n\nTITLE: Restricting Files by MIME Type in Media Collections\nDESCRIPTION: This snippet demonstrates how to use the acceptsMimeTypes method to restrict files in a collection to specific MIME types, in this case only accepting image/jpeg.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_8\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\File;\n\n// ...\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('only-jpegs-please')\n        ->acceptsMimeTypes(['image/jpeg']);\n}\n```\n\n----------------------------------------\n\nTITLE: Displaying Responsive Images in Blade\nDESCRIPTION: Shows how to output a responsive image in a Blade view by simply echoing a Media object.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n{{-- in a Blade view --}}\n<h1>My responsive images</h1>\n{{ $yourModel->getFirstMedia() }}\n```\n\n----------------------------------------\n\nTITLE: Retrieving URLs and Paths for Converted Images in Laravel\nDESCRIPTION: Demonstrates how to get URLs and paths for converted images using various methods provided by Laravel Media Library. It includes examples for retrieving regular URLs, temporary S3 URLs, and absolute paths.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/retrieving-converted-images.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems = $yourModel->getMedia('images');\n$mediaItems[0]->getUrl('thumb');\n$mediaItems[0]->getPath('thumb'); // Absolute path on its disk\n$mediaItems[0]->getTemporaryUrl(Carbon::now()->addMinutes(5), 'thumb'); // Temporary S3 url\n```\n\n----------------------------------------\n\nTITLE: Defining Media Conversion with Responsive Images in Laravel\nDESCRIPTION: This snippet shows how to define a media conversion that includes responsive images. It creates a greyscale conversion with reduced quality and enables responsive image generation.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\nnamespace App;\n\nuse Spatie\\MediaLibrary\\HasMedia;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Spatie\\MediaLibrary\\InteractsWithMedia;\n\nclass YourModel extends Model implements HasMedia\n{\n    use InteractsWithMedia;\n\n    /**\n     * Register the conversions that should be performed.\n     *\n     * @return array\n     */\n    public function registerMediaConversions(Media $media = null): void\n    {\n        $this\n            ->addMediaConversion('my-conversion')\n            ->greyscale()\n            ->quality(80)\n            ->withResponsiveImages();\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Regenerating all images in Laravel Media Library\nDESCRIPTION: Basic artisan command to regenerate all images in the Media Library. This will regenerate all conversions for all models across the application.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate\n```\n\n----------------------------------------\n\nTITLE: Defining Fallback URLs and Paths for Media Collections\nDESCRIPTION: This code shows how to set fallback URLs and paths for media collections when no media exists, including per-conversion fallbacks.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\File;\n...\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('avatars')\n        ->useFallbackUrl('/images/anonymous-user.jpg')\n        ->useFallbackPath(public_path('/images/anonymous-user.jpg'));\n}\n```\n\n----------------------------------------\n\nTITLE: Using Convenience Methods for First Media Item in Laravel\nDESCRIPTION: Shows the usage of convenience methods provided by Laravel Media Library to easily retrieve URLs and paths for the first media item in a collection. It includes examples for regular URLs, temporary S3 URLs, and absolute paths.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/retrieving-converted-images.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$urlToFirstListImage = $yourModel->getFirstMediaUrl('images', 'thumb');\n$urlToFirstTemporaryListImage = $yourModel->getFirstTemporaryUrl(Carbon::now()->addMinutes(5), 'images', 'thumb');\n$fullPathToFirstListImage = $yourModel->getFirstMediaPath('images', 'thumb');\n```\n\n----------------------------------------\n\nTITLE: Using Multiple Media from Request in Laravel Media Library\nDESCRIPTION: Example of how to use the addMultipleMediaFromRequest method to add multiple files and apply middle methods to each FileAdder.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$fileAdders = $this->model\n    ->addMultipleMediaFromRequest(['file-one', 'file-two'])\n    ->each(function ($fileAdder) {\n        $fileAdder->toMediaCollection();\n    });\n```\n\n----------------------------------------\n\nTITLE: Using Convenience Methods for Media Retrieval in Laravel\nDESCRIPTION: This snippet demonstrates the use of convenience methods getFirstMedia and getFirstMediaUrl for retrieving the first media item and its URL.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$media = $yourModel->getFirstMedia();\n$url = $yourModel->getFirstMediaUrl();\n```\n\n----------------------------------------\n\nTITLE: Replacing Files in a Single File Collection\nDESCRIPTION: This example shows how adding a new file to a single-file collection automatically removes any previous files in that collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_14\n\nLANGUAGE: php\nCODE:\n```\n// this will remove other files in the collection\n$yourModel->addMedia($anotherPathToImage)->toMediaCollection('avatar');\n$yourModel->getMedia('avatar')->count(); // returns 1\n$yourModel->getFirstMediaUrl('avatar'); // will return an URL to the `$anotherPathToImage` file\n```\n\n----------------------------------------\n\nTITLE: Updating Manipulations on Existing Media in Laravel MediaLibrary\nDESCRIPTION: Shows how to modify manipulations for an existing media item and trigger regeneration of conversions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/storing-media-specific-manipulations.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems = $yourModel->getMedia('images');\n$mediaItems[0]->manipulations = [\n   'thumb' => ['orientation' => '90'],\n];\n\n// This will cause the thumb conversions to be regenerated.\n$mediaItems[0]->save();\n```\n\n----------------------------------------\n\nTITLE: Accessing Original and Converted Media Paths and URLs\nDESCRIPTION: Example showing how to retrieve file paths and URLs for both original and converted media. This demonstrates accessing the thumbnail conversion created earlier.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$media->getPath();  // the path to the where the original image is stored\n$media->getPath('thumb'); // the path to the converted image with dimensions 368x232\n\n$media->getUrl();  // the url to the where the original image is stored\n$media->getUrl('thumb'); // the url to the converted image with dimensions 368x232\n```\n\n----------------------------------------\n\nTITLE: Downloading Media Files Using toResponse in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to use the toResponse method to output a media file as a downloadable attachment. The browser will be instructed to download the file rather than display it inline.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/outputting-media.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Illuminate\\Http\\Request;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\npublic function download(Request $request, Media $media)\n{\n    return $media->toResponse($request);\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Media to a Disk-Specific Collection\nDESCRIPTION: These examples show how to add files to a collection with a default disk, and how to override the default disk when needed.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_10\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($pathToFile)->toMediaCollection('big-files');\n```\n\n----------------------------------------\n\nTITLE: Clearing Media Collections in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to remove all media files from a specific collection using the clearMediaCollection method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/simple-media-collections.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->clearMediaCollection('images');\n```\n\n----------------------------------------\n\nTITLE: Adding Media to a Single File Collection\nDESCRIPTION: These examples demonstrate the behavior of single file collections, showing how adding files replaces previous ones.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_13\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($pathToImage)->toMediaCollection('avatar');\n$yourModel->getMedia('avatar')->count(); // returns 1\n$yourModel->getFirstMediaUrl('avatar'); // will return an URL to the `$pathToImage` file\n```\n\n----------------------------------------\n\nTITLE: Registering Media Conversions for Thumbnails\nDESCRIPTION: This snippet demonstrates how to add a media conversion for generating preview thumbnails that will be used by the Collection component. It creates a 300x300 contained thumbnail that processes immediately without queuing.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/preparing-your-model.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\Image\\Enums\\Fit;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\npublic function registerMediaConversions(?Media $media = null): void\n{\n    $this\n        ->addMediaConversion('preview')\n        ->fit(Fit::Contain, 300, 300)\n        ->nonQueued();\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Limited Size Media Collections\nDESCRIPTION: This code demonstrates how to create a collection that automatically limits the number of files it contains using the onlyKeepLatest method, keeping only the most recent files.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_15\n\nLANGUAGE: php\nCODE:\n```\n// in your model\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('limited-collection')\n        ->onlyKeepLatest(3);\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Optimization for Media Conversion in Laravel\nDESCRIPTION: This code snippet demonstrates how to disable optimization for a specific media conversion by using the nonOptimized() method. It creates a 'thumb' conversion with specific width, height, and sharpness settings.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/optimizing-converted-images.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\npublic function registerMediaConversions(Media $media = null): void\n{\n   $this->addMediaConversion('thumb')\n      ->width(368)\n      ->height(232)\n      ->sharpen(10)\n      ->nonOptimized();\n}\n```\n\n----------------------------------------\n\nTITLE: Fallback Mechanism for Unavailable Conversions in Laravel\nDESCRIPTION: Demonstrates the use of methods that provide a fallback mechanism when specific conversions are not available. These methods attempt to retrieve URLs or paths for a list of conversions, falling back to the original file if none are available.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/retrieving-converted-images.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems = $yourModel->getMedia('images');\n$mediaItems[0]->getAvailableUrl(['small', 'medium', 'large']);\n$mediaItems[0]->getAvailableFullUrl(['small', 'medium', 'large']);\n$mediaItems[0]->getAvailablePath(['small', 'medium', 'large']);\n```\n\n----------------------------------------\n\nTITLE: Installing Laravel Media Library via Composer\nDESCRIPTION: Command to install the base Laravel Media Library package using Composer package manager.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncomposer require \"spatie/laravel-medialibrary\"\n```\n\n----------------------------------------\n\nTITLE: Copying Media Items Between Models in Laravel MediaLibrary\nDESCRIPTION: Shows how to copy a media item from one model to another using the copy() method. Creates a duplicate of the media item in a new model with specified collection and storage disk.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/moving-media.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = $model->getMedia()->first();\n\n$copiedMediaItem = $mediaItem->copy($anotherModel, 'new-collection', 's3');\n```\n\n----------------------------------------\n\nTITLE: Filtering Media Collections by Custom Properties in Laravel Media Library\nDESCRIPTION: Demonstrates how to filter a media collection using custom properties, either with a simple key-value array or with a callback function for more control.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$filteredCollection = $this->model->getMedia('images', ['primaryColor' => 'red']);\n\n$filteredCollection = $this->model->getMedia('images', function (Media $media) {\n    return isset($media->custom_properties['primaryColor']);\n});\n\n```\n\n----------------------------------------\n\nTITLE: Retrieving Custom Properties with Default Values in Laravel Media Library\nDESCRIPTION: Shows how to provide a default value when retrieving a custom property that might not exist.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem->getCustomProperty('isPublic', false);\n```\n\n----------------------------------------\n\nTITLE: Publishing Media Library Migrations\nDESCRIPTION: Artisan command to publish the migration files required for creating the media table in the database.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan vendor:publish --provider=\"Spatie\\MediaLibrary\\MediaLibraryServiceProvider\" --tag=\"medialibrary-migrations\"\n```\n\n----------------------------------------\n\nTITLE: Selectively Clearing Media Collections in Laravel Media Library\nDESCRIPTION: This snippet shows how to remove specific media items from a collection while preserving others using the clearMediaCollectionExcept method. The example preserves the first media item while removing all others.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/simple-media-collections.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->clearMediaCollectionExcept('images', $yourModel->getFirstMedia()); // This will remove all associated media in the 'images' collection except the first media\n```\n\n----------------------------------------\n\nTITLE: Persisting Custom Property Changes in Laravel Media Library\nDESCRIPTION: Shows how to save custom property changes when they are made outside the process of adding media.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = Media::find($id);\n\n$mediaItem->setCustomProperty('name', 'value'); // adds a new custom property or updates an existing one\n$mediaItem->forgetCustomProperty('name'); // removes a custom property\n\n$mediaItem->save();\n```\n\n----------------------------------------\n\nTITLE: Setting Per-Conversion Fallbacks for Media Collections\nDESCRIPTION: This snippet shows how to define different fallback URLs and paths for each media conversion in a collection, ensuring correct image sizes when no media exists.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\n// ...\n\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('avatar')\n        ->useFallbackUrl('/default_avatar.jpg')\n        ->useFallbackUrl('/default_avatar_thumb.jpg', 'thumb')\n        ->useFallbackPath(public_path('/default_avatar.jpg'))\n        ->useFallbackPath(public_path('/default_avatar_thumb.jpg'), 'thumb')\n        ->registerMediaConversions(function (Media $media) {\n            $this\n                ->addMediaConversion('thumb')\n                ->width(50)\n                ->height(50);\n                \n            $this\n                ->addMediaConversion('thumb_2')\n                ->width(100)\n                ->height(100);\n        });\n}\n```\n\n----------------------------------------\n\nTITLE: Publishing Laravel Media Library Config File\nDESCRIPTION: This Artisan command publishes the configuration file for the Laravel Media Library package. It allows customization of the package's settings.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan vendor:publish --provider=\"Spatie\\MediaLibrary\\MediaLibraryServiceProvider\" --tag=\"medialibrary-config\"\n```\n\n----------------------------------------\n\nTITLE: Working with Custom Properties in Laravel Media Library\nDESCRIPTION: Shows various methods to check, retrieve, set, and remove custom properties from a media item.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem->hasCustomProperty('primaryColor'); // returns true\n$mediaItem->getCustomProperty('primaryColor'); // returns 'red'\n\n$mediaItem->hasCustomProperty('does not exist'); // returns false\n$mediaItem->getCustomProperty('does not exist'); // returns null\n\n$mediaItem->setCustomProperty('name', 'value'); // adds a new custom property\n$mediaItem->forgetCustomProperty('name'); // removes a custom property\n```\n\n----------------------------------------\n\nTITLE: Inline Rendering Media Files Using toInlineResponse in Laravel Media Library\nDESCRIPTION: This snippet shows how to use the toInlineResponse method to output a media file for inline rendering in the browser. The Content-Disposition is set to inline, allowing the browser to display the file rather than download it.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/outputting-media.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nuse Illuminate\\Http\\Request;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\npublic function download(Request $request, Media $media)\n{\n    return $media->toInlineResponse($request);\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Media File Properties in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to access various properties of media files, such as size and MIME type.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems[0]->size; // Returns the size in bytes\n$mediaItems[0]->human_readable_size; // Returns the size in a human readable format (eg. 1,5 MB)\n\n$mediaItems[0]->mime_type; // Returns the mime type\n```\n\n----------------------------------------\n\nTITLE: Moving Media Items Between Models in Laravel MediaLibrary\nDESCRIPTION: Demonstrates how to move a media item from one model to another using the move() method. The method transfers the media item to a new model with specified collection and storage disk, preserving name and custom properties while performing any defined conversions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/moving-media.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = $model->getMedia()->first();\n\n$movedMediaItem = $mediaItem->move($anotherModel, 'new-collection', 's3');\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Collection-Specific Conversions\nDESCRIPTION: Example showing how the performOnCollections method affects media conversions. The thumbnail is only generated for the 'images' collection, not for other collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n// a thumbnail will be generated for this media item\n$media = $yourModel->addMedia($pathToImage)->toMediaCollection('images');\n$media->getUrl('thumb') // the url to the thumbnail\n\n//but not for this one\n$media = $yourModel->addMedia($pathToImage)->toMediaCollection('other collection');\n$media->getUrl('thumb') // returns ''\n```\n\n----------------------------------------\n\nTITLE: Configuring Disks for Media Collections and Conversions\nDESCRIPTION: Example showing how to specify different storage disks for original media and conversions. Original files are stored on s3 while conversions are stored on the public disk.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_7\n\nLANGUAGE: php\nCODE:\n```\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('big-files')\n        ->useDisk('s3')\n        ->storeConversionsOnDisk('public');\n}\n```\n\n----------------------------------------\n\nTITLE: Overriding Default Disk for Media Collection\nDESCRIPTION: This example shows how to override the default disk when adding media to a collection by specifying an alternative disk as the second parameter.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_11\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($pathToFile)->toMediaCollection('big-files', 'alternative-disk');\n```\n\n----------------------------------------\n\nTITLE: Rendering Original Image in Blade\nDESCRIPTION: This snippet demonstrates how to render the original image in a Blade view using the media instance.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_0\n\nLANGUAGE: blade\nCODE:\n```\nHere is the original image: {{ $media }}\n```\n\n----------------------------------------\n\nTITLE: Attaching Media Models in Laravel Mailable\nDESCRIPTION: This snippet demonstrates how to attach a Media model directly to a Laravel mail. It uses the Order model to retrieve an invoice media and attaches it to the mail.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/attaching-media-in-mails.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Mails;\n\nuse Illuminate\\Mail\\Mailable;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\nuse App\\Models\\Order;\n\nclass OrderConfirmationMail extends Mailable\n{\n    public function __construct(public Order $order)\n    {\n\n    }\n\n    public function build()\n    {\n        /** @var \\Spatie\\MediaLibrary\\MediaCollections\\Models\\Media $invoice */\n        $invoice = $this->order->getFirstMedia('invoice')\n    \n        return $this\n            ->view('invoice')\n            ->attach($invoice);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Specifying a Disk for Media Collections\nDESCRIPTION: This code demonstrates how to configure a media collection to store files on a specific disk by default, in this case using the 's3' disk for a 'big-files' collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_9\n\nLANGUAGE: php\nCODE:\n```\n// in your model\n\npublic function registerMediaCollections(): void\n{\n    $this\n       ->addMediaCollection('big-files')\n       ->useDisk('s3');\n}\n```\n\n----------------------------------------\n\nTITLE: Retrieving Fallback Media URLs Example\nDESCRIPTION: This example shows how to retrieve media URLs from collections with fallbacks, demonstrating how different conversions use their specific fallback paths.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->getFirstMediaUrl('avatar'); // default_avatar.jpg\n$yourModel->getFirstMediaUrl('avatar', 'thumb'); // default_avatar_thumb.jpg\n$yourModel->getFirstMediaUrl('avatar', 'thumb_2'); // default_avatar.jpg\n\n// ...\n\n$yourModel->getFirstMediaPath('avatar'); // .../default_avatar.jpg\n$yourModel->getFirstMediaPath('avatar', 'thumb'); // .../default_avatar_thumb.jpg\n$yourModel->getFirstMediaPath('avatar', 'thumb_2'); // .../default_avatar.jpg\n```\n\n----------------------------------------\n\nTITLE: Rendering Converted Image in Blade\nDESCRIPTION: This snippet shows how to render a converted image in a Blade view using the 'conversion' method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_1\n\nLANGUAGE: blade\nCODE:\n```\nHere is the converted image: {{ $media->conversion('thumb') }}\n```\n\n----------------------------------------\n\nTITLE: Using Media Conversions as Attachments in Laravel Mailable\nDESCRIPTION: This snippet shows how to use media conversions as attachments in a Laravel mail. It retrieves a media item from a BlogPost model, creates a thumbnail conversion attachment, and attaches it to the mail.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/attaching-media-in-mails.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Mails;\n\nuse Illuminate\\Mail\\Mailable;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\nuse App\\Models\\BlogPost;\n\nclass BlogPostThumbnailMail extends Mailable\n{\n    public function __construct(public BlogPost $blogPost)\n    {\n\n    }\n\n    public function build()\n    {\n        /** @var \\Spatie\\MediaLibrary\\MediaCollections\\Models\\Media $mediaItem */\n        $mediaItem = $this->blogPost->getFirstMedia();\n        \n        // pass the conversion name\n        $thumbnailAttachment = $mediaItem->mailAttachment('thumbnail');\n    \n        return $this\n            ->view('mails/blogpostThumbnail')\n            ->attach($thumbnailAttachment);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Extracting Video Frame at Specific Second for Thumbnail\nDESCRIPTION: This snippet shows how to configure a video thumbnail conversion that extracts a frame at a specific second in the video. It sets dimensions and limits the conversion to the 'videos' collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/using-image-generators.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$this->addMediaConversion('thumb')\n     ->width(368)\n     ->height(232)\n     ->extractVideoFrameAtSecond(20)\n     ->performOnCollections('videos');\n```\n\n----------------------------------------\n\nTITLE: Storing Media Conversions on a Separate Disk in Laravel Media Library\nDESCRIPTION: This code shows how to store the original media file and its conversions on different disks. The original file is saved on the 'local' disk while any image conversions are stored on 'S3'.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/working-with-multiple-filesystems.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$media = $yourModel\n   ->addMedia($pathToImage)\n   ->storingConversionsOnDisk('s3')\n   ->toMediaCollection('images', 'local');\n```\n\n----------------------------------------\n\nTITLE: Shorthand for Rendering Converted Image in Blade\nDESCRIPTION: This snippet demonstrates a shorthand method to render a converted image in a Blade view.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_2\n\nLANGUAGE: blade\nCODE:\n```\nHere is the converted image: {{ $media('thumb') }}\n```\n\n----------------------------------------\n\nTITLE: Adding Media with Specific Manipulations in Laravel MediaLibrary\nDESCRIPTION: Demonstrates how to add media to a model while specifying custom manipulations like image rotation for specific conversions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/storing-media-specific-manipulations.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->withManipulations([\n      'thumb' => ['orientation' => '90'],\n   ]);\n```\n\n----------------------------------------\n\nTITLE: Defining Media Conversions for Videos in Laravel Medialibrary\nDESCRIPTION: This snippet demonstrates how to define a thumbnail conversion for video files. It specifies dimensions and restricts the conversion to the 'videos' collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/using-image-generators.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$this->addMediaConversion('thumb')\n     ->width(368)\n     ->height(232)\n     ->performOnCollections('videos');\n```\n\n----------------------------------------\n\nTITLE: Adding Media to a Restricted Collection\nDESCRIPTION: These examples show what happens when adding different file types to a collection that only accepts JPEGs - one succeeds and one throws an exception.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia('beautiful.jpg')->toMediaCollection('only-jpegs-please');\n```\n\n----------------------------------------\n\nTITLE: Adding Attributes to Rendered Image in Blade\nDESCRIPTION: This snippet shows how to add extra attributes, such as classes, to the rendered image in a Blade view.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_3\n\nLANGUAGE: blade\nCODE:\n```\nHere is the image with some attributes: {{ $media->img()->attributes(['class' => 'my-class']) }}\n```\n\n----------------------------------------\n\nTITLE: Using Wildcard Manipulations in Laravel MediaLibrary\nDESCRIPTION: Shows how to use wildcard (*) to apply manipulations to all conversions of a media item.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/storing-media-specific-manipulations.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->withManipulations([\n      '*' => ['orientation' => '90'],\n   ]);\n```\n\n----------------------------------------\n\nTITLE: Setting PDF Page Number for Conversions in Laravel Medialibrary\nDESCRIPTION: This code demonstrates how to specify which page of a PDF should be used for generating the thumbnail conversion. If not specified, the first page is used by default.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/using-image-generators.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$this->addMediaConversion('thumb')\n     ->width(368)\n     ->height(232)\n     ->pdfPageNumber(2);\n```\n\n----------------------------------------\n\nTITLE: Adding Media from Base64 in Laravel Media Library\nDESCRIPTION: Method to add a base64 encoded file to the media library. Allows specifying allowed MIME types.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n/**\n * Add a base64 encoded file to the media library.\n *\n * @param string $base64data\n * @param string|array ...$allowedMimeTypes\n *\n * @throws InvalidBase64Data\n * @throws \\Spatie\\MediaLibrary\\MediaCollections\\Exceptions\\FileCannotBeAdded\n *\n * @return \\Spatie\\MediaLibrary\\MediaCollections\\FileAdder\n */\n public function addMediaFromBase64(string $base64data, ...$allowedMimeTypes): FileAdder\n```\n\n----------------------------------------\n\nTITLE: Accessing Multiple Media Conversions\nDESCRIPTION: Example showing how to retrieve URLs for different media conversions. This accesses the thumbnail and sepia-bordered versions of an image.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$media->getUrl('thumb') // the url to the thumbnail\n$media->getUrl('old-picture') // the url to the sepia, bordered version\n```\n\n----------------------------------------\n\nTITLE: Using ZIP File Folder Special Custom Properties in Laravel Media Library\nDESCRIPTION: Shows how to use the special 'zip_filename_prefix' custom property to store media in subfolders when creating ZIP exports.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_6\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = Media::find($id);\n\n$mediaItem->setCustomProperty('zip_filename_prefix', 'folder/subfolder/'); // stores $mediaItem in Subfolder\n\n$mediaItem->save();\n\n$mediaStream =  MediaStream::create('export.zip');\n$mediaStream->addMedia($mediaItem);\n```\n\n----------------------------------------\n\nTITLE: Changing File Names in Laravel Media Library\nDESCRIPTION: This snippet demonstrates how to change the file name of a media item, both after it's been added and during the addition process.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$mediaItems[0]->file_name = 'newFileName.jpg';\n$mediaItems[0]->save(); // Saving will also rename the file on the filesystem.\n\n$yourModel\n   ->addMedia($pathToFile)\n   ->usingFileName('otherFileName.txt')\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Modifying Media Names in Laravel Media Library\nDESCRIPTION: This snippet shows how to change the name of a media item, both after it's been added and during the addition process.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\necho $mediaItems[0]->name; // Display the name\n\n$mediaItems[0]->name = 'new name';\n$mediaItems[0]->save(); // The new name gets saved.\n\n$yourModel\n   ->addMedia($pathToFile)\n   ->usingName('new name')\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Performing Conversions on Specific Collections\nDESCRIPTION: Example showing how to limit media conversions to specific collections. This conversion will only be performed on the 'images' and 'downloads' collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\n// in your model\npublic function registerMediaConversions(?Media $media = null): void\n{\n    $this->addMediaConversion('thumb')\n          ->performOnCollections('images', 'downloads')\n          ->width(368)\n          ->height(232);\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Default Disk Name in Laravel Media Library Config\nDESCRIPTION: This snippet shows how to set the default disk name in the media-library config file to use a specific disk for all media storage.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_7\n\nLANGUAGE: php\nCODE:\n```\n// config/media-library.php\n\nreturn [\n    'disk_name' => 'media',\n\n    // ...\n];\n```\n\n----------------------------------------\n\nTITLE: Working with Nested Custom Properties in Laravel Media Library\nDESCRIPTION: Demonstrates how to use dot notation to work with nested custom properties in the media library.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = $yourModel\n    ->addMedia($pathToFile)\n    ->withCustomProperties([\n        'group' => ['primaryColor' => 'red']\n    ])\n    ->toMediaCollection();\n\n$mediaItem->hasCustomProperty('group.primaryColor'); // returns true\n$mediaItem->getCustomProperty('group.primaryColor'); // returns 'red'\n\n$mediaItem->hasCustomProperty('nested.does-not-exist'); // returns false\n$mediaItem->getCustomProperty('nested.does-not-exist'); // returns null\n```\n\n----------------------------------------\n\nTITLE: Creating Non-Queued Media Conversions\nDESCRIPTION: Example showing how to create synchronous conversions that are processed immediately rather than on a queue. The nonQueued method forces immediate processing.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_8\n\nLANGUAGE: php\nCODE:\n```\n// in your model\npublic function registerMediaConversions(?Media $media = null): void\n{\n    $this->addMediaConversion('thumb')\n            ->width(368)\n            ->height(232)\n            ->nonQueued();\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Media from URL with Laravel Media Library\nDESCRIPTION: Example showing how to add media to a model from a URL using the addMediaFromUrl method in Laravel Media Library. This is the basic usage pattern when downloading external media.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-media-downloader.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$url = 'http://medialibrary.spatie.be/assets/images/mountain.jpg';\n$yourModel\n   ->addMediaFromUrl($url)\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Passing Media to View in Laravel Controller\nDESCRIPTION: This snippet shows how to retrieve the first media item from a model and pass it to a view in a Laravel controller.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_8\n\nLANGUAGE: php\nCODE:\n```\n// in a controller\n\npublic function index()\n{\n    $media = $yourModel->getFirstMedia();\n\n    return view('my-view', compact('media'));\n}\n```\n\n----------------------------------------\n\nTITLE: HTML Image Tag with Srcset and Sizes Attributes\nDESCRIPTION: Shows an img element with both srcset and sizes attributes, allowing the browser to choose the best image based on screen size and pixel density.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<img src=\"large.jpg\"\n     srcset=\"large.jpg 2400w, medium.jpg 1200w, small.jpg 600w\"\n     sizes=\"(min-width: 1200px) 50vw,\n            100vw\">\n```\n\n----------------------------------------\n\nTITLE: Specifying Collections for Media Conversion in Laravel MediaLibrary\nDESCRIPTION: Method to specify which collections the conversion should be performed on. Allows targeting specific collections by name.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/defining-conversions.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n/*\n * Set the collection names on which this conversion must be performed.\n *\n * @param string $collectionNames,...\n */\npublic function performOnCollections($collectionNames): self\n```\n\n----------------------------------------\n\nTITLE: Creating Queued Media Conversions\nDESCRIPTION: Example showing how to explicitly queue conversions when the default is set to non-queued. The queued method forces conversion processing on a queue.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_9\n\nLANGUAGE: php\nCODE:\n```\n// in your model\npublic function registerMediaConversions(?Media $media = null): void\n{\n    $this->addMediaConversion('thumb')\n            ->width(368)\n            ->height(232)\n            ->queued();\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Conditional Classes to Rendered Image in Blade\nDESCRIPTION: This snippet demonstrates how to conditionally add classes to the rendered image using an array in a Blade view.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_4\n\nLANGUAGE: blade\nCODE:\n```\nHere is the image with some classes: {{ $media->img()->attributes(['class' => [\n    'my-class',\n    'my-other-class' => true,\n    'my-third-class' => false,\n]]) }}\n```\n\n----------------------------------------\n\nTITLE: Implementing Responsive Images with srcset and JavaScript in HTML\nDESCRIPTION: This snippet demonstrates how to implement responsive images with srcset attribute, sizes calculation, and a base64-encoded SVG placeholder. The JavaScript dynamically calculates the appropriate image size based on the actual width relative to the viewport.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/demo.md#2025-04-16_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<img style=\"margin-bottom: 2rem\" \n  srcset=\"../images/demo/responsive-images/2400.jpg 2400w,\n      ../images/demo/responsive-images/1200.jpg 1200w,\n      ../images/demo/responsive-images/600.jpg 600w,\n      ../images/demo/responsive-images/300.jpg 300w,\n      ../images/demo/responsive-images/150.jpg 150w,\n   data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj48c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDI0MDAgMTU4OSI+ICAgIDxpbWFnZSB3aWR0aD0iMjQwMCIgaGVpZ2h0PSIxNTg5IiB4bGluazpocmVmPSJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80UUFZUlhocFpnQUFTVWtxQUFnQUFBQUFBQUFBQUFBQUFQL3NBQkZFZFdOcmVRQUJBQVFBQUFBeUFBRC80UU9CYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3THdBOFAzaHdZV05yWlhRZ1ltVm5hVzQ5SXUrN3Z5SWdhV1E5SWxjMVRUQk5jRU5sYUdsSWVuSmxVM3BPVkdONmEyTTVaQ0kvUGlBOGVEcDRiWEJ0WlhSaElIaHRiRzV6T25nOUltRmtiMkpsT201ek9tMWxkR0V2SWlCNE9uaHRjSFJyUFNKQlpHOWlaU0JZVFZBZ1EyOXlaU0ExTGpZdFl6QTJOeUEzT1M0eE5UYzNORGNzSURJd01UVXZNRE12TXpBdE1qTTZOREE2TkRJZ0lDQWdJQ0FnSUNJK0lEeHlaR1k2VWtSR0lIaHRiRzV6T25Ka1pqMGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M4d01pOHlNaTF5WkdZdGMzbHVkR0Y0TFc1ekl5SStJRHh5WkdZNlJHVnpZM0pwY0hScGIyNGdjbVJtT21GaWIzVjBQU0lpSUhodGJHNXpPbmh0Y0UxTlBTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZiVzB2SWlCNGJXeHVjenB6ZEZKbFpqMGlhSFIwY0RvdkwyNXpMbUZrYjJKbExtTnZiUzk0WVhBdk1TNHdMM05VZVhCbEwxSmxjMjkxY21ObFVtVm1JeUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiWEJOVFRwUGNtbG5hVzVoYkVSdlkzVnRaVzUwU1VROUlqTkdNekJCT1RNeU9VSXhRekJHUlVNMk1EaEdOek5FTURVeU5ERTFOVEF4SWlCNGJYQk5UVHBFYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2pZMVFqSTFORVUwUkRKRVJURXhSVGM1TVRrM1JURXpPVEkyUlVGR09EaENJaUI0YlhCTlRUcEpibk4wWVc1alpVbEVQU0o0YlhBdWFXbGtPalkxUWpJMU5FVXpSREpFUlRFeFJUYzVNVGszUlRFek9USTJSVUZHT0RoQ0lpQjRiWEE2UTNKbFlYUnZjbFJ2YjJ3OUlrRmtiMkpsSUZCb2IzUnZjMmh2Y0NCRFF5QXlNREUxSUUxaFkybHVkRzl6YUNJK0lEeDRiWEJOVFRwRVpYSnBkbVZrUm5KdmJTQnpkRkpsWmpwcGJuTjBZVzVqWlVsRVBTSjRiWEF1YVdsa09qQmhNR1E0WVRCakxXWmlPVFF0TkdVd1ppMWlOMk01TFRjNVpqSmxaRFJoT1RFeE55SWdjM1JTWldZNlpHOWpkVzFsYm5SSlJEMGlZV1J2WW1VNlpHOWphV1E2Y0dodmRHOXphRzl3T21ZNVltSmtNVGRtTFRGaU5EY3RNVEUzWWkxaE5EVTVMVGc1Wm1NME9EZ3hORFEyWkNJdlBpQThMM0prWmpwRVpYTmpjbWx3ZEdsdmJqNGdQQzl5WkdZNlVrUkdQaUE4TDNnNmVHMXdiV1YwWVQ0Z1BEOTRjR0ZqYTJWMElHVnVaRDBpY2lJL1B2L3VBQTVCWkc5aVpRQmt3QUFBQUFILzJ3Q0VBQWdHQmdZR0JnZ0dCZ2dNQ0FjSURBNEtDQWdLRGhBTkRRNE5EUkFSREE0TkRRNE1FUThTRXhRVEVnOFlHQm9hR0JnaklpSWlJeWNuSnljbkp5Y25KeWNCQ1FnSUNRb0pDd2tKQ3c0TERRc09FUTRPRGc0UkV3ME5EZzBORXhnUkR3OFBEeEVZRmhjVUZCUVhGaG9hR0JnYUdpRWhJQ0VoSnljbkp5Y25KeWNuSi8vQUFCRUlBQlVBSUFNQklnQUNFUUVERVFIL3hBQm5BQUFCQkFNQUFBQUFBQUFBQUFBQUFBQUFBUVFHQndJREJRRUFBd0VBQUFBQUFBQUFBQUFBQUFBQUFBRUNBeEFBQVFNQ0J3RUFBQUFBQUFBQUFBQUFBQUVDQXdRRkVTRXhRUkl5QmhNUkFRRUFBZ01BQUFBQUFBQUFBQUFBQUFBQlFRSlJnWkgvMmdBTUF3RUFBaEVERVFBL0FJalEzVGc1TXlYV3owRFdZWXVLd2plNU5COURWeU0wVXcyMG1FeGROUDZlTkdkaHJXZW9aczRxMWx5bVJPeW1FbHdsZHE1U1pyZVRybFIvTTNweDJBQXZhdkM1aVpnQTRILy8yUT09Ij4gICAgPC9pbWFnZT48L3N2Zz4= 32w\"\n  sizes=\"1px\" \n  width=\"2400\"        \n  src=\"../images/demo/responsive-images/2400.jpg\"\n  oonload=\"if(!(width=this.getBoundingClientRect().width))return;this.onload=null;this.sizes='(min-width: '+window.innerWidth+'px) '+Math.ceil(width/window.innerWidth*100)+'vw, 100vw';\"\n  onload=\"if(!(width=this.getBoundingClientRect().width))return;this.onload=null;this.sizes=Math.ceil(width/window.innerWidth*100)+'vw';\">\n```\n\n----------------------------------------\n\nTITLE: Setting Queue Status for Media Conversion in Laravel MediaLibrary\nDESCRIPTION: Method to mark a conversion as one that should be processed in a queue for background processing.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/defining-conversions.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n/*\n * Mark this conversion as one that should be queued.\n */\n public function queued(): self\n```\n\n----------------------------------------\n\nTITLE: Using Model Properties in Media Conversions\nDESCRIPTION: Example showing how to use model properties in conversion definitions by enabling model instance registration. This allows dynamic conversion dimensions based on model attributes.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_10\n\nLANGUAGE: php\nCODE:\n```\n// in your model\npublic $registerMediaConversionsUsingModelInstance = true;\n\npublic function registerMediaConversions(?Media $media = null): void\n{\n    $this->addMediaConversion('thumb')\n          ->performOnCollections('images', 'downloads')\n          ->width($this->width)\n          ->height($this->height);\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Conditional Styles to Rendered Image in Blade\nDESCRIPTION: This snippet shows how to conditionally add styles to the rendered image using an array in a Blade view.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_5\n\nLANGUAGE: blade\nCODE:\n```\nHere is the image with some styles: {{ $media->img()->attributes(['style' => [\n    'my-style: value',\n    'my-other-style: value',\n    'my-third-style: value' => true,\n]]) }}\n```\n\n----------------------------------------\n\nTITLE: Customizing Media Model Database Connection in Laravel\nDESCRIPTION: This snippet demonstrates how to create a custom Media model that extends the base Media model from the Laravel Media Library package. It shows how to set a custom database connection for the Media model.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/customising-database-connections.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n<?php\n\nnamespace App\\Models;\n\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media as BaseMedia;\n\nclass Media extends BaseMedia {\n\n    protected $connection = 'tenant';\n\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Queue for Media Conversion in Laravel MediaLibrary\nDESCRIPTION: Method to mark a conversion as one that should not be processed in a queue, ensuring synchronous processing.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/defining-conversions.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\n/*\n * Mark this conversion as one that should not be queued.\n */\npublic function nonQueued(): self\n```\n\n----------------------------------------\n\nTITLE: Reordering Media Collections with setNewOrder Method in Laravel Medialibrary\nDESCRIPTION: This code demonstrates how to reorder media items by specifying an array of media IDs. The first ID in the array will get the starting order (defaults to 1), with each subsequent ID incrementing the order value. A custom starting order number can be optionally provided.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/ordering-media.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n /**\n  * This function reorders the records: the record with the first id in the array\n  * will get the starting order (defaults to 1), the record with the second id\n  * will get the starting order + 1, and so on.\n  *\n  * A starting order number can be optionally supplied.\n  *\n  * @param array $ids\n  * @param int $startOrder\n  */\nMedia::setNewOrder([11, 2, 26]);\n```\n\n----------------------------------------\n\nTITLE: Implementation of DefaultFileNamer in Laravel Media Library\nDESCRIPTION: The default implementation of the FileNamer class in Laravel Media Library. It provides methods for naming original files, conversion files, and responsive files. Custom FileNamer classes must extend this class and implement these three methods.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/naming-files.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nnamespace Spatie\\MediaLibrary\\Support\\FileNamer;\n\nuse Spatie\\MediaLibrary\\Conversions\\Conversion;\n\nclass DefaultFileNamer extends FileNamer\n{\n    public function originalFileName(string $fileName): string\n    {\n        return pathinfo($fileName, PATHINFO_FILENAME);\n    }\n\n    public function conversionFileName(string $fileName, Conversion $conversion): string\n    {\n        $strippedFileName = pathinfo($fileName, PATHINFO_FILENAME);\n\n        return \"{$strippedFileName}-{$conversion->getName()}\";\n    }\n\n    public function responsiveFileName(string $fileName): string\n    {\n        return pathinfo($fileName, PATHINFO_FILENAME);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Customizing Parent Model Database Connection in Laravel Media Library\nDESCRIPTION: This example shows how to set a custom database connection for a parent model (User) that implements the HasMedia interface and uses the InteractsWithMedia trait from the Laravel Media Library package.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/customising-database-connections.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n<?php\n\nnamespace App\\Models;\n\nuse Spatie\\MediaLibrary\\HasMedia;\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Spatie\\MediaLibrary\\InteractsWithMedia;\n\nclass User extends Model implements HasMedia {\n\n    use InteractsWithMedia;\n\n    protected $connection = 'tenant';\n\n}\n```\n\n----------------------------------------\n\nTITLE: Extending Base Media Model in Laravel MediaLibrary\nDESCRIPTION: This code shows how to create a custom Media model by extending the base Media class from Spatie's MediaLibrary package. This allows adding custom methods and relationships to the Media model.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-your-own-model.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Models;\n\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media as BaseMedia;\n\nclass Media extends BaseMedia\n{\n...\n\n```\n\n----------------------------------------\n\nTITLE: Manually Setting Media Order in Laravel Medialibrary\nDESCRIPTION: This snippet shows how to manually change the order of a media item by directly setting its order_column value and saving the model. This provides more fine-grained control over the ordering process.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/ordering-media.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$media->order_column = 10;\n\n$media->save();\n```\n\n----------------------------------------\n\nTITLE: Default Directory Structure Example for Laravel Media Library\nDESCRIPTION: Example showing the default folder structure used by Laravel Media Library, where each media item is stored in its own ID-based directory with a conversions subdirectory for transformed images.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-directory-structure.md#2025-04-16_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nmedia\n---- 1\n------ file.jpg\n------ conversions\n--------- small.jpg\n--------- medium.jpg\n--------- big.jpg\n---- 2\n------ file.jpg\n------ conversions\n--------- small.jpg\n--------- medium.jpg\n--------- big.jpg\n...\n```\n\n----------------------------------------\n\nTITLE: Implementing a Custom Media Downloader with cURL in PHP\nDESCRIPTION: A custom implementation of the Downloader interface that uses cURL with custom headers to download media files. It handles timeouts, request failures, and returns a temporary file location for the downloaded content.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-media-downloader.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\Downloaders\\Downloader;\nuse Spatie\\MediaLibrary\\MediaCollections\\Exceptions\\UnreachableUrl;\n\nclass CustomDownloader implements Downloader {\n\n    public function getTempFile($url){\n        $temporaryFile = tempnam(sys_get_temp_dir(), 'media-library');\n        $fh = fopen($temporaryFile, 'w');\n\n        $curl = curl_init($url);\n        $options = [\n            CURLOPT_RETURNTRANSFER  => true,\n            CURLOPT_FAILONERROR     => true,\n            CURLOPT_FILE            => $fh,\n            CURLOPT_TIMEOUT         => 35,\n        ];\n        $headers = [\n            'Content-Type: image/*',\n            'User-Agent: Mozilla/5.0 (X11; Ubuntu; Linux i686; rv:28.0) Gecko/20100101 Firefox/28.0',\n        ];\n        curl_setopt_array($curl, $options);\n        curl_setopt($curl, CURLOPT_HTTPHEADER, $headers);\n\n        if (false === curl_exec($curl)) {\n            curl_close($curl);\n            fclose($fh);\n            throw UnreachableUrl::create($url);\n        }\n        curl_close($curl);\n        fclose($fh);\n\n        return $temporaryFile;\n    }\n\n}\n```\n\n----------------------------------------\n\nTITLE: Regenerating images for specific media IDs in Laravel Media Library (comma-separated)\nDESCRIPTION: Artisan command to regenerate images only for specific media items by providing their IDs as a comma-separated list.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --ids=1,2,3\n```\n\n----------------------------------------\n\nTITLE: Adding Media to Collection in Laravel Media Library\nDESCRIPTION: This code snippet demonstrates how to add media to a collection using the Laravel Media Library. When using this method, the package will automatically use the parent model's database connection if it is set.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/customising-database-connections.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$model\n    ->addMedia($path)\n    ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Binding Custom Filesystem Implementation in Laravel Service Provider\nDESCRIPTION: This code shows how to register a custom filesystem implementation by binding it to the service container in the AppServiceProvider. It extends the Spatie MediaLibrary Filesystem class and replaces the default implementation with a custom one.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/overriding-the-default-filesystem-behaviour.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse App\\CustomFilesystem;\nuse Spatie\\MediaLibrary\\MediaCollections\\Filesystem;\n \nclass AppServiceProvider extends ServiceProvider\n{\n    ...\n    public function register()\n    {\n        $this->app->bind(Filesystem::class, CustomFilesystem::class);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Registering MediaLibrary Event Listeners in Laravel EventServiceProvider\nDESCRIPTION: This snippet shows how to register a MediaLibrary event listener in Laravel's EventServiceProvider. It maps the MediaHasBeenAddedEvent to the custom MediaLogger listener class.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/consuming-events.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nprotected $listen = [\n    Spatie\\MediaLibrary\\MediaCollections\\Events\\MediaHasBeenAddedEvent::class => [\n        App\\Listeners\\MediaLogger::class\n    ],\n];\n```\n\n----------------------------------------\n\nTITLE: Sanitizing File Names in Laravel Media Library\nDESCRIPTION: This snippet shows how to sanitize file names using a callable function when adding media to the library.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/basic-usage/retrieving-media.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->sanitizingFileName(function($fileName) {\n      return strtolower(str_replace(['#', '/', '\\\\', ' '], '-', $fileName));\n   })\n   ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Default File Format for Converted Files in Laravel Media Library\nDESCRIPTION: Shows the default naming format for converted files in the Laravel Media Library package. Converted files follow the pattern of original filename without extension, followed by the conversion name and the appropriate extension.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/naming-files.md#2025-04-16_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n{original-file-name-without-extension}-{name-of-the-conversion}.{extension}\n```\n\n----------------------------------------\n\nTITLE: Publishing Media Library View Files in Laravel\nDESCRIPTION: Command to publish the view files used by the Media Library package to customize the rendered HTML output. This command makes the view templates available in your project's resources directory for customization.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/customizing-the-rendered-html.md#2025-04-16_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan vendor:publish --provider=\"Spatie\\MediaLibrary\\MediaLibraryServiceProvider\" --tag=\"media-library-views\"\n```\n\n----------------------------------------\n\nTITLE: Adding Media from String with Custom Filename in Laravel Media Library\nDESCRIPTION: Example of how to add a file to the media library from a string and specify a custom filename.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/adding-files.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\n$model\n    ->addMediaFromString('my string')\n    ->usingFileName('custom-filename.txt')\n    ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Retrieving Registered Media Collections\nDESCRIPTION: This snippet demonstrates how to retrieve all registered media collections from a model using the getRegisteredMediaCollections method, which returns a collection of MediaCollection objects.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$mediaCollections = $yourModel->getRegisteredMediaCollections();\n```\n\n----------------------------------------\n\nTITLE: Restricting Files by Custom Callback in Media Collections\nDESCRIPTION: This code shows how to use the acceptsFile method with a callback to restrict file types allowed in a collection, in this case only accepting JPEG files.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\File;\n...\npublic function registerMediaCollections(): void\n{\n    $this\n        ->addMediaCollection('only-jpegs-please')\n        ->acceptsFile(function (File $file) {\n            return $file->mimeType === 'image/jpeg';\n        });\n}\n```\n\n----------------------------------------\n\nTITLE: Publishing Laravel Medialibrary Views\nDESCRIPTION: This snippet shows the Artisan command to publish the view files for customization in Laravel Medialibrary.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan vendor:publish --provider=\"Spatie\\MediaLibrary\\MediaLibraryServiceProvider\" --tag=\"media-library-views\"\n```\n\n----------------------------------------\n\nTITLE: Manually Including Sortable Library in JavaScript\nDESCRIPTION: This JavaScript snippet demonstrates how to manually include the Sortable library in your project after disabling the CDN. It imports Sortable from 'sortablejs' and assigns it to the global window object for use in Media Library Pro components.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/disable-cdn.md#2025-04-16_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport Sortable from 'sortablejs'\n\nwindow.Sortable = Sortable\n```\n\n----------------------------------------\n\nTITLE: Configuring Laravel HTTP Client Downloader in Media Library\nDESCRIPTION: Configuration example showing how to set up the Laravel HTTP Facade-based downloader in the media-library config file. This downloader leverages Laravel's built-in HTTP client for media downloads.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-media-downloader.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n    // config/media-library.php\n\n    /*\n     * When using the addMediaFromUrl method you may want to replace the default downloader.\n     * This is particularly useful when the url of the image is behind a firewall and\n     * need to add additional flags, possibly using curl.\n     */\n    'media_downloader' => Spatie\\MediaLibrary\\Downloaders\\HttpFacadeDownloader::class,\n```\n\n----------------------------------------\n\nTITLE: Working with Limited Size Collections\nDESCRIPTION: This example shows the behavior of a limited collection that keeps only the 3 most recent files, automatically removing older files when adding new ones.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_16\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($firstFile)->toMediaCollection('limited-collection');\n$yourModel->getMedia('avatar')->count(); // returns 1\n$yourModel->addMedia($secondFile)->toMediaCollection('limited-collection');\n$yourModel->getMedia('avatar')->count(); // returns 2\n$yourModel->addMedia($thirdFile)->toMediaCollection('limited-collection');\n$yourModel->getMedia('avatar')->count(); // returns 3\n$yourModel->addMedia($fourthFile)->toMediaCollection('limited-collection');\n$yourModel->getMedia('avatar')->count(); // returns 3\n$yourModel->getFirstMediaUrl('avatar'); // will return an url to the `$secondFile` file\n```\n\n----------------------------------------\n\nTITLE: Creating a MediaLogger Event Listener for Laravel MediaLibrary\nDESCRIPTION: This code snippet demonstrates how to create a listener class that responds to the MediaHasBeenAddedEvent. The listener logs the file path and media ID whenever a new media item is added to the library.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/consuming-events.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Listeners;\n\nuse Log;\nuse Spatie\\MediaLibrary\\MediaCollections\\Events\\MediaHasBeenAddedEvent;\n\nclass MediaLogger\n{\n    public function handle(MediaHasBeenAddedEvent $event)\n    {\n        $media = $event->media;\n        $path = $media->getPath();\n        Log::info(\"file {$path} has been saved for media {$media->id}\");\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding Media Conversion in Laravel MediaLibrary\nDESCRIPTION: Method to add a new media conversion with a specified name. This is the starting point for defining any conversion in the MediaLibrary package.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/api/defining-conversions.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n/*\n * Add a conversion.\n */\npublic function addMediaConversion(string $name): \\Spatie\\MediaLibrary\\Conversions\\Conversion\n```\n\n----------------------------------------\n\nTITLE: Configuring FileBaseFileRemover in Laravel MediaLibrary\nDESCRIPTION: Configuration example showing how to switch from the default file remover to the FileBaseFileRemover in the MediaLibrary configuration file. This strategy removes only specific files rather than entire directories.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-file-removal-strategy.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n    // config/media-library.php\n\n    /*\n     * The class that contains the strategy for determining how to remove files.\n     */\n    'file_remover_class' => Spatie\\MediaLibrary\\Support\\FileRemover\\FileBaseFileRemover::class,\n```\n\n----------------------------------------\n\nTITLE: Generated HTML for Responsive Image\nDESCRIPTION: Displays the complex HTML output generated by the Media Library for a responsive image, including srcset with multiple sizes and a base64-encoded placeholder.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<img srcset=\"/media/1/responsive-images/testimage___media_library_original_188_105.png 188w, /media/1/responsive-images/testimage___media_library_original_158_88.png 158w, /media/1/responsive-images/testimage___media_library_original_132_74.png 132w, /media/1/responsive-images/testimage___media_library_original_110_61.png 110w, data:image/svg+xml;base64,PCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHg9IjAiCiB5PSIwIiB2aWV3Qm94PSIwIDAgMTkyMCAxMDgwIj4KCTxpbWFnZSB3aWR0aD0iMTkyMCIgaGVpZ2h0PSIxMDgwIiB4bGluazpocmVmPSJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUFBQVFBQkFBRC8vZ0E3UTFKRlFWUlBVam9nWjJRdGFuQmxaeUIyTVM0d0lDaDFjMmx1WnlCSlNrY2dTbEJGUnlCMk9UQXBMQ0J4ZFdGc2FYUjVJRDBnT1RBSy85c0FRd0FEQWdJREFnSURBd01EQkFNREJBVUlCUVVFQkFVS0J3Y0dDQXdLREF3TENnc0xEUTRTRUEwT0VRNExDeEFXRUJFVEZCVVZGUXdQRnhnV0ZCZ1NGQlVVLzlzQVF3RURCQVFGQkFVSkJRVUpGQTBMRFJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVVGQlFVRkJRVUZCUVUvOEFBRVFnQUVnQWdBd0VpQUFJUkFRTVJBZi9FQUI4QUFBRUZBUUVCQVFFQkFBQUFBQUFBQUFBQkFnTUVCUVlIQ0FrS0MvL0VBTFVRQUFJQkF3TUNCQU1GQlFRRUFBQUJmUUVDQXdBRUVRVVNJVEZCQmhOUllRY2ljUlF5Z1pHaENDTkNzY0VWVXRId0pETmljb0lKQ2hZWEdCa2FKU1luS0NrcU5EVTJOemc1T2tORVJVWkhTRWxLVTFSVlZsZFlXVnBqWkdWbVoyaHBhbk4wZFhaM2VIbDZnNFNGaG9lSWlZcVNrNVNWbHBlWW1acWlvNlNscHFlb3FhcXlzN1MxdHJlNHVickN3OFRGeHNmSXljclMwOVRWMXRmWTJkcmg0dVBrNWVibjZPbnE4Zkx6OVBYMjkvajUrdi9FQUI4QkFBTUJBUUVCQVFFQkFRRUFBQUFBQUFBQkFnTUVCUVlIQ0FrS0MvL0VBTFVSQUFJQkFnUUVBd1FIQlFRRUFBRUNkd0FCQWdNUkJBVWhNUVlTUVZFSFlYRVRJaktCQ0JSQ2thR3h3UWtqTTFMd0ZXSnkwUW9XSkRUaEpmRVhHQmthSmljb0tTbzFOamM0T1RwRFJFVkdSMGhKU2xOVVZWWlhXRmxhWTJSbFptZG9hV3B6ZEhWMmQzaDVlb0tEaElXR2g0aUppcEtUbEpXV2w1aVptcUtqcEtXbXA2aXBxckt6dExXMnQ3aTV1c0xEeE1YR3g4akp5dExUMU5YVzE5aloydUxqNU9YbTUranA2dkx6OVBYMjkvajUrdi9hQUF3REFRQUNFUU1SQUQ4QStRZkVPaE1sd05veUs2andib3NjZHUyOEFaSGVvdkxlOWZMOUtTNFM1Z1haREp0cnFxWXlsVGJsSGNpblNyVmw3S1pTOFhhSWthbVJlUlhFU1FCVHhYcC8yS1M0MHIvU01zUUs1TzQ4T003c1VIQjZDdDNWcFZLZnRObVJTOXRTcmV4ZXlPcnRmOVZTUy82NUtLSytHcS94WkgwK0czUnRPUDhBaVduNlZsd0FiUnhSUlhxUi9nSTRLdjhBdkQ5VC85az0iPgoJPC9pbWFnZT4KPC9zdmc+ 32w\" onload=\"if(this.dataset.sized===undefined){this.sizes=Math.ceil(this.getBoundingClientRect().width/window.innerWidth*100)+'vw';this.dataset.sized='';}\" sizes=\"1px\" src=\"/media/1/testimage.png\" data-sized=\"\">\n```\n\n----------------------------------------\n\nTITLE: Regenerating images using morph map name in Laravel Media Library\nDESCRIPTION: When using a morph map in Laravel, you can regenerate images by specifying the morph name instead of the full class name.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate \"post\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Media Model in Configuration File\nDESCRIPTION: This snippet shows how to update the media-library configuration file to use the custom Media model. The media_model configuration value needs to be set to the fully qualified class name of the custom model.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-your-own-model.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n// config/media-library.php\n...\n   'media_model' => App\\Models\\Media::class\n...\n\n```\n\n----------------------------------------\n\nTITLE: Adding Media to Collection in Laravel MediaLibrary\nDESCRIPTION: This snippet demonstrates how to add media to a collection in Laravel MediaLibrary. It applies the previously defined conversion to the added media.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_7\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($yourImage)->toMediaCollection('my-conversion');\n```\n\n----------------------------------------\n\nTITLE: Regenerating images after a specific ID in Laravel Media Library\nDESCRIPTION: Artisan command to regenerate images starting after a specific ID by combining --starting-from-id with --exclude-starting-id or -X options.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --starting-from-id=1 --exclude-starting-id\nphp artisan media-library:regenerate --starting-from-id=1 -X\n```\n\n----------------------------------------\n\nTITLE: Customized Zip Options with Laravel MediaStream\nDESCRIPTION: Shows how to customize the ZipStream options when creating a streaming download. This example demonstrates setting custom zip options like enabling zero headers for better compatibility.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/downloading-media/downloading-multiple-files.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\Support\\MediaStream;\n\nclass DownloadMediaController\n{\n   public function download(YourModel $yourModel)\n   {\n        // Let's get some media.\n        $downloads = $yourModel->getMedia('downloads');\n\n        // Download the files associated with the media in a streamed way.\n        // No prob if your files are very large.\n        return MediaStream::create('my-files.zip')\n            ->useZipOptions(function (&$zipOptions) {\n                // ZipStream ^3.0 uses array                    \n                $zipOptions['defaultEnableZeroHeader'] = true;\n            })\n            ->addMedia($downloads);\n   }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Conversion Thumbnail in HTML Video Tag\nDESCRIPTION: HTML code demonstrating how to use a video thumbnail conversion as a poster image in a video tag. The thumbnail is set as the poster attribute while the original video is used as the source.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/using-image-generators.md#2025-04-16_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<video controls poster=\"{{ $video->getUrl('thumb') }}\">\n  <source src=\"{{ $video->getUrl() }}\" type=\"video/mp4\">\n  Your browser does not support the video tag.\n</video>\n```\n\n----------------------------------------\n\nTITLE: Testing Media Downloads in Laravel with HTTP Facade Mocking\nDESCRIPTION: Example showing how to test media downloads by mocking HTTP requests using Laravel's HTTP testing utilities. This allows testing without making actual network requests to external URLs.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-media-downloader.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\nHttp::fake([\n    // Stub a response where the body will be the contents of the file\n    'http://medialibrary.spatie.be/assets/images/mountain.jpg' => Http::response('::file::'),\n]);\n\n// Execute code for the test\n\n// Then check that a request for the file was made\nHttp::assertSent(function (Request $request) {\n    return $request->url() == 'http://medialibrary.spatie.be/assets/images/mountain.jpg';\n});\n\n// We may also assert that the contents of any files created\n// will contain `::file::`\n```\n\n----------------------------------------\n\nTITLE: PathGenerator Interface for Laravel Media Library\nDESCRIPTION: The interface that must be implemented when creating a custom path generator. It requires three methods: getPath, getPathForConversions, and getPathForResponsiveImages, which determine where media files are stored.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-directory-structure.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nnamespace Spatie\\MediaLibrary\\Support\\PathGenerator;\n\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\ninterface PathGenerator\n{\n    /*\n     * Get the path for the given media, relative to the root storage path.\n     */\n    public function getPath(Media $media): string;\n\n    /*\n     * Get the path for conversions of the given media, relative to the root storage path.\n     */\n    public function getPathForConversions(Media $media): string;\n\n    /*\n     * Get the path for responsive images of the given media, relative to the root storage path.\n     */\n    public function getPathForResponsiveImages(Media $media): string;\n}\n\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Width Calculator in PHP for Laravel Media Library\nDESCRIPTION: To create a custom width calculator, implement the Spatie\\MediaLibrary\\ResponsiveImages\\WidthCalculator\\WidthCalculator interface. Both calculateWidthsFromFile and calculateWidths methods should return a Collection of desired widths for responsive images.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/using-your-own-width-calculator.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nSpatie\\MediaLibrary\\ResponsiveImages\\WidthCalculator\\WidthCalculator\n```\n\n----------------------------------------\n\nTITLE: Lazy Loading Images in Blade\nDESCRIPTION: This snippet demonstrates how to implement lazy loading for images in a Blade view to defer loading of offscreen images.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/rendering-media.md#2025-04-16_snippet_6\n\nLANGUAGE: blade\nCODE:\n```\nLazy loading this one: {{ $media()->lazy() }}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom PowerPoint Image Generator in PHP\nDESCRIPTION: This code snippet demonstrates how to create a custom image generator class for converting PowerPoint files to images. It extends the ImageGenerator class and implements methods for conversion, requirement checking, and supported file types.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/creating-a-custom-image-generator.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\nuse Illuminate\\Support\\Collection;\nuse Spatie\\MediaLibrary\\Conversions\\Conversion;\nuse Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\ImageGenerator;\n\nclass PowerPoint extends ImageGenerator\n{\n    /**\n    * This function should return a path to an image representation of the given file.\n    */\n    public function convert(string $file, Conversion $conversion = null) : string\n    {\n        $pathToImageFile = pathinfo($file, PATHINFO_DIRNAME).'/' . pathinfo($file, PATHINFO_FILENAME).'.jpg';\n\n        // Here you should convert the file to an image and return generated conversion path.\n        \\PowerPoint::convertFileToImage($file)->store($pathToImageFile);\n\n        return $pathToImageFile;\n    }\n\n    public function requirementsAreInstalled() : bool\n    {\n        return true;\n    }\n\n    public function supportedExtensions() : Collection\n    {\n        return collect(['ppt', 'pptx']);\n    }\n\n    public function supportedMimeTypes() : Collection\n    {\n        return collect([\n            'application/vnd.ms-powerpoint',\n            'application/vnd.openxmlformats-officedocument.presentationml.presentation'\n        ]);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: FileRemover Interface Definition in Laravel MediaLibrary\nDESCRIPTION: The interface definition for implementing custom file removal strategies in the MediaLibrary package. It defines the contract for file removers with methods to remove all files, responsive images, or individual files.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-file-removal-strategy.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n<?php\n\nnamespace Spatie\\MediaLibrary\\Support\\FileRemover;\n\nuse Illuminate\\Contracts\\Filesystem\\Factory;\nuse Spatie\\MediaLibrary\\MediaCollections\\Filesystem;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\ninterface FileRemover\n{\n    public function __construct(Filesystem $mediaFileSystem, Factory $filesystem);\n\n    /*\n     * Remove all files relating to the media model.\n     */\n    public function removeAllFiles(Media $media): void;\n\n    /*\n     * Remove responsive files relating to the media model.\n     */\n    public function removeResponsiveImages(Media $media, string $conversionName): void;\n\n    /*\n     * Remove a file relating to the media model.\n     */\n    public function removeFile(string $path, string $disk): void;\n\n}\n```\n\n----------------------------------------\n\nTITLE: Default Laravel Media Library Configuration\nDESCRIPTION: This PHP code defines the default configuration for the Laravel Media Library. It includes settings for disk storage, file size limits, queue connections, model classes, and various optimization and conversion options.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\nreturn [\n\n    /*\n     * The disk on which to store added files and derived images by default. Choose\n     * one or more of the disks you've configured in config/filesystems.php.\n     */\n    'disk_name' => env('MEDIA_DISK', 'public'),\n\n    /*\n     * The maximum file size of an item in bytes.\n     * Adding a larger file will result in an exception.\n     */\n    'max_file_size' => 1024 * 1024 * 10,\n    \n    /*\n     * This queue connection will be used to generate derived and responsive images.\n     * Leave empty to use the default queue connection.\n     */\n    'queue_connection_name' => '',\n\n    /*\n     * This queue will be used to generate derived and responsive images.\n     * Leave empty to use the default queue.\n     */\n    'queue_name' => '',\n\n    /*\n     * By default all conversions will be performed on a queue.\n     */\n    'queue_conversions_by_default' => env('QUEUE_CONVERSIONS_BY_DEFAULT', true),\n\n    /*\n     * The fully qualified class name of the media model.\n     */\n    'media_model' => Spatie\\MediaLibrary\\MediaCollections\\Models\\Media::class,\n\n    /*\n     * The fully qualified class name of the model used for temporary uploads.\n     *\n     * This model is only used in Media Library Pro (https://medialibrary.pro)\n     */\n    'temporary_upload_model' => Spatie\\MediaLibraryPro\\Models\\TemporaryUpload::class,\n\n    /*\n     * When enabled, Media Library Pro will only process temporary uploads there were uploaded\n     * in the same session. You can opt to disable this for stateless usage of\n     * the pro components.\n     */\n    'enable_temporary_uploads_session_affinity' => true,\n\n    /*\n     * When enabled, Media Library pro will generate thumbnails for uploaded file.\n     */\n    'generate_thumbnails_for_temporary_uploads' => true,\n\n    /*\n     * This is the class that is responsible for naming generated files.\n     */\n    'file_namer' => Spatie\\MediaLibrary\\Support\\FileNamer\\DefaultFileNamer::class,\n\n    /*\n     * The class that contains the strategy for determining a media file's path.\n     */\n    'path_generator' => Spatie\\MediaLibrary\\Support\\PathGenerator\\DefaultPathGenerator::class,\n\n    /*\n     * When urls to files get generated, this class will be called. Use the default\n     * if your files are stored locally above the site root or on s3.\n     */\n    'url_generator' => Spatie\\MediaLibrary\\Support\\UrlGenerator\\DefaultUrlGenerator::class,\n\n    /*\n     * Whether to activate versioning when urls to files get generated.\n     * When activated, this attaches a ?v=xx query string to the URL.\n     */\n    'version_urls' => false,\n\n    /*\n     * The media library will try to optimize all converted images by removing\n     * metadata and applying a little bit of compression. These are\n     * the optimizers that will be used by default.\n     */\n    'image_optimizers' => [\n        Spatie\\ImageOptimizer\\Optimizers\\Jpegoptim::class => [\n            '-m85', // set maximum quality to 85%\n            '--strip-all', // this strips out all text information such as comments and EXIF data\n            '--all-progressive', // this will make sure the resulting image is a progressive one\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Pngquant::class => [\n            '--force', // required parameter for this package\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Optipng::class => [\n            '-i0', // this will result in a non-interlaced, progressive scanned image\n            '-o2', // this set the optimization level to two (multiple IDAT compression trials)\n            '-quiet', // required parameter for this package\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Svgo::class => [\n            '--disable=cleanupIDs', // disabling because it is known to cause troubles\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Gifsicle::class => [\n            '-b', // required parameter for this package\n            '-O3', // this produces the slowest but best results\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Cwebp::class => [\n            '-m 6', // for the slowest compression method in order to get the best compression.\n            '-pass 10', // for maximizing the amount of analysis pass.\n            '-mt', // multithreading for some speed improvements.\n            '-q 90', //quality factor that brings the least noticeable changes.\n        ],\n        Spatie\\ImageOptimizer\\Optimizers\\Avifenc::class => [\n            '-a cq-level=23', // constant quality level, lower values mean better quality and greater file size (0-63).\n            '-j all', // number of jobs (worker threads, \"all\" uses all available cores).\n            '--min 0', // min quantizer for color (0-63).\n            '--max 63', // max quantizer for color (0-63).\n            '--minalpha 0', // min quantizer for alpha (0-63).\n            '--maxalpha 63', // max quantizer for alpha (0-63).\n            '-a end-usage=q', // rate control mode set to Constant Quality mode.\n            '-a tune=ssim', // SSIM as tune the encoder for distortion metric.\n        ],\n    ],\n\n    /*\n     * These generators will be used to create an image of media files.\n     */\n    'image_generators' => [\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Image::class,\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Webp::class,\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Avif::class,\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Pdf::class,\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Svg::class,\n        Spatie\\MediaLibrary\\Conversions\\ImageGenerators\\Video::class,\n    ],\n\n    /*\n     * The path where to store temporary files while performing image conversions.\n     * If set to null, storage_path('media-library/temp') will be used.\n     */\n    'temporary_directory_path' => null,\n\n    /*\n     * The engine that should perform the image conversions.\n     * Should be either `gd` or `imagick`.\n     */\n    'image_driver' => env('IMAGE_DRIVER', 'gd'),\n\n    /*\n     * FFMPEG & FFProbe binaries paths, only used if you try to generate video\n     * thumbnails and have installed the php-ffmpeg/php-ffmpeg composer\n     * dependency.\n     */\n    'ffmpeg_path' => env('FFMPEG_PATH', '/usr/bin/ffmpeg'),\n    'ffprobe_path' => env('FFPROBE_PATH', '/usr/bin/ffprobe'),\n\n    /*\n     * Here you can override the class names of the jobs used by this package. Make sure\n     * your custom jobs extend the ones provided by the package.\n     */\n    'jobs' => [\n        'perform_conversions' => Spatie\\MediaLibrary\\Conversions\\Jobs\\PerformConversionsJob::class,\n        'generate_responsive_images' => Spatie\\MediaLibrary\\ResponsiveImages\\Jobs\\GenerateResponsiveImagesJob::class,\n    ],\n\n    /*\n     * When using the addMediaFromUrl method you may want to replace the default downloader.\n     * This is particularly useful when the url of the image is behind a firewall and\n     * need to add additional flags, possibly using curl.\n     */\n    'media_downloader' => Spatie\\MediaLibrary\\Downloaders\\DefaultDownloader::class,\n\n    'remote' => [\n        /*\n         * Any extra headers that should be included when uploading media to\n         * a remote disk. Even though supported headers may vary between\n         * different drivers, a sensible default has been provided.\n         *\n         * Supported by S3: CacheControl, Expires, StorageClass,\n         * ServerSideEncryption, Metadata, ACL, ContentEncoding\n         */\n        'extra_headers' => [\n            'CacheControl' => 'max-age=604800',\n        ],\n    ],\n\n    'responsive_images' => [\n        /*\n         * This class is responsible for calculating the target widths of the responsive\n         * images. By default we optimize for filesize and create variations that each are 20%\n         * smaller than the previous one. More info in the documentation.\n         *\n         * https://spatie.be/docs/laravel-medialibrary/v11/responsive-images/getting-started-with-responsive-images\n         */\n        'width_calculator' => Spatie\\MediaLibrary\\ResponsiveImages\\WidthCalculator\\FileSizeOptimizedWidthCalculator::class,\n\n        /*\n         * By default rendering media to a responsive image will add some javascript and a tiny placeholder.\n         * This ensures that the browser can already determine the correct layout.\n         */\n        'use_tiny_placeholders' => true,\n\n        /*\n         * This class will generate the tiny placeholder used for progressive image loading. By default\n         * the media library will use a tiny blurred jpg image.\n         */\n        'tiny_placeholder_generator' => Spatie\\MediaLibrary\\ResponsiveImages\\TinyPlaceholderGenerator\\Blurred::class,\n    ],\n\n    /*\n     * When enabling this option, a route will be registered that will enable\n     * the Media Library Pro Vue and React components to move uploaded files\n     * in a S3 bucket to their right place.\n     */\n    'enable_vapor_uploads' => env('ENABLE_MEDIA_LIBRARY_VAPOR_UPLOADS', false),\n\n    /*\n     * When converting Media instances to response the media library will add\n     * a `loading` attribute to the `img` tag. Here you can set the default\n     * value of that attribute.\n     *\n     * Possible values: 'lazy', 'eager', 'auto' or null if you don't want to set any loading instruction.\n     *\n     * More info: https://css-tricks.com/native-lazy-loading/\n     */\n    'default_loading_attribute_value' => null,\n    \n     /*\n     * You can specify a prefix for that is used for storing all media.\n     * If you set this to `/my-subdir`, all your media will be stored in a `/my-subdir` directory.\n     */\n     'prefix' => env('MEDIA_PREFIX', ''),\n\n    /*\n     * When forcing lazy loading, media will be loaded even if you don't eager load media and you have\n\n\n```\n\n----------------------------------------\n\nTITLE: HTML Image Tag with Srcset Attribute\nDESCRIPTION: Demonstrates an img element using the srcset attribute to specify different image versions for various screen widths.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<img src=\"large.jpg\"\n     srcset=\"large.jpg 2400w, medium.jpg 1200w, small.jpg 600w\">\n```\n\n----------------------------------------\n\nTITLE: Directory Structure Example for Custom File Removal Strategy\nDESCRIPTION: Example directory structure that demonstrates why the DefaultFileRemover might cause problems when using custom directory organization. In this structure, deleting the root directory would remove more files than intended.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-a-custom-file-removal-strategy.md#2025-04-16_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nmedia\n---- 2023/09\n------ file.jpg\n------ second.jpg\n------ conversions\n--------- file-small.jpg\n--------- file-medium.jpg\n--------- file-big.jpg\n--------- second-small.jpg\n--------- second-medium.jpg\n--------- second-big.jpg\n...\n```\n\n----------------------------------------\n\nTITLE: Configuring Force Lazy Loading in PHP\nDESCRIPTION: This snippet shows how to configure force lazy loading for the media library using an environment variable.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_5\n\nLANGUAGE: php\nCODE:\n```\n'force_lazy_loading' => env('FORCE_MEDIA_LIBRARY_LAZY_LOADING', true),\n```\n\n----------------------------------------\n\nTITLE: Setting Multiple Conversion Manipulations in Laravel MediaLibrary\nDESCRIPTION: Example of applying the same manipulation to multiple named conversions when adding media.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/storing-media-specific-manipulations.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->withManipulations([\n      'thumb' => ['orientation' => '90'],\n      'otherConversion' => ['orientation' => '90'],\n   ]);\n```\n\n----------------------------------------\n\nTITLE: Creating Blurred Tiny Placeholder Implementation\nDESCRIPTION: Example implementation of TinyPlaceholderGenerator that creates a blurred version of the original image. It loads the source image, resizes it to 32px width, applies a blur effect, and saves the result.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/generating-your-own-tiny-placeholder.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nnamespace App;\n\nuse Spatie\\Image\\Image;\n\nclass Blurred implements TinyPlaceholderGenerator\n{\n    public function generateTinyPlaceholder(string $sourceImagePath, string $tinyImageDestinationPath)\n    {\n        $sourceImage = Image::load($sourceImagePath);\n\n        $sourceImage->width(32)->blur(5)->save($tinyImageDestinationPath);\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Inline JavaScript for Dynamic Image Size Calculation\nDESCRIPTION: This JavaScript code calculates the appropriate image size based on the actual width relative to the viewport. It's used to dynamically update the 'sizes' attribute of the image element after the page loads.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/demo.md#2025-04-16_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nif(!(width=this.getBoundingClientRect().width))return;this.onload=null;this.sizes=Math.ceil(width/window.innerWidth*100)+'vw';\n```\n\n----------------------------------------\n\nTITLE: Installing Optimization Tools on Ubuntu using Snap\nDESCRIPTION: This bash command provides an alternative method to install image optimization tools on Ubuntu using snap for SVGO installation.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nsudo apt install jpegoptim optipng pngquant gifsicle libavif-bin\nsudo snap install svgo\n```\n\n----------------------------------------\n\nTITLE: Combining Wildcard and Specific Manipulations in Laravel MediaLibrary\nDESCRIPTION: Demonstrates how to combine wildcard manipulations with conversion-specific manipulations, where wildcard manipulations are applied first.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/storing-media-specific-manipulations.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$yourModel\n   ->addMedia($pathToFile)\n   ->withManipulations([\n      '*' => ['orientation' => '90'],\n      'thumb' => ['filter' => 'greyscale'],\n   ]);\n```\n\n----------------------------------------\n\nTITLE: Default Format for Responsive Image Files in Laravel Media Library\nDESCRIPTION: Shows the default naming convention for responsive image files in the Laravel Media Library. Responsive images include width and height dimensions in their filenames to support responsive image loading.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/naming-files.md#2025-04-16_snippet_2\n\nLANGUAGE: text\nCODE:\n```\n{original-file-name-without-extension}___{name-of-the-conversion}_{width}_{height}.{extension}\n```\n\n----------------------------------------\n\nTITLE: Regenerating images for a specific model in Laravel Media Library\nDESCRIPTION: Artisan command to regenerate images for a specific model class. This allows targeting regeneration to only models of the specified type.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate \"App\\Models\\Post\"\n```\n\n----------------------------------------\n\nTITLE: Basic HTML Image Tag\nDESCRIPTION: Shows a simple HTML img element with a src attribute, which displays the same image regardless of screen size.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/getting-started-with-responsive-images.md#2025-04-16_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<img src=\"my-image.jpg\">\n```\n\n----------------------------------------\n\nTITLE: Adding Media to Collection in Laravel MediaLibrary\nDESCRIPTION: Example of adding an image to the media library for a model. This code adds a media file to the default collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/defining-conversions.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n$media = YourModel::first()->addMedia($pathToImage)->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Regenerating images for specific media IDs in Laravel Media Library (multiple --ids)\nDESCRIPTION: Artisan command to regenerate images only for specific media items by providing their IDs using multiple --ids options.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --ids=1 --ids=2 --ids=3\n```\n\n----------------------------------------\n\nTITLE: Adding Generated Conversions Column to Media Table in PHP\nDESCRIPTION: This migration adds a 'generated_conversions' JSON column to the media table and transfers data from the 'custom_properties' column. It also includes a rollback method to revert the changes.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\DB;\nuse Illuminate\\Support\\Facades\\Schema;\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\n\nclass AddGeneratedConversionsToMediaTable extends Migration {\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up() {\n        if ( ! Schema::hasColumn( 'media', 'generated_conversions' ) ) {\n            Schema::table( 'media', function ( Blueprint $table ) {\n                $table->json( 'generated_conversions' )->nullable();\n            } );\n        }\n        \n        Media::query()\n            ->where(function ($query) {\n                $query->whereNull('generated_conversions')\n                    ->orWhere('generated_conversions', '')\n                    ->orWhereRaw(\"JSON_TYPE(generated_conversions) = 'NULL'\");\n            })\n            ->whereRaw(\"JSON_LENGTH(custom_properties) > 0\")\n            ->update([\n                'generated_conversions' => DB::raw(\"JSON_EXTRACT(custom_properties, '$.generated_conversions')\"),\n                // OPTIONAL: Remove the generated conversions from the custom_properties field as well:\n                // 'custom_properties'     => DB::raw(\"JSON_REMOVE(custom_properties, '$.generated_conversions')\")\n            ]);\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down() {\n        /* Restore the 'generated_conversions' field in the 'custom_properties' column if you removed them in this migration\n        Media::query()\n                ->whereRaw(\"JSON_TYPE(generated_conversions) != 'NULL'\")\n                ->update([\n                    'custom_properties' => DB::raw(\"JSON_SET(custom_properties, '$.generated_conversions', generated_conversions)\")\n                ]);\n        */\n    \n        Schema::table( 'media', function ( Blueprint $table ) {\n            $table->dropColumn( 'generated_conversions' );\n        } );\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Regenerating only missing images in Laravel Media Library\nDESCRIPTION: Artisan command to regenerate only missing images rather than all images. This is useful when you want to fill in gaps without regenerating existing conversions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --only-missing\n```\n\n----------------------------------------\n\nTITLE: Regenerating images for specific conversions in Laravel Media Library\nDESCRIPTION: Artisan command to regenerate images only for specific conversion types by specifying their names using the --only option.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --only=thumb --only=foo\n```\n\n----------------------------------------\n\nTITLE: Updating the registerMediaConversions Method Signature in PHP\nDESCRIPTION: Update the signature of the registerMediaConversions method to include the Media parameter, which is now required in version 6 of the package.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\npublic function registerMediaConversions()\n```\n\nLANGUAGE: php\nCODE:\n```\npublic function registerMediaConversions(Media $media = null)\n```\n\n----------------------------------------\n\nTITLE: Regenerating responsive images in Laravel Media Library\nDESCRIPTION: Artisan command to force regeneration of responsive images. This ensures that all responsive image variants are recreated.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --with-responsive-images\n```\n\n----------------------------------------\n\nTITLE: Adding JSON Column for Responsive Images in Laravel Migration\nDESCRIPTION: Database migration snippet for adding the responsive_images JSON column to the media table, required for upgrading to v7.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_4\n\nLANGUAGE: php\nCODE:\n```\n$table->json('responsive_images');\n```\n\n----------------------------------------\n\nTITLE: Attempting to Add Disallowed File Type\nDESCRIPTION: This example shows code that will throw a FileUnacceptableForCollection exception when attempting to add a non-JPEG file to a JPEG-only collection.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_7\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia('ugly.ppt')->toMediaCollection('only-jpegs-please');\n```\n\n----------------------------------------\n\nTITLE: Regenerating images starting from a specific ID in Laravel Media Library\nDESCRIPTION: Artisan command to regenerate images starting from a specific media ID. This allows for paginated regeneration of large collections.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate --starting-from-id=1\n```\n\n----------------------------------------\n\nTITLE: Renaming Responsive Images Collection in PHP Migration\nDESCRIPTION: This migration renames the responsive images collection from 'medialibrary_original' to 'media_library_original'. It updates both the database records and the filesystem, handling the renaming of files on disk.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\nuse Illuminate\\Contracts\\Filesystem\\Factory;\nuse Illuminate\\Database\\Migrations\\Migration;\nuse App\\Models\\Media;\nuse Spatie\\MediaLibrary\\Support\\PathGenerator\\PathGeneratorFactory;\n\nclass RenameResponsiveImagesCollectionNameInMedia extends Migration\n{\n\n    const OLD_COLLECTION_NAME = 'medialibrary_original';\n    const NEW_COLLECTION_NAME = 'media_library_original';\n\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        $this->change(self::OLD_COLLECTION_NAME, self::NEW_COLLECTION_NAME);\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        $this->change(self::NEW_COLLECTION_NAME, self::OLD_COLLECTION_NAME);\n    }\n\n    public function change(string $from, string $to)\n    {\n        /** @var Factory $filesystem */\n        $filesystem = app(Factory::class);\n\n        $pathGenerator = PathGeneratorFactory::create();\n\n        // Find media with the old collection name is present\n        Media::query()\n            ->withoutGlobalScopes()\n            ->whereNotNull('responsive_images->' . $from)\n            ->cursor()\n            ->each(function($media) use ($from, $to, $filesystem, $pathGenerator) {\n                // Change the old collection key\n                $responsive_images = array_merge(\n                    $media->responsive_images,\n                    [\n                        $to => $media->responsive_images[$from],\n                        $from => null\n                    ]\n                );\n                // Remove it completely\n                unset($responsive_images[$from]);\n\n                // Responsive image path for this media\n                $directory = $pathGenerator->getPathForResponsiveImages($media);\n                // Media disk\n                $disk = $filesystem->disk($media->disk);\n\n                foreach($responsive_images[$to]['urls'] as &$filename) {\n                    // Replace the old collection name with the new one\n                    $newFilename = str_replace(\n                        $from,\n                        $to,\n                        $filename\n                    );\n                    // If the old file exists move it on disk\n                    if($disk->exists($directory . $filename)) {\n                        $disk->move($directory . $filename, $directory . $newFilename);\n                        // Update the new array by ref\n                        $filename = $newFilename;\n                    }\n                }\n                // Save the new array\n                $media->responsive_images = $responsive_images;\n                $media->save();\n            });\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Optimization Tools on Ubuntu\nDESCRIPTION: This bash command installs various image optimization tools on Ubuntu, which are used by Media Library to optimize converted images.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nsudo apt install jpegoptim optipng pngquant gifsicle libavif-bin\nnpm install -g svgo\n```\n\n----------------------------------------\n\nTITLE: Regenerating images for a specific model from a specific ID in Laravel Media Library\nDESCRIPTION: Artisan command combining model type and starting ID to regenerate images for a specific model beginning from a particular media ID.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-images/regenerating-images.md#2025-04-16_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan media-library:regenerate \"App\\Models\\Post\" --starting-from-id=1\n```\n\n----------------------------------------\n\nTITLE: Using Collection-Specific Media Conversions\nDESCRIPTION: This example demonstrates how to add an image to a collection with registered conversions and retrieve the URL for a specific conversion of that image.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/working-with-media-collections/defining-media-collections.md#2025-04-16_snippet_18\n\nLANGUAGE: php\nCODE:\n```\n$yourModel->addMedia($pathToImage)->toMediaCollection('my-collection');\n\n$yourModel->getFirstMediaUrl('my-collection', 'thumb') // returns an url to a 100x100 version of the added image.\n```\n\n----------------------------------------\n\nTITLE: Installing Optimization Tools on MacOS using Homebrew\nDESCRIPTION: This bash command installs various image optimization tools on MacOS using Homebrew package manager.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/installation-setup.md#2025-04-16_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nbrew install jpegoptim\nbrew install optipng\nbrew install pngquant\nbrew install svgo\nbrew install gifsicle\nbrew install libavif\n```\n\n----------------------------------------\n\nTITLE: Running Tests for Laravel Media Library\nDESCRIPTION: Provides instructions for running the package's test suite using Pest. This is useful for contributors or developers verifying the package's functionality.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n./vendor/bin/pest\n```\n\n----------------------------------------\n\nTITLE: Implementing TinyPlaceholderGenerator Interface\nDESCRIPTION: Interface method signature for generating tiny placeholder images. The method takes source and destination paths as parameters and should save a JPG tiny placeholder image.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/responsive-images/generating-your-own-tiny-placeholder.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\npublic function generateTinyPlaceholder(string $sourceImagePath, string $tinyImageDestinationPath);\n```\n\n----------------------------------------\n\nTITLE: Configuring Media Library Pro to Disable CDN Usage in PHP\nDESCRIPTION: This snippet shows how to modify the media-library.php config file to disable the automatic inclusion of the Sortable library via CDN. By setting 'include_sortable_cdn_script' to false, you take responsibility for including the Sortable library manually.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/disable-cdn.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n    ...\n    /*\n     * When disabling this option, Media Library Pro don't include a script tag to load the Sortable library via a CDN.\n     * You have to include the Sortable library by yourself!\n     */\n    'include_sortable_cdn_script' => false,\n    ...\n```\n\n----------------------------------------\n\nTITLE: Finding and Removing Conversion Directories in Bash\nDESCRIPTION: Bash command to recursively find and remove all conversion directories in the storage/media folder, used when migrating to ensure proper file naming conventions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nfind -type d -name \"conversions\" -exec rm -rf {} \\;\n```\n\n----------------------------------------\n\nTITLE: Updating UUID Field in Media Table using PHP\nDESCRIPTION: This PHP snippet updates the 'uuid' field in the media table with unique UUID values for each row. It uses the Laravel Eloquent ORM and the Str::uuid() helper function.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\nuse Spatie\\MediaLibrary\\MediaCollections\\Models\\Media;\nMedia::cursor()->each(\n   fn (Media $media) => $media->update(['uuid' => Str::uuid()])\n);\n```\n\n----------------------------------------\n\nTITLE: Running GitHub Actions Locally for Laravel Media Library\nDESCRIPTION: Shows how to run GitHub Actions locally using the 'act' tool. This allows developers to test the CI pipeline on their local machine.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nact -j run-tests\n```\n\n----------------------------------------\n\nTITLE: Running Tests for Specific PHP/Laravel Versions\nDESCRIPTION: Demonstrates how to run tests for specific PHP and Laravel versions using the 'act' tool. This is useful for testing compatibility across different versions.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/README.md#2025-04-16_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nact -j run-tests --matrix php:8.3 --matrix laravel:\"11.*\" --matrix dependency-version:prefer-stable\n```\n\n----------------------------------------\n\nTITLE: Documentation Frontmatter in Markdown\nDESCRIPTION: YAML frontmatter block defining the page title and weight for documentation organization\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/_index.md#2025-04-16_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: Advanced usage\nweight: 7\n---\n```\n\n----------------------------------------\n\nTITLE: Upgrading Laravel Mix to Resolve Babel Compatibility Issue\nDESCRIPTION: This snippet shows how to upgrade Laravel Mix to resolve a compatibility issue between @babel/preset-env and certain Node.js versions. It fixes the 'Cannot find module '@babel/compat-data/corejs3-shipped-proposals'' error.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/troubleshooting.md#2025-04-16_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nyarn upgrade laravel-mix\n```\n\n----------------------------------------\n\nTITLE: Configuring TypeScript for Laravel Project\nDESCRIPTION: This snippet demonstrates how to modify the tsconfig.json file to resolve TypeScript checking errors like 'Cannot find name 'describe'' or 'Cannot find name 'test''. It shows two possible solutions: including specific directories or excluding the vendor directory.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/troubleshooting.md#2025-04-16_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n\"include\": [\"resources/**/*\"]\n```\n\nLANGUAGE: json\nCODE:\n```\n\"exclude\": [\"vendor\"]\n```\n\n----------------------------------------\n\nTITLE: YAML Frontmatter Configuration for Laravel Medialibrary Documentation\nDESCRIPTION: YAML frontmatter that defines the configuration for the Laravel Medialibrary v11 documentation page. It specifies the package version, slogan, GitHub repository URL, and which branch the documentation is based on.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/_index.md#2025-04-16_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: v11\nslogan: Associate files with Eloquent models.\ngithubUrl: https://github.com/spatie/laravel-medialibrary\nbranch: main\n---\n```\n\n----------------------------------------\n\nTITLE: Applying Custom Image Generator to Specific Model in Laravel\nDESCRIPTION: This snippet illustrates how to override the getImageGenerators method in a specific model to apply a custom image generator only to that model. It extends the parent collection of generators with the custom PowerPoint generator.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/creating-a-custom-image-generator.md#2025-04-16_snippet_3\n\nLANGUAGE: php\nCODE:\n```\nnamespace App\\Models;\n\nuse Illuminate\\Database\\Eloquent\\Model;\nuse Spatie\\MediaLibrary\\InteractsWithMedia;\nuse Spatie\\MediaLibrary\\Interfaces\\HasMedia;\n\nclass News extends Model implements HasMedia\n{\n   ...\n\n   /**\n    * Collection of all ImageGenerator drivers.\n    */\n   public function getImageGenerators() : Collection\n   {\n       return parent::getImageGenerators()->push(\\App\\ImageGenerators\\PowerPoint::class);\n   }\n}\n```\n\n----------------------------------------\n\nTITLE: Passing Configuration to Custom Image Generator in Laravel\nDESCRIPTION: This code demonstrates how to pass configuration values to a custom image generator when registering it in the Laravel Media Library config file. It also shows how to accept these arguments in the generator's constructor.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/creating-a-custom-image-generator.md#2025-04-16_snippet_2\n\nLANGUAGE: php\nCODE:\n```\n// in config/laravel-medialibrary.php\n'image_generators' => [\n    // ...\n    YourImageGenerator::class => ['myArgument' => 'value', 'myOtherArgument' => 'otherValue'],\n],\n\nclass YourImageGenerator\n{\n    public function __construct(string $myArgument, string $myOtherArgument)\n    {\n        // do something with these arguments\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Registering Custom Image Generator in Laravel Media Library Config\nDESCRIPTION: This snippet shows how to register a custom image generator in the Laravel Media Library configuration file. It adds the custom generator class to the 'image_generators' array in the config file.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/creating-a-custom-image-generator.md#2025-04-16_snippet_1\n\nLANGUAGE: php\nCODE:\n```\n// in config/laravel-medialibrary.php\n'image_generators' => [\n    // ...\n    YourImageGenerator::class,\n],\n```\n\n----------------------------------------\n\nTITLE: Running Media Library Regeneration Artisan Command\nDESCRIPTION: Artisan command to regenerate all media conversions, used after updating file naming conventions when upgrading to v7.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/UPGRADING.md#2025-04-16_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nphp artisan medialibrary:regenerate\n```\n\n----------------------------------------\n\nTITLE: Adding Custom Properties to Media in Laravel Media Library\nDESCRIPTION: Demonstrates how to add custom properties when adding a file to the media library using the withCustomProperties method.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/advanced-usage/using-custom-properties.md#2025-04-16_snippet_0\n\nLANGUAGE: php\nCODE:\n```\n$mediaItem = $yourModel\n    ->addMedia($pathToFile)\n    ->withCustomProperties(['primaryColor' => 'red'])\n    ->toMediaCollection();\n```\n\n----------------------------------------\n\nTITLE: Installing PHP-FFMpeg Package for Video Conversions\nDESCRIPTION: Composer command to install the PHP-FFMpeg package required for video conversions in Laravel Medialibrary.\nSOURCE: https://github.com/spatie/laravel-medialibrary/blob/main/docs/converting-other-file-types/using-image-generators.md#2025-04-16_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncomposer require php-ffmpeg/php-ffmpeg\n```"
  }
]