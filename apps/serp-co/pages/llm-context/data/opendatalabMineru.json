[
  {
    "owner": "opendatalab",
    "repo": "mineru",
    "content": "TITLE: Initializing and Running PDF to Markdown Conversion Pipeline in Python\nDESCRIPTION: This snippet demonstrates how to set up the environment, read a PDF file, and convert it to markdown using the MinerU pipeline. It includes creating necessary directories, reading the PDF content, and applying the conversion process.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/pipeline.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter, FileBasedDataReader\nfrom magic_pdf.data.dataset import PymuDocDataset\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\n\n# args\npdf_file_name = \"abc.pdf\"  # replace with the real pdf path\nname_without_suff = pdf_file_name.split(\".\")[0]\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# read bytes\nreader1 = FileBasedDataReader(\"\")\npdf_bytes = reader1.read(pdf_file_name)  # read the pdf content\n\n# proc\n## Create Dataset Instance\nds = PymuDocDataset(pdf_bytes)\n\nds.apply(doc_analyze, ocr=True).pipe_ocr_mode(image_writer).dump_md(md_writer, f\"{name_without_suff}.md\", image_dir)\n```\n\n----------------------------------------\n\nTITLE: Complete Example Workflow for MinerU\nDESCRIPTION: A full example demonstrating how to start Elasticsearch, set environment variables, ingest PDF data, and query the processed information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# Start the es service\ndocker compose up -d\n\nor\n\ndocker-compose up -d\n\n\n# Set environment variables\nexport ES_USER=elastic\nexport ES_PASSWORD=llama_index\nexport ES_URL=http://127.0.0.1:9200\nexport DASHSCOPE_API_KEY={some_key}\n\n\n# Ingest data\npython data_ingestion.py example/data/declaration_of_the_rights_of_man_1789.pdf\n\n\n# Ask a question\npython query.py -q 'how about the rights of men'\n\n## outputs\nPlease answer the question based on the content within ```:\n            ```\n            I. Men are born, and always continue, free and equal in respect of their rights. Civil distinctions, therefore, can be founded only on public utility.\n            ```\n            My question is：how about the rights of men。\n\nquestion: how about the rights of men\nanswer: The statement implies that men are born free and equal in terms of their rights. Civil distinctions should only be based on public utility. However, it does not specify what those rights are. It is up to society and individual countries to determine and protect the specific rights of their citizens.\n```\n\n----------------------------------------\n\nTITLE: Processing Local PDF Files with MinerU\nDESCRIPTION: Example showing how to process local PDF files using MinerU library. Includes PDF reading, analysis, pipeline processing, and output generation in various formats including markdown and JSON.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/usage/api.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter, FileBasedDataReader\nfrom magic_pdf.data.dataset import PymuDocDataset\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\nfrom magic_pdf.config.enums import SupportedPdfParseMethod\n\n# args\npdf_file_name = \"abc.pdf\"  # replace with the real pdf path\nname_without_suff = pdf_file_name.split(\".\")[0]\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# read bytes\nreader1 = FileBasedDataReader(\"\")\npdf_bytes = reader1.read(pdf_file_name)  # read the pdf content\n\n# proc\n## Create Dataset Instance\nds = PymuDocDataset(pdf_bytes)\n\n## inference\nif ds.classify() == SupportedPdfParseMethod.OCR:\n    infer_result = ds.apply(doc_analyze, ocr=True)\n\n    ## pipeline\n    pipe_result = infer_result.pipe_ocr_mode(image_writer)\n\nelse:\n    infer_result = ds.apply(doc_analyze, ocr=False)\n\n    ## pipeline\n    pipe_result = infer_result.pipe_txt_mode(image_writer)\n\n### draw model result on each page\ninfer_result.draw_model(os.path.join(local_md_dir, f\"{name_without_suff}_model.pdf\"))\n\n### get model inference result\nmodel_inference_result = infer_result.get_infer_res()\n\n### draw layout result on each page\npipe_result.draw_layout(os.path.join(local_md_dir, f\"{name_without_suff}_layout.pdf\"))\n\n### draw spans result on each page\npipe_result.draw_span(os.path.join(local_md_dir, f\"{name_without_suff}_spans.pdf\"))\n\n### get markdown content\nmd_content = pipe_result.get_markdown(image_dir)\n\n### dump markdown\npipe_result.dump_md(md_writer, f\"{name_without_suff}.md\", image_dir)\n\n### get content list content\ncontent_list_content = pipe_result.get_content_list(image_dir)\n\n### dump content list\npipe_result.dump_content_list(md_writer, f\"{name_without_suff}_content_list.json\", image_dir)\n\n### get middle json\nmiddle_json_content = pipe_result.get_middle_json()\n\n### dump middle json\npipe_result.dump_middle_json(md_writer, f'{name_without_suff}_middle.json')\n```\n\n----------------------------------------\n\nTITLE: Converting PDF via Python API\nDESCRIPTION: A comprehensive example of using the Python API to convert PDF files. This code reads a PDF file, creates necessary directories, processes the PDF by automatically selecting between OCR and text extraction modes, and outputs the converted content as markdown with extracted images.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_pdf.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter, FileBasedDataReader\nfrom magic_pdf.data.dataset import PymuDocDataset\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\n\n# args\npdf_file_name = \"abc.pdf\"  # replace with the real pdf path\nname_without_suff = pdf_file_name.split(\".\")[0]\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# read bytes\nreader1 = FileBasedDataReader(\"\")\npdf_bytes = reader1.read(pdf_file_name)  # read the pdf content\n\n# proc\n## Create Dataset Instance\nds = PymuDocDataset(pdf_bytes)\n\n## inference\nif ds.classify() == SupportedPdfParseMethod.OCR:\n    ds.apply(doc_analyze, ocr=True).pipe_ocr_mode(image_writer).dump_md(\n    md_writer, f\"{name_without_suff}.md\", image_dir\n)\n\nelse:\n    ds.apply(doc_analyze, ocr=False).pipe_txt_mode(image_writer).dump_md(\n    md_writer, f\"{name_without_suff}.md\", image_dir\n)\n```\n\n----------------------------------------\n\nTITLE: Using Magic-PDF Command Line Tool in Bash\nDESCRIPTION: Detailed help information for the magic-pdf command line tool, showing all available options including path specification, output directory, parsing methods, language settings, and page range options.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/usage/command_line.rst#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nmagic-pdf --help\nUsage: magic-pdf [OPTIONS]\n\nOptions:\n  -v, --version                display the version and exit\n  -p, --path PATH              local filepath or directory. support PDF, PPT,\n                               PPTX, DOC, DOCX, PNG, JPG files  [required]\n  -o, --output-dir PATH        output local directory  [required]\n  -m, --method [ocr|txt|auto]  the method for parsing pdf. ocr: using ocr\n                               technique to extract information from pdf. txt:\n                               suitable for the text-based pdf only and\n                               outperform ocr. auto: automatically choose the\n                               best method for parsing pdf from ocr and txt.\n                               without method specified, auto will be used by\n                               default.\n  -l, --lang TEXT              Input the languages in the pdf (if known) to\n                               improve OCR accuracy.  Optional. You should\n                               input \"Abbreviation\" with language form url: ht\n                               tps://paddlepaddle.github.io/PaddleOCR/en/ppocr\n                               /blog/multi_languages.html#5-support-languages-\n                               and-abbreviations\n  -d, --debug BOOLEAN          Enables detailed debugging information during\n                               the execution of the CLI commands.\n  -s, --start INTEGER          The starting page for PDF parsing, beginning\n                               from 0.\n  -e, --end INTEGER            The ending page for PDF parsing, beginning from\n                               0.\n  --help                       Show this message and exit.\n```\n\n----------------------------------------\n\nTITLE: Converting PDF via Command Line\nDESCRIPTION: A simple command line example for converting a PDF file using magic-pdf with automatic mode detection. The command accepts a PDF input file path and specifies an output directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_pdf.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\n# make sure the file have correct suffix\nmagic-pdf -p a.pdf -o output -m auto\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU with conda for CPU Usage\nDESCRIPTION: Commands to create a conda environment named 'mineru' with Python version less than 3.13 and install the magic-pdf package with full dependencies.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_17\n\nLANGUAGE: bash\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\npip install -U \"magic-pdf[full]\"\n```\n\n----------------------------------------\n\nTITLE: Minimal PDF to Markdown Conversion Pipeline in Python\nDESCRIPTION: This snippet shows the core steps for converting a PDF to markdown using the MinerU pipeline, excluding setup and environment preparation. It demonstrates reading the PDF content, creating a dataset instance, and applying the conversion process.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/pipeline.rst#2025-04-07_snippet_2\n\nLANGUAGE: python\nCODE:\n```\n# read bytes\nreader1 = FileBasedDataReader(\"\")\npdf_bytes = reader1.read(pdf_file_name)  # read the pdf content\n\n# proc\n## Create Dataset Instance\nds = PymuDocDataset(pdf_bytes)\n\nds.apply(doc_analyze, ocr=True).pipe_ocr_mode(image_writer).dump_md(md_writer, f\"{name_without_suff}.md\", image_dir)\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU and Dependencies with Conda\nDESCRIPTION: Steps to clone the MinerU repository, create a Conda environment, and install the package with additional dependencies.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/opendatalab/MinerU.git\ncd MinerU\n\nconda create -n MinerU python=3.10\nconda activate MinerU\npip install .[full] --extra-index-url https://wheels.myhloli.com\n```\n\n----------------------------------------\n\nTITLE: Configuring JSON for CUDA Acceleration in Magic-PDF\nDESCRIPTION: JSON configuration snippet showing how to modify the magic-pdf.json file to enable CUDA acceleration by changing the device-mode setting.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"device-mode\": \"cuda\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring MinerU Features in JSON Configuration File\nDESCRIPTION: Sample JSON configuration showing options to enable or disable features like formula recognition and table recognition in the magic-pdf.json file located in the user directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_18\n\nLANGUAGE: json\nCODE:\n```\n{\n    // other config\n    \"layout-config\": {\n        \"model\": \"doclayout_yolo\" \n    },\n    \"formula-config\": {\n        \"mfd_model\": \"yolo_v8_mfd\",\n        \"mfr_model\": \"unimernet_small\",\n        \"enable\": true  // The formula recognition feature is enabled by default. If you need to disable it, please change the value here to \"false\".\n    },\n    \"table-config\": {\n        \"model\": \"rapid_table\", \n        \"sub_model\": \"slanet_plus\",\n        \"enable\": true, // The table recognition feature is enabled by default. If you need to disable it, please change the value here to \"false\".\n        \"max_time\": 400\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Data Ingestion for PDF Documents\nDESCRIPTION: Commands for loading data from a single PDF file or from multiple PDF files in a directory using the data_ingestion.py script.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npython data_ingestion.py -p some.pdf  # load data from pdf\n\n    or\n\npython data_ingestion.py -p /opt/data/some_pdf_directory/ # load data from multiples pdf which under the directory of {some_pdf_directory}\n```\n\n----------------------------------------\n\nTITLE: Building and Running MinerU Docker Container\nDESCRIPTION: Commands to download the Dockerfile, build the MinerU Docker image, run the container with GPU support, and verify installation by checking the help command.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/usage/docker.rst#2025-04-07_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nwget https://github.com/opendatalab/MinerU/raw/master/Dockerfile\ndocker build -t mineru:latest .\ndocker run --rm -it --gpus=all mineru:latest /bin/bash\nmagic-pdf --help\n```\n\n----------------------------------------\n\nTITLE: Starting the MinerU Gradio Application\nDESCRIPTION: Launches the MinerU application with the Gradio web interface by executing the app.py script. After running this command, the application will be accessible via a web browser.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/gradio_app/README.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npython app.py\n```\n\n----------------------------------------\n\nTITLE: Starting MinerU Web Demo Service\nDESCRIPTION: Instructions for navigating to the program directory and starting the web demo service using Python.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Navigate to the program directory\ncd projects/web_demo/web_demo\n# Start the service\npython3 app.py or python app.py\n# Access the interface by visiting the started address in the browser\n```\n\n----------------------------------------\n\nTITLE: Converting Images with MinerU API\nDESCRIPTION: Uses the MinerU Python API to convert an image file programmatically with OCR capabilities. The code sets up the environment, prepares output directories, reads the input image, and processes it using document analysis with OCR enabled.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_image.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\nfrom magic_pdf.data.read_api import read_local_images\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# proc\n## Create Dataset Instance\ninput_file = \"some_image.jpg\"       # replace with real image file\n\ninput_file_name = input_file.split(\".\")[0]\nds = read_local_images(input_file)[0]\n\n# ocr mode\nds.apply(doc_analyze, ocr=True).pipe_ocr_mode(image_writer).dump_md(\n    md_writer, f\"{input_file_name}.md\", image_dir\n)\n```\n\n----------------------------------------\n\nTITLE: Configuring CUDA Acceleration in magic-pdf\nDESCRIPTION: JSON configuration example showing how to modify the magic-pdf.json file to enable CUDA acceleration for faster processing.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"device-mode\":\"cuda\"\n}\n```\n\n----------------------------------------\n\nTITLE: Querying Processed Documents\nDESCRIPTION: Command to ask questions about the ingested documents using the query.py script.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npython query.py --question '{the_question_you_want_to_ask}'\n```\n\n----------------------------------------\n\nTITLE: Downloading MinerU Model Files from Hugging Face using Python\nDESCRIPTION: This snippet demonstrates how to install the required package, download a Python script, and execute it to download model files from Hugging Face. The script automatically configures the model directory in the configuration file.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/how_to_download_models_en.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npip install huggingface_hub\nwget https://github.com/opendatalab/MinerU/raw/master/scripts/download_models_hf.py -O download_models_hf.py\npython download_models_hf.py\n```\n\n----------------------------------------\n\nTITLE: Processing MS-Office Files with Magic-PDF API\nDESCRIPTION: Python script demonstrating the use of Magic-PDF API for processing MS-Office files. It includes environment setup, dataset creation, and conditional processing based on file classification (OCR or text mode).\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_ms_office.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter, FileBasedDataReader\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\nfrom magic_pdf.data.read_api import read_local_office\nfrom magic_pdf.config.enums import SupportedPdfParseMethod\n\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# proc\n## Create Dataset Instance\ninput_file = \"some_doc.doc\"     # replace with real ms-office file, we support MS-DOC, MS-DOCX, MS-PPT, MS-PPTX now\n\ninput_file_name = input_file.split(\".\")[0]\nds = read_local_office(input_file)[0]\n\n\n## inference\nif ds.classify() == SupportedPdfParseMethod.OCR:\n    ds.apply(doc_analyze, ocr=True).pipe_ocr_mode(image_writer).dump_md(\n    md_writer, f\"{input_file_name}.md\", image_dir)\nelse:\n    ds.apply(doc_analyze, ocr=False).pipe_txt_mode(image_writer).dump_md(\n    md_writer, f\"{input_file_name}.md\", image_dir)\n```\n\n----------------------------------------\n\nTITLE: Downloading and Processing a Sample PDF File for Testing\nDESCRIPTION: PowerShell commands to download a sample PDF file from the MinerU repository and process it using magic-pdf, saving the output to a specified directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_3\n\nLANGUAGE: powershell\nCODE:\n```\nwget https://github.com/opendatalab/MinerU/raw/master/demo/pdfs/small_ocr.pdf -O small_ocr.pdf\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Testing CUDA Acceleration with magic-pdf\nDESCRIPTION: Command to test the CUDA acceleration by processing the same sample PDF file after enabling CUDA mode in the configuration.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Implementing PDF Parsing Pipeline in Python\nDESCRIPTION: Python code snippet showing how to implement the PDF parsing pipeline using the magic_pdf library. The code initializes the parsing function and creates a PipeResult object with the parsed data and a dataset reference.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/pipe_result.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.pdf_parse_union_core_v2 import pdf_parse_union\nfrom magic_pdf.operators.pipes import PipeResult\nfrom magic_pdf.data.dataset import Dataset\n\nres = pdf_parse_union(*args, **kwargs)\nres['_parse_type'] = PARSE_TYPE_OCR\nres['_version_name'] = __version__\nif 'lang' in kwargs and kwargs['lang'] is not None:\n    res['lang'] = kwargs['lang']\n\ndataset : Dataset = some_dataset   # not real dataset\npipeResult = PipeResult(res, dataset)\n```\n\n----------------------------------------\n\nTITLE: Creating Conda Environment for MinerU in Shell\nDESCRIPTION: This snippet creates a Conda environment named 'mineru' with Python version less than 3.13, activates it, and installs the 'magic-pdf' package with full dependencies.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/install.rst#2025-04-07_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\npip install -U \"magic-pdf[full]\"\n```\n\n----------------------------------------\n\nTITLE: Downloading Model Weights for MinerU in Shell\nDESCRIPTION: This snippet installs the 'huggingface_hub' package, downloads a Python script for model weight retrieval, and executes the script to download the required model weights.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/install.rst#2025-04-07_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\npip install huggingface_hub\nwget https://github.com/opendatalab/MinerU/raw/master/scripts/download_models_hf.py -O download_models_hf.py\npython download_models_hf.py\n```\n\n----------------------------------------\n\nTITLE: Processing MS-Office Files with MinerU\nDESCRIPTION: Example for processing Microsoft Office files (PPT, PPTX, DOC, DOCX) using MinerU library. Shows file reading and conversion to markdown format.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/usage/api.rst#2025-04-07_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nimport os\n\nfrom magic_pdf.data.data_reader_writer import FileBasedDataWriter, FileBasedDataReader\nfrom magic_pdf.model.doc_analyze_by_custom_model import doc_analyze\nfrom magic_pdf.data.read_api import read_local_office\n\n# prepare env\nlocal_image_dir, local_md_dir = \"output/images\", \"output\"\nimage_dir = str(os.path.basename(local_image_dir))\n\nos.makedirs(local_image_dir, exist_ok=True)\n\nimage_writer, md_writer = FileBasedDataWriter(local_image_dir), FileBasedDataWriter(\n    local_md_dir\n)\n\n# proc\n## Create Dataset Instance\ninput_file = \"some_ppt.ppt\"     # replace with real ms-office file\n\ninput_file_name = input_file.split(\".\")[0]\nds = read_local_office(input_file)[0]\n\nds.apply(doc_analyze, ocr=True).pipe_txt_mode(image_writer).dump_md(\n    md_writer, f\"{input_file_name}.md\", image_dir\n)\n```\n\n----------------------------------------\n\nTITLE: Building Frontend Interface in Bash\nDESCRIPTION: Instructions for navigating to the frontend directory, modifying configuration, and building the frontend project using Yarn.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# First, navigate to the front-end directory\ncd projects/web\n\n# Modify the configuration\n# Change the IP in the target field of the file vite.config.ts to your own computer's IP\n\n# Build the front-end project\nnpm install -g yarn\nyarn install\nyarn build\n```\n\n----------------------------------------\n\nTITLE: Installing NVIDIA Drivers on Ubuntu\nDESCRIPTION: Commands to update package lists and install NVIDIA driver version 570 on Ubuntu. This should be performed if the nvidia-smi command doesn't work or shows an older driver version.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nsudo apt-get update\nsudo apt-get install nvidia-driver-570-server\n```\n\n----------------------------------------\n\nTITLE: Configuring Apple Silicon MPS Acceleration\nDESCRIPTION: JSON configuration snippet to enable MPS (Metal Performance Shaders) acceleration for Apple silicon devices by setting the device-mode parameter.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_21\n\nLANGUAGE: json\nCODE:\n```\n{\n    // other config\n    \"device-mode\": \"mps\"\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Reader and Writer Classes in Python\nDESCRIPTION: Base class implementations showing the required methods for custom DataReader and DataWriter classes. Includes abstract methods for reading and writing bytes and strings.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nclass SomeReader(DataReader):\n    def read(self, path: str) -> bytes:\n        pass\n\n    def read_at(self, path: str, offset: int = 0, limit: int = -1) -> bytes:\n        pass\n\n\nclass SomeWriter(DataWriter):\n    def write(self, path: str, data: bytes) -> None:\n        pass\n\n    def write_string(self, path: str, data: str) -> None:\n        pass\n```\n\n----------------------------------------\n\nTITLE: Defining Data Structures for Document Layout Analysis in Python\nDESCRIPTION: This code defines the core data structures used for document layout analysis results, including category types (text, figures, tables, formulas), page information, and object detection results. These classes use Pydantic for data validation and typing.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/inference_result.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom pydantic import BaseModel, Field\nfrom enum import IntEnum\n\nclass CategoryType(IntEnum):\n        title = 0               # Title\n        plain_text = 1          # Text\n        abandon = 2             # Includes headers, footers, page numbers, and page annotations\n        figure = 3              # Image\n        figure_caption = 4      # Image description\n        table = 5               # Table\n        table_caption = 6       # Table description\n        table_footnote = 7      # Table footnote\n        isolate_formula = 8     # Block formula\n        formula_caption = 9     # Formula label\n\n        embedding = 13          # Inline formula\n        isolated = 14           # Block formula\n        text = 15               # OCR recognition result\n\n\nclass PageInfo(BaseModel):\n    page_no: int = Field(description=\"Page number, the first page is 0\", ge=0)\n    height: int = Field(description=\"Page height\", gt=0)\n    width: int = Field(description=\"Page width\", ge=0)\n\nclass ObjectInferenceResult(BaseModel):\n    category_id: CategoryType = Field(description=\"Category\", ge=0)\n    poly: list[float] = Field(description=\"Quadrilateral coordinates, representing the coordinates of the top-left, top-right, bottom-right, and bottom-left points respectively\")\n    score: float = Field(description=\"Confidence of the inference result\")\n    latex: str | None = Field(description=\"LaTeX parsing result\", default=None)\n    html: str | None = Field(description=\"HTML parsing result\", default=None)\n\nclass PageInferenceResults(BaseModel):\n        layout_dets: list[ObjectInferenceResult] = Field(description=\"Page recognition results\", ge=0)\n        page_info: PageInfo = Field(description=\"Page metadata\")\n```\n\n----------------------------------------\n\nTITLE: Configuring Environment Variables for MinerU\nDESCRIPTION: Setting up necessary environment variables including DashScope API key and Elasticsearch configuration.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nexport DASHSCOPE_API_KEY={some_key}\nexport ES_USER={some_es_user}\nexport ES_PASSWORD={some_es_password}\nexport ES_URL=http://{es_url}:9200\n```\n\n----------------------------------------\n\nTITLE: Checking magic-pdf Version\nDESCRIPTION: Command to verify the installed version of magic-pdf. It's important to ensure the version is at least 1.3.0 for compatibility with MinerU.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\nmagic-pdf --version\n```\n\n----------------------------------------\n\nTITLE: Defining MinerU PDF Processing Data Models in Python\nDESCRIPTION: This snippet defines the data models used for representing page information, object inference results, and overall page inference results in the MinerU PDF processing system. It includes enums for category types and Pydantic models for structured data representation.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/output_file_en_us.md#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom pydantic import BaseModel, Field\nfrom enum import IntEnum\n\nclass CategoryType(IntEnum):\n     title = 0               # Title\n     plain_text = 1          # Text\n     abandon = 2             # Includes headers, footers, page numbers, and page annotations\n     figure = 3              # Image\n     figure_caption = 4      # Image description\n     table = 5               # Table\n     table_caption = 6       # Table description\n     table_footnote = 7      # Table footnote\n     isolate_formula = 8     # Block formula\n     formula_caption = 9     # Formula label\n\n     embedding = 13          # Inline formula\n     isolated = 14           # Block formula\n     text = 15               # OCR recognition result\n\n\nclass PageInfo(BaseModel):\n    page_no: int = Field(description=\"Page number, the first page is 0\", ge=0)\n    height: int = Field(description=\"Page height\", gt=0)\n    width: int = Field(description=\"Page width\", ge=0)\n\nclass ObjectInferenceResult(BaseModel):\n    category_id: CategoryType = Field(description=\"Category\", ge=0)\n    poly: list[float] = Field(description=\"Quadrilateral coordinates, representing the coordinates of the top-left, top-right, bottom-right, and bottom-left points respectively\")\n    score: float = Field(description=\"Confidence of the inference result\")\n    latex: str | None = Field(description=\"LaTeX parsing result\", default=None)\n    html: str | None = Field(description=\"HTML parsing result\", default=None)\n\nclass PageInferenceResults(BaseModel):\n     layout_dets: list[ObjectInferenceResult] = Field(description=\"Page recognition results\", ge=0)\n     page_info: PageInfo = Field(description=\"Page metadata\")\n\n\n# The inference results of all pages, ordered by page number, are stored in a list as the inference results of MinerU\ninference_result: list[PageInferenceResults] = []\n```\n\n----------------------------------------\n\nTITLE: Configuring MinerU with magic-pdf.json\nDESCRIPTION: Complete configuration file for MinerU with settings for bucket information, model directories, and various processing features including layout analysis, formula recognition, and table extraction.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/config.rst#2025-04-07_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"bucket_info\":{\n        \"bucket-name-1\":[\"ak\", \"sk\", \"endpoint\"],\n        \"bucket-name-2\":[\"ak\", \"sk\", \"endpoint\"]\n    },\n    \"models-dir\":\"/tmp/models\",\n    \"layoutreader-model-dir\":\"/tmp/layoutreader\",\n    \"device-mode\":\"cpu\",\n    \"layout-config\": {\n        \"model\": \"layoutlmv3\"\n    },\n    \"formula-config\": {\n        \"mfd_model\": \"yolo_v8_mfd\",\n        \"mfr_model\": \"unimernet_small\",\n        \"enable\": true\n    },\n    \"table-config\": {\n        \"model\": \"rapid_table\",\n        \"enable\": false,\n        \"max_time\": 400    \n    },\n    \"config_version\": \"1.0.0\"\n}\n```\n\n----------------------------------------\n\nTITLE: Testing CUDA Compatibility for Docker Deployment\nDESCRIPTION: Command to check if the device supports CUDA acceleration within Docker by running an NVIDIA CUDA container and displaying GPU information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_19\n\nLANGUAGE: bash\nCODE:\n```\ndocker run --rm --gpus=all nvidia/cuda:12.1.0-base-ubuntu22.04 nvidia-smi\n```\n\n----------------------------------------\n\nTITLE: Installing LibreOffice on Linux/macOS for MinerU\nDESCRIPTION: This command installs LibreOffice on Linux or macOS systems using the appropriate package manager (apt-get, yum, or brew). This is optional and required only for processing doc, docx, ppt, and pptx file types.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/install.rst#2025-04-07_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\napt-get/yum/brew install libreoffice\n```\n\n----------------------------------------\n\nTITLE: Installing and Uninstalling Third-Party Dependencies\nDESCRIPTION: Commands to install required third-party packages like llama-index components and to uninstall transformer-engine if needed.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# install\npip install llama-index-vector-stores-elasticsearch==0.2.0\npip install llama-index-embeddings-dashscope==0.2.0\npip install llama-index-core==0.10.68\npip install einops==0.7.0\npip install transformers-stream-generator==0.0.5\npip install accelerate==0.33.0\n\n# uninstall\npip uninstall transformer-engine\n```\n\n----------------------------------------\n\nTITLE: Defining Abstract Pipeline Components in Python\nDESCRIPTION: This snippet shows the abstract base classes and key methods for the pipeline components: Dataset, InferenceResult, and PipeResult. It demonstrates the common 'apply' method pattern used for chaining operations in the pipeline.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/pipeline.rst#2025-04-07_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nclass Dataset(ABC):\n    @abstractmethod\n    def apply(self, proc: Callable, *args, **kwargs):\n        \"\"\"Apply callable method which.\n\n        Args:\n            proc (Callable): invoke proc as follows:\n                proc(self, *args, **kwargs)\n\n        Returns:\n            Any: return the result generated by proc\n        \"\"\"\n        pass\n\nclass InferenceResult(InferenceResultBase):\n\n    def apply(self, proc: Callable, *args, **kwargs):\n        \"\"\"Apply callable method which.\n\n        Args:\n            proc (Callable): invoke proc as follows:\n                proc(inference_result, *args, **kwargs)\n\n        Returns:\n            Any: return the result generated by proc\n        \"\"\"\n        return proc(copy.deepcopy(self._infer_res), *args, **kwargs)\n\n    def pipe_ocr_mode(\n        self,\n        imageWriter: DataWriter,\n        start_page_id=0,\n        end_page_id=None,\n        debug_mode=False,\n        lang=None,\n        ) -> PipeResult:\n        pass\n\nclass PipeResult:\n    def apply(self, proc: Callable, *args, **kwargs):\n        \"\"\"Apply callable method which.\n\n        Args:\n            proc (Callable): invoke proc as follows:\n                proc(pipeline_result, *args, **kwargs)\n\n        Returns:\n            Any: return the result generated by proc\n        \"\"\"\n        return proc(copy.deepcopy(self._pipe_res), *args, **kwargs)\n```\n\n----------------------------------------\n\nTITLE: PDF Parsing JSON Structure Example\nDESCRIPTION: Example JSON output from a PDF parsing operation showing the hierarchical structure of blocks, lines, and spans. The structure includes page information, bounding boxes, content extraction, and layout information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/pipe_result.rst#2025-04-07_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"pdf_info\": [\n        {\n            \"preproc_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ],\n            \"layout_bboxes\": [\n                {\n                    \"layout_bbox\": [\n                        52,\n                        61,\n                        294,\n                        731\n                    ],\n                    \"layout_label\": \"V\",\n                    \"sub_layout\": []\n                }\n            ],\n            \"page_idx\": 0,\n            \"page_size\": [\n                612.0,\n                792.0\n            ],\n            \"_layout_tree\": [],\n            \"images\": [],\n            \"tables\": [],\n            \"interline_equations\": [],\n            \"discarded_blocks\": [],\n            \"para_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    \"_parse_type\": \"txt\",\n    \"_version_name\": \"0.6.1\"\n}\n```\n\n----------------------------------------\n\nTITLE: Creating an InferenceResult Instance in Python\nDESCRIPTION: This code demonstrates how to create an InferenceResult instance by combining model inference results with a dataset. The InferenceResult class provides methods for visualization and exporting of the model predictions.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/inference_result.rst#2025-04-07_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.operators.models import InferenceResult\nfrom magic_pdf.data.dataset import Dataset\n\ndataset : Dataset = some_data_set    # not real dataset\n\n# The inference results of all pages, ordered by page number, are stored in a list as the inference results of MinerU\nmodel_inference_result: list[PageInferenceResults] = []\n\nInference_result = InferenceResult(model_inference_result, dataset)\n```\n\n----------------------------------------\n\nTITLE: Configuring layout-config in MinerU\nDESCRIPTION: Configuration for the layout analysis module in MinerU. Currently only supports the layoutlmv3 model.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/config.rst#2025-04-07_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"model\": \"layoutlmv3\"  \n}\n```\n\n----------------------------------------\n\nTITLE: Checking NVIDIA Driver Installation Status with nvidia-smi\nDESCRIPTION: Command to verify if NVIDIA drivers are correctly installed on the system. The output displays driver version, CUDA version, and GPU status information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnvidia-smi\n```\n\n----------------------------------------\n\nTITLE: Example JSON Output for PDF Analysis Results\nDESCRIPTION: This JSON snippet demonstrates the structure of the output file some_pdf_model.json, which contains inference results for multiple pages of a PDF, including layout details and page information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/output_file_description.rst#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n[\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 2,\n                \"poly\": [\n                    99.1906967163086,\n                    100.3119125366211,\n                    730.3707885742188,\n                    100.3119125366211,\n                    730.3707885742188,\n                    245.81326293945312,\n                    99.1906967163086,\n                    245.81326293945312\n                ],\n                \"score\": 0.9999997615814209\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 0,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    },\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 5,\n                \"poly\": [\n                    99.13092803955078,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2264.78076171875,\n                    99.13092803955078,\n                    2264.78076171875\n                ],\n                \"score\": 0.9999997019767761\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 1,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    }\n]\n```\n\n----------------------------------------\n\nTITLE: Reading JSONL Files from Local and S3 Storage in Python\nDESCRIPTION: This snippet demonstrates how to read JSONL files from both local storage and remote S3 buckets. It uses the read_jsonl function and configures S3 access for multiple buckets.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/read_api.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.data.read_api import *\nfrom magic_pdf.data.data_reader_writer import MultiBucketS3DataReader\nfrom magic_pdf.data.schemas import S3Config\n\n# read jsonl from local machine\ndatasets = read_jsonl(\"tt.jsonl\", None)   # replace with real jsonl file\n\n# read jsonl from remote s3\n\nbucket = \"bucket_1\"                     # replace with real s3 bucket\nak = \"access_key_1\"                     # replace with real s3 access key\nsk = \"secret_key_1\"                     # replace with real s3 secret key\nendpoint_url = \"endpoint_url_1\"         # replace with real s3 endpoint url\n\nbucket_2 = \"bucket_2\"                   # replace with real s3 bucket\nak_2 = \"access_key_2\"                   # replace with real s3 access key\nsk_2 = \"secret_key_2\"                   # replace with real s3 secret key\nendpoint_url_2 = \"endpoint_url_2\"       # replace with real s3 endpoint url\n\ns3configs = [\n    S3Config(\n        bucket_name=bucket, access_key=ak, secret_key=sk, endpoint_url=endpoint_url\n    ),\n    S3Config(\n        bucket_name=bucket_2,\n        access_key=ak_2,\n        secret_key=sk_2,\n        endpoint_url=endpoint_url_2,\n    ),\n]\n\ns3_reader = MultiBucketS3DataReader(bucket, s3configs)\n\ndatasets = read_jsonl(f\"s3://bucket_1/tt.jsonl\", s3_reader)  # replace with real s3 jsonl file\n```\n\n----------------------------------------\n\nTITLE: Example PDF Parsing JSON Structure\nDESCRIPTION: A complete example showing the JSON structure of a parsed PDF document. This includes the pdf_info array containing page parsing results, parse type, and version information. The example demonstrates a page with text content organized into blocks, lines, and spans.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/output_file_en_us.md#2025-04-07_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"pdf_info\": [\n        {\n            \"preproc_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ],\n            \"layout_bboxes\": [\n                {\n                    \"layout_bbox\": [\n                        52,\n                        61,\n                        294,\n                        731\n                    ],\n                    \"layout_label\": \"V\",\n                    \"sub_layout\": []\n                }\n            ],\n            \"page_idx\": 0,\n            \"page_size\": [\n                612.0,\n                792.0\n            ],\n            \"_layout_tree\": [],\n            \"images\": [],\n            \"tables\": [],\n            \"interline_equations\": [],\n            \"discarded_blocks\": [],\n            \"para_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    \"_parse_type\": \"txt\",\n    \"_version_name\": \"0.6.1\"\n}\n```\n\n----------------------------------------\n\nTITLE: Reading Local PDF Files in Python\nDESCRIPTION: This snippet shows how to read PDF files from a local path or directory using the read_local_pdfs function. It can handle both single PDF files and directories containing multiple PDFs.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/read_api.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.data.read_api import *\n\n# read pdf path\ndatasets = read_local_pdfs(\"tt.pdf\")\n\n# read pdfs under directory\ndatasets = read_local_pdfs(\"pdfs/\")\n```\n\n----------------------------------------\n\nTITLE: Checking NVIDIA Driver Installation\nDESCRIPTION: Command to verify NVIDIA driver installation and CUDA version on Ubuntu\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnvidia-smi\n```\n\n----------------------------------------\n\nTITLE: Downloading and Processing a Sample PDF File with magic-pdf\nDESCRIPTION: Commands to download a sample PDF file from the MinerU repository and process it using magic-pdf. The output is saved to the ./output directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nwget https://github.com/opendatalab/MinerU/raw/master/demo/pdfs/small_ocr.pdf\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Configuring Model Directory Path in magic-pdf.json\nDESCRIPTION: JSON configuration example showing how to set the absolute path for model files in the magic-pdf.json configuration file.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"models-dir\": \"/tmp/models\"\n}\n```\n\n----------------------------------------\n\nTITLE: Document Structure Analysis JSON Format\nDESCRIPTION: JSON representation of a document's structure including text blocks with bounding boxes, layout information, and page metadata. Contains coordinates for text positioning, content extraction, and hierarchical layout information. Used for document processing and analysis in the MinerU project.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/zh_cn/user_guide/tutorial/output_file_description.rst#2025-04-07_snippet_0\n\nLANGUAGE: JSON\nCODE:\n```\n{\n   \"preproc_blocks\": [\n       {\n           \"type\": \"text\",\n           \"bbox\": [\n               52,\n               61.956024169921875,\n               294,\n               82.99800872802734\n           ],\n           \"lines\": [\n               {\n                   \"bbox\": [\n                       52,\n                       61.956024169921875,\n                       294,\n                       72.0000228881836\n                   ],\n                   \"spans\": [\n                       {\n                           \"bbox\": [\n                               54.0,\n                               61.956024169921875,\n                               296.2261657714844,\n                               72.0000228881836\n                           ],\n                           \"content\": \"dependent on the service headway and the reliability of the departure \",\n                           \"type\": \"text\",\n                           \"score\": 1.0\n                       }\n                   ]\n               }\n           ]\n       }\n   ],\n   \"layout_bboxes\": [\n       {\n           \"layout_bbox\": [\n               52,\n               61,\n               294,\n               731\n           ],\n           \"layout_label\": \"V\",\n           \"sub_layout\": []\n       }\n   ],\n   \"page_idx\": 0,\n   \"page_size\": [\n       612.0,\n       792.0\n   ],\n   \"_layout_tree\": [],\n   \"images\": [],\n   \"tables\": [],\n   \"interline_equations\": [],\n   \"discarded_blocks\": [],\n   \"para_blocks\": [\n       {\n           \"type\": \"text\",\n           \"bbox\": [\n               52,\n               61.956024169921875,\n               294,\n               82.99800872802734\n           ],\n           \"lines\": [\n               {\n                   \"bbox\": [\n                       52,\n                       61.956024169921875,\n                       294,\n                       72.0000228881836\n                   ],\n                   \"spans\": [\n                       {\n                           \"bbox\": [\n                               54.0,\n                               61.956024169921875,\n                               296.2261657714844,\n                               72.0000228881836\n                           ],\n                           \"content\": \"dependent on the service headway and the reliability of the departure \",\n                           \"type\": \"text\",\n                           \"score\": 1.0\n                       }\n                   ]\n               }\n           ]\n       }\n   ],\n   \"_parse_type\": \"txt\",\n   \"_version_name\": \"0.6.1\"\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Pipeline Function for Page Counting in Python\nDESCRIPTION: This snippet demonstrates how to implement a custom function to count the number of pages in a PDF file using the MinerU pipeline. It shows how to read the PDF, create a dataset instance, and apply the custom counting function.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/pipeline.rst#2025-04-07_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.data.data_reader_writer import  FileBasedDataReader\nfrom magic_pdf.data.dataset import PymuDocDataset\n\n# args\npdf_file_name = \"abc.pdf\"  # replace with the real pdf path\n\n# read bytes\nreader1 = FileBasedDataReader(\"\")\npdf_bytes = reader1.read(pdf_file_name)  # read the pdf content\n\n# proc\n## Create Dataset Instance\nds = PymuDocDataset(pdf_bytes)\n\ndef count_page(ds)-> int:\n    return len(ds)\n\nprint(\"page number: \", ds.apply(count_page)) # will output the page count of `abc.pdf`\n```\n\n----------------------------------------\n\nTITLE: Reading Local Image Files in Python\nDESCRIPTION: This snippet demonstrates how to read image files from a local path or directory using the read_local_images function. It allows specifying file extensions to filter the images read from a directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/read_api.rst#2025-04-07_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.data.read_api import *\n\n# read from image path \ndatasets = read_local_images(\"tt.png\")  # replace with real file path\n\n# read files from directory that endswith suffix in suffixes array \ndatasets = read_local_images(\"images/\", suffixes=[\".png\", \".jpg\"])  # replace with real directory\n```\n\n----------------------------------------\n\nTITLE: Sample NVIDIA-SMI Output on a System with Drivers Installed\nDESCRIPTION: Example output of the nvidia-smi command showing driver version, CUDA version, and GPU information for an RTX 3060 Ti. This helps users determine if their drivers are properly installed and meet the CUDA 12.4+ requirement.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\n+---------------------------------------------------------------------------------------+\n| NVIDIA-SMI 570.133.07             Driver Version: 572.83         CUDA Version: 12.8   |\n|-----------------------------------------+----------------------+----------------------+\n| GPU  Name                     TCC/WDDM  | Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |\n|                                         |                      |               MIG M. |\n|=========================================+======================+======================|\n|   0  NVIDIA GeForce RTX 3060 Ti   WDDM  | 00000000:01:00.0  On |                  N/A |\n|  0%   51C    P8              12W / 200W |   1489MiB /  8192MiB |      5%      Default |\n|                                         |                      |                  N/A |\n+-----------------------------------------+----------------------+----------------------+\n```\n\n----------------------------------------\n\nTITLE: Configuring formula-config in MinerU\nDESCRIPTION: Configuration for formula detection and recognition in MinerU, specifying models for detection (mfd) and recognition (mfr), and whether the feature is enabled.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/config.rst#2025-04-07_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"mfd_model\": \"yolo_v8_mfd\",   \n    \"mfr_model\": \"unimernet_small\",\n    \"enable\": true \n}\n```\n\n----------------------------------------\n\nTITLE: Sample Nvidia-SMI Output\nDESCRIPTION: Example output of the nvidia-smi command showing driver information, CUDA version, and GPU status including memory usage and utilization.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\n+---------------------------------------------------------------------------------------+\n| NVIDIA-SMI 570.133.07             Driver Version: 572.83         CUDA Version: 12.8   |\n|-----------------------------------------+----------------------+----------------------+\n| GPU  Name                     TCC/WDDM  | Bus-Id        Disp.A | Volatile Uncorr. ECC |\n| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |\n|                                         |                      |               MIG M. |\n|=========================================+======================+======================|\n|   0  NVIDIA GeForce RTX 3060 Ti   WDDM  | 00000000:01:00.0  On |                  N/A |\n|  0%   51C    P8              12W / 200W |   1489MiB /  8192MiB |      5%      Default |\n|                                         |                      |                  N/A |\n+-----------------------------------------+----------------------+----------------------+\n```\n\n----------------------------------------\n\nTITLE: Example JSONL Format Structure\nDESCRIPTION: Demonstrates the required structure for JSONL files in MinerU. Each line must be a valid JSON object containing either a 'path' or 'file_location' field.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/glossary.rst#2025-04-07_snippet_0\n\nLANGUAGE: jsonl\nCODE:\n```\n{\n  \"path\": \"/path/to/file\"\n}\n{\n  \"file_location\": \"/another/path/to/file\"\n}\n```\n\n----------------------------------------\n\nTITLE: Reading Local MS Office Files in Python\nDESCRIPTION: This snippet shows how to read Microsoft Office files from a local path or directory using the read_local_office function. It can handle both single files and directories containing multiple Office documents.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/read_api.rst#2025-04-07_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.data.read_api import *\n\n# read from image path \ndatasets = read_local_office(\"tt.doc\")  # replace with real file path\n\n# read files from directory that endswith suffix in suffixes array \ndatasets = read_local_office(\"docs/\")  # replace with real directory\n```\n\n----------------------------------------\n\nTITLE: Testing CUDA Installation on Windows\nDESCRIPTION: Command to install PyTorch with CUDA support on Windows\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\npip install --force-reinstall torch==2.6.0 torchvision==0.21.1 \"numpy<2.0.0\" --index-url https://download.pytorch.org/whl/cu124\n```\n\n----------------------------------------\n\nTITLE: File-Based Reading Examples\nDESCRIPTION: Examples demonstrating how to use FileBasedDataReader for reading files from different locations and paths.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_4\n\nLANGUAGE: python\nCODE:\n```\nimport os \nfrom magic_pdf.data.data_reader_writer import *\nfrom magic_pdf.data.data_reader_writer import MultiBucketS3DataReader\nfrom magic_pdf.data.schemas import S3Config\n\nfile_based_reader1 = FileBasedDataReader('')\nfile_based_reader1.read('abc')\n\nfile_based_reader2 = FileBasedDataReader('/tmp')\nfile_based_reader2.read('abc')\nfile_based_reader2.read('/tmp/logs/message.txt')\n```\n\n----------------------------------------\n\nTITLE: Configuring table-config in MinerU\nDESCRIPTION: Configuration for table recognition in MinerU, specifying the model to use, whether the feature is enabled, and the maximum processing time before timeout.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/config.rst#2025-04-07_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"model\": \"rapid_table\",\n    \"enable\": false,\n    \"max_time\": 400    \n}\n```\n\n----------------------------------------\n\nTITLE: Specifying Python Package Dependencies for MinerU Project\nDESCRIPTION: This snippet lists the required Python packages for the MinerU project. It includes magic-pdf version 0.8.0 or higher, gradio, and gradio-pdf.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/gradio_app/requirements.txt#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nmagic-pdf[full]>=0.8.0\ngradio\ngradio-pdf\n```\n\n----------------------------------------\n\nTITLE: Displaying Output Directory Structure in Bash\nDESCRIPTION: This bash snippet shows the expected directory structure after running the PDF to markdown conversion process.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/pipeline.rst#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\noutput/\n├── abc.md\n└── images\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom IO Reader and Writer Classes in Python\nDESCRIPTION: Example showing how to create custom IO reader and writer classes by inheriting from the base IOReader and IOWriter classes. The implementation requires overriding the read/read_at methods for readers and the write method for writers to handle custom media sources.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/io.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nclass SomeReader(IOReader):\n    def read(self, path: str) -> bytes:\n        pass\n\n    def read_at(self, path: str, offset: int = 0, limit: int = -1) -> bytes:\n        pass\n\n\nclass SomeWriter(IOWriter):\n    def write(self, path: str, data: bytes) -> None:\n        pass\n```\n\n----------------------------------------\n\nTITLE: Node Type Definition for RAG Integration\nDESCRIPTION: Data model definition for nodes in the RAG system, including properties for content type, text, image paths, and formatting information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_7\n\nLANGUAGE: python\nCODE:\n```\nclass Node(BaseModel):\n    category_type: CategoryType = Field(description='Category') # Category\n    text: str | None = Field(description='Text content', default=None)\n    image_path: str | None = Field(description='Path to image or table (table may be stored as an image)', default=None)\n    anno_id: int = Field(description='Unique ID', default=-1)\n    latex: str | None = Field(description='LaTeX output for equations or tables', default=None)\n    html: str | None = Field(description='HTML output for tables', default=None)\n```\n\n----------------------------------------\n\nTITLE: Defining Python Package Dependencies for MinerU Project\nDESCRIPTION: A requirements.txt file listing all the required Python packages with their version constraints for the MinerU project. Includes libraries for PDF processing (PyMuPDF, pdfminer.six), machine learning (torch, torchvision, scikit-learn), AWS integration (boto3), and various utility libraries.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docker/ascend_npu/requirements.txt#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nboto3>=1.28.43\nBrotli>=1.1.0\nclick>=8.1.7\nPyMuPDF>=1.24.9,<1.25.0\nloguru>=0.6.0\nnumpy>=1.21.6,<2.0.0\nfast-langdetect>=0.2.3,<0.3.0\nscikit-learn>=1.0.2\npdfminer.six==20231228\ntorch==2.3.1\ntorchvision==0.18.1\nmatplotlib\nultralytics>=8.3.48\nrapid-table>=1.0.3,<2.0.0\ndoclayout-yolo==0.0.2b1\nftfy\nopenai\npydantic>=2.7.2,<2.11\ntransformers>=4.49.0,<5.0.0\ntqdm>=4.67.1\n```\n\n----------------------------------------\n\nTITLE: Configuring bucket_info in MinerU\nDESCRIPTION: Example configuration for AWS S3 compatible storage in MinerU, specifying access keys, secret keys and endpoints for different buckets.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/config.rst#2025-04-07_snippet_1\n\nLANGUAGE: text\nCODE:\n```\n        {\n            \"image_bucket\":[{access_key}, {secret_key}, {endpoint}],\n            \"video_bucket\":[{access_key}, {secret_key}, {endpoint}]\n        }\n```\n\n----------------------------------------\n\nTITLE: Documenting FileBasedDataReader Class with Sphinx\nDESCRIPTION: Generates documentation for the FileBasedDataReader class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_4\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.FileBasedDataReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Installing Anaconda on Ubuntu\nDESCRIPTION: Commands to download and install Anaconda distribution, which provides Python and package management. The script downloads the installer and runs it interactively.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nwget https://repo.anaconda.com/archive/Anaconda3-2024.06-1-Linux-x86_64.sh\nbash Anaconda3-2024.06-1-Linux-x86_64.sh\n```\n\n----------------------------------------\n\nTITLE: Building Docker Image for MinerU with Ascend NPU Support\nDESCRIPTION: Commands to download the Dockerfile and build a Docker image for running MinerU with Ascend NPU acceleration.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ascend_NPU_Acceleration_zh_CN.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nwget https://gcore.jsdelivr.net/gh/opendatalab/MinerU@master/docker/ascend_npu/Dockerfile -O Dockerfile\ndocker build -t mineru_npu:latest .\n```\n\n----------------------------------------\n\nTITLE: Downloading and Installing Anaconda\nDESCRIPTION: Commands to download Anaconda from Tsinghua mirror and install it on Ubuntu. The custom user agent prevents download restrictions.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nwget -U NoSuchBrowser/1.0 https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2024.06-1-Linux-x86_64.sh\nbash Anaconda3-2024.06-1-Linux-x86_64.sh\n```\n\n----------------------------------------\n\nTITLE: Creating and Activating Conda Environment\nDESCRIPTION: Commands to create a new conda environment named 'mineru' with Python version less than 3.13 and activate it for use.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\n```\n\n----------------------------------------\n\nTITLE: Rebooting System After Driver Installation\nDESCRIPTION: Command to restart the system which is required after installing NVIDIA drivers to properly initialize them.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nreboot\n```\n\n----------------------------------------\n\nTITLE: Documenting IOWriter Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the IOWriter base class in the magic_pdf.data.io.base module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_1\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.base.IOWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Rebooting the System\nDESCRIPTION: Command to reboot the system after installing Nvidia drivers to complete the installation process.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nreboot\n```\n\n----------------------------------------\n\nTITLE: Verifying CUDA Acceleration Support for Docker\nDESCRIPTION: Command to check if your device supports CUDA acceleration on Docker by running a test container with nvidia-smi.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/usage/docker.rst#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nbash  docker run --rm --gpus=all nvidia/cuda:12.1.0-base-ubuntu22.04 nvidia-smi\n```\n\n----------------------------------------\n\nTITLE: Upgrading PaddlePaddle for CUDA 11 Compatibility\nDESCRIPTION: This pip command upgrades PaddlePaddle to version 3.0.0b1 with CUDA 11 support to address OCR text parsing issues on newer devices like H100.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/faq.rst#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npip install paddlepaddle-gpu==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cu123/\n```\n\n----------------------------------------\n\nTITLE: Documenting S3Writer Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the S3Writer class in the magic_pdf.data.io.s3 module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_3\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.s3.S3Writer\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Upgrading PaddlePaddle for CUDA 12.3 Compatibility (Bash)\nDESCRIPTION: This bash command upgrades PaddlePaddle to version 3.0.0b1 with CUDA 12.3 support. It's useful for resolving OCR text parsing issues on newer GPUs like H100.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npip install paddlepaddle-gpu==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cu123/\n```\n\n----------------------------------------\n\nTITLE: Installing libgl Package for Ubuntu on WSL2\nDESCRIPTION: Bash command to install the libgl1-mesa-glx package to resolve the 'libGL.so.1: cannot open shared object file' error on Ubuntu 22.04 running on WSL2.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo apt-get install libgl1-mesa-glx\n```\n\n----------------------------------------\n\nTITLE: Installing libgl1-mesa-glx on Ubuntu 22.04 WSL2 (Bash)\nDESCRIPTION: This bash command installs the libgl1-mesa-glx package on Ubuntu 22.04 running in WSL2. It resolves the 'libGL.so.1: cannot open shared object file' error.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo apt-get install libgl1-mesa-glx\n```\n\n----------------------------------------\n\nTITLE: Installing libgl1-mesa-glx on Ubuntu 22.04 WSL2\nDESCRIPTION: This bash command installs the libgl1-mesa-glx package to resolve the 'libGL.so.1: cannot open shared object file' error on Ubuntu 22.04 running on WSL2.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/faq.rst#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo apt-get install libgl1-mesa-glx\n```\n\n----------------------------------------\n\nTITLE: Documenting Dataset Class with Sphinx in RestructuredText\nDESCRIPTION: Sphinx documentation directive for the Dataset class from magic_pdf.data.dataset module. This directive displays all members, inherited members, and inheritance hierarchy of the class.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/dataset.rst#2025-04-07_snippet_1\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. autoclass:: magic_pdf.data.dataset.Dataset\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Configuring Model Directory in magic-pdf.json\nDESCRIPTION: This JSON snippet demonstrates how to set the absolute path for the model files in the magic-pdf.json configuration file.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/faq.rst#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"models-dir\": \"/tmp/models\"\n}\n```\n\n----------------------------------------\n\nTITLE: Testing CUDA Acceleration with magic-pdf\nDESCRIPTION: Command to test if CUDA acceleration is working properly after enabling it in the configuration file. This processes a sample PDF using GPU acceleration.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_10\n\nLANGUAGE: sh\nCODE:\n```\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Installing Backend Dependencies\nDESCRIPTION: Commands for navigating to the backend directory and installing the required Python dependencies using pip from the Aliyun mirror.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README_zh-CN.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# 先进入后端目录\ncd projects/web_demo\n# 安装依赖\npip3 install -r requirements.txt  -i https://mirrors.aliyun.com/pypi/simple\n```\n\n----------------------------------------\n\nTITLE: Installing Project Dependencies with pnpm\nDESCRIPTION: Command to install all required dependencies for the MinerU web project using pnpm package manager.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npnpm install\n```\n\n----------------------------------------\n\nTITLE: Installing Project Dependencies\nDESCRIPTION: Command to install all required dependencies for the MinerU web project using pnpm.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npnpm install\n```\n\n----------------------------------------\n\nTITLE: Documenting ImageDataset Class with Sphinx in RestructuredText\nDESCRIPTION: Sphinx documentation directive for the ImageDataset class from magic_pdf.data.dataset module. This directive displays all members, inherited members, and inheritance hierarchy of the class.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/dataset.rst#2025-04-07_snippet_2\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. autoclass:: magic_pdf.data.dataset.ImageDataset\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Installing pnpm Package Manager for Node.js\nDESCRIPTION: Command to install pnpm globally using npm. This is a prerequisite for the MinerU web project development environment.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g pnpm\n```\n\n----------------------------------------\n\nTITLE: Running Development Server for MinerU Web Project\nDESCRIPTION: Command to start the local development server for the MinerU web project, which will serve the application for testing and development.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Starting the Development Server\nDESCRIPTION: Command to run the local development server for the MinerU web frontend.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npnpm run dev\n```\n\n----------------------------------------\n\nTITLE: Building the MinerU Web Project for Production\nDESCRIPTION: Command to build the MinerU web project for production deployment, creating optimized static files.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npnpm run build\n```\n\n----------------------------------------\n\nTITLE: CUDA Configuration JSON\nDESCRIPTION: JSON configuration for enabling CUDA acceleration in magic-pdf\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"device-mode\": \"cuda\"\n}\n```\n\n----------------------------------------\n\nTITLE: Building the Production Version\nDESCRIPTION: Command to build the production version of the MinerU web project.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npnpm run build\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU on Older Linux Systems (Bash)\nDESCRIPTION: This bash command installs MinerU with full dependencies and additional packages for older Linux systems. It's specifically for CentOS 7 or Ubuntu 18 where simsimd installation fails due to glibc version requirements.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npip install -U magic-pdf[full,old_linux] --extra-index-url https://wheels.myhloli.com\n```\n\n----------------------------------------\n\nTITLE: Disabling Globbing for pip Installation on macOS\nDESCRIPTION: This snippet shows how to disable globbing in Z shell to allow installation of magic-pdf[full] package using pip on newer versions of macOS.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/faq.rst#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsetopt no_nomatch\npip install magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Installing NVIDIA Drivers on Ubuntu\nDESCRIPTION: Commands to update and install NVIDIA drivers version 570 on Ubuntu\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nsudo apt-get update\nsudo apt-get install nvidia-driver-570-server\n```\n\n----------------------------------------\n\nTITLE: File-Based Writing Examples\nDESCRIPTION: Examples showing how to use FileBasedDataWriter for writing data to different file locations.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_5\n\nLANGUAGE: python\nCODE:\n```\nimport os\nfrom magic_pdf.data.data_reader_writer import *\nfrom magic_pdf.data.data_reader_writer import MultiBucketS3DataWriter\nfrom magic_pdf.data.schemas import S3Config\n\nfile_based_writer1 = FileBasedDataWriter(\"\")\nfile_based_writer1.write(\"abc\", \"123\".encode())\nfile_based_writer1.write_string(\"abc\", \"123\")\n\nfile_based_writer2 = FileBasedDataWriter(\"/tmp\")\nfile_based_writer2.write_string(\"abc\", \"123\")\nfile_based_writer2.write_string(\"/tmp/logs/message.txt\", \"123\")\n```\n\n----------------------------------------\n\nTITLE: S3 Data Reader Implementation\nDESCRIPTION: Single-bucket S3 reader implementation built on top of MultiBucketS3DataReader.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_3\n\nLANGUAGE: python\nCODE:\n```\nclass S3DataReader(MultiBucketS3DataReader):\n    pass\n```\n\n----------------------------------------\n\nTITLE: Installing Anaconda on Ubuntu\nDESCRIPTION: Commands to download and install Anaconda distribution on Ubuntu\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nwget https://repo.anaconda.com/archive/Anaconda3-2024.06-1-Linux-x86_64.sh\nbash Anaconda3-2024.06-1-Linux-x86_64.sh\n```\n\n----------------------------------------\n\nTITLE: Documenting DataReader Class with Sphinx\nDESCRIPTION: Generates documentation for the DataReader class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.DataReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting DataWriter Class with Sphinx\nDESCRIPTION: Generates documentation for the DataWriter class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_1\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.DataWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Defining Data Structures for PDF Analysis in Python\nDESCRIPTION: This code snippet defines Pydantic models and enums for representing PDF analysis results, including page information, object inference results, and category types.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/output_file_description.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nfrom pydantic import BaseModel, Field\nfrom enum import IntEnum\n\nclass CategoryType(IntEnum):\n     title = 0               # Title\n     plain_text = 1          # Text\n     abandon = 2             # Includes headers, footers, page numbers, and page annotations\n     figure = 3              # Image\n     figure_caption = 4      # Image description\n     table = 5               # Table\n     table_caption = 6       # Table description\n     table_footnote = 7      # Table footnote\n     isolate_formula = 8     # Block formula\n     formula_caption = 9     # Formula label\n\n     embedding = 13          # Inline formula\n     isolated = 14           # Block formula\n     text = 15               # OCR recognition result\n\n\nclass PageInfo(BaseModel):\n    page_no: int = Field(description=\"Page number, the first page is 0\", ge=0)\n    height: int = Field(description=\"Page height\", gt=0)\n    width: int = Field(description=\"Page width\", ge=0)\n\nclass ObjectInferenceResult(BaseModel):\n    category_id: CategoryType = Field(description=\"Category\", ge=0)\n    poly: list[float] = Field(description=\"Quadrilateral coordinates, representing the coordinates of the top-left, top-right, bottom-right, and bottom-left points respectively\")\n    score: float = Field(description=\"Confidence of the inference result\")\n    latex: str | None = Field(description=\"LaTeX parsing result\", default=None)\n    html: str | None = Field(description=\"HTML parsing result\", default=None)\n\nclass PageInferenceResults(BaseModel):\n     layout_dets: list[ObjectInferenceResult] = Field(description=\"Page recognition results\", ge=0)\n     page_info: PageInfo = Field(description=\"Page metadata\")\n\n\n# The inference results of all pages, ordered by page number, are stored in a list as the inference results of MinerU\ninference_result: list[PageInferenceResults] = []\n```\n\n----------------------------------------\n\nTITLE: Documenting S3DataReader Class with Sphinx\nDESCRIPTION: Generates documentation for the S3DataReader class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_2\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.S3DataReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting S3DataWriter Class with Sphinx\nDESCRIPTION: Generates documentation for the S3DataWriter class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_3\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.S3DataWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Example JSON Structure for Document Representation in MinerU\nDESCRIPTION: This JSON example demonstrates the hierarchical document structure used in MinerU, including pdf_info, blocks, lines, and spans. It shows how text content is organized with bounding box coordinates and type information.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial/output_file_description.rst#2025-04-07_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"pdf_info\": [\n        {\n            \"preproc_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ],\n            \"layout_bboxes\": [\n                {\n                    \"layout_bbox\": [\n                        52,\n                        61,\n                        294,\n                        731\n                    ],\n                    \"layout_label\": \"V\",\n                    \"sub_layout\": []\n                }\n            ],\n            \"page_idx\": 0,\n            \"page_size\": [\n                612.0,\n                792.0\n            ],\n            \"_layout_tree\": [],\n            \"images\": [],\n            \"tables\": [],\n            \"interline_equations\": [],\n            \"discarded_blocks\": [],\n            \"para_blocks\": [\n                {\n                    \"type\": \"text\",\n                    \"bbox\": [\n                        52,\n                        61.956024169921875,\n                        294,\n                        82.99800872802734\n                    ],\n                    \"lines\": [\n                        {\n                            \"bbox\": [\n                                52,\n                                61.956024169921875,\n                                294,\n                                72.0000228881836\n                            ],\n                            \"spans\": [\n                                {\n                                    \"bbox\": [\n                                        54.0,\n                                        61.956024169921875,\n                                        296.2261657714844,\n                                        72.0000228881836\n                                    ],\n                                    \"content\": \"dependent on the service headway and the reliability of the departure \",\n                                    \"type\": \"text\",\n                                    \"score\": 1.0\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        }\n    ],\n    \"_parse_type\": \"txt\",\n    \"_version_name\": \"0.6.1\"\n}\n```\n\n----------------------------------------\n\nTITLE: Documenting FileBasedDataWriter Class with Sphinx\nDESCRIPTION: Generates documentation for the FileBasedDataWriter class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_5\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.FileBasedDataWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting MultiBucketS3DataWriter Class with Sphinx\nDESCRIPTION: Generates documentation for the MultiBucketS3DataWriter class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_7\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.MultiBucketS3DataWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: File-Based Data Reader and Writer Implementation\nDESCRIPTION: Implementation of FileBasedDataReader and FileBasedDataWriter classes that handle both absolute and relative file paths with a parent directory configuration.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_1\n\nLANGUAGE: python\nCODE:\n```\nclass FileBasedDataReader(DataReader):\n    def __init__(self, parent_dir: str = ''):\n        pass\n\n\nclass FileBasedDataWriter(DataWriter):\n    def __init__(self, parent_dir: str = '') -> None:\n        pass\n```\n\n----------------------------------------\n\nTITLE: Documenting IOReader Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the IOReader base class in the magic_pdf.data.io.base module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.base.IOReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting S3Reader Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the S3Reader class in the magic_pdf.data.io.s3 module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_2\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.s3.S3Reader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Python Flask Dependencies Requirements\nDESCRIPTION: Core dependencies for a Flask web application including authentication, database, API, logging and serialization libraries. Includes Flask extensions for JWT, SQLAlchemy ORM, REST APIs, CORS and migration support along with utilities like loguru and marshmallow.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/requirements.txt#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nflask-cors\nflask-jwt-extended\nflask-marshmallow\nflask-migrate\nflask-restful\nflask-sqlalchemy\nflask\ngreenlet\nloguru\nmarshmallow-sqlalchemy\nmarshmallow\npyjwt\npyyaml\n```\n\n----------------------------------------\n\nTITLE: Documenting HttpReader Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the HttpReader class in the magic_pdf.data.io.http module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_4\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.http.HttpReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting PageableData Class with Sphinx in RestructuredText\nDESCRIPTION: Sphinx documentation directive for the PageableData class from magic_pdf.data.dataset module. This directive displays all members, inherited members, and inheritance hierarchy of the class.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/dataset.rst#2025-04-07_snippet_0\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. autoclass:: magic_pdf.data.dataset.PageableData\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU Dependency\nDESCRIPTION: Ensures that MinerU is installed as a prerequisite for the web demo service.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README.md#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n# The service depends on mineru, please ensure mineru is installed first\n```\n\n----------------------------------------\n\nTITLE: Configuring Sphinx Autodoc for read_api Module in RST\nDESCRIPTION: Sphinx reStructuredText directive to auto-generate API documentation for the read_api module within the magic_pdf.data package. Includes configuration to show all members and inherited members.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/read_api.rst#2025-04-07_snippet_0\n\nLANGUAGE: rst\nCODE:\n```\n.. automodule:: magic_pdf.data.read_api\n   :members:\n   :inherited-members:\n```\n\n----------------------------------------\n\nTITLE: Documenting PipeResult Class with Sphinx Autodoc in Python\nDESCRIPTION: This snippet uses Sphinx autodoc directives to automatically generate documentation for the PipeResult class from the magic_pdf.operators.pipes module. It includes all members, inherited members, and shows the inheritance hierarchy.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/pipe_operators.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.operators.pipes.PipeResult\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Installing Backend Dependencies with Pip\nDESCRIPTION: Commands for navigating to the backend directory and installing required Python dependencies using pip.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# First, navigate to the back-end directory\ncd projects/web_demo\n# Install dependencies\npip3 install -r requirements.txt  -i https://mirrors.aliyun.com/pypi/simple\n```\n\n----------------------------------------\n\nTITLE: Referencing External GitHub Repository in Markdown\nDESCRIPTION: This snippet demonstrates how to link to an external GitHub repository (RapidTable) using Markdown syntax. It's used to provide additional information about integrated components.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_9\n\nLANGUAGE: Markdown\nCODE:\n```\n[RapidTable](https://github.com/RapidAI/RapidTable)\n```\n\n----------------------------------------\n\nTITLE: Documenting PageInfo Schema Model with RST\nDESCRIPTION: ReStructuredText directive to auto-generate documentation for the PageInfo model from the magic_pdf.data.schemas module.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/schemas.rst#2025-04-07_snippet_1\n\nLANGUAGE: rst\nCODE:\n```\n.. autopydantic_model:: magic_pdf.data.schemas.PageInfo\n   :members:\n```\n\n----------------------------------------\n\nTITLE: API Documentation URL\nDESCRIPTION: Provides the URL for accessing the API documentation for the MinerU Web Demo.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README.md#2025-04-07_snippet_4\n\nLANGUAGE: plaintext\nCODE:\n```\nhttps://apifox.com/apidoc/shared-b8eda098-ab9c-4cb3-9432-62be9be9c6f7\n```\n\n----------------------------------------\n\nTITLE: Deploying MinerU with Docker for GPU Acceleration\nDESCRIPTION: Commands to build and run a Docker container with GPU acceleration for MinerU, setting up the environment with magic-pdf pre-installed.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_20\n\nLANGUAGE: bash\nCODE:\n```\nwget https://github.com/opendatalab/MinerU/raw/master/docker/global/Dockerfile -O Dockerfile\ndocker build -t mineru:latest .\ndocker run -it --name mineru --gpus=all mineru:latest /bin/bash -c \"echo 'source /opt/mineru_venv/bin/activate' >> ~/.bashrc && exec bash\"\nmagic-pdf --help\n```\n\n----------------------------------------\n\nTITLE: Adding Demo Links with Custom Badges in Markdown\nDESCRIPTION: Markdown code to display custom badges with links to various demo platforms for MinerU.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_2\n\nLANGUAGE: Markdown\nCODE:\n```\n[![OpenDataLab](https://img.shields.io/badge/Demo_on_OpenDataLab-blue?logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM0IiBoZWlnaHQ9IjEzNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJtMTIyLDljMCw1LTQsOS05LDlzLTktNC05LTksNC05LDktOSw5LDQsOSw5eiIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGQ9Im0xMjIsOWMwLDUtNCw5LTksOXMtOS00LTktOSw0LTksOS05LDksNCw5LDl6IiBmaWxsPSIjMDEwMTAxIi8+PHBhdGggZD0ibTkxLDE4YzAsNS00LDktOSw5cy05LTQtOS05LDQtOSw5LTksOSw0LDksOXoiIGZpbGw9InVybCgjYikiLz48cGF0aCBkPSJtOTEsMThjMCw1LTQsOS05LDlzLTktNC05LTksNC05LDktOSw5LDQsOSw5eiIgZmlsbD0iIzAxMDEwMSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtMzksNjJjMCwxNiw4LDMwLDIwLDM4LDctNiwxMi0xNiwxMi0yNlY0OWMwLTQsMy03LDYtOGw0Ni0xMmM1LTEsMTEsMywxMSw4djMxYzAsMzctMzAsNjYtNjYsNjYtMzcsMC02Ni0zMC02Ni02NlY0NmMwLTQsMy03LDYtOGwyMC02YzUtMSwxMSwzLDExLDh2MjF6bS0yOSw2YzAsMTYsNiwzMCwxNyw0MCwzLDEsNSwxLDgsMSw1LDAsMTAtMSwxNS0zQzM3LDk1LDI5LDc5LDI5LDYyVjQybC0xOSw1djIweiIgZmlsbD0idXJsKCNjKSIvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtMzksNjJjMCwxNiw4LDMwLDIwLDM4LDctNiwxMi0xNiwxMi0yNlY0OWMwLTQsMy03LDYtOGw0Ni0xMmM1LTEsMTEsMywxMSw4djMxYzAsMzctMzAsNjYtNjYsNjYtMzcsMC02Ni0zMC02Ni02NlY0NmMwLTQsMy03LDYtOGwyMC02YzUtMSwxMSwzLDExLDh2MjF6bS0yOSw2YzAsMTYsNiwzMCwxNyw0MCwzLDEsNSwxLDgsMSw1LDAsMTAtMSwxNS0zQzM3LDk1LDI5LDc5LDI5LDYyVjQybC0xOSw1djIweiIgZmlsbD0iIzAxMDEwMSIvPjxkZWZzPjxsaW5lYXJHcmFkaWVudCBpZD0iYSIgeDE9Ijg0IiB5MT0iNDEiIHgyPSI3NSIgeTI9IjEyMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyZTJlMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ijg0IiB5MT0iNDEiIHgyPSI3NSIgeTI9IjEyMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyZTJlMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYyIgeDE9Ijg0IiB5MT0iNDEiIHgyPSI3NSIgeTI9IjEyMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPjxzdG9wIHN0b3AtY29sb3I9IiNmZmYiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiMyZTJlMmUiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48L3N2Zz4=&labelColor=white)](https://mineru.net/OpenSourceTools/Extractor?source=github)\n[![HuggingFace](https://img.shields.io/badge/Demo_on_HuggingFace-yellow.svg?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABYCAMAAACkl9t/AAAAk1BMVEVHcEz/nQv/nQv/nQr/nQv/nQr/nQv/nQv/nQr/wRf/txT/pg7/yRr/rBD/zRz/ngv/oAz/zhz/nwv/txT/ngv/0B3+zBz/nQv/0h7/wxn/vRb/thXkuiT/rxH/pxD/ogzcqyf/nQvTlSz/czCxky7/SjifdjT/Mj3+Mj3wMj15aTnDNz+DSD9RTUBsP0FRO0Q6O0WyIxEIAAAAGHRSTlMADB8zSWF3krDDw8TJ1NbX5efv8ff9/fxKDJ9uAAAGKklEQVR42u2Z63qjOAyGC4RwCOfB2JAGqrSb2WnTw/1f3UaWcSGYNKTdf/P+mOkTrE+yJBulvfvLT2A5ruenaVHyIks33npl/6C4s/ZLAM45SOi/1FtZPyFur1OYofBX3w7d54Bxm+E8db+nDr12ttmESZ4zludJEG5S7TO72YPlKZFyE+YCYUJTBZsMiNS5Sd7NlDmKM2Eg2JQg8awbglfqgbhArjxkS7dgp2RH6hc9AMLdZYUtZN5DJr4molC8BfKrEkPKEnEVjLbgW1fLy77ZVOJagoIcLIl+IxaQZGjiX597HopF5CkaXVMDO9Pyix3AFV3kw4lQLCbHuMovz8FallbcQIJ5Ta0vks9RnolbCK84BtjKRS5uA43hYoZcOBGIG2Epbv6CvFVQ8m8loh66WNySsnN7htL58LNp+NXT8/PhXiBXPMjLSxtwp8W9f/1AngRierBkA+kk/IpUSOeKByzn8y3kAAAfh//0oXgV4roHm/kz4E2z//zRc3/lgwBzbM2mJxQEa5pqgX7d1L0htrhx7LKxOZlKbwcAWyEOWqYSI8YPtgDQVjpB5nvaHaSnBaQSD6hweDi8PosxD6/PT09YY3xQA7LTCTKfYX+QHpA0GCcqmEHvr/cyfKQTEuwgbs2kPxJEB0iNjfJcCTPyocx+A0griHSmADiC91oNGVwJ69RudYe65vJmoqfpul0lrqXadW0jFKH5BKwAeCq+Den7s+3zfRJzA61/Uj/9H/VzLKTx9jFPPdXeeP+L7WEvDLAKAIoF8bPTKT0+TM7W8ePj3Rz/Yn3kOAp2f1Kf0Weony7pn/cPydvhQYV+eFOfmOu7VB/ViPe34/EN3RFHY/yRuT8ddCtMPH/McBAT5s+vRde/gf2c/sPsjLK+m5IBQF5tO+h2tTlBGnP6693JdsvofjOPnnEHkh2TnV/X1fBl9S5zrwuwF8NFrAVJVwCAPTe8gaJlomqlp0pv4Pjn98tJ/t/fL++6unpR1YGC2n/KCoa0tTLoKiEeUPDl94nj+5/Tv3/eT5vBQ60X1S0oZr+IWRR8Ldhu7AlLjPISlJcO9vrFotky9SpzDequlwEir5beYAc0R7D9KS1DXva0jhYRDXoExPdc6yw5GShkZXe9QdO/uOvHofxjrV/TNS6iMJS+4TcSTgk9n5agJdBQbB//IfF/HpvPt3Tbi7b6I6K0R72p6ajryEJrENW2bbeVUGjfgoals4L443c7BEE4mJO2SpbRngxQrAKRudRzGQ8jVOL2qDVjjI8K1gc3TIJ5KiFZ1q+gdsARPB4NQS4AjwVSt72DSoXNyOWUrU5mQ9nRYyjp89Xo7oRI6Bga9QNT1mQ/ptaJq5T/7WcgAZywR/XlPGAUDdet3LE+qS0TI+g+aJU8MIqjo0Kx8Ly+maxLjJmjQ18rA0YCkxLQbUZP1WqdmyQGJLUm7VnQFqodmXSqmRrdVpqdzk5LvmvgtEcW8PMGdaS23EOWyDVbACZzUJPaqMbjDxpA3Qrgl0AikimGDbqmyT8P8NOYiqrldF8rX+YN7TopX4UoHuSCYY7cgX4gHwclQKl1zhx0THf+tCAUValzjI7Wg9EhptrkIcfIJjA94evOn8B2eHaVzvBrnl2ig0So6hvPaz0IGcOvTHvUIlE2+prqAxLSQxZlU2stql1NqCCLdIiIN/i1DBEHUoElM9dBravbiAnKqgpi4IBkw+utSPIoBijDXJipSVV7MpOEJUAc5Qmm3BnUN+w3hteEieYKfRZSIUcXKMVf0u5wD4EwsUNVvZOtUT7A2GkffHjByWpHqvRBYrTV72a6j8zZ6W0DTE86Hn04bmyWX3Ri9WH7ZU6Q7h+ZHo0nHUAcsQvVhXRDZHChwiyi/hnPuOsSEF6Exk3o6Y9DT1eZ+6cASXk2Y9k+6EOQMDGm6WBK10wOQJCBwren86cPPWUcRAnTVjGcU1LBgs9FURiX/e6479yZcLwCBmTxiawEwrOcleuu12t3tbLv/N4RLYIBhYexm7Fcn4OJcn0+zc+s8/VfPeddZHAGN6TT8eGczHdR/Gts1/MzDkThr23zqrVfAMFT33Nx1RJsx1k5zuWILLnG/vsH+Fv5D4NTVcp1Gzo8AAAAAElFTkSuQmCC&labelColor=white)](https://huggingface.co/spaces/opendatalab/MinerU)\n[![ModelScope](https://img.shields.io/badge/Demo_on_ModelScope-purple?logo=data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjIzIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCiA8Zz4KICA8dGl0bGU+TGF5ZXIgMTwvdGl0bGU+CiAgPHBhdGggaWQ9InN2Z18xNCIgZmlsbD0iIzYyNGFmZiIgZD0ibTAsODkuODRsMjUuNjUsMGwwLDI1LjY0OTk5bC0yNS42NSwwbDAsLTI1LjY0OTk5eiIvPgogIDxwYXRoIGlkPSJzdmdfMTUiIGZpbGw9IiM2MjRhZmYiIGQ9Im05OS4xNCwxMTUuNDlsMjUuNjUsMGwwLDI1LjY1bC0yNS42NSwwbDAsLTI1LjY1eiIvPgogIDxwYXRoIGlkPSJzdmdfMTYiIGZpbGw9IiM2MjRhZmYiIGQ9Im0xNzYuMDksMTQxLjE0bC0yNS42NDk5OSwwbDAsMjIuMTlsNDcuODQsMGwwLC00Ny44NGwtMjIuMTksMGwwLDI1LjY1eiIvPgogIDxwYXRoIGlkPSJzdmdfMTciIGZpbGw9IiMzNmNmZDEiIGQ9Im0xMjQuNzksODkuODRsMjUuNjUsMGwwLDI1LjY0OTk5bC0yNS42NSwwbDAsLTI1LjY0OTk5eiIvPgogIDxwYXRoIGlkPSJzdmdfMTgiIGZpbGw9IiMzNmNmZDEiIGQ9Im0wLDY0LjE5bDI1LjY1LDBsMCwyNS42NWwtMjUuNjUsMGwwLC0yNS42NXoiLz4KICA8cGF0aCBpZD0ic3ZnXzE5IiBmaWxsPSIjNjI0YWZmIiBkPSJtMTk4LjI4LDg5Ljg0bDI1LjY0OTk5LDBsMCwyNS42NDk5OWwtMjUuNjQ5OTksMGwwLC0yNS42NDk5OXoiLz4KICA8cGF0aCBpZD0ic3ZnXzIwIiBmaWxsPSIjMzZjZmQxIiBkPSJtMTk4LjI4LDY0LjE5bDI1LjY0OTk5LDBsMCwyNS42NWwtMjUuNjQ5OTksMGwwLC0yNS42NXoiLz4KICA8cGF0aCBpZD0ic3ZnXzIxIiBmaWxsPSIjNjI0YWZmIiBkPSJtMTUwLjQ0LDQybDAsMjIuMTlsMjUuNjQ5OTksMGwwLDI1LjY1bDIyLjE5LDBsMCwtNDcuODRsLTQ3Ljg0LDB6Ii8+CiAgPHBhdGggaWQ9InN2Z18yMiIgZmlsbD0iIzM2Y2ZkMSIgZD0ibTczLjQ5LDg5Ljg0bDI1LjY1LDBsMCwyNS42NDk5OWwtMjUuNjUsMGwwLC0yNS42NDk5OXoiLz4KICA8cGF0aCBpZD0ic3ZnXzIzIiBmaWxsPSIjNjI0YWZmIiBkPSJtNDcuODQsNjQuMTlsMjUuNjUsMGwwLC0yMi4xOWwtNDcuODQsMGwwLDQ3Ljg0bDIyLjE5LDBsMCwtMjUuNjV6Ii8+CiAgPHBhdGggaWQ9InN2Z18yNCIgZmlsbD0iIzYyNGFmZiIgZD0ibTQ3Ljg0LDExNS40OWwtMjIuMTksMGwwLDQ3Ljg0bDQ3Ljg0LDBsMCwtMjIuMTlsLTI1LjY1LDBsMCwtMjUuNjV6Ii8+CiA8L2c+Cjwvc3ZnPg==&labelColor=white)](https://www.modelscope.cn/studios/OpenDataLab/MinerU)\n[![Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/gist/myhloli/3b3a00a4a0a61577b6c30f989092d20d/mineru_demo.ipynb)\n[![Paper](https://img.shields.io/badge/Paper-arXiv-green)](https://arxiv.org/abs/2409.18839)\n```\n\n----------------------------------------\n\nTITLE: Adding Community Links in HTML\nDESCRIPTION: HTML code to provide links for joining the MinerU community on Discord and WeChat.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<p align=\"center\">\n    👋 join us on <a href=\"https://discord.gg/Tdedn9GTXq\" target=\"_blank\">Discord</a> and <a href=\"http://mineru.space/s/V85Yl\" target=\"_blank\">WeChat</a>\n</p>\n```\n\n----------------------------------------\n\nTITLE: Linking to Local Deployment Documentation in Markdown\nDESCRIPTION: This snippet shows how to create a Markdown link to the documentation for local deployment of the web demo. It directs users to instructions for setting up the demo locally.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_14\n\nLANGUAGE: Markdown\nCODE:\n```\n[localized deployment version](projects/web_demo/README.md)\n```\n\n----------------------------------------\n\nTITLE: Adding Related Project Links in HTML\nDESCRIPTION: HTML code to display links to related projects and desktop version of MinerU.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<p align=\"center\">\n<a href=\"https://github.com/opendatalab/PDF-Extract-Kit\">PDF-Extract-Kit: High-Quality PDF Extraction Toolkit</a>🔥🔥🔥\n<br>\n<br>\n<a href=\"https://mineru.net/client?source=github\">\nEasier to use: Just grab MinerU Desktop. No coding, no login, just a simple interface and smooth interactions. Enjoy it without any fuss!</a>🚀🚀🚀\n</p>\n```\n\n----------------------------------------\n\nTITLE: Linking to Hugging Face Model in Markdown\nDESCRIPTION: This snippet shows how to create a Markdown link to a specific model on Hugging Face. It's used to reference the StructTable-InternVL2-1B model integrated into the project.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_10\n\nLANGUAGE: Markdown\nCODE:\n```\n[StructTable-InternVL2-1B](https://huggingface.co/U4R/StructTable-InternVL2-1B)\n```\n\n----------------------------------------\n\nTITLE: Referencing Online Demo in Markdown\nDESCRIPTION: This snippet demonstrates how to link to the online demo of the project using Markdown syntax. It provides direct access to the live demonstration of the tool.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_15\n\nLANGUAGE: Markdown\nCODE:\n```\n[online demo](https://opendatalab.com/OpenSourceTools/Extractor/PDF/)\n```\n\n----------------------------------------\n\nTITLE: Referencing GitHub Repository for Layout Reading in Markdown\nDESCRIPTION: This snippet demonstrates how to link to the GitHub repository of the layoutreader project using Markdown syntax. It's used to provide information about the integrated sorting module.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_11\n\nLANGUAGE: Markdown\nCODE:\n```\n[layoutreader](https://github.com/ppaanngggg/layoutreader)\n```\n\n----------------------------------------\n\nTITLE: Linking to OCR Language Support Documentation in Markdown\nDESCRIPTION: This snippet shows how to create a Markdown link to the documentation for OCR language support. It directs users to a list of supported languages for the OCR functionality.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_12\n\nLANGUAGE: Markdown\nCODE:\n```\n[OCR Language Support List](https://paddlepaddle.github.io/PaddleOCR/latest/en/ppocr/blog/multi_languages.html#5-support-languages-and-abbreviations)\n```\n\n----------------------------------------\n\nTITLE: Linking to Front-end Interface Documentation in Markdown\nDESCRIPTION: This snippet shows how to create a Markdown link to the documentation for the front-end interface. It directs users to information about the project's user interface.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_16\n\nLANGUAGE: Markdown\nCODE:\n```\n[front-end interface](projects/web/README.md)\n```\n\n----------------------------------------\n\nTITLE: Documenting Doc Class with Sphinx in RestructuredText\nDESCRIPTION: Sphinx documentation directive for the Doc class from magic_pdf.data.dataset module. This directive displays all members, inherited members, and inheritance hierarchy of the class.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/dataset.rst#2025-04-07_snippet_4\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. autoclass:: magic_pdf.data.dataset.Doc\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: BibTeX Citation for MinerU Project\nDESCRIPTION: BibTeX citation format for the MinerU project and OpenDataLab, allowing academic and research references to properly cite this work in scholarly publications.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_22\n\nLANGUAGE: bibtex\nCODE:\n```\n@misc{wang2024mineruopensourcesolutionprecise,\n      title={MinerU: An Open-Source Solution for Precise Document Content Extraction}, \n      author={Bin Wang and Chao Xu and Xiaomeng Zhao and Linke Ouyang and Fan Wu and Zhiyuan Zhao and Rui Xu and Kaiwen Liu and Yuan Qu and Fukai Shang and Bo Zhang and Liqun Wei and Zhihao Sui and Wei Li and Botian Shi and Yu Qiao and Dahua Lin and Conghui He},\n      year={2024},\n      eprint={2409.18839},\n      archivePrefix={arXiv},\n      primaryClass={cs.CV},\n      url={https://arxiv.org/abs/2409.18839}, \n}\n\n@article{he2024opendatalab,\n  title={Opendatalab: Empowering general artificial intelligence with open datasets},\n  author={He, Conghui and Li, Wei and Jin, Zhenjiang and Xu, Chao and Wang, Bin and Lin, Dahua},\n  journal={arXiv preprint arXiv:2407.13773},\n  year={2024}\n}\n```\n\n----------------------------------------\n\nTITLE: Citing MinerU and OpenDataLab in BibTeX Format\nDESCRIPTION: BibTeX citations for the MinerU project and the OpenDataLab paper. These citations can be used to reference the project and related work in academic publications.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README_zh-CN.md#2025-04-07_snippet_1\n\nLANGUAGE: bibtex\nCODE:\n```\n@misc{wang2024mineruopensourcesolutionprecise,\n      title={MinerU: An Open-Source Solution for Precise Document Content Extraction}, \n      author={Bin Wang and Chao Xu and Xiaomeng Zhao and Linke Ouyang and Fan Wu and Zhiyuan Zhao and Rui Xu and Kaiwen Liu and Yuan Qu and Fukai Shang and Bo Zhang and Liqun Wei and Zhihao Sui and Wei Li and Botian Shi and Yu Qiao and Dahua Lin and Conghui He},\n      year={2024},\n      eprint={2409.18839},\n      archivePrefix={arXiv},\n      primaryClass={cs.CV},\n      url={https://arxiv.org/abs/2409.18839}, \n}\n\n@article{he2024opendatalab,\n  title={Opendatalab: Empowering general artificial intelligence with open datasets},\n  author={He, Conghui and Li, Wei and Jin, Zhenjiang and Xu, Chao and Wang, Bin and Lin, Dahua},\n  journal={arXiv preprint arXiv:2407.13773},\n  year={2024}\n}\n```\n\n----------------------------------------\n\nTITLE: Referencing PDF-Extract-Kit GitHub Repository in Markdown\nDESCRIPTION: This snippet demonstrates how to link to the GitHub repository of the PDF-Extract-Kit project using Markdown syntax. It's used to provide information about the integrated extraction toolkit.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_13\n\nLANGUAGE: Markdown\nCODE:\n```\n[PDF-Extract-Kit 1.0](https://github.com/opendatalab/PDF-Extract-Kit)\n```\n\n----------------------------------------\n\nTITLE: Configuring Table of Contents Structure in ReStructuredText\nDESCRIPTION: This code snippet defines a table of contents (toctree) directive in ReStructuredText. It sets a maximum depth of 1 and lists three different quick start guides for converting various file formats: PDF, image, and Microsoft Office documents.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start.rst#2025-04-07_snippet_0\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. toctree::\n    :maxdepth: 1\n\n    quick_start/convert_pdf \n    quick_start/convert_image\n    quick_start/convert_ms_office\n```\n\n----------------------------------------\n\nTITLE: Defining Table of Contents for MinerU API Documentation in reStructuredText\nDESCRIPTION: This snippet defines the table of contents for the MinerU API documentation using reStructuredText directives. It sets the maximum depth to 2 and lists the various API components to be documented.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. toctree::\n   :maxdepth: 2\n\n   api/dataset\n   api/data_reader_writer\n   api/read_api\n   api/schemas\n   api/io\n   api/pipe_operators\n   api/model_operators\n```\n\n----------------------------------------\n\nTITLE: Linking to Ascend NPU Acceleration Documentation in Markdown\nDESCRIPTION: This snippet shows how to create a Markdown link to the documentation for Ascend NPU Acceleration. It directs users to specific instructions for using Huawei Ascend NPU for high-performance computing.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_8\n\nLANGUAGE: Markdown\nCODE:\n```\n[Ascend NPU Acceleration](docs/README_Ascend_NPU_Acceleration_zh_CN.md)\n```\n\n----------------------------------------\n\nTITLE: Creating Table of Contents in RST Documentation\nDESCRIPTION: This snippet demonstrates how to create a table of contents in RST documentation using the 'toctree' directive, specifying depth and caption for different sections.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/index.rst#2025-04-07_snippet_2\n\nLANGUAGE: rst\nCODE:\n```\n.. toctree::\n   :maxdepth: 2\n   :caption: User Guide\n\n   user_guide\n\n.. toctree::\n   :maxdepth: 2\n   :caption: API\n\n   api\n\n.. toctree::\n   :maxdepth: 1\n   :caption: Additional Notes\n\n   additional_notes/known_issues\n   additional_notes/faq\n   additional_notes/glossary\n```\n\n----------------------------------------\n\nTITLE: Configuring Tutorial Table of Contents in reStructuredText\nDESCRIPTION: This snippet sets up the table of contents for the MinerU tutorial using reStructuredText directives. It specifies the maximum depth of the table and includes a link to the pipeline tutorial.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/tutorial.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. toctree::\n    :maxdepth: 1\n\n    tutorial/pipeline\n```\n\n----------------------------------------\n\nTITLE: Referencing Model Download Process in Markdown\nDESCRIPTION: This snippet demonstrates how to link to the model download process documentation using Markdown syntax. It's used to guide users to the correct procedure for obtaining model file updates.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_7\n\nLANGUAGE: Markdown\nCODE:\n```\n[model download process](docs/how_to_download_models_en.md)\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Batch Processing Script Location in Markdown\nDESCRIPTION: This snippet shows how to reference a batch processing script example in Markdown format. It provides a link to the script location within the project structure.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_6\n\nLANGUAGE: Markdown\nCODE:\n```\n[script example](demo/batch_demo.py)\n```\n\n----------------------------------------\n\nTITLE: Adding Language Selection Links in Markdown\nDESCRIPTION: Markdown code to provide language selection links for the README file.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_3\n\nLANGUAGE: Markdown\nCODE:\n```\n[English](README.md) | [简体中文](README_zh-CN.md)\n```\n\n----------------------------------------\n\nTITLE: Adding Project Badges in Markdown\nDESCRIPTION: Markdown code to display various project badges including GitHub stats, PyPI version, and demo links.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_1\n\nLANGUAGE: Markdown\nCODE:\n```\n[![stars](https://img.shields.io/github/stars/opendatalab/MinerU.svg)](https://github.com/opendatalab/MinerU)\n[![forks](https://img.shields.io/github/forks/opendatalab/MinerU.svg)](https://github.com/opendatalab/MinerU)\n[![open issues](https://img.shields.io/github/issues-raw/opendatalab/MinerU)](https://github.com/opendatalab/MinerU/issues)\n[![issue resolution](https://img.shields.io/github/issues-closed-raw/opendatalab/MinerU)](https://github.com/opendatalab/MinerU/issues)\n[![PyPI version](https://badge.fury.io/py/magic-pdf.svg)](https://badge.fury.io/py/magic-pdf)\n[![Downloads](https://static.pepy.tech/badge/magic-pdf)](https://pepy.tech/project/magic-pdf)\n[![Downloads](https://static.pepy.tech/badge/magic-pdf/month)](https://pepy.tech/project/magic-pdf)\n```\n\n----------------------------------------\n\nTITLE: Displaying MinerU Logo in HTML\nDESCRIPTION: HTML code to display the MinerU logo image centered on the page.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README.md#2025-04-07_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<p align=\"center\">\n  <img src=\"docs/images/MinerU-logo.png\" width=\"300px\" style=\"vertical-align:middle;\">\n</p>\n```\n\n----------------------------------------\n\nTITLE: Cloning MinerU Repository and Navigating to Web Project\nDESCRIPTION: Commands to clone the MinerU repository from GitHub and navigate to the web project directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/opendatalab/MinerU\ncd ./projects/web\n```\n\n----------------------------------------\n\nTITLE: Alternative Package Manager Installation and Execution\nDESCRIPTION: Commands to install yarn package manager and use it as an alternative to pnpm for managing dependencies and starting the development server.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g yarn\nyarn\nyarn start\n```\n\n----------------------------------------\n\nTITLE: Creating and Activating Conda Environment for MinerU on Windows\nDESCRIPTION: Commands to create a new conda environment named 'mineru' with Python version less than 3.13, and activate it for further installation steps.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\n```\n\n----------------------------------------\n\nTITLE: Installing Magic-PDF Package for MinerU\nDESCRIPTION: Command to install the magic-pdf package with all optional dependencies using pip. This is the main application package for MinerU.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npip install -U magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Checking Magic-PDF Version\nDESCRIPTION: Command to verify the installed version of magic-pdf. The version should be at least 1.3.0 for proper functionality.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nmagic-pdf --version\n```\n\n----------------------------------------\n\nTITLE: Installing CUDA-compatible PyTorch for Acceleration\nDESCRIPTION: Command to force reinstall PyTorch and TorchVision with CUDA support, which is necessary for GPU acceleration. This example uses CUDA 12.4.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npip install --force-reinstall torch==2.6.0 torchvision==0.21.0 \"numpy<2.0.0\" --index-url https://download.pytorch.org/whl/cu124\n```\n\n----------------------------------------\n\nTITLE: Testing CUDA Acceleration with Magic-PDF\nDESCRIPTION: Command to run magic-pdf with CUDA acceleration enabled, processing a sample PDF file and outputting the results to a specified directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Windows_CUDA_Acceleration_en_US.md#2025-04-07_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Creating and Activating Conda Environment for MinerU\nDESCRIPTION: Commands to create a new conda environment named 'mineru' with Python version less than 3.13, and activate it for use. This isolates the MinerU dependencies from other Python projects.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\n```\n\n----------------------------------------\n\nTITLE: AGPL License Notice Template for Source Files\nDESCRIPTION: Standard template text to include at the beginning of source files to apply the GNU Affero General Public License. It includes placeholders for program name, copyright year, and author name, along with standard license terms and disclaimers.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/LICENSE.md#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n<one line to give the program's name and a brief idea of what it does.>\nCopyright (C) <year>  <name of author>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU Affero General Public License as published\nby the Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU Affero General Public License for more details.\n\nYou should have received a copy of the GNU Affero General Public License\nalong with this program.  If not, see <https://www.gnu.org/licenses/>.\n```\n\n----------------------------------------\n\nTITLE: Installing magic-pdf Package with Full Dependencies\nDESCRIPTION: Command to install the magic-pdf package with all optional dependencies using pip. The [full] option ensures all features will be available.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\npip install -U magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Configuration JSON for Enabling CUDA Acceleration\nDESCRIPTION: Example configuration JSON showing how to enable CUDA acceleration by setting the device-mode to 'cuda' in the magic-pdf.json configuration file. This requires at least 6GB of VRAM.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_en_US.md#2025-04-07_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"device-mode\": \"cuda\"\n}\n```\n\n----------------------------------------\n\nTITLE: Checking Nvidia Driver Installation\nDESCRIPTION: Command to verify if Nvidia drivers are installed on the system by showing GPU information including driver version and CUDA version.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnvidia-smi\n```\n\n----------------------------------------\n\nTITLE: Installing magic-pdf Application\nDESCRIPTION: Command to install the magic-pdf application with full dependencies using pip, using Aliyun PyPI mirror for faster downloads in China.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npip install -U magic-pdf[full] -i https://mirrors.aliyun.com/pypi/simple\n```\n\n----------------------------------------\n\nTITLE: Testing magic-pdf with Sample File\nDESCRIPTION: Commands to download a sample PDF file and process it with magic-pdf, saving the output to a specified directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ubuntu_CUDA_Acceleration_zh_CN.md#2025-04-07_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nwget https://gcore.jsdelivr.net/gh/opendatalab/MinerU@master/demo/pdfs/small_ocr.pdf\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Running MinerU Container with Ascend NPU Support\nDESCRIPTION: Docker command to run a container with MinerU and Ascend NPU support, including necessary device mappings and volume mounts.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/README_Ascend_NPU_Acceleration_zh_CN.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ndocker run -it -u root --name mineru-npu --privileged=true \\\n    --ipc=host \\\n    --network=host \\\n    --device=/dev/davinci0 \\\n    --device=/dev/davinci1 \\\n    --device=/dev/davinci2 \\\n    --device=/dev/davinci3 \\\n    --device=/dev/davinci4 \\\n    --device=/dev/davinci5 \\\n    --device=/dev/davinci6 \\\n    --device=/dev/davinci7 \\\n    --device=/dev/davinci_manager \\\n    --device=/dev/devmm_svm \\\n    --device=/dev/hisi_hdc \\\n    -v /var/log/npu/:/usr/slog \\\n    -v /usr/local/bin/npu-smi:/usr/local/bin/npu-smi \\\n    -v /usr/local/Ascend/driver:/usr/local/Ascend/driver \\\n    mineru_npu:latest \\\n    /bin/bash -c \"echo 'source /opt/mineru_venv/bin/activate' >> ~/.bashrc && exec bash\"\n\nmagic-pdf --help\n```\n\n----------------------------------------\n\nTITLE: Disabling Z shell Globbing for Package Installation on macOS\nDESCRIPTION: Command to disable Z shell globbing feature to fix the 'no matches found' error when installing magic-pdf[full] package on newer versions of macOS.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsetopt no_nomatch\npip install magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Reinstalling fairscale Module\nDESCRIPTION: Commands to uninstall and reinstall the fairscale module to resolve the 'ModuleNotFoundError: No module named fairscale' error.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npip uninstall fairscale\npip install fairscale\n```\n\n----------------------------------------\n\nTITLE: Upgrading PaddlePaddle for H100 GPU Compatibility\nDESCRIPTION: Command to install a specific version of paddlepaddle-gpu to improve CUDA compatibility with newer graphics cards like H100, resolving garbled OCR text issues.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npip install paddlepaddle-gpu==3.0.0b1 -i https://www.paddlepaddle.org.cn/packages/stable/cu123/\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU on Older Linux Distributions\nDESCRIPTION: Command to install magic-pdf with specific flags for older Linux distributions like CentOS 7 or Ubuntu 18 that have compatibility issues with simsimd due to older glibc versions.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_en_us.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npip install -U magic-pdf[full,old_linux] --extra-index-url https://wheels.myhloli.com\n```\n\n----------------------------------------\n\nTITLE: Verifying MinerU Installation\nDESCRIPTION: A reminder to ensure MinerU is installed before proceeding with the web demo setup, as the service depends on it.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README_zh-CN.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# 服务依赖MinerU，请先确保MinerU已安装\n```\n\n----------------------------------------\n\nTITLE: Building the Frontend Interface\nDESCRIPTION: Steps to package the frontend interface for the MinerU web demo, including navigating to the frontend directory, updating configuration, and building the project using yarn.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README_zh-CN.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# 先进入前端目录\ncd projects/web\n\n# 修改配置\n# 将文件vite.config.ts中的target中的IP更改为自己电脑IP\n\n# 打包前端项目\nnpm install -g yarn\nyarn install\nyarn build\n```\n\n----------------------------------------\n\nTITLE: Starting the MinerU Web Demo Service\nDESCRIPTION: Instructions for navigating to the application directory and launching the web demo service using Python, which can then be accessed via a browser.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README_zh-CN.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# 进入程序目录\ncd projects/web_demo/web_demo\n# 启动服务\npython3 app.py 或者 python app.py\n# 在浏览器访问启动的地址即可访问界面\n```\n\n----------------------------------------\n\nTITLE: Accessing API Documentation\nDESCRIPTION: URL to the API documentation for the MinerU web demo, hosted on Apifox.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web_demo/README_zh-CN.md#2025-04-07_snippet_4\n\nLANGUAGE: text\nCODE:\n```\nhttps://apifox.com/apidoc/shared-b8eda098-ab9c-4cb3-9432-62be9be9c6f7\n```\n\n----------------------------------------\n\nTITLE: Installing pnpm Package Manager\nDESCRIPTION: Command to globally install the pnpm package manager using npm.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g pnpm\n```\n\n----------------------------------------\n\nTITLE: Cloning the MinerU Repository\nDESCRIPTION: Steps to clone the MinerU repository and navigate to the web project directory.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n1. git clone https://github.com/opendatalab/MinerU\n2. cd ./projects/web\n```\n\n----------------------------------------\n\nTITLE: Alternative Package Manager Installation\nDESCRIPTION: Commands to install and use Yarn as an alternative package manager if pnpm installation fails.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/web/README_zh-CN.md#2025-04-07_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nnpm install -g yarn\nyarn\nyarn start\n```\n\n----------------------------------------\n\nTITLE: Embedding GitHub Buttons in RST Documentation\nDESCRIPTION: This snippet demonstrates how to embed GitHub repository buttons (Star, Watch, Fork) into the RST documentation using raw HTML and JavaScript.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/index.rst#2025-04-07_snippet_0\n\nLANGUAGE: rst\nCODE:\n```\n.. raw:: html\n\n   <p style=\"text-align:center\">\n   <script async defer src=\"https://buttons.github.io/buttons.js\"></script>\n   <a class=\"github-button\" href=\"https://github.com/opendatalab/MinerU\" data-show-count=\"true\" data-size=\"large\" aria-label=\"Star\">Star</a>\n   <a class=\"github-button\" href=\"https://github.com/opendatalab/MinerU/subscription\" data-icon=\"octicon-eye\" data-size=\"large\" aria-label=\"Watch\">Watch</a>\n   <a class=\"github-button\" href=\"https://github.com/opendatalab/MinerU/fork\" data-icon=\"octicon-repo-forked\" data-size=\"large\" aria-label=\"Fork\">Fork</a>\n   </p>\n```\n\n----------------------------------------\n\nTITLE: Embedding Video in RST Documentation\nDESCRIPTION: This snippet shows how to embed a video into the RST documentation using the 'video' directive, linking to a GitHub-hosted video asset.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/index.rst#2025-04-07_snippet_1\n\nLANGUAGE: rst\nCODE:\n```\n.. video:: https://github.com/user-attachments/assets/4bea02c9-6d54-4cd6-97ed-dff14340982c\n```\n\n----------------------------------------\n\nTITLE: Configuring Sphinx Documentation Navigation with TOC Tree\nDESCRIPTION: Sphinx toctree directive that organizes documentation content into a hierarchical structure. Sets maximum depth to 2 and includes key documentation sections for installation, quick start guide, tutorials and data management.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/zh_cn/user_guide.rst#2025-04-07_snippet_0\n\nLANGUAGE: rst\nCODE:\n```\n.. toctree::\n    :maxdepth: 2\n\n    user_guide/install\n    user_guide/quick_start\n    user_guide/tutorial\n    user_guide/data\n```\n\n----------------------------------------\n\nTITLE: Defining Table of Contents in reStructuredText for MinerU Documentation\nDESCRIPTION: This snippet defines the table of contents structure for the MinerU project documentation using reStructuredText directives. It specifies a maximum depth of 2 and includes various user guide sections such as installation, usage, quick start, tutorial, data handling, inference results, and pipeline results.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. toctree::\n    :maxdepth: 2\n\n    user_guide/install\n    user_guide/usage\n    user_guide/quick_start\n    user_guide/tutorial\n    user_guide/data\n    user_guide/inference_result\n    user_guide/pipe_result\n```\n\n----------------------------------------\n\nTITLE: Documenting InferenceResultBase Class with Sphinx in reStructuredText\nDESCRIPTION: This snippet uses Sphinx autodoc directives to generate API documentation for the InferenceResultBase class. It includes all members, inherited members, and shows the inheritance hierarchy.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/model_operators.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.operators.InferenceResultBase\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting HttpWriter Class in magic_pdf Library\nDESCRIPTION: Autodoc directive for the HttpWriter class in the magic_pdf.data.io.http module. It includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/io.rst#2025-04-07_snippet_5\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.io.http.HttpWriter\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting PymuDocDataset Class with Sphinx in RestructuredText\nDESCRIPTION: Sphinx documentation directive for the PymuDocDataset class from magic_pdf.data.dataset module. This directive displays all members, inherited members, and inheritance hierarchy of the class.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/dataset.rst#2025-04-07_snippet_3\n\nLANGUAGE: restructuredtext\nCODE:\n```\n.. autoclass:: magic_pdf.data.dataset.PymuDocDataset\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting MultiBucketS3DataReader Class with Sphinx\nDESCRIPTION: Generates documentation for the MultiBucketS3DataReader class using Sphinx autodoc directives. Includes all members, inherited members, and shows inheritance.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/data_reader_writer.rst#2025-04-07_snippet_6\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. autoclass:: magic_pdf.data.data_reader_writer.MultiBucketS3DataReader\n   :members:\n   :inherited-members:\n   :show-inheritance:\n```\n\n----------------------------------------\n\nTITLE: Documenting S3Config Schema Model with RST\nDESCRIPTION: ReStructuredText directive to auto-generate documentation for the S3Config model from the magic_pdf.data.schemas module.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/api/schemas.rst#2025-04-07_snippet_0\n\nLANGUAGE: rst\nCODE:\n```\n.. autopydantic_model:: magic_pdf.data.schemas.S3Config\n   :members:\n```\n\n----------------------------------------\n\nTITLE: RAG Integration Interface Class Definition\nDESCRIPTION: Python class definitions for RAG integration, providing methods to parse PDF files and retrieve document data for integration with RAG systems.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/projects/llama_index_rag/README.md#2025-04-07_snippet_6\n\nLANGUAGE: python\nCODE:\n```\nfrom magic_pdf.integrations.rag.type import Node\n\nclass RagPageReader:\n    def get_rel_map(self) -> list[ElementRelation]:\n        # Retrieve the relationships between nodes\n        pass\n    ...\n\nclass RagDocumentReader:\n    ...\n\nclass DataReader:\n    def __init__(self, path_or_directory: str, method: str, output_dir: str):\n        pass\n\n    def get_documents_count(self) -> int:\n        \"\"\"Get the number of pdf documents\"\"\"\n        pass\n\n    def get_document_result(self, idx: int) -> RagDocumentReader | None:\n        \"\"\"Retrieve the parsed content of a specific pdf\"\"\"\n        pass\n\n\n    def get_document_filename(self, idx: int) -> Path:\n        \"\"\"Retrieve the path of a specific pdf\"\"\"\n        pass\n```\n\n----------------------------------------\n\nTITLE: Specifying Python Package Dependencies for MinerU Project\nDESCRIPTION: This code snippet lists the required Python packages and their version constraints for the MinerU project. It includes libraries for various functionalities such as AWS integration (boto3), data compression (Brotli), command-line interfaces (click), language detection, logging, numerical operations, data validation, PDF processing, machine learning, and deep learning.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/requirements.txt#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nboto3>=1.28.43\nBrotli>=1.1.0\nclick>=8.1.7\nfast-langdetect>=0.2.3,<0.3.0\nloguru>=0.6.0\nnumpy>=1.21.6\npydantic>=2.7.2,<2.11\nPyMuPDF>=1.24.9,<1.25.0\nscikit-learn>=1.0.2\ntorch>=2.2.2,!=2.5.0,!=2.5.1,<=2.6.0\ntorchvision\ntransformers>=4.49.0,<5.0.0\npdfminer.six==20231228\ntqdm>=4.67.1\n# The requirements.txt must ensure that only necessary external dependencies are introduced. If there are new dependencies to add, please contact the project administrator.\n```\n\n----------------------------------------\n\nTITLE: Specifying Python Package Dependencies for MinerU\nDESCRIPTION: This snippet defines the required Python packages and their versions for the MinerU project. It includes libraries for numerical computing, command-line interfaces, language detection, data compression, AWS integration, logging, documentation parsing, image processing, data validation, PDF manipulation, and Sphinx documentation generation.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/requirements.txt#2025-04-07_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nnumpy==1.26.4\nclick==8.1.7\nfast-langdetect==0.2.2\nBrotli==1.1.0\nboto3>=1.28.43\nloguru>=0.6.0\nmyst-parser\nPillow==8.4.0\npydantic>=2.7.2,<2.8.0\nPyMuPDF>=1.24.9\npdfminer.six==20231228\nsphinx\nsphinx-argparse>=0.5.2\nsphinx-book-theme>=1.1.3\nsphinx-copybutton>=0.5.2\nsphinx_rtd_theme>=3.0.1\nautodoc_pydantic>=2.2.0\n```\n\n----------------------------------------\n\nTITLE: JSON Example of Document Layout Analysis Results\nDESCRIPTION: This example shows the JSON format for document layout analysis results across multiple pages. It includes detection of layout elements with their bounding polygons, confidence scores, and page metadata.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/inference_result.rst#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n[\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 2,\n                \"poly\": [\n                    99.1906967163086,\n                    100.3119125366211,\n                    730.3707885742188,\n                    100.3119125366211,\n                    730.3707885742188,\n                    245.81326293945312,\n                    99.1906967163086,\n                    245.81326293945312\n                ],\n                \"score\": 0.9999997615814209\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 0,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    },\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 5,\n                \"poly\": [\n                    99.13092803955078,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2264.78076171875,\n                    99.13092803955078,\n                    2264.78076171875\n                ],\n                \"score\": 0.9999997019767761\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 1,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    }\n]\n```\n\n----------------------------------------\n\nTITLE: Creating Conda Environment\nDESCRIPTION: Commands to create and activate a conda environment with Python 3.10\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nconda create -n mineru 'python<3.13' -y\nconda activate mineru\n```\n\n----------------------------------------\n\nTITLE: Installing MinerU Dependencies\nDESCRIPTION: Command to install magic-pdf package with all dependencies\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\npip install -U magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Running MinerU Test on Windows\nDESCRIPTION: PowerShell commands to download and process a test PDF file\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/boost_with_cuda.rst#2025-04-07_snippet_7\n\nLANGUAGE: powershell\nCODE:\n```\nwget https://github.com/opendatalab/MinerU/raw/master/demo/pdfs/small_ocr.pdf -O small_ocr.pdf\nmagic-pdf -p small_ocr.pdf -o ./output\n```\n\n----------------------------------------\n\nTITLE: Installing LibreOffice on Windows for MinerU\nDESCRIPTION: This instruction guides the installation of LibreOffice on Windows and adding its program directory to the system PATH. This is optional and required only for processing doc, docx, ppt, and pptx file types.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/install.rst#2025-04-07_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ninstall libreoffice \nappend \"install_dir\\LibreOffice\\program\" to ENVIRONMENT PATH\n```\n\n----------------------------------------\n\nTITLE: Installing Hugging Face Hub and Downloading Model Files\nDESCRIPTION: This bash script installs the required Hugging Face hub package, downloads the Python script for model download, and then executes it. The script automatically handles downloading model files and configuring the model directory in the magic-pdf.json configuration file.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/install/download_model_weight_files.rst#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npip install huggingface_hub\nwget https://github.com/opendatalab/MinerU/raw/master/scripts/download_models_hf.py -O download_models_hf.py\npython download_models_hf.py\n```\n\n----------------------------------------\n\nTITLE: Defining Table of Contents for Data Documentation in reStructuredText\nDESCRIPTION: This snippet defines a table of contents (toctree) for the data-related documentation in the OpenDataLab MinerU project. It specifies a maximum depth of 2 and includes links to documentation for datasets, read APIs, data readers/writers, and I/O operations.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data.rst#2025-04-07_snippet_0\n\nLANGUAGE: reStructuredText\nCODE:\n```\n.. toctree::\n   :maxdepth: 2\n\n   data/dataset\n\n   data/read_api\n\n   data/data_reader_writer \n\n   data/io\n```\n\n----------------------------------------\n\nTITLE: Converting Images with MinerU Command Line\nDESCRIPTION: Uses the magic-pdf command line tool to convert an image file with automatic mode detection. The command requires specifying the input file path with -p flag and the output directory with -o flag.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_image.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\n# make sure the file have correct suffix\nmagic-pdf -p a.png -o output -m auto\n```\n\n----------------------------------------\n\nTITLE: Converting MS-Office to PDF using Magic-PDF CLI\nDESCRIPTION: Command-line instruction for converting MS-Office files (DOC, DOCX, PPT, PPTX) to PDF using the magic-pdf tool. It specifies input file, output directory, and automatic mode selection.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/quick_start/convert_ms_office.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\n# replace with real ms-office file, we support MS-DOC, MS-DOCX, MS-PPT, MS-PPTX now\nmagic-pdf -p a.doc -o output -m auto\n```\n\n----------------------------------------\n\nTITLE: Example JSON Output for MinerU PDF Processing Results\nDESCRIPTION: This JSON snippet demonstrates the structure of the output generated by the MinerU PDF processing system. It includes page information and layout detection results for two pages, showcasing how object inference results are represented.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/output_file_en_us.md#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n[\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 2,\n                \"poly\": [\n                    99.1906967163086,\n                    100.3119125366211,\n                    730.3707885742188,\n                    100.3119125366211,\n                    730.3707885742188,\n                    245.81326293945312,\n                    99.1906967163086,\n                    245.81326293945312\n                ],\n                \"score\": 0.9999997615814209\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 0,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    },\n    {\n        \"layout_dets\": [\n            {\n                \"category_id\": 5,\n                \"poly\": [\n                    99.13092803955078,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2210.680419921875,\n                    497.3183898925781,\n                    2264.78076171875,\n                    99.13092803955078,\n                    2264.78076171875\n                ],\n                \"score\": 0.9999997019767761\n            }\n        ],\n        \"page_info\": {\n            \"page_no\": 1,\n            \"height\": 2339,\n            \"width\": 1654\n        }\n    }\n]\n```\n\n----------------------------------------\n\nTITLE: Disabling Globbing in Zsh for Package Installation (Bash)\nDESCRIPTION: This snippet shows how to disable globbing in Zsh and install the magic-pdf package with full dependencies. It's useful for resolving installation issues on newer macOS versions.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsetopt no_nomatch\npip install magic-pdf[full]\n```\n\n----------------------------------------\n\nTITLE: Configuring Model Directory in magic-pdf.json (JSON)\nDESCRIPTION: This JSON configuration snippet demonstrates how to set the models directory for the MinerU project. It uses an absolute path to specify where model files should be stored.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"models-dir\": \"/tmp/models\"\n}\n```\n\n----------------------------------------\n\nTITLE: Reinstalling fairscale Module (Bash)\nDESCRIPTION: These bash commands uninstall and then reinstall the fairscale module to resolve the 'ModuleNotFoundError: No module named 'fairscale'' error.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/docs/FAQ_zh_cn.md#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npip uninstall fairscale\npip install fairscale\n```\n\n----------------------------------------\n\nTITLE: Multi-Bucket S3 Implementation\nDESCRIPTION: Implementation of S3 data handling with support for multiple buckets, including a mixin class for shared S3 functionality.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/user_guide/data/data_reader_writer.rst#2025-04-07_snippet_2\n\nLANGUAGE: python\nCODE:\n```\nclass MultiS3Mixin:\n    def __init__(self, default_prefix: str, s3_configs: list[S3Config]):\n        pass\n\nclass MultiBucketS3DataReader(DataReader, MultiS3Mixin):\n    pass\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Reader and Writer Classes in Python for MinerU\nDESCRIPTION: This snippet demonstrates how to create custom reader and writer classes for MinerU by inheriting from IOReader and IOWriter. The SomeReader class includes methods for reading bytes, while the SomeWriter class includes a method for writing bytes. These classes can be implemented to support additional media types not natively supported by MinerU.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/zh_cn/user_guide/data/io.rst#2025-04-07_snippet_0\n\nLANGUAGE: python\nCODE:\n```\nclass SomeReader(IOReader):\n    def read(self, path: str) -> bytes:\n        pass\n\n    def read_at(self, path: str, offset: int = 0, limit: int = -1) -> bytes:\n        pass\n\n\nclass SomeWriter(IOWriter):\n    def write(self, path: str, data: bytes) -> None:\n        pass\n```\n\n----------------------------------------\n\nTITLE: HTML Project Header Layout\nDESCRIPTION: HTML layout code for the project header section including logo, badges, and navigation links. Uses center alignment and custom styling.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/README_zh-CN.md#2025-04-07_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<div align=\"center\" xmlns=\"http://www.w3.org/1999/html\">\n<!-- logo -->\n<p align=\"center\">\n  <img src=\"docs/images/MinerU-logo.png\" width=\"300px\" style=\"vertical-align:middle;\">\n</p>\n```\n\n----------------------------------------\n\nTITLE: Reinstalling fairscale Module\nDESCRIPTION: These pip commands uninstall and then reinstall the fairscale module to resolve the 'ModuleNotFoundError: No module named 'fairscale'' error.\nSOURCE: https://github.com/opendatalab/MinerU/blob/master/next_docs/en/additional_notes/faq.rst#2025-04-07_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npip uninstall fairscale\npip install fairscale\n```"
  }
]