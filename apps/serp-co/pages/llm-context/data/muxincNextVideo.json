[
  {
    "owner": "muxinc",
    "repo": "next-video",
    "content": "TITLE: Basic Video Component Usage in Next.js\nDESCRIPTION: Demonstrates the basic implementation of the Video component with a local video file import.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport Video from 'next-video';\nimport getStarted from '/videos/get-started.mp4';\n\nexport default function Page() {\n  return <Video src={getStarted} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Custom Video Player Component with mux-player\nDESCRIPTION: This code defines a custom player component using mux-player, which can be used with the Video component from next-video.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\n// player.tsx\n'use client';\n\nimport type { PlayerProps } from 'next-video';\nimport MuxPlayer from '@mux/mux-player-react';\n\nexport default function Player(props: PlayerProps) {\n  let { asset, src, poster, blurDataURL, theme, ...rest } = props;\n  const playbackId = asset?.providerMetadata?.mux?.playbackId;\n\n  return <MuxPlayer playbackId={playbackId} {...rest} />\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Background Video in Next.js\nDESCRIPTION: This snippet demonstrates how to use the BackgroundVideo component from next-video to add a video background without player controls, optimized for background video usage.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_14\n\nLANGUAGE: tsx\nCODE:\n```\nimport BackgroundVideo from 'next-video/background-video';\nimport getStarted from '/videos/country-clouds.mp4?thumbnailTime=0';\n\nexport default function Page() {\n  return (\n    <BackgroundVideo src={getStarted}>\n      <h1>next-video</h1>\n      <p>\n        A React component for adding video to your Next.js application. It extends both the video\n        element and your Next app with features for automatic video optimization.\n      </p>\n    </BackgroundVideo>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Video Player with mux-player in Next.js\nDESCRIPTION: This example shows how to use a custom player component with the Video component from next-video, using mux-player as the custom player.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_12\n\nLANGUAGE: tsx\nCODE:\n```\nimport Video from 'next-video';\nimport MuxPlayer from './player';\nimport awesomeVideo from '/videos/awesome-video.mp4';\n\nexport default function Page() {\n  return <Video as={MuxPlayer} src={awesomeVideo} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Next.js Configuration with ES Modules\nDESCRIPTION: Configuration setup for Next.js using ES modules to integrate next-video.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_3\n\nLANGUAGE: js\nCODE:\n```\nimport { withNextVideo } from 'next-video/process';\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default withNextVideo(nextConfig);\n```\n\n----------------------------------------\n\nTITLE: Next.js Configuration with CommonJS\nDESCRIPTION: Configuration setup for Next.js using CommonJS modules to integrate next-video.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_2\n\nLANGUAGE: js\nCODE:\n```\nconst { withNextVideo } = require('next-video/process');\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nmodule.exports = withNextVideo(nextConfig);\n```\n\n----------------------------------------\n\nTITLE: Configuring Video Provider in Next.js Configuration\nDESCRIPTION: This code snippet shows how to configure a custom video provider (in this case, Backblaze) in the Next.js configuration file using the withNextVideo function from next-video/process.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_15\n\nLANGUAGE: js\nCODE:\n```\n// next.config.js\nconst { withNextVideo } = require('next-video/process');\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nmodule.exports = withNextVideo(nextConfig, {\n  provider: 'backblaze',\n  providerConfig: {\n    backblaze: { endpoint: 'https://s3.us-west-000.backblazeb2.com' },\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Environment Configuration for Mux Integration\nDESCRIPTION: Shows the required environment variables setup for Mux video integration.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# .env.local\nMUX_TOKEN_ID=[YOUR_TOKEN_ID]\nMUX_TOKEN_SECRET=[YOUR_TOKEN_SECRET]\n```\n\n----------------------------------------\n\nTITLE: Direct Player Component Usage\nDESCRIPTION: Shows how to use the Player component directly without upload and processing features.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nimport Player from 'next-video/player';\n// or\nimport BackgroundPlayer from 'next-video/background-player';\n\nexport default function Page() {\n  return (\n    <Player\n      src=\"https://www.mydomain.com/remote-video.mp4\"\n      poster=\"https://www.mydomain.com/remote-poster.webp\"\n      blurDataURL=\"data:image/webp;base64,UklGRlA...\"\n    />\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Video Player with react-player in Next.js\nDESCRIPTION: This snippet demonstrates how to use a custom player component with the Video component from next-video, using react-player as an example.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport Video from 'next-video';\nimport ReactPlayer from './player';\nimport awesomeVideo from '/videos/awesome-video.mp4';\n\nexport default function Page() {\n  return <Video as={ReactPlayer} src={awesomeVideo} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Custom Video Player Component with react-player\nDESCRIPTION: This code defines a custom player component using react-player, which can be used with the Video component from next-video.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\n// player.tsx\n'use client';\n\nimport type { PlayerProps } from 'next-video';\nimport ReactPlayer from 'react-player';\n\nexport default function Player(props: PlayerProps) {\n  let { asset, src, poster, blurDataURL, thumbnailTime, ...rest } = props;\n  let config = { file: { attributes: { poster } } };\n\n  return <ReactPlayer url={src} config={config} width=\"100%\" height=\"100%\" {...rest} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Next Video API Routes for App Router (JavaScript)\nDESCRIPTION: This snippet demonstrates how to implement the API routes for Next Video using the App Router in Next.js 13 and above. It exports the GET and POST handlers from the next-video configuration.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_18\n\nLANGUAGE: javascript\nCODE:\n```\n// app/api/video/route.js\nexport { GET, POST } from '@/next-video';\n```\n\n----------------------------------------\n\nTITLE: Implementing Next Video API Routes for Pages Router (JavaScript)\nDESCRIPTION: This snippet shows how to implement the API routes for Next Video using the Pages Router in Next.js. It exports the default handler from the next-video configuration.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_19\n\nLANGUAGE: javascript\nCODE:\n```\n// pages/api/video/[[...handler]].js\nexport { handler as default } from '@/next-video';\n```\n\n----------------------------------------\n\nTITLE: Remote Video API Route Configuration\nDESCRIPTION: API route setup for handling remote videos in both App and Pages router.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_6\n\nLANGUAGE: js\nCODE:\n```\n// app/api/video/route.js\nexport { GET } from 'next-video/request-handler';\n```\n\nLANGUAGE: js\nCODE:\n```\n// pages/api/video/[[...handler]].js\nexport { default } from 'next-video/request-handler';\n```\n\n----------------------------------------\n\nTITLE: Importing withNextVideo in Next.js Configuration (JavaScript)\nDESCRIPTION: This snippet shows how to import the withNextVideo function in the Next.js configuration file (next.config.mjs). This step is necessary after customizing the storage hooks for Next Video.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\n// next.config.mjs\nimport { withNextVideo } from './next-video.mjs';\n\n/** @type {import('next').NextConfig} */\nconst nextConfig = {};\n\nexport default withNextVideo(nextConfig);\n```\n\n----------------------------------------\n\nTITLE: Styling the Default Next Video Player with CSS Variables (JavaScript/JSX)\nDESCRIPTION: This example demonstrates how to style the default Next Video player using CSS variables. It overrides the primary, secondary, and accent colors of the Sutro theme.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_20\n\nLANGUAGE: javascript\nCODE:\n```\nimport Video from 'next-video';\nimport getStarted from '/videos/get-started.mp4';\n\nexport default function Page() {\n  return <Video src={getStarted} style={{\n    '--media-primary-color': '#fdaff3',\n    '--media-secondary-color': '#ff0088',\n    '--media-accent-color': '#42ffe0',\n  }} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Custom Theme Implementation\nDESCRIPTION: Example of implementing a custom theme using the Instaplay theme from player.style.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport Video from 'next-video';\nimport Instaplay from 'player.style/instaplay/react';\nimport awesomeVideo from '/videos/awesome-video.mp4';\n\nexport default function Page() {\n  return <Video src={awesomeVideo} theme={Instaplay} />;\n}\n```\n\n----------------------------------------\n\nTITLE: Slotted Poster Image Implementation\nDESCRIPTION: Demonstrates how to implement a slotted poster image using next/image component.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nimport Image from 'next/image';\nimport Video from 'next-video';\nimport awesomeVideo from '/videos/awesome-video.mp4';\nimport awesomePoster from '../public/images/awesome-poster.jpg';\n\nexport default function Page() {\n  return (\n    <Video src={awesomeVideo}>\n      <Image\n        slot=\"poster\"\n        src={awesomePoster}\n        placeholder=\"blur\"\n        alt=\"Some peeps doing something awesome\"\n      />\n    </Video>\n  );\n}\n```\n\n----------------------------------------\n\nTITLE: TypeScript Video Types Configuration\nDESCRIPTION: TypeScript configuration for video import types and tsconfig.json setup.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\n// video.d.ts\n/// <reference types=\"next-video/video-types/global\" />\n```\n\nLANGUAGE: js\nCODE:\n```\n{\n  // ...\n  \"include\": [\"video.d.ts\", \"next-env.d.ts\", /* ... */ ]\n  // ...\n}\n```\n\n----------------------------------------\n\nTITLE: Customizing Asset Metadata Storage Hooks in Next Video (JavaScript)\nDESCRIPTION: This snippet demonstrates how to customize the storage hooks for asset metadata in Next Video. It includes functions for loading, saving, and updating assets, which can be modified to use a database or other storage system instead of the default JSON file storage.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\n// next-video.mjs\nimport { NextVideo } from 'next-video/process';\nimport path from 'node:path';\nimport { mkdir, readFile, writeFile } from 'node:fs/promises';\n\nexport const { GET, POST, handler, withNextVideo } = NextVideo({\n  // Other next-video config options should be added here if using a next-video config file.\n  // folder: 'videos',\n  // path: '/api/video',\n\n  loadAsset: async function (assetPath) {\n    const file = await readFile(assetPath);\n    const asset = JSON.parse(file.toString());\n    return asset;\n  },\n  saveAsset: async function (assetPath, asset) {\n    try {\n      await mkdir(path.dirname(assetPath), { recursive: true });\n      await writeFile(assetPath, JSON.stringify(asset), {\n        flag: 'wx',\n      });\n    } catch (err) {\n      if (err.code === 'EEXIST') {\n        // The file already exists, and that's ok in this case. Ignore the error.\n        return;\n      }\n      throw err;\n    }\n  },\n  updateAsset: async function (assetPath, asset) {\n    await writeFile(assetPath, JSON.stringify(asset));\n  },\n});\n```\n\n----------------------------------------\n\nTITLE: Amazon S3 IAM User Permissions for Next Video (JSON)\nDESCRIPTION: This JSON snippet defines the required IAM permissions for using Amazon S3 as the storage provider in Next Video. It includes permissions for listing buckets, creating buckets, and managing objects within buckets with names starting with 'next-videos-'.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_21\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\"s3:ListAllMyBuckets\", \"s3:CreateBucket\", \"s3:PutBucketOwnershipControls\"],\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"s3:PutBucketPublicAccessBlock\",\n        \"s3:PutBucketAcl\",\n        \"s3:PutBucketCORS\",\n        \"s3:GetObject\",\n        \"s3:PutObject\",\n        \"s3:PutObjectAcl\",\n        \"s3:ListBucket\"\n      ],\n      \"Resource\": \"arn:aws:s3:::next-videos-*\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Package.json Dev Script Configuration\nDESCRIPTION: Shows how to configure the dev script to automatically sync videos during development.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_5\n\nLANGUAGE: js\nCODE:\n```\n// package.json\n\"scripts\": {\n  \"dev\": \"next dev & npx next-video sync -w\",\n}\n```\n\n----------------------------------------\n\nTITLE: Local Development Setup Commands\nDESCRIPTION: Step-by-step commands for setting up a local development environment for next-video, including cloning the repo, installing dependencies, building the project, and linking it to a test Next.js application.\nSOURCE: https://github.com/muxinc/next-video/blob/main/README.md#2025-04-23_snippet_22\n\nLANGUAGE: bash\nCODE:\n```\nnpm install && npm run build\ncd ../\nnpx create-next-app\ncd your-next-app\nnpx link ../next-video\n```\n\n----------------------------------------\n\nTITLE: Running Next.js Development Server\nDESCRIPTION: Commands to start the Next.js development server using different package managers. This allows you to run the application locally for development purposes.\nSOURCE: https://github.com/muxinc/next-video/blob/main/examples/default-provider/README.md#2025-04-23_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dev\n# or\nyarn dev\n# or\npnpm dev\n# or\nbun dev\n```\n\n----------------------------------------\n\nTITLE: Next Video Version History Markdown\nDESCRIPTION: Markdown formatted changelog showing version history, bug fixes, new features, and dependency updates across multiple releases of the Next Video project.\nSOURCE: https://github.com/muxinc/next-video/blob/main/CHANGELOG.md#2025-04-23_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n# [2.2.0](https://github.com/muxinc/next-video/compare/v2.1.0...v2.2.0) (2025-03-17)\n\n### Bug Fixes\n\n* bump the prod-dependencies group across 1 directory with 2 updates ([#354](https://github.com/muxinc/next-video/issues/354)) ([92d91e3](https://github.com/muxinc/next-video/commit/92d91e30f6b69efa0e2e2d1a471eaae680e0909b))\n* bump the prod-dependencies group across 1 directory with 2 updates ([#361](https://github.com/muxinc/next-video/issues/361)) ([1eca8ab](https://github.com/muxinc/next-video/commit/1eca8ab3a161828dc0d91c33483367a5811f5505))\n\n### Features\n\n* handle missing token errors ([#359](https://github.com/muxinc/next-video/issues/359)) ([d134d21](https://github.com/muxinc/next-video/commit/d134d21f3cf6f2f5562fe5085eab006d1e6c7a7e))\n\n...\n```"
  }
]