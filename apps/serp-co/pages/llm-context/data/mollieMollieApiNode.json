[
  {
    "owner": "mollie",
    "repo": "mollie-api-node",
    "content": "TITLE: Creating Payment with Mollie API\nDESCRIPTION: Example of creating a new payment using the Mollie client with amount, description, and redirect URLs.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/README.md#2025-04-23_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nconst payment = await mollieClient.payments.create({\n  amount: {\n    value:    '10.00',\n    currency: 'EUR'\n  },\n  description: 'My first API payment',\n  redirectUrl: 'https://yourwebshop.example.org/order/123456',\n  webhookUrl:  'https://yourwebshop.example.org/webhook'\n});\n```\n\n----------------------------------------\n\nTITLE: Initializing Mollie Client\nDESCRIPTION: Examples of creating a Mollie client instance using both ES modules and CommonJS syntax with an API key.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/README.md#2025-04-23_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport createMollieClient from '@mollie/api-client';\n\nconst mollieClient = createMollieClient({ apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM' });\n```\n\nLANGUAGE: javascript\nCODE:\n```\nconst { createMollieClient } = require('@mollie/api-client');\n\nconst mollieClient = createMollieClient({ apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM' });\n```\n\n----------------------------------------\n\nTITLE: Implementing Pagination with Mollie API\nDESCRIPTION: Examples of implementing pagination using both page-based and iteration-based approaches for retrieving payments.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/README.md#2025-04-23_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst payments = mollieClient.payments.page({ limit: 15 });\n\nconst payments = mollieClient.payments.page({ limit: 15, from: 'tr_8WhJKGmgBy' });\n```\n\nLANGUAGE: javascript\nCODE:\n```\nfor await (const payment of mollieClient.payments.iterate()) {\n  // (Use break to end the loop prematurely.)\n}\n```\n\nLANGUAGE: javascript\nCODE:\n```\nconst payments = mollieClient.payments.iterate()\n  .filter(({ amount }) => amount.currency == 'EUR' && parseFloat(amount.value) > 100)\n  .take(10);\n```\n\n----------------------------------------\n\nTITLE: Checking Payment Status\nDESCRIPTION: Example of retrieving payment status using the payment ID.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/README.md#2025-04-23_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst payment = await mollieClient.payments.get('tr_8WhJKGmgBy');\n```\n\n----------------------------------------\n\nTITLE: Installing Mollie API Client using Package Managers\nDESCRIPTION: Commands to install the Mollie API client using npm or yarn package managers.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/README.md#2025-04-23_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install @mollie/api-client\n```\n\nLANGUAGE: sh\nCODE:\n```\nyarn add @mollie/api-client\n```\n\n----------------------------------------\n\nTITLE: Creating a Recurring Payment with Mollie API v2\nDESCRIPTION: This snippet shows how to create a recurring payment using the Mollie API v2, demonstrating the use of sequenceType instead of recurringType.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\nmollie.customers_payments\n  .create({\n    amount: { value: '0.01', currency: 'EUR' },\n    description: 'A first payment for recurring',\n    redirectUrl: `https://example.org/redirect`,\n    webhookUrl: `http://example.org/webhook`,\n    sequenceType: 'first',\n    customerId: 'cst_2mVdVmuVq2',\n  });\n```\n\n----------------------------------------\n\nTITLE: Using Cursor-based Pagination in Mollie API v2\nDESCRIPTION: This snippet demonstrates how to use cursor-based pagination when retrieving a list of payments in Mollie API v2, specifying a limit and starting point.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\nmollie.payments\n  .all({\n    limit: 15,\n    from: 'tr_8WhJKGmgBy'\n  })\n  .then((payments) => {\n    // Returns the list of 15 payments, starting with payment `tr_8WhJKGmgBy`\n  });\n```\n\n----------------------------------------\n\nTITLE: Updating Amount Format in Payment Creation\nDESCRIPTION: This code demonstrates the change in specifying amounts when creating payments, moving from a single value to an object with currency and value properties.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_12\n\nLANGUAGE: diff\nCODE:\n```\nmollie.payments.create({\n-  amount: 10.00\n+  amount: {\n+    \"currency\": \"EUR\",\n+    \"value\": \"10.00\"\n+  }\n});\n```\n\n----------------------------------------\n\nTITLE: Updating Customer Payments Retrieval in JavaScript\nDESCRIPTION: This code shows the transition from using withParent to passing customerId as a parameter when retrieving customer payments, also demonstrating the shift to using Promises.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\nmollie.customers.all()\n  .then(customers => (\n    customers.forEach(customer =>\n      mollie.customers_payments.all({\n        customerId: customer.id,\n      })\n        .then(payments => console.log(payments))\n        .catch(err => console.error(err))\n    )\n  ))\n  .catch(err => console.error(err));\n```\n\n----------------------------------------\n\nTITLE: Removing withParent and Using Parameters in JavaScript\nDESCRIPTION: This snippet demonstrates the removal of the withParent method and the new approach of passing parameters directly to the iterate method. It also shows the usage of async/await with the new API.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_0\n\nLANGUAGE: diff\nCODE:\n```\n- const payments = mollieClient.customerPayments.withParent(customer).iterate();\n+ const payments = mollieClient.customerPayments.iterate({ customerId: customer.id });\n  for await (const payment of payments) {\n    …\n  }\n```\n\n----------------------------------------\n\nTITLE: Initializing Mollie Client with ES Modules\nDESCRIPTION: This code shows how to initialize the Mollie client using ES Modules syntax.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\nimport createMollieClient from '@mollie/api-client';\n\nconst mollieClient = createMollieClient({\n  apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM',\n});\n```\n\n----------------------------------------\n\nTITLE: Updating Client Initialization from v1 to v2\nDESCRIPTION: This code shows the changes in initializing the Mollie client when migrating from v1 to v2, moving from a class-based approach to a factory function.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_10\n\nLANGUAGE: diff\nCODE:\n```\n-var Mollie = require('mollie-api-node');\n-var mollie = new Mollie.API.Client;\n-mollie.setApiKey(\"test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM\");\n+const mollie = require('@mollie/api-client')({\n+  apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM',\n+});\n```\n\n----------------------------------------\n\nTITLE: Updating Client Initialization in CommonJS\nDESCRIPTION: This code demonstrates the change in initializing the Mollie client using CommonJS, introducing a named export createMollieClient.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_6\n\nLANGUAGE: diff\nCODE:\n```\n- const mollieClient = require('@mollie/api-client')({\n+ const mollieClient = require('@mollie/api-client').createMollieClient({\n    apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM',\n  })\n```\n\n----------------------------------------\n\nTITLE: Alternative Client Initialization in CommonJS\nDESCRIPTION: This snippet shows an alternative way to initialize the Mollie client using CommonJS, destructuring the createMollieClient function.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_7\n\nLANGUAGE: diff\nCODE:\n```\n- const mollieClient = require('@mollie/api-client')({\n+ const { createMollieClient } = require('@mollie/api-client');\n+\n+ const mollieClient = createMollieClient({\n    apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM',\n  });\n```\n\n----------------------------------------\n\nTITLE: Using Enums with Mollie Client in CommonJS\nDESCRIPTION: This snippet demonstrates how to use enums (like PaymentMethod) with the Mollie client in CommonJS, showcasing the new import structure.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nconst { createMollieClient, PaymentMethod } = require('@mollie/api-client');\n\nconst mollieClient = createMollieClient({\n  apiKey: 'test_dHar4XY7LxsDOtmnkVtjNVWXLSlXsM',\n});\n\nmollieClient.payments.create({\n  amount: {\n    currency: 'EUR',\n    value: '10.00',\n  },\n  description: 'Order #478',\n  method: PaymentMethod.ideal\n});\n```\n\n----------------------------------------\n\nTITLE: Replacing Snake Case Properties with Camel Case in JavaScript\nDESCRIPTION: This code shows the migration from snake case properties to camel case properties when accessing Mollie API endpoints. It specifically demonstrates the change for customer subscriptions.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_1\n\nLANGUAGE: diff\nCODE:\n```\n- mollieClient.customers_subscriptions.get('sub_PCN3U3U27K', { customerId: 'cst_pzhEvnttJ2' })\n+ mollieClient.customerSubscriptions.get('sub_PCN3U3U27K', { customerId: 'cst_pzhEvnttJ2' });\n```\n\n----------------------------------------\n\nTITLE: Replacing Helper Functions with Direct Property Checks in JavaScript\nDESCRIPTION: These snippets show the removal of helper functions like isOpen() and hasSequenceTypeFirst(), replacing them with direct property checks against enum values.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_3\n\nLANGUAGE: diff\nCODE:\n```\n- if (payment.isOpen()) {\n+ if (payment.status == PaymentStatus.open) {\n```\n\nLANGUAGE: diff\nCODE:\n```\n- if (payment.hasSequenceTypeFirst()) {\n+ if (payment.sequenceType == SequenceType.first)\n```\n\n----------------------------------------\n\nTITLE: Updating Callback Signature in JavaScript\nDESCRIPTION: This snippet illustrates the change in callback signature when migrating from v1 to v2 of the Mollie API client, separating error and response parameters.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_11\n\nLANGUAGE: diff\nCODE:\n```\n-(response) => {\n-  if (response.error) {\n-    throw response.error;\n+(error, response) => {\n+  if (error) {\n+    throw error;\n  }\n  return response;\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Endpoint Method Names in JavaScript\nDESCRIPTION: This snippet illustrates the changes in endpoint method names, specifically replacing 'list' with 'page' for the subscriptions endpoint.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_2\n\nLANGUAGE: diff\nCODE:\n```\n- mollieClient.subscriptions.list({ limit: 10 })\n+ mollieClient.subscriptions.page({ limit: 10 })\n```\n\n----------------------------------------\n\nTITLE: Updating Error Handling in JavaScript\nDESCRIPTION: This code demonstrates the change in accessing error properties, replacing getter methods with direct property access.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_4\n\nLANGUAGE: diff\nCODE:\n```\n  try {\n    const payment = await mollieClient.payments.get(…);\n  } catch (error) {\n-   console.warn(error.getMessage())\n+   console.warn(error.message)\n  }\n```\n\n----------------------------------------\n\nTITLE: Replacing Count with Length for Pagination in JavaScript\nDESCRIPTION: This snippet shows the replacement of the count property with length when working with paginated results.\nSOURCE: https://github.com/mollie/mollie-api-node/blob/master/MIGRATION.md#2025-04-23_snippet_5\n\nLANGUAGE: diff\nCODE:\n```\n- mollieClient.payments.page({ limit: 10 }).count\n+ mollieClient.payments.page({ limit: 10 }).length\n```"
  }
]