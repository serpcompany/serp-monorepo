[
  {
    "owner": "journey-ad",
    "repo": "cosyvoice2-ex",
    "content": "TITLE: Installing and Running CosyVoice on Linux & macOS\nDESCRIPTION: Commands for setting up a conda environment and installing the necessary dependencies to run CosyVoice2-Ex on Linux and macOS systems. This includes creating a Python 3.10 environment and installing required packages.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/README.md#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nconda create -n cosyvoice -y python=3.10\nconda activate cosyvoice\nconda install -y -c conda-forge pynini==2.1.5\npip install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/ --trusted-host=mirrors.aliyun.com\n\npython webui.py --port 8080 --open\n```\n\n----------------------------------------\n\nTITLE: Starting CosyVoice2-Ex API Server with Example Usage\nDESCRIPTION: Command to start the API server and example API requests demonstrating how to generate speech with different speakers and instructions. The API accepts text parameters, speaker selection, and optional instructions for voice characteristics.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/README.md#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\npython api.py\n\nhttp://localhost:9880/?text=春日清晨，老街深处飘来阵阵豆香。三代传承的手艺，将金黄的豆浆熬制成最纯粹的味道。一碗温热的豆腐脑，不仅是早餐，更是儿时难忘的记忆，是岁月沉淀的生活智慧。&speaker=舌尖上的中国\n\nhttp://localhost:9880/?text=hello%20hello~%20[breath]%20听得到吗？%20きこえていますか？%20初次见面，请多关照呀！%20这里是嘉然Diana，大家也可以叫我<strong>蒂娜</strong>%20是你们最甜甜甜的小草莓&speaker=嘉然&instruct=慢速，用可爱的语气说\n```\n\n----------------------------------------\n\nTITLE: Python Dependencies Configuration\nDESCRIPTION: Configuration file specifying Python package dependencies with version requirements. Includes PyTorch, deep learning frameworks, audio processing libraries, and web service dependencies. Some packages are platform-specific (Linux only) and includes CUDA-specific packages for GPU support.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/requirements.txt#2025-04-17_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n--extra-index-url https://download.pytorch.org/whl/cu121\n--extra-index-url https://pypi.nvidia.com\n--trusted-host download.pytorch.org\n--trusted-host pypi.nvidia.com\nconformer==0.3.2\ndeepspeed==0.14.2; sys_platform == 'linux'\ndiffusers==0.29.0\nfunasr==1.2.0\ngdown==5.1.0\ngradio==4.44.1\nhydra-core==1.3.2\nHyperPyYAML==1.2.2\ninflect==7.3.1\nlibrosa==0.10.2\nlightning==2.2.4\nmatplotlib==3.7.5\nmodelscope==1.17.1\nnetworkx==3.1\nomegaconf==2.3.0\nonnx==1.16.0\nonnxruntime-gpu==1.18.0; sys_platform == 'linux'\nonnxruntime==1.18.0\nonnxconverter_common==1.14.0\nopenai-whisper==20231117\nprotobuf==3.20.2\npydantic==2.7.0\npyworld==0.3.4\nrich==13.7.1\nsoundfile==0.12.1\ntensorboard==2.14.0\ntensorrt-cu12==10.0.1; sys_platform == 'linux'\ntensorrt-cu12-bindings==10.0.1; sys_platform == 'linux'\ntensorrt-cu12-libs==10.0.1; sys_platform == 'linux'\ntorch==2.3.1\ntorchaudio==2.3.1\ntransformers==4.40.1\nuvicorn==0.30.0\nwget==3.2\nfastapi==0.115.6\nfastapi-cli==0.0.4\nWeTextProcessing==1.0.3\n# pynini==2.1.5 # 用conda安装 conda install -y -c conda-forge pynini==2.1.5\npyarrow==19.0.0\nflask\nflask_cors\nffmpeg\n```\n\n----------------------------------------\n\nTITLE: Installing CosyVoice Resources from ModelScope\nDESCRIPTION: Commands to clone the CosyVoice-ttsfrd repository, extract the resource.zip file, and install the required wheel package. This resolves the 'cannot find resource.zip' error.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/FAQ.md#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\ngit clone https://www.modelscope.cn/iic/CosyVoice-ttsfrd.git pretrained_models/CosyVoice-ttsfrd\ncd pretrained_models/CosyVoice-ttsfrd/\nunzip resource.zip -d .\npip install ttsfrd-0.3.6-cp38-cp38-linux_x86_64.whl\n```\n\n----------------------------------------\n\nTITLE: Installing ttsfrd for Enhanced Text Normalization on Linux\nDESCRIPTION: Optional installation steps for ttsfrd on Linux to improve text normalization performance. This includes system dependencies and the ttsfrd model installation process.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/README.md#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nsudo apt-get install -y git build-essential curl wget ffmpeg unzip git git-lfs sox libsox-dev nvidia-cuda-toolkit\n\ngit lfs install\ngit clone https://www.modelscope.cn/iic/CosyVoice-ttsfrd.git pretrained_models/CosyVoice-ttsfrd\n\ncd pretrained_models/CosyVoice-ttsfrd/\nunzip resource.zip -d .\npip install ttsfrd-0.3.6-cp38-cp38-linux_x86_64.whl\n```\n\n----------------------------------------\n\nTITLE: Setting Python Path for Matcha-TTS Module\nDESCRIPTION: Command to set the PYTHONPATH environment variable to include the Matcha-TTS module located in the third_party directory. This allows importing CosyVoice in Python scripts.\nSOURCE: https://github.com/journey-ad/CosyVoice2-Ex/blob/main/FAQ.md#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nexport PYTHONPATH=third_party/Matcha-TTS\n```"
  }
]