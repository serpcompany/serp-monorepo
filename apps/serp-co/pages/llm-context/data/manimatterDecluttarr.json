[
  {
    "owner": "manimatter",
    "repo": "decluttarr",
    "content": "TITLE: Configuring Decluttarr with Docker Compose\nDESCRIPTION: A sample docker-compose.yml configuration for setting up Decluttarr. This snippet includes all essential environment variables for connecting to *arr applications and configuring features like removing failed, stalled, or slow downloads.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/README.md#2025-04-16_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nversion: \"3.3\"\nservices:\n  decluttarr:\n    image: ghcr.io/manimatter/decluttarr:latest\n    container_name: decluttarr\n    restart: always\n    environment:\n      TZ: Europe/Zurich\n      PUID: 1000\n      PGID: 1000\n\n      ## General\n      # TEST_RUN: True\n      # SSL_VERIFICATION: False\n      LOG_LEVEL: INFO\n\n      ## Features\n      REMOVE_TIMER: 10\n      REMOVE_FAILED: True\n      REMOVE_FAILED_IMPORTS: True\n      REMOVE_METADATA_MISSING: True\n      REMOVE_MISSING_FILES: True\n      REMOVE_ORPHANS: True\n      REMOVE_SLOW: True\n      REMOVE_STALLED: True\n      REMOVE_UNMONITORED: True\n      RUN_PERIODIC_RESCANS: '\n        {\n        \"SONARR\": {\"MISSING\": true, \"CUTOFF_UNMET\": true, \"MAX_CONCURRENT_SCANS\": 3, \"MIN_DAYS_BEFORE_RESCAN\": 7},\n        \"RADARR\": {\"MISSING\": true, \"CUTOFF_UNMET\": true, \"MAX_CONCURRENT_SCANS\": 3, \"MIN_DAYS_BEFORE_RESCAN\": 7}\n        }'\n\n      # Feature Settings\n      PERMITTED_ATTEMPTS: 3\n      NO_STALLED_REMOVAL_QBIT_TAG: Don't Kill\n      MIN_DOWNLOAD_SPEED: 100\n      FAILED_IMPORT_MESSAGE_PATTERNS: '\n        [\n        \"Not a Custom Format upgrade for existing\",\n        \"Not an upgrade for existing\"\n        ]'\n      IGNORED_DOWNLOAD_CLIENTS: [\"emulerr\"]\n\n      ## Radarr\n      RADARR_URL: http://radarr:7878\n      RADARR_KEY: $RADARR_API_KEY\n\n      ## Sonarr\n      SONARR_URL: http://sonarr:8989\n      SONARR_KEY: $SONARR_API_KEY\n\n      ## Lidarr\n      LIDARR_URL: http://lidarr:8686\n      LIDARR_KEY: $LIDARR_API_KEY\n\n      ## Readarr\n      READARR_URL: http://readarr:8787\n      READARR_KEY: $READARR_API_KEY\n\n      ## Whisparr\n      WHISPARR_URL: http://whisparr:6969\n      WHISPARR_KEY: $WHISPARR_API_KEY\n\n      ## qBitorrent\n      QBITTORRENT_URL: http://qbittorrent:8080\n      # QBITTORRENT_USERNAME: Your name\n      # QBITTORRENT_PASSWORD: Your password\n```\n\n----------------------------------------\n\nTITLE: Python Package Dependencies for ManiMatter/decluttarr\nDESCRIPTION: This snippet lists the required Python packages and their specific versions for the ManiMatter/decluttarr project. It includes packages for HTTP requests, asynchronous programming, date handling, logging, testing, and code formatting.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/docker/requirements.txt#2025-04-16_snippet_1\n\nLANGUAGE: Text\nCODE:\n```\nrequests==2.32.3\nasyncio==3.4.3\npython-dateutil==2.8.2\nverboselogs==1.7\npytest==8.0.1\npytest-asyncio==0.23.5\npre-commit==3.8.0\nblack==24.8.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Periodic Rescans in Decluttarr (JSON Format)\nDESCRIPTION: Example configuration for RUN_PERIODIC_RESCANS setting that enables automatic searches for missing and cutoff unmet media in Sonarr and Radarr. It specifies 3 concurrent scans per operation with a minimum of 7 days between rescans for the same item.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/README.md#2025-04-16_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n     RUN_PERIODIC_RESCANS: '\n        {\n          \"SONARR\": {\"MISSING\": true, \"CUTOFF_UNMET\": true, \"MAX_CONCURRENT_SCANS\": 3, \"MIN_DAYS_BEFORE_RESCAN\": 7},\n          \"RADARR\": {\"MISSING\": true, \"CUTOFF_UNMET\": true, \"MAX_CONCURRENT_SCANS\": 3, \"MIN_DAYS_BEFORE_RESCAN\": 7}\n        }'\n```\n\n----------------------------------------\n\nTITLE: Alternative YAML Notation for Periodic Rescans in Decluttarr\nDESCRIPTION: Alternative YAML notation for the RUN_PERIODIC_RESCANS setting, which enables automatic searches for missing and cutoff unmet media in Sonarr and Radarr. This format might be preferable for certain YAML parsers or environments.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/README.md#2025-04-16_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n- RUN_PERIODIC_RESCANS=[\n{\n\"SONARR\":[{\"MISSING\":true, \"CUTOFF_UNMET\":true, \"MAX_CONCURRENT_SCANS\":3, \"MIN_DAYS_BEFORE_RESCAN\":7}],\n\"RADARR\":[{\"MISSING\":true, \"CUTOFF_UNMET\":true, \"MAX_CONCURRENT_SCANS\":3, \"MIN_DAYS_BEFORE_RESCAN\":7}]\n}\n\n```\n\n----------------------------------------\n\nTITLE: Installing Decluttarr Dependencies\nDESCRIPTION: Command to install the required Python libraries for Decluttarr from the requirements file.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/CONTRIBUTING.md#2025-04-16_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npip install -r docker/requirements.txt\n```\n\n----------------------------------------\n\nTITLE: Setting Up Python Virtual Environment for Decluttarr\nDESCRIPTION: Commands to create and activate a Python virtual environment for Decluttarr development.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/CONTRIBUTING.md#2025-04-16_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npython3 -m venv venv\nsource venv/bin/activate\n```\n\n----------------------------------------\n\nTITLE: Cloning the Decluttarr Repository from Dev Branch\nDESCRIPTION: Command to clone the Decluttarr git repository from the development branch to the local machine.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/CONTRIBUTING.md#2025-04-16_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone -b dev https://github.com/yourName/decluttarr\n```\n\n----------------------------------------\n\nTITLE: Running the Decluttarr Script\nDESCRIPTION: Command to execute the main Decluttarr Python script for local testing.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/CONTRIBUTING.md#2025-04-16_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npython3 main.py\n```\n\n----------------------------------------\n\nTITLE: Installing Python Dependencies for ManiMatter/decluttarr\nDESCRIPTION: This code snippet shows the command to install the required Python packages listed in the requirements.txt file. It uses pip, the Python package installer, to install the dependencies specified in the docker/requirements.txt file.\nSOURCE: https://github.com/ManiMatter/decluttarr/blob/dev/docker/requirements.txt#2025-04-16_snippet_0\n\nLANGUAGE: Shell\nCODE:\n```\n# python3 -m pip install -r docker/requirements.txt\n```"
  }
]