[
  {
    "owner": "jshttp",
    "repo": "content-disposition",
    "content": "TITLE: Complete file download server example\nDESCRIPTION: Full example of creating an HTTP server that sends a file for download with proper Content-Disposition header\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nconst contentDisposition = require('content-disposition')\nconst destroy = require('destroy')\nconst fs = require('fs')\nconst http = require('http')\nconst onFinished = require('on-finished')\n\nconst filePath = '/path/to/public/plans.pdf'\n\nhttp.createServer(function onRequest (req, res) {\n  // set headers\n  res.setHeader('Content-Type', 'application/pdf')\n  res.setHeader('Content-Disposition', contentDisposition(filePath))\n\n  // send file\n  const stream = fs.createReadStream(filePath)\n  stream.pipe(res)\n  onFinished(res, function () {\n    destroy(stream)\n  })\n})\n```\n\n----------------------------------------\n\nTITLE: Setting Content-Disposition header\nDESCRIPTION: Example of setting a Content-Disposition header with a UTF-8 filename\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nres.setHeader('Content-Disposition', contentDisposition('âˆ« maths.pdf'))\n```\n\n----------------------------------------\n\nTITLE: Parsing Content-Disposition header\nDESCRIPTION: Example of parsing a Content-Disposition header string with Unicode filename\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nconst disposition = contentDisposition.parse('attachment; filename=\"EURO rates.txt\"; filename*=UTF-8\\'\\'%e2%82%ac%20rates.txt')\n```\n\n----------------------------------------\n\nTITLE: Importing content-disposition module\nDESCRIPTION: Example of requiring the content-disposition module in Node.js\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nconst contentDisposition = require('content-disposition')\n```\n\n----------------------------------------\n\nTITLE: Installing content-disposition package\nDESCRIPTION: Command to install the content-disposition package from npm\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n$ npm install content-disposition\n```\n\n----------------------------------------\n\nTITLE: Running tests\nDESCRIPTION: Command to run the package's test suite\nSOURCE: https://github.com/jshttp/content-disposition/blob/master/README.md#2025-04-22_snippet_5\n\nLANGUAGE: shell\nCODE:\n```\n$ npm test\n```"
  }
]