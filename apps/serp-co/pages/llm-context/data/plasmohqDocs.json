[
  {
    "owner": "plasmohq",
    "repo": "docs",
    "content": "TITLE: Implementing Basic Content Script in TypeScript\nDESCRIPTION: Demonstrates how to create a simple content script that logs a message to the console. Includes the required empty export to satisfy TypeScript module requirements.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport {}\nconsole.log(\n  \"You may find that having is not so pleasing a thing as wanting. This is not logical, but it is often true.\"\n)\n```\n\n----------------------------------------\n\nTITLE: Sending Messages from Popup to Background Service Worker\nDESCRIPTION: Code example demonstrating how to send a message from a popup component to the background service worker using the sendToBackground function.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sendToBackground } from \"@plasmohq/messaging\"\\n\\n...\\nconst resp = await sendToBackground({\\n  name: \"ping\",\\n  body: {\\n    id: 123\\n  }\\n})\\n\\nconsole.log(resp)\n```\n\n----------------------------------------\n\nTITLE: Creating a Background Service Worker Port Handler in TypeScript\nDESCRIPTION: This code creates a port handler in the background service worker that listens for connections. The file name (mail.ts) defines the port name, and the default export is the handler function that processes requests and sends responses.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoMessaging } from \"@plasmohq/messaging\"\n\nconst handler: PlasmoMessaging.PortHandler = async (req, res) => {\n  console.log(req)\n\n  res.send({\n    message: \"Hello from port handler\"\n  })\n}\n\nexport default handler\n```\n\n----------------------------------------\n\nTITLE: Basic Storage Operations in TypeScript\nDESCRIPTION: Demonstrates basic get and set operations using the Storage API. The example shows storing both primitive values and objects without manually handling JSON serialization.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_1\n\nLANGUAGE: ts\nCODE:\n```\nimport { Storage } from \"@plasmohq/storage\"\n\nconst storage = new Storage()\n\nawait storage.set(\"key\", \"value\")\nconst data = await storage.get(\"key\") // \"value\"\n\nawait storage.set(\"capt\", { color: \"red\" })\nconst data2 = await storage.get(\"capt\") // { color: \"red\" }\n```\n\n----------------------------------------\n\nTITLE: Using usePort Hook in a React Component\nDESCRIPTION: This React component demonstrates how to use the usePort hook to connect to a port. The hook handles the connection lifecycle and automatically updates the component with the latest response data from the port handler.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport { usePort } from \"@plasmohq/messaging/hook\"\n\nfunction DeltaTab() {\n  const mailPort = usePort(\"mail\")\n\n  return (\n    <div>\n      {mailPort.data?.message}\n      <button\n        onClick={async () => {\n          mailPort.send({\n            hello: \"world\"\n          })\n        }}>\n        Send Data\n      </button>\n    </div>\n  )\n}\n\nexport default DeltaTab\n```\n\n----------------------------------------\n\nTITLE: Configuring Content Script for Main World Injection in TypeScript\nDESCRIPTION: Demonstrates how to configure a content script to be injected into the main world, allowing modification of the window object. Uses the PlasmoCSConfig type.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoCSConfig } from \"plasmo\"\n\nexport const config: PlasmoCSConfig = {\n  matches: [\"<all_urls>\"],\n  world: \"MAIN\"\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Storage Hooks in Popup Component (React/TSX)\nDESCRIPTION: This code snippet demonstrates how to use Plasmo's storage hooks in a React popup component. It shows reading and writing to storage, including incrementing a counter and managing a checkbox state.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-chrome-storage.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useStorage } from \"@plasmohq/storage/hook\"\n\nfunction IndexPopup() {\n  const [openCount] = useStorage<number>(\"open-count\", (storedCount) =>\n    typeof storedCount === \"undefined\" ? 0 : storedCount + 1\n  )\n\n  const [checked, setChecked] = useStorage(\"checked\", true)\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <p>Times opened: {openCount}</p>\n      <input\n        type={\"checkbox\"}\n        checked={checked}\n        onChange={(e) => setChecked(e.target.checked)}\n      />\n    </div>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Watching Storage Changes in Background Script\nDESCRIPTION: Shows how to watch for changes to specific keys in storage using the watch method. This can be used for state synchronization across different parts of an extension.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nimport { Storage } from \"@plasmohq/storage\"\n\nconst storage = new Storage()\n\nawait storage.set(\"serial-number\", 47)\nawait storage.set(\"make\", \"plasmo-corp\")\n\nstorage.watch({\n  \"serial-number\": (c) => {\n    console.log(c.newValue)\n  },\n  make: (c) => {\n    console.log(c.newValue)\n  }\n})\n\nawait storage.set(\"serial-number\", 96)\nawait storage.set(\"make\", \"PlasmoHQ\")\n```\n\n----------------------------------------\n\nTITLE: Creating a Custom Button Component with React in Plasmo CSUI\nDESCRIPTION: This code snippet demonstrates how to create a simple React component for a custom button that can be injected into a web page using Plasmo's Content Scripts UI feature. The component is exported as the default export in a content.tsx file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nconst CustomButton = () => {\n  return <button>Custom button</button>\n}\n\nexport default CustomButton\n```\n\n----------------------------------------\n\nTITLE: Using Typed sendToBackground Function in React\nDESCRIPTION: This code snippet shows how to use the sendToBackground function with proper type parameters to ensure type safety. It imports the request and response types from the background message handler and uses them to type the function call.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sendToBackground } from \"@plasmohq/messaging\"\n\nimport type { RequestBody, ResponseBody } from \"~background/messages/ping\"\n\n...\n\nconst resp = await sendToBackground<RequestBody, ResponseBody>({\n  name: \"ping\",\n  body: {\n    id: 123\n  }\n})\n\nconsole.log(resp)\n```\n\n----------------------------------------\n\nTITLE: Implementing Subscription Verification in Popup Component\nDESCRIPTION: React component using SWR to fetch and validate the user's subscription status from the NextJS backend. It conditionally renders UI elements based on whether the user has an active subscription.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport useSWR from \"swr\"\nimport { callAPI } from \"~core/premium-api\"\n\n...\n  const { data, error } = useSWR<{ active: boolean }>(\n    \"/api/check-subscription\",\n    callAPI\n  )\n\n\n  if (!!error || !data?.active) {\n    // No active subscription, show pay button\n  }\n\n  // Has active subscription, show premium feature button\n```\n\n----------------------------------------\n\nTITLE: Accessing Anchor Properties in a React Component\nDESCRIPTION: Example of a React functional component that accesses the anchor properties passed via PlasmoCSUIProps.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoCSUIProps } from \"plasmo\"\n\nconst AnchorTypePrinter: FC<PlasmoCSUIProps> = ({ anchor }) => {\n  return <span>{anchor.type}</span>\n}\n\nexport default AnchorTypePrinter\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Background Service Worker in Plasmo\nDESCRIPTION: A minimal example of a background service worker file for Plasmo extensions. The code demonstrates how to create a background.ts file that logs a message to the console. The empty export statement is required due to Plasmo's TypeScript configuration treating all source files as modules.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/background-service-worker.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport {}\n\nconsole.log(\n  \"Live now; make now always the most precious time. Now will never come again.\"\n)\n```\n\n----------------------------------------\n\nTITLE: Configuring a Persistent Redux Store with WebExtension Storage\nDESCRIPTION: Sets up a Redux store with persistence using @plasmohq/redux-persist and redux-persist-webextension-storage. The configuration includes middleware to handle serialization and a Storage watcher that syncs the store across multiple extension pages.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-redux.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { configureStore } from \"@reduxjs/toolkit\"\nimport { localStorage } from \"redux-persist-webextension-storage\"\n\nimport {\n  FLUSH,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n  REHYDRATE,\n  RESYNC,\n  persistReducer,\n  persistStore\n} from \"@plasmohq/redux-persist\"\nimport { Storage } from \"@plasmohq/storage\"\n\nimport counterSlice from \"~counter-slice\"\n\nconst rootReducer = counterSlice\n\nconst persistConfig = {\n  key: \"root\",\n  version: 1,\n  storage: localStorage\n}\n\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nexport const store = configureStore({\n  reducer: persistedReducer,\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware({\n      serializableCheck: {\n        ignoredActions: [\n          FLUSH,\n          REHYDRATE,\n          PAUSE,\n          PERSIST,\n          PURGE,\n          REGISTER,\n          RESYNC\n        ]\n      }\n    })\n})\nexport const persistor = persistStore(store)\n\n// This is what makes Redux sync properly with multiple pages\n// Open your extension's options page and popup to see it in action\nnew Storage().watch({\n  [`persist:${persistConfig.key}`]: () => {\n    persistor.resync()\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Building for a Specific Browser Target\nDESCRIPTION: Command to build for a specific browser and manifest version combination using the --target flag.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --target=firefox-mv2\n```\n\n----------------------------------------\n\nTITLE: Sending Messages from a Web Page via Relay\nDESCRIPTION: Shows how to send messages from a web page to a background service worker through a relay established in a content script.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sendToBackgroundViaRelay } from \"@plasmohq/messaging\"\\n...\\n\\nconst resp = await sendToBackgroundViaRelay({\\n  name: \"ping\"\\n})\\n\\nconsole.log(resp)\n```\n\n----------------------------------------\n\nTITLE: Importing React Hook Storage API\nDESCRIPTION: Shows how to import the useStorage hook from the @plasmohq/storage/hook module for use in React components.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useStorage } from \"@plasmohq/storage/hook\"\n```\n\n----------------------------------------\n\nTITLE: Advanced useStorage Hook with Form Control\nDESCRIPTION: Demonstrates advanced useStorage hook usage with separate methods for updating the rendered value and the stored value. Useful for form inputs where you want to defer saving until a button is clicked.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_14\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency, setHailingFrequency, {\n  setRenderValue,\n  setStoreValue,\n  remove\n}] = useStorage(\"hailing\")\n\nreturn <>\n  <input value={hailingFrequency} onChange={(e) => setRenderValue(e.target.value)}/>\n  <button onClick={() => setStoreValue()}>\n    Save\n  </button>\n  <button onClick={() => remove()}>\n    Remove\n  </button>\n</>\n```\n\n----------------------------------------\n\nTITLE: Using Redux in Browser Extension Background Service Worker\nDESCRIPTION: Demonstrates how to access and monitor Redux state changes in a background service worker. Uses the persistor's subscribe method to log state changes as they occur.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-redux.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport { persistor, store } from \"~store\"\n\npersistor.subscribe(() => {\n  console.log(\"State changed with: \", store?.getState())\n})\n```\n\n----------------------------------------\n\nTITLE: Creating Popup Page in Plasmo\nDESCRIPTION: Create a popup dialog window that appears when users click the extension icon in the browser toolbar. Implement by creating either popup.tsx or popup/index.tsx exporting a default React component.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/ext-pages.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\npopup.tsx or popup/index.tsx\n```\n\n----------------------------------------\n\nTITLE: Implementing Type Safety for Message Handlers\nDESCRIPTION: This code demonstrates how to implement type safety for message handlers using generic types. It defines the request and response body types and uses them as type parameters for the message handler to ensure type consistency.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoMessaging } from \"@plasmohq/messaging\"\n\nexport type RequestBody = {\n  id: number\n}\n\nexport type ResponseBody = {\n  message: string\n}\n\nconst handler: PlasmoMessaging.MessageHandler<\n  RequestBody,\n  ResponseBody\n> = async (req, res) => {\n  console.log(req.body.id)\n\n  res.send({\n    message: \"Hello from background\"\n  })\n}\n\nexport default handler\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Environment Variables in Plasmo\nDESCRIPTION: Example of setting up basic environment variables in a .env file. Shows public variables that will be injected and private variables that won't be accessible in the extension.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_0\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_SHIP_NAME=ncc-1701\nPLASMO_PUBLIC_SHIELD_FREQUENCY=42\n\nPRIVATE_KEY=xxx # Undefined in extension\n```\n\n----------------------------------------\n\nTITLE: Simple Value Watching with useStorage Hook\nDESCRIPTION: Demonstrates a basic usage of the useStorage hook to watch and render a value from storage in a React component.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency] = useStorage(\"hailing\")\n...\n{hailingFrequency}\n```\n\n----------------------------------------\n\nTITLE: Rendering Authentication UI Component with Login/Signup Toggle in TSX\nDESCRIPTION: This code snippet shows a React component that renders an authentication UI with conditional rendering between login and signup forms. It includes a button to toggle between the two forms and appropriate styling classes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\n                    onClick={() => setShowLogin(false)}\n                    className=\"bg-transparent font-medium text-primary-600 hover:underline\">\n                    Sign up\n                  </button>\n                </p>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Firebase Authentication Form Component in React\nDESCRIPTION: A comprehensive authentication form component that handles both user login and registration with Firebase. It includes form validation, state management for email and password fields, and integration with Firebase authentication methods.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_6\n\nLANGUAGE: TSX\nCODE:\n```\n// src/components/AuthForm.tsx\n\nimport {\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword\n} from \"firebase/auth\"\nimport React, { useState } from \"react\"\n\nimport { auth } from \"~firebase/firebaseClient\"\nimport useFirebaseUser from \"~firebase/useFirebaseUser\"\n\nexport default function AuthForm() {\n  const [showLogin, setShowLogin] = useState(true)\n  const [email, setEmail] = useState(\"\")\n  const [confirmPassword, setConfirmPassword] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const { isLoading, onLogin } = useFirebaseUser()\n\n  const signIn = async (e: any) => {\n    if (!email || !password)\n      return console.log(\"Please enter email and password\")\n\n    e.preventDefault()\n    try {\n      await signInWithEmailAndPassword(auth, email, password)\n    } catch (error: any) {\n      console.log(error.message)\n    } finally {\n      setEmail(\"\")\n      setPassword(\"\")\n      setConfirmPassword(\"\")\n      onLogin()\n    }\n  }\n\n  const signUp = async (e: any) => {\n    try {\n      if (!email || !password || !confirmPassword)\n        return console.log(\"Please enter email and password\")\n\n      if (password !== confirmPassword)\n        return console.log(\"Passwords do not match\")\n\n      e.preventDefault()\n\n      const user = await createUserWithEmailAndPassword(auth, email, password)\n      onLogin()\n    } catch (error: any) {\n      console.log(error.message)\n    } finally {\n      setEmail(\"\")\n      setPassword(\"\")\n      setConfirmPassword(\"\")\n    }\n  }\n\n  return (\n    <div className=\"flex items-center justify-center w-full p-4 overflow-x-hidden rounded-xl overflow-y-auto md:inset-0 h-[calc(100%-1rem)] max-h-full\">\n      <div className=\"w-full max-w-2xl max-h-full\">\n        <div className=\"p-10 bg-white rounded-lg shadow\">\n          <div className=\"flex flex-row items-center justify-center\">\n            {!isLoading && (\n              <span className=\"text-black font-bold text-3xl text-center\">\n                {showLogin ? \"Login\" : \"Sign Up\"}\n              </span>\n            )}\n            {isLoading && (\n              <span className=\"text-black font-bold text-3xl text-center\">\n                Loading...\n              </span>\n            )}\n          </div>\n\n          <div className=\"p-4 rounded-xl bg-white text-black\">\n            {!showLogin && !isLoading && (\n              <form className=\"space-y-4 md:space-y-6\" onSubmit={signUp}>\n                <div>\n                  <label\n                    htmlFor=\"email\"\n                    className=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Your email\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    value={email}\n                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\"\n                    placeholder=\"name@company.com\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label\n                    htmlFor=\"password\"\n                    className=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    value={password}\n                    placeholder=\"••••••••\"\n                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label\n                    htmlFor=\"confirm-password\"\n                    className=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Confirm password\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"confirm-password\"\n                    id=\"confirm-password\"\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    value={confirmPassword}\n                    placeholder=\"••••••••\"\n                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\"\n                    required\n                  />\n                </div>\n                <div className=\"flex items-start\">\n                  <div className=\"flex items-center h-5\">\n                    <input\n                      id=\"terms\"\n                      aria-describedby=\"terms\"\n                      type=\"checkbox\"\n                      className=\"w-4 h-4 border border-gray-300 rounded bg-gray-50 focus:ring-3 focus:ring-primary-300\"\n                      required\n                    />\n                  </div>\n                  <div className=\"ml-3 text-sm\">\n                    <label htmlFor=\"terms\" className=\"font-light text-gray-500\">\n                      I accept the{\" \"}\n                      <a\n                        className=\"font-medium text-primary-600 hover:underline\"\n                        href=\"#\">\n                        Terms and Conditions\n                      </a>\n                    </label>\n                  </div>\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full text-black bg-gray-300 hover:bg-primary-dark focus:ring-4 focus:outline-none focus:ring-primary-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center\">\n                  Create an account\n                </button>\n                <p className=\"text-sm font-light text-gray-500\">\n                  Already have an account?{\" \"}\n                  <button\n                    onClick={() => setShowLogin(true)}\n                    className=\"bg-transparent font-medium text-primary-600 hover:underline\">\n                    Login here\n                  </button>\n                </p>\n              </form>\n            )}\n            {showLogin && !isLoading && (\n              <form className=\"space-y-4 md:space-y-6\" onSubmit={signIn}>\n                <div>\n                  <label\n                    htmlFor=\"email\"\n                    className=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Your email\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    onChange={(e) => setEmail(e.target.value)}\n                    value={email}\n                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\"\n                    placeholder=\"name@company.com\"\n                    required\n                  />\n                </div>\n                <div>\n                  <label\n                    htmlFor=\"password\"\n                    className=\"block mb-2 text-sm font-medium text-gray-900\">\n                    Password\n                  </label>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    id=\"password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    value={password}\n                    placeholder=\"••••••••\"\n                    className=\"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5\"\n                    required\n                  />\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-start\">\n                    <div className=\"flex items-center h-5\">\n                      <input\n                        id=\"remember\"\n                        aria-describedby=\"remember\"\n                        type=\"checkbox\"\n                        className=\"w-4 h-4 border border-gray-300 rounded accent-primary bg-gray-50 focus:ring-3 focus:ring-primary\"\n                      />\n                    </div>\n                    <div className=\"ml-3 text-sm\">\n                      <label htmlFor=\"remember\" className=\"text-gray-500 \">\n                        Remember me\n                      </label>\n                    </div>\n                  </div>\n                  <a\n                    href=\"#\"\n                    className=\"text-sm font-medium text-primary-600 hover:underline\">\n                    Forgot password?\n                  </a>\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"w-full text-black bg-gray-300 hover:bg-primary-dark focus:outline-none font-medium rounded-lg text-sm px-5 py-2.5 text-center\">\n                  Sign in\n                </button>\n                <p className=\"text-sm font-light text-gray-500\">\n                  Don't have an account yet?{\" \"}\n                  <button\n```\n\n----------------------------------------\n\nTITLE: Implementing Options Page with Firebase Authentication in React\nDESCRIPTION: A React component for the options page that uses a custom Firebase user hook to manage authentication state. This component displays either an authentication form or a success message based on the user's login status.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_5\n\nLANGUAGE: TSX\nCODE:\n```\n// src/options.tsx\nimport AuthForm from \"~components/AuthForm\"\n\nimport \"./style.css\"\n\nimport useFirebaseUser from \"~firebase/useFirebaseUser\"\n\nexport default function Options() {\n  const { user, isLoading, onLogin } = useFirebaseUser()\n\n  return (\n    <div className=\"min-h-screen bg-black p-4 md:p-10\">\n      <div className=\"text-white flex flex-col space-y-10 items-center justify-center\">\n        {!user && <AuthForm />}\n        {user && <div>You're signed in! Woo</div>}\n      </div>\n    </div>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Content Script Matching in TypeScript\nDESCRIPTION: Shows how to export a configuration object for a content script, specifying URL patterns to match and whether to run in all frames. Uses the PlasmoCSConfig type for type checking.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoCSConfig } from \"plasmo\"\n\nexport const config: PlasmoCSConfig = {\n  matches: [\"<all_urls>\"],\n  all_frames: true\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Firebase Token Refresh Utility\nDESCRIPTION: Utility function for refreshing Firebase authentication tokens and handling token expiration\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\ntype RefreshTokenResponse = {\n  expires_in: string\n  token_type: string\n  refresh_token: string\n  id_token: string\n  user_id: string\n  project_id: string\n}\n\nexport default async function refreshFirebaseToken(\n  refreshToken: string\n): Promise<RefreshTokenResponse> {\n  const response = await fetch(\n    \"https://securetoken.googleapis.com/v1/token?key=<firebase_api_key>\",\n    {\n      method: \"POST\",\n      body: JSON.stringify({\n        grant_type: \"refresh_token\",\n        refresh_token: refreshToken\n      })\n    }\n  )\n\n  const {\n    expires_in,\n    token_type,\n    refresh_token,\n    id_token,\n    user_id,\n    project_id\n  } = await response.json()\n\n  return {\n    expires_in,\n    token_type,\n    refresh_token,\n    id_token,\n    user_id,\n    project_id\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Up a Message Relay in a Content Script\nDESCRIPTION: Demonstrates how to set up a relay in a content script to handle messages from specified websites and forward them to the background service worker.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoCSConfig } from \"plasmo\"\\n\\nimport { relayMessage } from \"@plasmohq/messaging\"\\n\\nexport const config: PlasmoCSConfig = {\\n  matches: [\"http://www.plasmo.com/*\"] // Only relay messages from this domain\\n}\\n\\nrelayMessage({\\n  name: \"ping\"\\n})\n```\n\n----------------------------------------\n\nTITLE: Creating a Background Message Handler for Ping\nDESCRIPTION: Example of a background message handler that processes a ping request, queries an API with the request body's ID, and sends back a response.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoMessaging } from \"@plasmohq/messaging\"\\n\\nconst handler: PlasmoMessaging.MessageHandler = async (req, res) => {\\n  const message = await querySomeApi(req.body.id)\\n\\n  res.send({\\n    message\\n  })\\n}\\n\\nexport default handler\n```\n\n----------------------------------------\n\nTITLE: Implementing Supabase Authentication in React Options Page\nDESCRIPTION: React component for the extension's options page that implements Supabase authentication. Includes email/password login, OAuth login with GitHub, and session management.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { Provider, User } from \"@supabase/supabase-js\"\nimport { useEffect, useState } from \"react\"\n\nimport { Storage } from \"@plasmohq/storage\"\nimport { useStorage } from \"@plasmohq/storage/hook\"\n\nimport { supabase } from \"~core/supabase\"\n\nfunction IndexOptions() {\n  const [user, setUser] = useStorage<User>({\n    key: \"user\",\n    instance: new Storage({\n      area: \"local\"\n    })\n  })\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n\n  useEffect(() => {\n    async function init() {\n      const { data, error } = await supabase.auth.getSession()\n\n      if (error) {\n        console.error(error)\n        return\n      }\n      if (!!data.session) {\n        setUser(data.session.user)\n      }\n    }\n\n    init()\n  }, [])\n\n  const handleEmailLogin = async (\n    type: \"LOGIN\" | \"SIGNUP\",\n    username: string,\n    password: string\n  ) => {\n    try {\n      const {\n        error,\n        data: { user }\n      } =\n        type === \"LOGIN\"\n          ? await supabase.auth.signInWithPassword({\n              email: username,\n              password\n            })\n          : await supabase.auth.signUp({ email: username, password })\n\n      if (error) {\n        alert(\"Error with auth: \" + error.message)\n      } else if (!user) {\n        alert(\"Signup successful, confirmation mail should be sent soon!\")\n      } else {\n        setUser(user)\n      }\n    } catch (error) {\n      console.log(\"error\", error)\n      alert(error.error_description || error)\n    }\n  }\n\n  const handleOAuthLogin = async (provider: Provider, scopes = \"email\") => {\n    await supabase.auth.signInWithOAuth({\n      provider,\n      options: {\n        scopes,\n        redirectTo: location.href\n      }\n    })\n  }\n\n  return (\n    <main\n      style={{\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        width: \"100%\",\n        top: 240,\n        position: \"relative\"\n      }}>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          width: 240,\n          justifyContent: \"space-between\",\n          gap: 4.2\n        }}>\n        {user && (\n          <>\n            <h3>\n              {user.email} - {user.id}\n            </h3>\n            <button\n              onClick={() => {\n                supabase.auth.signOut()\n                setUser(null)\n              }}>\n              Logout\n            </button>\n          </>\n        )}\n        {!user && (\n          <>\n            <label>Email</label>\n            <input\n              type=\"text\"\n              placeholder=\"Your Username\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n            />\n            <label>Password</label>\n            <input\n              type=\"password\"\n              placeholder=\"Your password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n\n            <button\n              onClick={(e) => {\n                handleEmailLogin(\"SIGNUP\", username, password)\n              }}>\n              Sign up\n            </button>\n            <button\n              onClick={(e) => {\n                handleEmailLogin(\"LOGIN\", username, password)\n              }}>\n              Login\n            </button>\n\n            <button\n              onClick={(e) => {\n                handleOAuthLogin(\"github\")\n              }}>\n              Sign in with GitHub\n            </button>\n          </>\n        )}\n      </div>\n    </main>\n  )\n}\n\nexport default IndexOptions\n```\n\n----------------------------------------\n\nTITLE: Persisting Initial Value with Initialization Function\nDESCRIPTION: Demonstrates using an initialization function with useStorage to persist an initial value to storage if no value exists. This ensures all components see the same initial value.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_12\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency, setHailingFrequency] = useStorage(\"hailing\", (v) => v === undefined ? \"42\": v)\n...\n{hailingFrequency} // \"42\"\n```\n\n----------------------------------------\n\nTITLE: Implementing Premium Feature Invocation in Popup\nDESCRIPTION: React button component implementation that calls a premium API endpoint when clicked, demonstrating how to trigger premium functionality in the extension once a user's subscription is verified.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\n<button\n  onClick={async () => {\n    const data = await callAPI(\"/api/premium-feature\", {\n      method: \"POST\"\n    })\n\n    alert(data.code)\n  }}>\n  Calling Awesome Premium Feature\n</button>\n```\n\n----------------------------------------\n\nTITLE: Injecting Script into Main World using Chrome Scripting API\nDESCRIPTION: Demonstrates how to use chrome.scripting.executeScript to inject a script into the main world of a web page from a background service worker.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nchrome.scripting.executeScript(\n  {\n    target: {\n      tabId // the tab you want to inject into\n    },\n    world: \"MAIN\", // MAIN to access the window object\n    func: windowChanger // function to inject\n  },\n  () => {\n    console.log(\"Background script got callback after injection\")\n  }\n)\n```\n\n----------------------------------------\n\nTITLE: Using Built-in Overlay Containers in Plasmo\nDESCRIPTION: Demonstrates how to utilize Plasmo's built-in Overlay Container component for rendering content. This approach leverages the pre-built container while allowing customization of the rendered content based on the anchor element.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_17\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoRender } from \"plasmo\"\n\nconst AnchorOverlay = ({ anchor }) => <span>{anchor.innerText}</span>\n\nexport const render: PlasmoRender = async (\n  {\n    anchor, // the observed anchor, OR document.body.\n    createRootContainer // This creates the default root container\n  },\n  _,\n  OverlayCSUIContainer\n) => {\n  const rootContainer = await createRootContainer()\n\n  const root = createRoot(rootContainer) // Any root\n  root.render(\n    // You must pass down an anchor to mount the default container. Here we pass the default one\n    <OverlayCSUIContainer anchor={anchor}>\n      <AnchorOverlay anchor={anchor} />\n    </OverlayCSUIContainer>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Persisted Value in Another Component\nDESCRIPTION: Shows accessing a value that was persisted by another component's initialization function. The value is immediately available without additional initialization.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_13\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency] = useStorage(\"hailing\")\n\nreturn <p>{hailingFrequency}</p> // \"42\"\n```\n\n----------------------------------------\n\nTITLE: Using Existing DOM Elements as Custom Containers in Plasmo\nDESCRIPTION: Demonstrates how to override the default root container by using an existing DOM element. This implementation waits for a specific element to appear in the document before using it as the container for the CSUI.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_15\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoRender } from \"plasmo\"\n\nimport { CustomContainer } from \"~components/custom-container\"\n\nconst EngageOverlay = () => <span>ENGAGE</span>\n\n// This function overrides the default `createRootContainer`\nexport const getRootContainer = () =>\n  new Promise((resolve) => {\n    const checkInterval = setInterval(() => {\n      const rootContainer = document.getElementById(\"itero\")\n      if (rootContainer) {\n        clearInterval(checkInterval)\n        resolve(rootContainer)\n      }\n    }, 137)\n  })\n\nexport const render: PlasmoRender = async ({\n  anchor, // the observed anchor, OR document.body.\n  createRootContainer // This creates the default root container\n}) => {\n  const rootContainer = await createRootContainer()\n\n  const root = createRoot(rootContainer) // Any root\n  root.render(\n    <CustomContainer>\n      <EngageOverlay />\n    </CustomContainer>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing Storage Value in Content Script\nDESCRIPTION: Demonstrates accessing a storage value in a content script using useStorage. Without a stored value or initial value, it will show undefined.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency] = useStorage(\"hailing\")\n\nreturn <p>{hailingFrequency}</p> // undefined\n```\n\n----------------------------------------\n\nTITLE: Using Custom Storage Instance with useStorage Hook\nDESCRIPTION: Shows how to use a custom Storage instance with the useStorage hook by providing an options object with key and instance properties.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Storage } from \"@plasmohq/storage\"\n...\nconst [hailingFrequency] = useStorage({\n  key: \"hailing\",\n  instance: new Storage({\n    area: \"local\"\n  })\n})\n```\n\n----------------------------------------\n\nTITLE: Implementing Options Page in Plasmo\nDESCRIPTION: Create a dedicated settings and configuration page for the extension. Implement by creating either options.tsx or options/index.tsx file to render the options_ui.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/ext-pages.mdx#2025-04-17_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\noptions.tsx or options/index.tsx\n```\n\n----------------------------------------\n\nTITLE: Building with a Custom Tag\nDESCRIPTION: Command to build with a custom tag instead of the default 'prod' tag, which affects the output directory and environment variables.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --tag=staging\n```\n\n----------------------------------------\n\nTITLE: Using CSS Modules with Plasmo CSUI\nDESCRIPTION: Shows how to utilize CSS modules in Plasmo CSUI by importing the stylesheet twice - once for its content and once for the class names - and applying those classes to components.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport styleText from \"data-text:./style.module.css\"\nimport type { PlasmoCSConfig } from \"plasmo\"\n\nimport * as style from \"./style.module.css\"\n\nexport const getStyle = () => {\n  const style = document.createElement(\"style\")\n  style.textContent = styleText\n  return style\n}\n\nconst Overlay = () => <h1 className={style.header}>Captain Log</h1>\n\nexport default Overlay\n```\n\n----------------------------------------\n\nTITLE: Configuring Web Accessible Resources in Manifest\nDESCRIPTION: JSON configuration for declaring web accessible resources in the manifest override, including file patterns and URL matching rules.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/assets.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n  \"manifest\": {\n    \"web_accessible_resources\": [\n      {\n        \"resources\": [\n          \"~raw.js\",\n          \"assets/pic*.png\",\n          \"resources/test.json\"\n        ],\n        \"matches\": [\n          \"https://www.plasmo.com/*\"\n        ]\n      }\n    ],\n    \"host_permissions\": [\n      \"https://*/*\"\n    ]\n  }\n```\n\n----------------------------------------\n\nTITLE: Creating a Tab Page with React in Plasmo\nDESCRIPTION: This code demonstrates how to implement a basic Tab Page in Plasmo using React. The component creates a simple UI with a heading and paragraph that will be available through the extension's tab system.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/tab-pages.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nfunction DeltaFlyerPage() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <h2>Delta Flyer Tab</h2>\n\n      <p>This tab is only available on the Delta Flyer page.</p>\n    </div>\n  )\n}\n\nexport default DeltaFlyerPage\n```\n\n----------------------------------------\n\nTITLE: Plasmo Content Script UI Component\nDESCRIPTION: React component injection into web pages using Plasmo's Content Scripts UI feature\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nexport default function PressMeCSUI() {\n  return <button>Press me</button>\n}\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoGetInlineAnchor } from \"plasmo\"\n\nexport const getInlineAnchor: PlasmoGetInlineAnchor = async () =>\n  document.querySelector(\"#pricing\")\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoGetInlineAnchor } from \"plasmo\"\n\nexport const getInlineAnchor: PlasmoGetInlineAnchor = async () => ({\n      element: document.querySelector(\"#pricing\"),\n      insertPosition: \"afterend\"\n})\n```\n\n----------------------------------------\n\nTITLE: Creating Firebase User Authentication Hook\nDESCRIPTION: React hook implementation for handling Firebase authentication state, login, and logout functionality\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  type User,\n  browserLocalPersistence,\n  onAuthStateChanged,\n  setPersistence\n} from \"firebase/auth\"\nimport { useEffect, useState } from \"react\"\n\nimport { sendToBackground } from \"@plasmohq/messaging\"\n\nimport { auth } from \"./firebaseClient\"\n\nsetPersistence(auth, browserLocalPersistence)\n\nexport default function useFirebaseUser() {\n  const [isLoading, setIsLoading] = useState(false)\n  const [user, setUser] = useState<User>(null)\n\n  const onLogout = async () => {\n    setIsLoading(true)\n    if (user) {\n      await auth.signOut()\n\n      await sendToBackground({\n        name: \"removeAuth\",\n        body: {}\n      })\n    }\n  }\n\n  const onLogin = () => {\n    if (!user) return\n\n    const uid = user.uid\n\n    user.getIdToken(true).then(async (token) => {\n      await sendToBackground({\n        name: \"saveAuth\",\n        body: {\n          token,\n          uid,\n          refreshToken: user.refreshToken\n        }\n      })\n    })\n  }\n\n  useEffect(() => {\n    onAuthStateChanged(auth, (user) => {\n      setIsLoading(false)\n      setUser(user)\n    })\n  }, [])\n\n  useEffect(() => {\n    if (user) {\n      onLogin()\n    }\n  }, [user])\n\n  return {\n    isLoading,\n    user,\n    onLogin,\n    onLogout\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Path Aliases in tsconfig.json for Local Imports\nDESCRIPTION: Configuration for aliasing local imports using the 'paths' mapping in tsconfig.json. This allows you to use custom path prefixes like '~' or '@Components/' to reference files in your src directory.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"extends\": \"plasmo/templates/tsconfig.base\",\n  \"exclude\": [\"node_modules\"],\n  \"include\": [\"./**/*.ts\", \"./**/*.tsx\"],\n  \"compilerOptions\": {\n    \"paths\": {\n      \"~*\": [\"./src/*\"],\n      \"@Components/*\": [\"./src/components/*\"]\n    },\n    \"baseUrl\": \".\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Complete Submission Credentials for Chrome and Edge\nDESCRIPTION: Example of a complete keys.json configuration with API credentials for both Chrome Web Store and Microsoft Edge Add-ons. Includes all required fields for authenticating with both platforms.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/submit.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"$schema\": \"https://raw.githubusercontent.com/plasmo-corp/bpp/v3/keys.schema.json\",\n  \"chrome\": {\n    \"clientId\": \"123\",\n    \"refreshToken\": \"789\",\n    \"extId\": \"abcd\",\n    \"clientSecret\": \"efgh\"\n  },\n  \"edge\": {\n    \"clientId\": \"aaaaaaa-aaaa-bbbb-cccc-dddddddddddd\",\n    \"clientSecret\": \"abcdefg\",\n    \"productId\": \"aaaaaaa-aaaa-bbbb-cccc-dddddddddddd\",\n    \"accessTokenUrl\": \"https://login.microsoftonline.com/aaaaaaa-aaaa-bbbb-cccc-dddddddddddd/oauth2/v2.0/token\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Message Relay in a Sandbox Context\nDESCRIPTION: Example of implementing a message relay in contexts where chrome.runtime is unavailable, such as a sandbox, with a custom message handler.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport { relayMessage } from \"@plasmohq/messaging\"\\n\\nrelayMessage(\\n  {\\n    name: \"ping\"\\n  },\\n  async (req) => {\\n    console.log(\"some message was relayed:\", req)\\n    return {\\n      message: \"Hello from sandbox\"\\n    }\\n  }\\n)\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Sandbox Page with eval() Support in Plasmo\nDESCRIPTION: This code creates a sandbox page that listens for messages from other extension pages, evaluates the received data using eval(), and returns the result to the sender via postMessage. This demonstrates the privileged execution environment of sandbox pages.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/sandbox-pages.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nexport const life = 42\n\nwindow.addEventListener(\"message\", async function (event) {\n  const source = event.source as {\n    window: WindowProxy\n  }\n\n  source.window.postMessage(eval(event.data), event.origin)\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring Host Permissions in Manifest\nDESCRIPTION: Package.json manifest configuration that sets up host permissions to allow the extension to access both the development API server and any HTTPS site, using environment variables for flexible configuration between environments.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_9\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"manifest\": {\n    ...\n    \"host_permissions\": [\n      \"$PLASMO_PUBLIC_API_URI/*\",\n      \"https://*/*\"\n    ]\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using SecureStorage API with Encryption\nDESCRIPTION: Demonstrates the SecureStorage API which extends the base Storage API with data encryption and decryption using the Web Crypto SubtleCrypto API.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\nimport { SecureStorage } from \"@plasmohq/storage/secure\"\n\nconst storage = new SecureStorage()\n\nawait storage.setPassword(\"roosevelt\") // The only diff\n\nawait storage.set(\"key\", \"value\")\nconst data = await storage.get(\"key\") // \"value\"\n\nawait storage.set(\"capt\", { color: \"red\" })\nconst data2 = await storage.get(\"capt\") // { color: \"red\" }\n```\n\n----------------------------------------\n\nTITLE: Configuring Package.json for Plasmo with NextJS Integration\nDESCRIPTION: Package.json configuration that sets up scripts for running Plasmo and NextJS simultaneously, along with required dependencies including NextJS, Google Auth Library, SWR for data fetching, Stripe for payment processing, and Plasmo's run-parallel-scripts utility.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"scripts\": {\n    \"start\": \"next start\",\n    \"dev\": \"run-p dev:*\",\n    \"dev:plasmo\": \"plasmo dev\",\n    \"dev:next\": \"next dev --port 8472\",\n    \"build\": \"run-p build:*\",\n    \"build:plasmo\": \"plasmo build\",\n    \"build:next\": \"next build\"\n  },\n  ...\n  \"dependencies\": {\n    ...\n    \"next\": \"12.1.6\",\n    \"google-auth-library\": \"8.0.2\",\n    \"swr\": \"1.3.0\",\n    \"stripe\": \"9.8.0\"\n  },\n  \"devDependencies\": {\n    ...\n    \"@plasmohq/rps\": \"1.3.4\",\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Environment Variables in React Components\nDESCRIPTION: Examples of accessing environment variables in TypeScript/React components, including both TSX and TS usage patterns.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\n// For TSX (popups, option page):\nconst FrontHull = () => <h1>{process.env.PLASMO_PUBLIC_SHIP_NAME}</h1>\n\n// For TS (content scripts or background-scripts):\nconst shield = new Shield(process.env.PLASMO_PUBLIC_SHIELD_FREQUENCY)\n\n// Will be undefined because it's not prefixed with PLASMO_PUBLIC_\nconsole.log(process.env.PRIVATE_KEY)\n```\n\n----------------------------------------\n\nTITLE: Implementing Google Analytics in a React Extension Popup\nDESCRIPTION: Demonstrates how to integrate Google Analytics in a browser extension popup using React hooks. Uses the environment variable for the GTAG ID, initializes the Google Analytics script, and tracks page views and custom events.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-google-analytics.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport \"https://www.googletagmanager.com/gtag/js?id=$PLASMO_PUBLIC_GTAG_ID\"\n\nimport { useEffect, useState } from \"react\"\n\nfunction IndexPopup() {\n  const [data, setData] = useState(\"\")\n\n  useEffect(() => {\n    window.dataLayer = window.dataLayer || []\n    window.gtag = function gtag() {\n      window.dataLayer.push(arguments) // eslint-disable-line\n    }\n    window.gtag(\"js\", new Date())\n    window.gtag(\"config\", process.env.PLASMO_PUBLIC_GTAG_ID, {\n      page_path: \"/popup\",\n      debug_mode: true\n    })\n\n    window.gtag(\"event\", \"login\", {\n      method: \"TEST\"\n    })\n  }, [])\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <h1>\n        Welcome to your <a href=\"https://www.plasmo.com\">Plasmo</a> Extension!\n      </h1>\n      <input onChange={(e) => setData(e.target.value)} value={data} />\n    </div>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Configuring Content Script with CSS Files in Plasmo\nDESCRIPTION: Demonstrates how to configure a Plasmo content script to load external CSS files. Uses the css property in the PlasmoCSConfig to register fonts globally.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nexport const config: PlasmoCSConfig = {\n  matches: [\"https://www.plasmo.com/*\"],\n  css: [\"font.css\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing a Named Plasmo Extension Project\nDESCRIPTION: Commands to create a new Plasmo extension project with a predefined name, skipping the naming prompt. The name is provided as a positional argument in quotes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/new.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\npnpm create plasmo \"My Awesome Extension\"\n# OR\nyarn create plasmo \"My Awesome Extension\"\n# OR\nnpm create plasmo \"My Awesome Extension\"\n```\n\n----------------------------------------\n\nTITLE: Adding Permissions in Manifest Override\nDESCRIPTION: Example of how to add permissions to the extension manifest by using the manifest field in package.json. This snippet demonstrates adding the activeTab permission.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/manifest.mdx#2025-04-17_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"manifest\": {\n        \"permissions\": [\n            \"activeTab\"\n        ]\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining a Single Overlay Anchor\nDESCRIPTION: Function to specify a single overlay anchor by exporting a getOverlayAnchor function that returns a DOM element to attach to.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetOverlayAnchor } from \"plasmo\"\n\nexport const getOverlayAnchor: PlasmoGetOverlayAnchor = async () =>\n  document.querySelector(\"#pricing\")\n```\n\n----------------------------------------\n\nTITLE: Enabling Source Maps in Production Builds\nDESCRIPTION: Command to generate source maps for production bundles, which are disabled by default.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --source-maps\n```\n\n----------------------------------------\n\nTITLE: Custom Shadow Host Mounting\nDESCRIPTION: Function to customize how the shadow host is mounted in the DOM tree by implementing a custom mountShadowHost function.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_10\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoMountShadowHost } from \"plasmo\"\n\nexport const mountShadowHost: PlasmoMountShadowHost = ({\n  shadowHost,\n  anchor,\n  mountState\n}) => {\n  anchor.element.appendChild(shadowHost)\n  mountState.observer.disconnect() // OPTIONAL DEMO: stop the observer as needed\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Plasmo Extension with Custom Entry Files\nDESCRIPTION: Commands to initialize a Plasmo project with specific entry files by using the --entry flag with a comma-separated list of desired entry files such as options page, newtab page, and inline content script UI.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/new.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\npnpm create plasmo --entry=options,newtab,contents/inline\n# OR\nnpm create plasmo -- --entry=options,newtab,contents/inline\n```\n\n----------------------------------------\n\nTITLE: Implementing CSS-in-JS with Emotion in Plasmo CSUI\nDESCRIPTION: Demonstrates using CSS-in-JS libraries like Emotion with Plasmo CSUI by hydrating a CSS-in-JS style cache via the getStyle API. Creates an emotion cache linked to a style element.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_2\n\nLANGUAGE: typescript\nCODE:\n```\nimport createCache from \"@emotion/cache\"\nimport { CacheProvider } from \"@emotion/react\"\nimport type { PlasmoGetStyle } from \"plasmo\"\n\nconst styleElement = document.createElement(\"style\")\n\nconst styleCache = createCache({\n  key: \"plasmo-emotion-cache\",\n  prepend: true,\n  container: styleElement\n})\n\nexport const getStyle: PlasmoGetStyle = () => styleElement\n```\n\n----------------------------------------\n\nTITLE: Importing Remote Code with Environment Variables in TSX\nDESCRIPTION: Demonstrates how to use environment variables in remote import statements by prefixing the variable name with a $ symbol. This keeps sensitive data like tracking IDs out of the codebase.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/remote-code.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport \"https://www.googletagmanager.com/gtag/js?id=$PLASMO_PUBLIC_GTAG_ID\"\n```\n\n----------------------------------------\n\nTITLE: Copying Data to localStorage in TypeScript\nDESCRIPTION: Demonstrates configuration for automatically copying specified keys to Web localStorage when used with content scripts or extension pages.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_3\n\nLANGUAGE: ts\nCODE:\n```\nconst storage = new Storage({\n  copiedKeyList: [\"shield-modulation\"]\n})\n```\n\n----------------------------------------\n\nTITLE: Implementing Background Service Worker in Plasmo\nDESCRIPTION: This snippet shows how to create a background service worker in Plasmo using TypeScript.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nconsole.log(\"Hello from BGSW!\")\n```\n\n----------------------------------------\n\nTITLE: Creating Dev Tools Page in Plasmo\nDESCRIPTION: Create a dedicated development tools page for the extension. Implement by creating either devtools.tsx or devtools/index.tsx file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/ext-pages.mdx#2025-04-17_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\ndevtools.tsx or devtools/index.tsx\n```\n\n----------------------------------------\n\nTITLE: Requesting Upload URL with Itero API\nDESCRIPTION: TypeScript code demonstrating how to request a signed upload URL from the Itero API using the API key.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/api.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nconst keys = JSON.parse(await readFile(\"./keys.json\", \"utf8\")) // with keys.json being the file you downloaded from the settings page\n\n...\n\nconst resp = await fetch(\"https://itero.plasmo.com/api/submit/upload\", {\n  method: \"POST\",\n  headers: {\n      \"Content-Type\": \"application/json\"\n    },\n  body: JSON.stringify(keys.itero)\n})\n\nconst data = await resp.json()\n\nconsole.log(data)\n```\n\n----------------------------------------\n\nTITLE: Defining Multiple Inline Anchors\nDESCRIPTION: Function to specify multiple inline anchors by exporting a getInlineAnchorList function that returns a NodeList of DOM elements.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetInlineAnchorList } from \"plasmo\"\n\nexport const getInlineAnchorList: PlasmoGetInlineAnchorList = async () =>\n  document.querySelectorAll(\"a\")\n```\n\n----------------------------------------\n\nTITLE: Implementing i18n in React Component for Popup\nDESCRIPTION: This code snippet demonstrates how to use the i18n API to retrieve localized messages within a React component for a popup. It includes a welcome message and displays the localized popup message.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useState } from \"react\"\n\nfunction IndexPopup() {\n  const [data, setData] = useState(\"\")\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <h1>\n        Welcome to your <a href=\"https://www.plasmo.com\">Plasmo</a> Extension!\n      </h1>\n      <h2>{chrome.i18n.getMessage(\"popup\")}</h2>\n      <input onChange={(e) => setData(e.target.value)} value={data} />\n    </div>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Implementing Storage Hooks in Options Component (React/TSX)\nDESCRIPTION: This code snippet shows how to use Plasmo's storage hooks in a React options component. It demonstrates reading from storage to display a counter and checkbox state, without writing back to storage.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-chrome-storage.mdx#2025-04-17_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useStorage } from \"@plasmohq/storage/hook\"\n\nfunction IndexOptions() {\n  const [openCount] = useStorage<number>(\"open-count\")\n\n  const [checked] = useStorage(\"checked\")\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <p>Times opened: {openCount}</p>\n      <input type={\"checkbox\"} readOnly checked={checked} />\n    </div>\n  )\n}\n\nexport default IndexOptions\n```\n\n----------------------------------------\n\nTITLE: Importing External Assets in Content Scripts\nDESCRIPTION: Shows how to import external assets into a content script using the url: scheme, which automatically adds the asset to web_accessible_resources.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport myFile from \"url:./path/to/my/file/something.js\"\n```\n\n----------------------------------------\n\nTITLE: Defining Multiple Overlay Anchors\nDESCRIPTION: Function to specify multiple overlay anchors by exporting a getOverlayAnchorList function that returns a NodeList of DOM elements.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetOverlayAnchorList } from \"plasmo\"\n\nexport const getOverlayAnchorList: PlasmoGetOverlayAnchorList = async () =>\n  document.querySelectorAll(\"a\")\n```\n\n----------------------------------------\n\nTITLE: Customizing Storage Area in TypeScript\nDESCRIPTION: Shows how to create a Storage instance with a custom storage area. By default, the storage area is 'sync', but this example changes it to 'local'.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nconst storage = new Storage({\n  area: \"local\"\n})\n```\n\n----------------------------------------\n\nTITLE: Using Environment Variables in Locale Messages\nDESCRIPTION: This example demonstrates how to use environment variables within locale message files. It includes a popup message that references an environment variable for the quote author.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"popup\": {\n    \"message\": \"Logic is the beginning of wisdom, not the end. - $PLASMO_PUBLIC_QUOTE_AUTHOR\",\n    \"description\": \"Popup message.\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Styling CSUI with Raw CSS Text in Plasmo\nDESCRIPTION: Demonstrates how to style Plasmo CSUI components by exporting a getStyle function that returns a style element with raw CSS text. This ensures styles are isolated to your component.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetStyle } from \"plasmo\"\n\nexport const getStyle: PlasmoGetStyle = () => {\n  const style = document.createElement(\"style\")\n  style.textContent = `\n    p {\n      background-color: yellow;\n    }\n  `\n  return style\n}\n```\n\n----------------------------------------\n\nTITLE: Using Path Aliases for Component Imports in React/TSX\nDESCRIPTION: Example of importing components using the custom path aliases defined in tsconfig.json. This approach improves code readability and maintainability by avoiding deeply nested relative paths.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Button } from \"@Components/button\"\nimport { Checkbox } from \"@Components/checkbox\"\nimport { Header } from \"@Components/header\"\nimport { Input } from \"@Components/input\"\n```\n\n----------------------------------------\n\nTITLE: Adding Scripting Permission to Manifest in package.json\nDESCRIPTION: Shows how to add the scripting permission to the manifest section of package.json, which is required for manually injecting scripts into the main world.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts.mdx#2025-04-17_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"manifest\" : {\n    \"permissions\": [\"scripting\"]\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining the PlasmoCSUIAnchor Type in TypeScript\nDESCRIPTION: TypeScript type definition for a Plasmo CSUI anchor, which specifies whether the component should be mounted as an overlay or inline, and which element it should be attached to.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport type PlasmoCSUIAnchor = {\n  type: \"overlay\" | \"inline\"\n  element: Element\n}\n```\n\n----------------------------------------\n\nTITLE: Communicating with a Sandbox Page from a Popup Extension Page in Plasmo\nDESCRIPTION: This code creates a popup extension page that loads a sandbox page in a hidden iframe and communicates with it using postMessage. When the button is clicked, it sends a JavaScript expression to the sandbox page for evaluation and receives the result back via a message event listener.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/sandbox-pages.mdx#2025-04-17_snippet_1\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useEffect, useRef, useState } from \"react\"\n\nfunction IndexPopup() {\n  const iframeRef = useRef<HTMLIFrameElement>(null)\n\n  useEffect(() => {\n    window.addEventListener(\"message\", (event) => {\n      console.log(\"EVAL output: \" + event.data)\n    })\n  }, [])\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        padding: 16\n      }}>\n      <button\n        onClick={() => {\n          iframeRef.current.contentWindow.postMessage(\"10 + 20\", \"*\")\n        }}>\n        Trigger iframe eval\n      </button>\n      <iframe src=\"sandbox.html\" ref={iframeRef} style={{ display: \"none\" }} />\n    </div>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Defining a Custom Root Container\nDESCRIPTION: Function to completely replace Plasmo's Shadow DOM container implementation by specifying a custom root container element.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_12\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetRootContainer } from \"plasmo\"\n\nexport const getRootContainer = () => document.getElementById(\"itero\")\n```\n\n----------------------------------------\n\nTITLE: Implementing the extension popup with user information\nDESCRIPTION: Creates the main popup component for the extension, displaying user email and integrating the UserInfoProvider.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_5\n\nLANGUAGE: tsx\nCODE:\n```\nimport { UserInfoProvider, useUserInfo } from \"~core/user-info\"\n\nconst EmailShowcase = () => {\n  const userInfo = useUserInfo()\n\n  return (\n    <div>\n      Your email is: <b>{userInfo?.email}</b>\n    </div>\n  )\n}\n\nfunction IndexPopup() {\n  return (\n    <UserInfoProvider>\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          padding: 16\n        }}>\n        <h1>\n          Welcome to your <a href=\"https://www.plasmo.com\">Plasmo</a> Extension!\n        </h1>\n        <EmailShowcase />\n      </div>\n    </UserInfoProvider>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Creating a Redux Slice for Counter Functionality in TypeScript\nDESCRIPTION: Defines a Redux slice for managing a counter state with increment and decrement actions. The slice uses Redux Toolkit's createSlice function to handle state immutability automatically.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-redux.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport { createSlice } from \"@reduxjs/toolkit\"\n\nexport interface CounterState {\n  count: number\n}\n\nconst counterSlice = createSlice({\n  name: \"counter\",\n  initialState: { count: 0 },\n  reducers: {\n    increment: (state) => {\n      state.count += 1\n    },\n    decrement: (state) => {\n      state.count -= 1\n    }\n  }\n})\n\nexport const { increment, decrement } = counterSlice.actions\n\nexport default counterSlice.reducer\n```\n\n----------------------------------------\n\nTITLE: Defining Background Service Worker in manifest.json\nDESCRIPTION: This snippet shows how to specify a background service worker in the manifest.json file for non-Plasmo projects.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"background\": {\n    \"service_worker\": \"background.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using !important Flag to Override Host Page Styles in Plasmo CSUI\nDESCRIPTION: Shows how to use the !important flag to ensure Shadow DOM container styles aren't overridden by the host page's global styles. Useful for resolving style conflicts.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_8\n\nLANGUAGE: css\nCODE:\n```\n#plasmo-shadow-container {\n  z-index: 2147483646 !important;\n}\n```\n\n----------------------------------------\n\nTITLE: Dynamically Creating Custom Containers in Plasmo\nDESCRIPTION: Shows how to dynamically create a custom container element and insert it into the DOM based on the anchor element. This approach maintains the connection between the container and its anchor through mountState tracking.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_16\n\nLANGUAGE: tsx\nCODE:\n```\nimport type { PlasmoRender } from \"plasmo\"\n\nimport { CustomContainer } from \"~components/custom-container\"\n\nconst EngageOverlay = () => <span>ENGAGE</span>\n\n// This function overrides the default `createRootContainer`\nexport const getRootContainer = ({ anchor, mountState }) =>\n  new Promise((resolve) => {\n    const checkInterval = setInterval(() => {\n      let { element, insertPosition } = anchor\n      if (element) {\n        const rootContainer = document.createElement(\"div\")\n        mountState.hostSet.add(rootContainer)\n        mountState.hostMap.set(rootContainer, anchor)\n        element.insertAdjacentElement(insertPosition, rootContainer)\n        clearInterval(checkInterval)\n        resolve(rootContainer)\n      }\n    }, 137)\n  })\n\nexport const render: PlasmoRender = async ({\n  anchor, // the observed anchor, OR document.body.\n  createRootContainer // This creates the default root container\n}) => {\n  const rootContainer = await createRootContainer(anchor)\n\n  const root = createRoot(rootContainer) // Any root\n  root.render(\n    <CustomContainer>\n      <EngageOverlay />\n    </CustomContainer>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a React context for user information\nDESCRIPTION: Implements a React context using the 'puro' library to manage and share user information across the extension.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_4\n\nLANGUAGE: tsx\nCODE:\n```\nimport { createProvider } from \"puro\"\nimport { useContext, useEffect, useState } from \"react\"\n\nconst useUserInfoProvider = () => {\n  const [userInfo, setUserInfo] = useState<chrome.identity.UserInfo>(null)\n\n  useEffect(() => {\n    chrome.identity.getProfileUserInfo((data) => {\n      if (data.email && data.id) {\n        setUserInfo(data)\n      }\n    })\n  }, [])\n\n  return userInfo\n}\n\nconst { BaseContext, Provider } = createProvider(useUserInfoProvider)\n\nexport const useUserInfo = () => useContext(BaseContext)\nexport const UserInfoProvider = Provider\n```\n\n----------------------------------------\n\nTITLE: Defining Multiple Inline Anchors with Insert Positions\nDESCRIPTION: Function to specify multiple inline anchors with custom insert positions by mapping over DOM elements and adding position specifications.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetInlineAnchorList } from \"plasmo\"\n\nexport const getInlineAnchorList: PlasmoGetInlineAnchorList = async () => {\n  const anchors = document.querySelectorAll(\"a\")\n  return Array.from(anchors).map((element) => ({\n    element,\n    insertPosition: \"afterend\"\n  }))\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Side Panel in Plasmo\nDESCRIPTION: Create a persistent side panel UI that complements the browsing experience. Implement by creating either sidepanel.tsx or sidepanel/index.tsx file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/ext-pages.mdx#2025-04-17_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nsidepanel.tsx or sidepanel/index.tsx\n```\n\n----------------------------------------\n\nTITLE: Configuring WASM Assets in Manifest\nDESCRIPTION: JSON configuration for making WASM assets accessible during runtime using web accessible resources.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/assets.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n    \"web_accessible_resources\": [\n      {\n        \"resources\": [\n          \"~assets/wasm/*/**\",\n        ],\n      }\n    ],\n```\n\n----------------------------------------\n\nTITLE: Initializing Firebase Client Configuration\nDESCRIPTION: Sets up Firebase client instance with environment variables and exports auth, storage, and database instances\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport { getApps, initializeApp } from \"firebase/app\"\nimport { GoogleAuthProvider, getAuth } from \"firebase/auth\"\nimport { getFirestore } from \"firebase/firestore\"\nimport { getStorage } from \"firebase/storage\"\n\nconst clientCredentials = {\n  apiKey: process.env.PLASMO_PUBLIC_FIREBASE_PUBLIC_API_KEY,\n  authDomain: process.env.PLASMO_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.PLASMO_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.PLASMO_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.PLASMO_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.PLASMO_PUBLIC_FIREBASE_APP_ID,\n  measurementId: process.env.PLASMO_PUBLIC_FIREBASE_MEASUREMENT_ID\n}\n\nlet firebase_app\n\nif (!getApps().length) {\n  firebase_app = initializeApp(clientCredentials)\n} else {\n  firebase_app = getApps()[0]\n}\n\nexport const storage = getStorage(firebase_app)\nexport const auth = getAuth(firebase_app)\nexport const db = getFirestore(firebase_app)\nexport const googleAuth = new GoogleAuthProvider()\n\nexport default firebase_app\n```\n\n----------------------------------------\n\nTITLE: Integrating Stripe payment link in the popup\nDESCRIPTION: Adds a button to the popup that initiates the OAuth flow and redirects to the Stripe payment link with pre-filled user information.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\n<button\n  disabled={!userInfo}\n  onClick={async () => {\n    chrome.identity.getAuthToken(\n      {\n        interactive: true\n      },\n      (token) => {\n        if (!!token) {\n          window.open(\n            `${process.env.PLASMO_PUBLIC_STRIPE_LINK}?client_reference_id=${\n              userInfo.id\n            }&prefilled_email=${encodeURIComponent(userInfo.email)}`,\n            \"_blank\"\n          )\n        }\n      }\n    )\n  }}>\n  Subscribe to Paid feature\n</button>\n```\n\n----------------------------------------\n\nTITLE: Implementing Redux with React in Browser Extension Options Page\nDESCRIPTION: Shows how to connect Redux to a React component in a browser extension options page. Uses Provider and PersistGate components to ensure the Redux store is properly initialized and available to child components.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-redux.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nimport { Provider } from \"react-redux\"\n\nimport { PersistGate } from \"@plasmohq/redux-persist/integration/react\"\n\nimport { CounterView } from \"~counter\"\nimport { persistor, store } from \"~store\"\n\nfunction Options() {\n  return (\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <CounterView />\n      </PersistGate>\n    </Provider>\n  )\n}\n```\n\n----------------------------------------\n\nTITLE: Defining a Single Inline Anchor with Insert Position\nDESCRIPTION: Function to specify a single inline anchor with a custom insert position by returning an object with the target element and insertion position.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetInlineAnchor } from \"plasmo\"\n\nexport const getInlineAnchor: PlasmoGetInlineAnchor = async () => ({\n      element: document.querySelector(\"#pricing\"),\n      insertPosition: \"afterend\"\n})\n```\n\n----------------------------------------\n\nTITLE: Setting up fixed Extension ID for development\nDESCRIPTION: Configures environment variables and manifest overrides to set a fixed extension ID for development purposes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_2\n\nLANGUAGE: ini\nCODE:\n```\n...\nCRX_PUBLIC_KEY=v47xxx\n```\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"manifest\": {\n    ...\n    \"key\": \"$CRX_PUBLIC_KEY\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Firebase Dependencies with Package Managers\nDESCRIPTION: Commands for installing required Firebase and Plasmo packages using different package managers (npm, yarn, pnpm)\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nnpm install firebase @plasmohq/messaging @plasmohq/storage\n```\n\nLANGUAGE: sh\nCODE:\n```\nyarn add firebase @plasmohq/messaging @plasmohq/storage\n```\n\nLANGUAGE: sh\nCODE:\n```\npnpm install firebase @plasmohq/messaging @plasmohq/storage\n```\n\n----------------------------------------\n\nTITLE: Setting Source Path via Environment Variable\nDESCRIPTION: Demonstrates how to set a custom source path using the PLASMO_SRC_PATH environment variable with cross-env.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/internal-path.mdx#2025-04-17_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\ncross-env PLASMO_SRC_PATH=src/extension plasmo build\n```\n\n----------------------------------------\n\nTITLE: Loading WASM Assets at Runtime\nDESCRIPTION: JavaScript code showing how to reference WASM assets using absolute paths during runtime.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/assets.mdx#2025-04-17_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\nwasmPackage.localWASMPath(\"/assets/wasm/\")\n```\n\n----------------------------------------\n\nTITLE: Initializing Supabase Client in TypeScript\nDESCRIPTION: Creates a Supabase client with authentication configuration using Plasmo's storage for session persistence. Sets up auto token refresh and session detection.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_2\n\nLANGUAGE: ts\nCODE:\n```\nimport { createClient } from \"@supabase/supabase-js\"\n\nimport { Storage } from \"@plasmohq/storage\"\n\nconst storage = new Storage({\n  area: \"local\"\n})\n\nexport const supabase = createClient(\n  process.env.PLASMO_PUBLIC_SUPABASE_URL,\n  process.env.PLASMO_PUBLIC_SUPABASE_KEY,\n  {\n    auth: {\n      storage,\n      autoRefreshToken: true,\n      persistSession: true,\n      detectSessionInUrl: true\n    }\n  }\n)\n```\n\n----------------------------------------\n\nTITLE: Referencing Custom Font in CSS for Plasmo CSUI\nDESCRIPTION: Shows how to reference a custom font in your CSS styles after registering it globally. Applies the font-family to a specific class.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_6\n\nLANGUAGE: css\nCODE:\n```\n.hw-top {\n  background: red;\n  color: white;\n  font-family: \"Fascinate\";\n}\n```\n\n----------------------------------------\n\nTITLE: Importing Remote Google Analytics Script in TSX\nDESCRIPTION: Demonstrates how to import the Google Analytics 4 tracking script directly in a Plasmo browser extension. This approach bundles the remote code at build time to comply with MV3 restrictions.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/remote-code.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport \"https://www.googletagmanager.com/gtag/js?id=XXXXXX\"\n```\n\n----------------------------------------\n\nTITLE: Defining TypeScript Types for Google Analytics Integration\nDESCRIPTION: Creates TypeScript type definitions for environment variables and global window objects used by Google Analytics. Provides IntelliSense support for the GTAG ID environment variable and the Google Analytics window methods.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-google-analytics.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\ndeclare namespace NodeJS {\n  interface ProcessEnv {\n    PLASMO_PUBLIC_GTAG_ID?: string\n  }\n}\n\ninterface Window {\n  dataLayer: Array\n  gtag: (a: string, b: any, c?: any) => void\n}\n```\n\n----------------------------------------\n\nTITLE: Setting Up Environment Variables for Supabase\nDESCRIPTION: Environment variable configuration for connecting to Supabase. Requires the Supabase URL and API key from your Supabase project dashboard.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_1\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_SUPABASE_URL=\"CHANGE ME\"\nPLASMO_PUBLIC_SUPABASE_KEY=\"CHANGE ME\"\n```\n\n----------------------------------------\n\nTITLE: Using Raw Scheme for Image Imports in TypeScript\nDESCRIPTION: This example demonstrates how to use the 'raw' scheme to import an image file. The imported variable is an absolute URL to the file at runtime.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport imageUrl from \"raw:~/assets/image.png\"\n\nconsole.log(imageUrl) // chrome-extension://<extension-id>/image.<hashA>.png\n```\n\n----------------------------------------\n\nTITLE: Configuring OAuth2 client ID in manifest\nDESCRIPTION: Adds OAuth2 client ID and scopes to the manifest.json file for user authentication.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"manifest\": {\n    ...\n    \"oauth2\": {\n      \"client_id\": \"$OAUTH_CLIENT_ID\",\n      \"scopes\": [\n       \"https://www.googleapis.com/auth/userinfo.email\",\n       \"https://www.googleapis.com/auth/userinfo.profile\"\n      ]\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring External Import Aliases in package.json\nDESCRIPTION: Configuration for aliasing imports to files external to your project using the 'alias' field in package.json. This approach links a specific import path to an external file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"alias\": {\n    \"some-cool-identifier/hello\": \"../../../cool-file.js\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing @plasmohq/storage Package with PNPM\nDESCRIPTION: Command to install the @plasmohq/storage package using PNPM package manager. This library is a utility for managing browser extension storage.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm install @plasmohq/storage\n```\n\n----------------------------------------\n\nTITLE: Using Data-Base64 Scheme for Images in TypeScript\nDESCRIPTION: This example shows how to use the 'data-base64' scheme to inline an image as a base64 string in your code.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_8\n\nLANGUAGE: typescript\nCODE:\n```\nimport iconBase64 from \"data-base64:~/assets/icon.png\"\n\nconsole.log(iconBase64) // data:image/png;base64,etc...\n```\n\n----------------------------------------\n\nTITLE: Example Folder Structure for Plasmo Messaging\nDESCRIPTION: Shows the recommended folder structure for implementing Plasmo messaging in a project, including the background directory and message handlers.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n.\\n├── background\\n│   ├── index.ts\\n│   └── messages\\n│       └── ping.ts\n```\n\n----------------------------------------\n\nTITLE: Using getPort in a Svelte Component\nDESCRIPTION: This Svelte component demonstrates how to establish a connection to a port using the getPort utility. It sets up message listeners on mount, cleans them up on destroy, and provides a function to send messages to the port.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_9\n\nLANGUAGE: svelte\nCODE:\n```\n<script lang=\"ts\">\n  import { getPort } from \"@plasmohq/messaging/port\"\n  import { onMount, onDestroy } from \"svelte\"\n\n  let output = \"\"\n\n  const messageListener = (msg) => {\n    output = msg\n  }\n\n  const mailPort = getPort(\"mail\")\n\n  onMount(() => {\n    mailPort.onMessage.addListener(messageListener)\n  })\n\n  onDestroy(() => {\n    mailPort.onMessage.removeListener(messageListener)\n  })\n\n  function handleSubmit() {\n    mailPort.postMessage({\n      body: {\n        hello: \"world\"\n      }\n    })\n  }\n</script>\n\n<div>{output}</div>\n```\n\n----------------------------------------\n\nTITLE: Manifest Override with Environment Variables\nDESCRIPTION: JSON configuration showing how to use environment variables in manifest overrides.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n\"manifest\": {\n  \"key\": \"$CRX_PUBLIC_KEY\"\n}\n```\n\n----------------------------------------\n\nTITLE: Importing External Stylesheets for Plasmo CSUI\nDESCRIPTION: Shows how to import CSS/LESS/SASS files into Plasmo CSUI components using the data-text import scheme with the getStyle API. This allows for organizing styles in separate files.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\nimport styleText from \"data-text:./style.scss\"\nimport type { PlasmoGetStyle } from \"plasmo\"\n\nexport const getStyle: PlasmoGetStyle = () => {\n  const style = document.createElement(\"style\")\n  style.textContent = styleText\n  return style\n}\n```\n\n----------------------------------------\n\nTITLE: Importing from External Module Using Path Alias\nDESCRIPTION: Example of importing from an external module using the custom path alias defined in tsconfig.json. This simplifies imports from modules located outside your project structure.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport { hello } from \"coolio/hello\"\n```\n\n----------------------------------------\n\nTITLE: Implementing Logout Functionality in React with TypeScript\nDESCRIPTION: This code snippet defines an asynchronous logout function that handles user logout. It prevents the default form behavior, calls an external logout handler, and includes error handling with console logging.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_8\n\nLANGUAGE: tsx\nCODE:\n```\nconst logout = async (e: any) => {\n    e.preventDefault()\n    try {\n      await onLogout()\n    } catch (error: any) {\n      console.log(error.message)\n    }\n  }\n```\n\n----------------------------------------\n\nTITLE: Styling Shadow DOM Elements in Plasmo CSUI\nDESCRIPTION: Demonstrates how to target and style the Shadow DOM container elements in Plasmo CSUI using specific IDs. Allows customization of the Root Container's appearance.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_7\n\nLANGUAGE: css\nCODE:\n```\n#plasmo-shadow-container {\n  z-index: 99999;\n}\n\n#plasmo-inline {\n  background: blue;\n}\n```\n\n----------------------------------------\n\nTITLE: Creating an Import-Optimized Build\nDESCRIPTION: Command to create a build with dependency hoisting, which can improve bundling speed and reduce bundle size but may cause issues with dynamic dependencies.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_9\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --hoist\n```\n\n----------------------------------------\n\nTITLE: Setting Initial Value in Popup Component\nDESCRIPTION: Example of using useStorage in a popup component with a static initial value that is not persisted to storage. Shows two-way binding with an input element.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_9\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency, setHailingFrequency] = useStorage(\"hailing\", \"42\")\n...\n<input value={hailingFrequency} onChange={(e) =>\n  setHailingFrequency(e.target.value)\n  }/> // \"42\"\n```\n\n----------------------------------------\n\nTITLE: Adding Add-on ID for Firefox Compatibility\nDESCRIPTION: Shows how to add browser_specific_settings to package.json to provide an Add-on ID required for Firefox extension development when using the storage API.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_15\n\nLANGUAGE: JSON\nCODE:\n```\n\"manifest\": {\n  \"browser_specific_settings\": {\n    \"gecko\": {\n      \"id\": \"your-id@example.com\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using Locale Template Strings in Manifest Override\nDESCRIPTION: Example of using locale template strings in the manifest override to support internationalization, specifically for the extension name field.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/manifest.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"manifest\": {\n    \"name\": \"__MSG_extensionName__\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding TailwindCSS Base Styles\nDESCRIPTION: CSS file importing TailwindCSS base, components, and utilities styles.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_5\n\nLANGUAGE: css\nCODE:\n```\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n```\n\n----------------------------------------\n\nTITLE: Creating a Closed Shadow Root\nDESCRIPTION: Function to override the default 'open' shadow root behavior to create a 'closed' shadow root for enhanced encapsulation.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoCreateShadowRoot } from \"plasmo\"\n\nexport const createShadowRoot: PlasmoCreateShadowRoot = (shadowHost) =>\n  shadowHost.attachShadow({ mode: \"closed\" })\n```\n\n----------------------------------------\n\nTITLE: Using Environment Variables in Manifest Override\nDESCRIPTION: Example of using environment variables in the manifest override, specifically for Firefox extension ID. If the environment variable is not found, the field will be removed from the manifest.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/manifest.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"manifest\": {\n    \"browser_specific_settings\": {\n      \"gecko\": {\n        \"id\": \"$FIREFOX_EXT_ID\"\n      }\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Default Overlay Anchor Configuration in TypeScript\nDESCRIPTION: Default configuration for a Plasmo CSUI overlay anchor that uses document.body as the target element.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_1\n\nLANGUAGE: typescript\nCODE:\n```\n{\n  type: \"overlay\",\n  element: document.body\n}\n```\n\n----------------------------------------\n\nTITLE: Plasmo React Popup Component\nDESCRIPTION: Simplified React component export using Plasmo Framework with SCSS styling\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport Popup from \"./core/popup\"\n\nexport default Popup\n```\n\nLANGUAGE: tsx\nCODE:\n```\nimport Popup from \"./core/popup\"\n\nimport \"./popup.scss\"\n\nexport default Popup\n```\n\n----------------------------------------\n\nTITLE: Creating New Tab Page in Plasmo\nDESCRIPTION: Override the default new tab page with custom content. Implement by creating either newtab.tsx or newtab/index.tsx file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/ext-pages.mdx#2025-04-17_snippet_2\n\nLANGUAGE: tsx\nCODE:\n```\nnewtab.tsx or newtab/index.tsx\n```\n\n----------------------------------------\n\nTITLE: Defining a Single Inline Anchor\nDESCRIPTION: Function to specify a single inline anchor by exporting a getInlineAnchor function that returns a DOM element to attach to.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetInlineAnchor } from \"plasmo\"\n\nexport const getInlineAnchor: PlasmoGetInlineAnchor = async () =>\n  document.querySelector(\"#pricing\")\n```\n\n----------------------------------------\n\nTITLE: Creating Custom HTML Template for Popup Component in Plasmo\nDESCRIPTION: This snippet demonstrates how to create a custom HTML template for a popup component in Plasmo. It shows the basic structure of an HTML file that can be used to override the default template. The file should be named to match the component file (e.g., popup.html for popup.tsx).\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/html.mdx#2025-04-17_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html>\n  <head>\n    <title>__plasmo_static_index_title__</title>\n    <meta charset=\"utf-8\" />\n  </head>\n  <body></body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Configuring Plasmo Hot Module Reload Settings\nDESCRIPTION: Command to customize the hot module reload (HMR) websocket host and port for Plasmo development. Default values are localhost and port 1815.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/dev.mdx#2025-04-17_snippet_4\n\nLANGUAGE: sh\nCODE:\n```\nplasmo dev --hmr-host=localhost --hmr-port=1815\n```\n\n----------------------------------------\n\nTITLE: Aliasing React to Preact in package.json\nDESCRIPTION: Configuration for replacing React with Preact in your project using the 'alias' field in package.json. This is useful for reducing bundle size while maintaining API compatibility.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_8\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"alias\": {\n    \"react\": \"preact/compat\",\n    \"react-dom\": \"preact/compat\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Plasmo Framework with PNPM\nDESCRIPTION: Command to update Plasmo Framework to the latest version using the PNPM package manager.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/faq.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\npnpm up -L plasmo\n```\n\n----------------------------------------\n\nTITLE: Using Data-Env Scheme for JSON in TypeScript\nDESCRIPTION: This example demonstrates using the 'data-env' scheme to import a JSON file with environment variables injected. The imported variable is a parsed JSON object.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_9\n\nLANGUAGE: typescript\nCODE:\n```\nimport data from \"data-env:~/assets/data.json\"\n\n// Data will be a JSON object, no need to JSON.parse!\nconsole.log(data) // { url: \"https://itero.plasmo.com\" }\n```\n\n----------------------------------------\n\nTITLE: Using Browser-Specific Conditional Logic in TypeScript\nDESCRIPTION: Example of how to use process.env.PLASMO_BROWSER for browser-specific code that works with deadcode elimination during the build process.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nif (process.env.PLASMO_BROWSER === \"safari\") {\n  console.log(\"A\")\n} else {\n  console.log(\"B\")\n}\n```\n\n----------------------------------------\n\nTITLE: Customizing Shadow Host IDs Based on Element Attributes in Plasmo\nDESCRIPTION: Shows how to dynamically assign shadow host IDs based on element attributes. This approach allows for unique identification of each anchor element based on custom data attributes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_14\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetShadowHostId } from \"plasmo\"\n\nexport const getShadowHostId: PlasmoGetShadowHostId = ({ element }) =>\n  element.getAttribute(\"data-custom-id\") + `-pollax-iv`\n```\n\n----------------------------------------\n\nTITLE: Installing Plasmo Framework Using Package Managers\nDESCRIPTION: Commands to create a new Plasmo project using different package managers (pnpm, yarn, or npm).\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/index.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\npnpm create plasmo\n# OR\nyarn create plasmo\n# OR\nnpm create plasmo\n```\n\n----------------------------------------\n\nTITLE: Generating Bundle Buddy Reports for Analysis\nDESCRIPTION: Command to create a Bundle Buddy report by combining the --source-maps and --bundle-buddy flags.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_7\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --source-maps --bundle-buddy\n```\n\n----------------------------------------\n\nTITLE: Using External Import Alias in Code\nDESCRIPTION: Example of importing from an external file using the alias defined in package.json. This allows you to use a simplified import path for external dependencies.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport { hello } from \"some-cool-identifier/hello\"\n```\n\n----------------------------------------\n\nTITLE: Including External Declaration Files in tsconfig.json\nDESCRIPTION: Configuration to include external TypeScript declaration files in your project. This ensures TypeScript recognizes the type declarations for your aliased imports.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"include\": [\"./**/*.ts\", \"./**/*.tsx\", \"./cool-file.d.ts\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing a Plasmo Extension Project with Package Managers\nDESCRIPTION: Commands to run the interactive initialization wizard for creating a new Plasmo extension project using different package managers (pnpm, yarn, or npm).\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/new.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\npnpm create plasmo\n# OR\nyarn create plasmo\n# OR\nnpm create plasmo\n```\n\n----------------------------------------\n\nTITLE: Using Data-Text Scheme for CSS in TypeScript\nDESCRIPTION: This example shows how to use the 'data-text' scheme to inline stylesheet content as a string in your code.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport styleText from \"data-text:~/assets/style.scss\"\n\nconsole.log(styleText)\n// {\n//   \"color\": \"red\",\n// }\n```\n\n----------------------------------------\n\nTITLE: Content Script Configuration with Environment Variables\nDESCRIPTION: Configuration example showing how to use environment variables in content script settings.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_4\n\nLANGUAGE: ts\nCODE:\n```\nexport const config: PlasmoCSConfig = {\n  matches: [\"$PLASMO_PUBLIC_SITE_URL/\"]\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing keys.json Schema for Browser Platform Publisher\nDESCRIPTION: Basic structure for the keys.json file with schema reference that enables JSON schema validation in supporting editors. This file will store API credentials for extension store submissions.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/submit.mdx#2025-04-17_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"$schema\": \"https://raw.githubusercontent.com/PlasmoHQ/bpp/v3/keys.schema.json\"\n}\n```\n\n----------------------------------------\n\nTITLE: Creating a Plasmo project with src directory using CLI\nDESCRIPTION: Command to create a new Plasmo project with the src directory structure automatically configured using the --with-src flag.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/src.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm create plasmo --with-src\n```\n\n----------------------------------------\n\nTITLE: Using URL Scheme for Various Asset Imports in TypeScript\nDESCRIPTION: This code demonstrates importing different asset types (CSS, SCSS, TS) using the 'url' scheme, which transforms and optimizes files for browser consumption.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport styleAUrl from \"url:~/a/style.scss\"\nimport styleBUrl from \"url:~/b/style.scss\"\nimport codeUrl from \"url:~/c/index.ts\"\n\nconsole.log(styleAUrl) // chrome-extension://<extension-id>/style.<hashA>.css\nconsole.log(styleBUrl) // chrome-extension://<extension-id>/style.<hashB>.css\nconsole.log(codeUrl) // chrome-extension://<extension-id>/file.<hashB>.js\n```\n\n----------------------------------------\n\nTITLE: Custom Overlay Position Update Mechanism\nDESCRIPTION: Function to customize how the overlay container refreshes its absolute positioning by implementing a custom interval-based update strategy.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_5\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoWatchOverlayAnchor } from \"plasmo\"\n\nexport const watchOverlayAnchor: PlasmoWatchOverlayAnchor = (\n  updatePosition\n) => {\n  const interval = setInterval(() => {\n    updatePosition()\n  }, 8472)\n\n  // Clear the interval when unmounted\n  return () => {\n    clearInterval(interval)\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Custom Font in CSS for Plasmo CSUI\nDESCRIPTION: Shows how to create a CSS file that imports a custom font using the data-base64 scheme. This defines the font-face that can be used in CSUI components.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/styling.mdx#2025-04-17_snippet_4\n\nLANGUAGE: css\nCODE:\n```\n@font-face {\n  font-family: \"Fascinate\";\n  font-style: normal;\n  font-weight: 400;\n  font-display: swap;\n  src: url(data-base64:~assets/Fascinate.woff2) format(\"woff2\");\n  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA,\n    U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215,\n    U+FEFF, U+FFFD;\n}\n```\n\n----------------------------------------\n\nTITLE: Building and Packaging Extension with Plasmo Framework\nDESCRIPTION: Commands to build and generate a zip bundle of the browser extension using the Plasmo Framework. These commands prepare the extension for upload to Itero TestBed.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/test-bed.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm build\npnpm package\n```\n\n----------------------------------------\n\nTITLE: Configuring tsconfig.json for src directory in Plasmo\nDESCRIPTION: TypeScript configuration required for a Plasmo project using the src directory. The paths mapping ensures that tilde imports (~) resolve to the src directory.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/src.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"extends\": \"plasmo/templates/tsconfig.base\",\n  \"exclude\": [\"node_modules\"],\n  \"include\": [\".plasmo/index.d.ts\", \"./**/*.ts\", \"./**/*.tsx\"],\n  \"compilerOptions\": {\n    \"paths\": {\n      \"~*\": [\"./src/*\"]\n    },\n    \"baseUrl\": \".\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Storing Extension ID and Key in Environment Variables\nDESCRIPTION: Configuration for creating a consistent extension ID during development. Stores the CRX ID and public key in the environment variables.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_3\n\nLANGUAGE: ini\nCODE:\n```\nCRX_ID=\"Replace with the value of CRX ID from Itero KeyPair tool\"\nCRX_KEY=\"Replace with the value of Public Key from Itero KeyPair tool\"\n```\n\n----------------------------------------\n\nTITLE: Generating TailwindCSS Configuration\nDESCRIPTION: Command to generate the initial TailwindCSS configuration file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpx tailwindcss init -p\n```\n\n----------------------------------------\n\nTITLE: Configuring manifest permissions for Chrome identity API\nDESCRIPTION: Adds necessary permissions to the manifest.json file to enable access to Chrome's identity API.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  ...\n  \"manifest\": {\n    ...\n    \"permissions\": [\"identity\", \"identity.email\"]\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using TailwindCSS in Content Scripts UI\nDESCRIPTION: Example of using TailwindCSS in a Content Scripts UI component, including style injection into the shadowDOM.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_7\n\nLANGUAGE: tsx\nCODE:\n```\nimport cssText from \"data-text:~style.css\"\nimport { useReducer } from \"react\"\n\nexport const getStyle = () => {\n  const style = document.createElement(\"style\")\n  style.textContent = cssText\n  return style\n}\n\nconst PlasmoOverlay = () => {\n  const [count, increase] = useReducer((c) => c + 1, 0)\n\n  return (\n    <button\n      onClick={() => increase()}\n      type=\"button\"\n      className=\"inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">\n      Count:\n      <span className=\"inline-flex items-center justify-center w-8 h-4 ml-2 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full\">\n        {count}\n      </span>\n    </button>\n  )\n}\n\nexport default PlasmoOverlay\n```\n\n----------------------------------------\n\nTITLE: Configuring Node Modules Assets in Manifest\nDESCRIPTION: JSON configuration for including static assets from node_modules as web accessible resources.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/assets.mdx#2025-04-17_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n  \"manifest\": {\n    \"web_accessible_resources\": [\n      {\n        \"resources\": [\n          \"@inboxsdk/core/pageWorld.js\",\n          \"@inboxsdk/core/background.js\"\n        ],\n        \"matches\": [\n          \"https://mail.google.com/*\"\n        ]\n      }\n    ]\n  }\n```\n\n----------------------------------------\n\nTITLE: Setting up environment variables for Stripe integration\nDESCRIPTION: Defines environment variables for the Stripe payment link and API key in a development environment file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_0\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_STRIPE_LINK=https://buy.stripe.com/test_XXXXXXXX\n\nSTRIPE_PRIVATE_API_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Starting Plasmo Development Server\nDESCRIPTION: Commands to start the Plasmo development server for a browser extension project. It creates a dev bundle and sets up live-reloading.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/dev.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\npnpm dev\n# OR\nnpm run dev\n# OR\nplasmo dev\n```\n\n----------------------------------------\n\nTITLE: Building Plasmo Extension with Target and Tag\nDESCRIPTION: Command line example showing how to build a Plasmo extension with specific target and tag parameters.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --target=safari-mv3 --tag=alpha\n```\n\n----------------------------------------\n\nTITLE: Environment Variable Definition for Google Analytics ID\nDESCRIPTION: Shows how to define the Google Analytics tracking ID in a .env.local file to keep sensitive information out of the codebase.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/remote-code.mdx#2025-04-17_snippet_1\n\nLANGUAGE: env\nCODE:\n```\nPLASMO_PUBLIC_GTAG_ID=XXXXXX\n```\n\n----------------------------------------\n\nTITLE: Advanced Background Service Worker with Module Import in Plasmo\nDESCRIPTION: This snippet demonstrates a more advanced background service worker in Plasmo, importing the bip39 module and generating a mnemonic.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_11\n\nLANGUAGE: typescript\nCODE:\n```\nimport { generateMnemonic } from \"bip39\"\n\nconsole.log(\n  \"Live now; make now always the most precious time. Now will never come again.\"\n)\nconsole.log(generateMnemonic())\n```\n\n----------------------------------------\n\nTITLE: Configuring TailwindCSS\nDESCRIPTION: TailwindCSS configuration file setup with JIT mode, dark mode, and content paths.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\n/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  mode: \"jit\",\n  darkMode: \"class\",\n  content: [\"./**/*.tsx\"],\n  plugins: []\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Experimental Plasmo Version\nDESCRIPTION: Package.json configuration to use the experimental 'lab' version of Plasmo Framework.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/faq.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"dependencies\": {\n    \"plasmo\": \"lab\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Running Production Build Commands in Plasmo\nDESCRIPTION: Basic commands to create a production bundle for browser extension distribution using npm or pnpm.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\npnpm build\n# OR\nnpm run build\n```\n\n----------------------------------------\n\nTITLE: Generating a Zip Bundle for Web Stores\nDESCRIPTION: Commands to create a production zip bundle that's ready to be uploaded to browser extension stores.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\npnpm package\n# OR\nnpm run package\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Build Path in Plasmo CLI\nDESCRIPTION: Shows how to customize the build output directory from the default './build' using the --build-path flag in the Plasmo CLI command.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/internal-path.mdx#2025-04-17_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --build-path=./dist\n```\n\n----------------------------------------\n\nTITLE: Creating TypeScript Declaration for External Import\nDESCRIPTION: TypeScript declaration file for an external import alias. This declares the types for the external module so TypeScript can properly type-check imports from that module.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_5\n\nLANGUAGE: ts\nCODE:\n```\ndeclare module \"some-cool-identifier/hello\" {\n  export const hello: string\n}\n```\n\n----------------------------------------\n\nTITLE: Loading Inline Images with data-base64 in TSX\nDESCRIPTION: Demonstrates how to import and use base64 encoded images directly in the extension bundle using the data-base64 scheme.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/assets.mdx#2025-04-17_snippet_0\n\nLANGUAGE: tsx\nCODE:\n```\nimport someCoolImage from \"data-base64:~assets/some-cool-image.png\"\n\n...\n\n<img src={someCoolImage} alt=\"Some pretty cool image\" />\n```\n\n----------------------------------------\n\nTITLE: Configuring PostCSS for TailwindCSS\nDESCRIPTION: PostCSS configuration file setup for using TailwindCSS and Autoprefixer plugins.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n/**\n * @type {import('postcss').ProcessOptions}\n */\nmodule.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {}\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Relevant Extensions for Source Code Modules in TypeScript\nDESCRIPTION: This TypeScript snippet defines the extensions that Plasmo considers as source code modules. These extensions are used to determine how the tilde import path behaves.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nexport const relevantExtensionList = [\n  \".ts\",\n  \".tsx\",\n  \".svelte\",\n  \".vue\",\n  \".json\"\n] as const\n```\n\n----------------------------------------\n\nTITLE: Defining English Localization Messages in JSON\nDESCRIPTION: This snippet demonstrates how to create a JSON file for English localization messages. It includes examples of defining extension name, description, and a popup message.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"extensionName\": {\n    \"message\": \"with-locales-i18n-en\",\n    \"description\": \"Name of the extension.\"\n  },\n  \"extensionDescription\": {\n    \"message\": \"Example using locales + i18n!\",\n    \"description\": \"Description of the extension.\"\n  },\n  \"popup\": {\n    \"message\": \"Logic is the beginning of wisdom, not the end.\",\n    \"description\": \"Popup message.\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Combining Build and Package Processes\nDESCRIPTION: Commands to simultaneously build and package a browser extension using the --zip flag with the build command.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\npnpm build --zip\n# OR\nnpm run build -- --zip\n```\n\n----------------------------------------\n\nTITLE: Using React Scheme for SVG Files in TypeScript\nDESCRIPTION: This example demonstrates how to use the 'react' scheme to transform an SVG file into a React component that can be directly used in JSX.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_10\n\nLANGUAGE: typescript\nCODE:\n```\nimport Logo from \"react:~/assets/logo.svg\"\n\nconst Hello = () => <Logo />\n```\n\n----------------------------------------\n\nTITLE: Example JSON Configuration for Raw-Env Scheme\nDESCRIPTION: This JSON example shows the structure of a config file that uses environment variables which will be processed by the raw-env scheme.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"url\": \"$PLASMO_PUBLIC_URL\"\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Source Maps in Plasmo Development Build\nDESCRIPTION: Command to disable source map generation during Plasmo extension development, useful for dependencies that don't work well with source maps.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/dev.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nplasmo dev --no-source-maps\n```\n\n----------------------------------------\n\nTITLE: Setting up Google Analytics Environment Variables in .env.local\nDESCRIPTION: Creates a local environment file to store the Google Analytics Measurement ID securely. This approach allows you to keep sensitive keys out of your source code.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-google-analytics.mdx#2025-04-17_snippet_0\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_GTAG_ID=<paste in your measurement ID>\n```\n\n----------------------------------------\n\nTITLE: Referencing Localized Strings in package.json\nDESCRIPTION: This snippet illustrates how to reference localized strings within the package.json file for manifest overrides. It uses the __MSG_<key>__ syntax to reference localized extension name and description.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"name\": \"with-locales-i18n\",\n  \"displayName\": \"__MSG_extensionName__\",\n  \"version\": \"0.0.0\",\n  \"description\": \"__MSG_extensionDescription__\",\n  \"manifest\": {\n    \"name\": \"__MSG_extensionName__\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Using TailwindCSS in Popup Component\nDESCRIPTION: Example of using TailwindCSS classes in a React component for the extension popup.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_6\n\nLANGUAGE: tsx\nCODE:\n```\nimport { useReducer } from \"react\"\n\nimport \"./style.css\"\n\nfunction IndexPopup() {\n  const [count, increase] = useReducer((c) => c + 1, 0)\n\n  return (\n    <button\n      onClick={() => increase()}\n      type=\"button\"\n      className=\"inline-flex items-center px-5 py-2.5 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">\n      Count:\n      <span className=\"inline-flex items-center justify-center w-8 h-4 ml-2 text-xs font-semibold text-blue-800 bg-blue-200 rounded-full\">\n        {count}\n      </span>\n    </button>\n  )\n}\n\nexport default IndexPopup\n```\n\n----------------------------------------\n\nTITLE: Creating a Plasmo Extension from an Example Template\nDESCRIPTION: Commands to create a new Plasmo project based on an existing example template. This example uses the with-env template which provides environment variable configuration.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/new.mdx#2025-04-17_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\npnpm create plasmo --with-env\n# OR\nnpm create plasmo -- --with-env\n```\n\n----------------------------------------\n\nTITLE: Icon Size Specifications in Markdown\nDESCRIPTION: Lists the icon size variations that can be overridden with specific file naming patterns in the assets directory\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/icon.mdx#2025-04-17_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\nicon<size>.png\nicon<size>.<NODE_ENV>.png\nicon-<size>.png\nicon-<size>.<NODE_ENV>.png\nicon-<size>x<size>.png\nicon-<size>x<size>.<NODE_ENV>.png\n```\n\n----------------------------------------\n\nTITLE: Installing Plasmo CLI with PNPM\nDESCRIPTION: Command to install the Plasmo CLI package using PNPM package manager\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm install plasmo\n```\n\n----------------------------------------\n\nTITLE: Implementing Authentication Token Storage Handlers\nDESCRIPTION: Background message handlers for saving and removing authentication tokens in storage\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-firebase-authentication.mdx#2025-04-17_snippet_3\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoMessaging } from \"@plasmohq/messaging\"\nimport { Storage } from \"@plasmohq/storage\"\n\nconst handler: PlasmoMessaging.MessageHandler = async (req, res) => {\n  try {\n    const { token, uid, refreshToken } = req.body\n    const storage = new Storage()\n\n    await storage.set(\"firebaseToken\", token)\n    await storage.set(\"firebaseUid\", uid)\n    await storage.set(\"firebaseRefreshToken\", refreshToken)\n\n    res.send({\n      status: \"success\"\n    })\n  } catch (err) {\n    console.log(\"There was an error\")\n    console.error(err)\n    res.send({ err })\n  }\n}\n\nexport default handler\n```\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoMessaging } from \"@plasmohq/messaging\"\nimport { Storage } from \"@plasmohq/storage\"\n\nconst handler: PlasmoMessaging.MessageHandler = async (req, res) => {\n  try {\n    const storage = new Storage()\n\n    await storage.set(\"firebaseToken\", null)\n    await storage.set(\"firebaseUid\", null)\n\n    res.send({\n      status: \"success\"\n    })\n  } catch (err) {\n    console.log(\"There was an error\")\n    console.error(err)\n    res.send({ err })\n  }\n}\n\nexport default handler\n```\n\n----------------------------------------\n\nTITLE: Installing TailwindCSS Dependencies\nDESCRIPTION: Command to install TailwindCSS v3 and related dependencies using pnpm.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npnpm i -D tailwindcss@3 postcss autoprefixer\n```\n\n----------------------------------------\n\nTITLE: Traditional Content Script Configuration\nDESCRIPTION: Traditional manifest.json configuration for content scripts\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"content_scripts\": [\n    {\n      \"matches\": [\"https://*/*\", \"http://*/*\"],\n      \"all_frames\": true,\n      \"css\": [\"content.css\"],\n      \"run_at\": \"document_start\"\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Building Plasmo Extension for Production\nDESCRIPTION: Command to create a production build of the extension in the build/chrome-mv3-prod directory.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/index.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\npnpm build\n```\n\n----------------------------------------\n\nTITLE: Building Plasmo Extension for Specific Target\nDESCRIPTION: Command to build a Plasmo extension for a specific browser and manifest version using the --target flag. The example targets Firefox with Manifest V2.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/dev.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\nplasmo dev --target=firefox-mv2\n```\n\n----------------------------------------\n\nTITLE: Creating Background Service Worker in JavaScript\nDESCRIPTION: This snippet demonstrates a simple background service worker implementation in JavaScript for non-Plasmo projects.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\nconsole.log(\"Hello from BGSW!\")\n```\n\n----------------------------------------\n\nTITLE: Icon File Name Patterns in Markdown\nDESCRIPTION: Defines the naming patterns accepted for icon files in Plasmo framework, including production, development, and tag-specific variations\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/icon.mdx#2025-04-17_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nicon.png\nicon512.png\nicon-512.png\nicon-512x512.png\nicon1024.png\nicon-1024.png\nicon-1024x1024.png\nicon.development.png\nicon.<tag>.png\nicon.<tag>.<NODE_ENV>.png\n```\n\n----------------------------------------\n\nTITLE: Traditional React Popup Component Mounting\nDESCRIPTION: JavaScript code for mounting a React component in traditional extension development\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport { createRoot } from \"react\"\n\nimport Popup from \"./core/popup\"\n\nconst root = document.getElementById(\"root\")\ncreateRoot(root).render(<Popup />)\n```\n\n----------------------------------------\n\nTITLE: Initializing Plasmo Project with Supabase\nDESCRIPTION: Command to create a new Plasmo project with Supabase integration using the pnpm package manager.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm create plasmo --with-supabase\n```\n\n----------------------------------------\n\nTITLE: Itero API Key Structure\nDESCRIPTION: The structure of the API key JSON file downloaded from the Itero settings page.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/api.mdx#2025-04-17_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"itero\": {}\n}\n```\n\n----------------------------------------\n\nTITLE: Traditional React Popup HTML Template\nDESCRIPTION: HTML template file used in traditional extension development for mounting React components\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Popup</title>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script src=\"popup.js\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Specifying Default Locale in package.json\nDESCRIPTION: This snippet shows how to specify the default locale in the package.json file using the manifest property. It sets English as the default locale.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"manifest\": {\n    \"default_locale\": \"en\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Starting Plasmo Development Server\nDESCRIPTION: Command to start the development server with live-reloading and HMR capabilities.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/index.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\npnpm dev\n```\n\n----------------------------------------\n\nTITLE: Using Callout Component in Markdown\nDESCRIPTION: This snippet shows how to use the imported Callout component in Markdown to display a notice about Itero Publisher being in beta review and requesting feedback.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/mv2-to-mv3.mdx#2025-04-17_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n<Callout>\n  Itero Publisher is currently in beta review. If you have feedback, please\n  don't hesitate to let us know!\n</Callout>\n```\n\n----------------------------------------\n\nTITLE: Importing Callout Component in Markdown\nDESCRIPTION: This snippet demonstrates how to import the Callout component from the nextra-theme-docs package in a Markdown file. It's used to display important information or notices in the documentation.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/mv2-to-mv3.mdx#2025-04-17_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\nimport { Callout } from \"nextra-theme-docs\"\n```\n\n----------------------------------------\n\nTITLE: Upload URL Response Format\nDESCRIPTION: The JSON response format containing the signed upload URL returned by the upload request endpoint.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/api.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"url\": \"signed-upload-url\"\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Environment Variables for Localization\nDESCRIPTION: This snippet shows how to define environment variables that can be used in localization messages. It sets the PLASMO_PUBLIC_QUOTE_AUTHOR variable.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/locales.mdx#2025-04-17_snippet_3\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_QUOTE_AUTHOR=Spock\n```\n\n----------------------------------------\n\nTITLE: Joining a Team via URL\nDESCRIPTION: Instructions for joining a team by visiting the team settings URL and adding a member's email address.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/team.mdx#2025-04-17_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n1. Visit `https://itero.plasmo.com/team/<TEAM_NAME>/settings`\n2. Enter the email of your team member, and press \"Add\".\n```\n\n----------------------------------------\n\nTITLE: Different Initial Value in Options Page\nDESCRIPTION: Shows using useStorage with a different static initial value in an options page component. The value will be different from other components until a value is set in storage.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/storage.mdx#2025-04-17_snippet_11\n\nLANGUAGE: tsx\nCODE:\n```\nconst [hailingFrequency] = useStorage(\"hailing\", \"147\")\n\nreturn <p>{hailingFrequency}</p> // \"147\"\n```\n\n----------------------------------------\n\nTITLE: Running Plasmo in Verbose Mode\nDESCRIPTION: Command to run Plasmo with verbose logging for debugging and error reporting purposes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/faq.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nplasmo --verbose\n```\n\n----------------------------------------\n\nTITLE: Disabling Minification in Production Builds\nDESCRIPTION: Command to create a production bundle without minification for debugging purposes.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/build.mdx#2025-04-17_snippet_8\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --no-minify\n```\n\n----------------------------------------\n\nTITLE: Installing Plasmo Messaging Package\nDESCRIPTION: Command to install the @plasmohq/messaging package using pnpm package manager.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm install @plasmohq/messaging\n```\n\n----------------------------------------\n\nTITLE: Customizing Plasmo Development Server Host and Port\nDESCRIPTION: Command to specify custom hostname and port for the Plasmo development server. Default values are localhost and port 1012.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/workflows/dev.mdx#2025-04-17_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nplasmo dev --serve-host=localhost --serve-port=1012\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Source Path in Plasmo CLI\nDESCRIPTION: Shows how to change the source code directory from the default './src' using the --src-path flag in the Plasmo CLI command.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/internal-path.mdx#2025-04-17_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nplasmo build --src-path=src/extension\n```\n\n----------------------------------------\n\nTITLE: Setting Build Path via Environment Variable\nDESCRIPTION: Demonstrates how to set a custom build path using the PLASMO_BUILD_PATH environment variable with cross-env.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/internal-path.mdx#2025-04-17_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\ncross-env PLASMO_BUILD_PATH=dist plasmo build\n```\n\n----------------------------------------\n\nTITLE: Configuring External Module Aliases in tsconfig.json\nDESCRIPTION: Configuration for aliasing external TypeScript modules by pointing to directories outside your project. This enables importing from external packages with custom import paths.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/customization/alias.mdx#2025-04-17_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"extends\": \"plasmo/templates/tsconfig.base\",\n  \"exclude\": [\"node_modules\"],\n  \"include\": [\"./**/*.ts\", \"./**/*.tsx\"],\n  \"compilerOptions\": {\n    \"paths\": {\n      \"coolio/*\": [\"../../../some-cool-package/*\"]\n    },\n    \"baseUrl\": \".\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Plasmo Project with TailwindCSS\nDESCRIPTION: Command to create a new Plasmo project with TailwindCSS integration using pnpm.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-tailwindcss.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm create plasmo --with-tailwindcss\n```\n\n----------------------------------------\n\nTITLE: Remote Code Import with Environment Variables\nDESCRIPTION: Example of using environment variables in remote code imports within Plasmo.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/env.mdx#2025-04-17_snippet_3\n\nLANGUAGE: tsx\nCODE:\n```\nimport \"https://www.plasmo.com/js?id=$PLASMO_PUBLIC_ITERO\"\n```\n\n----------------------------------------\n\nTITLE: Using Data-Text-Env Scheme in TypeScript\nDESCRIPTION: This example demonstrates using the 'data-text-env' scheme to inline content with environment variables injected. The imported variable is a string that would need to be parsed for JSON data.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_7\n\nLANGUAGE: typescript\nCODE:\n```\nimport codeText from \"data-text-env:~/assets/code.json\"\n\nconsole.log(codeText) // To use it as JSON, use JSON.parse(codeText)\n// \"{\n//   \"url\": \"https://itero.plasmo.com\",\n// }\"\n```\n\n----------------------------------------\n\nTITLE: JSON File Using Environment Variable\nDESCRIPTION: This JSON file contains a placeholder for an environment variable that will be replaced during the build process.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"url\": \"$PLASMO_PUBLIC_URL\"\n}\n```\n\n----------------------------------------\n\nTITLE: Environment Variable Definition for Data-Text-Env Scheme\nDESCRIPTION: This .env file example defines a public URL that will be injected into files using the data-text-env scheme.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/import.mdx#2025-04-17_snippet_5\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_URL=https://itero.plasmo.com\n```\n\n----------------------------------------\n\nTITLE: Setting Environment Variables for Development\nDESCRIPTION: Environment variable configuration for development that defines the API URI for the NextJS backend server, which will be used by the extension to communicate with the backend services.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-stripe.mdx#2025-04-17_snippet_8\n\nLANGUAGE: ini\nCODE:\n```\nPLASMO_PUBLIC_API_URI=http://localhost:8472\n...\n```\n\n----------------------------------------\n\nTITLE: Supabase Redirect URL Format\nDESCRIPTION: URL format for configuring the Supabase authentication redirect. Should be added to the Supabase console under URL Configuration.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_6\n\nLANGUAGE: text\nCODE:\n```\nchrome-extension://<CRX_ID>/options.html\n```\n\n----------------------------------------\n\nTITLE: Configuring Extension Manifest with Public Key\nDESCRIPTION: JSON configuration for the extension manifest that references the public key from environment variables and sets host permissions.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n\"manifest\": {\n  \"host_permissions\": [\n    \"https://*/*\"\n  ],\n  \"key\": \"$CRX_KEY\",\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Web Accessible Resources\nDESCRIPTION: Manifest configuration for web_accessible_resources to make the options page accessible and prevent browser blocking. Includes extension ID reference.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/with-supabase.mdx#2025-04-17_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n\"web_accessible_resources\": [\n  {\n    \"resources\": [\n      \"options.html\"\n    ],\n    \"matches\": [\n      \"<all_urls>\"\n    ],\n    \"extension_ids\": [\n      \"$CRX_ID\"\n    ]\n  }\n]\n```\n\n----------------------------------------\n\nTITLE: Plasmo Content Script Configuration\nDESCRIPTION: TypeScript configuration for content scripts using Plasmo Framework\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_6\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoCSConfig } from \"plasmo\"\n\nexport const config: PlasmoCSConfig = {\n  matches: [\"https://*/*\", \"http://*/*\"],\n  all_frames: true,\n  css: [\"~content.css\"]\n}\n\nconsole.log(\"Hello from content script!\")\n```\n\n----------------------------------------\n\nTITLE: Traditional Custom Page HTML Template\nDESCRIPTION: HTML template for custom pages in traditional extension development\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/quickstarts/migrate-to-plasmo.mdx#2025-04-17_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Custom Page</title>\n  </head>\n  <body>\n    <div id=\"root\"></div>\n    <script src=\"./custom.js\"></script>\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Content Script in Main World Sending Messages to Background\nDESCRIPTION: Example of sending a message to the background service worker from a content script running in the main world, requiring extension ID specification.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/messaging.mdx#2025-04-17_snippet_4\n\nLANGUAGE: typescript\nCODE:\n```\nimport { sendToBackground } from \"@plasmohq/messaging\"\\nimport type { PlasmoCSConfig } from \"plasmo\"\\n\\nexport const config: PlasmoCSConfig = {\\n  matches: [\"<all_urls>\"],\\n  world: \"MAIN\"\\n}\\n...\\nconst resp = await sendToBackground({\\n  name: \"ping\",\\n  body: {\\n    id: 123\\n  },\\n  extensionId: 'llljfehhnoeipgngggpomjapaakbkyyy' // find this in chrome's extension manager\\n})\\n\\nconsole.log(resp)\n```\n\n----------------------------------------\n\nTITLE: Running the Google Cloud Platform Token Generation Tool\nDESCRIPTION: This command runs the gcp-refresh-token tool to generate required tokens for Chrome Web Store publishing. It opens an OAuth consent screen to obtain a refresh token, which is then saved to the key.json file.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/itero/publisher.mdx#2025-04-17_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npnpm dlx gcp-refresh-token\n```\n\n----------------------------------------\n\nTITLE: Optimizing Root Container Removal Detection in Plasmo\nDESCRIPTION: Demonstrates how to optimize container removal detection to O(1) complexity by exporting a getShadowHostId function that provides a consistent ID for shadow hosts.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/framework/content-scripts-ui/life-cycle.mdx#2025-04-17_snippet_13\n\nLANGUAGE: typescript\nCODE:\n```\nimport type { PlasmoGetShadowHostId } from \"plasmo\"\n\nexport const getShadowHostId: PlasmoGetShadowHostId = () => `adonais`\n```\n\n----------------------------------------\n\nTITLE: HTML Badge and Link Structure for Plasmo Documentation\nDESCRIPTION: HTML markup for displaying the Plasmo logo, license badges, npm version, social media links, and community resources in a centered layout.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/README.md#2025-04-17_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<p align=\"center\">\n  <a href=\"https://plasmo.com\">\n    <img alt=\"plasmo logo\" width=\"75%\" src=\"https://www.plasmo.com/assets/banner-black-on-white.png\" />\n  </a>\n</p>\n\n<p align=\"center\">\n  <a aria-label=\"License\" href=\"./license\">\n    <img alt=\"See License\" src=\"https://img.shields.io/npm/l/plasmo\"/>\n  </a>\n  <a aria-label=\"NPM\" href=\"https://www.npmjs.com/package/plasmo\">\n    <img alt=\"NPM Install\" src=\"https://img.shields.io/npm/v/plasmo?logo=npm\"/>\n  </a>\n  <a aria-label=\"Twitter\" href=\"https://www.twitter.com/plasmohq\">\n    <img alt=\"Follow PlasmoHQ on Twitter\" src=\"https://img.shields.io/twitter/follow/plasmohq?logo=twitter\"/>\n  </a>\n  <a aria-label=\"Twitch Stream\" href=\"https://www.twitch.tv/plasmohq\">\n    <img alt=\"Watch our Live DEMO every Friday\" src=\"https://img.shields.io/twitch/status/plasmohq?logo=twitch&logoColor=white\"/>\n  </a>\n  <a aria-label=\"Discord\" href=\"https://www.plasmo.com/s/d\">\n    <img alt=\"Join our Discord for support and chat about our projects\" src=\"https://img.shields.io/discord/946290204443025438?logo=discord&logoColor=white\"/>\n  </a>\n</p>\n```\n\n----------------------------------------\n\nTITLE: Initializing Next.js App with Plausible Analytics\nDESCRIPTION: Custom Next.js App component that implements Plausible Analytics tracking and handles page-level layouts. It imports required CSS styles and wraps the application content in a PlausibleProvider component for analytics tracking.\nSOURCE: https://github.com/PlasmoHQ/docs/blob/main/src/pages/_app.mdx#2025-04-17_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport PlausibleProvider from \"next-plausible\"\n\nimport \"nextra-theme-docs/style.css\"\nimport \"~styles/global.css\"\n\nexport default function MyApp({ Component, pageProps, router }) {\n  // Use the layout defined at the page level, if available\n  const getLayout = Component.getLayout || ((page) => page)\n  return getLayout(\n    <PlausibleProvider domain=\"docs.plasmo.com\">\n      <Component {...pageProps} />\n    </PlausibleProvider>\n  )\n}\n```"
  }
]