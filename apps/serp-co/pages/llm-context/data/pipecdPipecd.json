[
  {
    "owner": "pipe-cd",
    "repo": "pipecd",
    "content": "TITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: The basic structure of a Piped configuration file showing the apiVersion, kind, and spec fields. This is the starting point for configuring a Piped agent in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Example pipeline with CANARY_BASELINE strategy in Kubernetes\nDESCRIPTION: This snippet demonstrates a complete pipeline configuration using the CANARY_BASELINE strategy for analysis in a Kubernetes application. It includes stages for Canary and Baseline rollout, analysis, primary rollout, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary Deployment with CANARY_BASELINE Analysis in PipeCD\nDESCRIPTION: This snippet demonstrates a complete pipeline configuration for a canary deployment using the CANARY_BASELINE strategy for analysis. It includes stages for canary and baseline rollout, analysis, primary rollout, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: PipeCD Kubernetes Application Configuration for Canary Deployment\nDESCRIPTION: Defines the complete canary deployment pipeline with traffic routing stages, approval gates, and cleanup procedures using PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Deployment Pipeline for Cloud Run\nDESCRIPTION: A PipeCD configuration example that demonstrates a gradual deployment pipeline for a Cloud Run application. It shows how to roll out a new version gradually by increasing traffic percentage in stages with wait periods in between.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: This snippet shows the configuration file structure for a Lambda application in PipeCD. It includes the API version, kind, and basic spec fields like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Canary Deployment Pipeline\nDESCRIPTION: Defines the PipeCD application configuration for automated canary deployment with traffic routing stages and manual approval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring Quick Sync for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a basic Kubernetes application setup in PipeCD without a pipeline, which will trigger a quick sync deployment for any pull request.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Base configuration structure for a Kubernetes application deployment in PipeCD, including essential fields like apiVersion and kind.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with Threshold Analysis\nDESCRIPTION: Example of a complete Kubernetes pipeline using canary deployment with threshold-based analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring pipeline with CANARY_BASELINE strategy for canary analysis in PipeCD\nDESCRIPTION: This example shows a complete pipeline configuration using the CANARY_BASELINE strategy. It includes stages for canary and baseline rollout, analysis, primary rollout, and cleanup of both canary and baseline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Defining an Analysis Template in YAML for PipeCD\nDESCRIPTION: This snippet shows how to define an Analysis Template in YAML format. It includes metrics configuration for HTTP error rate using Prometheus as the provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install or upgrade the PipeCD Control Plane on a Kubernetes cluster. Includes setting configuration files and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Defines Istio DestinationRule that specifies primary and canary subsets based on PipeCD variant labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Using Local Helm Chart in Kubernetes App Configuration\nDESCRIPTION: Kubernetes application configuration using a Helm chart located in the same git repository as the application directory. The path is relative to the application's directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with CANARY_BASELINE Strategy in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration for the ANALYSIS stage using the CANARY_BASELINE strategy. It compares metrics between Canary and Baseline variants, using Go templating to customize the query based on the variant.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring CANARY_BASELINE Strategy Analysis Stage\nDESCRIPTION: Example showing canary analysis configuration comparing metrics between canary and baseline variants. Uses templating for variant-specific queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Permissions for Piped on Google Cloud\nDESCRIPTION: These commands create a new Service Account for Piped and grant it necessary permissions to access secrets, write logs, and optionally manage Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Runtime Options with Command-Line Flags\nDESCRIPTION: Lists all available command-line flags for configuring the Piped agent, including options for configuration sources, security settings, metrics, admin server settings, and tool directories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --app-manifest-cache-count int               The number of app manifests to cache. The cache-key contains the commit hash. The default is 150. (default 150)     \n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-aws-ssm-parameter string            The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: YAML configuration for defining a Terraform application in PipeCD with basic settings including name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Agent YAML Configuration\nDESCRIPTION: YAML configuration template for setting up a Piped agent, including project settings, API configuration, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in Cluster-wide Mode\nDESCRIPTION: Basic Piped configuration file for cluster-wide installation mode. Defines project settings, authentication, Git repository access, and sync intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with THRESHOLD Strategy for Canary Deployment\nDESCRIPTION: This example demonstrates a complete Kubernetes pipeline that deploys a canary variant, analyzes it using the THRESHOLD strategy for 30 minutes, then rolls out to primary and cleans up the canary if successful.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Primary Deployment for Canary Strategy\nDESCRIPTION: Kubernetes Deployment manifest for the primary variant with PipeCD-specific labels and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with Canary-Baseline Analysis\nDESCRIPTION: Example of a full Kubernetes deployment pipeline implementing the CANARY_BASELINE strategy. The pipeline includes canary and baseline deployments, comparative analysis, primary rollout, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Application Configuration with Remote Git Helm Chart\nDESCRIPTION: Configuration for a Kubernetes application that uses a Helm chart from a different git repository. It specifies the repository URL, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for Kubernetes Canary Deployment with Istio\nDESCRIPTION: Defines a PipeCD application configuration file that specifies a six-stage canary deployment pipeline. The pipeline includes canary rollout, traffic routing adjustment, approval gate, primary rollout, final traffic routing, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the Istio VirtualService that controls traffic routing between deployment variants, initially directing all traffic to the primary subset.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with THRESHOLD Strategy in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure the ANALYSIS stage in a PipeCD pipeline using the THRESHOLD strategy for metrics analysis. It specifies the duration, provider, query interval, and expected threshold for the metric.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane on Kubernetes\nDESCRIPTION: These commands create a namespace for PipeCD and apply the control plane manifest to install PipeCD in quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl create namespace pipecd\n$ kubectl apply -n pipecd -f https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule that creates subsets for primary and canary variants of the application, using the 'pipecd.dev/variant' label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Canary Deployment Pipeline\nDESCRIPTION: This YAML defines a PipeCD application configuration that implements a multi-stage canary deployment strategy. It specifies how to gradually roll out changes, route traffic, wait for approval, and finalize the deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes Application Configuration Example for Quick Sync\nDESCRIPTION: A simple Kubernetes application configuration that uses a remote Helm chart without a pipeline, which will trigger quick sync deployment for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with THRESHOLD Strategy in Kubernetes App\nDESCRIPTION: This snippet demonstrates how to configure an ANALYSIS stage using the THRESHOLD strategy to evaluate metrics from a Prometheus provider. The stage runs for 30 minutes, checking error rates every 5 minutes against a maximum threshold of 0.01.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in YAML\nDESCRIPTION: Example configuration for a Kubernetes application in PipeCD. The file must be suffixed with '.pipecd.yaml' and includes basic application metadata like name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for KubernetesApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/kubernetes/\n\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in PipeCD for Terraform Applications\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application. The postSync.chain section defines which applications should be triggered after the current deployment completes, allowing for orchestrated multi-application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration that specifies the blue-green deployment pipeline stages and traffic routing method using Istio.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Remote Git Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a different git repository with specific version reference.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with CANARY_BASELINE Strategy in Kubernetes App\nDESCRIPTION: Example configuration for the CANARY_BASELINE strategy that compares metrics between Canary and Baseline variants. This configuration uses templating to inject variant names into the Prometheus query and fails if the Canary's error rate is higher than the Baseline's.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for Canary Deployment\nDESCRIPTION: Defines the PipeCD application configuration with a multi-stage canary deployment pipeline including traffic splitting and approval stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure for configuring a Kubernetes application in PipeCD. It includes fields for specifying the API version, kind, and the beginning of the spec section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Canary Deployment Strategy\nDESCRIPTION: PipeCD application configuration that defines the canary deployment strategy with multiple stages including rollout, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for sending PipeCD events to Slack channels. It includes examples for sending all events with specific labels to different Slack channels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in PipeCD YAML\nDESCRIPTION: Shows how to define an Analysis Template that monitors HTTP error rates using Prometheus metrics. The template includes interval settings, provider configuration, and a PromQL query that calculates error rates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with CANARY_BASELINE Strategy in Kubernetes App\nDESCRIPTION: This snippet demonstrates how to configure an ANALYSIS stage using the CANARY_BASELINE strategy to compare metrics between Canary and Baseline variants. The query uses Go templating to insert the variant name into the query, and is set to fail if the Canary metrics are higher than Baseline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Specification in YAML\nDESCRIPTION: This snippet shows the required service.yaml file for Cloud Run applications, which defines the service specification including container image, resources, and scaling parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for ECS Application in PipeCD\nDESCRIPTION: This YAML configuration defines a gradual rollout strategy for an ECS application using PipeCD. It specifies the input files, target groups, and a pipeline with stages for canary deployment, traffic routing, analysis, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    # Default is `service.json`\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes App Configuration for Quick Sync with Helm Chart\nDESCRIPTION: A simple Kubernetes application configuration without a pipeline field, which will trigger quick sync deployments for any changes. This example uses a Helm chart from a repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: PipeCD Stage Configuration Options\nDESCRIPTION: Configuration reference for various deployment stages in PipeCD including Terraform, Cloud Run, Lambda, ECS, Analysis, Wait, and Custom stages. Each section details the available fields, their types, descriptions and whether they are required.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_8\n\n\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: Example YAML configuration for adding a Helm chart repository to a piped configuration file. This snippet shows how to enable the official PipeCD chart repository, which allows applications to use charts from that source.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Blue-Green Deployment\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule that sets up the primary and canary subsets for blue-green deployment. It uses the 'pipecd.dev/variant' label to distinguish between variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install or upgrade PipeCD control plane, specifying configuration files, encryption key, and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane in Kubernetes\nDESCRIPTION: Commands to create a namespace and deploy the PipeCD control plane components to a Kubernetes cluster using a predefined manifest from the PipeCD GitHub repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl create namespace pipecd\n$ kubectl apply -n pipecd -f https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: Complete Canary-Baseline Analysis Pipeline\nDESCRIPTION: Full pipeline configuration showing canary deployment with baseline comparison, including rollout of both variants, analysis, promotion, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes Application Configuration Without Pipeline\nDESCRIPTION: A simple Kubernetes application configuration that uses a Helm chart from a repository without specifying a pipeline, which will trigger quick sync deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD Control Plane using MySQL as datastore and MinIO as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment Strategy\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for implementing a canary deployment strategy. It specifies stages for canary rollout, approval, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: Defines an Istio DestinationRule that creates two subsets (primary and canary) for traffic routing based on the 'pipecd.dev/variant' label. This is required for enabling canary deployments with Istio.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Piped Configuration in YAML\nDESCRIPTION: Defines the basic configuration for a Piped agent, including project ID, credentials, API endpoint, Git repository settings, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for implementing canary deployment. It specifies the stages for rolling out the canary variant, waiting for approval, updating the primary variant, and cleaning up the canary resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It specifies post-sync actions to trigger deployments for other applications based on name and kind filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane with Helm\nDESCRIPTION: Helm command to install PipeCD control plane with configuration files and service accounts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Complete Canary-Baseline Pipeline with Analysis\nDESCRIPTION: Example of a complete Kubernetes pipeline implementing canary and baseline deployments with comparative analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Complete Pipeline with Canary Analysis in PipeCD\nDESCRIPTION: This snippet demonstrates a complete pipeline configuration including canary rollout, analysis using the THRESHOLD strategy, and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Canary and Baseline Deployment Pipeline with CANARY_BASELINE Analysis\nDESCRIPTION: Advanced pipeline example using both canary and baseline deployments with CANARY_BASELINE analysis strategy. The pipeline creates both canary and baseline variants at 20% capacity, compares their metrics, and proceeds to full rollout if the canary performs well.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda platform provider named 'lambda-dev'. It requires the Lambda region and provides options for AWS credential configuration using profiles or credential files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines Istio VirtualService that controls traffic routing between deployment variants, initially routing all traffic to primary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with THRESHOLD Strategy in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure an ANALYSIS stage in a PipeCD pipeline using the THRESHOLD strategy. It specifies the duration, metrics provider, query interval, and the expected threshold for the analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Generating an Encryption Key for PipeCD Control Plane\nDESCRIPTION: Commands to generate an encryption key using either OpenSSL or /dev/urandom. This key is required for encrypting sensitive data and signing JWT tokens during authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: The basic structure of a PipeCD Control Plane configuration file. This defines the ControlPlane resource with its API version and spec section, which would contain all the configuration options documented in the reference.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application for Quick Sync Deployment\nDESCRIPTION: Example YAML configuration for a simple ECS application that uses quick sync deployment strategy. It defines the application name, labels, service definition file, task definition file, and target group configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container specifications, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure Piped to send PipeCD event notifications to Slack channels. It shows route configuration based on environment labels, specific events, and different ways to set up Slack receivers including webhook URLs, OAuth tokens, and mentioned accounts/groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedGroups:\n            - 'group1'\n            - '<!subteam^group2>'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-both-accounts-and-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - 'user1'\n            - '@user2'\n          mentionedGroups:\n            - 'groupID1'\n            - '<!subteam^groupID2>'\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment of Kubernetes App with Istio\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for a Kubernetes application, specifying a canary deployment strategy using Istio for traffic routing. It outlines stages for canary rollout, traffic splitting, approval, and final rollout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for enabling canary deployment. It specifies the pipeline stages including canary rollout, approval wait, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Cloud Run Deployment (YAML)\nDESCRIPTION: This YAML configuration file sets up Piped for deployment on Cloud Run. It includes project settings, API address, Git repository details, and optional configurations for Cloud Run and Terraform applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with THRESHOLD Strategy in Kubernetes App\nDESCRIPTION: Example configuration for the THRESHOLD strategy in the ANALYSIS stage of a Kubernetes application pipeline. This strategy compares metrics against statically defined thresholds, checking if the error rate stays below 0.01 over a 30-minute duration with 5-minute interval checks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Analysis Template in YAML\nDESCRIPTION: Example of creating an Analysis Template that defines HTTP error rate metrics using Prometheus. The template includes interval settings, provider configuration, and a PromQL query that calculates error rates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment with CANARY_BASELINE Analysis\nDESCRIPTION: Comprehensive pipeline configuration showing canary deployment with baseline comparison, including rollout, analysis, and cleanup stages for both canary and baseline variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Basic YAML structure for configuring a Kubernetes application in PipeCD. This configuration includes the required apiVersion and kind fields, with placeholders for input and pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Pipeline with THRESHOLD Analysis\nDESCRIPTION: Full pipeline configuration showing canary deployment with threshold-based analysis and rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring CANARY_BASELINE Strategy Analysis Stage in Kubernetes App\nDESCRIPTION: Example configuration for implementing a metrics-based analysis stage using the CANARY_BASELINE strategy to compare metrics between canary and baseline variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Pipeline with Previous Analysis\nDESCRIPTION: Example of a Kubernetes pipeline using primary deployment with previous deployment comparison analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment in Kubernetes with Istio\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for implementing a canary deployment strategy. It specifies the deployment stages, including canary rollout, traffic routing, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Installing Piped in Kubernetes using Helm (Standard Installation)\nDESCRIPTION: This command installs Piped using Helm with basic configuration. It sets security context parameters for running as non-root user in OpenShift environments and uses a custom OpenShift-compatible Piped image. Default Kubernetes cloud provider is disabled, and RBAC is scoped to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Runtime Options\nDESCRIPTION: Command-line flags and options available when running the Piped agent. Includes settings for admin server, security, configuration sources, and tool management. Provides control over logging, metrics, and graceful shutdown behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Creating Piped Configuration File in YAML\nDESCRIPTION: This YAML configuration file defines the necessary settings for a Piped agent, including project ID, connection details to the control plane, Git repository access, and sync interval. This is required before starting the Piped service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD Control Plane\nDESCRIPTION: Commands for generating a random encryption key required by PipeCD for encrypting sensitive data and signing JWT tokens. The key can be created using either OpenSSL or by reading random bytes directly.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with CANARY_BASELINE Strategy\nDESCRIPTION: This example demonstrates a complete Kubernetes pipeline that deploys both canary and baseline variants, analyzes them using the CANARY_BASELINE strategy, then rolls out to primary and cleans up both variants if successful.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Canary Deployment in Kubernetes\nDESCRIPTION: Defines an Istio VirtualService that initially routes all traffic to the primary subset. This resource will be modified by PipeCD during the deployment process to adjust traffic distribution between primary and canary variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Remote Helm Chart Repository Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a Helm chart repository with specific version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Defining EventWatcher with Labels in Config File\nDESCRIPTION: YAML configuration for EventWatcher using labels to uniquely identify events. This example shows how to use environment and application name labels to make event handling more specific.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Basic Configuration using Helm in Bash\nDESCRIPTION: This Helm command installs Piped with basic configuration. It sets up the Piped config, SSH key, and various security contexts. The command disables the default Kubernetes cloud provider and sets the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a local Helm chart for a Kubernetes application in PipeCD, where the chart is located in the same Git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT Stage in a Kubernetes Deployment Pipeline\nDESCRIPTION: This snippet demonstrates how to add a WAIT stage to a PipeCD Kubernetes deployment pipeline. The WAIT stage is configured with a 'duration' field set to 5 minutes, causing the pipeline to pause for this time period between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Pipeline with Canary Analysis using CANARY_BASELINE Strategy in PipeCD\nDESCRIPTION: This snippet demonstrates a complete pipeline configuration with canary and baseline rollouts, analysis using the CANARY_BASELINE strategy, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Canary Deployment Pipeline with THRESHOLD Analysis\nDESCRIPTION: Complete pipeline example for a Kubernetes application using the THRESHOLD strategy to analyze a canary deployment. The pipeline rolls out a canary with 20% of replicas, analyzes its CPU usage for 30 minutes, then proceeds with a full rollout if successful.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Analysis with Previous Strategy\nDESCRIPTION: Pipeline configuration for analyzing primary deployment using comparison with previous successful deployment metrics. Uses the PREVIOUS strategy with 5-minute intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Deployment\nDESCRIPTION: This YAML configuration file defines the basic settings for a Piped instance, including project ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with THRESHOLD strategy in PipeCD\nDESCRIPTION: This snippet shows how to configure the ANALYSIS stage in a PipeCD pipeline using the THRESHOLD strategy for metrics-based analysis. It specifies the duration, provider, interval, and query for the analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with CANARY_BASELINE strategy in PipeCD\nDESCRIPTION: This example shows how to set up the ANALYSIS stage with the CANARY_BASELINE strategy. It compares metrics between Canary and Baseline variants, using Go templating for variant-specific queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Implementing Gradual Rollout Pipeline for Cloud Run in PipeCD\nDESCRIPTION: This configuration demonstrates a customized deployment pipeline for Cloud Run applications using PipeCD. It shows how to gradually shift traffic to a new version through multiple promotion stages with waiting periods between them.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Defining RBAC Policies in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the format for defining Role-Based Access Control (RBAC) policies in PipeCD. It shows how to specify resources and actions for different roles, including the use of wildcards for all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with custom args in PipeCD\nDESCRIPTION: This snippet illustrates how to use custom arguments in the ANALYSIS stage configuration. It defines baselineArgs and canaryArgs for use in the query template.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: Configuration for a Kubernetes platform provider named 'kubernetes-dev'. This basic configuration connects to the Kubernetes cluster where piped is running and watches all predefined resources from all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Pipeline with Baseline Analysis\nDESCRIPTION: Full pipeline configuration demonstrating canary deployment with baseline comparison, including rollout and cleanup stages for both variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes with Helm (Cluster-wide Mode)\nDESCRIPTION: This Bash command uses Helm to install or upgrade Piped in cluster-wide mode. It sets the Piped configuration, key file, and SSH key file. Options for remote upgrade and remote config are provided.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure a Kubernetes platform provider in the PipeCD configuration file. It specifies a name and type for the provider, which will connect to the Kubernetes cluster where the piped is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Kubernetes Installation\nDESCRIPTION: This YAML configuration file defines the settings for a Piped instance to be installed on a Kubernetes cluster. It includes project ID, Piped ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Deployment Triggers\nDESCRIPTION: Configuration reference for different types of deployment triggers in PipeCD. Includes onCommit, onCommand, onOutOfSync, and onChain triggers that determine when new deployments should be initiated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/triggering-a-deployment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntrigger:\n  onCommit:\n    disabled: false\n  onCommand:\n    disabled: false\n  onOutOfSync:\n    disabled: false\n  onChain:\n    disabled: false\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure for configuring a Terraform application in PipeCD. It includes the apiVersion, kind, and spec fields, which contain input and pipeline configurations specific to Terraform deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for sending PipeCD events to Slack channels. It includes examples of filtering events by labels and event types, and configuring different Slack receivers with hook URLs and OAuth tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n```\n\n----------------------------------------\n\nTITLE: PipeCD Control Plane Config with Firestore and GCS\nDESCRIPTION: Configuration file example for PipeCD control plane using Google Firestore as datastore and Google Cloud Storage as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes App Configuration with Helm Chart\nDESCRIPTION: Simple Kubernetes application configuration using a Helm chart without a pipeline, which will trigger quick sync deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary Deployment with THRESHOLD Analysis in PipeCD\nDESCRIPTION: This snippet demonstrates a complete pipeline configuration for a canary deployment using the THRESHOLD strategy for analysis. It includes stages for canary rollout, analysis, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment Strategy\nDESCRIPTION: This configuration defines a canary deployment pipeline in PipeCD. The pipeline includes stages for deploying canary pods at 50% capacity, waiting for approval, rolling out to primary pods, and finally cleaning up canary resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant. In this case, the number of\n      # workload replicas of CANARY variant is 50% of the replicas number of PRIMARY variant.\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      # Update the workload of PRIMARY variant to the new version.\n      - name: K8S_PRIMARY_ROLLOUT\n      # Destroy all workloads of CANARY variant.\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for BlueGreen Deployment with Istio\nDESCRIPTION: Defines the PipeCD application configuration for implementing blue-green deployment strategy. It specifies a pipeline with stages for canary rollout, traffic routing, approval, primary rollout, and cleanup, using Istio as the traffic routing method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run Deployment\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API settings, Git repository information, and optional platform providers. It includes settings for Cloud Run and Terraform applications, as well as secret management options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in PipeCD\nDESCRIPTION: This YAML configuration defines a custom deployment pipeline for a Cloud Run application in PipeCD. It specifies a gradual rollout strategy with traffic percentage increases and waiting periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a custom deployment pipeline for a Cloud Run application in PipeCD. It defines a gradual rollout process with traffic shifting and wait stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run\nDESCRIPTION: Example configuration for a gradual rollout deployment pipeline that incrementally increases traffic to the new version using CLOUDRUN_PROMOTE stages with waiting periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run\nDESCRIPTION: Pipeline configuration that implements a gradual traffic shift to the new version, with traffic percentages increasing from 10% to 100% with waiting periods in between.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Configuration Structures\nDESCRIPTION: Markdown documentation describing configuration fields and structures for PipeCD's analysis providers, event watchers, secret management, and notification systems. Includes field specifications, types, requirements and descriptions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n## AnalysisProviderConfig\\n\\nMust be one of the following structs:\\n\\n### AnalysisProviderPrometheusConfig\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| address | string | The Prometheus server address. | Yes |\\n| usernameFile | string | The path to the username file. | No |\\n| passwordFile | string | The path to the password file. | No |\\n\\n### AnalysisProviderDatadogConfig\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| address | string | The address of Datadog API server. Only \\\"datadoghq.com\\\", \\\"us3.datadoghq.com\\\", \\\"datadoghq.eu\\\", \\\"ddog-gov.com\\\" are available. Defaults to \\\"datadoghq.com\\\" | No |\\n| apiKeyFile | string | The path to the api key file. | Yes |\\n| applicationKeyFile | string | The path to the application key file. | Yes |\\n| apiKeyData | string | Base64 API Key for Datadog API server. Either apiKeyData or apiKeyFile must be set | No |\\n| applicationKeyData | string | Base64 Application Key for Datadog API server. Either applicationKeyFile or applicationKeyData must be set | No |\\n\\n## EventWatcher\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| checkInterval | duration | Interval to fetch the latest event and compare it with one defined in EventWatcher config files. Defaults to `1m`. | No |\\n| gitRepos | [][EventWatcherGitRepo](#eventwatchergitrepo) | The configuration list of git repositories to be observed. Only the repositories in this list will be observed by Piped. | No |\\n\\n### EventWatcherGitRepo\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| repoId | string | Id of the git repository. This must be unique within the repos' elements. | Yes |\\n| commitMessage | string | The commit message used to push after replacing values. Default message is used if not given. | No |\\n| includes | []string | The paths to EventWatcher files to be included. Patterns can be used like `foo/*.yaml`. | No |\\n| excludes | []string | The paths to EventWatcher files to be excluded. Patterns can be used like `foo/*.yaml`. This is prioritized if both includes and this are given. | No |\\n\\n## SecretManagement\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| type | string | Which management method should be used. Default is `KEY_PAIR`. | Yes |\\n| config | [SecretManagementConfig](#secretmanagementconfig) | Configration for using secret management method. | Yes |\\n\\n## SecretManagementConfig\\n\\nMust be one of the following structs:\\n\\n### SecretManagementKeyPair\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| privateKeyFile | string | Path to the private RSA key file. | Yes |\\n| privateKeyData | string | Base64 encoded string of private RSA key. Either privateKeyFile or privateKeyData must be set. | No |\\n| publicKeyFile | string | Path to the public RSA key file. | Yes |\\n| publicKeyData | string | Base64 encoded string of public RSA key. Either publicKeyFile or publicKeyData must be set. | No |\\n\\n### SecretManagementGCPKMS\\n\\n> WIP\\n\\n## Notifications\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| routes | [][NotificationRoute](#notificationroute) | List of notification routes. | No |\\n| receivers | [][NotificationReceiver](#notificationreceiver) | List of notification receivers. | No |\\n\\n### NotificationRoute\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| name | string | The name of the route. | Yes |\\n| receiver | string | The name of receiver who will receive all matched events. | Yes |\\n| events | []string | List of events that should be routed to the receiver. | No |\\n| ignoreEvents | []string | List of events that should be ignored. | No |\\n| groups | []string | List of event groups should be routed to the receiver. | No |\\n| ignoreGroups | []string | List of event groups should be ignored. | No |\\n| apps | []string | List of applications where their events should be routed to the receiver. | No |\\n| ignoreApps | []string | List of applications where their events should be ignored. | No |\\n| labels | map[string]string | List of labels where their events should be routed to the receiver. | No |\\n| ignoreLabels | map[string]string | List of labels where their events should be ignored. | No |\\n\\n\\n### NotificationReceiver\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| name | string | The name of the receiver. | Yes |\\n| slack | [NotificationReciverSlack](#notificationreceiverslack) | Configuration for slack receiver. | No |\\n| webhook | [NotificationReceiverWebhook](#notificationreceiverwebhook) | Configuration for webhook receiver. | No |\\n\\n#### NotificationReceiverSlack\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| hookURL | string | The hookURL of a slack channel. | Yes |\\n| oauthToken | string | [The token for Slack API use.](https://api.slack.com/authentication/basics) (deprecated)| No |\\n| oauthTokenData | string | Base64 encoded string of [The token for Slack API use.](https://api.slack.com/authentication/basics) | No |\\n| oauthTokenFile | string | The path to the oautoken file | No |\\n| channelID | string | The channel id which slack api send to. | No |\\n| mentionedAccounts | []string | The accounts to which slack api referes. This field supports both `@username` and `username` writing styles.| No |\\n| mentionedGroups | []string | The groups to which slack api referes. This field supports both `<!subteam^groupname>` and `groupname` writing styles.| No |\\n\\n#### NotificationReceiverWebhook\\n\\n| Field | Type | Description | Required |\\n|-|-|-|-|\\n| url | string | The URL where notification event will be sent to. | Yes |\\n| signatureKey | string | The HTTP header key used to store the configured signature in each event. Default is \\\"PipeCD-Signature\\\". | No |\\n| signatureValue | string | The value of signature included in header of each event request. It can be used to verify the received events. | No |\\n| signatureValueFile | string | The path to the signature value file. | No |\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It specifies post-sync actions to trigger deployments for other applications named 'application-2' and 'application-3' (of kind KUBERNETES).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Kubernetes application configuration file in PipeCD. This defines the application type as KubernetesApp and includes placeholders for the input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for Canary Deployment\nDESCRIPTION: Defines a PipeCD application configuration that specifies a canary deployment pipeline. The pipeline includes stages for canary rollout, traffic routing, manual approval, primary rollout, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function in PipeCD\nDESCRIPTION: A sample function.yaml configuration for deploying a Lambda function using a ZIP file stored in S3. This config specifies the function name, IAM role, S3 location details, handler, runtime, memory, timeout, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Notifications in PipeCD\nDESCRIPTION: Configuration schema for notification routes and receivers including Slack and Webhook integrations. Defines event routing rules and notification delivery settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nnotifications:\n  routes:\n    - name: \"route-1\"\n      receiver: \"slack-team\"\n      events: [\"deployment.success\"]\n      groups: [\"group1\"]\n      apps: [\"app1\"]\n      labels:\n        env: \"prod\"\n  receivers:\n    - name: \"slack-team\"\n      slack:\n        hookURL: \"https://hooks.slack.com/...\"\n        channelID: \"C123456\"\n        mentionedAccounts: [\"@user1\"]\n    - name: \"webhook-receiver\"\n      webhook:\n        url: \"https://webhook.example.com\"\n        signatureKey: \"PipeCD-Signature\"\n        signatureValue: \"secret-value\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Configuration\nDESCRIPTION: YAML configuration file for Piped setup including project settings, API configuration, Git repository access, and optional platform providers for ECS and Terraform applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in PipeCD Kubernetes App\nDESCRIPTION: This YAML configuration demonstrates how to add a WAIT_APPROVAL stage to a Kubernetes application deployment pipeline in PipeCD. It specifies a 6-hour timeout and requires approval from 'user-abc' before proceeding to the primary rollout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic structure for configuring a Kubernetes application in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the Istio DestinationRule configuration that sets up primary and canary subsets for traffic routing using the pipecd.dev/variant label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Kubernetes platform provider in the PipeCD configuration file. It specifies a name and type for the provider, which will connect to the Kubernetes cluster where the piped is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure for configuring a Kubernetes application in PipeCD. It includes the apiVersion, kind, and spec fields, which contain input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm - Basic\nDESCRIPTION: Helm command for basic Piped installation with configuration and secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule that sets up subsets for primary and canary variants of the application, using the 'pipecd.dev/variant' label for identification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with Threshold Analysis\nDESCRIPTION: Full pipeline configuration showing canary deployment with threshold-based analysis before promoting to primary. Includes canary rollout, analysis, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for ECS App Deployment\nDESCRIPTION: IAM policy configuration required for deploying ECS applications through Piped. Includes permissions for ECS service management, task handling, and load balancer operations. Requires task execution and task role ARNs to be specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: The basic structure of a Piped configuration file showing the required apiVersion, kind, and spec fields. This is the foundation for configuring a Piped agent in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: Example showing the basic structure of a PipeCD Control Plane configuration file. The configuration defines core settings like address and API version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Configures Istio DestinationRule to define primary and canary subsets using PipeCD variant labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Kubernetes platform provider in the piped configuration file. It specifies a name and type for the provider, connecting to the Kubernetes cluster where piped is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring THRESHOLD Strategy Analysis Stage in Kubernetes App\nDESCRIPTION: Example configuration for implementing a metrics-based analysis stage using the THRESHOLD strategy to evaluate deployment success based on error rate metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Kubernetes application configuration in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using container images. Defines core settings like memory, timeout, tags, environments and optional VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  ephemeralStorage:\n    size: 512\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines an Istio VirtualService that initially routes 100% of traffic to the primary subset. This configuration will be modified by PipeCD during the canary deployment process to gradually shift traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Keycloak SSO in PipeCD ControlPlane\nDESCRIPTION: YAML configuration for setting up Keycloak SSO integration in PipeCD control plane, specifying client credentials and OIDC settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<KEYCLOAK_ADDRESS>/realms/<REALM>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Authentication\nDESCRIPTION: Helm install command for deploying piped with SSH key authentication for private Git repository access. The command configures the piped configuration file and necessary SSH key credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped on Kubernetes with both remote-upgrade and remote-config features enabled. It allows upgrading Piped and loading config from a remote Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install PipeCD Control Plane on a Kubernetes cluster, specifying configuration files, encryption key, and service account credentials for Firestore and GCS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring a Manual Approval Stage in PipeCD Kubernetes Deployment\nDESCRIPTION: This YAML snippet demonstrates how to configure a manual approval stage (WAIT_APPROVAL) in a PipeCD Kubernetes application deployment pipeline. The configuration includes a 6-hour timeout and specifies a particular user who must approve before the primary rollout can proceed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Kubernetes App Configuration\nDESCRIPTION: Demonstrates how to reference a defined Analysis Template within a Kubernetes application configuration using the template field in the analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Function Deployment Pipeline\nDESCRIPTION: Pipeline configuration for gradually rolling out a new Lambda function version with traffic shifting and waiting periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Defining an Analysis Template in YAML for PipeCD\nDESCRIPTION: This snippet demonstrates how to define an Analysis Template in YAML format. It includes configuration for metrics, specifying the provider, expected values, and a query for HTTP error rate analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Basic Threshold Analysis Configuration in PipeCD\nDESCRIPTION: Configuration example for a basic threshold-based analysis stage using Prometheus metrics. Monitors error rate over a 30-minute duration with 5-minute intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Gradual Deployment Pipeline\nDESCRIPTION: Example of a customized ECS deployment pipeline that implements canary deployment with traffic routing and analysis stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      - name: ANALYSIS\n      - name: ECS_PRIMARY_ROLLOUT\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as an Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Prometheus as an analysis provider in a Piped configuration file. Specifies the provider name, type, and the Prometheus server address that will be accessible to Piped for querying metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT stage in a PipeCD Kubernetes Deployment Pipeline\nDESCRIPTION: This example demonstrates how to add a WAIT stage to a Kubernetes deployment pipeline in PipeCD. The pipeline includes canary rollout, a 5-minute wait period, primary rollout, and canary cleanup stages. The 'duration' field controls how long the pipeline pauses before proceeding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This snippet shows how to configure Piped to send PipeCD event notifications to external services via webhook. It demonstrates setting up a route to forward all events to a webhook service with URL and signature configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure an AWS Lambda platform provider by specifying the region, profile, and credentials file. PipeCD provides multiple methods for loading AWS credentials, including environment variables and instance roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Kubernetes Installation\nDESCRIPTION: This YAML configuration file defines the settings for a Piped instance to be installed on Kubernetes. It includes project ID, Piped ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in OKD Using Helm\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config capabilities in an OKD environment. This configuration allows upgrading Piped from the web console and automatically reloading configuration from a Git repository when changes occur.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in PipeCD\nDESCRIPTION: Basic configuration for a Kubernetes cloud provider that connects to the cluster where piped is running. This setup watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes Quick Sync Configuration\nDESCRIPTION: Simple Kubernetes application configuration without a pipeline, using Helm chart input. This setup triggers quick sync deployments for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Application with Encrypted Secrets\nDESCRIPTION: Application configuration YAML that specifies encrypted secrets and decryption targets. The 'encryptedSecrets' section lists the encrypted values, while 'decryptionTargets' specifies which files should be processed to replace secret placeholders.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Custom Pipeline in YAML\nDESCRIPTION: This YAML configuration defines an ECS application with a custom deployment pipeline. It includes stages for canary rollout, traffic routing, analysis, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: This YAML defines an Istio DestinationRule that creates subsets for both primary and canary variants using the 'pipecd.dev/variant' label, enabling traffic routing between different versions of the application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines Istio VirtualService that controls traffic routing between primary and canary variants with initial 100% traffic to primary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Keycloak SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up Keycloak as an OIDC provider in PipeCD Control Plane. It includes client ID, client secret, issuer URL, redirect URI, and required scopes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<KEYCLOAK_ADDRESS>/realms/<REALM>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML for PipeCD\nDESCRIPTION: This snippet demonstrates how to define an Analysis Template in YAML format for PipeCD. It includes a metric for HTTP error rate using Prometheus as the provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure a Cloud Run platform provider in PipeCD. It requires the Google Cloud project name, region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Terraform application deployment in PipeCD. Specifies the application spec with input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task Application\nDESCRIPTION: YAML configuration for a standalone ECS task running on Fargate. Defines the task definition file, cluster ARN, and AWS VPC configuration with public IP assignment, subnets, and security groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Implementing Gradual Rollout for ECS Applications with Custom Pipeline\nDESCRIPTION: Example of a customized deployment pipeline for ECS applications that implements a gradual rollout strategy with canary deployment, traffic routing, analysis, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Defining Basic Kubernetes Application in PipeCD\nDESCRIPTION: This snippet shows a basic Kubernetes application configuration in PipeCD using a Helm chart. It demonstrates how to specify the input source for the application without a pipeline, which will trigger a quick sync deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: Command to add a new Kubernetes application to a PipeCD project, specifying application details, piped ID, and repository information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Function Deployment Pipeline in YAML\nDESCRIPTION: This YAML configuration defines a custom deployment pipeline for a Lambda application. It includes stages for canary rollout, gradual traffic promotion, and wait periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with PREVIOUS strategy in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration of the ANALYSIS stage using the PREVIOUS strategy. It compares current metrics with those from the last successful deployment, using deviation instead of expected values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD control plane using Firestore as datastore and Google Cloud Storage (GCS) as filestore. Includes settings for namespace, environment, and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: IAM Permissions for ECSApp Deployment in PipeCD\nDESCRIPTION: This JSON policy defines the IAM permissions required for a Piped to deploy ECS applications. It includes actions for creating and managing ECS services, task sets, task definitions, and load balancer resources. The policy also includes the required permissions for passing roles to ECS tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskDefinition\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:DescribeTasks\",\n                \"ecs:ListClusters\",\n                \"ecs:ListServices\",\n                \"ecs:ListTasks\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD Control Plane using MySQL as datastore and MinIO as filestore. Includes settings for database URL, bucket name, and access credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via Homebrew\nDESCRIPTION: Installs pipectl using the Homebrew package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipe-cd/tap/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run in YAML\nDESCRIPTION: This YAML snippet demonstrates how to configure a gradual rollout pipeline for a Cloud Run application using PipeCD. It includes stages for promoting new versions with different traffic percentages and wait periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: Configuration snippet showing how to add a Helm chart repository to the piped configuration file. This example demonstrates adding the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with PREVIOUS strategy in Kubernetes\nDESCRIPTION: This snippet demonstrates how to set up the ANALYSIS stage using the PREVIOUS strategy. It compares current metrics with those from the last successful deployment, using deviation instead of a static threshold.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Helm Chart Source\nDESCRIPTION: Application configuration showing how to specify a Helm chart from a repository as the deployment source. This example configures a Kubernetes application to use a specific version of a chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in YAML\nDESCRIPTION: Basic configuration for adding a Kubernetes platform provider that connects to the cluster where piped is running. This provider watches predefined resources from all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC for Lambda Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a CUSTOM_SYNC stage for a Lambda application in PipeCD. It includes environment variables and commands for building and deploying a SAM application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in PipeCD\nDESCRIPTION: Example of defining an Analysis Template that monitors HTTP error rates using Prometheus. The template includes metric configuration with interval, provider, and query parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in PipeCD Kubernetes Application\nDESCRIPTION: This YAML configuration demonstrates how to add a WAIT_APPROVAL stage to a Kubernetes application deployment pipeline in PipeCD. It specifies a 6-hour timeout and requires approval from 'user-abc' before proceeding to the primary rollout stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Example pipeline with PREVIOUS strategy for Primary analysis in Kubernetes\nDESCRIPTION: This example shows a pipeline configuration using the PREVIOUS strategy to analyze the primary variant in a Kubernetes application. It compares current metrics with those from the previous successful deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run in YAML\nDESCRIPTION: This snippet demonstrates how to configure a custom deployment pipeline for a Cloud Run application in PipeCD. It shows a gradual rollout strategy with traffic shifting and wait stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as Analysis Provider in PipeCD\nDESCRIPTION: This YAML configuration defines Prometheus as an analysis provider for PipeCD. It specifies the provider name, type, and the address of the Prometheus server accessible to Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Storing Encrypted Secrets in Application Configuration for PipeCD\nDESCRIPTION: YAML configuration for storing encrypted secrets in a PipeCD application. It defines the encrypted secrets and specifies which files should be decrypted by Piped during deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring pipeline with PREVIOUS strategy for primary analysis in PipeCD\nDESCRIPTION: This snippet demonstrates a pipeline configuration using the PREVIOUS strategy to analyze the primary variant. It compares current metrics with those from the previous successful deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider Configuration\nDESCRIPTION: Configures the Terraform provider block for PipeCD integration. Requires specifying the provider source and version, with optional host name and API key configuration through provider settings or environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Lambda Deployment\nDESCRIPTION: Example of a custom deployment pipeline for Lambda applications that implements canary deployment with gradual traffic shifting. The pipeline deploys the new version with no traffic, then gradually increases traffic percentage with waiting periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm (Shell)\nDESCRIPTION: Helm command to install or upgrade the PipeCD Control Plane, specifying configuration files and secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Blue-Green Deployment Strategy\nDESCRIPTION: This YAML snippet defines the PipeCD application configuration for implementing a blue-green deployment strategy. It specifies the deployment stages and traffic routing method using Istio.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function directly from source code in a Git repository. Includes source location and function runtime settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM\nDESCRIPTION: Basic YAML configuration for Piped installation including project settings, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n```\n\n----------------------------------------\n\nTITLE: Analysis Template Configuration in YAML\nDESCRIPTION: Example of an Analysis Template configuration for PipeCD that defines metrics for monitoring. This template sets up a gRPC error rate percentage metric using Prometheus as the provider with specific thresholds.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with MySQL and MinIO\nDESCRIPTION: YAML configuration for setting up PipeCD control plane using MySQL as datastore and MinIO as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: YAML configuration for setting up Slack notifications in PipeCD. Shows how to configure multiple notification routes and receivers with different conditions, including channel configurations and mentioned accounts/groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedGroups:\n            - 'group1'\n            - '<!subteam^group2>'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-both-accounts-and-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - 'user1'\n            - '@user2'\n          mentionedGroups:\n            - 'groupID1'\n            - '<!subteam^groupID2>'\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes postSync chain configuration to trigger deployments for other applications after the current deployment completes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in PipeCD Kubernetes Application\nDESCRIPTION: This YAML configuration demonstrates how to add a WAIT_APPROVAL stage to a Kubernetes application deployment pipeline in PipeCD. It specifies a 6-hour timeout and requires approval from 'user-abc' before proceeding to the primary rollout stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Configuration\nDESCRIPTION: Basic Piped configuration file that defines project settings, authentication, Git repositories, and platform providers for ECS deployments. Includes optional configurations for Terraform and secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: Shows the basic structure of a Control Plane configuration file with the required apiVersion, kind and spec fields. The configuration defines core settings for PipeCD Control Plane operation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for ECSApp Deployments in AWS\nDESCRIPTION: This JSON policy defines the IAM permissions required for a Piped to deploy ECS applications. It includes actions for ECS services, task sets, and load balancing, as well as the ability to pass roles. Resources can be restricted as needed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskDefinition\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:DescribeTasks\",\n                \"ecs:ListClusters\",\n                \"ecs:ListServices\",\n                \"ecs:ListTasks\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Git Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure a Kubernetes application in PipeCD to use a Helm chart from a different Git repository. It specifies the Git remote, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Configuration for Canary Deployment\nDESCRIPTION: This YAML snippet configures the PipeCD pipeline for canary deployment, specifying stages for rollout, traffic routing, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Deployment in Cluster-wide Mode\nDESCRIPTION: This YAML configuration defines the basic Piped setup for cluster-wide mode. It specifies project details, API connection information, Git repository access, and synchronization settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Custom Pipeline\nDESCRIPTION: YAML configuration for a gradual rollout of an ECS application in PipeCD, demonstrating canary deployment with traffic routing and analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Defines an Istio DestinationRule that specifies the primary and canary subsets based on the 'pipecd.dev/variant' label, which is essential for traffic routing in a canary deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Gradual Rollout Pipeline\nDESCRIPTION: This YAML configuration defines an ECS application with a custom pipeline for gradual rollout. It includes stages for canary deployment, traffic routing, analysis, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary-Baseline Analysis Stage in Kubernetes\nDESCRIPTION: Example configuration for CANARY_BASELINE strategy that compares metrics between Canary and Baseline variants using templated queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for setting up PipeCD Control Plane using Google Firestore as datastore and Google Cloud Storage as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Kubernetes Namespaced Mode\nDESCRIPTION: This YAML configuration extends the previous Piped config to include a platform provider for Kubernetes, restricting access to a specific namespace. This is used for namespaced mode installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda provider including region, profile, and credentials settings. Supports multiple authentication methods including environment variables and EC2 instance roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and some basic metadata like name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment\nDESCRIPTION: Configuration example for deploying a Lambda function using a container image. This YAML file defines the function name, container image URI, IAM role, memory allocation, timeout, tags, environment variables, and optional VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  # ephemeralStorage is optional value. If you define a ephemeral storage to lambda, you can\n  # use this field. The value must be in between 512 to 10240 MB.\n  ephemeralStorage:\n    size: 512\n  # vpcConfig is optional value. If you define a vpc configuration to lambda, you can\n  # use this field.\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset of the application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Agent YAML\nDESCRIPTION: Example configuration file for Piped Agent (piped-config.yaml) that specifies project settings, API connection details, and platform providers. Contains required fields like projectID, pipedID, pipedKeyData, and Kubernetes configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/piped/README.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: quickstart\n  # FIXME: Replace here with your piped ID.\n  pipedID: 7accd470-1786-49ee-ac09-3c4d4e31dc12\n  # Base64 encoded string of the piped private key. You can generate it by the following command.\n  # echo -n \"your-piped-key\" | base64\n  # FIXME: Replace here with your piped key file path.\n  pipedKeyData: OTl4c2RqdjUxNTF2OW1sOGw5ampndXUyZjB2aGJ4dGw0bHVkamF4Mmc3a3l1enFqY20K\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  # FIXME: Replace here with your piped address if you connect Piped to a control plane that does not run locally.\n  apiAddress: localhost:8080\n  repositories:\n  - repoId: example\n    remote: git@github.com:pipe-cd/examples.git\n    branch: master\n  syncInterval: 1m\n  platformProviders:\n  - name: example-kubernetes\n    type: KUBERNETES\n    config:\n      # FIXME: Replace here with your kubeconfig absolute file path.\n      kubeConfigPath: /path/to/.kube/config\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Deployment Pipeline\nDESCRIPTION: Configuration for a gradual deployment pipeline that includes canary rollout and progressive traffic shifting with waiting periods between promotion stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Gradual Rollout Pipeline\nDESCRIPTION: Advanced pipeline configuration for ECS applications implementing canary deployments with traffic routing and analysis stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      - name: ANALYSIS\n      - name: ECS_PRIMARY_ROLLOUT\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in Kubernetes Pipeline\nDESCRIPTION: Example configuration showing how to add a WAIT_APPROVAL stage between canary and primary rollouts in a Kubernetes deployment pipeline. The stage requires approval from a specific user with a 6-hour timeout period.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Application Configuration in YAML\nDESCRIPTION: Configuration schema for an ECS application in PipeCD. Specifies application metadata, deployment inputs, triggers, and pipeline stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD Piped\nDESCRIPTION: YAML configuration for setting up webhook notifications in PipeCD. This example demonstrates how to configure piped to send all events to an external service using a webhook with a URL and signature value for verification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: Configuration example demonstrating how to set up webhook notifications for PipeCD events. Shows how to route all events to an external service with signature validation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Configuration for Canary Deployment in Kubernetes with Istio\nDESCRIPTION: This YAML snippet configures the PipeCD pipeline for a canary deployment. It defines stages for rolling out the canary, traffic routing, approval, primary rollout, and cleanup. It also specifies Istio as the traffic routing method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT Stage in a Kubernetes Deployment Pipeline\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT stage to a Kubernetes application deployment pipeline in PipeCD. The stage is configured with a 5-minute duration, causing the pipeline to pause for that specified time between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: The basic structure of a Piped configuration file that includes the API version, kind, and essential fields in the spec section. This snippet shows the minimal required configuration format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD with MySQL and MinIO\nDESCRIPTION: YAML configuration for setting up PipeCD Control Plane using MySQL as datastore and MinIO as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Providers in PipeCD\nDESCRIPTION: Configuration schema for analysis providers including Prometheus and Datadog integration settings. Defines server addresses, authentication details, and API keys.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nanalysisProvider:\n  prometheus:\n    address: \"http://prometheus:9090\"\n    usernameFile: \"/path/to/username\"\n    passwordFile: \"/path/to/password\"\n  datadog:\n    address: \"datadoghq.com\"\n    apiKeyFile: \"/path/to/api-key\"\n    applicationKeyFile: \"/path/to/app-key\"\n    apiKeyData: \"base64-encoded-key\"\n    applicationKeyData: \"base64-encoded-key\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with MySQL and MinIO in YAML\nDESCRIPTION: YAML configuration for PipeCD Control Plane using MySQL v8 as the datastore and MinIO as the filestore. Specifies database connection details and MinIO access credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Helm (Basic Configuration)\nDESCRIPTION: This Helm upgrade command installs or upgrades PipeCD Piped with basic configuration. It sets up the Piped config, SSH key, and various security contexts. The command disables the default Kubernetes cloud provider and sets the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair required for PipeCD's secret encryption functionality. The private and public keys must be generated before setting up secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in YAML\nDESCRIPTION: Configuration for AWS Lambda platform provider including region specification and optional credentials configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Script Run Stages\nDESCRIPTION: Example configuration showing how to implement SCRIPT_RUN stages within a Kubernetes application pipeline, demonstrating environment variables and command execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: YAML configuration for defining a Kubernetes application in PipeCD with basic settings including name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a basic Kubernetes platform provider in the Piped configuration file. It connects to the Kubernetes cluster where piped is running and watches all predefined resources from all namespaces inside that cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Customizing Lambda Deployment Pipeline with Gradual Rollout in YAML\nDESCRIPTION: Example configuration showing how to customize a Lambda deployment pipeline with gradual traffic promotion. It demonstrates canary rollout with traffic promotion in stages (10%, 50%, 100%) with waiting periods between stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in a Terraform Application\nDESCRIPTION: Example YAML configuration for setting up a deployment chain in a Terraform application. This configuration will trigger all applications named 'application-2' and all Kubernetes applications named 'application-3' after the current deployment completes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Using Analysis Template in Kubernetes Application Config\nDESCRIPTION: Demonstrates how to reference an Analysis Template in a Kubernetes application configuration using the template field within a pipeline stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: PipeCD Application Configuration for BlueGreen Deployment\nDESCRIPTION: This configuration defines a complete blue-green deployment pipeline for a Kubernetes application using Istio for traffic routing. It specifies the stages from deploying the canary version, routing traffic, waiting for approval, updating the primary version, and cleaning up resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure PipeCD to send notifications to external services via webhooks. It includes an example of routing all events to a webhook receiver and specifies the webhook URL and signature value.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for enabling canary deployment. It specifies the pipeline stages including canary rollout, approval, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Sync for Lambda Application\nDESCRIPTION: Example configuration for a Lambda application using Custom Sync stage with SAM deployment commands. Shows how to set up environment variables and deployment scripts within the pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Threshold Strategy for Automated Deployment Analysis in Kubernetes\nDESCRIPTION: Example of configuring an ANALYSIS stage in a PipeCD pipeline using the THRESHOLD strategy. This analyzes metrics from Prometheus to evaluate error rates over a 30-minute duration with measurements every 5 minutes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in Kubernetes Deployment Pipeline\nDESCRIPTION: Example configuration showing how to add a WAIT stage in a Kubernetes deployment pipeline. The WAIT stage is configured with a duration of 5 minutes between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade Feature using Helm in Bash\nDESCRIPTION: This Helm command installs Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console. The command includes similar configuration options as the basic installation, with the addition of the launcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Creating Analysis Template Configuration in YAML\nDESCRIPTION: Configuration for defining analysis templates in PipeCD. Specifies metrics with providers, intervals, and failure criteria.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Secret Management in PipeCD\nDESCRIPTION: YAML configuration for enabling secret management in Piped, specifying the key pair type and file paths for the public and private keys.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: Configuration example showing how to set up Slack notifications for PipeCD events. Demonstrates routing different events to specific Slack channels based on environment labels and event types.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install PipeCD Control Plane with configuration and secret files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config Features\nDESCRIPTION: This Helm command installs or upgrades Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading config from a remote Git repository. The Piped instance automatically restarts when the config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade Feature\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability, which allows upgrading Piped to new versions directly from the web console. Config updates still require manual restart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for sending PipeCD events to Slack channels. It includes examples for sending all events with specific labels to different Slack channels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Remote Git Helm Chart\nDESCRIPTION: Kubernetes application configuration that uses a Helm chart from a different Git repository. It specifies the Git repository URL, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Analysis Metrics Configuration\nDESCRIPTION: Configuration structure for defining analysis metrics including provider settings, query parameters, and expected results for deployment analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_9\n\nLANGUAGE: yaml\nCODE:\n```\nprovider: \"prometheus\"\nstrategy: \"THRESHOLD\"\nquery: \"sum(rate(http_requests_total{job=\\\"app\\\"}[5m]))\"\nexpected:\n  min: 0\n  max: 100\ninterval: \"5m\"\nfailureLimit: 1\nskipOnNoData: false\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run provider that specifies the Google Cloud project, region, and service account credentials for accessing Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in PipeCD YAML\nDESCRIPTION: Example YAML configuration for a Terraform application that triggers a deployment chain. It demonstrates how to configure the postSync.chain section to trigger deployments of other applications based on name and kind filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure a Kubernetes application in PipeCD to use a Helm chart from a Helm chart repository. It specifies the repository, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT_APPROVAL Stage in PipeCD Kubernetes Application\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT_APPROVAL stage to a PipeCD Kubernetes application deployment pipeline. It includes configuration for timeout and approvers, placed between canary and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Management\nDESCRIPTION: Commands to generate the required RSA key pair for secret encryption and decryption in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Deployment with Container Image in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment using a container image. It specifies function details like name, image, role, memory, timeout, tags, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  ephemeralStorage:\n    size: 512\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Arguments for CANARY_BASELINE Strategy\nDESCRIPTION: This snippet shows how to define custom arguments for both baseline and canary variants when using the CANARY_BASELINE strategy. These custom arguments can be referenced in the query using the Go template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with PREVIOUS Strategy in Kubernetes App\nDESCRIPTION: Example configuration for the PREVIOUS strategy in the ANALYSIS stage. This approach compares current metrics with those from the last successful deployment, failing if the current error rate is higher than the previous deployment over a 30-minute duration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Creating Piped Configuration YAML for Cloud Run\nDESCRIPTION: This YAML configuration defines the Piped instance settings including project ID, API connection details, Git repository access, and optional platform providers for Cloud Run applications. It needs to be customized with your specific values before deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in PipeCD\nDESCRIPTION: Configuration schema for secret management using key pairs or GCP KMS. Includes settings for RSA keys and their file paths or base64 encoded data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nsecretManagement:\n  type: \"KEY_PAIR\"\n  config:\n    privateKeyFile: \"/path/to/private.key\"\n    privateKeyData: \"base64-encoded-key\"\n    publicKeyFile: \"/path/to/public.key\"\n    publicKeyData: \"base64-encoded-key\"\n```\n\n----------------------------------------\n\nTITLE: Generating Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a public-private key pair for secret encryption in PipeCD. This is a prerequisite for using the secret management feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the Istio VirtualService configuration that initially routes all traffic to the primary subset for blue-green deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: Example configuration for setting up Slack notifications in PipeCD. Shows multiple route configurations for different environments and various receiver setups including webhook URLs, OAuth tokens, and mentioned accounts/groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedGroups:\n            - 'group1'\n            - '<!subteam^group2>'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-both-accounts-and-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - 'user1'\n            - '@user2'\n          mentionedGroups:\n            - 'groupID1'\n            - '<!subteam^groupID2>'\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD YAML\nDESCRIPTION: Sample configuration for a Terraform application in PipeCD. The configuration file must be suffixed with .pipecd.yaml and defines the application name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for TerraformApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/terraform/\n\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Roles for Piped on Google Cloud\nDESCRIPTION: These commands create a new Service Account for Piped and assign necessary IAM roles for accessing secrets, logging, and optionally managing Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC Stage for Lambda Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a CUSTOM_SYNC stage for a Lambda application in PipeCD. It includes environment variables and custom deployment commands using AWS SAM.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Defining Notifications Configuration in YAML\nDESCRIPTION: Specifies the configuration structure for Notifications in PipeCD. It includes fields for notification routes and receivers, including Slack and webhook configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\nNotifications:\n  routes:\n    - name: \"string\"  # Required: Name of the route\n      receiver: \"string\"  # Required: Name of the receiver\n      events: [\"string\"]  # Optional: Events to route\n      ignoreEvents: [\"string\"]  # Optional: Events to ignore\n      # Additional fields for filtering\n  receivers:\n    - name: \"string\"  # Required: Name of the receiver\n      slack:\n        hookURL: \"string\"  # Required: Slack webhook URL\n        # Additional Slack configuration fields\n      webhook:\n        url: \"string\"  # Required: Webhook URL\n        # Additional webhook configuration fields\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane on Kubernetes\nDESCRIPTION: Commands to create a namespace and deploy the PipeCD control plane components using kubectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl create namespace pipecd\n$ kubectl apply -n pipecd -f https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: PipeCD Control Plane Configuration with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD Control Plane using Google Firestore as datastore and Google Cloud Storage as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT_APPROVAL Stage in Kubernetes Application Pipeline\nDESCRIPTION: Example configuration for adding a manual approval stage in a PipeCD Kubernetes application pipeline. The stage requires approval from a specific user before proceeding to primary rollout, with a configurable timeout period.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App for Quick Sync with Helm Chart\nDESCRIPTION: A basic Kubernetes application configuration that uses a Helm chart from a repository. Without a pipeline specification, this configuration will trigger quick sync deployments for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Canary Deployment Pipeline\nDESCRIPTION: YAML configuration for a gradual canary deployment of an ECS application. Defines a pipeline with stages for canary rollout, traffic routing, analysis, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for an Amazon ECS platform provider in the piped configuration file. It requires the region name and optionally includes AWS credential configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with THRESHOLD Analysis\nDESCRIPTION: Full pipeline configuration showing canary deployment with threshold-based analysis of CPU usage metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Includes in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to specify which EventWatcher files Piped should use. It includes a specific directory pattern and sets a custom commit message.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with CANARY_BASELINE Strategy\nDESCRIPTION: Complete pipeline configuration showing canary deployment with baseline comparison using CANARY_BASELINE analysis strategy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Enabling Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable the secret management feature in the Piped configuration file. This specifies the type of secret management (KEY_PAIR) and the paths to the private and public key files within the Piped container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes labels and selectors for PipeCD to manage canary deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Adding a new application with pipectl\nDESCRIPTION: Adds a new Kubernetes application to the PipeCD project by specifying application details and repository information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as an Analysis Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure Datadog as an analysis provider in the Piped configuration file. It specifies the provider name, type, and paths to the required API key and application key files for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary Release Strategy for ECS Deployment in PipeCD\nDESCRIPTION: Configuration for implementing a canary release strategy for ECS deployments in PipeCD. It includes stages for canary rollout, traffic routing, analysis, primary rollout, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0004-ecs-deployment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinition: path/to/servicedef.json\n    taskDefinition: path/to/taskdef.json\n    targetGroups:\n      primary:\n        targetGroupArn: {PRIMARY_TARGET_GROUP_ARN}\n        containerName: service\n        containerPort: 80\n      canary:\n        targetGroupArn: {CANARY_TARGET_GROUP_ARN}\n        containerName: service\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 10% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 10%\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for Lambda Application Deployment\nDESCRIPTION: IAM policy defining the required permissions for deploying Lambda applications. Includes permissions for managing Lambda functions, aliases, versions, and tags. Also includes PassRole permissions for the Lambda function role.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:ListFunctions\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in YAML\nDESCRIPTION: Configuration for an AWS Lambda platform provider with region specification and credential settings for AWS authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC for Lambda Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a CUSTOM_SYNC stage for a Lambda application in PipeCD. It includes environment variables and custom deployment commands using AWS SAM.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Piped YAML Configuration\nDESCRIPTION: YAML configuration file for PipeCD Piped defining project settings, API connections, Git repositories, and platform providers. Includes optional configurations for Terraform and secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD YAML\nDESCRIPTION: This YAML snippet demonstrates how to configure PipeCD to send notifications to Slack channels. It includes route configurations for different environments and event types, as well as receiver configurations for Slack webhook URLs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD YAML\nDESCRIPTION: This YAML snippet shows how to configure Prometheus as an analysis provider in the Piped configuration. It includes setting the provider name, type, and the address of the Prometheus server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: Configuration example for setting up Prometheus as an analysis provider in PipeCD. Specifies the provider name, type, and server address for metrics querying.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Homebrew Package Manager\nDESCRIPTION: This snippet demonstrates how to install pipectl using the Homebrew package manager, including adding the tap, updating, and installing the package.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\nbrew update\n```\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring Previous Strategy Analysis Stage in Kubernetes\nDESCRIPTION: Example configuration for PREVIOUS strategy that compares current metrics with the last successful deployment metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Sets up an Istio VirtualService that initially routes 100% of traffic to the primary variant. This will be modified by PipeCD during the canary deployment process to gradually shift traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Kubernetes platform provider in the PipeCD configuration file. It specifies a name and type for the provider, which will connect to the Kubernetes cluster where PipeCD is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the VirtualService configuration that controls traffic routing between deployment variants. Initially routes all traffic to the primary subset.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications\nDESCRIPTION: YAML configuration for setting up Slack as an alert notification receiver in AlertManager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Git Repositories\nDESCRIPTION: This command shows how to install piped using Helm with a private SSH key configured to access private Git repositories. It sets the piped configuration file, piped key file, and the private SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration for an AWS Lambda platform provider in the piped configuration file. It requires the region name and optionally includes AWS credential configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: Configuration for an Amazon ECS platform provider named 'ecs-dev'. It requires the ECS cluster region and provides options for AWS credential configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining SecretManagement Configuration in YAML\nDESCRIPTION: Specifies the configuration structure for SecretManagement in PipeCD. It includes fields for the management type and specific configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nSecretManagement:\n  type: \"string\"  # Required: Management method (default: \"KEY_PAIR\")\n  config:\n    # Configuration depends on the type selected\n    # For KEY_PAIR:\n    privateKeyFile: \"string\"  # Required: Path to private RSA key file\n    privateKeyData: \"string\"  # Optional: Base64 encoded private RSA key\n    publicKeyFile: \"string\"  # Required: Path to public RSA key file\n    publicKeyData: \"string\"  # Optional: Base64 encoded public RSA key\n```\n\n----------------------------------------\n\nTITLE: Previous Deployment Comparison Analysis in PipeCD\nDESCRIPTION: Configuration for comparing metrics against previous successful deployment data. Uses error rate comparison with HIGH deviation detection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: ECS Service and Task Definition Structure\nDESCRIPTION: Configuration structure for AWS ECS service and task definition files, with support for both YAML and JSON formats. Includes specifications for target groups and load balancer configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nserviceDefinitionFile: service.json\ntaskDefinitionFile: taskdef.json\ntargetGroups:\n  primary:\n    targetGroupArn: \"arn:aws:elasticloadbalancing:...\"\n    containerName: \"web\"\n    containerPort: 8080\n  canary:\n    targetGroupArn: \"arn:aws:elasticloadbalancing:...\"\n    containerName: \"web\"\n    containerPort: 8080\n```\n\n----------------------------------------\n\nTITLE: AWS IAM Permissions for ECS Application Deployment\nDESCRIPTION: Defines the required IAM policy permissions for deploying ECS applications through PipeCD. Includes permissions for ECS service management, task handling, and load balancer operations. Note that permissions must be attached to the piped task's task role when running as an ECS task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskDefinition\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:DescribeTasks\",\n                \"ecs:ListClusters\",\n                \"ecs:ListServices\",\n                \"ecs:ListTasks\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration that implements the blue-green deployment strategy with staged rollout, traffic routing, and cleanup phases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example showing how to configure event watching for Helm chart version updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Kubernetes Canary Deployment Pipeline\nDESCRIPTION: Defines the PipeCD application configuration for implementing canary deployment strategy with traffic routing and approval stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application Quick Sync\nDESCRIPTION: Example configuration for quick sync deployment of an ECS application with service definition and task definition files. Includes configuration for target groups and load balancer integration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Complete Canary-Baseline Analysis Pipeline\nDESCRIPTION: Full pipeline configuration implementing canary deployment with baseline comparison, including rollout and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD\nDESCRIPTION: Commands to generate an encryption key required by PipeCD for encrypting sensitive data and signing JWT tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Kubernetes App Configuration with Local Helm Chart\nDESCRIPTION: Configuration for a Kubernetes application using a Helm chart located in the same git repository as the application directory. This approach loads the chart from a local path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in PipeCD Kubernetes Deployment\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT_APPROVAL stage to a Kubernetes deployment pipeline in PipeCD. It shows the stage placement, timeout setting, and approver configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application for Quick Sync Deployment\nDESCRIPTION: YAML configuration for a simple ECS application using quick sync deployment. It defines the application name, labels, and input parameters including service definition file, task definition file, and target group information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Configuring OCI-based Helm Chart Registry with Authentication\nDESCRIPTION: This snippet shows how to add an OCI-based Helm chart registry to the piped configuration file. It includes authentication settings with username and password for the registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Kubernetes Application Configuration (YAML)\nDESCRIPTION: This snippet demonstrates how to define event handling in the application configuration file. It specifies that when a 'helloworld-image-update' event occurs, the image field in the deployment.yaml file should be updated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped TaskDefinition with Remote-upgrade for ECS Fargate\nDESCRIPTION: JSON task definition for Piped with Remote-upgrade feature enabled, using the launcher container that allows upgrading Piped to a new version from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: The basic structure of a piped configuration file with required fields for project and piped identification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring THRESHOLD Strategy Analysis Stage in Kubernetes\nDESCRIPTION: Example configuration for implementing a threshold-based analysis stage in a Kubernetes application pipeline. The stage monitors HTTP error rates over a 30-minute duration with 5-minute intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a custom deployment pipeline for a Cloud Run application in PipeCD. It specifies a gradual rollout strategy with traffic percentage increases and wait periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Example: Updating Helm Chart Version with EventWatcher\nDESCRIPTION: Complete example of a Kubernetes application configuration that uses event watcher to automatically update Helm chart versions when a new version is released.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Specification in YAML\nDESCRIPTION: This snippet shows the structure of a service.yaml file for Cloud Run, which specifies the service configuration including container image, resources, and scaling settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Deploying Source Code Directly as Lambda Function Configuration in YAML\nDESCRIPTION: A sample function.yaml that configures direct deployment from source code. It specifies a git repository source, reference commit, handler, runtime, and other Lambda function parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task for Quick Sync in YAML\nDESCRIPTION: This YAML configuration defines an ECS standalone task for quick sync deployment. It specifies the task name, labels, task definition file, cluster ARN, and network configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in app.pipecd.yaml\nDESCRIPTION: Configuration in app.pipecd.yaml to ignore specific fields during drift detection. This example ignores the replicas count and container arguments in the drift detection process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: PipeCD Drift Detection Configuration\nDESCRIPTION: Configuration in app.pipecd.yaml for ignoring specific fields during drift detection, using field paths to specify which differences should be ignored.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with YAML\nDESCRIPTION: YAML configuration file for setting up a Piped instance. Includes project settings, authentication, Git repository configuration, and sync intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT stage in PipeCD Kubernetes Deployment Pipeline\nDESCRIPTION: This snippet demonstrates how to add a WAIT stage in a PipeCD Kubernetes deployment pipeline. The configuration uses a duration field to specify how long (5 minutes in this example) the pipeline should pause before proceeding to subsequent stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment Strategy\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for implementing a canary deployment strategy. It specifies stages for canary rollout, approval, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration with a pipeline for blue-green deployment, including stages for rollout, traffic routing, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications in YAML\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to Slack. It includes global settings for the Slack webhook URL, routing configuration, and receiver details for the Slack channel.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Deployment Pipeline\nDESCRIPTION: Configuration for a gradual deployment pipeline that implements canary rollout with traffic shifting from 10% to 100%.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Creating Piped Agent Resource\nDESCRIPTION: Define a Piped agent resource with name, description, and ID configuration using the pipecd_piped resource type.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: Configuration example showing how to set up Slack notifications in PipeCD with multiple routes and receivers. Demonstrates usage of labels for filtering events and different Slack integration methods including webhook URLs and OAuth tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the piped configuration file using the ChartRepository struct. It enables the official chart repository of PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring PREVIOUS Strategy Analysis Stage in Kubernetes\nDESCRIPTION: Configuration example for comparing metrics with previous successful deployments using the PREVIOUS strategy. Monitors error rates and fails if current metrics are higher than previous deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure an AWS ECS platform provider by specifying the region, profile, and credentials file. Similar to Lambda, PipeCD provides multiple authorization methods for ECS, including environment variables and instance roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Example EventWatcher for Helm chart version updates\nDESCRIPTION: This YAML configuration demonstrates how to set up event watching for Helm chart version updates. It defines a KubernetesApp with EventWatcher configured to update the Helm chart version when a specific event is received.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Environment with Encrypted Secret in PipeCD\nDESCRIPTION: YAML configuration for a Lambda function in PipeCD, demonstrating how to use an encrypted secret as an environment variable. It shows how to access the encrypted secret using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with labels in .pipe directory\nDESCRIPTION: This YAML configuration shows how to use labels in the EventWatcher configuration to create unique event identifiers. It defines an event with environment and application name labels for more specific targeting.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Basic Metric Analysis with THRESHOLD Strategy\nDESCRIPTION: Example configuration for metric analysis using the THRESHOLD strategy. Monitors error rate over a 30-minute duration with 5-minute intervals against a static threshold.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in YAML\nDESCRIPTION: AWS ECS provider configuration specifying region, profile, and credentials file location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Base Configuration\nDESCRIPTION: Basic Piped configuration file that defines project settings, API connections, Git repositories, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in PipeCD\nDESCRIPTION: Configuration for setting up analysis templates with metrics definitions, including providers, intervals, and failure limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest for PipeCD\nDESCRIPTION: Example of a Kubernetes Secret manifest using an encrypted secret stored in PipeCD. It demonstrates how to access the encrypted secret using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML\nDESCRIPTION: Example of defining an AnalysisTemplate that configures HTTP error rate monitoring using Prometheus. The template includes metric specifications with interval, provider, and query parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for BlueGreen Deployment Strategy in Kubernetes\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for a blue-green deployment strategy. It specifies the deployment pipeline stages, including canary rollout, traffic routing, approval, primary rollout, and cleanup. It also configures Istio as the traffic routing method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Remote Helm Chart Repository Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a Helm chart repository with specific version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Encrypted Secrets in Application YAML\nDESCRIPTION: YAML configuration for specifying encrypted secrets and decryption targets in an application. It includes a list of encrypted secrets and files that should be decrypted by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring CANARY_BASELINE Analysis\nDESCRIPTION: Example showing how to configure analysis comparing metrics between Canary and Baseline variants using templated queries for variant-specific monitoring.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Kubernetes App Configuration with Event Watcher\nDESCRIPTION: Complete example of Kubernetes application configuration with event watcher for Helm chart updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Control Plane Configuration for MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD Control Plane using MySQL as the datastore and MinIO as the filestore. Includes connection settings, database name, credentials, and bucket configuration with auto-creation option.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service on Single Machine\nDESCRIPTION: Command to start the Piped service using the configuration file. This launches the Piped agent which connects to the control plane and monitors specified Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure of a Terraform application configuration in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Multi-Environment Deployment Chain in PipeCD\nDESCRIPTION: This set of YAML snippets demonstrates how to configure a deployment chain across multiple environments (dev, staging, prod) in PipeCD. It includes configurations for applications in each environment, using labels to differentiate between them.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0007-deployment-chain.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: x\nspec:\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        - name: x\n          labels:\n            - env: stag # need to add labels <env:stag> to application X-2 to separate it with others.\n        - name: x\n          labels:\n            - env: prod # need to add labels <env:prod> to application X-3 to separate it with others.\n      conditions:\n        - commitPrefix: \"Trigger chain\"\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: x\nlabels:\n  - env: stag\nspec:\n  pipeline:\n    ...\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: x\nlabels:\n  - env: prod\nspec:\n  pipeline:\n    ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Mode\nDESCRIPTION: This YAML configuration extends the basic Piped config to include a Kubernetes platform provider, limiting Piped's access to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Running Plan Preview with pipectl Command in PipeCD\nDESCRIPTION: Command to request a plan-preview using the pipectl CLI tool. It requires the PipeCD control plane address, API key, repository details, and branch information to generate a preview of deployment changes that would occur if the pull request is merged.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH } \\\n  --sort-label-keys={ SORT_LABEL_KEYS }\n```\n\n----------------------------------------\n\nTITLE: Executing External Script File in PipeCD\nDESCRIPTION: Configuration example showing how to execute an external script file within a SCRIPT_RUN stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Secret Management in PipeCD\nDESCRIPTION: YAML configuration for enabling secret management in Piped, a component of PipeCD. It specifies the locations of the public and private key files used for secret encryption and decryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Quick Sync\nDESCRIPTION: Example configuration for ECS application deployment using quick sync strategy. Shows both service-based and standalone task configurations with necessary AWS resource specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped without Remote-upgrade on Cloud Run in YAML\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped without the remote-upgrade feature. It specifies container settings, resource limits, and mounts the configuration from Secret Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped YAML\nDESCRIPTION: This YAML snippet shows how to configure the 'piped' component to use the 'master' branch of the 'pipe-cd/examples' repository for deployments. It specifies the repository ID, remote URL, and branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for Canary Deployment with Istio\nDESCRIPTION: Defines a KubernetesApp configuration for PipeCD that enables canary deployment with Istio. The pipeline includes stages for canary rollout, traffic routing, manual approval, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the piped configuration file, enabling applications to use charts from that repository. The example adds the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD with MySQL and MinIO\nDESCRIPTION: Alternative YAML configuration using MySQL as the datastore and MinIO as the filestore. Requires MySQL v8 and appropriate MinIO credentials for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This snippet shows the basic structure of a Kubernetes application configuration in PipeCD. It includes fields for input, pipeline, and other application-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with THRESHOLD Analysis\nDESCRIPTION: Full pipeline configuration demonstrating canary deployment with metrics analysis using the THRESHOLD strategy, including rollout and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with CANARY_BASELINE strategy in Kubernetes\nDESCRIPTION: This example shows how to configure the ANALYSIS stage using the CANARY_BASELINE strategy. It compares metrics between Canary and Baseline variants, using Go templating for variant-specific queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: This YAML configuration sets up a Datadog analysis provider for PipeCD. It defines the provider name, type, and the file paths for the Datadog API key and application key that Piped will use to access Datadog metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable secret management in Piped using the key pair authentication method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example showing how to configure EventWatcher to update Helm chart versions automatically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Configuring Encrypted Secrets in Application YAML\nDESCRIPTION: YAML configuration to specify encrypted secrets and decryption targets in an application's configuration file. This allows PipeCD to manage and use encrypted secrets for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the configuration file structure for a Cloud Run application in PipeCD. It includes the API version, kind, and basic spec fields like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote Upgrade and Remote Config using Helm\nDESCRIPTION: This Helm command deploys Piped with both remote upgrade and remote config features enabled. It allows upgrading Piped from the web console and loading Piped config from a remote Git repository. The command includes additional settings for Git repository configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines an Istio DestinationRule that specifies primary and canary subsets based on the pipecd.dev/variant label. This configuration is required to support the traffic routing between different variants during blue-green deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration with pipeline stages for implementing blue-green deployment strategy using Istio traffic routing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in PipeCD\nDESCRIPTION: This snippet shows the configuration structure for an analysis template in PipeCD. It includes fields for defining metrics and their analysis parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in Kubernetes Deployment Pipeline\nDESCRIPTION: This YAML configuration shows how to add a WAIT_APPROVAL stage to a Kubernetes application deployment pipeline. It demonstrates setting up approvers and timeout parameters, requiring specific user approval before the primary rollout stage can execute.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Defining Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule resource for a canary deployment. It specifies two subsets (primary and canary) based on the 'pipecd.dev/variant' label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Secret Management in YAML\nDESCRIPTION: YAML configuration for enabling secret management in Piped. It specifies the type of secret management (KEY_PAIR) and the paths to the private and public key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD Piped\nDESCRIPTION: YAML configuration for setting up various Slack notification routes and receivers in PipeCD. The example shows how to route events based on labels and specific event types to different Slack channels, and includes multiple receiver configurations with webhook URLs, OAuth tokens, and mentioned accounts/groups options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedGroups:\n            - 'group1'\n            - '<!subteam^group2>'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-both-accounts-and-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - 'user1'\n            - '@user2'\n          mentionedGroups:\n            - 'groupID1'\n            - '<!subteam^groupID2>'\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in Namespaced Mode with YAML\nDESCRIPTION: A Piped configuration file for namespaced mode that includes a platform provider configuration to restrict access within a specific namespace. This configuration is used when you want to limit Piped's permissions to its own namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Analysis Pipeline with Threshold Strategy\nDESCRIPTION: Full pipeline configuration showing canary deployment with threshold-based analysis and rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for ECS Fargate Deployment (YAML)\nDESCRIPTION: YAML configuration file for Piped, including project settings, API address, Git repositories, and optional platform providers. This configuration is used when creating the Piped task on ECS Fargate.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for adding a Cloud Run provider that specifies the GCP project, region, and service account credentials for accessing Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Enabling Secret Management in PipeCD Configuration\nDESCRIPTION: YAML configuration for enabling secret management in PipeCD. It specifies the type as KEY_PAIR and provides paths to the private and public key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Custom Deployment Pipeline\nDESCRIPTION: YAML configuration for an ECS application with a custom deployment pipeline. It defines a gradual rollout strategy using canary deployment, traffic routing, analysis, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for Slack in PipeCD. It shows various scenarios including sending events with specific labels to different channels, configuring OAuth tokens, and setting up mentioned accounts and groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedGroups:\n            - 'group1'\n            - '<!subteam^group2>'\n      - name: integration-slack-api-with-oauthTokenData-and-mentioned-both-accounts-and-groups\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - 'user1'\n            - '@user2'\n          mentionedGroups:\n            - 'groupID1'\n            - '<!subteam^groupID2>'\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target File\nDESCRIPTION: Example of how to reference attached configuration content within a target file using template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Function Deployment Pipeline in YAML\nDESCRIPTION: This YAML configuration defines a custom deployment pipeline for a Lambda application. It specifies stages for canary rollout, gradual traffic promotion, and wait periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for enabling canary deployment. It specifies the deployment stages including canary rollout, approval wait, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Syncing an application and waiting for deployment status\nDESCRIPTION: This snippet demonstrates how to use pipectl to sync an application and wait for specific deployment statuses. It shows two variations: one that exits immediately after triggering the deployment, and another that waits for specified statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This configuration snippet demonstrates how to set up a Terraform platform provider in PipeCD. It includes a list of shared Terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Lambda Application in PipeCD\nDESCRIPTION: Example of a customized deployment pipeline configuration for a Lambda application that implements a gradual rollout. The pipeline includes canary deployment, staged traffic promotion, and wait periods between traffic percentage increases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: PipeCD ECS Application Configuration with Attachment\nDESCRIPTION: ECS application configuration demonstrating how to specify attachment sources and targets in PipeCD manifest.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider Configuration\nDESCRIPTION: This snippet shows how to configure the PipeCD Terraform provider with required provider blocks. It specifies the provider source, version requirements, and optional configuration for host and API key that can alternatively be set through environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Example pipeline with THRESHOLD strategy for Canary analysis in Kubernetes\nDESCRIPTION: This snippet provides a complete pipeline configuration using the THRESHOLD strategy for analyzing a Canary deployment in a Kubernetes application. It includes stages for Canary rollout, analysis, primary rollout, and Canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Google Cloud VM in YAML\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API address, Git repository information, and optional platform providers for Cloud Run and Terraform. It also includes a section for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Kubernetes App Configuration with Remote Git Helm Chart\nDESCRIPTION: Configuration for a Kubernetes application using a Helm chart from a different git repository. This approach loads the chart from a specified git repo with reference and path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to Slack. It includes the Slack webhook URL, routing configuration, and receiver settings for the Slack channel.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Datadog as an analysis provider in PipeCD. Specifies the provider name, type, and paths to API key and application key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Defining RBAC Policy Format in YAML\nDESCRIPTION: This snippet demonstrates the format for defining Role-Based Access Control (RBAC) policies in PipeCD. It shows how to specify resources and actions for a role.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\n----------------------------------------\n\nTITLE: Configuring Quick Sync for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a basic Kubernetes application setup in PipeCD without a pipeline, which will trigger a quick sync deployment for any pull request.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for a Cloud Run platform provider in the piped configuration file. It requires the Google Cloud project name, region, and optionally a service account file for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Application Configuration for Canary Deployment\nDESCRIPTION: Configures a Kubernetes application with a staged canary deployment pipeline using PipeCD. The pipeline includes canary rollout, traffic shifting, approval gates, and cleanup stages, with Istio as the traffic routing method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It defines the apiVersion and kind, with a spec section that contains projectID and pipedID fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines Istio VirtualService configuration that controls traffic routing between primary and canary deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in YAML\nDESCRIPTION: This snippet demonstrates how to configure PipeCD to ignore specific fields during drift detection by adding statements to the app.pipecd.yaml file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with YAML\nDESCRIPTION: A sample YAML configuration for Piped showing essential settings including project ID, Piped ID, key file paths, API address, Git settings, and repository configuration. The syncInterval parameter controls how often Piped synchronizes with repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for PipeCD Internal Use\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for PipeCD's internal use, particularly for GKE Ingress scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in PipeCD\nDESCRIPTION: Basic configuration for adding a Kubernetes cloud provider that connects to the local cluster where piped is running. This provider watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in application configuration for Kubernetes\nDESCRIPTION: This YAML snippet shows how to define event watching behavior directly in a Kubernetes application configuration. It specifies a matcher for the event name and a handler that updates a deployment image field when triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config Features using Helm in Bash\nDESCRIPTION: This Helm command installs Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading Piped config from a remote Git repository. The command includes additional settings for Git repository configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Kubernetes Application Configuration\nDESCRIPTION: Example of defining event watcher functionality directly in the Kubernetes application configuration, specifying which event to watch for and what field to update in the deployment file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Standard Piped TaskDefinition for ECS Fargate\nDESCRIPTION: JSON task definition for standard Piped installation without remote-upgrade capability. This configuration requires manual restart of the task to upgrade Piped to a new version or update configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PREVIOUS Strategy Analysis Stage in Kubernetes App\nDESCRIPTION: Example configuration for implementing a metrics-based analysis stage using the PREVIOUS strategy to compare current metrics with previous deployment metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC Stage for Lambda Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a CUSTOM_SYNC stage for a Lambda application in PipeCD. It includes environment variables and commands to build and deploy a SAM application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Downloading and Installing pipectl CLI for PipeCD\nDESCRIPTION: This snippet shows how to download the pipectl binary for a specific OS, make it executable, and move it to the system PATH.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring Multi-Target QuickSync in app.pipecd.yaml\nDESCRIPTION: Configuration for deploying to multiple clusters using QuickSync. The multiTarget section defines different target clusters, their respective platform providers, and manifest directories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0014-multi-cluster-deployment-for-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: microservice-a\n  labels:\n    env: prd\n    team: product\n  quickSync:\n    prune: true\n  input:\n    multiTarget:\n      - targetID: hoge\n        provider:\n          name: cluster-hoge # platform provider name\n        manifests: ./cluster-hoge # the resource dir\n        kubectlVersion: 1.30\n        kustomizeDir: ./cluster-hoge\n        kustomizeVersion: v5.4.3\n        kustomizeOptions:\n          enable-helm: \"\"\n          load-restrictor: \"LoadRestrictionsNone\"\n      - targetID: fuga\n        provider:\n          name: cluster-fuga # platform provider name\n        kubectlVersion: 1.30\n        kustomizeDir: ./cluster-fuga\n        kustomizeVersion: v5.4.3\n        kustomizeOptions:\n          enable-helm: \"\"\n          load-restrictor: \"LoadRestrictionsNone\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: This YAML configuration file sets up Piped with project ID, Piped ID, key file paths, API address, Git repository details, and sync interval. It's essential for initializing Piped on a single machine.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade using Helm in Cluster-wide Mode\nDESCRIPTION: Helm command for installing Piped with remote-upgrade capability in cluster-wide mode. This allows upgrading Piped to a new version from the web console but still requires manual configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Templates in PipeCD\nDESCRIPTION: YAML configuration for an Analysis Template in PipeCD. This example includes a metric template with prometheus provider, defining failure limits and expected thresholds for monitoring.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment\nDESCRIPTION: Configuration example for deploying a Lambda function using a .zip file stored in AWS S3. This defines the function name, IAM role, S3 location details, handler, runtime, memory, timeout, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with PREVIOUS Strategy in PipeCD\nDESCRIPTION: This snippet shows the configuration for an ANALYSIS stage using the PREVIOUS strategy. It compares current metrics with those from the last successful deployment, using deviation as the evaluation criteria.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Initializing Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It includes the apiVersion and kind, with a spec section that contains various configuration options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML configuration creates an Istio DestinationRule that defines primary and canary subsets based on the 'pipecd.dev/variant' label. It enables mutual TLS between services and is required for blue-green deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Base configuration structure for managing Terraform deployments in PipeCD, including input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes post-sync chain configurations to trigger deployments for other applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in PipeCD YAML\nDESCRIPTION: Example configuration for setting up a deployment chain in PipeCD using postSync.chain section. This configuration triggers deployments for application-2 and application-3 (Kubernetes) after the main deployment completes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task Application\nDESCRIPTION: This YAML configuration defines an ECS standalone task application. It specifies the task name, labels, task definition file, cluster ARN, and AWS VPC configuration settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in YAML\nDESCRIPTION: This snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService resource that initially routes all traffic to the primary subset. It's used as a starting point for the canary deployment process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Quick Sync for Kubernetes App in PipeCD\nDESCRIPTION: This YAML snippet demonstrates a basic configuration for a Kubernetes application in PipeCD that will use quick sync. It specifies a Helm chart as input without defining a pipeline, which triggers quick sync for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Referencing an Analysis Template in Kubernetes App Configuration\nDESCRIPTION: This snippet demonstrates how to reference an Analysis Template in a Kubernetes application configuration using the 'template' field within the pipeline stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in Namespaced Mode\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability in namespaced mode. This allows upgrading Piped while maintaining namespace restrictions on permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for implementing canary deployment. It specifies stages for rolling out the canary variant, waiting for approval, updating the primary variant, and cleaning up the canary resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML for PipeCD\nDESCRIPTION: Example of defining an Analysis Template that monitors HTTP error rates using Prometheus. The template includes metric configuration with interval, provider, and query parameters using Go templating for dynamic values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN stage in a Kubernetes pipeline\nDESCRIPTION: Example configuration for a Kubernetes application pipeline that includes SCRIPT_RUN stages with environment variables and commands. This demonstrates how to integrate scripts at different points in a canary deployment process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Configuring pipeline with THRESHOLD strategy for canary analysis in PipeCD\nDESCRIPTION: This example shows a complete pipeline configuration using the THRESHOLD strategy to analyze the canary variant. It includes stages for canary rollout, analysis, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in YAML for PipeCD\nDESCRIPTION: Configuration for an AWS Lambda platform provider. It requires specifying the AWS region where Lambda service is running and can include authentication options like profile or credentials file path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container configuration, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for EventWatcher in PipeCD YAML\nDESCRIPTION: This snippet shows how to configure the Piped component to enable EventWatcher for specific Git repositories. It specifies which repositories should be observed for events by listing their repository IDs in the 'gitRepos' section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: ECS Application Configuration in YAML\nDESCRIPTION: Basic structure of an ECS application configuration file for PipeCD. This template includes the required apiVersion and kind fields, with placeholders for input and pipeline specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account for Piped on Google Cloud\nDESCRIPTION: This shell script creates a new service account for Piped and assigns necessary IAM roles. It grants access to the Piped configuration secret, enables logging to Cloud Logging, and includes optional commented commands for enabling Cloud Run deployment permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in PipeCD Kubernetes Application\nDESCRIPTION: This YAML configuration demonstrates how to add a WAIT_APPROVAL stage to a Kubernetes application deployment pipeline in PipeCD. It includes settings for timeout and specifies an approver, requiring approval before the primary rollout stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in YAML\nDESCRIPTION: This snippet demonstrates how to configure a gradual rollout pipeline for a Cloud Run application using PipeCD. It includes stages for promoting traffic percentages and wait periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML\nDESCRIPTION: Example of defining an AnalysisTemplate that monitors HTTP error rates using Prometheus metrics. The template includes metric configuration with interval, provider, and query parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Deploying Container Image as Lambda Function Configuration in YAML\nDESCRIPTION: A sample function.yaml configuration that deploys a containerized Lambda function. It defines required fields like name, image, role, memory, and timeout alongside optional fields like tags and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run Deployment\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API addresses, Git repositories, and optional platform providers for Cloud Run and Terraform. It also includes commented sections for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Defining Basic Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file, including the API version and kind declaration. It demonstrates the use of YAML for configuration and includes placeholders for required fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Function Deployment Pipeline in YAML\nDESCRIPTION: This snippet demonstrates how to configure a custom deployment pipeline for a Lambda application in PipeCD. It includes stages for canary rollout, gradual traffic promotion, and wait periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Standard Piped on Cloud Run\nDESCRIPTION: This Cloud Run service manifest configures a standard Piped installation without remote-upgrade capability. It uses the piped image directly, specifies resource limits, and mounts the configuration from Secret Manager. Upgrading requires manual redeployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment in YAML\nDESCRIPTION: This snippet shows how to configure a function.yaml file for deploying a container image as a Lambda function. It includes required fields such as name, image, role, memory, and timeout, as well as optional fields for tags and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n```\n\n----------------------------------------\n\nTITLE: Executing external script files in a SCRIPT_RUN stage\nDESCRIPTION: Example showing how to execute an external script file that's located in the same directory as your app configuration. This approach is useful for longer scripts that are better maintained as separate files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Cloud Provider in YAML\nDESCRIPTION: Configuration snippet for adding a Kubernetes cloud provider to piped configuration. This example specifies a simple provider that connects to the Kubernetes cluster where piped is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the DestinationRule configuration for Istio that sets up primary and canary subsets based on PipeCD variant labels. This enables traffic routing between deployment variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Prometheus as an analysis provider in PipeCD. Defines the provider name, type, and server address for accessing Prometheus metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Cognito SSO in PipeCD ControlPlane\nDESCRIPTION: YAML configuration for setting up AWS Cognito SSO integration in PipeCD control plane, specifying AWS-specific parameters and OIDC settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://cognito-idp.<AWS_REGION>.amazonaws.com/<USER_POOL_ID>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML\nDESCRIPTION: Example of creating an Analysis Template that defines HTTP error rate metrics configuration using Prometheus as the provider. The template uses Go templating syntax to inject application-specific values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic ECS Deployment with ECS_SYNC Strategy in PipeCD\nDESCRIPTION: A simple configuration for ECS deployment using the ECS_SYNC strategy in PipeCD. This defines the service definition, task definition, and target groups required for deploying to ECS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0004-ecs-deployment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinition: path/to/servicedef.yaml\n    taskDefinition: path/to/taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: {PRIMARY_TARGET_GROUP_ARN}\n        containerName: service\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade and Config in Namespaced Mode\nDESCRIPTION: This Helm command installs Piped with both remote upgrade and remote config features in namespaced mode on Kubernetes. It allows upgrading Piped versions and loading config from a Git repository while restricting permissions to a single namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: Example configuration for setting up webhook notifications to external services in PipeCD. Shows how to configure routes and receivers for webhook integration with signature verification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Environment with Encrypted Secret\nDESCRIPTION: YAML configuration for a Lambda function in PipeCD, demonstrating how to use an encrypted secret as an environment variable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance with a container running the Piped launcher that enables remote-upgrade capability, allowing Piped to be upgraded from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: This command demonstrates how to add a new Kubernetes application to a PipeCD project using pipectl. It includes various parameters such as application name, kind, Piped ID, and repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Defining AnalysisProviderDatadogConfig in YAML\nDESCRIPTION: Specifies the configuration structure for Datadog as an analysis provider in PipeCD. It includes fields for the API server address and authentication keys.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\nAnalysisProviderDatadogConfig:\n  address: \"string\"  # Optional: Datadog API server address (default: \"datadoghq.com\")\n  apiKeyFile: \"string\"  # Required: Path to the API key file\n  applicationKeyFile: \"string\"  # Required: Path to the application key file\n  apiKeyData: \"string\"  # Optional: Base64 API Key\n  applicationKeyData: \"string\"  # Optional: Base64 Application Key\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in YAML\nDESCRIPTION: Configuration snippet for app.pipecd.yaml to ignore specific fields during drift detection. This example ignores the replica count and container arguments for a specific deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with Threshold Analysis\nDESCRIPTION: Example of a full Kubernetes deployment pipeline implementing the THRESHOLD strategy for analysis. The pipeline includes canary rollout, analysis, primary rollout, and canary cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Piped YAML for Google Cloud VM\nDESCRIPTION: This YAML configuration defines the core settings for a Piped agent, including project and authentication details, Git repository access, and optional platform providers for Cloud Run and Terraform applications. The configuration also supports secret management using key pairs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment in YAML\nDESCRIPTION: This snippet illustrates how to configure a function.yaml file for deploying a Lambda function directly from source code stored in a Git repository. It includes settings for the function name, IAM role, source code location, handler, runtime, memory, timeout, and tags.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Executing Piped with Runtime Options\nDESCRIPTION: This snippet shows the usage and available flags for running the Piped component. It includes options for configuration, security, and performance tuning.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Defines Istio DestinationRule configuration that specifies primary and canary subsets based on PipeCD variant labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes Quick Sync Configuration\nDESCRIPTION: Simple configuration for Kubernetes application using Helm chart without pipeline specification, which triggers quick sync deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Remote Helm Chart Repository\nDESCRIPTION: Kubernetes application configuration that uses a Helm chart from a Helm chart repository. It specifies the repository name, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Instance in YAML\nDESCRIPTION: YAML configuration file for setting up a Piped instance. Includes project settings, API connection details, Git repository configuration, and sync interval settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for ECS Fargate Deployment\nDESCRIPTION: This YAML configuration defines the Piped settings, including project ID, API address, Git repositories, and optional platform providers for ECS and Terraform applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Version Update Result (Diff)\nDESCRIPTION: This diff shows the changes made by Event Watcher to update the Helm chart version in the application configuration file. It updates the version from 0.1.0 to 0.2.0 in response to the registered event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_11\n\nLANGUAGE: diff\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n-     version: 0.1.0\n+     version: 0.2.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: Template for the Piped configuration file that includes project settings, control plane connection details, Git repository access, and synchronization parameters. This configuration connects the Piped agent to the PipeCD control plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and some basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Upgrade Path\nDESCRIPTION: Shows the difference in command usage for enabling remote upgrade feature. Instead of using the direct /piped command, the /launcher command must be used to enable remote upgrade capabilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/remote-upgrade-remote-config.md#2025-04-14_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n/launcher\n```\n\nLANGUAGE: plaintext\nCODE:\n```\n/piped\n```\n\n----------------------------------------\n\nTITLE: Using Custom Arguments in Canary-Baseline Analysis in Kubernetes\nDESCRIPTION: Example of using custom arguments in CANARY_BASELINE strategy. This demonstrates how to define and use custom variant-specific arguments in the query template to customize metrics collection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Example Kubernetes App with Helm Chart EventWatcher\nDESCRIPTION: Complete example of a Kubernetes application configuration with EventWatcher that updates the Helm chart version when a new release event is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Sync for AWS Lambda Application\nDESCRIPTION: Example YAML configuration showing how to implement CUSTOM_SYNC for a Lambda application. It demonstrates setting up environment variables, specifying commands to run, and ensuring proper sync behavior using the alwaysUsePipeline parameter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline\nDESCRIPTION: Pipeline configuration for gradually rolling out a new Lambda function version with traffic shifting from 10% to 100%.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Configuration template for deploying applications to Google Cloud Run through PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config features, allowing both version upgrades and configuration updates from Git repositories without manual restarts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Previous Deployment Analysis Pipeline Configuration\nDESCRIPTION: Complete pipeline configuration for analyzing primary variant against previous deployment metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for ECS Fargate Deployment\nDESCRIPTION: This YAML configuration sets up Piped for deployment on ECS Fargate. It includes project settings, API address, Git repository details, and optional platform providers for ECS and Terraform applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration that implements the blue-green deployment strategy with multiple stages including canary rollout, traffic routing, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Metrics Analysis with PREVIOUS Strategy in PipeCD\nDESCRIPTION: This snippet shows the configuration for the ANALYSIS stage using the PREVIOUS strategy. It compares current metrics with those from the last successful deployment, using deviation instead of a static threshold.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP File Lambda Function Deployment in YAML\nDESCRIPTION: This snippet shows how to configure a function.yaml file for deploying a Lambda function using a .zip file archive stored in AWS S3. It includes settings for the function name, IAM role, S3 location, handler, runtime, memory, timeout, environment variables, and tags.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Git Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to use a Helm chart from a different Git repository for a Kubernetes application in PipeCD, specifying the remote Git location, reference, and path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Previous-based Metrics Analysis in PipeCD\nDESCRIPTION: Configuration example showing how to compare current metrics with previous deployment metrics using the PREVIOUS strategy. Monitors HTTP error rates with 5-minute intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for Event Watcher in Piped\nDESCRIPTION: Basic configuration example showing how to specify Git repositories for Piped to watch for events. Each repository is identified by its repoId in the gitRepos list.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Environment with Encrypted Secret\nDESCRIPTION: YAML configuration for a Lambda function that uses an encrypted secret as an environment variable. The KEY environment variable is set using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in PipeCD\nDESCRIPTION: This YAML configuration specifies the Git repositories that Piped should watch for events. It includes multiple repositories identified by their repoIds.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Base configuration structure for deploying Kubernetes applications in PipeCD with fields for input, pipeline, and other deployment settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped in Namespaced Mode using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode, restricting its permissions to a specific namespace and disabling the default Kubernetes cloud provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Lambda Function in PipeCD\nDESCRIPTION: A sample application configuration that defines a custom deployment pipeline for Lambda applications. This pipeline implements a canary deployment with gradual traffic shifting from 10% to 50% and finally 100%.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Quick Sync Deployment\nDESCRIPTION: YAML configuration examples for ECS applications in PipeCD, showing both a standard service deployment and a standalone task deployment using quick sync.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Application Configuration\nDESCRIPTION: Shows how to reference a defined Analysis Template in a Kubernetes application configuration using the template field within an analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Lambda Deployment in PipeCD using Container Images\nDESCRIPTION: Sample deployment configuration for Lambda function deployment in PipeCD. This YAML defines how to deploy a Lambda function using a container image from ECR with a multi-phase canary deployment strategy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0002-lambda-deployment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# https://docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  input:\n    image: xxxxxxxxxxxx.dkr.ecr.ap-northeast-1.amazonaws.com/demoapp:v0.0.1\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Change the traffic routing state where\n      # the new version will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: LAMBDA_TRAFFIC_ROUTING\n        with:\n          newVersion: 10\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Change the traffic routing state where\n      # thre new version will receive 100% of the traffic.\n      - name: LAMBDA_TRAFFIC_ROUTING\n        with:\n          newVersion: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Config\nDESCRIPTION: Basic configuration for adding a Git repository to piped configuration. This example shows how to configure the pipe-cd/examples repository using its master branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in PipeCD Application\nDESCRIPTION: Configuration snippet for app.pipecd.yaml that specifies which fields to ignore during drift detection. This example shows how to ignore changes in replica count and container arguments for a specific deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Configuring a Git Repository in Piped Configuration File\nDESCRIPTION: This YAML configuration shows how to add a Git repository to the Piped configuration. The snippet defines a repository with ID 'examples' pointing to the pipe-cd/examples GitHub repository using its master branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition for Piped\nDESCRIPTION: JSON service definition for controlling Piped task deployment in ECS, including networking and scheduling configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic ECS Application and Standalone Task\nDESCRIPTION: Example configurations for both a basic ECS application with service definition and a standalone Fargate task. Shows required fields including service definitions, task definitions, and target group configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment\nDESCRIPTION: Configuration example for deploying a Lambda function directly from source code in a git repository. This defines the function name, IAM role, git source location, handler, runtime, memory, and timeout settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in YAML\nDESCRIPTION: This snippet shows how to update an existing application's configuration in PipeCD. It demonstrates changing the application name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Deployment in Namespaced Mode\nDESCRIPTION: This YAML configuration extends the basic Piped setup for namespaced mode by adding a platformProviders section that restricts Piped's access to the specified namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Application Configuration with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets and decryption targets in an application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Terraform Provider\nDESCRIPTION: Basic configuration block to set up the PipeCD Terraform provider. Requires specifying the provider source and version, with optional configuration for host name and API key that can be set via environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: Shows the basic structure of a PipeCD Control Plane configuration file, illustrating the required apiVersion and kind fields along with the beginning of the spec section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment using a ZIP file archive stored in AWS S3. It specifies function details including S3 location, handler, runtime, memory, timeout, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to PipeCD Ops Service\nDESCRIPTION: Command to forward a local port to the PipeCD ops service running in Kubernetes, allowing access to the project management interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function directly from source code in a Git repository. Includes source location, runtime, and handler settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: Configuration for an Amazon ECS platform provider that specifies the region where the ECS cluster is running, along with optional profile and credentials file settings for AWS authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: Configuration example for setting up webhook notifications in PipeCD to send events to external services. Shows how to configure a webhook receiver with URL and signature value for security.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD YAML\nDESCRIPTION: This YAML configuration shows how to set up a notification route and receiver for sending all PipeCD events to an external service via webhook. It includes the webhook URL and a signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment directly from source code in a Git repository. It specifies the Git source, function handler, runtime, memory, and timeout settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in YAML\nDESCRIPTION: Configuration for an AWS Lambda platform provider specifying region, profile, and credentials file location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Application with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets and decryption targets in an application configuration file. This example demonstrates the structure for storing encrypted secrets and specifying which files should be processed for decryption by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment in YAML\nDESCRIPTION: This snippet illustrates how to configure a function.yaml file for deploying a Lambda function directly from source code stored in a Git repository. It includes source configuration fields such as git remote, ref, and path, along with function runtime settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring AnalysisTemplate with Custom Arguments in PipeCD\nDESCRIPTION: Example of using an AnalysisTemplate with custom arguments in PipeCD. This allows for reusable analysis configurations across different applications and variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      strategy: CANARY_BASELINE\n      provider: my-prometheus\n      interval: 10m\n      deviation: HIGH\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .AppArgs.Name }}\", bar=\"{{ .VariantArgs.bar }}\"}[10m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .AppArgs.Name }}, bar=\"{{ .VariantArgs.bar }}\"}[10m]))\n      baselineArgs:\n        bar: baz\n      canaryArgs:\n        bar: quz\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets in Lambda Function Environment\nDESCRIPTION: YAML configuration demonstrating how to use encrypted secrets in Lambda function environment variables. The encrypted secret 'key' will be decrypted by Piped and set as an environment variable for the Lambda function.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service for Piped with Remote-upgrade\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped with remote-upgrade capability. It uses the Piped launcher image, sets resource limits, and mounts the configuration as a secret volume.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Role Policies\nDESCRIPTION: This snippet demonstrates the format for defining role policies in PipeCD. Each role is a combination of multiple policies specifying resources and actions. The '*' can be used to represent all resources or all actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=*;actions=ACTION_NAMES\n```\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=RESOURCE_NAMES;actions=*\n```\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Creating a CloudRun Application with Terraform\nDESCRIPTION: This snippet shows how to define a PipeCD application for CloudRun using Terraform. It includes application configuration like name, description, platform, and Git repository settings that define where the application code is stored.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\n// CloudRun Application\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Quick Sync Kubernetes Application Configuration\nDESCRIPTION: Basic Kubernetes application configuration without a pipeline, using a Helm chart input. This setup triggers quick sync deployments for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of a Kubernetes Secret manifest that uses an encrypted secret from PipeCD. It demonstrates how to access the encrypted password using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: ECS Gradual Deployment Pipeline Configuration\nDESCRIPTION: Advanced configuration example showing a gradual rollout pipeline with canary deployment, traffic routing, analysis, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      - name: ANALYSIS\n      - name: ECS_PRIMARY_ROLLOUT\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Pipeline with Primary Analysis using PREVIOUS Strategy in PipeCD\nDESCRIPTION: This snippet shows a pipeline configuration that includes primary rollout and analysis using the PREVIOUS strategy to compare with the last successful deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Secret Management\nDESCRIPTION: YAML configuration for enabling secret management in Piped using key pair authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in PipeCD Kubernetes Deployment Pipeline\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT stage to a PipeCD deployment pipeline for a Kubernetes application. The WAIT stage is configured with a duration of 5 minutes, positioned between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Lambda Function Configuration with Encrypted Secrets\nDESCRIPTION: Example of configuring Lambda function environment variables using encrypted secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM\nDESCRIPTION: A YAML configuration file for Piped that specifies project settings, API connection details, Git repository access, and optional platform providers for Cloud Run and Terraform applications. It also includes commented sections for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration structure for a Terraform application in PipeCD. It includes fields for input, pipeline, and other Terraform-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: Example YAML showing how to update an application's name and team label in PipeCD through the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with THRESHOLD Strategy for Canary Analysis\nDESCRIPTION: Complete pipeline configuration showing canary deployment with THRESHOLD-based analysis stage and rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application to Use Helm Chart Repository\nDESCRIPTION: Example application configuration that references a Helm chart from the configured chart repository. This shows how to specify the repository, chart name, and version for deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Defining a Custom Stage in a Lambda Application\nDESCRIPTION: Example of configuring a Lambda application with a custom stage that runs SAM build and deploy commands. This demonstrates the basic syntax for adding user-defined stages to a pipeline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0010-custom-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Lambda\nspec:\n  name: wait-approval\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: CUSTOM_STAGE\n        desc: \"sum deploy\"\n        runs:\n         - \"sam build\"\n         - \"sam deploy -g\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule for a blue-green deployment. It specifies two subsets (primary and canary) based on the 'pipecd.dev/variant' label and sets the traffic policy to use Istio mutual TLS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the Istio DestinationRule resource that specifies primary and canary subsets using pipecd.dev/variant labels for traffic routing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Defining EventWatcher Configuration in YAML\nDESCRIPTION: Specifies the configuration for event watching in PipeCD. It includes fields for check interval and git repository configurations to be observed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nEventWatcher:\n  checkInterval: \"duration\"  # Optional: Interval to fetch latest events (defaults to 1m)\n  gitRepos:\n    - repoId: \"string\"  # Required: Unique ID of the git repository\n      commitMessage: \"string\"  # Optional: Custom commit message for pushes\n      includes: [\"string\"]  # Optional: Paths to include (supports patterns)\n      excludes: [\"string\"]  # Optional: Paths to exclude (supports patterns)\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Kubernetes platform provider in the PipeCD configuration file. It specifies a name and type for the provider, which will connect to the Kubernetes cluster where PipeCD is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: Basic structure for an AWS Lambda application configuration in PipeCD. This snippet shows the required schema with apiVersion and kind fields, along with the spec object which contains pipeline configurations for Lambda function deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using ZIP archives stored in AWS S3. Specifies S3 location details, runtime environment, and function handler along with basic Lambda configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration that implements the blue-green deployment strategy with multiple stages for rollout, traffic routing, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: PipeCD Trigger Configuration Types\nDESCRIPTION: Lists the four main trigger types available in PipeCD: onCommit for Git changes, onCommand for SYNC commands, onOutOfSync for handling configuration drift, and onChain for chain-based deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/triggering-a-deployment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ndeploymentTrigger:\n  onCommit:    # Controls triggering new deployment when new Git commits touched the application\n  onCommand:   # Controls triggering new deployment when received a new SYNC command\n  onOutOfSync: # Controls triggering new deployment when application is at OUT_OF_SYNC state\n  onChain:     # Controls triggering new deployment when the application is counted as a node of some chains\n```\n\n----------------------------------------\n\nTITLE: Setting Up PipeCD Terraform Provider Configuration in HCL\nDESCRIPTION: This snippet demonstrates how to set up the required Terraform provider block for PipeCD. It specifies provider source, version requirements, and shows how to configure connection details through direct parameters or environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Canary-Baseline Analysis Configuration in PipeCD\nDESCRIPTION: Configuration for comparing metrics between canary and baseline variants. Includes template-based query generation for variant-specific monitoring.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service Definition\nDESCRIPTION: Basic Cloud Run service configuration defining container specs, resources, and autoscaling settings. This YAML file must be placed in the application directory as service.yaml.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Analysis with PREVIOUS Strategy\nDESCRIPTION: Pipeline configuration for analyzing primary deployment using comparison with previous successful deployment metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target ECS Task Definition\nDESCRIPTION: Example of how to reference attached configuration in a target file (taskdef.yaml). The template syntax '{{ .attachment.config }}' is used to insert the content of the attached configuration file at the specified location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in YAML\nDESCRIPTION: Configuration for an AWS ECS platform provider specifying region and authentication settings for AWS ECS cluster access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as an Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Datadog as an analysis provider in a Piped configuration file. Specifies the provider name, type, and paths to API key and Application key files needed for Datadog authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Cloud Provider in YAML\nDESCRIPTION: Configuration snippet for adding an AWS Lambda provider. This example shows how to specify the region, profile, and credentials file for Lambda access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as an Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for adding Datadog as an analysis provider in PipeCD. This enables Piped to query Datadog's MetricsApi.QueryMetrics endpoint to obtain metrics for deployment evaluation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with Custom Args in PipeCD\nDESCRIPTION: This snippet shows how to configure an ANALYSIS stage with custom arguments for Canary and Baseline variants. It demonstrates the use of custom args in the query template.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in PipeCD\nDESCRIPTION: Shows how to define an Analysis Template that monitors HTTP error rates using Prometheus. The template includes metric specifications with interval, provider, and query parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Helm Chart Repository for Kubernetes Deployment in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a Helm chart from a remote Helm chart repository for a Kubernetes application in PipeCD. It specifies the repository, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Multi-Region Deployment Chain in PipeCD\nDESCRIPTION: This set of YAML snippets shows how to configure a deployment chain across multiple regions in PipeCD. It includes configurations for the initial application and subsequent regional applications, demonstrating parallel deployment across regions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0007-deployment-chain.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: x\nspec:\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        - name: x # since all required applications have the same name `x`\n      conditions:\n        - commitPrefix: \"Trigger chain\"\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: x\nspec:\n  pipeline:\n    ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration of a Datadog analysis provider in the Piped configuration. It includes the provider name, type, and paths to API key and application key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM\nDESCRIPTION: Basic configuration file for Piped agent defining project settings, API connections, Git repositories, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Cloud Provider in PipeCD\nDESCRIPTION: Configuration snippet for a Kubernetes cloud provider in PipeCD. This basic configuration specifies only the name and type, connecting to the Kubernetes cluster where piped is running and watching all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Configuration\nDESCRIPTION: Example of current recommended way to configure EventWatcher within the application configuration file, showing how to update Kubernetes manifests based on events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform cloud provider that includes shared terraform variables to be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Basic YAML structure for configuring a Terraform application in PipeCD. This configuration includes the required apiVersion and kind fields, with placeholders for input and pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Blue/Green Release Strategy for ECS Deployment in PipeCD\nDESCRIPTION: Configuration for implementing a blue/green release strategy for ECS deployments in PipeCD. The pipeline includes full-scale canary deployment, complete traffic shifting, verification, and cleanup phases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0004-ecs-deployment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinition: path/to/servicedef.json\n    taskDefinition: path/to/taskdef.json\n    targetGroups:\n      primary:\n        targetGroupArn: {PRIMARY_TARGET_GROUP_ARN}\n        containerName: service\n        containerPort: 80\n      canary:\n        targetGroupArn: {CANARY_TARGET_GROUP_ARN}\n        containerName: service\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant with the number of\n      # workload for CANARY variant is the same as PRIMARY variant.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 100%\n      # Change the traffic routing state where\n      # the CANARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 100\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Adding CloudRun Application with Terraform\nDESCRIPTION: This snippet shows how to add a new CloudRun application using the PipeCD Terraform provider. It creates a 'pipecd_application' resource with various configurations including kind, name, description, platform provider, Piped ID, and Git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Defining an Analysis Template Configuration in YAML\nDESCRIPTION: Structure for an Analysis Template that defines metrics for deployment verification, including a sample Prometheus metric with interval, provider, failure limits and query specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Metric Analysis with PREVIOUS Strategy\nDESCRIPTION: Configuration example using the PREVIOUS strategy to compare current metrics with the last successful deployment's metrics over a 30-minute period.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Deployment Pipeline\nDESCRIPTION: YAML configuration for a gradual deployment pipeline that incrementally routes traffic to a new Lambda function version using canary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function using a container image. Includes settings for memory, timeout, tags, environment variables, ephemeral storage and VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  ephemeralStorage:\n    size: 512\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in Console\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair using OpenSSL. The key pair consists of a private key and a public key that will be used by Piped for encrypting and decrypting secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Metrics Analysis with THRESHOLD Strategy\nDESCRIPTION: Example configuration for implementing a basic metrics analysis stage using the THRESHOLD strategy. This configuration monitors HTTP error rates against a static threshold over a 30-minute duration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Defining Events in EventWatcher Configuration File\nDESCRIPTION: YAML configuration for defining which values in which files should be updated when an event occurs. This example shows how to update a Kubernetes deployment manifest when the 'helloworld-image-update' event is detected.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Secret Using Encrypted Data\nDESCRIPTION: Example of a Kubernetes Secret manifest accessing encrypted secrets using template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Application Configuration with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets and decryption targets in application config.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Cloud Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform cloud provider that includes shared terraform variables to be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for an Amazon ECS platform provider in PipeCD. It requires the region name where the ECS cluster is running, and optionally includes profile and credentials file information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Control Plane Configuration for Firestore and GCS\nDESCRIPTION: YAML configuration for setting up PipeCD Control Plane with Google Firestore as datastore and Google Cloud Storage as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in YAML\nDESCRIPTION: This YAML configuration file defines the basic settings for a Piped instance, including project ID, Piped ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: ECS Standalone Task Configuration\nDESCRIPTION: Configuration example for deploying a standalone Fargate task in ECS, including cluster configuration and network settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes post-sync actions to trigger deployments for other applications based on name and kind.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining AnalysisProviderPrometheusConfig in YAML\nDESCRIPTION: Specifies the configuration for Prometheus as an analysis provider in PipeCD. It includes fields for the server address and optional authentication files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nAnalysisProviderPrometheusConfig:\n  address: \"string\"  # Required: The Prometheus server address\n  usernameFile: \"string\"  # Optional: Path to the username file\n  passwordFile: \"string\"  # Optional: Path to the password file\n```\n\n----------------------------------------\n\nTITLE: Configuring Primary Deployment with PREVIOUS Analysis in PipeCD\nDESCRIPTION: This snippet shows a pipeline configuration for a primary deployment using the PREVIOUS strategy for analysis. It includes stages for primary rollout and analysis comparing to the previous successful deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for LambdaApp Deployments in AWS\nDESCRIPTION: This JSON policy specifies the IAM permissions needed for a Piped to deploy Lambda applications. It includes actions for managing Lambda functions, aliases, and versions, as well as the ability to pass roles. Resources can be restricted as needed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:ListFunctions\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Piped Installation with Remote-upgrade and Remote-config\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config features enabled. Supports loading config from Git repository and automatic Piped restart on config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Kubernetes Application Configuration\nDESCRIPTION: YAML configuration for defining event watchers within a Kubernetes application configuration file. This example shows how to update a deployment manifest when the 'helloworld-image-update' event is detected.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade using Helm in Namespaced Mode\nDESCRIPTION: Helm command for installing Piped with remote-upgrade capability in namespaced mode. This allows upgrading Piped to a new version from the web console but still requires manual configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This snippet shows the structure of a service.yaml file required for deploying a Cloud Run application. It specifies the service name, container image, resource limits, and other configuration options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: This snippet demonstrates how to use pipectl to add a new application to a project. It includes various parameters such as application name, kind, Piped ID, and repository information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform cloud provider with shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Keycloak OIDC Integration in PipeCD\nDESCRIPTION: Configuration for setting up Keycloak as an OIDC provider in PipeCD Control Plane, specifying client credentials and callback URLs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<KEYCLOAK_ADDRESS>/realms/<REALM>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: A Kubernetes Service manifest that routes traffic to pods with the label 'app: helloworld'. This service will route traffic to both primary and canary pods that share this label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD Control Plane using Firestore as datastore and Google Cloud Storage as filestore. Includes settings for namespace, environment, and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run provider in PipeCD. This requires specifying the Google Cloud project, region where Cloud Run service is running, and optionally a service account file for access permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in ECS Task Definition YAML\nDESCRIPTION: Example of how to reference the attached configuration in an ECS task definition file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Installation\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API address, Git repository information, and optional platform providers for Cloud Run and Terraform. It also includes commented sections for enabling secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring rollback for SCRIPT_RUN stages\nDESCRIPTION: Example showing how to configure rollback commands for SCRIPT_RUN stages. This allows specifying cleanup operations that should be performed when a deployment is canceled or fails.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application for BlueGreen Deployment\nDESCRIPTION: Defines the PipeCD application configuration with stages for blue-green deployment including canary rollout, traffic routing, and cleanup\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in PipeCD\nDESCRIPTION: Configuration snippet for app.pipecd.yaml to ignore specific fields during drift detection. This example ignores the replicas count and container arguments for a specific deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure PipeCD to send notifications to Slack channels. It includes examples of routing events based on labels and specific event types, as well as configuring different Slack receivers using webhook URLs and OAuth tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthTokenData: \"token\"\n          channelID: \"testid\"\n      - name: hookurl-with-mentioned-accounts\n        slack:\n          hookURL: https://slack.com/dev,\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n      - name: integration-slack-api-with-mentioned-accounts\n        slack:\n          oauthTokenData: token\n          channelID: testid\n          mentionedAccounts:\n            - '@user1'\n            - 'user2'\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run\nDESCRIPTION: Base configuration file for Piped specifying project settings, authentication, Git repositories, and optional platform providers for Cloud Run deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service Manifest for Canary Deployment\nDESCRIPTION: This YAML defines a Kubernetes Service that selects pods with the label 'app: helloworld'. During canary deployment, this Service will route traffic to both primary and canary pods based on this common selector.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: Configuration snippet that specifies a basic Kubernetes platform provider named 'kubernetes-dev'. This provider connects to the Kubernetes cluster where piped is running and watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Basic YAML configuration for an ECS application in PipeCD. This snippet shows the core structure with apiVersion, kind, and spec fields that would need to be completed for an actual deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD YAML\nDESCRIPTION: This YAML configuration shows how to set up a notification route and receiver for sending all PipeCD events to an external service via webhook. It includes the webhook URL and a signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Enabling Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable the secret management feature in the Piped configuration file. It specifies the encryption type as KEY_PAIR and the paths to the private and public key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Basic ECS Application Configuration for Quick Sync\nDESCRIPTION: Configuration examples for both standard ECS service deployment and standalone task deployment using quick sync. Shows the basic application configuration structure with service definitions and task definitions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes postSync configurations to trigger deployments for other applications after the current deployment completes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Initializing Control Plane Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Control Plane configuration file in YAML format. It includes the API version and kind declaration, followed by the spec section where detailed configurations are specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for BlueGreen Deployment\nDESCRIPTION: Defines an Istio VirtualService that initially routes all traffic to the primary subset. PipeCD will manipulate this configuration during deployment to switch traffic between variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Specification in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container configuration, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Basic PipeCD Configuration Structure\nDESCRIPTION: Basic structure of a PipeCD configuration file showing the required apiVersion and kind fields along with the spec section that contains the core configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in YAML\nDESCRIPTION: This snippet shows the configuration for an Amazon ECS application in PipeCD. It includes the API version, kind, and spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an Amazon ECS application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service for Piped without Remote-upgrade\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped without remote-upgrade capability. It uses a specific Piped image version, sets resource limits, and mounts the configuration from a secret. Upgrading requires manual restart of the service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for sending PipeCD events to Slack channels. It includes examples for routing events based on labels and specific event types.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n      - name: integration-slack\n        receiver: integration-slack-api\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n      - name: integration-slack-api\n        slack:\n          oauthToken: \"token\"\n          channelID: \"testid\"\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for secret encryption in PipeCD. The private key is used for decryption, while the public key is used for encryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Cloud Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure an ECS cloud provider in PipeCD. It requires specifying the AWS region where the ECS cluster is running, and optionally includes profile and credentials file settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication\nDESCRIPTION: Configuration example for adding an OCI-based Helm chart registry with authentication credentials to the Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT Stage in a Kubernetes Application Deployment Pipeline\nDESCRIPTION: This snippet demonstrates how to configure a WAIT stage in a Kubernetes application deployment pipeline. The WAIT stage is placed between the canary rollout and primary rollout stages, causing the pipeline to pause for 5 minutes before proceeding with the primary rollout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for LambdaApp Deployments in AWS\nDESCRIPTION: This JSON defines the IAM policy for deploying Lambda applications. It includes permissions for Lambda function management, including creation, updating, and version control. The policy also allows passing a specific IAM role for the Lambda function execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher with File Patterns in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to specify which Event Watcher files should be monitored by Piped using the 'includes' pattern. This is useful when multiple Pipeds handle a single repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that routes traffic to pods with the 'app: helloworld' label. This common label is used to route traffic to both canary and primary workloads.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and some basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS (YAML)\nDESCRIPTION: Example configuration file for PipeCD Control Plane using Firestore as datastore and Google Cloud Storage (GCS) as filestore. Includes settings for state key, datastore, and filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the VirtualService configuration that controls traffic routing between deployment variants. Initially routes all traffic to the primary subset.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run Installation\nDESCRIPTION: Basic configuration file for Piped that specifies project settings, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary-Baseline Metrics Analysis in PipeCD\nDESCRIPTION: Example showing how to compare metrics between Canary and Baseline variants using templated queries. Includes custom arguments for job-specific monitoring.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes postSync chain configurations to trigger deployments for other applications after the current deployment is completed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in PipeCD\nDESCRIPTION: Basic configuration for a Kubernetes cloud provider that connects to the cluster where piped is running. This provider watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML configuration creates an Istio VirtualService that handles traffic routing. Initially, all traffic is directed to the primary subset, which will be manipulated by PipeCD during deployment to switch between primary and canary versions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD (YAML)\nDESCRIPTION: Example configuration for an EventWatcher in PipeCD that updates container image references in Kubernetes manifests. The configuration specifies a named event and the file locations with YAML path expressions for replacements when events are triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Adding CloudRun Application with Terraform\nDESCRIPTION: This snippet demonstrates how to add a new CloudRun application using the 'pipecd_application' resource in Terraform. It specifies the application kind, name, description, platform provider, Piped ID, and Git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with PREVIOUS Strategy for Primary Deployment\nDESCRIPTION: This example shows a Kubernetes pipeline that directly deploys to primary and then analyzes it using the PREVIOUS strategy, comparing current metrics with the previous deployment for 30 minutes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application for Quick Sync in YAML\nDESCRIPTION: YAML configuration for a simple ECS application using quick sync deployment. It defines the application name, labels, and input specifications including service definition, task definition, and target group information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in Cluster-wide Mode with YAML\nDESCRIPTION: A basic Piped configuration file for cluster-wide mode that specifies project details, connection parameters, Git repository settings, and sync interval. This configuration allows Piped to perform deployments across multiple namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Deploying Lambda Function Directly from Source Code in PipeCD\nDESCRIPTION: Sample function.yaml configuration for deploying a Lambda function directly from source code in a git repository. It includes source configuration with git repository details, commit reference, and path to the function code.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Pushing Event with Pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using the pipectl tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in Kubernetes Pipeline\nDESCRIPTION: Example configuration showing how to implement a manual approval stage in a PipeCD Kubernetes deployment pipeline. The configuration requires approval from a specific user before executing the primary rollout stage and includes a timeout setting.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule for a blue-green deployment. It specifies two subsets (primary and canary) based on the 'pipecd.dev/variant' label and sets the traffic policy to use ISTIO_MUTUAL TLS mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Pipeline with Script Run Stages\nDESCRIPTION: Example configuration showing how to set up SCRIPT_RUN stages within a Kubernetes application pipeline, including environment variables and multiple script execution points.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example of configuring event watcher to update Helm chart versions automatically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Defining Image Watcher Configuration\nDESCRIPTION: YAML configuration for the ImageWatcher custom resource that defines which images to monitor and which files to update. It specifies target images, their providers, file paths, and fields to update.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0001-image-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ImageWatcher\nspec:\n  targets:\n    - image: gcr.io/pipecd/foo\n      provider: my-gcr\n      filePath: foo/deployment.yaml\n      field: spec.containers[0].image\n    - image: pipecd/bar\n      provider: my-dockerhub\n      filePath: bar/deployment.yaml\n      field: spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with Firestore and GCS\nDESCRIPTION: Configuration file example for setting up PipeCD Control Plane using Google Firestore as datastore and Google Cloud Storage as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Registering an event for EventWatcher\nDESCRIPTION: Registers an event that can be used by EventWatcher, such as an image being pushed to a container registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_24\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application with Custom Sync Stage\nDESCRIPTION: Example configuration for a Lambda application using CUSTOM_SYNC stage to deploy using SAM CLI. Shows how to set up environment variables and execute custom deployment commands.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in Kubernetes Application\nDESCRIPTION: Example configuration showing how to add a WAIT_APPROVAL stage between canary and primary rollouts in a Kubernetes application deployment. The configuration includes timeout settings and specific approver requirements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Cloud Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to add a Terraform cloud provider to the PipeCD configuration. It includes shared Terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Lambda Deployment Pipeline\nDESCRIPTION: Pipeline configuration for gradually rolling out a new Lambda function version with traffic shifting and waiting periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      - name: LAMBDA_CANARY_ROLLOUT\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in Application Configuration\nDESCRIPTION: Example of defining event watcher with labels directly in an application configuration file, providing more specific targeting of which events should trigger updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web UI via Port Forwarding\nDESCRIPTION: Command to expose the PipeCD web interface locally using kubectl port-forward, allowing access to the Control Plane when no ingress is configured.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Installing Basic Piped Agent with Helm\nDESCRIPTION: Basic Helm command to install/upgrade Piped agent with essential configurations including namespace scope, security context, and custom image repository for OpenShift.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Defining SecretManagement Configuration in YAML\nDESCRIPTION: Specifies the configuration for secret management in PipeCD. It includes fields for the management type and specific configuration based on the chosen method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nSecretManagement:\n  type: \"string\"  # Required: Management method (default is KEY_PAIR)\n  config:\n    # For KEY_PAIR type:\n    privateKeyFile: \"string\"  # Required: Path to private RSA key file\n    privateKeyData: \"string\"  # Optional: Base64 encoded private RSA key\n    publicKeyFile: \"string\"  # Required: Path to public RSA key file\n    publicKeyData: \"string\"  # Optional: Base64 encoded public RSA key\n    # For GCP_KMS type (Work in Progress):\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the DestinationRule configuration for Istio that specifies primary and canary subsets using PipeCD variant labels. Includes mutual TLS configuration for traffic policy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Pod (Shell)\nDESCRIPTION: Command to use kubectl port-forward to access the ops pod in the installed PipeCD control plane for initializing a new project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped\nDESCRIPTION: Configuration snippet showing how to add a Helm chart repository to the Piped configuration file. This example enables the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Git Helm Chart in PipeCD Kubernetes Application\nDESCRIPTION: This snippet shows how to configure a Kubernetes application in PipeCD using a Helm chart from a different git repository. It specifies the git remote, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in YAML\nDESCRIPTION: This snippet shows the configuration for an AWS Lambda application in PipeCD. It includes the API version, kind, and spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet illustrates the basic structure for configuring a Cloud Run application in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container specifications, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for adding a Cloud Run provider with GCP project details, region, and service account credentials for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition with Remote Upgrade\nDESCRIPTION: JSON task definition for Piped with remote upgrade capability, enabling version upgrades through the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in PipeCD\nDESCRIPTION: Configuration for adding an AWS Lambda provider that specifies the region, profile, and credentials for accessing Lambda services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Auth0 Action for Mapping Role Information to Custom Claims\nDESCRIPTION: JavaScript code for an Auth0 Action that maps role information to a custom claim. This code executes after login to add roles from the authorization context to a custom roles claim in the ID token.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nexports.onExecutePostLogin = async (event, api) => {\n  let namespace = \"custom\";\n  if (namespace && !namespace.endsWith(\"/\")) {\n    namespace += \":\";\n  }\n  api.idToken.setCustomClaim(namespace + \"roles\", event.authorization.roles);\n};\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda platform provider that specifies the region where Lambda functions run, along with optional profile and credentials file settings for AWS authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in PipeCD YAML\nDESCRIPTION: This YAML snippet demonstrates how to configure a deployment chain in PipeCD. It includes settings for triggering the chain, specifying applications to be included, and conditions for chain execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0007-deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Terraform\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  trigger:\n    onOutOfSync:\n      disable: true # default is `true`\n    onCommand:\n      disable: false # default is `false`\n    onCommit:\n      disable: false # default is `false`\n      paths:\n        - manifests/deployment.yaml\n    onChain:\n      disable: false # default is `false`\n  postSync:\n    chain:\n      applications:\n        - name: app2\n          labels:\n            - app: 2 # will match all app2-1, app2-2, app2-3 which share label (app: 2)\n        - name: app3\n          kind: Kubernetes\n          labels:\n            - app: 3 # will match all app which share label (app: 3)\n      conditions:\n        - commitPrefix: \"xx\"\n        - ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in YAML for PipeCD\nDESCRIPTION: Basic configuration example for a Kubernetes platform provider. This configuration connects to the Kubernetes cluster where piped is running and watches all predefined resources from all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Deployment with S3-stored ZIP in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment using a ZIP file stored in AWS S3. It specifies function details including S3 bucket, key, object version, handler, runtime, memory, timeout, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Application Configuration with Remote Helm Chart Repository\nDESCRIPTION: Configuration for a Kubernetes application that uses a Helm chart from a Helm chart repository. It specifies the repository name, chart name, and chart version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using ZIP archives stored in S3. Specifies runtime, handler, and S3 location details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: RBAC Policy Format in PipeCD\nDESCRIPTION: Defines the format for configuring role-based access control policies in PipeCD. Each role is defined as a combination of resources and actions, with support for wildcard (*) notation to grant all permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Namespaced Mode\nDESCRIPTION: Helm command to install Piped in namespaced mode without remote features, restricting its permissions to a single namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Helm Chart Repository\nDESCRIPTION: Example of configuring a Kubernetes application to use a Helm chart from a repository. Specifies the repository name, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Referencing a Helm Chart Repository in Application Configuration\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application to use a Helm chart from a previously configured chart repository. It specifies the repository name, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: Basic structure for a Cloud Run application configuration in PipeCD. This snippet shows the required schema with apiVersion and kind fields, along with the spec object which contains input and pipeline configurations for Cloud Run deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl Command (Bash)\nDESCRIPTION: This command shows how to push a new event to the Control Plane using the pipectl CLI tool. It registers an event named 'helloworld-image-update' with data containing the updated image reference.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition\nDESCRIPTION: JSON service definition for controlling Piped task deployment with Fargate launch type and network configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Roles for Piped\nDESCRIPTION: Shell commands to create a service account for Piped on Google Cloud and assign the necessary IAM roles for accessing secrets, writing logs, and optionally managing Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Manual Approval Stage in Kubernetes Pipeline\nDESCRIPTION: Example configuration showing how to add a WAIT_APPROVAL stage in a PipeCD Kubernetes deployment pipeline. The stage requires approval from a specific user before proceeding to primary rollout, with a configurable timeout duration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in YAML for PipeCD\nDESCRIPTION: Configuration for an AWS ECS platform provider. It requires specifying the AWS region where the ECS cluster is running and can include authentication options like profile or credentials file path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service with Remote Upgrade\nDESCRIPTION: Cloud Run service manifest for deploying Piped with remote upgrade capability, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure a Prometheus analysis provider in the Piped configuration. It specifies the provider name, type, and the address of the Prometheus server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Adding Wait Stage in PipeCD Kubernetes Pipeline Configuration\nDESCRIPTION: Configuration example showing how to implement a WAIT stage in a PipeCD Kubernetes deployment pipeline. The wait stage is configured with a 5-minute duration between canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Kubernetes platform provider in the PipeCD configuration file. It specifies a name and type for the provider, which will connect to the Kubernetes cluster where PipeCD is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Cloud Run application configuration in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Creating a CloudRun Application with PipeCD in Terraform HCL\nDESCRIPTION: This snippet demonstrates how to define a PipeCD application resource for CloudRun using Terraform. It includes configuration for the application name, platform provider, Piped ID, and Git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\n// CloudRun Application\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Configuration\nDESCRIPTION: YAML configuration file for setting up a Piped instance. Includes project settings, API connection details, Git repository configuration, and sync interval settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Configuration\nDESCRIPTION: Base configuration file for Piped agent specifying project settings, API endpoints, Git repositories, and platform providers for Cloud Run deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Launcher Runtime Options\nDESCRIPTION: Command-line flags and options for the PipeCD launcher component. Includes configuration for version management, config sources (AWS, GCP, Git), and operational settings like check intervals and shutdown behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string           The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --cert-file string               The path to the TLS certificate file.\n      --check-interval duration        Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string             The base64 encoded string of the configuration data.\n      --config-file string             The path to the configuration file.\n      --config-from-aws-secret         Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-gcp-secret         Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo           Whether to load Piped config that is being stored in a git repository.\n      --default-version string         The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string           The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string              Branch of git repository to for Piped config.\n      --git-piped-config-file string   Relative path within git repository to locate Piped config file.\n      --git-repo-url string            The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-file string        The path to SSH private key to fetch private git repository.\n      --grace-period duration          How long to wait for graceful shutdown. (default 30s)\n  -h, --help                           help for launcher\n      --home-dir string                The working directory of Launcher.\n      --insecure                       Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int        The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Role Policies in YAML\nDESCRIPTION: This snippet demonstrates the format for defining role policies in PipeCD. Each role is defined as a combination of multiple policies specifying resources and actions. The '*' can be used to represent all resources or all actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT Stage in Kubernetes Deployment Pipeline\nDESCRIPTION: This snippet demonstrates how to add a WAIT stage to a Kubernetes deployment pipeline in PipeCD. The wait stage is configured with a 5-minute duration that pauses deployment between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via curl (Linux/macOS)\nDESCRIPTION: This snippet demonstrates how to download and install the pipectl binary for Linux or macOS using curl. It includes steps to make the binary executable and move it to the system PATH.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n\nchmod +x ./pipectl\n\nsudo mv ./pipectl /usr/local/bin/pipectl\n\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for ECS Fargate\nDESCRIPTION: YAML configuration file for Piped setup including project settings, authentication, Git repository access, and platform provider configurations for ECS deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret\nDESCRIPTION: Example of accessing encrypted secrets in a Kubernetes Secret manifest file. Piped will replace the templated reference with the decrypted value before applying the manifest to the cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider Configuration\nDESCRIPTION: Configures the PipeCD Terraform provider with required provider block and version constraints. Allows specification of control plane host and API key through provider settings or environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Basic YAML configuration for a Terraform application in PipeCD, specifying application name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using ZIP files stored in S3. Includes function name, IAM role, S3 location details, runtime settings, and environment configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Cloud Provider in YAML\nDESCRIPTION: Configuration snippet for adding a Terraform cloud provider with shared terraform variables. This example includes a project variable that will be applied to all deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade and Remote Config using Helm\nDESCRIPTION: This Helm command installs Piped with both remote upgrade and remote config features enabled, allowing version upgrades and configuration updates from a Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application Quick Sync\nDESCRIPTION: Configuration examples for quick sync deployment of ECS applications. Shows both regular service deployment and standalone task configurations with required input parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Triggers in Kubernetes Application\nDESCRIPTION: This YAML snippet demonstrates how to configure deployment triggers for a Kubernetes application. It allows fine-grained control over when deployments are triggered, including on commit, command, out-of-sync state, and chain events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/january-2022-update.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  trigger:\n    onCommit:\n      disabled: false\n    onCommand:\n      disabled: false\n    onOutOfSync:\n      disabled: true\n    onChain:\n      disabled: true\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This code snippet shows how to configure an Amazon ECS platform provider in PipeCD. It requires the region where the ECS cluster is running, and optionally includes profile and credentials file information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for Event Watcher in Piped\nDESCRIPTION: Basic configuration for specifying which Git repositories should be monitored by the event watcher. Requires setting repository IDs in the gitRepos list.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition with Remote Upgrade\nDESCRIPTION: JSON task definition for Piped with remote upgrade capability, allowing version upgrades from web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: Example of a Kubernetes Deployment manifest that might be subject to configuration drift detection. It defines a simple deployment with replicas and container specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Application Config\nDESCRIPTION: Example showing how to reference an analysis template in a Kubernetes application configuration using the template field within an analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in PipeCD\nDESCRIPTION: Basic configuration for a Kubernetes cloud provider that connects to the cluster where piped is running. This provider watches predefined resources from all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: PipeCD Control Plane Configuration with MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD Control Plane using MySQL as datastore and MinIO as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Includes in Piped YAML\nDESCRIPTION: This YAML configuration specifies which EventWatcher files Piped should use. It includes a commit message and a file pattern to include specific EventWatcher files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function using a container image. Specifies function name, image source, IAM role, memory allocation, timeout, tags and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with YAML for ECS Fargate Deployment\nDESCRIPTION: YAML configuration file for Piped that specifies project details, API connections, Git repository access, and optional platform providers. This configuration needs to be encoded and stored in AWS for the ECS task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure a Prometheus analysis provider in the Piped configuration. It specifies the provider name, type, and the Prometheus server address.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment\nDESCRIPTION: YAML configuration for deploying a Lambda function using a container image. Specifies function name, image location, IAM role, memory, timeout and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for ECS Application Deployment\nDESCRIPTION: IAM policy defining the required permissions for deploying ECS applications. Includes permissions for managing ECS services, task sets, task definitions, and load balancer configurations. Also includes PassRole permissions for task execution and task roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskDefinition\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:DescribeTasks\",\n                \"ecs:ListClusters\",\n                \"ecs:ListServices\",\n                \"ecs:ListTasks\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Kubernetes application deployment in PipeCD. Defines the application spec with input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Using a Helm Chart from Repository in Kubernetes Application\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application to use a Helm chart from a previously defined chart repository. It specifies the repository name, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: PipeCD Configuration Tables\nDESCRIPTION: Collection of configuration tables defining various deployment options and settings for different platforms supported by PipeCD including Helm, Kubernetes, Terraform, CloudRun, and Lambda.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_7\n\nLANGUAGE: markdown\nCODE:\n```\n### HelmChart\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| gitRemote | string | Git remote address where the chart is placing. Empty means the same repository. | No |\n| ref | string | The commit SHA or tag value. Only valid when gitRemote is not empty. | No |\n| path | string | Relative path from the repository root to the chart directory. | No |\n| repository | string | The name of a registered Helm Chart Repository. | No |\n| name | string | The chart name. | No |\n| version | string | The chart version. | No |\n\n### HelmOptions\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| releaseName | string | The release name of helm deployment. By default, the release name is equal to the application name. | No |\n| setValues | map[string]string | List of values. | No |\n| valueFiles | []string | List of value files should be loaded. Only local files stored under the application directory or remote files served at the http(s) endpoint are allowed. | No |\n| setFiles | map[string]string | List of file path for values. | No |\n| apiVersions | []string | Kubernetes api versions used for Capabilities.APIVersions. | No |\n| kubeVersion | string | Kubernetes version used for Capabilities.KubeVersion. | No |\n\n## KubernetesVariantLabel\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| key | string | The key of the label. Default is `pipecd.dev/variant`. | No |\n| primaryValue | string | The label value for PRIMARY variant. Default is `primary`. | No |\n| canaryValue | string | The label value for CANARY variant. Default is `canary`. | No |\n| baselineValue | string | The label value for BASELINE variant. Default is `baseline`. | No |\n\n## KubernetesQuickSync\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| addVariantLabelToSelector | bool | Whether the PRIMARY variant label should be added to manifests if they were missing. Default is `false`. | No |\n| prune | bool | Whether the resources that are no longer defined in Git should be removed or not. Default is `false` | No |\n\n## KubernetesService\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| name | string | The name of Service manifest. | No |\n\n## KubernetesWorkload\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| kind | string | The kind name of workload manifests. Currently, only `Deployment` is supported. In the future, we also want to support `ReplicationController`, `DaemonSet`, `StatefulSet`. | No |\n| name | string | The name of workload manifest. | No |\n\n## KubernetesTrafficRouting\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| method | string | Which traffic routing method will be used. Available values are `istio`, `smi`, `podselector`. Default is `podselector`. | No |\n| istio | [IstioTrafficRouting](#istiotrafficrouting)| Istio configuration when the method is `istio`. | No |\n\n### IstioTrafficRouting\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| editableRoutes | []string | List of routes in the VirtualService that can be changed to update traffic routing. Empty means all routes should be updated. | No |\n| host | string | The service host. | No |\n| virtualService | [IstioVirtualService](#istiovirtualservice) | The reference to VirtualService manifest. Empty means the first VirtualService resource will be used. | No |\n\n#### IstioVirtualService\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| name | string | The name of VirtualService manifest. | No |\n\n## TerraformDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| workspace | string | The terraform workspace name. Empty means `default` workspace. | No |\n| terraformVersion | string | The version of terraform should be used. Empty means the pre-installed version will be used. | No |\n| vars | []string | List of variables that will be set directly on terraform commands with `-var` flag. The variable must be formatted by `key=value`. | No |\n| varFiles | []string | List of variable files that will be set on terraform commands with `-var-file` flag. | No |\n| commandFlags | [TerraformCommandFlags](#terraformcommandflags) | List of additional flags will be used while executing terraform commands. | No |\n| commandEnvs | [TerraformCommandEnvs](#terraformcommandenvs) | List of additional environment variables will be used while executing terraform commands. | No |\n| autoRollback | bool | Automatically reverts all changes from all stages when one of them failed. | No |\n\n### TerraformCommandFlags\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| shared | []string | List of additional flags used for all Terraform commands. | No |\n| init | []string | List of additional flags used for Terraform `init` command. | No |\n| plan | []string | List of additional flags used for Terraform `plan` command. | No |\n| apply | []string | List of additional flags used for Terraform `apply` command. | No |\n\n### TerraformCommandEnvs\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| shared | []string | List of additional environment variables used for all Terraform commands. | No |\n| init | []string | List of additional environment variables used for Terraform `init` command. | No |\n| plan | []string | List of additional environment variables used for Terraform `plan` command. | No |\n| apply | []string | List of additional environment variables used for Terraform `apply` command. | No |\n\n## TerraformQuickSync\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| retries | int | How many times to retry applying terraform changes. Default is `0`. | No |\n\n## CloudRunDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| serviceManifestFile | string | The name of service manifest file placing in application directory. Default is `service.yaml`. | No |\n| autoRollback | bool | Automatically reverts to the previous state when the deployment is failed. Default is `true`. | No |\n\n## CloudRunQuickSync\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n\n## LambdaDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| functionManifestFile | string | The name of function manifest file placing in application directory. Default is `function.yaml`. | No |\n| autoRollback | bool | Automatically reverts to the previous state when the deployment is failed. Default is `true`. | No |\n\n### Specific function.yaml\n\nOne of `image`, `s3Bucket`, or `source` is required.\n\n- If you use `s3Bucket`, `s3Key` and `s3ObjectVersion` are required.\n\n- If you use `s3Bucket` or `source`, `handler` and `runtime` are required.\n\nSee [Configuring Lambda application](../managing-application/defining-app-configuration/lambda) for more details.\n\n| Field            | Type             | Description                        | Required |\n|------------------|------------------|------------------------------------|----------|\n| name             | string           | Name of the Lambda function        | Yes      |\n| role             | string           | IAM role ARN                       | Yes      |\n| image            | string           | URI of the container image         | No      |\n| s3Bucket         | string           | S3 bucket name for code package   | No      |\n| s3Key            | string           | S3 key for code package            | No      |\n| s3ObjectVersion  | string           | S3 object version for code package | No      |\n| source       | [source](#source)       | Git settings                | No      |\n| handler          | string           | Lambda function handler            | No      |\n| runtime          | string           | Runtime environment                | No      |\n| architectures    | [][Architecture](#architecture)   | Supported architectures            | No       |\n| ephemeralStorage | [EphemeralStorage](#ephemeralstorage)| Ephemeral storage configuration    | No       |\n| memory           | int32            | Memory allocation (in MB)          | Yes      |\n| timeout          | int32            | Function timeout (in seconds)      | Yes      |\n| tags             | map[string]string| Key-value pairs for tags           | No       |\n| environments     | map[string]string| Environment variables              | No       |\n| vpcConfig        | [VPCConfig](#vpcconfig)       | VPC configuration                  | No       |\n| layers        | []string       | ARNs of [layers](https://docs.aws.amazon.com/lambda/latest/dg/chapter-layers.html) to depend on                | No       |\n\n#### Source\n\n| Field | Type   | Description              | Required |\n|-------|--------|--------------------------|----------|\n| git   | string | Git repository URL       | Yes      |\n| ref   | string | Git branch/tag/reference| Yes      |\n| path  | string | Path within the repository | Yes    |\n\n#### Architecture\n\n| Field | Type   | Description            | Required |\n|-------|--------|------------------------|----------|\n| name  | string | Name of the architecture | Yes     |\n\n#### EphemeralStorage\n\n| Field | Type  | Description                  | Required |\n|-------|-------|------------------------------|----------|\n| size  | int32 | Size of the ephemeral storage| Yes       |\n\n#### VPCConfig\n\n| Field           | Type     | Description                 | Required |\n|-----------------|----------|-----------------------------|----------|\n| securityGroupIds| []string | List of security group IDs  | No       |\n| subnetIds       | []string | List of subnet IDs          | No       |\n\n\n## LambdaQuickSync\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n```\n\n----------------------------------------\n\nTITLE: Registering and Running Piped Task Definition on ECS\nDESCRIPTION: Commands to register the Piped task definition with ECS and run the task on a specified cluster. This deploys Piped as a standalone task without automatic restart capabilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\n----------------------------------------\n\nTITLE: RBAC Policy Format for PipeCD\nDESCRIPTION: Example format for defining Role-Based Access Control (RBAC) policies in PipeCD. This format specifies resource names and action names, with support for wildcards to represent all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of a Kubernetes Secret manifest that uses an encrypted secret. The encrypted password is accessed using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Defining Istio DestinationRule for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule for a blue-green deployment. It specifies two subsets (primary and canary) based on the 'pipecd.dev/variant' label and sets the traffic policy to use ISTIO_MUTUAL TLS mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example showing how to configure EventWatcher with labels to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure of a Lambda application configuration in PipeCD. It includes the apiVersion, kind, and spec fields, with a placeholder for the pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config Features\nDESCRIPTION: This command enables both remote-upgrade and remote-config features for Piped. It configures Git repository integration for loading and auto-updating Piped configuration from a remote source. Security context is configured for OpenShift compatibility with non-root execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in YAML\nDESCRIPTION: Configuration for a Terraform platform provider with shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: Basic structure for a Terraform application configuration in PipeCD. This snippet shows the schema with apiVersion and kind fields, along with the spec object containing input and pipeline configurations for Terraform deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Deployment for Canary Strategy\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes PipeCD-specific labels for variant identification and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Arguments for CANARY_BASELINE Strategy\nDESCRIPTION: Example showing how to define custom arguments for Baseline and Canary variants using baselineArgs and canaryArgs. These custom values can be referenced in queries using the VariantCustomArgs template variable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in YAML\nDESCRIPTION: Configuration for a Terraform platform provider with shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Local Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that routes traffic to pods with the label 'app: helloworld'. This service will route traffic to both canary and primary workloads.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in PipeCD Kubernetes Deployment\nDESCRIPTION: Example configuration for adding a WAIT stage in a PipeCD Kubernetes deployment pipeline. The WAIT stage is configured with a duration parameter that specifies how long the pipeline should pause before proceeding to the next stage. In this example, it's placed between canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance with a container running the Piped launcher, enabling remote upgrade functionality. It uses the previously created service account and secret for configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher File Patterns in Piped\nDESCRIPTION: Configuration example demonstrating how to specify which EventWatcher files Piped should monitor using includes patterns. This example shows monitoring files under the .pipe/dev/ directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: This code snippet shows how to configure a Lambda application in PipeCD. It specifies the API version, kind, and includes basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Base configuration structure for a Cloud Run application deployment in PipeCD, showing the fundamental configuration blocks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Generating Control Plane Manifest using Helm\nDESCRIPTION: Helm template command to generate the control-plane manifest from the official PipeCD Helm chart with custom values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/quickstart/README.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\nhelm template pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version v0.48.6 -n pipecd -f quickstart/control-plane-values.yaml\n```\n\n----------------------------------------\n\nTITLE: Creating Analysis Template Configuration in YAML\nDESCRIPTION: This snippet demonstrates how to define an analysis template configuration for PipeCD. It includes a sample metric definition with parameters for interval, provider, failure limit, and expected values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure Prometheus as an analysis provider in the Piped configuration file. It specifies the provider name, type, and the address of the Prometheus server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in YAML\nDESCRIPTION: Configuration for a Cloud Run platform provider specifying GCP project, region, and service account credentials for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade and Remote-config Features\nDESCRIPTION: This Helm command installs PipeCD Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading Piped config from a remote Git repository. The command includes additional settings for Git repository configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Cloud Provider in YAML\nDESCRIPTION: Configuration snippet for adding an AWS ECS provider. This example shows required configuration parameters including region, profile and credential file path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Encrypted Secrets in PipeCD Application\nDESCRIPTION: YAML configuration for specifying encrypted secrets and decryption targets in a PipeCD application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog API Keys in Helm Installation\nDESCRIPTION: This snippet shows the Helm command-line options for setting Datadog API and application key files during the Piped installation or upgrade process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for PipeCD Secret Encryption\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for PipeCD secret encryption. The private and public keys are saved to separate files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped in cluster-wide mode with the specified version. This command requires providing the path to Piped config file, Piped key file, and SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Installation\nDESCRIPTION: This YAML configuration file sets up the Piped agent for PipeCD. It includes project and authentication details, Git repository configurations, and optional settings for Cloud Run and Terraform support.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in YAML for PipeCD\nDESCRIPTION: Defines an analysis template for PipeCD, specifying metrics to be evaluated during deployment. Includes provider, query, and failure criteria.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task\nDESCRIPTION: Configuration for deploying a standalone Fargate task in ECS, including cluster specification and network configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Using pipectl event register Command in PipeCD\nDESCRIPTION: This snippet shows the usage of the 'pipectl event register' command in PipeCD. It lists the available flags for attaching commit information to events, which is crucial for the Deployment Trace feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/deployment-trace.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  pipectl event register [flags]\n\nFlags:\n      --commit-author string      The author of commit that triggers the event.\n      --commit-hash string        The commit hash that triggers the event.\n      --commit-message string     The message of commit that triggers the event.\n      --commit-timestamp int      The timestamp of commit that triggers the event.\n      --commit-title string       The title of commit that triggers the event.\n      --commit-url string         The URL of commit that triggers the event.\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task\nDESCRIPTION: Configuration example for deploying a standalone Fargate task in ECS, including cluster configuration, networking settings, and task definition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Cognito SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up AWS Cognito as an OIDC provider in PipeCD Control Plane. It includes client ID, client secret, issuer URL based on AWS region and user pool ID, redirect URI, and required scopes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://cognito-idp.<AWS_REGION>.amazonaws.com/<USER_POOL_ID>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: YAML configuration for a Kubernetes application in PipeCD. This defines basic application properties including name and team label. The configuration file must be suffixed with .pipecd.yaml to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for KubernetesApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/kubernetes/\n\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart Setup\nDESCRIPTION: This command removes the entire PipeCD namespace, effectively uninstalling all PipeCD components from the cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl delete ns pipecd\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: Demonstrates how to add a new Kubernetes application to a PipeCD project using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic ECS Applications in YAML (Quick Sync)\nDESCRIPTION: Examples of basic ECS application configurations for both a service and a standalone task, demonstrating the required input configurations for quick sync deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to set up a Terraform platform provider in PipeCD. It includes a list of shared Terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run\nDESCRIPTION: This command deploys the Piped service on Cloud Run using the previously prepared service manifest file. It uses the gcloud beta run services command to create or update the Cloud Run service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Settings\nDESCRIPTION: YAML configuration file for Piped setup including project settings, SSH access, repository configurations, and optional platform providers for ECS and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in YAML\nDESCRIPTION: Configuration for Terraform cloud provider with shared variables. This example sets up a Terraform provider with a project variable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: External Script File Execution Configuration - YAML\nDESCRIPTION: Example showing how to execute an external script file in the SCRIPT_RUN stage. The script file should be located in the same directory as the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: YAML example showing how to update an application's name and team label in PipeCD. All updates to application information must be done via the application configuration file stored in Git as the single source of truth.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example of configuring EventWatcher with labels to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in PipeCD\nDESCRIPTION: Basic configuration for adding a Kubernetes cloud provider that connects to the cluster where piped is running. This provider watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure a Lambda platform provider in PipeCD. It requires the region name where the Lambda service is running and optionally includes authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Encrypting Deployment Data with Pipectl from Input File\nDESCRIPTION: This snippet shows how to use pipectl to encrypt plaintext data from an input file for use in deployments. It requires the control plane API address, API key, Piped ID, and the path to the secret file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_26\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Listing Applications\nDESCRIPTION: Lists applications matching specified criteria in JSON format\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Referencing an Analysis Template in Application Configuration\nDESCRIPTION: Demonstrates how to reference a previously defined Analysis Template in a Kubernetes application configuration. This example shows how to use the 'template' field to reference the 'http_error_rate' metric template within an analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring Plugins in PipeCD Configuration\nDESCRIPTION: YAML configuration example showing how to specify plugin sources in a Piped configuration file. The configuration defines where the plugin binary should be loaded from.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/plugin-intro.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# Piped's config YAML\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n    plugin: # [New Area]\n       - name: k8s_plugin\n         # [HERE] (The URL format might be changed)\n         sourceURL: https://github.com/xxxx/k8s-plugin\n         ...\n```\n\n----------------------------------------\n\nTITLE: Defining an Analysis Template in YAML for PipeCD\nDESCRIPTION: This snippet shows how to define an Analysis Template in YAML format. It includes a metric for HTTP error rate using Prometheus as the provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function directly from source code in a Git repository. Specifies source location, runtime settings, and function configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for a Cloud Run platform provider in PipeCD. It requires the Google Cloud project name, region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Base configuration structure for a Kubernetes application deployment in PipeCD. Defines the API version and basic spec structure.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Auth0 OIDC Integration in PipeCD\nDESCRIPTION: Configuration for setting up Auth0 as an OIDC provider in PipeCD Control Plane, including client credentials and callback settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<AUTH0_ADDRESS>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Script Run Stage with Rollback Configuration\nDESCRIPTION: Example showing how to configure rollback functionality for SCRIPT_RUN stages in a Kubernetes application pipeline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Cloud Run Deployment in YAML\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform applications. It also includes commented sections for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client with curl\nDESCRIPTION: Downloads the PipeCD client (pipectl) binary for either Darwin or Linux operating systems.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Role Policy Configuration in YAML\nDESCRIPTION: Defines the format for configuring role policies in PipeCD. Policies combine resource names with allowed actions, with support for wildcard (*) to represent all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry in Piped Configuration\nDESCRIPTION: Example of how to add a Helm chart OCI registry in the piped configuration file. This snippet demonstrates how to specify the registry type, address, and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: PipeCD ECS Application Configuration with Attachment\nDESCRIPTION: Configuration for an ECS application that specifies attachment sources and targets. This defines how config.yaml will be attached to taskdef.yaml.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration block that enables the secret management feature in Piped using the KEY_PAIR type. It specifies the paths to the private and public key files used for encryption/decryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Encrypted Secrets in PipeCD Application\nDESCRIPTION: YAML configuration for specifying encrypted secrets and decryption targets in a PipeCD application. This allows the application to use encrypted secrets stored in Git.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: Configuration example for setting up Datadog as an analysis provider in PipeCD. Includes settings for API key and application key file paths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as an Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for adding Prometheus as an analysis provider in PipeCD. This enables Piped to query Prometheus's range query endpoint to obtain metrics for deployment evaluation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in PipeCD\nDESCRIPTION: This snippet shows how to add a Helm chart registry with OCI support to the PipeCD configuration, including authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as Analysis Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure Prometheus as an analysis provider in the Piped configuration file. It specifies the provider name, type, and the address of the Prometheus server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing in Kubernetes\nDESCRIPTION: Defines an Istio VirtualService that initially routes 100% of traffic to the primary subset. This will be modified during the canary deployment process to gradually shift traffic to the canary variant.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Application Configuration for BlueGreen Deployment\nDESCRIPTION: This YAML snippet configures a Kubernetes application in PipeCD for blue-green deployment. It defines the deployment pipeline stages, including canary rollout, traffic routing, approval, primary rollout, and cleanup. It also specifies Istio as the traffic routing method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Service for Canary Deployment\nDESCRIPTION: Basic Kubernetes Service configuration that routes traffic to pods with the 'helloworld' label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration for Helm Chart Updates (YAML)\nDESCRIPTION: This example demonstrates how to configure EventWatcher to update a Helm chart version in the application configuration file. It listens for the 'image-update' event and updates the Helm chart version field when triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_9\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped on a Kubernetes cluster. It sets up the basic Piped configuration without remote upgrade or remote config features.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in Piped\nDESCRIPTION: This snippet shows how to add an OCI-based Helm chart registry to the piped configuration file. It includes the registry type, address, and authentication credentials required to access the registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in PipeCD\nDESCRIPTION: Configuration for adding an Amazon ECS provider that specifies the region, profile, and credentials for accessing ECS clusters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with MySQL and MinIO\nDESCRIPTION: Configuration example for setting up PipeCD Control Plane using MySQL as datastore and MinIO as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in PipeCD\nDESCRIPTION: YAML configuration for ignoring specific fields in drift detection. This snippet demonstrates how to ignore replicas and container arguments in the app.pipecd.yaml file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Registering and Running Piped Task Definition\nDESCRIPTION: These Bash commands register the Piped task definition and run the task in the specified ECS cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Base configuration structure for a Terraform application deployment in PipeCD, defining the application type and basic spec structure.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration\nDESCRIPTION: Helm installation command for configuring piped with SSH key authentication for private Git repositories. Demonstrates how to set configuration file paths and SSH key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Initializing Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It includes the API version and kind, with placeholders for projectID and pipedID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container specifications, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This snippet illustrates the configuration for an ECS platform provider in PipeCD. It requires the AWS region where the ECS cluster is running and optionally includes authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Automated Deployment Analysis (ADA) Strategies in PipeCD\nDESCRIPTION: Demonstrates three different strategies for Automated Deployment Analysis in PipeCD: PREVIOUS (comparing with last successful deployment), CANARY_BASELINE (comparing between Canary and Baseline variants), and THRESHOLD (checking against fixed thresholds). Each strategy helps evaluate deployment impact based on metrics data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/november-2021-update.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# ADA by comparing the time series of metrics data between the running and the last successful deployment.\n- name: ANALYSIS\n  with:\n    duration: 30m\n    metrics:\n    - strategy: PREVIOUS\n      provider: my-prometheus\n      deviation: HIGH\n      interval: 5m\n      query: sum (rate(http_requests_total{status=~\"5.*\"}[5m])) / sum (rate(http_requests_total[5m]))\n```\n\nLANGUAGE: yaml\nCODE:\n```\n# ADA by comparing the time series of metrics data between the Canary and Baseline variants.\n- name: ANALYSIS\n  with:\n    duration: 30m\n    metrics:\n    - strategy: CANARY_BASELINE\n      provider: my-prometheus\n      deviation: HIGH\n      interval: 5m\n      query: sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m])) / sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\nLANGUAGE: yaml\nCODE:\n```\n# ADA by checking the given queries againts the given thresholds.\n- name: ANALYSIS\n  with:\n    duration: 30m\n    metrics:\n    - strategy: THRESHOLD\n      provider: my-prometheus\n      interval: 5m\n      expected:\n        max: 0.01\n      query: sum (rate(http_requests_total{status=~\"5.*\"}[5m])) / sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration YAML\nDESCRIPTION: Configuration snippet for adding a Git repository to piped's configuration file. This example shows how to configure the pipe-cd/examples repository using its master branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with Remote-Upgrade on Cloud Run\nDESCRIPTION: This Cloud Run service manifest configures Piped with the remote-upgrade feature, which allows upgrading Piped to a new version from the web console. It uses the launcher image, specifies resource limits, and mounts the configuration from Secret Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Installing Piped Agent on Kubernetes\nDESCRIPTION: This command fetches the Piped manifest, replaces placeholders with actual Piped ID and key, and applies it to the cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n$ curl -s https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/piped.yaml | \\\n  sed -e 's/<YOUR_PIPED_ID>/<COPIED_PIPED_ID>/g' \\\n      -e 's/<YOUR_PIPED_KEY_DATA>/<COPIED_ENCODED_PIPED_KEY>/g' | \\\n  kubectl apply -n pipecd -f -\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in Kubernetes Application\nDESCRIPTION: This YAML snippet demonstrates how to configure a deployment chain for a Kubernetes application using the postSync field. It specifies a chain of applications to be deployed after the current application syncs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/january-2022-update.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  ...\n  postSync:\n    chain:\n      applications:\n        - name: second-app\n          kind: KUBERNETES\n        - name: third-app\n          kind: CLOUDRUN\n```\n\n----------------------------------------\n\nTITLE: Adding New Application\nDESCRIPTION: Adds a new application to a PipeCD project with specified configuration parameters\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Canary Analysis with CANARY_BASELINE Strategy\nDESCRIPTION: Configuration for comparing metrics between Canary and Baseline variants using templated queries to differentiate between variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in Namespaced Mode\nDESCRIPTION: Helm command to install Piped in namespaced mode with both remote-upgrade and remote-config features, enabling full remote management while restricting permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade and Remote-config Features using Helm in Bash\nDESCRIPTION: This Helm command deploys Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading config from a remote Git repository. The deployment automatically restarts Piped when the config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This snippet illustrates the configuration for an AWS Lambda platform provider in PipeCD. It specifies the region, profile, and optionally a credentials file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Namespaced Mode\nDESCRIPTION: Extended Piped configuration for namespaced installation mode, including platform provider settings to restrict access within a namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for Event Watcher in PipeCD\nDESCRIPTION: Configuration for customizing the git username and email used for commits made by the event watcher. Overrides the default values of 'piped' and 'pipecd.dev@gmail.com'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Adding a new application with pipectl\nDESCRIPTION: Command to add a new Kubernetes application to a PipeCD project, specifying application details like name, kind, piped-id, and repository location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client Using Curl\nDESCRIPTION: Downloads the PipeCD client (pipectl) binary for either Darwin or Linux operating systems using curl command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It defines post-sync actions to trigger deployments for other applications based on name and kind.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in PipeCD\nDESCRIPTION: Configuration for adding a Terraform cloud provider with shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and basic metadata like name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App to Use Helm Chart Repository\nDESCRIPTION: Application configuration example showing how to specify a Helm chart from a configured repository for deployment. Includes chart name, repository reference, and version specification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in Piped Configuration YAML\nDESCRIPTION: This snippet shows how to specify Git repositories to be observed by the EventWatcher in the Piped configuration. The repoId values refer to repositories that must be defined elsewhere in the Piped configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML Configuration\nDESCRIPTION: Configuration file for Piped specifying project settings, API connections, Git repository access, and sync intervals. Requires project ID, piped ID, key files, and repository information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service without Remote Upgrade\nDESCRIPTION: Cloud Run service manifest for deploying standard Piped installation without remote upgrade capability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the Istio DestinationRule configuration with primary and canary subsets for blue-green deployment using the pipecd.dev/variant label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD KubernetesApp for BlueGreen Deployment with Istio\nDESCRIPTION: This YAML configuration defines the deployment pipeline for a blue-green strategy using PipeCD. It specifies six stages: deploying the canary version, routing all traffic to canary, waiting for approval, updating the primary version, routing traffic back to primary, and cleaning up canary resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Creating Secret for Piped Configuration in Google Cloud Secret Manager\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Base configuration structure for an AWS Lambda application deployment in PipeCD, defining the core spec components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Secret with Encrypted Data\nDESCRIPTION: Example of a Kubernetes Secret manifest using encrypted secrets via template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Cloud Run platform provider by specifying the Google Cloud project, region, and service account file. The service account file is required if the machine running piped doesn't have sufficient permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Kubernetes App Configuration with Remote Helm Chart Repository\nDESCRIPTION: Configuration for a Kubernetes application using a Helm chart from a Helm chart repository. This specifies the repository, chart name, and version to use.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Deployment with Direct Source Code in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment using direct source code from a Git repository. It specifies function details including Git source, handler, runtime, memory, timeout, and tags.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Syncing Application Commands\nDESCRIPTION: Commands to sync an application with optional wait for deployment status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: This YAML defines an Istio VirtualService that initially routes 100% of traffic to the primary subset. PipeCD will modify this configuration during the canary deployment process to adjust traffic percentages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in YAML\nDESCRIPTION: Configuration for Google Cloud Run provider specifying project, region, and credentials file location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Helm Chart Repository\nDESCRIPTION: Configuration showing how to specify a Helm chart from a repository in a Kubernetes application configuration. The example references a chart from the PipeCD repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Kubernetes application configuration in PipeCD. It defines the application type and includes placeholders for the input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in YAML for PipeCD\nDESCRIPTION: Configuration example for a Cloud Run platform provider. It requires specifying the Google Cloud project, region, and optionally a service account file for accessing Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example showing how to configure event watchers with labels for more granular control over event handling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Kubernetes Installation\nDESCRIPTION: This YAML configuration file sets up the basic Piped settings including project ID, Piped ID, API address, Git repositories, and sync interval. It is used as input when installing Piped on a Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD Control Plane using Firestore as datastore and Google Cloud Storage (GCS) as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: AWS Platform Provider Configuration Schema\nDESCRIPTION: Configuration schema for AWS Lambda and ECS platform providers including authentication and region settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Field | Type | Description | Required |\n|-|-|-|-|\n| region | string | The region of running Lambda service. | Yes |\n| credentialsFile | string | The path to the credential file for logging into AWS cluster. | No |\n| roleARN | string | The IAM role arn to use when assuming an role. | No |\n| tokenFile | string | The path to the WebIdentity token for AWS SecurityTokenService. | No |\n| profile | string | The profile to use for logging into AWS cluster. | No |\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Primary Variant\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes labels and selectors for PipeCD to identify it as the primary variant.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: This snippet shows an example of a Kubernetes Deployment manifest used to demonstrate configuration drift detection in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service for Piped without Remote-upgrade\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped without remote-upgrade capability. It uses a specific Piped image version, sets resource limits, and mounts the configuration as a secret volume.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD YAML\nDESCRIPTION: This YAML snippet demonstrates how to set up Datadog as an analysis provider in the Piped configuration. It includes specifying the provider name, type, and the file paths for the API key and application key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Executing Launcher with Runtime Options\nDESCRIPTION: This snippet demonstrates the usage and available flags for running the Launcher component. It includes options for configuration sources, version control, and performance settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string           The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --cert-file string               The path to the TLS certificate file.\n      --check-interval duration        Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string             The base64 encoded string of the configuration data.\n      --config-file string             The path to the configuration file.\n      --config-from-aws-secret         Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-gcp-secret         Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo           Whether to load Piped config that is being stored in a git repository.\n      --default-version string         The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string           The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string              Branch of git repository to for Piped config.\n      --git-piped-config-file string   Relative path within git repository to locate Piped config file.\n      --git-repo-url string            The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-file string        The path to SSH private key to fetch private git repository.\n      --grace-period duration          How long to wait for graceful shutdown. (default 30s)\n  -h, --help                           help for launcher\n      --home-dir string                The working directory of Launcher.\n      --insecure                       Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int        The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for secret encryption in PipeCD. The private key is used for decryption, while the public key is used for encryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: Command to create a Google Cloud VM instance running Piped with remote-upgrade capability enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Referencing an Analysis Template in Kubernetes App Configuration\nDESCRIPTION: This YAML snippet shows how to reference a previously defined Analysis Template in a Kubernetes application configuration. It demonstrates the use of the 'template' field within the pipeline stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in YAML\nDESCRIPTION: Configuration snippet for adding a Google Cloud Run provider. This requires the GCP project name, Cloud Run region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for a Cloud Run platform provider in PipeCD. It requires specifying the Google Cloud project, region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run provider specifying GCP project, region, and service account credentials for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Agent YAML\nDESCRIPTION: YAML configuration file for setting up a Piped agent, including project settings, authentication, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of a Kubernetes Secret manifest that uses an encrypted secret. The password field is populated using the .encryptedSecrets context to access the decrypted value.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from stdin using pipectl\nDESCRIPTION: Command to encrypt plaintext data provided via stdin for use in PipeCD deployments. Requires control plane API address, API key, and Piped ID parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_25\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Using Remote Git Helm Chart in Kubernetes Application\nDESCRIPTION: Configuration for loading a Helm chart from a different git repository (remote git chart) with specific ref and path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in YAML\nDESCRIPTION: AWS Lambda provider configuration with region, profile, and credentials specification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Notifications Configuration in YAML\nDESCRIPTION: Specifies the configuration for notifications in PipeCD. It includes fields for defining notification routes and receivers, including Slack and webhook configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\nNotifications:\n  routes:\n    - name: \"string\"  # Required: Name of the route\n      receiver: \"string\"  # Required: Name of the receiver\n      events: [\"string\"]  # Optional: List of events to route\n      ignoreEvents: [\"string\"]  # Optional: List of events to ignore\n      groups: [\"string\"]  # Optional: List of event groups to route\n      ignoreGroups: [\"string\"]  # Optional: List of event groups to ignore\n      apps: [\"string\"]  # Optional: List of applications to route events from\n      ignoreApps: [\"string\"]  # Optional: List of applications to ignore events from\n      labels: {\"key\": \"value\"}  # Optional: Labels to route\n      ignoreLabels: {\"key\": \"value\"}  # Optional: Labels to ignore\n  receivers:\n    - name: \"string\"  # Required: Name of the receiver\n      slack:\n        hookURL: \"string\"  # Required: Slack channel hook URL\n        oauthToken: \"string\"  # Optional: Slack API OAuth token\n        channelID: \"string\"  # Optional: Slack channel ID\n      webhook:\n        url: \"string\"  # Required: Webhook URL\n        signatureKey: \"string\"  # Optional: HTTP header key for signature\n        signatureValue: \"string\"  # Optional: Signature value\n        signatureValueFile: \"string\"  # Optional: Path to signature value file\n```\n\n----------------------------------------\n\nTITLE: PipeCD Helm Deployment with Remote Upgrade and Config\nDESCRIPTION: Advanced Helm deployment that enables both remote-upgrade and remote-config features. Allows version upgrades via web console and automatic config updates from a Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Installation with Secret Keys\nDESCRIPTION: Helm installation options to configure Piped with the generated public and private keys for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Enabling Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable secret management in Piped. It specifies the type of secret management and the paths to the private and public key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in PipeCD\nDESCRIPTION: Configuration snippet showing how to add a Helm chart repository to the piped configuration file. This example enables the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with a specific version, requiring manual restarts for upgrades or configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Custom Args for CANARY_BASELINE Strategy in PipeCD\nDESCRIPTION: This snippet shows how to use custom arguments in the CANARY_BASELINE strategy configuration. It defines baselineArgs and canaryArgs, which can be referenced in the query using Go templating.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Listing Deployments for an Application\nDESCRIPTION: Command to show a list of deployments for a specific application based on filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_17\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment in YAML\nDESCRIPTION: This YAML configuration defines a Lambda function deployment using a container image. It specifies function details such as name, image, IAM role, memory, timeout, tags, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  # vpcConfig is optional value. If you define a vpc configuration to lambda, you can\n  # use this field.\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in Application Configuration\nDESCRIPTION: YAML configuration for defining event watchers with labels in a Kubernetes application configuration. This approach makes event handling more specific by requiring exact label matches.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Repositories\nDESCRIPTION: This command demonstrates how to install piped using Helm, including the configuration for accessing private Git repositories with an SSH key. It sets the piped config file, piped key file, and private SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in YAML\nDESCRIPTION: Basic configuration for a Kubernetes platform provider that connects to the cluster where piped is running. This provider watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in PipeCD\nDESCRIPTION: This YAML configuration defines an analysis template for PipeCD. It specifies metrics for monitoring, including error rate percentage, with details on the provider, failure limits, and expected values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Storing Configuration in AWS Parameter Store\nDESCRIPTION: Bash command for storing the Piped configuration in AWS Systems Manager Parameter Store using the AWS CLI.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Downloading and Installing pipectl Binary\nDESCRIPTION: This snippet shows how to download, make executable, and move the pipectl binary to the system PATH. It also includes a command to verify the installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Application Configuration with Local Helm Chart\nDESCRIPTION: Configuration for a Kubernetes application that uses a Helm chart from the same git repository. The chart is located at a relative path from the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda provider including region, profile, and credentials file settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of how to access an encrypted secret in a Kubernetes Secret manifest. PipeCD will decrypt the secret before applying the manifest.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped YAML\nDESCRIPTION: This YAML snippet shows how to add a Git repository to the piped configuration file. It specifies the repository ID, remote URL, and branch to be used for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition for Managing Piped Task\nDESCRIPTION: JSON service definition for creating an ECS service to control the Piped task deployment, ensuring the task remains running and restarts automatically if it stops unexpectedly.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1, # This must be 1.\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\", # This is need to enable ECS deployment to pull piped container images.\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: This YAML configuration file sets up Piped for installation on a single machine. It includes project and Piped identification, API address, Git repository settings, and sync interval. Users need to replace placeholders with their specific values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Base configuration structure for a Cloud Run application deployment in PipeCD. Defines the API version and basic spec structure for Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD YAML\nDESCRIPTION: Sample configuration for a Kubernetes application in PipeCD. The configuration file must be suffixed with .pipecd.yaml and defines the application name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for KubernetesApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/kubernetes/\n\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: PipeCD Application Configuration for Canary Deployment\nDESCRIPTION: PipeCD configuration file defining the canary deployment strategy with stages for rollout, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application with pipectl\nDESCRIPTION: Shows how to trigger a sync for an application and optionally wait for specific deployment statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access in Kubernetes\nDESCRIPTION: This command sets up port forwarding to access Grafana on localhost:3000. It forwards traffic from the Grafana service in the specified namespace to the local machine.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Service for Canary Deployment\nDESCRIPTION: Basic Kubernetes Service configuration that uses label selector to route traffic between canary and primary workloads.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Documenting Analysis Configuration Fields\nDESCRIPTION: Configuration fields for analysis capabilities including metrics, logs, and HTTP analysis options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_10\n\nLANGUAGE: markdown\nCODE:\n```\n## AnalysisMetrics\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| provider | string | The unique name of provider defined in the Piped Configuration. | Yes |\n| strategy | string | The strategy name. One of `THRESHOLD` or `PREVIOUS` or `CANARY_BASELINE` or `CANARY_PRIMARY` is available. Defaults to `THRESHOLD`. | No |\n| query | string | A query performed against the [Analysis Provider](../../concepts/#analysis-provider). The stage will be skipped if no data points were returned. | Yes |\n| expected | [AnalysisExpected](#analysisexpected) | The statically defined expected query result. This field is ignored if there was no data point as a result of the query. | Yes if the strategy is `THRESHOLD` |\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: YAML configuration for a Terraform application in PipeCD. This defines basic application properties including name and team label. The configuration file must be suffixed with .pipecd.yaml to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for TerraformApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/terraform/\n\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Remote Helm Chart Repository Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a Helm chart repository with specific version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Service for Piped Task Deployment\nDESCRIPTION: This JSON defines an ECS service to control the Piped task deployment. It specifies the cluster, desired count, task definition, and network configuration for the Piped service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\",\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Defines an Istio DestinationRule that creates primary and canary subsets based on the pipecd.dev/variant label. This enables traffic splitting between different variants of the application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function directly from source code in a git repository. Specifies git source details, runtime configuration, and function settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in Piped Configuration\nDESCRIPTION: Example YAML configuration for adding an OCI-based Helm chart registry to a piped configuration file. This snippet shows how to specify the registry address and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Using Remote Git Helm Chart in Kubernetes App Configuration\nDESCRIPTION: Kubernetes application configuration using a Helm chart from a different git repository. This specifies the git repository URL, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Creating a CloudRun Application in PipeCD with Terraform\nDESCRIPTION: This snippet shows how to define a CloudRun application in PipeCD using Terraform. It includes configuration for the application kind, name, description, platform provider, associated Piped agent, and Git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\n// CloudRun Application\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS stage with THRESHOLD strategy in Kubernetes\nDESCRIPTION: This snippet shows how to configure the ANALYSIS stage using the THRESHOLD strategy for a Kubernetes application. It specifies the duration, metrics provider, query interval, and expected threshold for the analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing\nDESCRIPTION: Defines Istio VirtualService to route all initial traffic to the primary subset\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN Stage in PipeCD Kubernetes Pipeline\nDESCRIPTION: Example of configuring a SCRIPT_RUN stage within a PipeCD Kubernetes application pipeline. It demonstrates how to set environment variables and define commands to run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm (Basic Configuration)\nDESCRIPTION: This Helm command installs or upgrades Piped with basic configuration. It sets up Piped without remote-upgrade or remote-config features, configuring various security settings and disabling the default Kubernetes cloud provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Application Configuration in YAML\nDESCRIPTION: Configuration structure for an ECS application in PipeCD. Includes fields for application metadata, deployment input, triggers, and pipeline settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm for Firestore and GCS\nDESCRIPTION: Helm command to install PipeCD Control Plane with Firestore and GCS configuration. Sets the configuration file, encryption key, and service account credentials for both Firestore and GCS services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring Launcher Runtime Options with Command-Line Flags\nDESCRIPTION: Lists all available command-line flags for configuring the launcher component, which is responsible for managing Piped. Options include configuration sources (Git, AWS, GCP), version management, and operational settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string                  The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --aws-ssm-parameter string              The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --cert-file string                      The path to the TLS certificate file.\n      --check-interval duration               Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string                    The base64 encoded string of the configuration data.\n      --config-file string                    The path to the configuration file.\n      --config-from-aws-secret                Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-aws-ssm-parameter-store   Whether to load Piped config that is being stored in AWS Systems Manager Parameter Store.\n      --config-from-gcp-secret                Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo                  Whether to load Piped config that is being stored in a git repository.\n      --default-version string                The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string                  The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string                     Branch of git repository to for Piped config.\n      --git-piped-config-file string          Relative path within git repository to locate Piped config file.\n      --git-repo-url string                   The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-data string               Base64 encoded value of SSH private key to fetch Piped config from the private git repository.\n      --git-ssh-key-file string               The path to SSH private key to fetch Piped config from private git repository.\n      --grace-period duration                 How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                  help for launcher\n      --home-dir string                       The working directory of Launcher.\n      --insecure                              Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int               The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Auth0 Custom Roles Mapping Action\nDESCRIPTION: JavaScript code for Auth0 Actions to map role information to custom claims in the ID token.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nexports.onExecutePostLogin = async (event, api) => {\n  let namespace = \"custom\";\n  if (namespace && !namespace.endsWith(\"/\")) {\n    namespace += \":\";\n  }\n  api.idToken.setCustomClaim(namespace + \"roles\", event.authorization.roles);\n};\n```\n\n----------------------------------------\n\nTITLE: Managing Piped Agent with Terraform\nDESCRIPTION: This snippet demonstrates how to create and manage a Piped agent resource using Terraform. It includes configuration for the agent's name, description, and ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD\nDESCRIPTION: Commands to generate an encryption key for securing sensitive data and JWT token authentication in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in YAML\nDESCRIPTION: Configuration for an AWS ECS platform provider specifying region, profile, and credentials file location.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining AnalysisProviderPrometheusConfig in YAML\nDESCRIPTION: Specifies the configuration structure for Prometheus as an analysis provider in PipeCD. It includes fields for the server address and optional authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nAnalysisProviderPrometheusConfig:\n  address: \"string\"  # Required: The Prometheus server address\n  usernameFile: \"string\"  # Optional: Path to the username file\n  passwordFile: \"string\"  # Optional: Path to the password file\n```\n\n----------------------------------------\n\nTITLE: Executing Launcher with Runtime Options in Bash\nDESCRIPTION: This snippet demonstrates the usage and available flags for running the launcher component. It includes options for configuration management, integration with cloud services, and periodic checks for updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string                  The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --aws-ssm-parameter string              The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --cert-file string                      The path to the TLS certificate file.\n      --check-interval duration               Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string                    The base64 encoded string of the configuration data.\n      --config-file string                    The path to the configuration file.\n      --config-from-aws-secret                Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-aws-ssm-parameter-store   Whether to load Piped config that is being stored in AWS Systems Manager Parameter Store.\n      --config-from-gcp-secret                Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo                  Whether to load Piped config that is being stored in a git repository.\n      --default-version string                The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string                  The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string                     Branch of git repository to for Piped config.\n      --git-piped-config-file string          Relative path within git repository to locate Piped config file.\n      --git-repo-url string                   The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-data string               Base64 encoded value of SSH private key to fetch Piped config from the private git repository.\n      --git-ssh-key-file string               The path to SSH private key to fetch Piped config from private git repository.\n      --grace-period duration                 How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                  help for launcher\n      --home-dir string                       The working directory of Launcher.\n      --insecure                              Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int               The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in Piped Configuration\nDESCRIPTION: YAML configuration that specifies which Git repositories the piped should observe for events. Each repository is identified by its repoId which must be added to the gitRepos list under the eventWatcher section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in Piped Configuration\nDESCRIPTION: This snippet shows how to add a Helm chart registry to the piped configuration file, including authentication details. It configures an OCI registry with username and password.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: PipeCD Control Plane Config with MySQL and MINIO\nDESCRIPTION: Configuration file example for PipeCD control plane using MySQL v8 as datastore and MINIO as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using container images. Includes required fields like name, image, role, memory, and timeout along with optional fields for tags, environments and VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  ephemeralStorage:\n    size: 512\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Shell command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for a Datadog analysis provider in the Piped configuration. It includes the provider name, type, and file paths for the API key and application key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in PipeCD\nDESCRIPTION: Configuration for an AWS ECS provider specifying region, profile, and credentials file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for Event Watcher in PipeCD\nDESCRIPTION: Basic configuration for specifying which Git repositories should be monitored by the event watcher. Requires listing repository IDs in the gitRepos section of the Piped configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: This YAML configuration file sets up the Piped instance with project details, API address, Git repository information, and sync interval. It requires filling in placeholders for project-specific values such as PROJECT_ID, PIPED_ID, and Git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to set up a Terraform platform provider in PipeCD. It includes a list of shared Terraform variables that will be applied during application deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via curl and chmod (Bash)\nDESCRIPTION: Downloads the pipectl binary for the specified OS, makes it executable, and moves it to the system PATH.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\nchmod +x ./pipectl\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager with Slack Integration\nDESCRIPTION: YAML configuration for setting up Slack notifications in Alertmanager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in YAML\nDESCRIPTION: This snippet demonstrates how to configure PipeCD to ignore specific fields during drift detection. It shows how to ignore the replicas field and container arguments in the app.pipecd.yaml configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example of EventWatcher configuration using labels to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with Remote-upgrade for Cloud Run (YAML)\nDESCRIPTION: This Cloud Run service manifest configures Piped with the remote-upgrade feature enabled. It uses the launcher image, sets up volume mounts for the configuration, and specifies resource limits and concurrency settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with Firestore and GCS in YAML\nDESCRIPTION: YAML configuration for PipeCD Control Plane using Firestore as the datastore and Google Cloud Storage (GCS) as the filestore. Specifies required service account permissions and credentials file locations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring Auth0 SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up Auth0 as an OIDC provider in PipeCD Control Plane. It includes client ID, client secret, issuer URL, redirect URI, and required scopes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<AUTH0_ADDRESS>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the piped configuration file. It includes the name and address of the chart repository, using PipeCD's official chart repository as an example.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Running Piped with Configuration File\nDESCRIPTION: This command starts the Piped process using the specified configuration file. It's the final step in setting up Piped on a single machine after preparing the configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring FileDB for PipeCD Control Plane in YAML\nDESCRIPTION: This YAML snippet demonstrates how to configure the PipeCD control plane to use FileDB as the datastore and MinIO as the filestore. It includes settings for the MinIO endpoint, bucket, access keys, and project configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/may-2022-update.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n    apiVersion: \"pipecd.dev/v1beta1\"\n    kind: ControlPlane\n    spec:\n      datastore:\n        type: FILEDB\n      filestore:\n        type: MINIO\n        config:\n          endpoint: http://pipecd-minio:9000\n          bucket: quickstart\n          accessKeyFile: /etc/pipecd-secret/minio-access-key\n          secretKeyFile: /etc/pipecd-secret/minio-secret-key\n          autoCreateBucket: true\n      projects:\n        - id: quickstart\n          staticAdmin:\n            username: hello-pipecd\n            passwordHash: \"$2a$10$ye96mUqUqTnjUqgwQJbJzel/LJibRhUnmzyypACkvrTSnQpVFZ7qK\" # bcrypt value of \"hello-pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Encrypting secret data using pipectl\nDESCRIPTION: Demonstrates how to encrypt sensitive data using pipectl, either from stdin or a file, for use in PipeCD deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: bash\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped on Kubernetes with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in YAML\nDESCRIPTION: This snippet presents the configuration for an Amazon ECS application in PipeCD. It includes the API version, kind, and basic spec containing name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: This YAML snippet shows how to add a new Git repository to the piped configuration file. It specifies the repository ID, remote URL, and target branch that piped will use for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Installation\nDESCRIPTION: This YAML configuration file defines the basic settings for a Piped instance, including project ID, Piped ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet defines the basic structure for an ECS application configuration in PipeCD. It includes the apiVersion, kind, and spec fields, which are essential for defining an ECS application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally\nDESCRIPTION: Command to run a Piped agent locally with a specified configuration file. Can be connected to a local Control Plane using the INSECURE flag.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/contribution-guidelines/development.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Sample PipeCD ECS Application Configuration in YAML\nDESCRIPTION: Provides an example of a generated app.pipecd.yaml configuration for an ECS application, including application name, input files, and target group settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_27\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform cloud provider with shared variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in YAML for PipeCD\nDESCRIPTION: This snippet demonstrates how to define an Analysis Template in YAML format for PipeCD. It includes a metric for HTTP error rate using Prometheus as the provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key in Console\nDESCRIPTION: Commands to generate an encryption key required for encrypting sensitive data and JWT token signing in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Binary Download Command\nDESCRIPTION: Command to download the pipectl binary for either Darwin or Linux operating systems.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in YAML\nDESCRIPTION: This snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm\nDESCRIPTION: Helm commands for installing Piped in different modes including basic installation, remote-upgrade, and remote-config capabilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode, restricting its permissions to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: YAML configuration for a Google Cloud Run application in PipeCD. This defines basic application properties including name and team label. The configuration file must be suffixed with .pipecd.yaml to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for CloudRunApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/cloudrun/\n\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This code shows the configuration for a Cloud Run platform provider in PipeCD. It requires the Google Cloud project name, region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Helm Chart Repository for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a Helm chart from a Helm chart repository for a Kubernetes application in PipeCD, specifying the repository, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Building Go Modules in PipeCD\nDESCRIPTION: Builds all go modules including pipecd, piped, pipectl using the make command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nmake build/go\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager for Piped Configuration\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in Application Configuration\nDESCRIPTION: YAML configuration showing how to define event watching behavior directly in the Kubernetes application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to a Slack channel. It specifies the Slack webhook URL and the target channel for alerts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Primary Variant\nDESCRIPTION: A Kubernetes Deployment manifest for the primary variant of the application. This includes the necessary 'pipecd.dev/variant: primary' labels that PipeCD uses to identify the primary workload.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in PipeCD Kubernetes Application\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT stage to a PipeCD Kubernetes application deployment pipeline. The WAIT stage is configured with a duration of 5 minutes, positioned between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Application Configuration in YAML\nDESCRIPTION: This code snippet demonstrates how to configure an ECS application in PipeCD. It specifies the API version, kind, and includes basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This YAML configuration shows how to set up a notification route and receiver for sending all PipeCD events to an external service via webhook. It includes the webhook URL and a signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Script Run Stages\nDESCRIPTION: Example configuration showing how to implement SCRIPT_RUN stages within a Kubernetes application pipeline, including environment variables and multiple script execution points.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Environment with Encrypted Secret\nDESCRIPTION: YAML configuration for a Lambda function in PipeCD, demonstrating how to use an encrypted secret as an environment variable. The KEY environment variable is set using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Helm Chart for Kubernetes Deployment in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a local Helm chart for a Kubernetes application in PipeCD. The chart is loaded from the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm Chart Update Event\nDESCRIPTION: Command to register a new Helm chart version event that will trigger the update of the version field in the application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Complete Canary Deployment Pipeline with CANARY_BASELINE Analysis\nDESCRIPTION: Full pipeline configuration demonstrating canary deployment with baseline comparison analysis, including cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Launcher Runtime Options\nDESCRIPTION: Command-line flags for configuring the PipeCD launcher, including options for configuration management, version control, security settings, and operational parameters. Includes settings for configuration sources like AWS Secrets Manager, GCP SecretManager, and Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string           The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --cert-file string               The path to the TLS certificate file.\n      --check-interval duration        Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string             The base64 encoded string of the configuration data.\n      --config-file string             The path to the configuration file.\n      --config-from-aws-secret         Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-gcp-secret         Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo           Whether to load Piped config that is being stored in a git repository.\n      --default-version string         The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string           The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string              Branch of git repository to for Piped config.\n      --git-piped-config-file string   Relative path within git repository to locate Piped config file.\n      --git-repo-url string            The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-file string        The path to SSH private key to fetch private git repository.\n      --grace-period duration          How long to wait for graceful shutdown. (default 30s)\n  -h, --help                           help for launcher\n      --home-dir string                The working directory of Launcher.\n      --insecure                       Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int        The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: This snippet shows the configuration for a Cloud Run platform provider in PipeCD. It requires the Google Cloud project name, region, and optionally a service account file for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Event Watcher Configuration in YAML for PipeCD\nDESCRIPTION: This snippet demonstrates how to configure an event watcher in PipeCD. It specifies an event name and defines replacements to be made in a deployment file when the event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with MySQL and MinIO (YAML)\nDESCRIPTION: Example configuration file for PipeCD Control Plane using MySQL as datastore and MinIO as filestore. Includes settings for state key, datastore, and filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: PipeCD Post-Sync and Event Watcher Configuration\nDESCRIPTION: Documentation for post-deployment configurations including deployment chains and event watchers. Includes fields for configuring event matching, handling, and git-based updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_9\n\n\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of a Kubernetes Secret manifest that references an encrypted secret. The template syntax '{{ .encryptedSecrets.password }}' will be replaced with the decrypted value by Piped before deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Base configuration structure for a Terraform application deployment in PipeCD. Specifies the API version and basic spec structure for Terraform deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment\nDESCRIPTION: YAML configuration for deploying a Lambda function directly from source code in a git repository. Specifies source location, git reference, and function runtime settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account for Piped\nDESCRIPTION: Commands to create and configure a service account with necessary IAM roles for Piped operation including secret access and logging permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Provider Settings in PipeCD\nDESCRIPTION: Defines configuration structures for Prometheus and Datadog analysis providers including server addresses, authentication details, and API keys\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nanalysis:\n  provider:\n    prometheus:\n      address: \"http://prometheus:9090\"\n      usernameFile: \"/path/to/username\"\n      passwordFile: \"/path/to/password\"\n    datadog:\n      address: \"datadoghq.com\"\n      apiKeyFile: \"/path/to/api-key\"\n      applicationKeyFile: \"/path/to/app-key\"\n      apiKeyData: \"base64-encoded-key\"\n      applicationKeyData: \"base64-encoded-key\"\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a public-private key pair for secret encryption in PipeCD. This key pair is required for the secret management feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Defining Configuration Content for Attachment in YAML\nDESCRIPTION: Example YAML configuration file that contains MySQL connection details including root password and database name. This file will be used as an attachment source in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Roles for Piped on Google Cloud\nDESCRIPTION: These commands create a new service account for Piped, grant it access to the configuration secret, and assign necessary roles for logging and optionally for Cloud Run management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Helm Chart Repository\nDESCRIPTION: Example of configuring a Kubernetes application to use a Helm chart from a configured chart repository. Specifies the repository, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Task Definition for Piped with Remote-Upgrade Capability\nDESCRIPTION: JSON task definition for deploying Piped with remote-upgrade functionality using the launcher container. This allows upgrading Piped to a new version from the web console without redeploying the task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Piped Agent Configuration\nDESCRIPTION: Defines a Piped agent resource with name, description and ID configuration. Used to create and manage Piped agents through Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD (YAML)\nDESCRIPTION: Defines an EventWatcher configuration for PipeCD. It specifies how to watch for image updates and replace values in Kubernetes manifests.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: This YAML configuration file sets up Piped with project ID, Piped ID, API address, SSH key for Git access, and repository details. It also specifies the sync interval for Piped operations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Generated PipeCD ECS Application Configuration in YAML\nDESCRIPTION: This YAML snippet shows the generated app.pipecd.yaml configuration for an ECS application. It includes the application name, input specifications for service and task definitions, and target group configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Encrypting secret data for deployment using pipectl\nDESCRIPTION: This snippet shows how to use pipectl to encrypt secret data for use in deployments. It demonstrates two methods: reading from stdin and using an input file. This process is equivalent to encrypting secrets via the web interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Applying Alertmanager Configuration in PipeCD Helm Installation\nDESCRIPTION: This command shows how to apply the Alertmanager configuration when installing PipeCD using Helm. It uses the '--values' flag to specify a custom values file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App with Local Helm Chart\nDESCRIPTION: Kubernetes application configuration that uses a Helm chart from the local repository. The chart is located at a relative path from the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD\nDESCRIPTION: Event watcher configuration for monitoring and updating image references in Kubernetes deployments (deprecated feature).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Base configuration structure for an Amazon ECS application deployment in PipeCD, showing the required spec fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in YAML\nDESCRIPTION: Configuration for Terraform platform provider with shared terraform variables that will be applied during application deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for Event Watcher in PipeCD\nDESCRIPTION: This YAML configuration specifies which Git repositories should be observed by the Event Watcher. Multiple repositories can be listed by their repository IDs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Prometheus analysis provider in the Piped configuration file. It specifies the provider name, type, and the address of the Prometheus server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding PipeCD Console\nDESCRIPTION: Sets up port forwarding to access the PipeCD console on localhost after installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Deployment Manifest Example\nDESCRIPTION: Example Kubernetes deployment manifest showing typical fields that might be monitored for configuration drift.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Downloading pipectl binary via curl\nDESCRIPTION: Script to download the appropriate pipectl binary for your platform (macOS or Linux) from the GitHub releases page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings in Piped YAML\nDESCRIPTION: This YAML configuration sets custom Git user settings for Piped. It specifies a username and email to be used for Git commits made by the EventWatcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in YAML\nDESCRIPTION: This snippet illustrates the configuration for a Google Cloud Run application in PipeCD. It defines the API version, kind, and basic spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Cloud Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to add a Lambda cloud provider to the PipeCD configuration. It requires specifying the AWS region and optionally includes profile and credentials file settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with YAML Configuration File\nDESCRIPTION: YAML configuration file needed to set up and connect a Piped agent to the PipeCD control plane. The configuration includes project ID, Piped credentials, API address, Git repository access settings, and synchronization intervals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform platform provider named 'terraform-dev'. It includes shared terraform variables that will be applied when running deployments for its applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Capturing Execution Trace\nDESCRIPTION: Commands to capture execution trace data and analyze it using the go tool trace command. Saves trace data to trace.out file for visualization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example showing how to use labels in EventWatcher configuration to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Cloud Provider in PipeCD\nDESCRIPTION: Configuration for an AWS ECS provider that specifies the region, profile, and credentials file. Similar to Lambda, it supports multiple authentication methods for AWS authorization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Adding a new application with pipectl (Console)\nDESCRIPTION: Demonstrates how to add a new Kubernetes application to a PipeCD project using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Viewing Execution Trace with Go Tool Trace\nDESCRIPTION: This command views the execution trace data saved in the trace.out file using the go tool trace command. It provides a visual representation of the trace for analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in Piped YAML\nDESCRIPTION: This YAML snippet shows how to specify Git repositories for EventWatcher in the Piped configuration. It lists multiple repositories to be observed by the EventWatcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade using Helm\nDESCRIPTION: This Helm command installs Piped with the remote upgrade feature enabled, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Drift Detection Ignore Fields in YAML\nDESCRIPTION: This snippet demonstrates how to configure PipeCD to ignore specific fields during drift detection, such as replica count and container arguments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Configuring CloudRun Application in PipeCD YAML\nDESCRIPTION: Sample configuration for a Google Cloud Run application in PipeCD. The configuration file must be suffixed with .pipecd.yaml and defines the application name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for CloudRunApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/cloudrun/\n\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: This YAML configuration defines a Prometheus analysis provider for PipeCD. It specifies the provider name, type, and the address of the Prometheus server that Piped will use for querying metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from stdin with pipectl\nDESCRIPTION: Command to encrypt plaintext data from stdin using pipectl. Requires the control plane API address, API key, and Piped ID. The command reads the secret file from stdin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deleting an Application by ID\nDESCRIPTION: This command deletes an application with a given ID. It requires the Control Plane API address, API key, and the ID of the application to be deleted.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Deploying Basic Piped on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance with a container running Piped at a specific version, requiring manual restart for version upgrades or configuration changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application with Helm Chart\nDESCRIPTION: Configuration snippet demonstrating how to configure a Kubernetes application to use a Helm chart from a configured chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration data. The secret will be used when deploying the Piped container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Creating a Piped Agent with Terraform\nDESCRIPTION: This snippet demonstrates how to define a Piped agent resource in Terraform. It includes configuration for the agent's name, description, and ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition for Piped with Remote Upgrade\nDESCRIPTION: JSON task definition for Piped container with remote upgrade capability, including execution role, container configuration, and resource specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Executing External Script File Configuration\nDESCRIPTION: Example showing how to execute an external script file in a SCRIPT_RUN stage, demonstrating file organization and configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Example configuration structure for an ECS application deployment in PipeCD, showing the basic required fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Provider in YAML\nDESCRIPTION: Basic configuration for connecting PipeCD to a Kubernetes cluster. This example shows minimal configuration where piped connects to the cluster it's running in.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform platform provider that includes shared terraform variables to be applied during application deployments. This example sets a 'project' variable with the value 'pipecd'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure for configuring a Terraform application in PipeCD. It includes the API version, kind, and the start of the spec section for Terraform-specific configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application to Use Helm Chart Repository\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application in PipeCD to use a Helm chart from a previously defined chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Config\nDESCRIPTION: YAML configuration showing how to define event watchers directly in the application configuration file for Kubernetes applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running Plan Preview with pipectl in Console\nDESCRIPTION: Command to execute plan-preview using pipectl tool. This command connects to PipeCD's Control Plane with an API key and analyzes deployment changes for a specific pull request by comparing head and base branches.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Configuring an Application to Use a Helm Chart Repository\nDESCRIPTION: Example of how to configure a Kubernetes application to use a Helm chart from a previously defined chart repository. This snippet shows how to reference the 'pipecd' repository and specify the chart name and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure a Terraform platform provider with shared terraform variables. The variables defined here will be applied when running deployments for applications using this provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure for configuring a Cloud Run application in PipeCD. It includes the apiVersion, kind, and spec fields, which contain input and pipeline configurations specific to Cloud Run deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: Example of a service.yaml file required for Cloud Run deployments, which specifies service name, container image, resource limits, and autoscaling parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring AlertManager for Slack Notifications\nDESCRIPTION: YAML configuration for setting up Slack notifications via AlertManager in PipeCD monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function Deployment\nDESCRIPTION: YAML configuration for deploying a Lambda function using a ZIP file stored in S3. Includes S3 bucket details, runtime configuration, and function handler specification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to Slack. It includes global settings for the Slack webhook URL and defines a route to a Slack receiver.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade Feature\nDESCRIPTION: This Helm command installs or upgrades Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console, but still requires a restart for config updates. It includes similar security settings as the basic installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Basic PipeCD Configuration Template in YAML\nDESCRIPTION: Basic template showing the structure of a PipeCD configuration file with essential fields like projectID and pipedID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: This command uses the pipectl tool to generate a plan preview for a pull request. It requires the PipeCD control plane address, API key, repository details, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH } \\\n  --sort-label-keys={ SORT_LABEL_KEYS }\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in PipeCD\nDESCRIPTION: Defines secret management configuration including key pair and GCP KMS options for handling sensitive data\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nsecretManagement:\n  type: \"KEY_PAIR\"\n  config:\n    privateKeyFile: \"/path/to/private.key\"\n    privateKeyData: \"base64-encoded-key\"\n    publicKeyFile: \"/path/to/public.key\"\n    publicKeyData: \"base64-encoded-key\"\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD Control Plane\nDESCRIPTION: Commands to generate an encryption key for PipeCD, used for encrypting sensitive data and signing JWT tokens during authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Repositories\nDESCRIPTION: This console command demonstrates how to install piped using Helm, including the configuration of a private SSH key for accessing private Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Repositories\nDESCRIPTION: This command demonstrates how to install Piped using Helm while providing an SSH key for accessing private Git repositories. It sets the Piped configuration file, Piped key file, and private SSH key file paths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade\nDESCRIPTION: Shell command to create a Google Cloud VM instance with the Piped container directly, which requires manual restart when upgrading or updating configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service Definition\nDESCRIPTION: Basic Cloud Run service configuration that defines the service name, container settings, resource limits, and autoscaling parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Secret with Encrypted Data\nDESCRIPTION: Example of a Kubernetes Secret manifest using encrypted secrets through template variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Script File Execution Configuration\nDESCRIPTION: Example showing how to execute an external script file in the SCRIPT_RUN stage, demonstrating the file-based approach for longer scripts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Script Run with Rollback Configuration\nDESCRIPTION: Configuration example showing how to implement rollback functionality in SCRIPT_RUN stages, including environment variables for both normal execution and rollback scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Managing Piped Agent with Terraform\nDESCRIPTION: This snippet demonstrates how to manage a Piped agent using the PipeCD Terraform provider. It creates a 'pipecd_piped' resource with a name, description, and ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade and Remote Config on Kubernetes\nDESCRIPTION: This Helm command installs Piped on Kubernetes with both remote upgrade and remote config features enabled. It allows upgrading Piped versions and loading config from a Git repository, automatically restarting when config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider Configuration\nDESCRIPTION: Initialize the PipeCD Terraform provider with required provider block configuration. Includes host and API key settings that can be provided directly or via environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Pipeline with PREVIOUS Analysis\nDESCRIPTION: Pipeline configuration for primary deployment with analysis comparing against previous deployment metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Getting application information\nDESCRIPTION: Command to display information about a specific application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_17\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Kubernetes Application Config\nDESCRIPTION: Example of defining event watcher configuration directly in the Kubernetes application configuration file, specifying which files should be updated when an image update event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring THRESHOLD Strategy for Kubernetes App in PipeCD\nDESCRIPTION: Example configuration for the existing THRESHOLD strategy in PipeCD's Automated Deployment Analysis. This strategy uses static thresholds for metric evaluation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - provider: my-prometheus\n              interval: 10m\n              expected:\n                max: 0.1\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an Amazon ECS application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition for Ops Container\nDESCRIPTION: Terraform configuration for PipeCD ops container including port mappings and environment configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n{\nname  = \"pipecd-ops\"\nimage = var.ops_image_url\nportMappings = [\n  {\n    \"name\" : \"http\",\n    \"protocol\" : \"tcp\",\n    \"containerPort\" : 9082,\n    \"appProtocol\" : \"http\"\n  },\n  {\n    \"name\" : \"http\",\n    \"protocol\" : \"tcp\",\n    \"containerPort\" : 9085,\n    \"appProtocol\" : \"http\"\n  },\n]\ncommand = [\n  \"/bin/sh -c 'echo $CONTROL_PLANE_CONFIG; echo $CONTROL_PLANE_CONFIG | base64 -d >> control-plane-config.yaml; sed -i -e s/pipecd-mysql/${var.db_instance_address}/ control-plane-config.yaml; echo $ENCRYPTION_KEY >> encryption-key; pipecd ops --cache-address=${var.redis_host}:6379 --config-file=control-plane-config.yaml --log-encoding=humanize --metrics=true;'\"\n]\nentrypoint = [\n  \"sh\",\n  \"-c\"\n]\nsecrets = [\n  {\n    \"name\" : \"ENCRYPTION_KEY\",\n    \"valueFrom\" : \"arn:aws:secretsmanager:${data.aws_region.current.id}:${data.aws_caller_identity.self.account_id}:secret:${var.encryption_key_secret}\"\n  },\n  {\n    \"name\" : \"CONTROL_PLANE_CONFIG\",\n    \"valueFrom\" : \"arn:aws:secretsmanager:${data.aws_region.current.id}:${data.aws_caller_identity.self.account_id}:secret:${var.control_plane_config_secret}\"\n  },\n]\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD control plane using Firestore as datastore and Google Cloud Storage (GCS) as filestore. Includes specifications for service account credentials and bucket configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in PipeCD\nDESCRIPTION: This YAML configuration specifies the Git repositories that Piped should watch for events. It lists multiple repositories using their repoId.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in Piped YAML\nDESCRIPTION: This YAML configuration specifies the Git repositories that Piped should observe for EventWatcher. It lists multiple repositories using their repoIds.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Filters in PipeCD YAML\nDESCRIPTION: This snippet demonstrates how to specify which EventWatcher files Piped should monitor by using the 'includes' filter. It configures Piped to only use EventWatcher files located in the '.pipe/dev/' directory with '.yaml' extension.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application for Quick Sync Deployment\nDESCRIPTION: This YAML configuration defines an ECS application for quick sync deployment. It specifies the application name, labels, service definition file, task definition file, and target group settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Running pipectl via Docker (Console)\nDESCRIPTION: Executes pipectl commands using a Docker container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure an ECS platform provider in PipeCD. It requires the AWS region where the ECS cluster is running, and optionally includes profile and credentials file information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Base configuration structure for an AWS Lambda application deployment in PipeCD. Specifies the API version and basic spec structure for Lambda functions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This YAML configuration shows how to set up a notification route and receiver for sending all PipeCD events to an external service via webhook. It includes the webhook URL and a signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider\nDESCRIPTION: This snippet shows how to configure the PipeCD Terraform provider in your Terraform configuration. It specifies the required provider source and version, and demonstrates how to configure the provider with optional host and API key parameters that can also be set through environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure a Terraform platform provider in PipeCD. It includes a list of shared Terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application with pipectl\nDESCRIPTION: Shows how to sync an application and optionally wait for specific deployment statuses using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in Namespaced Mode\nDESCRIPTION: Extended Piped configuration for namespace-scoped installation. Includes platform provider configuration to restrict access within a namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure an ECS platform provider in PipeCD. It requires the region name where the ECS cluster is running and optionally includes authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Running pipectl using Docker\nDESCRIPTION: This snippet demonstrates how to run pipectl using a Docker container. It shows how to execute the help command using a specific version of the pipectl Docker image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Kubernetes State Informer Configuration Schema\nDESCRIPTION: Configuration schema for Kubernetes resource watching and state monitoring including namespace and resource matching rules.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n| Field | Type | Description | Required |\n|-|-|-|-|\n| namespace | string | Only watches the specified namespace. | No |\n| includeResources | [][KubernetesResourcematcher] | List of resources to watch. | No |\n| excludeResources | [][KubernetesResourcematcher] | List of resources to ignore. | No |\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Application Configuration\nDESCRIPTION: The default configuration file (app.pipecd.yaml) that defines and configures a PipeCD application. This file must be present in the application directory within the Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/concepts/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napp.pipecd.yaml\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example of EventWatcher configuration using labels to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running Piped with Configuration File\nDESCRIPTION: This command starts the Piped instance using the specified configuration file. Users need to replace the placeholder with the actual path to their Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Cloud Provider in PipeCD\nDESCRIPTION: Basic configuration for a Kubernetes cloud provider that connects to the cluster where piped is running. This provider watches all predefined resources from all namespaces inside that cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Git Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to use a Helm chart from a different git repository for a Kubernetes application in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Gradual Rollout Pipeline\nDESCRIPTION: Example of a gradual rollout pipeline configuration for ECS applications with canary deployment. Includes stages for canary rollout, traffic routing, analysis, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      - name: ANALYSIS\n      - name: ECS_PRIMARY_ROLLOUT\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped on ECS\nDESCRIPTION: Commands for registering task definition and creating ECS service for Piped deployment\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from stdin\nDESCRIPTION: Command to encrypt plaintext secret data provided via stdin, using a specific piped ID for encryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_21\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl using Asdf version manager\nDESCRIPTION: This snippet shows how to install pipectl using the Asdf version manager. It covers adding the pipectl plugin, installing a specific version, setting it globally, and verifying the installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nasdf add plugin pipectl\n\nasdf install pipectl {VERSION}\n\nasdf global pipectl {VERSION}\n\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and update labels, which must be done via the configuration file in Git.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Initializing Control Plane Configuration in YAML for PipeCD\nDESCRIPTION: This YAML snippet shows the basic structure for configuring the Control Plane in PipeCD. It includes the API version, kind, and the beginning of the spec section where detailed configurations are added.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic metadata including name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the basic structure for configuring a Terraform application in PipeCD. It includes the apiVersion, kind, and spec fields, with placeholders for input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run\nDESCRIPTION: This command deploys the Piped service on Cloud Run using the gcloud CLI. It replaces the existing service configuration with the one specified in the YAML file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in PipeCD\nDESCRIPTION: Configuration for an Amazon ECS provider including region, profile, and credentials settings. Supports multiple authentication methods similar to Lambda provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in YAML\nDESCRIPTION: This snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic spec including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure for configuring a Cloud Run application in PipeCD. It includes the API version, kind, and the beginning of the spec section for Cloud Run-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: The basic structure of the Control Plane configuration file using YAML format. This snippet shows the required root elements with the apiVersion, kind and spec fields that form the foundation of the configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels\nDESCRIPTION: Example of configuring event watcher with labels for more specific event matching.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config Interactively\nDESCRIPTION: Interactive command example showing how to use pipectl init to generate an application configuration file. The tool prompts for platform selection and application details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Combining SCRIPT_RUN with Other Stages in Kubernetes Deployment (YAML)\nDESCRIPTION: This example shows how to integrate the SCRIPT_RUN stage with other deployment stages in a Kubernetes application pipeline. It includes canary deployment, approval, and a custom script to send a Slack notification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0011-script-run-stage.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 30m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n            env:\n              SLACK_WEBHOOK_URL: \"\"\n            runs:\n              - \"curl -X POST -H 'Content-type: application/json' --data '{\\\"text\\\":\\\"successfully deployed!!\\\"}' $SLACK_WEBHOOK_URL\"\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog Key Files in Helm Installation\nDESCRIPTION: This console command demonstrates how to set file paths for Datadog API and application keys when installing PipeCD using Helm. It uses the --set-file option to mount the key files during the upgrade process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image as Lambda Function in PipeCD\nDESCRIPTION: A sample function.yaml configuration for deploying a container image as a Lambda function. This config specifies the function name, image URI, IAM role, memory, timeout, tags, environment variables, and optional VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  # ephemeralStorage is optional value. If you define a ephemeral storage to lambda, you can\n  # use this field. The value must be in between 512 to 10240 MB.\n  ephemeralStorage:\n    size: 512\n  # vpcConfig is optional value. If you define a vpc configuration to lambda, you can\n  # use this field.\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function using a ZIP file stored in S3. Specifies runtime, handler, and S3 location details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML File for ECS Fargate\nDESCRIPTION: YAML configuration file for Piped installation on ECS Fargate. Includes project settings, API connection details, Git repository configuration, and optional platform providers for ECS applications and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring in PipeCD\nDESCRIPTION: This snippet shows how to enable cluster-wide metrics tracking in PipeCD by setting the 'monitoring.clusterStats' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade Feature\nDESCRIPTION: This Helm command installs Piped with the remote upgrade feature enabled, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task with Remote-upgrade Feature (JSON)\nDESCRIPTION: JSON task definition for Piped with remote-upgrade feature enabled. This allows upgrading Piped to a new version from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Basic YAML structure for configuring a Cloud Run application in PipeCD. This configuration includes the required apiVersion and kind fields, with placeholders for input and pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped in Namespaced Mode on Kubernetes\nDESCRIPTION: This Helm command installs Piped in namespaced mode on Kubernetes. It disables the default Kubernetes cloud provider and sets the RBAC scope to namespace, restricting Piped's permissions to a single namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Git Repositories (Console)\nDESCRIPTION: This console command shows how to install Piped using Helm while providing a private SSH key for accessing private Git repositories. The command includes parameters for the Piped configuration file, Piped key file, and SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in YAML\nDESCRIPTION: Configuration for a Cloud Run platform provider specifying GCP project, region, and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Combining Custom Stages with Default Stages in Kubernetes Application\nDESCRIPTION: Example showing how custom stages can be used alongside built-in PipeCD stages in a Kubernetes application pipeline, including canary deployment, approval, and webhook integration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0010-custom-stage.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: wait-approval\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT_APPROVAL\n        with:\n          approvers:\n            - nghialv\n      - name: CUSTOM_WEB_HOOK\n        runs:\n          - \"curl https://hooks.slack.com\"\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC in a Lambda Application Pipeline\nDESCRIPTION: This example shows how to configure a CUSTOM_SYNC stage for a Lambda application in PipeCD. The configuration includes setting up environment variables and defining commands to build and deploy a SAM application. The 'alwaysUsePipeline' flag is set to true to force using the CUSTOM_SYNC stage instead of the default QUICK_SYNC.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN Stage with Canary Deployment\nDESCRIPTION: Example configuration showing how to use SCRIPT_RUN stage within a Kubernetes canary deployment pipeline, including environment variables and multiple script executions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher File Patterns in PipeCD\nDESCRIPTION: Advanced configuration showing how to specify which event watcher files should be monitored using includes patterns. This helps prevent conflicts when multiple Pipeds handle a single repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task with Remote-upgrade for ECS Fargate\nDESCRIPTION: This JSON task definition sets up Piped with remote-upgrade capability for ECS Fargate. It uses the launcher image to enable upgrading Piped to a new version from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: IAM Permissions for LambdaApp Deployment in PipeCD\nDESCRIPTION: This JSON policy defines the IAM permissions required for a Piped to deploy Lambda applications. It includes actions for creating and managing Lambda functions, aliases, versions, and tags. The policy also includes the required permissions for passing roles to Lambda functions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:ListFunctions\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Event Watcher Configuration with Labels\nDESCRIPTION: Example showing how to configure event watcher with labels for more specific event matching.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Binary Executable\nDESCRIPTION: Changes the permissions of the downloaded pipectl binary to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System in Helm Installation\nDESCRIPTION: This snippet shows how to enable the monitoring system when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: This snippet demonstrates how to use pipectl to add a new application to a PipeCD project, specifying various parameters such as application name, kind, and repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring via Helm\nDESCRIPTION: Helm installation command to enable the monitoring system in PipeCD during Control Plane installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Running ECS Task and Service Commands\nDESCRIPTION: AWS CLI commands for registering task definition, running tasks, and creating services in ECS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in Application Config\nDESCRIPTION: Example of defining event watcher with labels in the Kubernetes application configuration file, allowing for more granular control over which events trigger updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in YAML\nDESCRIPTION: Configuration for AWS Lambda platform provider including region, profile, and credentials file settings for AWS authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in PipeCD\nDESCRIPTION: Configuration for adding an AWS Lambda provider including region specification and AWS credentials setup. Supports multiple authentication methods including environment variables and EC2 instance roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote Upgrade and Remote Config using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode with both remote upgrade and remote config features enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl\nDESCRIPTION: Command to register a new event with PipeCD using the pipectl command-line tool, which triggers the automatic update of deployment configuration files based on EventWatcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service with Remote-upgrade\nDESCRIPTION: Cloud Run service manifest for Piped with remote-upgrade capability, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: Basic configuration for adding a Git repository to piped. This example shows how to configure the pipe-cd/examples repository using its master branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for webhook services in PipeCD. It shows how to send all events to an external service with a webhook URL and signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Cloud Provider in PipeCD\nDESCRIPTION: Configuration for a Terraform cloud provider in PipeCD. This example includes shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates how to update an application's configuration in PipeCD. It shows changing the application name and team label in the YAML file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Disabling an application\nDESCRIPTION: Disables an application with the given ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_19\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade\nDESCRIPTION: Helm command for installing Piped with remote upgrade capability enabled through web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Wildcard RBAC Policies in YAML\nDESCRIPTION: These snippets show how to use wildcards in RBAC policy definitions. They demonstrate how to grant all actions on specific resources, all resources for specific actions, or all actions on all resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped\nDESCRIPTION: Configuration snippet showing how to add a Helm chart repository to the Piped configuration file. This example demonstrates enabling the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service for Project Management\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD ops service to manage projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Registering Event with Labels\nDESCRIPTION: Command to register an event with specific labels using pipectl CLI tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Displaying pipectl help information\nDESCRIPTION: Command to show the available commands and flags for pipectl, including application, deployment, and other resource management commands.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl --help\n\nThe command line tool for PipeCD.\n\nUsage:\n  pipectl [command]\n\nAvailable Commands:\n  application  Manage application resources.\n  deployment   Manage deployment resources.\n  encrypt      Encrypt the plaintext entered in either stdin or the --input-file flag.\n  event        Manage event resources.\n  help         Help about any command\n  init         Generate an application config (app.pipecd.yaml) easily and interactively.\n  piped        Manage piped resources.\n  plan-preview Show plan preview against the specified commit.\n  version      Print the information of current binary.\n\nFlags:\n  -h, --help                               help for pipectl\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n\nUse \"pipectl [command] --help\" for more information about a command.\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Helm Chart in PipeCD Kubernetes Application\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application in PipeCD using a Helm chart from a Helm chart repository. It specifies the repository, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Using Remote Helm Chart Repository in Kubernetes Application\nDESCRIPTION: Configuration for loading a Helm chart from a Helm chart repository (remote chart) with specific name and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Initializing Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It includes the API version and kind, along with a spec section that will contain the detailed configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: AWS Secret Management Commands\nDESCRIPTION: Commands for storing Piped configuration in AWS Secrets Manager or Systems Manager Parameter Store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Asdf\nDESCRIPTION: This snippet demonstrates how to install pipectl using the Asdf version manager. It includes commands for adding the plugin, installing a specific version, setting the global version, and verifying the installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Applying Alertmanager Configuration\nDESCRIPTION: Command to apply the Alertmanager configuration during PipeCD installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key with OpenSSL or Dev Random for PipeCD\nDESCRIPTION: Commands to generate an encryption key required by PipeCD for encrypting sensitive data and signing JWT tokens during authentication. Provides two alternative methods using either openssl or /dev/urandom.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for setting up PipeCD control plane using Google Firestore as datastore and Google Cloud Storage as filestore.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: ECS Task and Service Management Commands\nDESCRIPTION: AWS CLI commands for registering task definition, running tasks, and creating ECS service for Piped deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: This snippet shows how to define a basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Basic Configuration using Helm\nDESCRIPTION: This Helm command installs Piped with basic configuration. It sets up RBAC, security contexts, and disables the default Kubernetes cloud provider. The command requires paths to configuration files and specifies a custom image repository for OpenShift compatibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring a WAIT Stage in PipeCD Kubernetes Deployment Pipeline\nDESCRIPTION: This snippet demonstrates how to add a WAIT stage to a Kubernetes deployment pipeline in PipeCD. The WAIT stage is configured with a duration of 5 minutes, causing the pipeline to pause between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Multi-Target PipelineSync in app.pipecd.yaml\nDESCRIPTION: Configuration for deploying to multiple clusters using PipelineSync with staged deployments. The pipeline stages reference target IDs defined in the multiTarget section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0014-multi-cluster-deployment-for-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: microservice-a\n  labels:\n    env: prd\n    team: product\n  quickSync:\n    prune: true\n  input:\n    multiTarget:\n      - targetID: hoge\n        provider:\n          name: cluster-hoge # platform provider name\n        manifests: ./cluster-hoge # the resource dir\n        kubectlVersion: 1.30\n        kustomizeDir: ./cluster-hoge\n        kustomizeVersion: v5.4.3\n        kustomizeOptions:\n          enable-helm: \"\"\n          load-restrictor: \"LoadRestrictionsNone\"\n      - targetID: fuga\n        provider:\n          name: cluster-fuga # platform provider name\n        kubectlVersion: 1.30\n        kustomizeDir: ./cluster-fuga\n        kustomizeVersion: v5.4.3\n        kustomizeOptions:\n          enable-helm: \"\"\n          load-restrictor: \"LoadRestrictionsNone\"\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n          multiTarget:\n            - targetID: hoge\n            - targetID: fuga\n...\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container configuration, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Initializing Control Plane Configuration in YAML for PipeCD\nDESCRIPTION: This snippet shows the basic structure of a Control Plane configuration file for PipeCD. It includes the API version, kind, and the beginning of the spec section with the address field.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade and Remote Config\nDESCRIPTION: Comprehensive Helm command that enables both remote upgrade and remote configuration features, allowing version updates and config management through Git repository integration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual ECS Deployment Pipeline with Canary\nDESCRIPTION: Configuration example showing how to set up a gradual deployment pipeline for an ECS application with canary testing, traffic routing, and analysis stages. Includes configuration for service definition, task definition, and target groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    # Default is `service.json`\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in PipeCD\nDESCRIPTION: This snippet illustrates how to add a Helm chart registry with OCI support and authentication to the PipeCD configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Example Pipeline with PREVIOUS Strategy for Primary Analysis\nDESCRIPTION: Complete pipeline configuration showing primary deployment with PREVIOUS-based analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD\nDESCRIPTION: Deprecated configuration for event watchers that defines event handling and file replacements based on triggers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML snippet shows how to configure a Kubernetes application in PipeCD to use a local Helm chart. The chart is located in the same Git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for ECSApp Deployments in AWS\nDESCRIPTION: This JSON defines the IAM policy for deploying ECS applications. It includes permissions for ECS service management, task definitions, and load balancer operations. The policy also allows passing specific IAM roles for task execution and tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"ecs:CreateService\",\n                \"ecs:CreateTaskSet\",\n                \"ecs:DeleteTaskSet\",\n                \"ecs:DeregisterTaskDefinition\",\n                \"ecs:DescribeServices\",\n                \"ecs:DescribeTaskSets\",\n                \"ecs:RegisterTaskDefinition\",\n                \"ecs:RunTask\",\n                \"ecs:TagResource\",\n                \"ecs:UpdateService\",\n                \"ecs:UpdateServicePrimaryTaskSet\",\n                \"elasticloadbalancing:DescribeListeners\",\n                \"elasticloadbalancing:DescribeRules\",\n                \"elasticloadbalancing:DescribeTargetGroups\",\n                \"elasticloadbalancing:ModifyListener\",\n                \"elasticloadbalancing:ModifyRule\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<task-execution-role>\",\n                \"arn:aws:iam::<account-id>:role/<task-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Basic PipeCD Piped with Helm\nDESCRIPTION: Basic Helm command to install PipeCD Piped agent with namespace-scoped RBAC and custom security context settings. Uses OKD-specific image and requires manual restarts for config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Defining RBAC Policy Format in PipeCD\nDESCRIPTION: Shows the format for defining Role-Based Access Control policies in PipeCD. Each policy combines resource names and allowed actions in a specified format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe Directory\nDESCRIPTION: YAML configuration for defining event watchers in the deprecated .pipe directory method, showing how to update Kubernetes manifests when specific events occur.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function Environment with Encrypted Secret\nDESCRIPTION: Example of how to use an encrypted secret as an environment variable in a Lambda function configuration using PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Helm Chart in PipeCD Kubernetes Application\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application in PipeCD using a local Helm chart. The chart is located in the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Mode in YAML\nDESCRIPTION: This YAML configuration extends the basic Piped config to include a platform provider for Kubernetes, restricting access to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped using Helm in Cluster-wide Mode\nDESCRIPTION: This Helm command installs Piped in cluster-wide mode. It sets up the basic configuration, including the Piped config file, Piped key, and SSH key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Quick Sync Deployment for Kubernetes in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a basic Kubernetes application setup in PipeCD for quick sync deployment. It uses a Helm chart as input without specifying a pipeline, which triggers quick sync for any changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to configure a Terraform platform provider in the piped configuration file. It includes a list of shared Terraform variables to be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Deployment\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform. It also includes commented sections for enabling secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Executing External Script File in SCRIPT_RUN Stage\nDESCRIPTION: Example of executing an external script file within a SCRIPT_RUN stage. This approach is useful for longer scripts that are better maintained in separate files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Configuration YAML\nDESCRIPTION: Example configuration file containing MySQL database settings that will be used as an attachment source.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Keycloak SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up Keycloak SSO integration in PipeCD Control Plane, specifying client credentials and OIDC parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<KEYCLOAK_ADDRESS>/realms/<REALM>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher File Patterns in Piped\nDESCRIPTION: Configuration for specifying which event watcher files should be monitored using include patterns. This example shows how to limit monitoring to files under the .pipe/dev/ directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Drift Detection Configuration in app.pipecd.yaml\nDESCRIPTION: Configuration to ignore specific fields during drift detection checks, including pod replicas and container arguments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nspec:\n  ...\n  driftDetection:\n    ignoreFields:\n      - apps/v1:Deployment:default:simple#spec.replicas\n      - apps/v1:Deployment:default:simple#spec.template.spec.containers.0.args\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Cloud Run using gcloud CLI.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Source Configuration in YAML\nDESCRIPTION: Example configuration file (config.yaml) containing MySQL database settings that will be used as an attachment source.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install the PipeCD Control Plane on a Kubernetes cluster, specifying configuration files and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring Primary Deployment for Canary Strategy\nDESCRIPTION: Kubernetes Deployment configuration for the primary variant with PipeCD-specific labels and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Dashboard Monitoring\nDESCRIPTION: Helm command option to enable cluster-wide metrics dashboards which are disabled by default.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Documenting Terraform Configuration Fields\nDESCRIPTION: Specification of configuration fields for Terraform deployments including workspace, version, variables, and command flags/environments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_7\n\nLANGUAGE: markdown\nCODE:\n```\n## TerraformDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| workspace | string | The terraform workspace name. Empty means `default` workspace. | No |\n| terraformVersion | string | The version of terraform should be used. Empty means the pre-installed version will be used. | No |\n| vars | []string | List of variables that will be set directly on terraform commands with `-var` flag. The variable must be formatted by `key=value`. | No |\n| varFiles | []string | List of variable files that will be set on terraform commands with `-var-file` flag. | No |\n| commandFlags | [TerraformCommandFlags](#terraformcommandflags) | List of additional flags will be used while executing terraform commands. | No |\n| commandEnvs | [TerraformCommandEnvs](#terraformcommandenvs) | List of additional environment variables will be used while executing terraform commands. | No |\n| autoRollback | bool | Automatically reverts all changes from all stages when one of them failed. | No |\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install the PipeCD Control Plane with Firestore and GCS configuration. The command uses prepared configuration files including the encryption key and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Application Management Commands\nDESCRIPTION: Various commands for managing applications including get, list, disable, and delete operations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with Firestore and GCS\nDESCRIPTION: YAML configuration for PipeCD Control Plane using Firestore as the datastore and Google Cloud Storage (GCS) as the filestore. Requires service accounts with appropriate permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl Command\nDESCRIPTION: Command to push a new event to the Control Plane using pipectl, which triggers the event watcher to update configuration files based on the defined rules.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication\nDESCRIPTION: Configuration example for adding an authenticated OCI registry to the piped configuration file. Includes registry address and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Helm\nDESCRIPTION: Helm command for namespaced mode installation, which restricts Piped's access to its own namespace. Includes additional flags to disable the default Kubernetes provider and set proper RBAC scope.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: This command uses pipectl to generate a plan preview for a specific pull request. It requires the PipeCD control plane address, API key, repository URL, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for Event Watcher in PipeCD\nDESCRIPTION: Basic configuration for specifying which Git repositories should be monitored by the event watcher. Requires listing repository IDs in the gitRepos field under eventWatcher configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration (YAML)\nDESCRIPTION: This YAML snippet demonstrates how to add a Git repository to the Piped configuration file. The example shows configuration for the pipe-cd/examples repository using the master branch.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to a Slack channel using a webhook URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application for Quick Sync in YAML\nDESCRIPTION: This YAML configuration defines an ECS application for quick sync deployment. It specifies the application name, labels, service definition file, task definition file, and target group settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: simple\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-lb/YYYY\n        containerName: web\n        containerPort: 80\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: YAML configuration snippet showing how to specify a Git repository in the piped configuration file. This example configures the pipe-cd/examples repository's master branch for deployment management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Web with Mocks\nDESCRIPTION: This command starts the PipeCD web development server using mocked API responses. It allows developers to see the UI without running an actual API server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nmake run/web\n```\n\n----------------------------------------\n\nTITLE: Configuring Standalone ECS Task in YAML\nDESCRIPTION: YAML configuration for a standalone ECS task using Fargate. It specifies the task definition file, cluster ARN, and network configuration including subnets and security groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines Istio DestinationRule with primary and canary subsets using PipeCD variant labels for traffic routing\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System in Helm Installation for PipeCD\nDESCRIPTION: This command enables the monitoring system when installing PipeCD using Helm. It sets the 'monitoring.enabled' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings in PipeCD\nDESCRIPTION: This YAML configuration shows how to customize the Git user settings for Piped. It specifies a custom username and email for Git commits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD web interface locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote-upgrade\nDESCRIPTION: Helm command for namespaced mode with remote-upgrade capability, allowing version upgrades from the web console while maintaining namespace-level permission restrictions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store\nDESCRIPTION: This Bash command stores the Piped configuration in AWS Systems Manager Parameter Store. It creates a secure string parameter named 'PipedConfig' with the base64-encoded content of the piped-config.yaml file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD YAML\nDESCRIPTION: Sample configuration for an AWS Lambda application in PipeCD. The configuration file must be suffixed with .pipecd.yaml and defines the application name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for LambdaApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/lambda/\n\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Local Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: YAML configuration snippet showing how to add a Git repository to the piped configuration file. This example demonstrates setting up the pipe-cd/examples repository with master branch as the target for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe Directory\nDESCRIPTION: YAML configuration for EventWatcher defining how to update Kubernetes manifests when specific events occur. This shows the deprecated method using the .pipe directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface via Port Forwarding\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD web interface locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This snippet illustrates the configuration for an AWS Lambda platform provider in PipeCD. It specifies the region, profile, and optionally a credentials file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Local Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote-upgrade and Remote-config\nDESCRIPTION: Helm command for namespaced mode with both remote-upgrade and remote-config features, allowing version and configuration updates remotely while restricted to namespace-level permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Service Account for Piped\nDESCRIPTION: Shell commands for creating and configuring a service account with necessary IAM roles for Piped operation including secret access and logging permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from stdin\nDESCRIPTION: This command encrypts plaintext data entered via stdin for use in deployments. It requires the Control Plane API address, API key, and Piped ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Checking PipeCD Component Status\nDESCRIPTION: Command to verify the status of all PipeCD pods in the namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl get pod -n pipecd\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic configuration for a Kubernetes application in PipeCD. It specifies the API version, kind, and basic metadata like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in OKD Using Helm\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability in an OKD environment. This allows upgrading Piped to new versions from the web console but still requires restarts for config changes. Uses OKD-compatible launcher image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Attachment in PipeCD\nDESCRIPTION: PipeCD application configuration for an ECS application that specifies attachment sources and targets. The configuration indicates that 'config.yaml' will be used as an attachment referred to as 'config' and applied to 'taskdef.yaml'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Configuration Structure in YAML\nDESCRIPTION: The basic structure of a Piped configuration file using YAML format. This snippet shows the root structure with the required apiVersion and kind fields, where specific configuration values would be provided under the spec field.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: PipeCD Helm Deployment with Remote Upgrade\nDESCRIPTION: Helm deployment configuration that enables the remote-upgrade feature, allowing PipeCD version upgrades through the web console. Config changes still require manual restarts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: PipeCD Kubernetes Resource Patching Configuration\nDESCRIPTION: Reference for configuring Kubernetes resource patches including target specification and patch operations. Details fields for targeting specific resources and supported patch operation types.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_10\n\n\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in OpenShift\nDESCRIPTION: Installs Piped with the remote-upgrade feature enabled, allowing upgrades from the web console. This configuration uses a launcher component but still requires restart for config changes. Includes OpenShift-specific security context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application and Waiting for Specific Status\nDESCRIPTION: Command to sync an application and wait until the triggered deployment reaches one of the specified statuses (success or failure).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Lambda Application in YAML\nDESCRIPTION: This snippet shows how to configure a custom deployment pipeline for a Lambda application in the application configuration file. It demonstrates a gradual rollout strategy using stages like LAMBDA_CANARY_ROLLOUT, LAMBDA_PROMOTE, and WAIT.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n    stages:\n      # Deploy workloads of the new version.\n      # But this is still receiving no traffic.\n      - name: LAMBDA_CANARY_ROLLOUT\n      # Promote new version to receive 10% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: LAMBDA_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher for Helm Chart Version Updates\nDESCRIPTION: Example of configuring EventWatcher to automatically update Helm chart versions in an application configuration file when a new chart version is released.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager for Piped Configuration\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring RBAC Policy Format in PipeCD\nDESCRIPTION: Defines the format for specifying role-based access control policies in PipeCD. Each policy combines resources and actions, with support for wildcard (*) to represent all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for EventWatcher Commits\nDESCRIPTION: YAML configuration that customizes the git username and email address used when EventWatcher makes commits. These settings override the default values of 'piped' and 'pipecd.dev@gmail.com'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Lambda Function with Encrypted Environment Variables\nDESCRIPTION: Configuration example for a Lambda function using encrypted secrets in environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Task Definition with Remote Upgrade\nDESCRIPTION: Task definition for Piped with remote upgrade capability, allowing version updates through web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Git Helm Chart for Kubernetes Deployment in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to use a Helm chart from a different git repository for a Kubernetes application in PipeCD. It specifies the git remote, reference, and path to the chart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Paths in Piped Configuration YAML\nDESCRIPTION: This snippet demonstrates how to specify which EventWatcher files Piped should monitor by using 'includes' patterns. This example configures the Piped to only use EventWatcher files located in the .pipe/dev/ directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Waiting for Deployment Status with pipectl\nDESCRIPTION: Waits for a deployment to reach a specified status before proceeding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Defining an ECS Application Configuration in YAML\nDESCRIPTION: Basic structure for an ECS application configuration file showing the required apiVersion, kind, and empty specification placeholders for input and pipeline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Kubernetes App Config\nDESCRIPTION: Demonstrates how to reference an analysis template within a Kubernetes application configuration using the template field in the pipeline stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Running Piped with Command-Line Flags\nDESCRIPTION: Command-line options available for the piped command, including configuration sources, networking settings, cache configuration, security options, and monitoring parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --app-manifest-cache-count int               The number of app manifests to cache. The cache-key contains the commit hash. The default is 150. (default 150)     \n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-aws-ssm-parameter string            The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager\nDESCRIPTION: Command to create a secret in AWS Secrets Manager containing the base64-encoded Piped configuration. This allows the Piped task to securely retrieve its configuration at runtime.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Task Definition for ECS Fargate\nDESCRIPTION: JSON task definition for deploying a basic Piped instance without remote-upgrade capability. When using this approach, upgrading requires manually updating the task definition and restarting the task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in Docker Container\nDESCRIPTION: This snippet shows how to run pipectl in a Docker container, using a specific version of the image stored on Google Cloud Container Registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Retrieving CPU Profile from Piped\nDESCRIPTION: This command retrieves the CPU profiling data from Piped and saves it to a file named cpu.pprof. It uses curl to send a GET request to the /debug/pprof/profile endpoint on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped on a Kubernetes cluster. It sets the configuration file, Piped key, and SSH key. This basic installation does not include remote upgrade capabilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment\nDESCRIPTION: Defines Istio DestinationRule that specifies primary and canary subsets using PipeCD variant labels for traffic routing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: Command to set up port forwarding to access Grafana dashboards after enabling the monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in PipeCD\nDESCRIPTION: Template configuration for defining metrics and analysis rules in PipeCD with Prometheus integration example.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal use with GKE Ingress\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane (Shell)\nDESCRIPTION: Helm command to upgrade the PipeCD Control Plane to a new version, specifying configuration files and secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm Release Event with pipectl\nDESCRIPTION: Command to register a new Helm chart version as an event, which triggers the event watcher to update the version in the application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Service for Piped Task Deployment\nDESCRIPTION: This JSON defines an ECS service to control Piped task deployment, ensuring continuous operation and automatic restarts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\",\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Basic configuration structure for an ECS application in PipeCD, defining the application spec with input and pipeline fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Viewing Plan Preview Help Command\nDESCRIPTION: Command to display additional help information and options for the plan-preview feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: PipeCD Canary Deployment Pipeline Configuration\nDESCRIPTION: PipeCD application configuration defining the canary deployment strategy with multiple stages including rollout, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in PipeCD\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the PipeCD configuration. It demonstrates adding the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as Analysis Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to set up Datadog as an analysis provider in the Piped configuration file. It includes the provider name, type, and file paths for the API key and application key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Installation\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API address, Git repository information, and optional platform providers for Cloud Run and Terraform. It also includes commented sections for enabling additional features like secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: YAML configuration for setting up webhook notifications in PipeCD. Demonstrates how to configure a webhook receiver to send all events to an external service with signature validation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Defining Markdown Frontmatter for PipeCD Documentation\nDESCRIPTION: YAML frontmatter that configures the documentation page metadata including title, link title, and document type.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.45.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Configuring Encrypted Secrets in PipeCD Application\nDESCRIPTION: YAML configuration for specifying encrypted secrets and decryption targets in a PipeCD application. It includes placeholders for the application kind and encrypted data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset. It specifies the host, gateway, and sets the traffic weight to 100% for the primary destination.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running the Piped launcher container with remote-upgrade capability enabled. The launcher reads configuration from Google Cloud Secret Manager and enables web console-based upgrades of the Piped agent.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to set up a Terraform platform provider in PipeCD. It includes a list of shared Terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring GKE Ingress for PipeCD with HTTP/2\nDESCRIPTION: YAML configuration snippet for enabling HTTP/2 protocol on GKE Ingress for PipeCD service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped on GCP VM\nDESCRIPTION: Shell command to create a Google Cloud VM instance running Piped without remote upgrade capability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager via Command Line\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration file securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Analysis Templates for Kubernetes Deployments\nDESCRIPTION: This YAML snippet specifies analysis templates for evaluating Kubernetes deployments in PipeCD. It includes templates for running Prometheus queries and comparing metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/manifests/helloworld/templates/NOTES.txt#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n  analysisTemplates:\n    - name: prometheus\n      provider:\n        prometheus:\n          address: https://prometheus.dev.example.com\n      queries:\n        - name: request_error_rate\n          query: |\n            sum(rate(request_errors_total{job=\"{{.App.Name}}\"}[5m]))\n            /\n            sum(rate(request_total{job=\"{{.App.Name}}\"}[5m]))\n          expected:\n            max: 0.01\n        - name: request_latency\n          query: |\n            max(histogram_quantile(0.99, rate(request_duration_seconds_bucket{job=\"{{.App.Name}}\"}[5m])))\n          expected:\n            max: 0.5\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring with Helm\nDESCRIPTION: Command to enable the monitoring system when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade the PipeCD Control Plane to a new version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring Community Page Front Matter in YAML\nDESCRIPTION: Front matter configuration block that sets up the community page title, menu placement, weight and icon display using Font Awesome.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/community/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: Community\nmenu:\n  main:\n    weight: 40\n    pre: <i class='fas fa-users'></i>\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Deployment Trace Information\nDESCRIPTION: Command to register an event with commit hash and URL information for Deployment Trace feature, enabling better tracking of which commits triggered which deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --commit-hash=20c98a503062021720b2fcf2058276b3245xxxxx\n    --commit-url=https://github.com/pipe-cd/pipecd/commit/20c98a503062021720b2fcf2058276b3245xxxxx\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config capabilities in cluster-wide mode. This allows both upgrading Piped and updating its configuration from remote sources like Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring GKE Ingress for PipeCD with HTTP/2\nDESCRIPTION: YAML configuration snippet for enabling HTTP/2 protocol on GKE Ingress for PipeCD service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Lambda Function Configuration with Encrypted Environment Variable\nDESCRIPTION: Example of configuring a Lambda function with encrypted environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Runtime Options\nDESCRIPTION: Command-line options available for the 'piped piped' command, including flags for configuration sources, network settings, caching, and tool directories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --app-manifest-cache-count int               The number of app manifests to cache. The cache-key contains the commit hash. The default is 150. (default 150)     \n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-aws-ssm-parameter string            The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in YAML\nDESCRIPTION: This snippet shows the basic configuration for a Kubernetes application in PipeCD. It includes the API version, kind, and spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a configuration file for a Kubernetes application in PipeCD. It includes the API version, kind, and basic spec fields like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade Feature\nDESCRIPTION: Helm command to install Piped with remote upgrade capability enabled, allowing version updates through the web console while maintaining security contexts and OpenShift compatibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Defining EventWatcher Configuration in YAML\nDESCRIPTION: Specifies the configuration structure for EventWatcher in PipeCD. It includes fields for check interval and git repository configurations to be observed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nEventWatcher:\n  checkInterval: \"duration\"  # Optional: Interval to fetch latest events (default: \"1m\")\n  gitRepos:\n    - repoId: \"string\"  # Required: Unique ID of the git repository\n      commitMessage: \"string\"  # Optional: Custom commit message\n      includes: [\"string\"]  # Optional: Paths to include\n      excludes: [\"string\"]  # Optional: Paths to exclude\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config using Helm\nDESCRIPTION: This Helm command installs Piped with both remote-upgrade and remote-config features enabled, allowing version upgrades and config updates from a Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for ECS Fargate Deployment\nDESCRIPTION: This YAML configuration file sets up Piped for deployment on ECS Fargate. It includes project and Piped identification, API address, Git repository settings, and optional platform providers for ECS and Terraform applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle ECS application.\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-dev\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Application Configuration with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets and decryption targets in an application config file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade in Namespaced Mode\nDESCRIPTION: This Helm command installs Piped with remote upgrade capabilities in namespaced mode on Kubernetes. It enables upgrading Piped versions from the web console while restricting permissions to a single namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Registering an event for EventWatcher\nDESCRIPTION: Command to register an event that can be used by EventWatcher in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_24\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Example Kubernetes Deployment Manifest for PipeCD Application\nDESCRIPTION: An example Kubernetes Deployment manifest used to demonstrate configuration drift detection. The manifest defines a simple Deployment with 2 replicas and a helloworld container configured with specific arguments and image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Google Cloud Run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running the Piped container directly, without remote upgrade capability. Manual updates are required for version upgrades.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for secret encryption in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Capturing and Analyzing CPU Profile in Piped\nDESCRIPTION: Commands to capture CPU profiling data from Piped and analyze it using Go's pprof tool. The profile is saved to a local file and then examined with the pprof tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Template Usage of Attached Configuration in Target File\nDESCRIPTION: Example showing how to reference the attached configuration in a target file using templating syntax. This demonstrates accessing the attached config in an ECS task definition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in PipeCD\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the PipeCD configuration. It enables the official chart repository of the PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Managing Piped Agent with Terraform in HCL\nDESCRIPTION: This snippet shows how to create and manage a Piped agent resource using the PipeCD Terraform provider. It defines a Piped with a name, description, and ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in YAML\nDESCRIPTION: Example of how to update application information by modifying the application configuration file in Git. Shows how to change the application name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Defining Primary Kubernetes Deployment Manifest with Variant Label\nDESCRIPTION: This YAML defines the primary Deployment for the application with the 'pipecd.dev/variant: primary' label. This label is crucial for PipeCD to distinguish between primary and canary variants during deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for Piped\nDESCRIPTION: Configuration example showing how to customize the Git username and email used for commits made by Piped's event watcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications with User Mentions in PipeCD\nDESCRIPTION: Shows how to configure Slack notifications for a Kubernetes deployment pipeline, with the ability to mention specific Slack users based on different event types. This helps ensure the right team members are alerted about important deployment events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/november-2021-update.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n  notification:\n    mentions:\n      - event: DEPLOYMENT_WAIT_APPROVAL\n        slack:\n          - slack-user-id-1\n          - slack-user-id-2\n      - event: \"*\"                      # Specifying \"*\" means mentioning the given users for all events.\n        slack:\n          - slack-user-id-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Cloud Run Deployment\nDESCRIPTION: YAML configuration for setting up a Piped agent with project details, API connections, Git repository access, and optional platform providers for Cloud Run applications. The configuration includes settings for SSH key authentication and can be extended to support Terraform and Secret Management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Getting Deployment Logs with pipectl\nDESCRIPTION: Retrieves logs for a specific deployment using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_16\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications\nDESCRIPTION: YAML configuration for setting up Slack as a notification receiver for alerts from PipeCD's monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Resulting Deployment Manifest Changes (Diff)\nDESCRIPTION: This diff shows the changes made by Event Watcher to the deployment manifest. It updates the container image from v0.1.0 to v0.2.0 in response to the registered event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: diff\nCODE:\n```\n     spec:\n       containers:\n       - name: helloworld\n-        image: gcr.io/pipecd/helloworld:v0.1.0\n+        image: gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Roles for Piped on Google Cloud\nDESCRIPTION: These commands create a new service account for Piped, grant it access to the configuration secret, and assign necessary roles for logging and optionally for Cloud Run deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Authenticated Helm Chart Registry in Piped\nDESCRIPTION: Configuration example for adding an authenticated OCI registry for Helm charts, including registry address and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Capturing CPU Profile\nDESCRIPTION: Commands to capture CPU profiling data and analyze it using the pprof tool. Saves profile data to cpu.pprof file for analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in Namespaced Mode\nDESCRIPTION: Helm command to install Piped in namespaced mode with remote-upgrade capability, allowing version upgrades from the web console while restricting permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run via Command Line\nDESCRIPTION: This command deploys the Piped service on Google Cloud Run using the specified YAML configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Manifest with Remote-upgrade for Piped\nDESCRIPTION: YAML configuration for deploying Piped on Cloud Run with the remote-upgrade feature enabled. This allows upgrading Piped to a new version from the web console, using the launcher container to manage Piped lifecycle.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Checking PipeCD Component Status\nDESCRIPTION: Command to verify the readiness of all PipeCD components by listing all pods in the pipecd namespace and showing their status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl get pod -n pipecd\nNAME                              READY   STATUS    RESTARTS      AGE\npipecd-cache-56c7c65ddc-xqcst     1/1     Running   0             38m\npipecd-gateway-58589b55f9-9nbrv   1/1     Running   0             38m\npipecd-minio-677999d5bb-xnb78     1/1     Running   0             38m\npipecd-mysql-6fff49fbc7-hkvt4     1/1     Running   0             38m\npipecd-ops-779d6844db-nvbwn       1/1     Running   0             38m\npipecd-server-5769df7fcb-9hc45    1/1     Running   1 (38m ago)   38m\npiped-8477b5d55d-74s5v            1/1     Running   0             97s\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher for Helm Chart Updates\nDESCRIPTION: YAML configuration example for updating a Helm chart version in an application configuration file when an event is detected. Shows a practical use case for the EventWatcher feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Adding a new Kubernetes application with pipectl\nDESCRIPTION: Demonstrates how to add a new Kubernetes application to a PipeCD project using the pipectl command-line tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Initializing Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It includes the API version and kind declaration, as well as the beginning of the spec section where detailed configuration options are specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Defining Standard Cloud Run Service Manifest for Piped\nDESCRIPTION: YAML configuration for deploying a standard Piped instance on Cloud Run. This approach requires manual updates whenever you want to upgrade Piped or update its configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Registering Helm Release Event\nDESCRIPTION: Command to register a new Helm chart version event with labels using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure for configuring a Lambda application in PipeCD. It includes the apiVersion, kind, and spec fields, which contain pipeline configurations specific to Lambda deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Listing Applications with pipectl\nDESCRIPTION: Retrieves a list of applications matching specified criteria and displays them in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Running Plan Preview with pipectl in PipeCD\nDESCRIPTION: Example command for requesting a plan-preview result using the pipectl command-line tool. This shows how to specify the control plane address, API key, repository details, and branch information needed to generate a deployment plan preview.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Config\nDESCRIPTION: Example of configuring EventWatcher directly in the Kubernetes application configuration file to handle image update events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in PipeCD\nDESCRIPTION: Configuration for an AWS ECS provider specifying region, profile, and credentials for cluster access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication\nDESCRIPTION: Configuration snippet showing how to add a Helm chart OCI registry with authentication credentials to the Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Configuring Direct Source Code Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function directly from source code in a git repository. Includes git source configuration, runtime settings, and basic function parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD\nDESCRIPTION: This YAML configuration shows how to set up a notification route and receiver for sending all PipeCD events to an external service via webhook. It includes the webhook URL and a signature value for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Local Lunr Search Configuration in TOML\nDESCRIPTION: TOML configuration settings for enabling and customizing local Lunr search functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_9\n\nLANGUAGE: toml\nCODE:\n```\n#Enable offline search with Lunr.js\nofflineSearch = true\nofflineSearchSummaryLength = 200\n```\n\n----------------------------------------\n\nTITLE: Application Configuration with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets and decryption targets in an application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring IAM Permissions for Lambda App Deployment\nDESCRIPTION: IAM policy configuration required for deploying Lambda applications through Piped. Includes permissions for Lambda function management, version control, and role assignments. Requires function role ARN to be specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Labels\nDESCRIPTION: Command to register an event with specific labels, ensuring the event targets only the applications or environments that match those exact labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Config\nDESCRIPTION: YAML configuration showing how to define event watching behavior directly in the Kubernetes application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair using OpenSSL\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for secret encryption in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface via Port Forwarding\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD web interface on localhost.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Kubernetes App Configuration\nDESCRIPTION: This snippet shows how to reference an Analysis Template in a Kubernetes application configuration file for PipeCD. It demonstrates using the template in an ANALYSIS stage of the pipeline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for EventWatcher Commits in Piped Configuration YAML\nDESCRIPTION: This snippet shows how to customize the git username and email used for commits made by the EventWatcher. By default, it uses 'piped' as username and 'pipecd.dev@gmail.com' as email.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Viewing Execution Trace with Go Tool\nDESCRIPTION: This command uses the go tool trace to view and analyze the execution trace data saved in the trace.out file. It provides a visual representation of the program's execution, helping developers identify performance bottlenecks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Labels using pipectl (Bash)\nDESCRIPTION: This command demonstrates how to register an event with labels using pipectl. It specifies both the event name and labels to ensure the event is matched with the correct configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Google Analytics in TOML\nDESCRIPTION: Configuration snippet for enabling Google Analytics by setting the tracking ID in config.toml\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/feedback.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[services.googleAnalytics]\nid = \"UA-00000000-0\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Config\nDESCRIPTION: Modern way to configure EventWatcher directly in the Kubernetes application configuration file to handle image updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run Deployment\nDESCRIPTION: This YAML configuration defines the Piped agent settings, including project information, authentication credentials, Git repository access, and platform providers. The configuration supports Cloud Run applications and can be extended for Terraform and Secret Management features.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Namespaced Mode\nDESCRIPTION: Helm command to install Piped in namespaced mode, which limits its permissions to within the namespace where it runs. This command includes additional parameters to disable the default Kubernetes cloud provider and set RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Managing Deployments with pipectl\nDESCRIPTION: These snippets show how to list deployments, wait for a specific deployment status, and get deployment logs using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for Canary Deployment with PodSelector\nDESCRIPTION: PipeCD application configuration that defines the canary deployment strategy. It includes stages for canary rollout (with 50% of primary replicas), approval waiting, primary rollout, and canary cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant. In this case, the number of\n      # workload replicas of CANARY variant is 50% of the replicas number of PRIMARY variant.\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      # Update the workload of PRIMARY variant to the new version.\n      - name: K8S_PRIMARY_ROLLOUT\n      # Destroy all workloads of CANARY variant.\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port to the ops pod's port, allowing access to the internal web page for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that selects pods with the 'app: helloworld' label, allowing traffic routing to both canary and primary workloads.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Using Helm Chart from Repository in Application Configuration\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application to use a Helm chart from a previously configured chart repository. It specifies the repository name, chart name, and version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus as an Analysis Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure Prometheus as an analysis provider in the Piped configuration file. It specifies the provider name, type, and the address of the Prometheus server that Piped will query for metrics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Terraform Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Terraform application configuration in PipeCD. It defines the application type with placeholders for input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Datadog as an analysis provider in PipeCD. Includes API key and application key file paths for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run in YAML\nDESCRIPTION: This YAML configuration demonstrates a custom deployment pipeline for a Cloud Run application. It defines a gradual rollout process with traffic percentage increases and wait periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Collecting Execution Trace from Piped\nDESCRIPTION: Commands to collect execution trace data from Piped and view it using the go tool trace command. This provides a timeline view of program execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Registering an event for EventWatcher\nDESCRIPTION: Command to register a new event that can be used by EventWatcher, specifying the event name and associated data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_24\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target File\nDESCRIPTION: Example of how to reference the attached configuration in a target file (taskdef.yaml). The attachment is referenced using Go template syntax with {{ .attachment.config }} which will be replaced with the content of config.yaml.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability, which allows upgrading Piped to new versions from the web console without manual intervention.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair for secret encryption in PipeCD. The private key is used for decryption, while the public key is used for encryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Access\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD ops interface\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Registering an event with labels using pipectl\nDESCRIPTION: This Bash command shows how to register an event with specific labels using the pipectl tool. Labels help target the event to specific applications or environments that match exactly the same set of labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication\nDESCRIPTION: Configuration example for adding an authenticated OCI registry for Helm charts to the piped configuration. Includes registry address and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of a Kubernetes Secret manifest that uses an encrypted secret. The password field is populated using the .encryptedSecrets context to access the decrypted value.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Cloud Run Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Cloud Run application configuration in PipeCD. It defines the Cloud Run application type with placeholders for input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets in Kubernetes Secret\nDESCRIPTION: Example of accessing encrypted secrets in a Kubernetes Secret manifest using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Binary via curl\nDESCRIPTION: Downloads the latest pipectl binary for specified OS platform (darwin/linux)\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Installing Piped using Helm in Namespaced Mode\nDESCRIPTION: Helm command for installing Piped in namespaced mode with restricted permissions. This basic installation requires manual upgrades and configuration updates by re-running the command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Analysis Template Configuration Structure in YAML\nDESCRIPTION: Structure for defining analysis templates in PipeCD. This example shows how to configure metrics for analysis with parameters for interval, provider, failure limits, and expected values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function with Encrypted Secrets\nDESCRIPTION: Example of using encrypted secrets as environment variables in a Lambda function configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run (Console)\nDESCRIPTION: This command deploys the Piped service on Cloud Run using the gcloud CLI. It replaces an existing service or creates a new one based on the specified YAML configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Setting up IAM Service Account\nDESCRIPTION: Shell commands for creating a service account and configuring IAM roles for Piped including secret access and logging permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n```\n\n----------------------------------------\n\nTITLE: Updating PipeCD Control Plane Configuration for MySQL\nDESCRIPTION: YAML configuration diff showing the changes needed in the PipeCD Control Plane configuration to switch from MongoDB to MySQL. It updates the datastore type and connection URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/migrate-control-plane-datastore-to-mysql.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n apiVersion: \"pipecd.dev/v1beta1\"\n kind: ControlPlane\n spec:\n   datastore:\n-    type: MONGODB\n+    type: MYSQL\n     config:\n-      url: mongodb://127.0.0.1:27017/quickstart\n+      url: root:test@tcp(127.0.0.1:3306)\n       database: quickstart\n...\n```\n\n----------------------------------------\n\nTITLE: Deploying PipeCD Control Plane\nDESCRIPTION: Applies the control-plane manifest to deploy PipeCD control plane components in the pipecd namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/quickstart/README.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nkubectl apply -n pipecd -f ./manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: Shows the basic structure of a Control Plane configuration file including the API version, kind, and spec fields. The configuration defines core settings for a PipeCD Control Plane instance.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the Istio VirtualService manifest that controls traffic routing between primary and canary deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: AWS CLI Commands for Secret Storage\nDESCRIPTION: Commands to store Piped configuration in AWS Secrets Manager or Systems Manager Parameter Store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Defining Application Labels in PipeCD Configuration\nDESCRIPTION: Example of using the new labels field in a Kubernetes application configuration. Labels are key/value pairs that allow for identifying attributes, grouping, filtering, and access control of PipeCD resources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/february-2022-update.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: example\n  labels:\n    env: prod\n    team: product\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm Chart Release Event with pipectl\nDESCRIPTION: Command to register a new Helm chart release event that will trigger an update to the chart version in the application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Piped for Cloud Run\nDESCRIPTION: Cloud Run service manifest for deploying Piped without remote-upgrade capability. This approach requires manual restart to upgrade Piped or update configuration. It uses the Piped image directly and mounts the configuration from Secret Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n# This just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data you have to restart it.\n\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Encrypting Data for Deployment using Pipectl in Console\nDESCRIPTION: This snippet demonstrates how to encrypt plaintext data using pipectl for deployment in PipeCD. It shows two methods: reading from stdin and using the --input-file flag.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config\nDESCRIPTION: Helm command for installing Piped with both remote upgrade and remote configuration capabilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Remote Git Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a different git repository with specific version reference.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Analyzing CPU Profile with Pprof Tool\nDESCRIPTION: This command uses the go tool pprof to analyze the CPU profiling data saved in the cpu.pprof file. It allows developers to visualize and examine the performance data collected from Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Registering Event with pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using the pipectl tool to trigger configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run provider specifying the GCP project, region, and service account credentials file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in YAML\nDESCRIPTION: Basic configuration for a Kubernetes platform provider that connects to the cluster where piped is running and watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for EventWatcher in PipeCD YAML\nDESCRIPTION: This snippet shows how to customize the git user information used when EventWatcher makes commits. It allows changing the default username ('piped') and email ('pipecd.dev@gmail.com') to custom values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example showing how to configure EventWatcher to update Helm chart versions automatically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Creating Custom Content in List Group using HTML\nDESCRIPTION: Shows how to add custom HTML content within list group items using flexbox utilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_8\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"list-group\">\n  <a href=\"#\" class=\"list-group-item list-group-item-action active\">\n    <div class=\"d-flex w-100 justify-content-between\">\n      <h5 class=\"mb-1\">List group item heading</h5>\n      <small>3 days ago</small>\n    </div>\n    <p class=\"mb-1\">Some placeholder content in a paragraph.</p>\n    <small>And some small print.</small>\n  </a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action\">\n    <div class=\"d-flex w-100 justify-content-between\">\n      <h5 class=\"mb-1\">List group item heading</h5>\n      <small class=\"text-muted\">3 days ago</small>\n    </div>\n    <p class=\"mb-1\">Some placeholder content in a paragraph.</p>\n    <small class=\"text-muted\">And some muted small print.</small>\n  </a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action\">\n    <div class=\"d-flex w-100 justify-content-between\">\n      <h5 class=\"mb-1\">List group item heading</h5>\n      <small class=\"text-muted\">3 days ago</small>\n    </div>\n    <p class=\"mb-1\">Some placeholder content in a paragraph.</p>\n    <small class=\"text-muted\">And some muted small print.</small>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for Event Watcher\nDESCRIPTION: Configuration for customizing the Git username and email used when the event watcher makes commits. This overrides the default values of 'piped' and 'pipecd.dev@gmail.com'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Repositories\nDESCRIPTION: This Helm command installs the 'piped' component with configuration for accessing private Git repositories. It sets the piped config file, piped key file, and private SSH key file paths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Getting deployment stage logs\nDESCRIPTION: Command to retrieve and display logs from the stages of a specific deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_23\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to PipeCD Ops Service\nDESCRIPTION: Command to access the PipeCD operations interface by forwarding a local port to the ops service. This allows administrators to reach the internal web page for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Analysis Provider Configuration Schema\nDESCRIPTION: Configuration schema for analysis providers like Prometheus and Datadog including authentication and connection settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n| Field | Type | Description | Required |\n|-|-|-|-|\n| name | string | The unique name of the analysis provider. | Yes |\n| type | string | The provider type (PROMETHEUS, DATADOG). | Yes |\n| config | AnalysisProviderConfig | Provider-specific configuration. | Yes |\n```\n\n----------------------------------------\n\nTITLE: Configuring Notifications in PipeCD\nDESCRIPTION: Specifies notification configuration including routes and receivers for Slack and webhook integrations\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\nnotifications:\n  routes:\n    - name: \"example-route\"\n      receiver: \"example-receiver\"\n      events: [\"deployment.success\"]\n      groups: [\"dev\"]\n      apps: [\"app1\"]\n      labels:\n        env: \"prod\"\n  receivers:\n    - name: \"example-receiver\"\n      slack:\n        hookURL: \"https://hooks.slack.com/services/xxx\"\n        channelID: \"channel-id\"\n        mentionedAccounts: [\"@user1\"]\n      webhook:\n        url: \"https://example.com/webhook\"\n        signatureKey: \"PipeCD-Signature\"\n        signatureValue: \"secret-value\"\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade Feature\nDESCRIPTION: This command installs Piped with the remote-upgrade feature enabled, allowing version upgrades from the web console. It uses a custom launcher image for OpenShift compatibility and configures security context for non-root execution. Configuration changes still require manual Piped restarts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Generating Application Config Interactively using Pipectl in Console\nDESCRIPTION: This snippet shows how to use pipectl to interactively generate an app.pipecd.yaml configuration file for PipeCD applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Task Definition with Remote Upgrade\nDESCRIPTION: Task definition JSON for Piped with remote upgrade capability, allowing version upgrades through the web console\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Using Local Helm Chart in Kubernetes Application\nDESCRIPTION: Configuration for loading a Helm chart from the same git repository as the application directory (local chart).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Adding Text Labels to Bootstrap Progress Bars\nDESCRIPTION: Example showing how to add text labels inside a progress bar by placing the text directly within the .progress-bar element, providing visual feedback about the completion percentage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 25%;\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\">25%</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Pushing Event with Pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using the pipectl tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Mounting Datadog Key Files in Helm Installation\nDESCRIPTION: This console command shows how to use the --set-file option in Helm to mount Datadog API and application key files during the Piped installation or upgrade process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Google Cloud Service Annotations for HTTP2\nDESCRIPTION: YAML configuration for setting up Google Cloud service annotations to enable HTTP2 protocol on port 443. This is used when configuring PipeCD with GKE Ingress without internal TLS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Example ECS Application Configuration in YAML\nDESCRIPTION: Sample YAML configuration generated by the pipectl init command for an ECS application. Includes specifications for service and task definition files, target groups, and basic application details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider\nDESCRIPTION: This snippet shows how to set up the PipeCD Terraform provider in a Terraform configuration file. It declares the required provider and version, and configures the provider with optional host and API key settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes with Helm (Namespaced Mode)\nDESCRIPTION: This Bash command uses Helm to install or upgrade Piped in namespaced mode. It sets the Piped configuration, key file, SSH key file, and additional flags to disable the default Kubernetes cloud provider and set the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines Istio VirtualService to control traffic routing between deployment variants with initial 100% traffic to primary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Includes in Piped YAML\nDESCRIPTION: This YAML configuration demonstrates how to specify which EventWatcher files Piped should use. It includes a commit message and a pattern to include specific files under the .pipe/dev/ directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: Defines the Istio DestinationRule configuration that specifies primary and canary subsets using PipeCD variant labels for traffic routing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as Analysis Provider in PipeCD\nDESCRIPTION: This YAML configuration sets up Datadog as an analysis provider for PipeCD. It specifies the provider name, type, and the file paths for the Datadog API key and application key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout Pipeline for Cloud Run Applications\nDESCRIPTION: An example of a custom pipeline configuration for Cloud Run applications that implements gradual traffic shifting. It promotes the new version to receive 10%, then 50%, and finally 100% of traffic with waiting periods between promotions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Release Management in YAML\nDESCRIPTION: Defines the configuration for PipeCD releases including version tag, commit filters, categorization rules, and release note generation settings. Specifies which commits to include/exclude and how to categorize changes for release notes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/valid-config.txt#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntag: v1.1.0\nname: hello\n\ncommitInclude:\n  contains:\n    - app/hello\ncommitExclude:\n  prefixes:\n    - \"Merge pull request #\"\n\ncommitCategories:\n  - title: \"Breaking Changes\"\n    contains:\n      - change-category/breaking-change\n  - title: \"New Features\"\n    contains:\n      - change-category/new-feature\n  - title: \"Notable Changes\"\n    contains:\n      - change-category/notable-change\n  - title: \"Internal Changes\"\n\nreleaseNoteGenerator:\n  showCommitter: true\n  useReleaseNoteBlock: true\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: This command uses pipectl to generate a plan preview for a specific pull request. It requires the PipeCD control plane address, API key, repository details, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH } \\\n  --sort-label-keys={ SORT_LABEL_KEYS }\n```\n\n----------------------------------------\n\nTITLE: Syncing an application with pipectl (Console)\nDESCRIPTION: Shows how to trigger a sync for an application and optionally wait for specific deployment statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and update labels, which must be done through the configuration file in Git.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Canary Rollout Options\nDESCRIPTION: Configuration options for Kubernetes canary deployment rollouts including replica count, resource naming suffix, service creation and manifest patches.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\nreplicas: 1  # or \"10%\"\nsuffix: \"canary\"\ncreateService: false\npatches:\n  - target:\n      kind: ConfigMap\n      name: example-config\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an Amazon ECS application in PipeCD. It specifies the API version, kind, and basic metadata including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD Control Plane\nDESCRIPTION: Commands to generate an encryption key required by PipeCD for encrypting sensitive data and signing JWT tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface with Port-Forwarding\nDESCRIPTION: kubectl command to set up port forwarding to access the PipeCD web interface locally on port 8080 when an ingress is not configured.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Deployment Manifest Example\nDESCRIPTION: Example Kubernetes Deployment manifest that might be used with PipeCD's drift detection feature. It defines a simple Deployment with two replicas of a helloworld container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Kubernetes App Configuration\nDESCRIPTION: Shows how to reference an Analysis Template within a Kubernetes application configuration using the template field in the pipeline stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Adding a New Application with pipectl\nDESCRIPTION: Demonstrates how to add a new Kubernetes application to a PipeCD project using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Application Config\nDESCRIPTION: Example showing how to reference a predefined Analysis Template within a Kubernetes application configuration using the template field in the analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application with pipectl\nDESCRIPTION: These snippets show how to use pipectl to sync an application, with options to exit immediately or wait for specific deployment statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Piped Installation Options for Secret Management\nDESCRIPTION: Helm installation options to configure secret management keys in Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Basic Bootstrap Card Implementation\nDESCRIPTION: Example of a basic card implementation with an image cap, title, text content and action button\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  <div class=\"card-img-top\">Image cap</div>\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card title</h5>\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for ECS Deployment\nDESCRIPTION: Base configuration file for Piped deployment including project settings, Git repository access, and platform provider configurations. Supports optional features like Terraform and secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System in Helm Installation for PipeCD\nDESCRIPTION: This command enables the monitoring system when installing PipeCD using Helm. It sets the 'monitoring.enabled' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote-upgrade and Remote-config on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode with both remote-upgrade and remote-config enabled. It allows upgrading Piped and loading config from a Git repository while restricting permissions to a namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Git Repositories in Piped YAML\nDESCRIPTION: This YAML configuration specifies the Git repositories that Piped should observe for the EventWatcher feature. It lists multiple repositories using their repoId.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port to the ops pod, allowing access to the internal web service for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD (Shell)\nDESCRIPTION: Commands to generate an encryption key required by PipeCD for encrypting sensitive data and signing JWT tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Permissions for Piped\nDESCRIPTION: These commands create a dedicated service account for Piped and assign the necessary IAM roles for accessing the secret configuration, writing to Cloud Logging, and optionally managing Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Creating ECS Service for Piped Task Management\nDESCRIPTION: Command line instruction to create an ECS service that manages the Piped task based on the service definition, ensuring continuous operation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client (pipectl) on Linux or macOS\nDESCRIPTION: This command downloads the PipeCD client (pipectl) for either Linux or macOS. The OS variable should be set to 'darwin' for macOS or 'linux' for Linux systems.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Syncing an application with status wait\nDESCRIPTION: Command to trigger a sync operation for an application and wait until the deployment reaches one of the specified statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_16\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config using Helm in Namespaced Mode\nDESCRIPTION: Helm command for installing Piped with both remote-upgrade and remote-config capabilities in namespaced mode. This allows both upgrading Piped and updating its configuration from the web console without manual intervention.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Getting Help with pipectl Plan Preview Command\nDESCRIPTION: Command to display help information for the plan-preview feature in pipectl. This provides details on all available options and parameters for the plan-preview command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Namespaced Mode\nDESCRIPTION: Bash commands for installing Piped using Helm in namespaced mode. Includes options for basic installation, remote upgrade, and remote upgrade with remote config.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Registering Events with pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using pipectl to trigger configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration structure for an ECS application in PipeCD. It includes fields for input, pipeline, and other ECS-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Cloud Run Service Definition with Remote Upgrade\nDESCRIPTION: YAML configuration for deploying Piped on Cloud Run with remote upgrade capability, including resource limits and volume mounts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           \n        autoscaling.knative.dev/minScale: '1'           \n        run.googleapis.com/cpu-throttling: \"false\"      \n    spec:\n      containerConcurrency: 1                           \n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Managing Deployments with pipectl\nDESCRIPTION: These snippets show how to use pipectl for deployment-related operations, including listing deployments, waiting for a specific deployment status, and getting deployment logs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Applying Custom Values File in Helm Installation\nDESCRIPTION: This command applies a custom values.yaml file during Helm installation, which can include configurations like Alertmanager settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Labels Using pipectl\nDESCRIPTION: Bash command for pushing a new event with labels to the PipeCD Control Plane. The event will only trigger watchers with matching labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped\nDESCRIPTION: Configuration snippet showing how to add a Helm chart repository to the Piped configuration file. This example demonstrates adding the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Visualizing Canary Clean in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart illustrates the final stage of a Blue/Green deployment in Amazon ECS. The canary service has been removed, and all traffic is routed to the primary service running version 2 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_11\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that routes traffic to pods labeled with 'app: helloworld'. This service will distribute traffic between canary and primary deployments based on their pod counts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: This snippet shows the basic structure of a PipeCD Control Plane configuration file. It defines the API version and the main Control Plane resource with a specification that includes the address of the PipeCD service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in .pipe/ directory\nDESCRIPTION: Example of using labels with EventWatcher to create more specific event matching criteria. This allows targeting specific environments or applications when multiple repositories use the same event names.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example showing how to configure EventWatcher to update Helm chart versions automatically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Implementing Flex Wrap Reverse Container\nDESCRIPTION: Example of a flex container that wraps items in reverse order using the flex-wrap-reverse utility class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex flex-wrap-reverse\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring CANARY_BASELINE Strategy for Kubernetes App in PipeCD\nDESCRIPTION: Example configuration for the new CANARY_BASELINE strategy in PipeCD's Automated Deployment Analysis. This strategy compares metrics between Canary and Baseline variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 20%\n      - name: K8S_BASELINE_ROLLOUT\n        with:\n          replicas: 20%\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", variant=\"{{ .BuiltInArgs.Variant.Name }}\"}[10m])\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: K8S_BASELINE_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Executing Custom Commands in Lambda Deployment Pipeline (YAML)\nDESCRIPTION: This snippet demonstrates how to use the new SCRIPT_RUN stage to execute custom commands in a Lambda application deployment pipeline. It includes setting environment variables and running multiple commands.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0011-script-run-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  encryptedSecrets:\n    password: encrypted-secrets\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n            env:\n              AWS_PROFILE: default\n            runs:\n              - \"echo {{ .encryptedSecrets.password }} | sudo -S su\"\n              - \"sam build\"\n              - \"sam deploy -g --profile $AWS_PROFILE\"\n```\n\n----------------------------------------\n\nTITLE: Applying Custom Values in Helm Installation for PipeCD\nDESCRIPTION: This command applies custom values from a YAML file when installing PipeCD using Helm. It's used to include the Alertmanager configuration for Slack notifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Deleting an application\nDESCRIPTION: Command to delete a PipeCD application with a specified ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_20\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Setting Up Event Watcher Configuration\nDESCRIPTION: Configuration for event watching and handling including event matching criteria and replacement actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_9\n\nLANGUAGE: yaml\nCODE:\n```\nmatcher:\n  name: event-name\n  labels:\n    key: value\nhandler:\n  type: GIT_UPDATE\n  config:\n    commitMessage: \"Update values\"\n    replacements: []\n```\n\n----------------------------------------\n\nTITLE: Defining an Analysis Template in YAML\nDESCRIPTION: Shows how to define an Analysis Template with metric configurations. This example configures an HTTP error rate metric using Prometheus as the provider, with specific query parameters and expected values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    http_error_rate:\n      interval: 30m\n      provider: my-prometheus\n      expected:\n        max: 0\n      query: |\n        sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"{{ .App.Name }}\"}[1m]))\n        /\n        sum without(status) (rate(http_requests_total{job=\"{{ .App.Name }}\"}[1m]))\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog Key Files in Helm Installation\nDESCRIPTION: Console command for mounting Datadog API and application key files during Helm installation using --set-file parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption\nDESCRIPTION: Commands to generate a 2048-bit RSA key pair using OpenSSL, which is required for the secret management feature. The generated private and public keys will be used by Piped for encrypting and decrypting secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Getting application information\nDESCRIPTION: Displays the information of a given application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_17\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager to store Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Media Queries for Responsive Breakpoints in SCSS\nDESCRIPTION: Sets up media queries for different device sizes, allowing for responsive design adjustments based on viewport width.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_3\n\nLANGUAGE: scss\nCODE:\n```\n// Extra small devices (portrait phones, less than 576px)\n// No media query for `xs` since this is the default in Bootstrap\n\n// Small devices (landscape phones, 576px and up)\n@media (min-width: 576px) { ... }\n\n// Medium devices (tablets, 768px and up)\n@media (min-width: 768px) { ... }\n\n// Large devices (desktops, 992px and up)\n@media (min-width: 992px) { ... }\n\n// Extra large devices (large desktops, 1200px and up)\n@media (min-width: 1200px) { ... }\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: YAML configuration for an AWS Lambda application in PipeCD. This defines basic application properties including name and team label. The configuration file must be suffixed with .pipecd.yaml to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for LambdaApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/lambda/\n\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Access\nDESCRIPTION: Command to forward local port 9082 to the PipeCD ops service, enabling access to the internal project management interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher Using .pipe Directory\nDESCRIPTION: Example configuration for EventWatcher using the deprecated .pipe directory method to update Kubernetes manifests when an image update event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Sample PipeCD Application Config for ECS (YAML)\nDESCRIPTION: Example of a generated app.pipecd.yaml configuration for an ECS application. This config specifies the application name, input files, and target group settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_20\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Cloud Run application deployment in PipeCD. Defines the application spec with input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for ECS Fargate\nDESCRIPTION: Base YAML configuration for Piped deployment, including project settings, git repositories, and platform providers. Contains optional configurations for Terraform and secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: YAML configuration for defining a Google Cloud Run application in PipeCD with basic settings including name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain in PipeCD YAML\nDESCRIPTION: This YAML configuration demonstrates how to set up a deployment chain for a Terraform application in PipeCD. It includes the postSync section with chain configurations to trigger deployments for other applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: This snippet demonstrates how to set up a VirtualService that initially routes all traffic to the primary subset. This VirtualService will be dynamically updated by PipeCD during the deployment process to switch traffic between primary and canary variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This configuration snippet demonstrates setting up a Lambda platform provider in PipeCD. It requires specifying the AWS region and optionally includes authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in PipeCD\nDESCRIPTION: This YAML configuration defines a custom deployment pipeline for a Cloud Run application in PipeCD. It specifies a gradual rollout strategy with traffic shifting in three stages: 10%, 50%, and 100%.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Specifying Key Files in PipeCD Installation\nDESCRIPTION: Helm installation options for configuring secret key files in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Getting Application Info\nDESCRIPTION: Retrieves and displays application information in JSON format\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: This snippet shows how to configure a Cloud Run provider in PipeCD. It requires specifying the Google Cloud project, region, and optionally a service account file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining EventWatcher Configuration in .pipe Directory (YAML)\nDESCRIPTION: This snippet shows how to configure EventWatcher in the deprecated .pipe directory to update a Kubernetes manifest when an event occurs. It defines which file and YAML field should be updated when the 'helloworld-image-update' event is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance with a container running Piped directly, without remote upgrade capability. It uses the previously created service account and secret for configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for Internal Communication\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for PipeCD's internal use, particularly when using GKE Ingress. The certificate is valid for 10 years (3650 days).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Setting Piped Installation Options\nDESCRIPTION: Helm installation options for configuring Piped with secret key pairs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Attachment in PipeCD\nDESCRIPTION: PipeCD application configuration showing how to specify attachment sources and targets for an ECS application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Listing Applications with Specific Criteria\nDESCRIPTION: This command finds and displays information of matching applications in JSON format. It allows filtering by application name and kind, requiring the Control Plane API address and API key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Cross-Kind Deployment Chain in PipeCD\nDESCRIPTION: This set of YAML snippets shows how to configure a deployment chain across multiple application kinds (Terraform, CloudRun, Kubernetes) in PipeCD. It includes configurations for the initial Terraform application and subsequent CloudRun and Kubernetes applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0007-deployment-chain.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nname: infra\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        - name: x\n          kind: CloudrunApp\n        - name: y\n          kind: KubernetesApp\n      conditions:\n        - commitPrefix: \"Trigger chain\"\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudrunApp\nname: x\nspec:\n  pipeline:\n    ...\n```\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nname: y\nspec:\n  pipeline:\n    ...\n```\n\n----------------------------------------\n\nTITLE: Collecting CPU Profile from Piped\nDESCRIPTION: Commands to collect CPU profiling data from Piped and analyze it using the pprof tool. This captures CPU usage information for performance analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Deploying PipeCD Piped Agent\nDESCRIPTION: Applies the piped manifest to deploy the PipeCD agent in the pipecd namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/quickstart/README.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\nkubectl apply -n pipecd -f ./manifests/piped.yaml\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote Upgrade on GCP VM\nDESCRIPTION: Shell command to create a Google Cloud VM instance running Piped with remote upgrade capability using the launcher container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in .pipe Directory\nDESCRIPTION: Example of using labels in EventWatcher configuration to create unique event definitions, allowing for more granular control over which events trigger which updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running Plan Preview with pipectl CLI\nDESCRIPTION: Command to run a plan preview using the pipectl command-line tool. It requires specifying the control plane address, API key, repository details, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Installation with Secret Keys\nDESCRIPTION: Command-line options to specify the public and private keys when installing Piped. These keys are used for secret encryption and decryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Service Account for Piped\nDESCRIPTION: Shell commands for creating and configuring a service account with necessary IAM roles for Piped operation including secret access and logging permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service via Command Line\nDESCRIPTION: Command line instruction for starting the Piped service with a specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to Access PipeCD Ops Service\nDESCRIPTION: Command for port forwarding to access the PipeCD operations service for project management. Exposes the pipecd-ops service on localhost port 9082.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD ops service\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Defining RBAC Policy Format in PipeCD\nDESCRIPTION: Demonstrates the format for defining Role-Based Access Control policies in PipeCD. Policies can specify resource names and action names, with support for wildcard (*) to represent all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Custom Deployment Pipeline in YAML\nDESCRIPTION: YAML configuration for an ECS application with a custom deployment pipeline. It demonstrates a gradual rollout strategy with canary deployment, traffic routing, analysis, and cleanup stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    # Path to Service configuration file in Yaml/JSON format.\n    serviceDefinitionFile: servicedef.yaml\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant, the number of workload\n      # for CANARY variant is equal to 30% of PRIMARY's workload.\n      # But this is still receiving no traffic.\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      # Change the traffic routing state where\n      # the CANARY workloads will receive the specified percentage of traffic.\n      # This is known as multi-phase canary strategy.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      # Optional: We can also add an ANALYSIS stage to verify the new version.\n      # If this stage finds any not good metrics of the new version,\n      # a rollback process to the previous version will be executed.\n      - name: ANALYSIS\n      # Update the workload of PRIMARY variant to the new version.\n      - name: ECS_PRIMARY_ROLLOUT\n      # Change the traffic routing state where\n      # the PRIMARY workloads will receive 100% of the traffic.\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      # Destroy all workloads of CANARY variant.\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Adding pipectl plugin to Asdf\nDESCRIPTION: Command to add the pipectl plugin to Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\n```\n\n----------------------------------------\n\nTITLE: Installing Basic Piped with Helm\nDESCRIPTION: Helm command to install a basic Piped agent with specified configuration and secret files. This needs to be manually upgraded when updating Piped or its configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Registering an event for EventWatcher\nDESCRIPTION: Creates a new event that can be used by the EventWatcher feature in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task without Remote-upgrade for ECS Fargate\nDESCRIPTION: This JSON defines a task definition for Piped without the remote-upgrade feature. It uses a specific Piped image version and retrieves the configuration from AWS Secrets Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Waiting for a deployment status\nDESCRIPTION: Command to wait until a specified deployment reaches a particular status (e.g., DEPLOYMENT_SUCCESS).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_22\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Applying Alertmanager Configuration via Helm Install\nDESCRIPTION: This command applies the Alertmanager configuration file during Helm installation of PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Running Plan Preview with pipectl Command\nDESCRIPTION: Command to request a plan-preview result using pipectl, showing how to specify control plane address, API key, repository URL, and branch/commit information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Applying AlertManager Configuration via Helm\nDESCRIPTION: Command to apply the AlertManager configuration using Helm values file during installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets and Environment Variables in Custom Stages\nDESCRIPTION: Example demonstrating how to use encrypted secrets and environment variables within custom stage commands for a Lambda application, providing secure credential management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0010-custom-stage.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  encryptedSecrets:\n    password: encrypted-secrets\n  pipeline:\n    stages:\n      - name: CUSTOM_STAGE\n        env:\n          AWS_PROFILE: default\n        runs:\n          - \"echo {{ .encryptedSecrets.password }} | sudo -S su\"\n          - \"sam build\"\n          - \"sam deploy -g --profile $AWS_PROFILE\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Analysis with Dynamic Metrics in PipeCD\nDESCRIPTION: Demonstrates how to configure a Kubernetes application with analysis stage using Prometheus metrics query templating. Shows usage of variant templating for metric evaluation in the pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          dynamic:\n            metrics:\n              - provider: prometheus-dev\n                interval: 5m\n                expected:\n                  max: 0.1\n                query: |\n                  sum without(status) (rate(http_requests_total{status=~\"5.*\", job=\"foo\", variant=\"{{ .Variant }}\"}[10m]))\n                  /\n                  sum without(status) (rate(http_requests_total{job=\"foo\", variant=\"{{ .Variant }}\"}[10m]))\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Attachment\nDESCRIPTION: PipeCD application configuration that specifies how to use attachment sources and targets for an ECS application deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN Stage with Rollback in PipeCD Kubernetes Pipeline\nDESCRIPTION: Example of configuring a SCRIPT_RUN stage with rollback functionality. It demonstrates how to define commands for both normal execution and rollback scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with Remote-Upgrade for Cloud Run\nDESCRIPTION: Cloud Run service manifest for deploying Piped with remote-upgrade capability, which allows upgrading Piped to a new version directly from the web console. This configuration uses the Piped launcher image and mounts the configuration from Secret Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Implementing Rollback Commands in SCRIPT_RUN Stage (YAML)\nDESCRIPTION: This snippet illustrates how to define rollback commands for the SCRIPT_RUN stage using the 'onRollback' property. It shows sending different Slack notifications for successful deployment and rollback scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0011-script-run-stage.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          env:\n            SLACK_WEBHOOK_URL: \"\"\n          runs:\n            - \"curl -X POST -H 'Content-type: application/json' --data '{\\\"text\\\":\\\"successfully deployed!!\\\"}' $SLACK_WEBHOOK_URL\"\n          onRollback:\n            - \"curl -X POST -H 'Content-type: application/json' --data '{\\\"text\\\":\\\"failed to deploy: rollback\\\"}' $SLACK_WEBHOOK_URL\"\n```\n\n----------------------------------------\n\nTITLE: Starting Local Control Plane with Kind\nDESCRIPTION: Commands for starting a local Kubernetes cluster using Kind and installing Control Plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/contribution-guidelines/development.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nmake kind-up\nmake run/pipecd\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application and Exiting Immediately\nDESCRIPTION: Command to trigger synchronization of an application and exit immediately once the deployment is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run (Console)\nDESCRIPTION: This command deploys the Piped service on Cloud Run using the prepared service manifest file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Creating CloudRun Application Resource\nDESCRIPTION: Configure a CloudRun application resource with platform settings, Git repository details, and application metadata using the pipecd_application resource type.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config Interactively\nDESCRIPTION: This snippet demonstrates the interactive use of pipectl to generate an app.pipecd.yaml configuration file. It prompts the user for platform selection and application name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_27\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Getting deployment stage logs\nDESCRIPTION: Retrieves and displays the logs for deployment stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_23\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Helm Command for Mounting Datadog Key Files in PipeCD\nDESCRIPTION: This console command shows how to use Helm's --set-file option to mount Datadog API and application key files during the PipeCD upgrading process on Kubernetes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Adding Image and Text to Navbar Brand in Bootstrap\nDESCRIPTION: Example showing how to combine both image and text in the navbar brand. The image is displayed inline with the text using the d-inline-block and align-top utility classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!-- Image and text -->\n<nav class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">\n    <img src=\"/docs/{{< param docs_version >}}/assets/brand/bootstrap-solid.svg\" width=\"30\" height=\"30\" class=\"d-inline-block align-top\" alt=\"\">\n    Bootstrap\n  </a>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Capturing Execution Trace in Piped\nDESCRIPTION: Demonstrates how to collect execution trace data and analyze it with Go's trace tool. This provides detailed information about goroutine execution, blocking, and system calls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring System with Helm\nDESCRIPTION: Helm command option to enable the built-in monitoring system when installing PipeCD Control plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Creating ECS Service for Piped Task Management\nDESCRIPTION: Command to create an ECS service that manages the Piped task, ensuring continuous operation with automatic restart capability if the task fails or stops.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane Version with Helm\nDESCRIPTION: Helm command to upgrade an existing PipeCD Control Plane installation to a new version while maintaining the same configuration settings and secret files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Configuration template for deploying applications to Amazon ECS through PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Enabling Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable secret management in the Piped configuration file. This specifies the type of secret management and the paths to the key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Encrypting Deployment Data with pipectl (Console)\nDESCRIPTION: Commands for encrypting plaintext data using pipectl, either from stdin or an input file. This process is equivalent to encrypting secrets through the web interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_18\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task with Remote-upgrade Feature\nDESCRIPTION: This JSON defines an ECS task definition for Piped with remote-upgrade feature enabled, allowing upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Deployment for Primary Variant\nDESCRIPTION: Kubernetes Deployment configuration for the primary variant with PipeCD-specific labels and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: YAML configuration for an AWS ECS application in PipeCD. This defines basic application properties including name and team label. The configuration file must be suffixed with .pipecd.yaml to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for ECSApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/ecs/\n\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Namespaced Kubernetes Installation\nDESCRIPTION: This YAML configuration extends the previous Piped config to include a Kubernetes platform provider, restricting Piped's access to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Agent in YAML\nDESCRIPTION: YAML configuration file for Piped agent defining project settings, API endpoints, Git repositories, and platform providers for ECS and optional Terraform support.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_RUNNING_REGION}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that selects pods with the label 'app: helloworld'. It exposes port 9085 for TCP traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane using Helm\nDESCRIPTION: Helm command to install PipeCD Control Plane with configuration and secret files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in YAML\nDESCRIPTION: Example configuration for a Terraform application in PipeCD. The file includes basic application metadata and must be suffixed with '.pipecd.yaml' to be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for TerraformApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/terraform/\n\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Provider in PipeCD\nDESCRIPTION: Configuration for adding a Terraform cloud provider with shared terraform variables that will be applied during application deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe directory (Deprecated)\nDESCRIPTION: Example of an EventWatcher configuration file placed in the .pipe/ directory that defines how to update a Kubernetes deployment file when a new image event occurs. This approach is deprecated in favor of application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running the Piped launcher container, enabling remote upgrade functionality for easier version management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service via Port Forwarding\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD ops service locally, used for initializing new projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring RBAC Policy Format in PipeCD\nDESCRIPTION: Defines the format for specifying role-based access control policies in PipeCD. Policies combine resource names with allowed actions, supporting wildcard (*) for all resources or actions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nresources=RESOURCE_NAMES;actions=ACTION_NAMES\n```\n\nLANGUAGE: yaml\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target YAML\nDESCRIPTION: Example of how to reference the attached configuration in a target YAML file (taskdef.yaml).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Waiting for deployment status\nDESCRIPTION: Waits until a given deployment reaches one of the specified statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_22\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration in YAML\nDESCRIPTION: Example of a basic PipeCD Control Plane configuration structure showing the API version, kind, and spec fields with the address property.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: PipeCD Secret Management Configuration\nDESCRIPTION: Configuration options for secret management including key pair and GCP KMS methods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n## SecretManagement\n| Field | Type | Description | Required |\n|-|-|-|-|\n| type | string | Which management method should be used. Default is `KEY_PAIR`. | Yes |\n| config | [SecretManagementConfig](#secretmanagementconfig) | Configration for using secret management method. | Yes |\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Kubernetes Application Examples\nDESCRIPTION: Table showing various Kubernetes deployment examples with PipeCD, including simple deployments, Helm charts, Kustomize configurations, and different deployment strategies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/kubernetes/simple) | Deploy plain-yaml manifests in application directory without using pipeline. |\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane in Local Cluster\nDESCRIPTION: Command to install PipeCD Control Plane into the local Kubernetes cluster for development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nmake run/pipecd\n```\n\n----------------------------------------\n\nTITLE: Registering and Running Piped Task (Bash)\nDESCRIPTION: Bash commands to register the Piped task definition and start the Piped task on ECS Fargate.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with labels in application configuration\nDESCRIPTION: This YAML snippet demonstrates how to define an event watcher with labels directly in an application configuration file. Labels provide a way to uniquely identify events within a project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Aqua\nDESCRIPTION: This snippet shows the process of installing pipectl using the Aqua package manager. It includes commands for adding pipectl to the configuration, installing it, and verifying the installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\naqua i\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Defining Lambda Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the structure for configuring a Lambda application in PipeCD. It includes the API version, kind, and the start of the spec section for Lambda-specific configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration Structure in YAML\nDESCRIPTION: The basic structure of a PipeCD Control Plane configuration file, showing the API version and kind declaration with a placeholder for configuration options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Listing deployments\nDESCRIPTION: Command to show a list of deployments based on specified filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_21\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: AWS IAM Permissions for Lambda Application Deployment\nDESCRIPTION: Specifies the required IAM policy permissions for deploying Lambda applications through PipeCD. Includes permissions for Lambda function management, version control, and role assignment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/required-permissions.md#2025-04-14_snippet_1\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"lambda:CreateAlias\",\n                \"lambda:CreateFunction\",\n                \"lambda:GetAlias\",\n                \"lambda:GetFunction\",\n                \"lambda:ListFunctions\",\n                \"lambda:PublishVersion\",\n                \"lambda:TagResource\",\n                \"lambda:UntagResource\",\n                \"lambda:UpdateAlias\",\n                \"lambda:UpdateFunctionCode\",\n                \"lambda:UpdateFunctionConfiguration\"\n            ],\n            \"Resource\": [\n                \"*\"\n            ]\n        },\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"iam:PassRole\"\n            ],\n            \"Resource\": [\n                \"arn:aws:iam::<account-id>:role/<function-role>\"\n            ]\n        }\n    ]\n}\n```\n\n----------------------------------------\n\nTITLE: Auth0 Custom Roles Mapping Action\nDESCRIPTION: JavaScript action for Auth0 to map roles information to custom claims in the ID token.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nexports.onExecutePostLogin = async (event, api) => {\n  let namespace = \"custom\";\n  if (namespace && !namespace.endsWith(\"/\")) {\n    namespace += \":\";\n  }\n  api.idToken.setCustomClaim(namespace + \"roles\", event.authorization.roles);\n};\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: Example YAML configuration for a Kubernetes Deployment manifest. This snippet shows a simple Deployment with replicas and container specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to System PATH\nDESCRIPTION: This command moves the pipectl binary to /usr/local/bin for easier access from anywhere in the system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped in YAML\nDESCRIPTION: This YAML configuration file sets up the Piped service with project details, API address, Git repository information, and sync interval. It requires filling in placeholders for project-specific values.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Getting deployment stage logs\nDESCRIPTION: Command to retrieve the logs for different stages of a deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_23\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: This snippet shows an example Kubernetes Deployment manifest with replicas and container arguments that might be subject to drift detection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: AWS Secret Management Commands\nDESCRIPTION: Bash commands for storing Piped configuration in AWS Secrets Manager and AWS Systems Manager Parameter Store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Retrieving Deployment Logs with pipectl\nDESCRIPTION: Fetches the logs for a specific deployment's stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf\nDESCRIPTION: Demonstrates the installation of pipectl using the Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\nasdf install pipectl {VERSION}\nasdf global pipectl {VERSION}\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane on Kubernetes\nDESCRIPTION: This code snippet creates a dedicated namespace called 'pipecd' and installs the PipeCD control plane using a predefined manifest from GitHub. This sets up the core management component with a default 'quickstart' project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl create namespace pipecd\n$ kubectl apply -n pipecd -f https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Google Cloud Run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: PostgreSQL GIN Index Creation on JSON Field\nDESCRIPTION: Demonstrates successful creation of a GIN index on a JSON field in PostgreSQL, showing the table structure after index creation. This approach enables efficient text search operations on JSON data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_6\n\nLANGUAGE: sql\nCODE:\n```\npostgres=> CREATE INDEX idf ON test.applications USING GIN(data);\nCREATE INDEX\npostgres=> \\d test.applications\n               Table \"test.applications\"\n   Column   |  Type   | Collation | Nullable | Default \n------------+---------+-----------+----------+---------\n id         | uuid    |           | not null | \n project_id | uuid    |           | not null | \n data       | jsonb   |           | not null | \n disabled   | boolean |           | not null | \n created_at | bigint  |           | not null | \n updated_at | bigint  |           | not null | \nIndexes:\n    \"applications_pkey\" PRIMARY KEY, btree (id)\n    \"idf\" gin (data)\n```\n\n----------------------------------------\n\nTITLE: Waiting for Deployment Status with pipectl\nDESCRIPTION: Waits for a specific deployment to reach a desired status using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Configuring CUSTOM_SYNC for Lambda Application\nDESCRIPTION: Example configuration for a Lambda application using CUSTOM_SYNC stage with SAM deployment commands. Includes environment variable setup and custom deployment scripts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/custom-sync.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: sam-simple\n  labels:\n    env: example\n    team: abc\n  planner:\n    # Must add this configuration to force use CUSTOM_SYNC stage.\n    alwaysUsePipeline: true\n  pipeline:\n    stages:\n      - name: CUSTOM_SYNC\n        with:\n          envs:\n            AWS_PROFILE: \"sample\"\n          run: |\n            cd sam-app\n            sam build\n            echo y | sam deploy --profile $AWS_PROFILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in YAML\nDESCRIPTION: This snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and spec with name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in Kubernetes Pipeline\nDESCRIPTION: Example configuration showing how to add a WAIT stage between canary and primary rollouts in a Kubernetes deployment pipeline. The wait duration is set to 5 minutes using the duration field.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with Remote-upgrade for Cloud Run (YAML)\nDESCRIPTION: This Cloud Run service manifest configures Piped with the remote-upgrade feature, allowing for version upgrades from the web console. It sets up the container, resources, and volume mounts for the Piped configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Cloud Run\nDESCRIPTION: Cloud Run service manifest for deploying Piped with remote-upgrade capability, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Adding pipectl with Aqua package manager\nDESCRIPTION: Adds pipectl to Aqua's configuration file for installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager for Piped Configuration\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration file. This ensures the configuration data with sensitive information is stored securely and can be accessed by the Cloud Run service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Namespaced Mode\nDESCRIPTION: YAML configuration file for Piped in namespaced mode. Includes additional platform provider configuration to restrict access to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Interface\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD ops interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Analyzing Execution Trace with Go Tool\nDESCRIPTION: This command uses the go tool trace to analyze the previously collected execution trace data. It takes the trace.out file as input and launches the trace viewer for visual analysis of the trace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Platform Provider in PipeCD\nDESCRIPTION: This snippet illustrates the configuration for a Lambda platform provider in PipeCD. It specifies the AWS region, profile, and optionally a credentials file for authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deleting an application with pipectl (Console)\nDESCRIPTION: Removes an application from the PipeCD project using its ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Helm Installation Command for Datadog Key Files\nDESCRIPTION: Console command for mounting Datadog API and application key files during Helm installation using --set-file parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Resetting Text Color in HTML\nDESCRIPTION: This snippet shows how to use the .text-reset class to reset a text or link's color to inherit from its parent.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-muted\">\n  Muted text with a <a href=\"#\" class=\"text-reset\">reset link</a>.\n</p>\n```\n\n----------------------------------------\n\nTITLE: Installing Piped Agent with ID and Key\nDESCRIPTION: Command that downloads the piped agent manifest, replaces the placeholder values for piped ID and encoded key with actual values, and applies the configuration to the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n$ curl -s https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/piped.yaml | \\\n  sed -e 's/<YOUR_PIPED_ID>/<COPIED_PIPED_ID>/g' \\\n      -e 's/<YOUR_PIPED_KEY_DATA>/<COPIED_ENCODED_PIPED_KEY>/g' | \\\n  kubectl apply -n pipecd -f -\n```\n\n----------------------------------------\n\nTITLE: Cleaning Up PipeCD Control Plane Containers\nDESCRIPTION: Command to stop and remove all containers created for the PipeCD Control Plane. This completely cleans up the environment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-local-docker-compose.md#2025-04-14_snippet_1\n\nLANGUAGE: sh\nCODE:\n```\ndocker-compose down\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition for Piped\nDESCRIPTION: JSON service definition for controlling Piped task deployment in ECS, including network and scheduling configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Adding a new PipeCD application\nDESCRIPTION: Command to add a new application to a PipeCD project with required parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run platform provider named 'cloudrun-dev'. It requires the GCP project name, the Cloud Run region, and optionally a service account file for authorization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Git Commit Sign-off Command\nDESCRIPTION: Command to sign off commits to comply with the Developer Certificate of Origin (DCO) requirement.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/contributing.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit commit -s\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key for Private Repositories\nDESCRIPTION: This console command demonstrates how to install piped using Helm, including the configuration of a private SSH key for accessing private Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Contexts\nDESCRIPTION: Command to register an event with additional metadata (contexts) that will be included in the git commit message when EventWatcher updates files, useful for tracking the source of changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --contexts Source-Commit-Hash=xxxxxxx,Source-Commit-URL=https://github.com/pipe-cd/pipecd/commit/xxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task without Remote-upgrade (JSON)\nDESCRIPTION: JSON task definition for Piped without remote-upgrade feature. This installs a Piped with a specified version, requiring manual restart for upgrades or config updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Primary Variant\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes the 'pipecd.dev/variant: primary' label to distinguish it as the primary variant in PipeCD context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cluster-wide Mode\nDESCRIPTION: Basic Piped configuration file for cluster-wide installation mode. Includes project settings, API connection details, and Git repository configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Local Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal GKE Ingress use.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets in Lambda Function Environment Variables\nDESCRIPTION: Example of configuring an environment variable for a Lambda function using an encrypted secret. The secret is accessed using the .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Retrieving Configuration Files from AWS Secrets Manager for PipeCD in ECS\nDESCRIPTION: This script retrieves configuration files from AWS Secrets Manager, replaces datastore endpoints, sets encryption keys, and launches the PipeCD server with appropriate parameters in an ECS environment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0009-control-plane-without-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# get configuration files from private S3 bucket via aws-cli\necho $CONTROL_PLANE_CONFIG >> control_plane_config.yaml\n# replace datastore endpoint (if you use terraform, you can replace by using variables)\nsed -i -e s/pipecd-mysql/${var.db_instance_address}/ control-plane-config.yaml\n# You must set an encryption key to the environment value\necho $ENCRYPTION_KEY >> encryption-key\n# replace cache endpoint (if you use terraform, you can replace by using variables)\npipecd server \\\n--insecure-cookie=true \\\n--cache-address=${var.redis_host}:6379 \\\n--config-file=control-plane-config.yaml \\\n--enable-grpc-reflection=false \\\n--encryption-key-file=encryption-key \\\n--log-encoding=humanize --metrics=true;\n```\n\n----------------------------------------\n\nTITLE: Defining Configuration Data in YAML\nDESCRIPTION: Example of a config.yaml file containing configuration data for MySQL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Shell command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to Access PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port (9082) to the pipecd-ops service in the specified namespace, allowing access to the internal ops web page where projects can be managed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Config in AWS Secrets\nDESCRIPTION: Commands for storing Piped configuration in either AWS Secrets Manager or AWS Systems Manager Parameter Store\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped on GCP VM\nDESCRIPTION: Command to create a Google Cloud VM instance running Piped without remote upgrade capability using the piped container directly.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in Docker container\nDESCRIPTION: Executes pipectl commands inside a Docker container from GitHub Container Registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Disabling an Application with pipectl\nDESCRIPTION: Disables a specific application using its ID with pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Accessing Grafana Dashboard with Port Forwarding\nDESCRIPTION: Kubernetes command to set up port forwarding for accessing the Grafana dashboard interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally\nDESCRIPTION: Command to run a Piped agent locally with a specified configuration file. Can be configured to connect to a local Control Plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/contribution-guidelines/development.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Standard Piped Task for ECS Fargate\nDESCRIPTION: This JSON task definition sets up a standard Piped task for ECS Fargate. It uses a specific Piped version and requires manual restart for upgrades or config updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Registering an event with pipectl CLI\nDESCRIPTION: This Bash command registers a new event named 'helloworld-image-update' to the PipeCD Control Plane using the pipectl tool. It includes the target image as data that will be used to update the application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Aqua - Installing\nDESCRIPTION: Command to install pipectl using Aqua package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\naqua i\n```\n\n----------------------------------------\n\nTITLE: Defining Configuration Data in YAML\nDESCRIPTION: Example of a config.yaml file containing configuration data for MySQL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Service for Piped\nDESCRIPTION: JSON configuration for ECS service to control Piped task deployment with Fargate launch type\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Cognito SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up AWS Cognito SSO integration in PipeCD Control Plane with required parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://cognito-idp.<AWS_REGION>.amazonaws.com/<USER_POOL_ID>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Basic YAML structure for configuring a Lambda application in PipeCD. This configuration includes the required apiVersion and kind fields, with placeholders for pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example of how to access encrypted secrets in a Kubernetes Secret manifest using PipeCD's .encryptedSecrets context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Webhook Notifications in PipeCD YAML\nDESCRIPTION: This YAML snippet shows how to configure PipeCD to send notifications to external services via webhook. It includes a route configuration to send all events to a webhook service and a receiver configuration with URL and signature value.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all events an external service.\n      - name: all-events-to-a-external-service\n        receiver: a-webhook-service\n    receivers:\n      - name: a-webhook-service\n        webhook:\n          url: {WEBHOOK_SERVICE_URL}\n          signatureValue: {RANDOM_SIGNATURE_STRING}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Web Dependencies\nDESCRIPTION: This command updates the web dependencies for the PipeCD project using Make. It should be run before starting the development server for the first time.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nmake update/web-deps\n```\n\n----------------------------------------\n\nTITLE: Deployment Message with Deploy Targets in Protocol Buffers\nDESCRIPTION: Protocol Buffer definition for the Deployment message with deploy_targets field to support multi-cluster deployments, while maintaining platform_provider for backward compatibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_3\n\nLANGUAGE: proto\nCODE:\n```\nmessage Deployment {\n    reserved 4;\n    ...\n    // The name of platform provider where to deploy this application.\n    // This must be one of the provider names registered in the piped.\n    string platform_provider = 11;\n    \n    repeated string deploy_targets = 12;\n}\n```\n\n----------------------------------------\n\nTITLE: Setting global pipectl version with Asdf\nDESCRIPTION: Command to set a global version of pipectl using Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Roles\nDESCRIPTION: Shell commands for creating a service account for Piped and configuring necessary IAM roles including secret access and logging permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n```\n\n----------------------------------------\n\nTITLE: Retrieving CPU Profile in Piped\nDESCRIPTION: This command retrieves the CPU profiling data from Piped and saves it to a file named cpu.pprof. It uses curl to send a GET request to the /debug/pprof/profile route on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Container Image Labels for Source Tracking\nDESCRIPTION: Dockerfile labels example showing how to include source code metadata in container images using OCI specification labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/ci-cd-gap-fulfill-with-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: dockerfile\nCODE:\n```\nLABEL org.opencontainers.image.source=\"https://github.com/pipe-cd/pipecd\"\nLABEL org.opencontainers.image.revision=\"0123456789abcdefg\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service with Remote-upgrade\nDESCRIPTION: Cloud Run service manifest for deploying Piped with remote-upgrade capability, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task without Remote-upgrade\nDESCRIPTION: This JSON defines an ECS task definition for Piped without remote-upgrade feature, requiring manual restarts for upgrades or config updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"piped piped --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Background Color Examples - HTML\nDESCRIPTION: Demonstrates the use of Bootstrap's background color utilities with text color combinations for proper contrast.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/colors.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"p-3 mb-2 bg-white text-dark\">.bg-white</div>\n<div class=\"p-3 mb-2 bg-transparent text-dark\">.bg-transparent</div>\n```\n\n----------------------------------------\n\nTITLE: Listing Applications with Filters\nDESCRIPTION: Command to list applications that match specific criteria (name and kind) and display their information in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Service Configuration in YAML\nDESCRIPTION: This YAML snippet defines the service specification for a Cloud Run application. It includes metadata, container specifications, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD YAML\nDESCRIPTION: Sample configuration for an AWS ECS application in PipeCD. The configuration file must be suffixed with .pipecd.yaml and defines the application name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for ECSApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/ecs/\n\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Traffic Routing\nDESCRIPTION: Defines the Istio VirtualService that controls traffic routing between primary and canary deployments, initially routing all traffic to primary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped without Remote-upgrade for Cloud Run (YAML)\nDESCRIPTION: This Cloud Run service manifest configures Piped without the remote-upgrade feature. It sets up the container with a specific version, resources, and volume mounts for the Piped configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Accessing Encrypted Secrets in Kubernetes Secret Manifest\nDESCRIPTION: Example YAML showing how to access an encrypted secret in a Kubernetes Secret manifest using the .encryptedSecrets context. Piped will decrypt this value before applying the manifest.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Secret\nmetadata:\n  name: simple-sealed-secret\ndata:\n  password: \"{{ .encryptedSecrets.password }}\"\n```\n\n----------------------------------------\n\nTITLE: Cleaning Up PipeCD Installation\nDESCRIPTION: Command to remove all PipeCD components and resources by deleting the entire namespace when you're done experimenting with the quickstart setup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl delete ns pipecd\n```\n\n----------------------------------------\n\nTITLE: Configuring Threshold-based Metrics Analysis in PipeCD\nDESCRIPTION: Example configuration for a Kubernetes application using the THRESHOLD strategy for metrics analysis. Sets up monitoring of HTTP error rates with a maximum threshold of 0.01 over 30 minutes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Registering Event\nDESCRIPTION: Registers an event for EventWatcher with specified name and data\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Aqua\nDESCRIPTION: Installs pipectl using Aqua package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\naqua i\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration\nDESCRIPTION: Helm command for installing piped with SSH key configuration for accessing private repositories. This command sets up the piped configuration file, piped key file, and private SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Waiting for deployment status with pipectl (Console)\nDESCRIPTION: Waits for a specific deployment to reach a desired status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl using asdf\nDESCRIPTION: Installs the PipeCD client using the asdf version manager, adding the plugin and setting it as global.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Creating Media List in HTML\nDESCRIPTION: This snippet demonstrates how to use media object classes with list elements to create a media list. It uses the `.list-unstyled` class to remove default list styles and applies `.media` to list items.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/media-object.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<ul class=\"list-unstyled\">\n  <li class=\"media\">\n    {{< placeholder width=\"64\" height=\"64\" class=\"mr-3\" >}}\n    <div class=\"media-body\">\n      <h5 class=\"mt-0 mb-1\">List-based media object</h5>\n      <p>All my girls vintage Chanel baby. So you can have your cake. Tonight, tonight, tonight, I'm walking on air. Slowly swallowing down my fear, yeah yeah. Growing fast into a bolt of lightning. So hot and heavy, 'Til dawn. That fairy tale ending with a knight in shining armor. Heavy is the head that wears the crown.</p>\n    </div>\n  </li>\n  <li class=\"media my-4\">\n    {{< placeholder width=\"64\" height=\"64\" class=\"mr-3\" >}}\n    <div class=\"media-body\">\n      <h5 class=\"mt-0 mb-1\">List-based media object</h5>\n      <p>Maybe a reason why all the doors are closed. Cause once you're mine, once you're mine. Be your teenage dream tonight. Heavy is the head that wears the crown. It's not even a holiday, nothing to celebrate. A perfect storm, perfect storm.</p>\n    </div>\n  </li>\n  <li class=\"media\">\n    {{< placeholder width=\"64\" height=\"64\" class=\"mr-3\" >}}\n    <div class=\"media-body\">\n      <h5 class=\"mt-0 mb-1\">List-based media object</h5>\n      <p>Are you brave enough to let me see your peacock? There's no going back. This is the last time you say, after the last line you break. At the eh-end of it all.</p>\n    </div>\n  </li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Traffic Routing\nDESCRIPTION: Options for controlling traffic distribution between primary, canary and baseline variants in Kubernetes deployments using service selectors or other routing methods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nall: \"primary\"\nprimary: \"80%\"\ncanary: \"20%\"\nbaseline: \"0%\"\n```\n\n----------------------------------------\n\nTITLE: Syncing an application (trigger only)\nDESCRIPTION: Command to send a sync request for an application and exit immediately when the deployment is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Running Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with a specific version, requiring manual restarts for upgrades or configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Homebrew\nDESCRIPTION: This snippet demonstrates how to install pipectl using Homebrew package manager. It includes commands for adding the tap, updating formulae, installing pipectl, and verifying the installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\n```\n\nLANGUAGE: console\nCODE:\n```\nbrew update\n```\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Remote Helm Chart Repository Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a Helm chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and team label in the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl using go install\nDESCRIPTION: This command installs pipectl using Go's package manager. It requires Go 1.16 or later to be installed on the system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipectl/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngo install github.com/pipe-cd/pipecd/cmd/pipectl@latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in YAML\nDESCRIPTION: Configuration for a Terraform platform provider with shared terraform variables that will be applied during application deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Encrypting Deployment Data with Pipectl from stdin\nDESCRIPTION: This snippet demonstrates how to use pipectl to encrypt plaintext data from stdin for use in deployments. It requires the control plane API address, API key, and Piped ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_25\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Basic configuration structure for an AWS Lambda application deployment in PipeCD, for serverless function deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service in YAML\nDESCRIPTION: A service.yaml file that contains the service specification for a Cloud Run application. It defines service name, scaling parameters, container specifications including image, ports, and resource limits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE_NAME\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '5'\n    spec:\n      containerConcurrency: 80\n      containers:\n      - args:\n        - server\n        image: gcr.io/pipecd/helloworld:v0.5\n        ports:\n        - containerPort: 9085\n        resources:\n          limits:\n            cpu: 1000m\n            memory: 128Mi\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Cloud Run Deployment (YAML)\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API settings, Git repository access, and optional platform providers for Cloud Run and Terraform. It also includes commented-out sections for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Enable this Piped to handle Cloud Run application.\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Specifying EventWatcher Files for Piped in PipeCD YAML\nDESCRIPTION: This YAML configuration demonstrates how to specify EventWatcher files for a Piped instance. It includes a commit message and a file pattern to include specific EventWatcher files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding PipeCD Console\nDESCRIPTION: Sets up port forwarding to access the PipeCD console locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with CANARY_BASELINE Strategy in PipeCD\nDESCRIPTION: This snippet demonstrates the configuration for an ANALYSIS stage using the CANARY_BASELINE strategy. It compares metrics between Canary and Baseline variants, using templating for variant-specific queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Control Plane with Docker Compose\nDESCRIPTION: Command to start the PipeCD Control Plane using docker-compose. This launches all required containers including the server, ops, Redis cache, MySQL database, and MinIO file store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-local-docker-compose.md#2025-04-14_snippet_0\n\nLANGUAGE: sh\nCODE:\n```\ndocker-compose up\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped\nDESCRIPTION: Configuration example for adding a Helm chart repository to the piped configuration file. This enables the official PipeCD chart repository for use in deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm Chart Version Update Event (Bash)\nDESCRIPTION: This command demonstrates registering an event to update a Helm chart version. It specifies the event name, labels, and the new version data that will be used to update the application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Creating Secret for Piped Config in Google Cloud Secret Manager\nDESCRIPTION: This shell command creates a new secret in Google Cloud Secret Manager to store the Piped configuration data securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote Upgrade on GCP VM\nDESCRIPTION: Command to create a Google Cloud VM instance running Piped with remote upgrade capability using the launcher container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Basic Cloud Run Service for Piped\nDESCRIPTION: Basic Cloud Run service manifest for Piped without remote-upgrade capability, requiring manual updates for version changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Displaying Help for Plan Preview Command in Console\nDESCRIPTION: This command shows the help information for the plan-preview command in pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config Interactively in Console\nDESCRIPTION: Shows how to use pipectl to interactively generate an app.pipecd.yaml configuration file for a PipeCD application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_26\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Notifications System Configuration Schema\nDESCRIPTION: Configuration schema for notification routing and receivers including Slack and webhook integrations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n| Field | Type | Description | Required |\n|-|-|-|-|\n| routes | [][NotificationRoute] | List of notification routes. | No |\n| receivers | [][NotificationReceiver] | List of notification receivers. | No |\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped Service\nDESCRIPTION: Cloud Run service manifest for deploying Piped without remote-upgrade capability. Version upgrades require manual service restart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Bootstrap Progress Bars with Different Widths\nDESCRIPTION: Example of creating basic Bootstrap progress bars with varying progress percentages (0%, 25%, 50%, 75%, and 100%). Each progress bar uses the .progress wrapper and .progress-bar element with appropriate ARIA attributes for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 50%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 75%\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 100%\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Basic YAML configuration for a Kubernetes application in PipeCD, specifying application name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Starting PipeCD Installation in Quickstart Mode\nDESCRIPTION: Command to initiate PipeCD installation in quickstart mode with a specified version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run with gcloud Command\nDESCRIPTION: Command to deploy the Piped service to Google Cloud Run using gcloud CLI. The command applies the configuration defined in the cloudrun-piped-service.yaml file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Registering Event with pipectl Command\nDESCRIPTION: Command to register a new event in the Control Plane using pipectl CLI tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Cluster-wide Mode\nDESCRIPTION: YAML configuration file for Piped in cluster-wide mode. Specifies project ID, Piped ID, API address, Git repository details, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Example Configuration YAML for Attachment Source\nDESCRIPTION: A sample YAML configuration file (config.yaml) that contains configuration data to be attached to other resources. This file defines MySQL root password and database name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped without remote features. This installs Piped with a specified version, requiring manual restarts for upgrades or config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal use in PipeCD\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Installing Web Dependencies\nDESCRIPTION: Command to install required web dependencies for the PipeCD Control Plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipecd/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nmake update/web-deps\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher Settings in PipeCD\nDESCRIPTION: Specifies event watcher configuration including check intervals and git repository observation settings\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\neventWatcher:\n  checkInterval: \"1m\"\n  gitRepos:\n    - repoId: \"example-repo\"\n      commitMessage: \"Update values\"\n      includes:\n        - \"foo/*.yaml\"\n      excludes:\n        - \"foo/excluded/*.yaml\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Cloud Run\nDESCRIPTION: Cloud Run service manifest for deploying Piped with remote-upgrade capability, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Updating Sass Mixin Syntax in Font Awesome 5.3.0\nDESCRIPTION: Demonstrates the correct way to use Sass mixins with Font Awesome icons by using @extend %fa-icon instead of @include fa-icon to maintain proper CSS order in output files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/UPGRADING.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n.twitter {\n  @include fa-icon; /* incorrect */\n  @extend .fab;\n\n  &:before {\n    content: fa-content($fa-var-twitter);\n  }\n}\n```\n\nLANGUAGE: scss\nCODE:\n```\n.twitter {\n  @extend %fa-icon; /* correct */\n  @extend .fab;\n\n  &:before {\n    content: fa-content($fa-var-twitter);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe Directory\nDESCRIPTION: YAML configuration for EventWatcher defining file updates in response to image update events. This method is deprecated but still supported.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Displaying pipectl Plan Preview Help in Console\nDESCRIPTION: This command shows the help information for the plan-preview subcommand in pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Cloud Provider in PipeCD\nDESCRIPTION: Configuration for an AWS ECS provider in PipeCD. This requires specifying the region where the ECS cluster is running, along with authentication details like profile and credentials file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Running Piped with Configuration File\nDESCRIPTION: Command to start running the Piped service using the specified configuration file. This command launches the Piped agent that will connect to the PipeCD control plane and monitor the configured Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Binary for Unix-like Systems\nDESCRIPTION: This snippet demonstrates how to download, make executable, and install the pipectl binary for Unix-like operating systems (macOS or Linux).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\nchmod +x ./pipectl\nsudo mv ./pipectl /usr/local/bin/pipectl\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Lambda Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of an AWS Lambda application configuration in PipeCD. It defines the Lambda application type with a placeholder for the pipeline section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Creating a Secret in Google Secret Manager for Piped Configuration\nDESCRIPTION: Command to create a new secret in Google Secret Manager, storing the Piped configuration data securely for access by the Cloud Run service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped using Helm\nDESCRIPTION: This Helm command installs Piped on a Kubernetes cluster. It sets up the configuration, secrets, and necessary files for Piped to operate.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Importing Custom Sass with Bootstrap\nDESCRIPTION: Shows how to import custom Sass variables followed by the Bootstrap Sass source for customization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_2\n\nLANGUAGE: scss\nCODE:\n```\n@import \"custom\";\n@import \"~bootstrap/scss/bootstrap\";\n```\n\n----------------------------------------\n\nTITLE: Registering an Event for EventWatcher\nDESCRIPTION: Command to register a new event that can be used by EventWatcher, providing a name and data for the event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_20\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the 'primary' subset. It's used as the starting point for the canary deployment process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task Definitions for ECS\nDESCRIPTION: JSON task definitions for Piped deployment with remote-upgrade capability and basic installation options\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an Amazon ECS application in PipeCD. It specifies the API version, kind, and basic metadata including name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Control Plane UI Access\nDESCRIPTION: This command sets up port forwarding to access the PipeCD Control Plane UI locally on port 8080.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl port-forward -n pipecd svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Defining Encrypted Secrets in PipeCD Application Configuration\nDESCRIPTION: YAML configuration for specifying encrypted secrets and decryption targets in a PipeCD application. It includes placeholders for the application kind and encrypted data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Google Cloud Run application deployment in PipeCD, for serverless container deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart\nDESCRIPTION: This command removes the entire pipecd namespace, effectively uninstalling PipeCD from the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl delete ns pipecd\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: This command forwards a local port to the PipeCD ops service pod, allowing access to the internal web page for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Listing Applications with pipectl\nDESCRIPTION: Lists applications matching specified criteria in JSON format using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Components with Quickstart Command\nDESCRIPTION: This command initiates the PipeCD installation process using the quickstart mode. It requires specifying the version of PipeCD to install.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client Binary\nDESCRIPTION: Downloads the PipeCD client (pipectl) binary for either Darwin or Linux operating systems using curl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl CLI\nDESCRIPTION: Command to execute plan preview using the pipectl command-line tool. Requires PipeCD control plane address, API key, and git repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service for Project Management\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD ops service to manage projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Columns with Stretched Link\nDESCRIPTION: Shows how to implement stretched links within Bootstrap grid columns. Uses position-static and position-relative classes to control the clickable area across row elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/stretched-link.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"row no-gutters bg-light position-relative\">\n  <div class=\"col-md-6 mb-md-0 p-md-4\">\n    {{< placeholder width=\"100%\" height=\"200\" class=\"w-100\" text=\" \" title=\"Generic placeholder image\" >}}\n  </div>\n  <div class=\"col-md-6 position-static p-4 pl-md-0\">\n    <h5 class=\"mt-0\">Columns with stretched link</h5>\n    <p>Another instance of placeholder content for this other custom component. It is intended to mimic what some real-world content would look like, and we're using it here to give the component a bit of body and size.</p>\n    <a href=\"#\" class=\"stretched-link\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Responsive Containers in HTML\nDESCRIPTION: Demonstrates the use of responsive container classes that are 100% wide until a specified breakpoint is reached, after which max-widths are applied.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"container-sm\">100% wide until small breakpoint</div>\n<div class=\"container-md\">100% wide until medium breakpoint</div>\n<div class=\"container-lg\">100% wide until large breakpoint</div>\n<div class=\"container-xl\">100% wide until extra large breakpoint</div>\n```\n\n----------------------------------------\n\nTITLE: Deleting Application\nDESCRIPTION: Deletes a specific application by ID\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access in Kubernetes\nDESCRIPTION: This command sets up port forwarding to access Grafana dashboards in a Kubernetes cluster. It forwards local port 3000 to the Grafana service port 80.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Adding Homebrew tap for pipectl\nDESCRIPTION: Commands to add the pipe-cd/tap repository to Homebrew and update formulae.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\nbrew update\n```\n\n----------------------------------------\n\nTITLE: Remote Git Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a different git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Building Web Static Files in PipeCD\nDESCRIPTION: Builds the static files for the web interface of PipeCD using the make command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nmake build/web\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with File Filtering in Piped\nDESCRIPTION: YAML configuration demonstrating how to limit which EventWatcher files a Piped instance will monitor by using the includes property. This example configures piped to only process EventWatcher files located in the .pipe/dev/ directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Resulting Manifest Change after Event Processing\nDESCRIPTION: The diff showing how the container image tag is updated in the Kubernetes deployment manifest after the event watcher processes the image update event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: diff\nCODE:\n```\n     spec:\n       containers:\n       - name: helloworld\n-        image: gcr.io/pipecd/helloworld:v0.1.0\n+        image: gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring in Helm Installation\nDESCRIPTION: This command enables cluster-wide metrics tracking when installing PipeCD using Helm. It sets the 'monitoring.clusterStats' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: PipeCD Notification System Configuration\nDESCRIPTION: Configuration structure for notification routing and receivers including Slack and webhook integrations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n## Notifications\n| Field | Type | Description | Required |\n|-|-|-|-|\n| routes | [][NotificationRoute](#notificationroute) | List of notification routes. | No |\n| receivers | [][NotificationReceiver](#notificationreceiver) | List of notification receivers. | No |\n```\n\n----------------------------------------\n\nTITLE: Configuring AWS Cognito OIDC Integration in PipeCD\nDESCRIPTION: Configuration for setting up AWS Cognito as an OIDC provider in PipeCD Control Plane, specifying AWS-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://cognito-idp.<AWS_REGION>.amazonaws.com/<USER_POOL_ID>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: YAML configuration for defining an AWS Lambda application in PipeCD with basic settings including name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing Piped Agent in Kubernetes\nDESCRIPTION: This command downloads the Piped manifest, replaces placeholders with actual Piped ID and key, and applies it to the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n$ curl -s https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/piped.yaml | \\\n  sed -e 's/<YOUR_PIPED_ID>/<COPIED_PIPED_ID>/g' \\\n      -e 's/<YOUR_PIPED_KEY_DATA>/<COPIED_ENCODED_PIPED_KEY>/g' | \\\n  kubectl apply -n pipecd -f -\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN Stage with Rollback Handling\nDESCRIPTION: Example configuration demonstrating how to implement rollback functionality in SCRIPT_RUN stages using onRollback parameter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Slack Notifications in PipeCD\nDESCRIPTION: This YAML configuration demonstrates how to set up notification routes and receivers for sending PipeCD events to Slack channels. It includes examples for sending all events with specific labels to different Slack channels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuring-notifications.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  notifications:\n    routes:\n      # Sending all event which contains labels `env: dev` to dev-slack-channel.\n      - name: dev-slack\n        labels:\n          env: dev\n        receiver: dev-slack-channel\n      # Only sending deployment started and completed events which contains\n      # labels `env: prod` and `team: pipecd` to prod-slack-channel.\n      - name: prod-slack\n        events:\n          - DEPLOYMENT_TRIGGERED\n          - DEPLOYMENT_SUCCEEDED\n        labels:\n          env: prod\n          team: pipecd\n        receiver: prod-slack-channel\n    receivers:\n      - name: dev-slack-channel\n        slack:\n          hookURL: https://slack.com/dev\n      - name: prod-slack-channel\n        slack:\n          hookURL: https://slack.com/prod\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring\nDESCRIPTION: Command to enable cluster-wide metrics tracking in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Listing Deployments with pipectl\nDESCRIPTION: Retrieves a list of deployments for a specific application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Generating a Self-Signed TLS Certificate for PipeCD\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal PipeCD use, especially when using GKE Ingress. This secures internal communication between components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client using Asdf Version Manager\nDESCRIPTION: This command installs the PipeCD client (pipectl) using the Asdf version manager. It adds the pipectl plugin, installs the latest version, and sets it as the global version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Adding New Application Command\nDESCRIPTION: Command to add a new application to a PipeCD project with specified configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Web Access\nDESCRIPTION: Command to access PipeCD web interface locally using kubectl port-forward.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Using Wildcards in RBAC Policy Definitions\nDESCRIPTION: Demonstrates how to use the wildcard (*) symbol to represent all resources or all actions when configuring RBAC policies in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: plaintext\nCODE:\n```\nresources=*;actions=ACTION_NAMES\nresources=RESOURCE_NAMES;actions=*\nresources=*;actions=*\n```\n\n----------------------------------------\n\nTITLE: Deploying ECS Task and Service\nDESCRIPTION: Commands for registering the task definition and creating the ECS service for Piped\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Starting PipeCD Installation\nDESCRIPTION: Initiates the PipeCD installation process in quickstart mode with a specified version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Google Cloud Run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl using curl\nDESCRIPTION: Downloads the pipectl binary from GitHub releases for the specified operating system, makes it executable, and moves it to the system path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Installation\nDESCRIPTION: YAML configuration file for Piped installation on Kubernetes. Specifies project ID, Piped ID, API address, Git repositories, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: Example of how to add a Helm chart repository in the piped configuration file. This snippet shows how to enable the official PipeCD chart repository by specifying its name and address.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Deploying Basic Piped Configuration with Helm\nDESCRIPTION: This Helm command deploys a basic Piped configuration. It sets up Piped with custom config files, SSH keys, and security context settings. The command disables the default Kubernetes cloud provider and sets the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Extracting Git Commits for RC Release Notes\nDESCRIPTION: Shell command to extract and format git commit logs since the previous release tag for creating RC release notes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/RELEASES.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngit log $PREVIOUS_TAG..HEAD --oneline  | awk '{$1=\"\"; print substr($0, 2)}'\n```\n\n----------------------------------------\n\nTITLE: Generating Code from Protos and Mocks in PipeCD\nDESCRIPTION: Generates Go and TypeScript code from protocol buffer definitions and mock configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nmake gen/code\n```\n\n----------------------------------------\n\nTITLE: Registering an event for EventWatcher with pipectl (Console)\nDESCRIPTION: Registers a custom event that can be used by the EventWatcher feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD for BlueGreen Deployment of Kubernetes App with Istio\nDESCRIPTION: This YAML snippet defines the PipeCD configuration for a blue-green deployment of a Kubernetes application using Istio. It specifies the deployment stages, including canary rollout, traffic routing, approval, primary rollout, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 100%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: canary\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          all: primary\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-bluegreen\n```\n\n----------------------------------------\n\nTITLE: Implementing Synchronous QUnit Test for Bootstrap Components\nDESCRIPTION: Example of a synchronous QUnit test for Bootstrap components. It demonstrates how to set up template HTML for testing, trigger events, and make assertions to verify component behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/js/tests/README.md#2025-04-14_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n// Synchronous test\nQUnit.test('should describe the unit being tested', function (assert) {\n  assert.expect(1)\n  var templateHTML = '<div class=\"alert alert-danger fade show\">' +\n        '<a class=\"close\" href=\"#\" data-dismiss=\"alert\"></a>' +\n        '<p><strong>Template necessary for the test.</p>' +\n        '</div>'\n  var $alert = $(templateHTML).appendTo('#qunit-fixture').bootstrapAlert()\n\n  $alert.find('.close').trigger('click')\n\n  // Make assertion\n  assert.strictEqual($alert.hasClass('show'), false, 'remove .show class on .close click')\n})\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run\nDESCRIPTION: This command deploys the Piped service on Cloud Run using the specified YAML configuration file. It uses the 'gcloud beta run services replace' command to create or update the service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Viewing Plan Preview Help Command\nDESCRIPTION: Command to display help information for the plan-preview functionality in pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Downloading pipectl binary using curl\nDESCRIPTION: Script to download the appropriate pipectl binary for your operating system (macOS or Linux) from the PipeCD releases page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Installing Piped in Namespaced Mode\nDESCRIPTION: This Helm command installs Piped in namespaced mode, restricting its permissions to a single namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Documenting ECS Configuration Fields\nDESCRIPTION: Configuration fields for ECS deployments including service definition, task definition and target group settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_9\n\nLANGUAGE: markdown\nCODE:\n```\n## ECSDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| serviceDefinitionFile | string | The path ECS Service configuration file. Allow file in both `yaml` and `json` format. The default value is `service.json`. See [here](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service_definition_parameters.html) for parameters.| No |\n| taskDefinitionFile | string | The path to ECS TaskDefinition configuration file. Allow file in both `yaml` and `json` format. The default value is `taskdef.json`. See [here](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html) for parameters. | No |\n| targetGroups | [ECSTargetGroupInput](#ecstargetgroupinput) | The target groups configuration, will be used to routing traffic to created task sets. | Yes (if you want to perform progressive delivery) |\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager (Console)\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration securely. It uses the gcloud CLI to create a secret named 'cloudrun-piped-config' with the contents of the specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped using Helm in Cluster-wide Mode\nDESCRIPTION: Helm command for installing Piped in cluster-wide mode. This basic installation requires manual upgrades and configuration updates by re-running the command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n# you have to restart it by re-running this command.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Creating Animated Striped Progress Bars in Bootstrap\nDESCRIPTION: Example of an animated striped progress bar using the .progress-bar-animated class together with .progress-bar-striped. This creates a right-to-left animation of the stripes using CSS3 animations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped progress-bar-animated\" role=\"progressbar\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 75%\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl Installation\nDESCRIPTION: Checks the installed version of pipectl to ensure it's up-to-date.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager\nDESCRIPTION: This Bash command creates a secret in AWS Secrets Manager to store the Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager\nDESCRIPTION: This bash command creates a secret in AWS Secrets Manager to store the Piped configuration. The configuration is base64 encoded before storage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config Features using Helm\nDESCRIPTION: This Helm command installs Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading Piped config from a remote Git repository. The command includes additional settings for Git repository configuration and uses the same launcher image as the remote-upgrade option.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Tests with Make Commands\nDESCRIPTION: Commands to run unit tests for Go modules, web components, and integration tests using Make targets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nmake test/go\n```\n\nLANGUAGE: bash\nCODE:\n```\nmake test/web\n```\n\nLANGUAGE: bash\nCODE:\n```\nmake test/integration\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets in Lambda Function Configuration\nDESCRIPTION: Example of how to use an encrypted secret as an environment variable in a Lambda function configuration. PipeCD will decrypt the secret before deploying the function.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to System PATH\nDESCRIPTION: Moves the pipectl binary to /usr/local/bin for system-wide access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Getting Application Information\nDESCRIPTION: Command to retrieve and display information about a specific application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Adding pipe-cd Homebrew tap\nDESCRIPTION: Adds the pipe-cd/tap to Homebrew and updates formulae.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\nbrew update\n```\n\n----------------------------------------\n\nTITLE: Disabling an application with pipectl (Console)\nDESCRIPTION: Disables a specific application using its ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring AlertManager for Slack Notifications\nDESCRIPTION: YAML configuration for setting up Slack notifications through AlertManager. Requires a Slack webhook URL and channel name to be specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog API Keys in Helm Installation Command\nDESCRIPTION: Command line example showing how to mount Datadog API key files while upgrading PipeCD using Helm. This enables secure access to Datadog metrics API.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog Key Files in Helm Installation for PipeCD\nDESCRIPTION: This command demonstrates how to use the --set-file option in Helm to mount Datadog API and application key files during the PipeCD installation or upgrade process on Kubernetes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Centering Pagination Component with Flexbox\nDESCRIPTION: This example demonstrates how to center-align a pagination component using the justify-content-center flexbox utility class. It includes disabled and active states for navigation items.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination justify-content-center\">\n    <li class=\"page-item disabled\">\n      <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\">Next</a>\n    </li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Creating Multi-Line Equal-Width Columns in HTML\nDESCRIPTION: This snippet shows how to create equal-width columns that span multiple lines using Bootstrap's grid system. It uses the 'w-100' class to force a new line between columns.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_2\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">col</div>\n    <div class=\"col\">col</div>\n    <div class=\"w-100\"></div>\n    <div class=\"col\">col</div>\n    <div class=\"col\">col</div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client on Linux or macOS\nDESCRIPTION: Downloads the PipeCD client (pipectl) for the specified operating system and makes it executable. The client is used to manage PipeCD installations and deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to Access Grafana Dashboard\nDESCRIPTION: Command to set up port forwarding to access the Grafana dashboard on port 3000. Requires namespace and release name to be specified.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Running pipectl via Docker\nDESCRIPTION: Executes pipectl commands using a Docker container, specifying the version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Deployment in YAML\nDESCRIPTION: Extended Piped configuration for namespaced mode that includes a platform provider configuration with namespace restrictions to limit resource access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD ECS Application with Attachment\nDESCRIPTION: PipeCD application configuration for an ECS app, specifying the attachment source and target files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: This command uses the pipectl tool to generate a plan preview for a specific pull request. It requires the PipeCD control plane address, API key, repository URL, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Capturing Execution Trace Data\nDESCRIPTION: Commands to capture execution trace data and analyze it using Go's trace tool. The trace data is saved to a file and then visualized using the trace command line tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Sample Generated ECS Application Configuration\nDESCRIPTION: Example of a generated app.pipecd.yaml configuration file for an ECS application. Contains fields for application name, input configurations including service definition, task definition, and target groups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_28\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Config in AWS Services\nDESCRIPTION: Commands for storing Piped configuration in AWS Secrets Manager or AWS Systems Manager Parameter Store\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Standalone Task for Quick Sync Deployment\nDESCRIPTION: YAML configuration for an ECS standalone task using quick sync deployment. It specifies the task name, labels, input parameters including task definition file, cluster ARN, and AWS VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: standalonetask-fargate\n  labels:\n    env: example\n    team: xyz\n  input:\n    # Path to TaskDefinition configuration file in Yaml/JSON format.\n    # Default is `taskdef.json`\n    taskDefinitionFile: taskdef.yaml\n    clusterArn: arn:aws:ecs:ap-northeast-1:XXXX:cluster/test-cluster\n    awsvpcConfiguration:\n      assignPublicIp: ENABLED\n      subnets:\n        - subnet-YYYY\n        - subnet-YYYY\n      securityGroups:\n          - sg-YYYY\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration\nDESCRIPTION: Helm command for installing piped with SSH key configuration for accessing private Git repositories. The command includes setting up configuration file, piped key, and SSH private key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring CloudRun Application in YAML\nDESCRIPTION: Example configuration for a Google Cloud Run application in PipeCD. The configuration includes basic application metadata that will be detected by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for CloudRunApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/cloudrun/\n\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD\nDESCRIPTION: Removes PipeCD installation from the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: SCRIPT_RUN with Rollback Configuration - YAML\nDESCRIPTION: Configuration example demonstrating how to implement rollback functionality in SCRIPT_RUN stages, including environment variables for both execution and rollback scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes EventWatcher in PipeCD\nDESCRIPTION: YAML configuration for setting up EventWatcher in a Kubernetes application manifest. Defines event matching rules and field replacement settings for automatic deployment triggers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/ci-cd-gap-fulfill-with-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: event-test\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Displaying Help Information for PipeCD Plan Preview Command\nDESCRIPTION: This command shows the help information for the plan-preview subcommand of pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application Information with pipectl\nDESCRIPTION: Fetches and displays information about a specific application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Deployment for Primary Variant\nDESCRIPTION: Kubernetes Deployment configuration for the primary variant with PipeCD-specific labels and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Listing applications with pipectl (Console)\nDESCRIPTION: Retrieves a list of applications matching specified criteria and displays them in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application Information in JSON Format\nDESCRIPTION: This command retrieves and displays the information of a specific application in JSON format. It requires the Control Plane API address, API key, and application ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD UI Access\nDESCRIPTION: This command sets up port forwarding to access the PipeCD control plane UI locally on port 8080. This allows users to connect to the web interface for managing deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl port-forward -n pipecd svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Forwarding Local Port to PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port (9082) to the pipecd-ops service running in a specified Kubernetes namespace, allowing access to the project management web interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Task and Service\nDESCRIPTION: AWS CLI commands for registering the task definition, running the task, and creating the ECS service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped on Google Cloud VM\nDESCRIPTION: Shell command to create a Google Cloud VM instance running standard Piped without remote-upgrade capability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Space Around Flex Content\nDESCRIPTION: Demonstrates distributing space around flex items using align-content-around utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_12\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-around flex-wrap\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Deployment for Primary Variant\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application, including the necessary labels and selectors for PipeCD to manage canary deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Displaying Help Information for Plan Preview Command\nDESCRIPTION: This command shows the help information for the plan-preview subcommand of pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Starting PipeCD Installation\nDESCRIPTION: Initiates the PipeCD installation process in quickstart mode with specified version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Managing Applications with pipectl\nDESCRIPTION: These snippets demonstrate various pipectl commands for managing applications, including getting application information, listing applications, disabling an application, and deleting an application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Kubernetes Deployment in YAML\nDESCRIPTION: Basic Piped configuration for cluster-wide mode. Defines project information, control plane connection, Git repository access, and synchronization settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Repository in Piped Configuration\nDESCRIPTION: This snippet shows how to add a Helm chart repository to the piped configuration file using the ChartRepository struct. The example enables the official PipeCD chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRepositories:\n    - name: pipecd\n      address: https://charts.pipecd.dev\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client on Unix-like Systems\nDESCRIPTION: This snippet shows how to download and install the PipeCD client (pipectl) on Unix-like systems. It downloads the binary, makes it executable, and optionally moves it to a directory in the system PATH.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\nLANGUAGE: bash\nCODE:\n```\nchmod +x ./pipectl\n```\n\nLANGUAGE: bash\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Creating Major/Minor Release in PipeCD\nDESCRIPTION: Shell command to create a new major or minor release, which updates the RELEASE file and generates documentation for version X.Y.Z.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/RELEASES.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nmake release version=vX.Y.Z\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Plan Preview Badge in Markdown\nDESCRIPTION: This snippet shows how to create a badge in Markdown that links to the PipeCD plan preview documentation. It uses an img.shields.io URL to generate a badge with custom text and styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-no-changes.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![PLAN_PREVIEW](https://img.shields.io/static/v1?label=PipeCD&message=Plan_Preview&color=success&style=flat)](https://pipecd.dev/docs/user-guide/plan-preview/)\n```\n\n----------------------------------------\n\nTITLE: Viewing application add command help\nDESCRIPTION: Example of using the help flag to see available options for the application add command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl application add --help\n\nAdd a new application.\n\nUsage:\n  pipectl application add [flags]\n\nFlags:\n      --app-dir string            The relative path from the root of repository to the application directory.\n      --app-kind string           The kind of application. (KUBERNETES|TERRAFORM|LAMBDA|CLOUDRUN)\n      --app-name string           The application name.\n      --platform-provider string  The platform provider name. One of the registered providers in the piped configuration. The previous name of this field is cloud-provider.\n      --config-file-name string   The configuration file name. (default \"app.pipecd.yaml\")\n      --description string        The description of the application.\n  -h, --help                      help for add\n      --piped-id string           The ID of piped that should handle this application.\n      --repo-id string            The repository ID. One the registered repositories in the piped configuration.\n\nGlobal Flags:\n      --address string                     The address to Control Plane api.\n      --api-key string                     The API key used while authenticating with Control Plane.\n      --api-key-file string                Path to the file containing API key used while authenticating with Control Plane.\n      --cert-file string                   The path to the TLS certificate file.\n      --insecure                           Whether disabling transport security while connecting to Control Plane.\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Auth0 SSO in PipeCD ControlPlane\nDESCRIPTION: YAML configuration for setting up Auth0 SSO integration in PipeCD control plane, including client credentials and OIDC parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<AUTH0_ADDRESS>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Contextual Text Colors Example - HTML\nDESCRIPTION: Demonstrates the usage of Bootstrap's contextual text color classes, including standard theme colors, body text, muted text, and white/black variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/colors.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-body\">.text-body</p>\n<p class=\"text-muted\">.text-muted</p>\n<p class=\"text-white bg-dark\">.text-white</p>\n<p class=\"text-black-50\">.text-black-50</p>\n<p class=\"text-white-50 bg-dark\">.text-white-50</p>\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store\nDESCRIPTION: Command to store the base64-encoded Piped configuration in AWS Systems Manager Parameter Store as a secure string parameter for later retrieval by the Piped task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Starting a Kubernetes Cluster with Kind for PipeCD\nDESCRIPTION: Creates a local Kubernetes cluster using Kind for PipeCD development and testing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\nmake kind-up\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in YAML\nDESCRIPTION: Configuration for a Cloud Run platform provider specifying GCP project, region, and service account credentials for Cloud Run service access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deployment Management Commands\nDESCRIPTION: Commands for managing deployments including listing, waiting for status, and viewing logs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD\nDESCRIPTION: Removes PipeCD installation from the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Documenting CloudRun Configuration Fields\nDESCRIPTION: Configuration fields for CloudRun deployments including service manifest and rollback options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_8\n\nLANGUAGE: markdown\nCODE:\n```\n## CloudRunDeploymentInput\n\n| Field | Type | Description | Required |\n|-|-|-|-|\n| serviceManifestFile | string | The name of service manifest file placing in application directory. Default is `service.yaml`. | No |\n| autoRollback | bool | Automatically reverts to the previous state when the deployment is failed. Default is `true`. | No |\n```\n\n----------------------------------------\n\nTITLE: Accessing the pprof index page in Piped\nDESCRIPTION: Command to access the pprof index page which lists all available profiling data. This is the entry point for pprof profiling in Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Configuring GKE App Protocol Annotation for HTTP2\nDESCRIPTION: YAML configuration for annotating a Kubernetes service to use HTTP2 protocol with GKE. This is needed when not using internal TLS but requiring HTTP2 communication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Triggering Focus on Modal Input with JavaScript\nDESCRIPTION: This snippet demonstrates how to use JavaScript to trigger focus on an input element when a modal is shown. It's necessary because the HTML5 autofocus attribute doesn't work in Bootstrap modals.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').on('shown.bs.modal', function () {\n  $('#myInput').trigger('focus')\n})\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels in Application Config (YAML)\nDESCRIPTION: This snippet shows how to use labels in the application configuration to uniquely identify events. It configures an event matcher with labels for environment and application name to ensure the correct event is processed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in a Docker Container\nDESCRIPTION: This snippet shows how to run pipectl in a Docker container, using a specific version of the image from GitHub Container Registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Installing Piped Agent with Configuration\nDESCRIPTION: Command to deploy the Piped agent using a configuration template with custom Piped ID and key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n$ curl -s https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/piped.yaml | \\\n  sed -e 's/<YOUR_PIPED_ID>/<COPIED_PIPED_ID>/g' \\\n      -e 's/<YOUR_PIPED_KEY_DATA>/<COPIED_ENCODED_PIPED_KEY>/g' | \\\n  kubectl apply -n pipecd -f -\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes App to Use Helm Chart from Repository\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application in PipeCD to use a Helm chart from a previously configured chart repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager (Bash)\nDESCRIPTION: Bash command to store the Piped configuration in AWS Secrets Manager. This allows the configuration to be securely accessed when creating the Piped task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watchers in PipeCD\nDESCRIPTION: Configuration schema for event watchers that monitor git repositories. Includes settings for check intervals, repository IDs, and file path patterns.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\neventWatcher:\n  checkInterval: \"1m\"\n  gitRepos:\n    - repoId: \"repo-1\"\n      commitMessage: \"Update values\"\n      includes:\n        - \"foo/*.yaml\"\n      excludes:\n        - \"bar/*.yaml\"\n```\n\n----------------------------------------\n\nTITLE: Creating a Full-Width Fluid Bootstrap Jumbotron\nDESCRIPTION: Shows how to implement a full-width jumbotron without rounded corners by using the .jumbotron-fluid modifier class and nesting a container inside. This variant spans the entire width of its parent element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/jumbotron.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"jumbotron jumbotron-fluid\">\n  <div class=\"container\">\n    <h1 class=\"display-4\">Fluid jumbotron</h1>\n    <p class=\"lead\">This is a modified jumbotron that occupies the entire horizontal space of its parent.</p>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Starting Piped with Configuration File\nDESCRIPTION: This command starts the Piped binary using a specified configuration file. It assumes the Piped binary has been downloaded and the configuration file has been prepared according to the provided YAML template.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda provider including region, profile, and credentials file settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Sequence Diagram for Livestate Reporting Flow\nDESCRIPTION: Mermaid sequence diagram showing the flow between ControlPlane, livestateReporter, plugin, and platform components. It illustrates how the application state is periodically checked and reported every minute through the plugin architecture.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0016-livestate-feature-for-plugin-architecture.md#2025-04-14_snippet_0\n\nLANGUAGE: mermaid\nCODE:\n```\nsequenceDiagram\n\t\tautonumber\n\t\tparticipant  cp as ControlPlane\n    box piped\n    participant lr as livestateReporter\n    end\n    participant  plugin as plugin\n    participant  platform as platform\n\n    loop Every minute\n        lr->>cp: get applications by plugin name\n        loop Every App\n\t        lr->>plugin: call rpc GetLiveState(app) return ApplicationLivestate\n\t        plugin->>platform: get actual resource state via API\n\t        plugin->>plugin: check the sync status of the application\n\t        plugin->>lr: return app livestate and sync status\n\t        lr->>cp: report application live state\n\t        lr->>cp: report application sync status\n\t\t    end\n    end\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl installation\nDESCRIPTION: Tests the pipectl installation by checking its version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Collecting Execution Trace in Piped\nDESCRIPTION: This command collects execution trace data from Piped and saves it to a file named trace.out. It uses curl to send a GET request to the /debug/pprof/trace endpoint and redirects the output to a file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service for Project Management\nDESCRIPTION: kubectl command to access the PipeCD ops service for managing projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Adding a new Kubernetes application using pipectl\nDESCRIPTION: This snippet shows how to use pipectl to add a new Kubernetes application to a PipeCD project. It includes all necessary parameters such as API address, API key, application name, and repository details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl application add \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --app-name=simple \\\n    --app-kind=KUBERNETES \\\n    --piped-id=PIPED_ID \\\n    --platform-provider=kubernetes-default \\\n    --repo-id=examples \\\n    --app-dir=kubernetes/simple\n```\n\n----------------------------------------\n\nTITLE: Implementing List Group Scrollspy in HTML\nDESCRIPTION: This snippet demonstrates how to create a scrollspy with a list group navigation using Bootstrap classes and data attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"list-example\" class=\"list-group\">\n  <a class=\"list-group-item list-group-item-action\" href=\"#list-item-1\">Item 1</a>\n  <a class=\"list-group-item list-group-item-action\" href=\"#list-item-2\">Item 2</a>\n  <a class=\"list-group-item list-group-item-action\" href=\"#list-item-3\">Item 3</a>\n  <a class=\"list-group-item list-group-item-action\" href=\"#list-item-4\">Item 4</a>\n</div>\n<div data-spy=\"scroll\" data-target=\"#list-example\" data-offset=\"0\" class=\"scrollspy-example\">\n  <h4 id=\"list-item-1\">Item 1</h4>\n  <p>...</p>\n  <h4 id=\"list-item-2\">Item 2</h4>\n  <p>...</p>\n  <h4 id=\"list-item-3\">Item 3</h4>\n  <p>...</p>\n  <h4 id=\"list-item-4\">Item 4</h4>\n  <p>...</p>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Disabled Items in List Group using HTML\nDESCRIPTION: Illustrates how to make list group items appear disabled using the .disabled class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_2\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group\">\n  <li class=\"list-group-item disabled\" aria-disabled=\"true\">A disabled item</li>\n  <li class=\"list-group-item\">A second item</li>\n  <li class=\"list-group-item\">A third item</li>\n  <li class=\"list-group-item\">A fourth item</li>\n  <li class=\"list-group-item\">And a fifth one</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Making pipectl executable\nDESCRIPTION: Changes the permissions of the downloaded pipectl binary to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Homebrew\nDESCRIPTION: Provides instructions for installing pipectl using the Homebrew package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\nbrew update\nbrew install pipectl\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Secret Management in PipeCD\nDESCRIPTION: YAML configuration for enabling secret management in Piped. It specifies the type of secret management (KEY_PAIR) and the paths to the private and public key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repositories for EventWatcher in PipeCD YAML\nDESCRIPTION: This YAML configuration specifies the Git repositories to be observed by the EventWatcher in PipeCD. It lists multiple repositories using their repoId.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n      - repoId: repo-2\n      - repoId: repo-3\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Basic YAML configuration for an AWS Lambda application in PipeCD, specifying application name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD CLI with Asdf Version Manager\nDESCRIPTION: Alternative installation method using the asdf version manager to install the pipectl client.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Service for Piped Task Deployment (JSON)\nDESCRIPTION: JSON service definition to control Piped task deployment, ensuring continuous operation and automatic restarts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\",\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Launcher Runtime Options\nDESCRIPTION: Command-line options available for the 'launcher launcher' command, covering configuration loading from different sources, check intervals, and network settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string                  The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --aws-ssm-parameter string              The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --cert-file string                      The path to the TLS certificate file.\n      --check-interval duration               Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string                    The base64 encoded string of the configuration data.\n      --config-file string                    The path to the configuration file.\n      --config-from-aws-secret                Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-aws-ssm-parameter-store   Whether to load Piped config that is being stored in AWS Systems Manager Parameter Store.\n      --config-from-gcp-secret                Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo                  Whether to load Piped config that is being stored in a git repository.\n      --default-version string                The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string                  The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string                     Branch of git repository to for Piped config.\n      --git-piped-config-file string          Relative path within git repository to locate Piped config file.\n      --git-repo-url string                   The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-data string               Base64 encoded value of SSH private key to fetch Piped config from the private git repository.\n      --git-ssh-key-file string               The path to SSH private key to fetch Piped config from private git repository.\n      --grace-period duration                 How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                  help for launcher\n      --home-dir string                       The working directory of Launcher.\n      --insecure                              Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int               The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in YAML\nDESCRIPTION: Example configuration for an AWS Lambda application in PipeCD. The configuration file defines basic metadata and must be placed in the Git repository watched by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for LambdaApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/lambda/\n\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Primary Deployment for Canary Strategy\nDESCRIPTION: Kubernetes Deployment configuration for the primary variant with PipeCD-specific labels and selectors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Listing applications with specific criteria\nDESCRIPTION: Searches for and displays information about applications matching certain criteria, such as name and kind.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition for Gateway and Server\nDESCRIPTION: Terraform configuration for PipeCD gateway and server containers including port mappings and secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_4\n\nLANGUAGE: hcl\nCODE:\n```\n{\nname  = \"pipecd-gateway\"\nimage = var.gateway_image_url\nportMappings = [\n  {\n    hostPort      = 9090\n    containerPort = 9090\n    protocol      = \"tcp\"\n  }\n]\nessential = false\ncommand = [\n  \"/bin/sh -c 'echo $ENVOY_CONFIG; echo $ENVOY_CONFIG | base64 -d >> envoy-config.yaml; envoy -c envoy-config.yaml;'\"\n]\nentrypoint = [\n  \"sh\",\n  \"-c\"\n]\nsecrets = [\n  {\n    \"name\" : \"ENVOY_CONFIG\",\n    \"valueFrom\" : \"arn:aws:secretsmanager:${data.aws_region.current.id}:${data.aws_caller_identity.self.account_id}:secret:${var.envoy_config_secret}\"\n  },\n]\n}\n```\n\n----------------------------------------\n\nTITLE: Registering Helm Chart Update Event\nDESCRIPTION: Command to register a new Helm chart version update event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data using input-file flag with pipectl\nDESCRIPTION: Command to encrypt plaintext data provided via an input file for use in PipeCD deployments. Uses the --input-file flag instead of stdin redirection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_26\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD control plane using MySQL as datastore and MinIO as filestore. Includes database connection details and MinIO credentials configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Displaying Help for Application Add Command\nDESCRIPTION: Command to display detailed help information for the 'application add' subcommand, showing all available flags and their descriptions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl application add --help\n\nAdd a new application.\n\nUsage:\n  pipectl application add [flags]\n\nFlags:\n      --app-dir string            The relative path from the root of repository to the application directory.\n      --app-kind string           The kind of application. (KUBERNETES|TERRAFORM|LAMBDA|CLOUDRUN)\n      --app-name string           The application name.\n      --platform-provider string  The platform provider name. One of the registered providers in the piped configuration. The previous name of this field is cloud-provider.\n      --config-file-name string   The configuration file name. (default \"app.pipecd.yaml\")\n      --description string        The description of the application.\n  -h, --help                      help for add\n      --piped-id string           The ID of piped that should handle this application.\n      --repo-id string            The repository ID. One the registered repositories in the piped configuration.\n\nGlobal Flags:\n      --address string                     The address to Control Plane api.\n      --api-key string                     The API key used while authenticating with Control Plane.\n      --api-key-file string                Path to the file containing API key used while authenticating with Control Plane.\n      --cert-file string                   The path to the TLS certificate file.\n      --insecure                           Whether disabling transport security while connecting to Control Plane.\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Web Access\nDESCRIPTION: Command to access PipeCD web interface through kubectl port-forward\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service on Single Machine\nDESCRIPTION: This console command starts the Piped service using the specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally in PipeCD\nDESCRIPTION: Starts the Piped agent locally for development and testing purposes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nmake run/piped\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade Feature\nDESCRIPTION: Shell command to create a Google Cloud VM instance with the Piped launcher container, enabling the remote-upgrade feature which allows upgrading Piped to new versions from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Application Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure for defining an ECS application configuration in PipeCD. It includes fields for specifying the application name, input parameters, and deployment pipeline.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Installation with Secret Keys using Helm\nDESCRIPTION: Helm installation command for Piped that includes parameters to specify the paths to the public and private key files needed for secret encryption and decryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Waiting for a specific deployment status\nDESCRIPTION: Monitors a deployment and waits until it reaches a specified status, such as DEPLOYMENT_SUCCESS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade in Cluster-wide Mode\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability in cluster-wide mode. This allows upgrading Piped to a new version directly from the web console without manual intervention.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n# Enable remote-upgrade feature of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-upgrade\n# This allows upgrading Piped to a new version from the web console.\n# But we still need to restart Piped when we want to update its config data.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Waiting for deployment status\nDESCRIPTION: Command to wait until a deployment reaches a specified status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_22\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Creating AWS Secrets Manager Secrets for PipeCD Configuration\nDESCRIPTION: Commands to create secrets in AWS Secrets Manager for storing control plane config, envoy config, and encryption key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name control-plane-config \\\n--description \"Configuration of control plane\" \\\n--secret-string `base64 control-plane-config.yaml`\naws secretsmanager create-secret --name envoy-config \\\n--description \"Configuration of control plane\" \\\n--secret-string `base64 envoy-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: MySQL Configuration YAML Example\nDESCRIPTION: Example of a simple configuration file containing MySQL settings that will be attached to other manifests.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf\nDESCRIPTION: Command to install a specific version of pipectl using Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM\nDESCRIPTION: YAML configuration file for setting up Piped with project settings, API connections, Git repositories, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n```\n\n----------------------------------------\n\nTITLE: Creating List Group with Contextual Classes in HTML\nDESCRIPTION: Shows how to apply contextual classes to style list items with stateful backgrounds and colors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group\">\n  <li class=\"list-group-item\">A simple default list group item</li>\n  <li class=\"list-group-item list-group-item-primary\">A simple primary list group item</li>\n  <li class=\"list-group-item list-group-item-secondary\">A simple secondary list group item</li>\n  <li class=\"list-group-item list-group-item-success\">A simple success list group item</li>\n  <li class=\"list-group-item list-group-item-danger\">A simple danger list group item</li>\n  <li class=\"list-group-item list-group-item-warning\">A simple warning list group item</li>\n  <li class=\"list-group-item list-group-item-info\">A simple info list group item</li>\n  <li class=\"list-group-item list-group-item-light\">A simple light list group item</li>\n  <li class=\"list-group-item list-group-item-dark\">A simple dark list group item</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition with Remote Upgrade\nDESCRIPTION: JSON task definition for Piped with remote upgrade capability, including container configuration and resource specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding Control Plane Service\nDESCRIPTION: Command to expose the PipeCD Control Plane service on localhost using kubectl port-forward.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipecd/README.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from Input File\nDESCRIPTION: Command to encrypt plaintext secret data provided via an input file, using a specific piped ID for encryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_22\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring System via Helm\nDESCRIPTION: Command to enable the monitoring system when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in Docker container\nDESCRIPTION: Command to run pipectl inside a Docker container using the GitHub Container Registry image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to System PATH\nDESCRIPTION: Moves the pipectl binary to a directory in the system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface (Shell)\nDESCRIPTION: Command to use kubectl port-forward to expose the installed Control Plane on localhost for accessing the PipeCD web interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Button with Badge Counter in HTML\nDESCRIPTION: Shows how to implement a badge as a counter within a button component.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/badge.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary\">\n  Notifications <span class=\"badge badge-light\">4</span>\n</button>\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe/ directory (Deprecated)\nDESCRIPTION: Example of configuring the EventWatcher in a dedicated .pipe/ directory to update a Kubernetes deployment manifest when a specific image update event occurs. This method is deprecated in favor of using application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade using Helm\nDESCRIPTION: This Helm command installs Piped with the remote-upgrade feature enabled, allowing version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key for PipeCD\nDESCRIPTION: Commands to generate an encryption key for PipeCD, used for encrypting sensitive data and signing JWT tokens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: GKE Service Configuration with HTTP2 Protocol Annotation in YAML\nDESCRIPTION: YAML snippet showing how to configure a Kubernetes service with annotations for HTTP2 protocol support in Google Kubernetes Engine (GKE) when using HTTPS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring\nDESCRIPTION: Command to enable cluster-wide metrics tracking in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Configuring Deployment Chain for Terraform Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to configure a deployment chain for a Terraform application in PipeCD. It specifies post-sync actions to trigger deployments for other applications named 'application-2' and 'application-3' (of kind KUBERNETES).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/deployment-chain.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n    ...\n  pipeline:\n    ...\n  postSync:\n    chain:\n      applications:\n        # Find all applications with name `application-2` and trigger them.\n        - name: application-2\n        # Fill all applications with name `application-3` of kind `KUBERNETES`\n        # and trigger them.\n        - name: application-3\n          kind: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Plan Preview Badge in Markdown\nDESCRIPTION: This snippet shows how to embed a PipeCD Plan Preview badge using Markdown and shields.io. It links to the PipeCD documentation for plan preview feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-no-env.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![PLAN_PREVIEW](https://img.shields.io/static/v1?label=PipeCD&message=Plan_Preview&color=success&style=flat)](https://pipecd.dev/docs/user-guide/plan-preview/)\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration\nDESCRIPTION: Helm installation command for configuring piped with SSH key authentication for private Git repositories. The command includes parameters for the piped config file, piped key file, and private SSH key file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining PipedDeployTarget Structure in Golang\nDESCRIPTION: Golang struct definition for PipedDeployTarget that includes name, labels, and a config field using json.RawMessage to accommodate different plugin-specific configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_1\n\nLANGUAGE: golang\nCODE:\n```\ntype PipedDeployTarget struct {\n\tName   string                     `json:\"name\"`\n\tLabels map[string]string          `json:\"labels,omitempty\"`\n\tConfig json.RawMessage            `json:\"config\"`\n}\n```\n\n----------------------------------------\n\nTITLE: Analyzing CPU Profile with Pprof Tool\nDESCRIPTION: This command uses the go tool pprof to analyze the previously collected CPU profile data. It takes the cpu.pprof file as input and launches the pprof interactive shell for further analysis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade the PipeCD control plane to a new version, specifying configuration files and credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Registering Event with Contexts\nDESCRIPTION: Example showing how to register an event with additional context metadata using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --contexts Source-Commit-Hash=xxxxxxx,Source-Commit-URL=https://github.com/pipe-cd/pipecd/commit/xxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Implementing a Static Backdrop Modal in HTML\nDESCRIPTION: This HTML snippet demonstrates how to create a modal with a static backdrop, which prevents the modal from closing when clicking outside of it. It includes data attributes for controlling modal behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!-- Button trigger modal -->\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#staticBackdrop\">\n  Launch static backdrop modal\n</button>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"staticBackdrop\" data-backdrop=\"static\" data-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        ...\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Understood</button>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Using Custom Sanitizer in Bootstrap Tooltip\nDESCRIPTION: This snippet shows how to bypass Bootstrap's built-in sanitizer and use a custom sanitizer library (DOMPurify in this example) for a tooltip.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_11\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('#yourTooltip').tooltip({\n  sanitizeFn: function (content) {\n    return DOMPurify.sanitize(content)\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Cleaning Up PipeCD Installation\nDESCRIPTION: Command to remove all PipeCD components by deleting the namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl delete ns pipecd\n```\n\n----------------------------------------\n\nTITLE: Syncing Application\nDESCRIPTION: Triggers application sync with optional wait for deployment status\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Installing Basic Piped Agent with Helm in OpenShift\nDESCRIPTION: Installs a basic Piped agent using Helm chart with namespace-scoped RBAC, disabled default Kubernetes provider, and security context settings for OpenShift. This configuration requires manual restart after config changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl Command\nDESCRIPTION: Command to register a new image update event using the pipectl CLI tool. This sends the event data to the Control Plane which will trigger the Piped to update the configured files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Analysis with PREVIOUS Strategy\nDESCRIPTION: Pipeline configuration for analyzing primary deployment using the PREVIOUS strategy, comparing current metrics against historical data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Moving PipeCD Client to System Path\nDESCRIPTION: Moves the pipectl binary to the system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings in PipeCD\nDESCRIPTION: This YAML configuration sets custom git user settings for Piped, specifying a username and email to be used for git commits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Triggering PipeCD Deployment via EventWatcher\nDESCRIPTION: Command line example showing how to trigger a deployment using pipectl to register an event with PipeCD controlplane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/ci-cd-gap-fulfill-with-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ pipectl event register --name=event-test --data=ghcr.io/pipecd/helloworld:v0.49.0\n```\n\n----------------------------------------\n\nTITLE: PipeCD Analysis Provider Configurations\nDESCRIPTION: Configuration specifications for Prometheus and Datadog analysis providers including required fields like server addresses and authentication details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n### AnalysisProviderPrometheusConfig\n| Field | Type | Description | Required |\n|-|-|-|-|\n| address | string | The Prometheus server address. | Yes |\n| usernameFile | string | The path to the username file. | No |\n| passwordFile | string | The path to the password file. | No |\n```\n\n----------------------------------------\n\nTITLE: ECS Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of an Amazon ECS application configuration in PipeCD. It defines the ECS application type with placeholders for input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Setting up Local Kubernetes Cluster for PipeCD Development\nDESCRIPTION: Commands to create and delete a local Kubernetes cluster using kind for PipeCD development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nmake kind-up\n```\n\nLANGUAGE: bash\nCODE:\n```\nmake kind-down\n```\n\n----------------------------------------\n\nTITLE: Creating a Secret in Google Cloud Secret Manager\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration securely. It uses the gcloud CLI to create a secret named 'cloudrun-piped-config' with the contents of the specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Syncing an application and waiting for deployment status\nDESCRIPTION: Initiates a sync operation for an application and waits until the triggered deployment reaches a specified status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Deleting an Application\nDESCRIPTION: Command to delete a specific application identified by its ID from the PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_16\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Making the PipeCD CLI Client Executable\nDESCRIPTION: Command to make the downloaded pipectl binary executable on Unix-based systems.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl binary to PATH\nDESCRIPTION: Command to move the pipectl binary to a directory in your PATH for system-wide access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Control Plane with MySQL and MinIO\nDESCRIPTION: YAML configuration for PipeCD control plane using MySQL as datastore and MinIO as filestore. Includes settings for database connection, MinIO endpoint, and credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Retrieving Execution Trace in Piped\nDESCRIPTION: This command retrieves the execution trace data from Piped and saves it to a file named trace.out. It uses curl to send a GET request to the /debug/pprof/trace route on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl version with asdf\nDESCRIPTION: Installs a specific version of pipectl using asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Using Custom Values File with Helm Install\nDESCRIPTION: Command to include a custom values.yaml file when installing PipeCD with Helm, typically used for AlertManager configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target File\nDESCRIPTION: Example of how to use the attached configuration in a target file (taskdef.yaml) for an ECS task definition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to update an existing application's configuration in PipeCD. It shows how to change the application name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This shell command creates a Google Cloud VM instance with a container running Piped launcher, enabling remote upgrades. It uses the previously created service account and secret for configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Disposing Bootstrap Popover\nDESCRIPTION: JavaScript method to hide and destroy a Bootstrap popover instance\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('dispose')\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD YAML\nDESCRIPTION: Example of how to update an application's configuration in PipeCD. All updates to application information must be done via the configuration file in Git, which serves as the single source of truth.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Terraform application deployment in PipeCD, defining the infrastructure as code deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable and configure secret management feature in Piped using key pair authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Accessing pprof Index Page in Piped\nDESCRIPTION: Command to access the pprof index page which lists available profiling data through Piped's admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Single Machine Installation\nDESCRIPTION: This YAML configuration file sets up Piped for installation on a single machine. It includes project and Piped identifiers, API address, Git repository settings, and sync interval.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: {PATH_TO_PIPED_KEY_FILE}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: {PATH_TO_SSH_KEY_FILE}\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n```\n\n----------------------------------------\n\nTITLE: Displaying pipectl help information\nDESCRIPTION: Shows available commands and general help for the pipectl command-line tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl --help\n\nThe command line tool for PipeCD.\n\nUsage:\n  pipectl [command]\n\nAvailable Commands:\n  application  Manage application resources.\n  deployment   Manage deployment resources.\n  encrypt      Encrypt the plaintext entered in either stdin or the --input-file flag.\n  event        Manage event resources.\n  help         Help about any command\n  init         Generate an application config (app.pipecd.yaml) easily and interactively.\n  piped        Manage piped resources.\n  plan-preview Show plan preview against the specified commit.\n  version      Print the information of current binary.\n\nFlags:\n  -h, --help                               help for pipectl\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n\nUse \"pipectl [command] --help\" for more information about a command.\n```\n\n----------------------------------------\n\nTITLE: Using Custom Arguments in PipeCD Analysis Configuration\nDESCRIPTION: Example of using custom arguments in PipeCD's Automated Deployment Analysis configuration. This allows for flexible query generation for different variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\", bar=\"{{ .VariantArgs.bar }}\"}[10m])\n              baselineArgs:\n                bar: 1\n              canaryArgs: \n                bar: 2\n```\n\n----------------------------------------\n\nTITLE: Adding pipectl to Aqua config\nDESCRIPTION: Command to add pipectl to Aqua package manager configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl Binary to PATH\nDESCRIPTION: Command to move the pipectl binary to a directory in the system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl\nDESCRIPTION: This snippet demonstrates how to use pipectl to register an event that can be used by EventWatcher. It includes parameters for the event name and associated data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Configuring YAML Front Matter for Community Page\nDESCRIPTION: YAML front matter configuration that sets up the community page in the main navigation menu with a weight of 40. Includes HTML comment for content placeholders.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/community/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: Community\nmenu:\n  main:\n    weight: 40\n```\n\nLANGUAGE: html\nCODE:\n```\n<!--add blocks of content here to add more sections to the community page -->\n```\n\n----------------------------------------\n\nTITLE: Specifying Key Files in Piped Installation\nDESCRIPTION: Helm chart options for specifying the paths to the public and private key files when installing Piped on Kubernetes. These keys are used for the secret encryption and decryption process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Implementing Skip Navigation Link with Screen Reader Classes in HTML\nDESCRIPTION: This snippet demonstrates how to create a 'Skip to main content' link that is only visible to screen readers and becomes visible when focused, using the .sr-only and .sr-only-focusable classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/screen-readers.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<a class=\"sr-only sr-only-focusable\" href=\"#content\">Skip to main content</a>\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in YAML\nDESCRIPTION: Configuration for Cloud Run platform provider specifying GCP project, region, and service account credentials for accessing Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Running Launcher with Command-Line Flags\nDESCRIPTION: Command-line options available for the launcher command, including various configuration sources (files, cloud services, git repositories), checking intervals, security settings, and networking parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nUsage:\n  launcher launcher [flags]\n\nFlags:\n      --aws-secret-id string                  The ARN of secret that contains Piped config in AWS Secrets Manager service.\n      --aws-ssm-parameter string              The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --cert-file string                      The path to the TLS certificate file.\n      --check-interval duration               Interval to periodically check desired config/version to restart Piped. Default is 1m. (default 1m0s)\n      --config-data string                    The base64 encoded string of the configuration data.\n      --config-file string                    The path to the configuration file.\n      --config-from-aws-secret                Whether to load Piped config that is being stored in AWS Secrets Manager service.\n      --config-from-aws-ssm-parameter-store   Whether to load Piped config that is being stored in AWS Systems Manager Parameter Store.\n      --config-from-gcp-secret                Whether to load Piped config that is being stored in GCP SecretManager service.\n      --config-from-git-repo                  Whether to load Piped config that is being stored in a git repository.\n      --default-version string                The version should be run when no desired version was specified. Empty means using the same version with Launcher.\n      --gcp-secret-id string                  The resource ID of secret that contains Piped config in GCP SecretManager service.\n      --git-branch string                     Branch of git repository to for Piped config.\n      --git-piped-config-file string          Relative path within git repository to locate Piped config file.\n      --git-repo-url string                   The remote URL of git repository to fetch Piped config.\n      --git-ssh-key-data string               Base64 encoded value of SSH private key to fetch Piped config from the private git repository.\n      --git-ssh-key-file string               The path to SSH private key to fetch Piped config from private git repository.\n      --grace-period duration                 How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                  help for launcher\n      --home-dir string                       The working directory of Launcher.\n      --insecure                              Whether disabling transport security while connecting to control-plane.\n      --launcher-admin-port int               The port number used to run a HTTP server for admin tasks such as metrics, healthz.\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Components with Quickstart Command\nDESCRIPTION: This command initiates the PipeCD installation process using the quickstart mode. It installs the PipeCD control plane with a default project named 'quickstart'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Defining Configuration Data in YAML\nDESCRIPTION: Example of a config.yaml file containing configuration data for MySQL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl binary on Linux or macOS\nDESCRIPTION: Downloads the latest version of pipectl for the specified OS (darwin or linux), makes it executable, and moves it to the system PATH.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\nchmod +x ./pipectl\nsudo mv ./pipectl /usr/local/bin/pipectl\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring via Helm Install\nDESCRIPTION: Command to enable the monitoring system when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Applying Clearfix in HTML\nDESCRIPTION: Demonstrates how to apply the clearfix utility class to a parent element in HTML to clear floated content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/clearfix.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"clearfix\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Creating CloudRun Application Configuration\nDESCRIPTION: Configures a CloudRun application resource with platform settings, Git repository details, and application metadata. Demonstrates how to set up a complete application deployment configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install PipeCD Control Plane with configuration and service account files\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that selects pods with the 'app: helloworld' label. It exposes port 9085 for TCP traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Namespaced Kubernetes Installation\nDESCRIPTION: This YAML configuration extends the basic Piped config to include a platform provider for Kubernetes, restricting access to a specific namespace. It's used for namespaced mode installation of Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Dashboards in Helm Installation\nDESCRIPTION: This snippet shows how to enable cluster dashboards when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Deployment Trace Metadata\nDESCRIPTION: Bash command for pushing a new event with commit hash and URL for deployment tracing. This helps track which source code commits triggered which deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --commit-hash=20c98a503062021720b2fcf2058276b3245xxxxx\n    --commit-url=https://github.com/pipe-cd/pipecd/commit/20c98a503062021720b2fcf2058276b3245xxxxx\n```\n\n----------------------------------------\n\nTITLE: Defining Font Awesome icon using Sass mixin\nDESCRIPTION: The fa-icon() Sass mixin can be used to define Font Awesome icons in CSS. It now uses em units instead of percentages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_9\n\nLANGUAGE: SCSS\nCODE:\n```\n@include fa-icon($icon);\n```\n\n----------------------------------------\n\nTITLE: Showing Plan Details in Markdown Collapsible Section\nDESCRIPTION: Uses Markdown to create a collapsible section containing the plan details. The details are presented as a diff, showing the changes that will be applied.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-has-failed-piped.txt#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n<details>\n<summary>Details (Click me)</summary>\n<p>\n\n``` diff\nplan-details-1\n```\n</p>\n</details>\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Google Cloud Run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Kubernetes Project Deployment Stages\nDESCRIPTION: This YAML snippet defines the deployment stages for a Kubernetes project in PipeCD. It includes canary and primary release stages with specific configurations for each.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/manifests/helloworld/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      # Deploy the workloads of CANARY variant. In this case, the number of\n      # workload replicas of CANARY variant is set to 1.\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 1\n      # Wait 10 seconds before going to the next stage.\n      - name: WAIT\n        with:\n          duration: 10s\n      # Update the workload of PRIMARY variant to the new version.\n      - name: K8S_PRIMARY_ROLLOUT\n      # Destroy all workloads of CANARY variant.\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring YAML Frontmatter for PipeCD Contributor Guide\nDESCRIPTION: YAML frontmatter configuration for a documentation page about contributing to PipeCD. Defines the page title, navigation link text, weight for ordering, and description.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/contribution-guidelines/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Contributor Guide\"\nlinkTitle: \"Contributor Guide\"\nweight: 6\ndescription: >\n  This guide is for anyone who want to contribute to PipeCD project. We are so excited to have you!\n```\n\n----------------------------------------\n\nTITLE: Listing Deployments with pipectl\nDESCRIPTION: Lists deployments for a specific application using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Shell command to create a new secret in Google Cloud Secret Manager to securely store the Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring in PipeCD\nDESCRIPTION: This command enables cluster-wide statistics monitoring in PipeCD. It sets the 'monitoring.clusterStats' flag to true when installing or upgrading PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Syncing and waiting for deployment status\nDESCRIPTION: Syncs an application and waits until the triggered deployment reaches one of the specified statuses (success or failure).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_16\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Disabling Font Awesome auto-replacement using JavaScript\nDESCRIPTION: Calling fontawesome.noAuto() disables the Font Awesome mutation observers that automatically replace icons.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_7\n\nLANGUAGE: JavaScript\nCODE:\n```\nfontawesome.noAuto();\n```\n\n----------------------------------------\n\nTITLE: Building PipeCD Components with Make Commands\nDESCRIPTION: Commands to build Go modules (pipecd, piped, pipectl) and web static files using Make targets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nmake build/go\n```\n\nLANGUAGE: bash\nCODE:\n```\nmake build/web\n```\n\n----------------------------------------\n\nTITLE: Listing deployments with pipectl (Console)\nDESCRIPTION: Retrieves a list of deployments based on specified filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Defining AnalysisProviderDatadogConfig in YAML\nDESCRIPTION: Specifies the configuration for Datadog as an analysis provider in PipeCD. It includes fields for the API server address and required authentication key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\nAnalysisProviderDatadogConfig:\n  address: \"string\"  # Optional: Datadog API server address (defaults to \"datadoghq.com\")\n  apiKeyFile: \"string\"  # Required: Path to the API key file\n  applicationKeyFile: \"string\"  # Required: Path to the application key file\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption\nDESCRIPTION: Commands to generate a public-private key pair for secret encryption using OpenSSL. The key pair is required for Piped to encrypt and decrypt secrets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Base64 Config Decoding in Container\nDESCRIPTION: Bash command to decode base64 encoded configuration in container environment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\necho $ENVOY_CONFIG; echo $ENVOY_CONFIG | base64 -d >> envoy-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Running Local Kubernetes Cluster with Kind\nDESCRIPTION: Commands for starting and stopping a local Kubernetes cluster using Kind for development purposes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/contribution-guidelines/development.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nmake kind-up\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config Features\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config capabilities, allowing both version upgrades and config changes through the web console with Git-backed configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Downloading pipectl Binary from GitHub Releases\nDESCRIPTION: A script to download the pipectl binary for either Darwin (macOS) or Linux operating systems from GitHub releases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade Feature using Helm in Bash\nDESCRIPTION: This Helm command deploys Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console, but still requires a restart to update config data. It includes similar security settings as the basic deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane on Local Cluster\nDESCRIPTION: Commands to install and expose the PipeCD Control Plane on a local Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/contribution-guidelines/development.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nmake run/pipecd\n```\n\nLANGUAGE: shell\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager\nDESCRIPTION: Bash command to store the Piped configuration as a secret in AWS Secrets Manager, enabling the ECS Fargate task to access it securely during execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Getting Deployment Stage Logs\nDESCRIPTION: Command to retrieve and display the logs for the stages of a specific deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_19\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Deploying Lambda Function Directly from Source Code in PipeCD\nDESCRIPTION: A sample function.yaml configuration for deploying a Lambda function directly from source code in a Git repository. This config specifies the function name, IAM role, Git source details, handler, runtime, memory, and timeout settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleCanaryZipFunction\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # source configuration use to determine the source code of your Lambda function.\n  source:\n    # git remote address where the source code is placing.\n    git: git@github.com:username/lambda-function-code.git\n    # the commit SHA or tag for remote git. Use branch name means you will always use\n    # the latest code of that branch as Lambda function code which is NOT recommended.\n    ref: dede7cdea5bbd3fdbcc4674bfcd2b2f9e0579603\n    # relative path from the repository root directory to the function code directory.\n    path: hello-world\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 128\n  timeout: 5\n  tags:\n    app: canary-zip\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to PATH\nDESCRIPTION: Command to move pipectl binary to system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD web interface locally\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped on a Kubernetes cluster. It sets the configuration file, Piped key, and SSH key as specified in the command arguments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Checking PipeCD Component Readiness\nDESCRIPTION: This command lists all pods in the PipeCD namespace to verify the readiness of PipeCD components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl get pod -n pipecd\n```\n\n----------------------------------------\n\nTITLE: Piped Plugin Configuration with Source URL in YAML\nDESCRIPTION: YAML configuration for Piped plugins showing how plugins can be loaded from a source URL (HTTP or local path) and configured with deploy targets, enabling dynamic plugin loading and management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n...\n  plugin:\n    - name: k8s_plugin\n      port: 8081\n      sourceURL: # http or local path\n      deployTargets:\n        - name: dev\n          labels:\n            env: dev\n          config: # depends on plugins\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System in PipeCD Helm Installation\nDESCRIPTION: This snippet shows how to enable the monitoring system when installing PipeCD using Helm. It sets the 'monitoring.enabled' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Validating pipectl Command Installation for Datastore Migration\nDESCRIPTION: This command validates if the pipectl command-line tool is properly installed with the datastore subcommand that's required for migration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/migrate-control-plane-datastore-to-mysql.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ pipectl datastore -h\nManage control-plane datastore resource.\n\nUsage:\n  pipectl datastore [command]\n\nAvailable Commands:\n  migrate     Migrate data to MySQL datastore.\n```\n\n----------------------------------------\n\nTITLE: Encrypting Data\nDESCRIPTION: Encrypts plaintext data using either stdin or input file\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Deployment Chain Examples\nDESCRIPTION: Table showing deployment chain examples demonstrating how to configure deployment dependencies and filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/deployment-chain/simple) | Simple deployment chain which uses application name as a filter in chain configuration. |\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane Locally\nDESCRIPTION: Installs the PipeCD Control Plane components into a local Kubernetes cluster for development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\nmake run/pipecd\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an Amazon ECS application in PipeCD. It specifies the API version, kind, and basic metadata including name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Service for Piped with Remote-upgrade\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped with remote-upgrade capability. It uses the launcher image, sets resource limits, and mounts the configuration from a secret. This allows upgrading Piped to a new version from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Sample Generated PipeCD ECS Application Configuration\nDESCRIPTION: This YAML snippet shows an example of the generated app.pipecd.yaml file for an ECS application. It includes the application name, input specifications for service and task definitions, and target group configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_28\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for Various Kubernetes Configurations\nDESCRIPTION: This snippet provides conditional logic to retrieve the application URL based on different Kubernetes configurations. It handles scenarios for enabled ingress, NodePort, LoadBalancer, and ClusterIP service types. The commands use kubectl to fetch necessary information and construct the appropriate URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/plugin/kubernetes_multicluster/provider/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{{- if .Values.ingress.enabled }}\n{{- range $host := .Values.ingress.hosts }}\n  {{- range .paths }}\n  http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ . }}\n  {{- end }}\n{{- end }}\n{{- else if contains \"NodePort\" .Values.service.type }}\n  export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath=\"{.spec.ports[0].nodePort}\" services {{ include \"testchart.fullname\" . }})\n  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath=\"{.items[0].status.addresses[0].address}\")\n  echo http://$NODE_IP:$NODE_PORT\n{{- else if contains \"LoadBalancer\" .Values.service.type }}\n     NOTE: It may take a few minutes for the LoadBalancer IP to be available.\n           You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include \"testchart.fullname\" . }}'\n  export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include \"testchart.fullname\" . }} --template \"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}\")\n  echo http://$SERVICE_IP:{{ .Values.service.port }}\n{{- else if contains \"ClusterIP\" .Values.service.type }}\n  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l \"app.kubernetes.io/name={{ include \"testchart.name\" . }},app.kubernetes.io/instance={{ .Release.Name }}\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:8080 to use your application\"\n  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:80\n{{- end }}\n```\n\n----------------------------------------\n\nTITLE: Basic PipeCD Control Plane Configuration Structure in YAML\nDESCRIPTION: This snippet shows the basic structure of a PipeCD Control Plane configuration file. The configuration uses YAML format with a specific API version and kind, followed by the spec section that contains various configuration options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to system PATH\nDESCRIPTION: Moves the pipectl binary to /usr/local/bin for system-wide access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications in YAML\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to a Slack channel using a webhook URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Release Note Block in Markdown\nDESCRIPTION: A Markdown code block used in pull request descriptions to indicate if there are any user-facing changes. In this case, it specifies 'NONE' to indicate no user-facing changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/log.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n```release-note\nNONE\n```\n```\n\n----------------------------------------\n\nTITLE: Generating RSA Key Pair for Secret Encryption in PipeCD\nDESCRIPTION: Commands to generate a public-private key pair for secret encryption in PipeCD using OpenSSL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl genpkey -algorithm RSA -pkeyopt rsa_keygen_bits:2048 -out private-key\nopenssl pkey -in private-key -pubout -out public-key\n```\n\n----------------------------------------\n\nTITLE: Creating Accessible Close Button in HTML\nDESCRIPTION: Implementation of an accessible close button with proper ARIA attributes for screen readers. Uses the times symbol (&times;) as a visual indicator while maintaining accessibility through aria-label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/close-icon.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"close\" aria-label=\"Close\">\n  <span aria-hidden=\"true\">&times;</span>\n</button>\n```\n\n----------------------------------------\n\nTITLE: Displaying pipectl Plan Preview Help in Console\nDESCRIPTION: This command shows the help information for the plan-preview subcommand of pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops UI for Project Management\nDESCRIPTION: Command to access the operations interface for project management including creating new projects and generating admin credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Adding Deployment Trace Reference to Deployment Message in Protocol Buffers\nDESCRIPTION: This code snippet shows the addition of a deployment_trace_commit_hash field to the existing Deployment message structure. This field links a deployment to its corresponding deployment trace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0017-deployment-trace.md#2025-04-14_snippet_1\n\nLANGUAGE: proto\nCODE:\n```\nmessage Deployment {\n    ...\n    // The commit hash of the deployment trace, which contains this deployment.\n    string deployment_trace_commit_hash = 50;\n    ...\n}\n```\n\n----------------------------------------\n\nTITLE: Installing the PipeCD CLI Client\nDESCRIPTION: Command to download the PipeCD client (pipectl) binary for either macOS or Linux operating systems.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: Command to set up port forwarding to access Grafana dashboards.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Enabling Responsive Font Sizes in Bootstrap SCSS\nDESCRIPTION: To enable responsive font sizes in Bootstrap, set the $enable-responsive-font-sizes Sass variable to true. This replaces normal font-size properties with a Sass mixin that compiles into calc() functions using a mix of rem and viewport units.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/typography.md#2025-04-14_snippet_4\n\nLANGUAGE: SCSS\nCODE:\n```\n$enable-responsive-font-sizes: true;\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access in Kubernetes\nDESCRIPTION: This command sets up port forwarding to access Grafana on localhost:3000. It forwards traffic from the Grafana service in the specified Kubernetes namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate (Shell)\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal use in PipeCD, particularly for GKE Ingress scenarios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Setting Datadog Key Files in Helm Installation for PipeCD\nDESCRIPTION: This command demonstrates how to use the --set-file option in Helm to mount Datadog API and application key files during the PipeCD installation or upgrade process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Storing Configuration in AWS Secrets Manager\nDESCRIPTION: Bash commands for storing the Piped configuration in AWS Secrets Manager using the AWS CLI.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Generating Piped Manifest using Helm\nDESCRIPTION: Helm template command to generate the piped manifest from the official PipeCD Helm chart with quickstart configuration and credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/quickstart/README.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\nhelm template piped oci://ghcr.io/pipe-cd/chart/piped --version v0.48.6 -n pipecd --set quickstart.enabled=true --set quickstart.pipedId=\\<YOUR_PIPED_ID\\> --set quickstart.pipedKeyData=\\<YOUR_PIPED_KEY_DATA\\>\n```\n\n----------------------------------------\n\nTITLE: Defining DeploymentTrace Message Structure in Protocol Buffers\nDESCRIPTION: This code snippet defines the structure of the DeploymentTrace message using Protocol Buffers. It includes fields for trace identification, commit information, and timestamps.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0017-deployment-trace.md#2025-04-14_snippet_0\n\nLANGUAGE: proto\nCODE:\n```\nmessage DeploymentTrace {\n    string id = 1 [(validate.rules).string.min_len = 1];\n    string project_id = 2 [(validate.rules).string.min_len = 1];\n\n    // Information of the commit that trigger this deployment trace.\n    string title = 3;\n    string commit_message = 4;\n    string commit_hash = 5 [(validate.rules).string.min_len = 1];\n    string commit_url = 6 [(validate.rules).string.min_len = 1];\n    int64 commit_timestamp = 7 [(validate.rules).int64.gte = 0];\n    string author = 8;\n\n    int64 created_at = 101 [(validate.rules).int64.gte = 0];\n    int64 updated_at = 102 [(validate.rules).int64.gte = 0];\n}\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: AWS ECS Task Management Commands\nDESCRIPTION: Commands for registering task definition and creating ECS service for Piped deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config Interactively\nDESCRIPTION: Example of running pipectl init to generate an app.pipecd.yaml configuration file through an interactive CLI workflow. The command prompts for platform and application details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_27\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Defining Metadata for PipeCD Documentation Homepage in Markdown\nDESCRIPTION: This snippet defines the metadata for the PipeCD documentation homepage. It specifies the title, link title, and type of the page using YAML front matter in a Markdown file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.40.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: Command to access Grafana dashboard through port forwarding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a secret in Google Cloud Secret Manager for storing Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Displaying Go Runtime and Custom Application Metrics in Prometheus Format\nDESCRIPTION: A comprehensive set of Prometheus metrics exposing Go runtime statistics including garbage collection, memory usage, goroutines, and threads. Also includes custom application metrics for kubernetes API requests and prometheus http handler statistics.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/statsreporter/testdata/metrics.txt#2025-04-14_snippet_0\n\nLANGUAGE: prometheus\nCODE:\n```\n# HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile=\"0\"} 3.8913e-05\ngo_gc_duration_seconds{quantile=\"0.25\"} 4.4122e-05\ngo_gc_duration_seconds{quantile=\"0.5\"} 6.918e-05\ngo_gc_duration_seconds{quantile=\"0.75\"} 0.00014006\ngo_gc_duration_seconds{quantile=\"1\"} 0.00017785\ngo_gc_duration_seconds_sum 0.000994407\ngo_gc_duration_seconds_count 11\n# HELP go_goroutines Number of goroutines that currently exist.\n# TYPE go_goroutines gauge\ngo_goroutines 305\n# HELP go_info Information about the Go environment.\n# TYPE go_info gauge\ngo_info{version=\"go1.14.4\"} 1\n# HELP go_memstats_alloc_bytes Number of bytes allocated and still in use.\n# TYPE go_memstats_alloc_bytes gauge\ngo_memstats_alloc_bytes 1.2961024e+07\n# HELP go_memstats_alloc_bytes_total Total number of bytes allocated, even if freed.\n# TYPE go_memstats_alloc_bytes_total counter\ngo_memstats_alloc_bytes_total 5.0056888e+07\n# HELP go_memstats_buck_hash_sys_bytes Number of bytes used by the profiling bucket hash table.\n# TYPE go_memstats_buck_hash_sys_bytes gauge\ngo_memstats_buck_hash_sys_bytes 1.467122e+06\n# HELP go_memstats_frees_total Total number of frees.\n# TYPE go_memstats_frees_total counter\ngo_memstats_frees_total 225496\n# HELP go_memstats_gc_cpu_fraction The fraction of this program's available CPU time used by the GC since the program started.\n# TYPE go_memstats_gc_cpu_fraction gauge\ngo_memstats_gc_cpu_fraction 0.000716180943817101\n# HELP go_memstats_gc_sys_bytes Number of bytes used for garbage collection system metadata.\n# TYPE go_memstats_gc_sys_bytes gauge\ngo_memstats_gc_sys_bytes 3.5986e+06\n# HELP go_memstats_heap_alloc_bytes Number of heap bytes allocated and still in use.\n# TYPE go_memstats_heap_alloc_bytes gauge\ngo_memstats_heap_alloc_bytes 1.2961024e+07\n# HELP go_memstats_heap_idle_bytes Number of heap bytes waiting to be used.\n# TYPE go_memstats_heap_idle_bytes gauge\ngo_memstats_heap_idle_bytes 4.8766976e+07\n# HELP go_memstats_heap_inuse_bytes Number of heap bytes that are in use.\n# TYPE go_memstats_heap_inuse_bytes gauge\ngo_memstats_heap_inuse_bytes 1.6048128e+07\n# HELP go_memstats_heap_objects Number of allocated objects.\n# TYPE go_memstats_heap_objects gauge\ngo_memstats_heap_objects 119395\n# HELP go_memstats_heap_released_bytes Number of heap bytes released to OS.\n# TYPE go_memstats_heap_released_bytes gauge\ngo_memstats_heap_released_bytes 4.3614208e+07\n# HELP go_memstats_heap_sys_bytes Number of heap bytes obtained from system.\n# TYPE go_memstats_heap_sys_bytes gauge\ngo_memstats_heap_sys_bytes 6.4815104e+07\n# HELP go_memstats_last_gc_time_seconds Number of seconds since 1970 of last garbage collection.\n# TYPE go_memstats_last_gc_time_seconds gauge\ngo_memstats_last_gc_time_seconds 1.592924191333674e+09\n# HELP go_memstats_lookups_total Total number of pointer lookups.\n# TYPE go_memstats_lookups_total counter\ngo_memstats_lookups_total 0\n# HELP go_memstats_mallocs_total Total number of mallocs.\n# TYPE go_memstats_mallocs_total counter\ngo_memstats_mallocs_total 344891\n# HELP go_memstats_mcache_inuse_bytes Number of bytes in use by mcache structures.\n# TYPE go_memstats_mcache_inuse_bytes gauge\ngo_memstats_mcache_inuse_bytes 27776\n# HELP go_memstats_mcache_sys_bytes Number of bytes used for mcache structures obtained from system.\n# TYPE go_memstats_mcache_sys_bytes gauge\ngo_memstats_mcache_sys_bytes 32768\n# HELP go_memstats_mspan_inuse_bytes Number of bytes in use by mspan structures.\n# TYPE go_memstats_mspan_inuse_bytes gauge\ngo_memstats_mspan_inuse_bytes 302872\n# HELP go_memstats_mspan_sys_bytes Number of bytes used for mspan structures obtained from system.\n# TYPE go_memstats_mspan_sys_bytes gauge\ngo_memstats_mspan_sys_bytes 327680\n# HELP go_memstats_next_gc_bytes Number of heap bytes when next garbage collection will take place.\n# TYPE go_memstats_next_gc_bytes gauge\ngo_memstats_next_gc_bytes 2.3010352e+07\n# HELP go_memstats_other_sys_bytes Number of bytes used for other system allocations.\n# TYPE go_memstats_other_sys_bytes gauge\ngo_memstats_other_sys_bytes 3.568902e+06\n# HELP go_memstats_stack_inuse_bytes Number of bytes in use by the stack allocator.\n# TYPE go_memstats_stack_inuse_bytes gauge\ngo_memstats_stack_inuse_bytes 2.29376e+06\n# HELP go_memstats_stack_sys_bytes Number of bytes obtained from system for stack allocator.\n# TYPE go_memstats_stack_sys_bytes gauge\ngo_memstats_stack_sys_bytes 2.29376e+06\n# HELP go_memstats_sys_bytes Number of bytes obtained from system.\n# TYPE go_memstats_sys_bytes gauge\ngo_memstats_sys_bytes 7.6103936e+07\n# HELP go_threads Number of OS threads created.\n# TYPE go_threads gauge\ngo_threads 23\n# HELP livestatestore_kubernetes_api_requests_total Number of requests sent to kubernetes api server.\n# TYPE livestatestore_kubernetes_api_requests_total counter\nliveststatestore_kubernetes_api_requests_total{code=\"200\",host=\"34.84.220.84\",method=\"GET\"} 110\n# HELP promhttp_metric_handler_requests_in_flight Current number of scrapes being served.\n# TYPE promhttp_metric_handler_requests_in_flight gauge\npromhttp_metric_handler_requests_in_flight 1\n# HELP promhttp_metric_handler_requests_total Total number of scrapes by HTTP status code.\n# TYPE promhttp_metric_handler_requests_total counter\npromhttp_metric_handler_requests_total{code=\"200\"} 0\npromhttp_metric_handler_requests_total{code=\"500\"} 0\npromhttp_metric_handler_requests_total{code=\"503\"} 0\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome 5 using Yarn\nDESCRIPTION: Command to install the @fortawesome/fontawesome-free package using Yarn. This will add the package to your project's dependencies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/fontawesome-free/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ yarn add @fortawesome/fontawesome-free\n```\n\n----------------------------------------\n\nTITLE: Defining Custom Taxonomies in Hugo Config\nDESCRIPTION: TOML configuration to define custom taxonomies alongside default ones in Hugo. This example adds a 'projects' taxonomy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/taxonomy.md#2025-04-14_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[taxonomies]\ntag = \"tags\"\ncategory = \"categories\"\nproject = \"projects\"\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Documentation Page in Markdown\nDESCRIPTION: This snippet defines the frontmatter for a PipeCD documentation page. It sets the title, link title, and type of the page using YAML-style metadata in Markdown.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.44.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Registering an Event for EventWatcher\nDESCRIPTION: This command registers an event that can be used by EventWatcher. It requires the Control Plane API address, API key, event name, and associated data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Control Plane Configuration for MySQL and MinIO\nDESCRIPTION: YAML configuration for setting up PipeCD Control Plane with MySQL as datastore and MinIO as filestore\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: MYSQL\n    config:\n      url: {YOUR_MYSQL_ADDRESS}\n      database: {YOUR_DATABASE_NAME}\n  filestore:\n    type: MINIO\n    config:\n      endpoint: {YOUR_MINIO_ADDRESS}\n      bucket: {YOUR_BUCKET_NAME}\n      accessKeyFile: /etc/pipecd-secret/minio-access-key\n      secretKeyFile: /etc/pipecd-secret/minio-secret-key\n      autoCreateBucket: true\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key in Console\nDESCRIPTION: Commands to generate an encryption key required for securing sensitive data and JWT token authentication in PipeCD\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Configuring SCRIPT_RUN Stage with Canary Deployment - YAML\nDESCRIPTION: Example configuration showing how to integrate SCRIPT_RUN stages within a Kubernetes canary deployment pipeline. Demonstrates using environment variables and multiple script executions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n          run: |\n            echo $MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script2\"\n          run: |\n            echo $MSG\n            sleep 10\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for PipeCD\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for internal use in PipeCD, particularly for GKE Ingress configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Piped Installation with Remote-upgrade Feature\nDESCRIPTION: Helm command to install Piped with remote-upgrade capability enabled. This allows upgrading Piped version through the web console, though config updates still require manual restart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Retrieving application information in JSON format\nDESCRIPTION: Fetches and displays the information of a specific application in JSON format using the pipectl get command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Referencing an Analysis Template in Kubernetes App Configuration\nDESCRIPTION: This snippet demonstrates how to reference a previously defined Analysis Template in a Kubernetes application configuration using the 'template' field.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with the remote-upgrade feature enabled, allowing for version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped on Google Cloud VM\nDESCRIPTION: Command to create a Google Cloud VM instance running Piped without remote-upgrade capability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped on ECS\nDESCRIPTION: Commands for registering task definition and creating ECS service for Piped deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Deleting an application\nDESCRIPTION: Command to delete an application with a specific application ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_20\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule for canary deployment. It specifies two subsets, 'primary' and 'canary', using the 'pipecd.dev/variant' label to distinguish between them.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port to the ops pod, allowing access to the internal web service for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent with Configuration\nDESCRIPTION: Starts the Piped agent locally with a specified configuration file. The INSECURE option can be added for connecting to a local Control Plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access in Kubernetes\nDESCRIPTION: This command sets up port forwarding to access Grafana on localhost:3000, assuming Grafana is deployed in the specified namespace and release.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: PipeCD Initialization Flowchart\nDESCRIPTION: A mermaid flowchart diagram that illustrates the decision flow for initializing either Kubernetes or ECS deployments in PipeCD. The diagram shows the complete user interaction path for configuring deployment settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0011-pipectrl-init.md#2025-04-14_snippet_1\n\nLANGUAGE: mermaid\nCODE:\n```\ngraph TD\n  A((Start)) --> B{Select: k8s or ECS}\n  B -->|k8s| C1[k8s]\n  B -->|ECS| C2[ECS]\n  \n  subgraph Configure Deployment k8s\n      C1--> J[name: user interaction]\n      J --> K[description: default value]\n      K --> L[Trigger: default value]\n      L --> BE[KubernetesDeploymentInput]\n  end\n  \n  subgraph Configure Deployment ECS\n        C2 --> EA[name: user interaction]\n        EA --> EB[description: default value]\n        EB --> EC[Trigger: default value]\n        EC --> ED[ECSDeploymentInput]\n  end\n\n  subgraph KubernetesDeploymentInput\n    BE -- KubernetesDeploymentInput --> O{Select: kustomize or helm?}\n    O -->|kustomize| O1[Kustomize]\n    O -->|helm| O2[Helm]\n  end\n  \n  subgraph Kustomize\n    O1 -- Kustomize --> P[kustomizeVersion: user interaction]\n    P --> Q[kustomizeOptions: user interaction]\n    Q --> M[Pipeline]\n  end\n  \n  subgraph Helm \n     O2 -- Helm --> R[helmVersion: user interaction]\n     R --> S[HelmChart]\n  end\n\n  subgraph HelmChart\n    S -- HelmChart --> X[name: user interaction]\n    X --> Y[version: user interaction]\n    Y --> V{Select: remote git or remote repo or local?}\n    V -->|remote git| U1[gitRemote: user interaction]\n    U1 --> U2[ref: user interaction]\n    U2 --> T\n    V -->|remote repo| U3[repository: user interaction]\n    U3 --> T\n    V -->|local| U4[path: user interaction]\n    U4 --> T\n  end\n\n  subgraph HelmOptions\n    T[HelmOptions] -- HelmOptions --> W[releaseName: user interaction]\n    W --> Z[valueFiles: user interaction]\n    Z --> AA[setFiles: user interaction]\n    AA --> AB[apiVersions: user interaction]\n    AB --> AC[kubeVersion: user interaction]\n    AC --> M[Pipeline]\n  end\n\n  subgraph Pipeline\n    M -- Pipeline --> AD[Configure PipelineStage]\n  end\n\n  subgraph PipelineStage\n    AD -- PipelineStage --> AG{Brue-Green or Canary?}\n    AG -->|Blue-Green| AH[name: default value]\n    AH --> AI[with Blue-Green Deployment Setting]\n    AG -->|Canary| AJ[name: default value]\n    AJ --> AK[with Canary Deployment Setting]\n    \n  end\n  \n  subgraph ECSDeploymentInput \n      ED -- ECSDeploymentInput --> EE[serviceDefinitionFile: user interaction]\n      EE --> EF[taskDefinitionFile: user interaction]\n      EF --> EG[ECSTargetGroupInput]\n  end\n  \n  subgraph ECSTargetGroupInput \n      EG -- ECSTargetGroupInput --> EH[primary]\n      EH --> EI[canary: User selects whether to input canary]\n  end\n  \n  subgraph ECSTargetGroupObject\n      EH --> EJ[targetGroupArn: user interaction]\n      EI --> EJ\n      EJ --> EK[containerName: user interaction]\n      EK --> EL[containerPort: user interaction]\n      EL --> M[Pipeline]\n  end\n```\n\n----------------------------------------\n\nTITLE: Using Helm to Mount Datadog Key Files for PipeCD\nDESCRIPTION: This snippet shows the Helm command option syntax for mounting Datadog API and application key files during the Piped installation or upgrade process. It demonstrates how to securely provide these credentials using the --set-file parameter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Application Directory Structure\nDESCRIPTION: This snippet illustrates the recommended directory structure for managing multiple clusters in a PipeCD project. It shows how to organize configuration files and cluster-specific directories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0014-multi-cluster-deployment-for-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n- /prd\n    - app.pipecd.yaml\n    - /base\n    - /cluster-hoge\n        - app.pipecd.yaml\n    - /cluster-fuga\n        - app.pipecd.yaml\n```\n\n----------------------------------------\n\nTITLE: Using Encrypted Secrets in Lambda Function Environment Variables\nDESCRIPTION: Example showing how to use encrypted secrets as environment variables in a Lambda function configuration. The secret is accessed using the .encryptedSecrets context and will be decrypted by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from Input File\nDESCRIPTION: This command encrypts plaintext data from a specified input file for use in deployments. It requires the Control Plane API address, API key, Piped ID, and the path to the input file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Primary Variant\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes labels and selectors for 'pipecd.dev/variant: primary' to distinguish it from the canary deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in YAML\nDESCRIPTION: Example configuration for an AWS ECS application in PipeCD. The file must be placed in the Git repository watched by Piped to be recognized as an unregistered application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n# For application's configuration in detail for ECSApp, please visit\n# https://pipecd.dev/docs/user-guide/managing-application/defining-app-configuration/ecs/\n\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration\nDESCRIPTION: Example configuration for updating Helm chart version using EventWatcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Site Locally\nDESCRIPTION: Starts the PipeCD documentation site locally for development and preview. Requires Hugo extended version 0.92.1 or later.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nmake run/site\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Basic configuration structure for an AWS Lambda application deployment in PipeCD. Specifies the application spec with pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Running Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with the remote-upgrade feature enabled, allowing for version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Sample Generated ECS Application Config in YAML\nDESCRIPTION: This snippet presents an example of a generated app.pipecd.yaml configuration for an ECS application in PipeCD, including application name, input specifications, and target group details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: myApp\n  input:\n    serviceDefinitionFile: serviceDef.yaml\n    taskDefinitionFile: taskDef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:123456789012:targetgroup/xxx/xxx\n        containerName: web\n        containerPort: 80\n  description: Generated by `pipectl init`. See https://pipecd.dev/docs/user-guide/configuration-reference/ for more.\n```\n\n----------------------------------------\n\nTITLE: Feature Phase Status Table\nDESCRIPTION: Markdown table defining the different phase statuses (Incubating, Alpha, Beta, Stable) used to categorize feature maturity in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/feature-status/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Phase | Definition |\n|-|-|\n| Incubating | Under planning/developing the prototype and still not ready to be used. |\n| Alpha | Demo-able, works end-to-end but has limitations. No guarantees on backward compatibility. |\n| Beta | **Usable in production**. Documented. |\n| Stable | Production hardened. Backward compatibility. Documented. |\n```\n\n----------------------------------------\n\nTITLE: Making PipeCD Client Executable\nDESCRIPTION: Changes the permissions of the downloaded pipectl binary to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to Access PipeCD Console\nDESCRIPTION: Command to port-forward the PipeCD console service to access it locally after installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service for Project Management\nDESCRIPTION: kubectl command to set up port forwarding to the PipeCD ops service on port 9082, which allows creating and managing projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key in Console\nDESCRIPTION: Commands to generate an encryption key for PipeCD using either openssl or /dev/urandom\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Responsive Table Implementation in HTML\nDESCRIPTION: Shows how to create responsive tables that horizontally scroll on smaller viewports using the table-responsive class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/tables.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"table-responsive\">\n  <table class=\"table\">\n    ...\n  </table>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Inclusion in Piped YAML\nDESCRIPTION: This YAML snippet demonstrates how to configure Piped to use specific EventWatcher files. It includes a pattern to match files under the .pipe/dev/ directory and specifies a custom commit message.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Making PipeCD Client Executable\nDESCRIPTION: Sets executable permissions for the downloaded pipectl binary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Setting up Port Forwarding for PipeCD UI Access\nDESCRIPTION: Command to establish port forwarding for the PipeCD service, allowing local access to the control plane UI through localhost:8080.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl port-forward -n pipecd svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Configuring Application Labels in Terraform Application\nDESCRIPTION: This YAML snippet shows how to configure labels for a Terraform application. It includes setting the application name, environment name, and custom labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/january-2022-update.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: simple-app\n  envName: production\n  labels:\n    #env: production\n    service: backend\n  ...\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Homebrew\nDESCRIPTION: Command to install pipectl using Homebrew package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipectl\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring System with Helm\nDESCRIPTION: Command to enable the monitoring system when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Basic List Group Tab Structure in HTML\nDESCRIPTION: Basic HTML structure for creating a tabbable list group navigation with content panes. Uses Bootstrap classes for layout and functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"row\">\n  <div class=\"col-4\">\n    <div class=\"list-group\" id=\"list-tab\" role=\"tablist\">\n      <a class=\"list-group-item list-group-item-action active\" id=\"list-home-list\" data-toggle=\"list\" href=\"#list-home\" role=\"tab\" aria-controls=\"home\">Home</a>\n      <a class=\"list-group-item list-group-item-action\" id=\"list-profile-list\" data-toggle=\"list\" href=\"#list-profile\" role=\"tab\" aria-controls=\"profile\">Profile</a>\n      <a class=\"list-group-item list-group-item-action\" id=\"list-messages-list\" data-toggle=\"list\" href=\"#list-messages\" role=\"tab\" aria-controls=\"messages\">Messages</a>\n      <a class=\"list-group-item list-group-item-action\" id=\"list-settings-list\" data-toggle=\"list\" href=\"#list-settings\" role=\"tab\" aria-controls=\"settings\">Settings</a>\n    </div>\n  </div>\n  <div class=\"col-8\">\n    <div class=\"tab-content\" id=\"nav-tabContent\">\n      <div class=\"tab-pane fade show active\" id=\"list-home\" role=\"tabpanel\" aria-labelledby=\"list-home-list\">...</div>\n      <div class=\"tab-pane fade\" id=\"list-profile\" role=\"tabpanel\" aria-labelledby=\"list-profile-list\">...</div>\n      <div class=\"tab-pane fade\" id=\"list-messages\" role=\"tabpanel\" aria-labelledby=\"list-messages-list\">...</div>\n      <div class=\"tab-pane fade\" id=\"list-settings\" role=\"tabpanel\" aria-labelledby=\"list-settings-list\">...</div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade PipeCD Control Plane to a new version\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Updating Docsy Submodule Commands\nDESCRIPTION: Commands to update a Docsy theme when used as a Git submodule in a project. Includes fetching the latest theme version and committing the changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Updating/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit submodule update --remote\n```\n\nLANGUAGE: bash\nCODE:\n```\ngit add themes/\ngit commit -m \"Updating theme submodule\"\n```\n\nLANGUAGE: bash\nCODE:\n```\ngit push origin master\n```\n\n----------------------------------------\n\nTITLE: Moving the PipeCD CLI Client to System Path\nDESCRIPTION: Command to move the pipectl binary to the system path for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Analyzing CPU Profile with Go Tool Pprof\nDESCRIPTION: This command analyzes the CPU profiling data saved in the cpu.pprof file using the go tool pprof command. It allows for detailed examination of the profiling results.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher File Inclusion in PipeCD\nDESCRIPTION: This YAML configuration specifies which EventWatcher files Piped should monitor. It includes a specific directory pattern and sets a custom commit message for updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Image Providers in Piped Config\nDESCRIPTION: YAML configuration for specifying image providers in the Piped configuration file. It defines how Piped should connect to container registries and which image watcher configurations to monitor.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0001-image-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  imageProviders:\n    - name: my-dockerhub\n      type: DOCKERHUB\n      # Indicates how many minutes Piped polls every.\n      interval: 5m\n      config:\n        username: foo\n        passwordFile: /etc/piped-secret/dockerhub-pass\n  # Optional\n  imageWatcher:\n    - repoId: foo\n      includes:\n        - .pipe/imagewatcher-dev.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in PipeCD\nDESCRIPTION: Configuration structure for defining analysis templates in PipeCD, including metrics configuration with Prometheus example.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Creating PipeCD Web Environment File\nDESCRIPTION: This command creates a new .env file based on the provided example. The .env file is used to configure the development environment, including API endpoints and authentication settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncp .env.example .env\n```\n\n----------------------------------------\n\nTITLE: Helm Chart Update Configuration Example\nDESCRIPTION: Complete example showing how to configure event watcher for automatically updating Helm chart versions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n      version: 0.1.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Setting GitHub Repository URL in TOML Configuration\nDESCRIPTION: Configures the main GitHub repository URL for documentation source, used for edit page and issue creation links.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/repository-links.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\ngithub_repo = \"https://github.com/google/docsy\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Version Dropdown Menu in TOML\nDESCRIPTION: Configuration for adding multiple documentation versions to the navigation menu. Defines version numbers and their corresponding URLs for different releases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/versioning.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n# Add your release versions here\n[[params.versions]]\n  version = \"master\"\n  url = \"https://master.kubeflow.org\"\n\n[[params.versions]]\n  version = \"v0.2\"\n  url = \"https://v0-2.kubeflow.org\"\n\n[[params.versions]]\n  version = \"v0.3\"\n  url = \"https://v0-3.kubeflow.org\"\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: This command sets up port forwarding to access Grafana dashboards after enabling the monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD in Quickstart Mode\nDESCRIPTION: Command to uninstall PipeCD components installed in quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/quickstart/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Implementing Responsive Margin and Padding Utilities in CSS\nDESCRIPTION: New responsive margin and padding utilities have been added for all sides, as well as vertical and horizontal shorthands.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_13\n\nLANGUAGE: CSS\nCODE:\n```\n.m-{size}\n.mt-{size}\n.mr-{size}\n.mb-{size}\n.ml-{size}\n.mx-{size}\n.my-{size}\n.p-{size}\n.pt-{size}\n.pr-{size}\n.pb-{size}\n.pl-{size}\n.px-{size}\n.py-{size}\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome SVG Core via NPM\nDESCRIPTION: Command to install the Font Awesome SVG core package using NPM package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/fontawesome-svg-core/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm i --save @fortawesome/fontawesome-svg-core\n```\n\n----------------------------------------\n\nTITLE: Defining Analysis Template in PipeCD\nDESCRIPTION: Configuration for setting up analysis templates with metrics for monitoring deployments, including prometheus query settings and failure thresholds.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Adding Copyright Header in Go Files for PipeCD Project\nDESCRIPTION: This snippet shows the required copyright and license header that should be included at the top of new Go files when contributing to PipeCD. It specifies the Apache License Version 2.0 terms.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/CONTRIBUTING.md#2025-04-14_snippet_0\n\nLANGUAGE: go\nCODE:\n```\n// Copyright 2024 The PipeCD Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n```\n\n----------------------------------------\n\nTITLE: Displaying pipectl Help Information\nDESCRIPTION: Command to show the help information for pipectl, displaying all available commands and global flags.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl --help\n\nThe command line tool for PipeCD.\n\nUsage:\n  pipectl [command]\n\nAvailable Commands:\n  application  Manage application resources.\n  deployment   Manage deployment resources.\n  encrypt      Encrypt the plaintext entered in either stdin or the --input-file flag.\n  event        Manage event resources.\n  help         Help about any command\n  piped        Manage piped resources.\n  plan-preview Show plan preview against the specified commit.\n  quickstart   Quick prepare PipeCD control plane in quickstart mode.\n  version      Print the information of current binary.\n\nFlags:\n  -h, --help                               help for pipectl\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n\nUse \"pipectl [command] --help\" for more information about a command.\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped YAML\nDESCRIPTION: This YAML snippet shows how to add a Git repository to the piped configuration file. It specifies the repository ID, remote URL, and branch to be used for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager for storing Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Displaying help for application add command\nDESCRIPTION: Command to show help information for the 'application add' command, including all available flags and their descriptions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl application add --help\n\nAdd a new application.\n\nUsage:\n  pipectl application add [flags]\n\nFlags:\n      --app-dir string            The relative path from the root of repository to the application directory.\n      --app-kind string           The kind of application. (KUBERNETES|TERRAFORM|LAMBDA|CLOUDRUN)\n      --app-name string           The application name.\n      --platform-provider string  The platform provider name. One of the registered providers in the piped configuration. The previous name of this field is cloud-provider.\n      --config-file-name string   The configuration file name. (default \"app.pipecd.yaml\")\n      --description string        The description of the application.\n  -h, --help                      help for add\n      --piped-id string           The ID of piped that should handle this application.\n      --repo-id string            The repository ID. One the registered repositories in the piped configuration.\n\nGlobal Flags:\n      --address string                     The address to Control Plane api.\n      --api-key string                     The API key used while authenticating with Control Plane.\n      --api-key-file string                Path to the file containing API key used while authenticating with Control Plane.\n      --cert-file string                   The path to the TLS certificate file.\n      --insecure                           Whether disabling transport security while connecting to Control Plane.\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl CLI for PipeCD\nDESCRIPTION: This command uses the pipectl CLI tool to generate a plan preview for a PipeCD deployment. It requires the Control Plane address, API key, repository URL, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with the remote-upgrade feature enabled, allowing for version upgrades from the web console.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Initializing Patch Release in PipeCD\nDESCRIPTION: Shell command to initialize a patch release by updating the RELEASE file for version X.Y.Z.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/RELEASES.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nmake release/init version=vX.Y.Z\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application and Waiting for Deployment Status\nDESCRIPTION: This command syncs an application and waits until the triggered deployment reaches one of the specified statuses (success or failure). It requires the Control Plane API address, API key, and application ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Service Configuration\nDESCRIPTION: JSON configuration for ECS service that controls Piped task deployment with Fargate launch type\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Encrypting Deployment Data with pipectl in Console\nDESCRIPTION: Demonstrates how to use pipectl to encrypt plaintext data for use in deployments. Two methods are shown: reading from stdin and specifying an input file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_25\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for BlueGreen Deployment\nDESCRIPTION: This snippet shows how to define a DestinationRule resource for Istio that creates primary and canary subsets based on the pipecd.dev/variant label. This is required for enabling blue-green deployment with Istio.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  host: mesh-istio-bluegreen\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n  trafficPolicy:\n    tls:\n      mode: ISTIO_MUTUAL\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with Toggler on Left and Brand on Right in Bootstrap\nDESCRIPTION: This example shows a navbar with the toggler on the left and the brand name on the right. It includes navigation links and a search form within the collapsible content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_14\n\nLANGUAGE: HTML\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo03\" aria-controls=\"navbarTogglerDemo03\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n\n  <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo03\">\n    <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n    <form class=\"form-inline my-2 my-lg-0\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n      <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n    </form>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Styling Bootstrap Cards with Background Colors and Borders\nDESCRIPTION: Demonstrates how to apply different background colors and border styles to Bootstrap cards using utility classes. Includes examples of various color combinations and border treatments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_8\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card border-success mb-3\" style=\"max-width: 18rem;\">\n  <div class=\"card-header bg-transparent border-success\">Header</div>\n  <div class=\"card-body text-success\">\n    <h5 class=\"card-title\">Success card title</h5>\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n  </div>\n  <div class=\"card-footer bg-transparent border-success\">Footer</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: This command sets up port forwarding to access Grafana dashboards after enabling the monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD\nDESCRIPTION: Removes PipeCD components from the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Web API Endpoint\nDESCRIPTION: This snippet shows how to set the API endpoint in the .env file for connecting to a real API server. Replace {API_ADDRESS} with the actual API server address.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nAPI_ENDPOINT=https://{API_ADDRESS}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Homebrew\nDESCRIPTION: Command to install pipectl using Homebrew package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipectl\n```\n\n----------------------------------------\n\nTITLE: Moving PipeCD Client to System Path\nDESCRIPTION: Moves the pipectl binary to the system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Listing applications with filters\nDESCRIPTION: Command to find and display information about applications matching specific criteria.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_18\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher using .pipe directory (Deprecated)\nDESCRIPTION: This YAML configuration defines an EventWatcher that updates a Kubernetes deployment manifest when a 'helloworld-image-update' event occurs. It specifies which file to modify and which YAML field to target using JSONPath.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Aqua Package Manager\nDESCRIPTION: This snippet shows the process of installing pipectl using the Aqua package manager, including adding it to the configuration file and installing it.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\naqua i\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Cloud Run Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Cloud Run application configuration file in PipeCD. This defines the application type as CloudRunApp and includes placeholders for the input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Shell command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding PipeCD Control Plane Service\nDESCRIPTION: Command to set up port forwarding for accessing the PipeCD web console locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl port-forward -n pipecd svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: Command to forward local port 9082 to the PipeCD ops service pod for accessing the project management interface. This allows administrators to access the internal web page for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Moving PipeCD Client to System Path\nDESCRIPTION: This command moves the pipectl binary to /usr/local/bin for easier access from anywhere in the system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Running Integration Tests in PipeCD\nDESCRIPTION: Executes integration tests for the PipeCD project to ensure components work together correctly.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nmake test/integration\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key using OpenSSL or Random\nDESCRIPTION: Commands to generate an encryption key required for PipeCD's sensitive data encryption and JWT token signing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Generating Encryption Key using OpenSSL or urandom\nDESCRIPTION: Commands to generate an encryption key for PipeCD to encrypt sensitive data and sign JWT tokens\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nopenssl rand 64 | base64 > encryption-key\n\n# or\ncat /dev/urandom | head -c64 | base64 > encryption-key\n```\n\n----------------------------------------\n\nTITLE: Dark Table Background Utilities in HTML\nDESCRIPTION: Shows how to apply background utilities to dark-themed tables for achieving similar styling effects when contextual classes aren't available.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/tables.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!-- On rows -->\n<tr class=\"bg-primary\">...</tr>\n<tr class=\"bg-success\">...</tr>\n<tr class=\"bg-warning\">...</tr>\n<tr class=\"bg-danger\">...</tr>\n<tr class=\"bg-info\">...</tr>\n\n<!-- On cells (`td` or `th`) -->\n<tr>\n  <td class=\"bg-primary\">...</td>\n  <td class=\"bg-success\">...</td>\n  <td class=\"bg-warning\">...</td>\n  <td class=\"bg-danger\">...</td>\n  <td class=\"bg-info\">...</td>\n</tr>\n```\n\n----------------------------------------\n\nTITLE: Starting PipeCD Installation\nDESCRIPTION: Initiates the PipeCD quickstart installation process with a specified version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Directory Structure for Multi-Cluster Kubernetes Application\nDESCRIPTION: Example directory structure for a Kubernetes application deployed to multiple clusters. The structure includes a base directory with common manifests and separate directories for cluster-specific configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0014-multi-cluster-deployment-for-k8s.md#2025-04-14_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\nmicroservice-a\n prd\n     app.pipecd.yaml\n     base\n        deployment.yaml\n        kustomization.yaml\n        service.yaml\n     cluster-hoge\n        kustomization.yaml\n     cluster-fuga\n         kustomization.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring YAML Front Matter for PipeCD Documentation Homepage\nDESCRIPTION: YAML front matter that configures the documentation homepage for PipeCD. It sets the page title, navigation link text, weight for ordering, and main menu positioning.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation\"\nweight: 1\nmenu:\n  main:\n    weight: 20\n---\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Components using Quickstart Command\nDESCRIPTION: Uses the pipectl quickstart command to initiate the PipeCD installation process. This command sets up the PipeCD control plane with a default project named 'quickstart'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring System via Helm Install\nDESCRIPTION: This command enables the monitoring system for PipeCD by setting the monitoring.enabled flag to true during Helm installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Accessing Bootstrap Plugin Version in JavaScript\nDESCRIPTION: This snippet shows how to access the version number of a Bootstrap plugin using the VERSION property of the plugin's constructor.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_8\n\nLANGUAGE: JavaScript\nCODE:\n```\n$.fn.tooltip.Constructor.VERSION // => \"{{< param current_version >}}\"\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane Version\nDESCRIPTION: Helm command to upgrade the PipeCD control plane to a new version, specifying configuration files and credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap via npm\nDESCRIPTION: This command installs Bootstrap using the npm package manager. It's suitable for Node.js powered applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\nnpm install bootstrap\n```\n\n----------------------------------------\n\nTITLE: Running pipectl via Docker\nDESCRIPTION: Executes pipectl using Docker container from GitHub Container Registry\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Retrieving deployment logs with pipectl (Console)\nDESCRIPTION: Fetches the logs for a specific deployment's stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment logs \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf - Adding plugin\nDESCRIPTION: Command to add the pipectl plugin to the Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\n```\n\n----------------------------------------\n\nTITLE: Using Helm Set-File Command for Datadog Key Files in PipeCD\nDESCRIPTION: Helm command snippet for mounting Datadog API and Application key files when installing or upgrading Piped on Kubernetes in cluster-wide mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service on Cloud Run\nDESCRIPTION: Command to deploy the Piped service configuration to Google Cloud Run.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on Kubernetes using Helm\nDESCRIPTION: Bash commands for installing Piped on Kubernetes using Helm. Includes options for basic installation, remote upgrade, and remote config.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Content Subdirectory in TOML\nDESCRIPTION: Specifies the subdirectory where content is located within the repository, ensuring edit links point to correct locations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/repository-links.md#2025-04-14_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\ngithub_subdir = \"userguide\"\n```\n\n----------------------------------------\n\nTITLE: Hiding Bootstrap Modal\nDESCRIPTION: Method to manually hide a Bootstrap modal dialog. Returns before the modal is fully hidden and hidden.bs.modal event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_18\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal('hide')\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring\nDESCRIPTION: Helm install parameter to enable cluster-wide metrics tracking which is disabled by default.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Accessing Pprof Index Page in Piped\nDESCRIPTION: This command accesses the pprof index page, which lists available profiling data. It uses curl to send a GET request to the /debug/pprof/ route on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Implementing Default Container in HTML\nDESCRIPTION: Uses the .container class to create a responsive, fixed-width container. The max-width of this container changes at each breakpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"container\">\n  <!-- Content here -->\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade and Remote-config Features\nDESCRIPTION: This Helm upgrade command installs or upgrades PipeCD Piped with both remote-upgrade and remote-config features enabled. It allows upgrading Piped from the web console and loading Piped config from a remote Git repository. The command includes additional settings for Git repository configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Pipeline Configuration with Rollback Functionality\nDESCRIPTION: Example configuration showing how to implement rollback functionality in SCRIPT_RUN stages for Kubernetes applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: canary-with-script-run\n  labels:\n    env: example\n    team: product\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 10%\n      - name: WAIT\n        with:\n          duration: 10s\n      - name: SCRIPT_RUN\n        with:\n          env:\n            MSG: \"execute script1\"\n            R_MSG: \"rollback script1\"\n          run: |\n            echo $MSG\n            sleep 10\n          onRollback: |\n            echo $R_MSG\n            sleep 10\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Example Git diff after EventWatcher update\nDESCRIPTION: This diff shows the change made by EventWatcher when triggered by an event. It updates the container image in a Kubernetes manifest from v0.1.0 to v0.2.0.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: diff\nCODE:\n```\n     spec:\n       containers:\n       - name: helloworld\n-        image: gcr.io/pipecd/helloworld:v0.1.0\n+        image: gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Listing applications with filters\nDESCRIPTION: Finds and displays information of matching applications in JSON format based on specified filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_18\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in PipeCD Piped Configuration\nDESCRIPTION: This YAML snippet shows how to add a Git repository configuration to the piped configuration file. It specifies the repository ID, remote URL, and branch to be used for deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm Chart Version Update Event\nDESCRIPTION: Bash command for pushing a Helm chart version update event to the PipeCD Control Plane. This will trigger the configured event watcher to update the version in the application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface via Port Forwarding\nDESCRIPTION: kubectl command to set up port forwarding for accessing the PipeCD web interface locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Running pipectl using Docker\nDESCRIPTION: Executes pipectl commands using a Docker container, allowing for version-specific usage without local installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager for Piped Configuration\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Building PipeCD Components with Make Commands\nDESCRIPTION: Basic make commands for building PipeCD components including Go modules and web static files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/contribution-guidelines/development.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nmake build/go\nmake build/web\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl installation\nDESCRIPTION: Command to check the installed pipectl version to ensure it's the latest version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher File Patterns in PipeCD\nDESCRIPTION: Advanced configuration showing how to specify which event watcher files should be monitored using include patterns. Useful when multiple Pipeds handle a single repository to prevent conflicts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  eventWatcher:\n    gitRepos:\n      - repoId: repo-1\n        commitMessage: Update values by Event watcher\n        includes:\n          - dev/*.yaml\n```\n\n----------------------------------------\n\nTITLE: Viewing pipectl Plan Preview Help Options\nDESCRIPTION: Command to display the help documentation for the plan-preview feature in pipectl, which shows additional options available for the command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This shell command creates a Google Cloud VM instance with a container running Piped directly, without remote upgrade capability. It uses the previously created service account and secret for configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Registering Helm Release Event\nDESCRIPTION: Command to register a new Helm chart version event using pipectl with labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Using Attached Configuration in Target Manifest\nDESCRIPTION: Example of how to reference attached configuration content in a target manifest file using template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Using the container Option with Bootstrap Popovers\nDESCRIPTION: JavaScript code showing how to initialize popovers with a specific container option. This is useful when parent element styles might interfere with the popover's appearance.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_1\n\nLANGUAGE: js\nCODE:\n```\n$(function () {\n  $('.example-popover').popover({\n    container: 'body'\n  })\n})\n```\n\n----------------------------------------\n\nTITLE: Creating Code Blocks with pre and code tags\nDESCRIPTION: Demonstration of using pre and code tags together to display multiple lines of code with proper HTML escaping. Can be made scrollable with .pre-scrollable class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/code.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<pre><code>&lt;p&gt;Sample text here...&lt;/p&gt;\n&lt;p&gt;And another line of sample text here...&lt;/p&gt;\n</code></pre>\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System for PipeCD\nDESCRIPTION: A Helm install parameter to enable the monitoring system for PipeCD during installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration file data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher using .pipe Directory (Deprecated)\nDESCRIPTION: Example of configuring event watcher in the .pipe/ directory to update Kubernetes manifests when a specific event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client via ASDF\nDESCRIPTION: Installs the PipeCD client using the ASDF version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart Installation\nDESCRIPTION: This command uninstalls PipeCD components that were installed using the quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Contexts using pipectl (Bash)\nDESCRIPTION: This command shows how to attach additional metadata (contexts) to an event. These contexts will be included in the git commit message, providing traceability from the source code repository to the manifest repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --contexts Source-Commit-Hash=xxxxxxx,Source-Commit-URL=https://github.com/pipe-cd/pipecd/commit/xxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Listing deployments for an application\nDESCRIPTION: Command to list deployments for a specific application based on filters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_21\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP File Archive Lambda Function in PipeCD\nDESCRIPTION: Sample function.yaml configuration for deploying a .zip file archive as a Lambda function. It specifies S3 bucket information for locating the Lambda code, along with handler, runtime, and other required configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the configuration for an AWS Lambda application in PipeCD. It specifies the API version, kind, and basic metadata including name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in .pipe Directory\nDESCRIPTION: Example configuration for EventWatcher using the deprecated .pipe directory method to update Kubernetes manifests when a specific event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Downloading pipectl Binary\nDESCRIPTION: Downloads the latest version of pipectl binary for a specified OS (darwin or linux) using curl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service\nDESCRIPTION: Command line instruction for starting the Piped service with a specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Service for Piped Task Management\nDESCRIPTION: JSON service definition to control Piped task deployment with parameters for scheduling strategy, launch type and network configuration. Ensures the Piped task is automatically restarted if stopped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_6\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1, # This must be 1.\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\", # This is need to enable ECS deployment to pull piped container images.\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: Command to forward local port 9082 to the ops service pod for accessing the project management interface. This enables access to the internal web page for project registration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuration File Reference in YAML\nDESCRIPTION: Reference to the default configuration file name used in PipeCD applications. This file contains application information and configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/concepts/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napp.pipecd.yaml\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for ClusterIP Services in Kubernetes\nDESCRIPTION: This snippet retrieves the application URL for ClusterIP services. It uses kubectl to get the pod name and sets up port forwarding to access the application locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/plugin/kubernetes/provider/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nexport POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l \"app.kubernetes.io/name={{ include \"testchart.name\" . }},app.kubernetes.io/instance={{ .Release.Name }}\" -o jsonpath=\"{.items[0].metadata.name}\")\necho \"Visit http://127.0.0.1:8080 to use your application\"\nkubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:80\n```\n\n----------------------------------------\n\nTITLE: Retrieving Kubernetes Application URL Based on Service Type\nDESCRIPTION: This Go template snippet provides conditional logic to determine and output the appropriate method for accessing a Kubernetes application URL. It handles Ingress, NodePort, LoadBalancer, and ClusterIP service types, using kubectl commands and environment variables to construct the URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/examples/local-modules/helm-charts/helloworld/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: go-template\nCODE:\n```\n{{- if .Values.ingress.enabled }}\n{{- range $host := .Values.ingress.hosts }}\n  {{- range .paths }}\n  http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ . }}\n  {{- end }}\n{{- end }}\n{{- else if contains \"NodePort\" .Values.service.type }}\n  export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath=\"{.spec.ports[0].nodePort}\" services {{ include \"helloworld.fullname\" . }})\n  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath=\"{.items[0].status.addresses[0].address}\")\n  echo http://$NODE_IP:$NODE_PORT\n{{- else if contains \"LoadBalancer\" .Values.service.type }}\n     NOTE: It may take a few minutes for the LoadBalancer IP to be available.\n           You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include \"helloworld.fullname\" . }}'\n  export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include \"helloworld.fullname\" . }} --template \"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}\")\n  echo http://$SERVICE_IP:{{ .Values.service.port }}\n{{- else if contains \"ClusterIP\" .Values.service.type }}\n  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l \"app.kubernetes.io/name={{ include \"helloworld.name\" . }},app.kubernetes.io/instance={{ .Release.Name }}\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:9085 to use your application\"\n  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 9085:80\n{{- end }}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Ops Service\nDESCRIPTION: Command to access PipeCD ops service through kubectl port-forward\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for internal use\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Basic Bootstrap Table Implementation\nDESCRIPTION: Basic table structure using Bootstrap's .table class with column headers and sample data rows.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/tables.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"table\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">First</th>\n      <th scope=\"col\">Last</th>\n      <th scope=\"col\">Handle</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th scope=\"row\">1</th>\n      <td>Mark</td>\n      <td>Otto</td>\n      <td>@mdo</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">2</th>\n      <td>Jacob</td>\n      <td>Thornton</td>\n      <td>@fat</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">3</th>\n      <td>Larry</td>\n      <td>the Bird</td>\n      <td>@twitter</td>\n    </tr>\n  </tbody>\n</table>\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for Event Watcher in PipeCD\nDESCRIPTION: Configuration for customizing the Git username and email used for commits made by the event watcher. This overrides the default values of 'piped' and 'pipecd.dev@gmail.com'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl using curl\nDESCRIPTION: This command downloads and installs the latest version of pipectl using curl. It fetches the binary from the GitHub releases page and makes it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipectl/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl -L https://github.com/pipe-cd/pipecd/releases/latest/download/pipectl_linux_amd64.tar.gz | tar xvz -C /tmp && sudo mv /tmp/pipectl /usr/local/bin\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: Example YAML showing how to update an application's name and team label through the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Adding Docsy Theme to Existing Hugo Site\nDESCRIPTION: These commands add the Docsy theme as a submodule to an existing Hugo site and configure it as the site's theme.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\ngit submodule add https://github.com/google/docsy.git themes/docsy\necho 'theme = \"docsy\"' >> config.toml\ngit submodule update --init --recursive\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart Installation\nDESCRIPTION: Removes the PipeCD installation that was set up using the quickstart mode. This command cleans up all components installed during the quickstart process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Previewing Hugo Site Locally in Bash\nDESCRIPTION: Commands to build and preview your Hugo site locally using the hugo server command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\ncd myproject\nhugo server\n```\n\n----------------------------------------\n\nTITLE: Defining PipeCD Configuration for Canary Deployment in Kubernetes with Istio\nDESCRIPTION: This YAML snippet configures the PipeCD pipeline for canary deployment, specifying stages for gradual rollout, traffic routing, approval, and cleanup using Istio for traffic management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          canary: 10\n          primary: 90\n      - name: WAIT_APPROVAL\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: K8S_CANARY_CLEAN\n  trafficRouting:\n    method: istio\n    istio:\n      host: mesh-istio-canary.default.svc.cluster.local\n```\n\n----------------------------------------\n\nTITLE: Deploying ECS Service Definition\nDESCRIPTION: Service definition for controlling Piped task deployment with Fargate launch type and network configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Disabling Data Attribute API in JavaScript\nDESCRIPTION: This snippet demonstrates how to disable the data attribute API for all Bootstrap plugins or for a specific plugin using jQuery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_0\n\nLANGUAGE: JavaScript\nCODE:\n```\n$(document).off('.data-api')\n```\n\nLANGUAGE: JavaScript\nCODE:\n```\n$(document).off('.alert.data-api')\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl installation (Console)\nDESCRIPTION: Checks the installed version of pipectl to ensure it's up-to-date.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Making pipectl executable\nDESCRIPTION: Command to make the pipectl binary executable after downloading.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf - Setting global version\nDESCRIPTION: Command to set a specific pipectl version as the global default with Asdf.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Google Cloud App Protocols for PipeCD Service\nDESCRIPTION: YAML configuration to set the Google Cloud app protocols annotation for the PipeCD service, enabling HTTP2 support.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for Ingress-Enabled Services in Kubernetes\nDESCRIPTION: This snippet generates the application URL when ingress is enabled. It iterates through the ingress hosts and paths to construct the URLs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/plugin/kubernetes/provider/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n{{- if .Values.ingress.enabled }}\n{{- range $host := .Values.ingress.hosts }}\n  {{- range .paths }}\n  http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ . }}\n  {{- end }}\n{{- end }}\n```\n\n----------------------------------------\n\nTITLE: Creating Tabbed Panes with tabpane and tab Shortcodes in Go HTML Template\nDESCRIPTION: This snippet shows how to create tabbed panes using the tabpane and tab shortcodes in Docsy. It includes an example of a multi-language 'Hello World' program display.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_9\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* tabpane langEqualsHeader=true */>}}\n  {{</* tab header=\"C\" */>}}\n#include <stdio.h>\n#include <stdlib.h>\n\nint main(void)\n{\n  puts(\"Hello World!\");\n  return EXIT_SUCCESS;\n}\n  {{</* /tab */>}}\n  {{</* tab header=\"C++\" */>}}\n#include <iostream>\n\nint main()\n{\n  std::cout << \"Hello World!\" << std::endl;\n}\n  {{</* /tab */>}}\n  // ... more tabs ...\n{{</* /tabpane */>}}\n```\n\n----------------------------------------\n\nTITLE: Implementing Section Block with Features\nDESCRIPTION: Creates a section containing multiple feature blocks with icons, titles, and content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_2\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{< blocks/section color=\"dark\" >}}\n{{% blocks/feature icon=\"fa-lightbulb\" title=\"Fastest OS **on the planet**!\" %}}\nThe new **TechOS** operating system is an open source project. It is a new project, but with grand ambitions.\nPlease follow this space for updates!\n{{% /blocks/feature %}}\n{{% blocks/feature icon=\"fab fa-github\" title=\"Contributions welcome!\" url=\"https://github.com/gohugoio/hugo\" %}}\nWe do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!\n{{% /blocks/feature %}}\n{{% blocks/feature icon=\"fab fa-twitter\" title=\"Follow us on Twitter!\" url=\"https://twitter.com/GoHugoIO\" %}}\nFor announcement of latest features etc.\n{{% /blocks/feature %}}\n{{< /blocks/section >}}\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Pagination Navigation in HTML\nDESCRIPTION: This example demonstrates a basic pagination component with previous/next links and numbered pages. It uses proper semantic HTML with the nav element and appropriate ARIA labels for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination\">\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Previous</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">Next</a></li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Getting application information\nDESCRIPTION: Command to retrieve and display information about a specific application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_17\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Accessing pprof Index Page in Piped\nDESCRIPTION: Demonstrates how to access the pprof index page which lists all available profiling data. This endpoint provides an overview of profiling options in Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Implementing Dropdown Form Component\nDESCRIPTION: HTML structure for a form within a dropdown menu, including email and password inputs with remember me checkbox.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_11\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown-menu\">\n  <form class=\"px-4 py-3\">\n    <div class=\"form-group\">\n      <label for=\"exampleDropdownFormEmail1\">Email address</label>\n      <input type=\"email\" class=\"form-control\" id=\"exampleDropdownFormEmail1\" placeholder=\"email@example.com\">\n    </div>\n    <div class=\"form-group\">\n      <label for=\"exampleDropdownFormPassword1\">Password</label>\n      <input type=\"password\" class=\"form-control\" id=\"exampleDropdownFormPassword1\" placeholder=\"Password\">\n    </div>\n    <div class=\"form-group\">\n      <div class=\"form-check\">\n        <input type=\"checkbox\" class=\"form-check-input\" id=\"dropdownCheck\">\n        <label class=\"form-check-label\" for=\"dropdownCheck\">\n          Remember me\n        </label>\n      </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\">Sign in</button>\n  </form>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Mounting Datadog Key Files in Helm Installation of PipeCD\nDESCRIPTION: This snippet shows the Helm command for mounting Datadog API and application key files during the PipeCD installation or upgrade process. It uses the --set-file option to specify the paths to the key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Implementing a Card Deck with Footers in Bootstrap\nDESCRIPTION: This example shows how to create a card deck with footers. Similar to card groups, the footers in a card deck will automatically line up, maintaining a consistent layout across all cards in the deck.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_12\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card-deck\">\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This card has supporting text below as a natural lead-in to additional content.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Rendering Canary Deployment Flow Before Deployment\nDESCRIPTION: A mermaid flowchart showing the initial state before canary deployment. It displays how an ECS service connects to tasks through Service Discovery with equal traffic distribution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_0\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v1]\n            1b[Task v1]\n        end\n    end\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher using .pipe directory (Deprecated)\nDESCRIPTION: YAML configuration for event watcher that defines how to update Kubernetes manifests when specific events occur. This method is deprecated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store\nDESCRIPTION: This Bash command stores the Piped configuration file as a secure string parameter in AWS Systems Manager Parameter Store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Running Piped from Command Line\nDESCRIPTION: Command to start running the Piped service using the previously configured YAML file. The command requires specifying the path to the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface\nDESCRIPTION: Command to expose PipeCD web interface locally using kubectl port-forward.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Waiting for Deployment Status\nDESCRIPTION: Waits for a deployment to reach specified status\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Installing Piped on OpenShift < 4.2 using Helm\nDESCRIPTION: This Helm command installs Piped on OpenShift versions before 4.2, using a specific image to handle arbitrary user IDs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\n# This command just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data\n```\n\n----------------------------------------\n\nTITLE: Accessing Pprof Index Page in Piped\nDESCRIPTION: This command accesses the pprof index page, which lists available profiling data. It uses curl to send a GET request to the /debug/pprof/ endpoint on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with asdf plugin\nDESCRIPTION: Adds the pipectl plugin to asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Access\nDESCRIPTION: Command to access PipeCD ops interface locally for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Basic Piped on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running the Piped container directly. This approach doesn't support remote upgrades, requiring manual restarts for version upgrades or configuration changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n# This just installs a Piped with the specified version.\n# Whenever you want to upgrade that Piped to a new version or update its config data you have to restart it.\n\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Provider Feature Status Table\nDESCRIPTION: Lists features and their maturity phases for Kubernetes provider in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/feature-status/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Feature | Phase |\n|-|-|\n| Quick sync deployment | Beta |\n| Deployment with a defined pipeline (e.g. canary, analysis) | Beta |\n| [Automated rollback](../user-guide/managing-application/rolling-back-a-deployment/) | Beta |\n| [Automated configuration drift detection](../user-guide/managing-application/configuration-drift-detection/) | Beta |\n| [Application live state](../user-guide/managing-application/application-live-state/) | Beta |\n| Support Helm | Beta |\n| Support Kustomize | Beta |\n| Support Istio service mesh | Beta |\n| Support SMI service mesh | Incubating |\n| Support [AWS App Mesh](https://aws.amazon.com/app-mesh/) | Incubating |\n| [Plan preview](../user-guide/plan-preview) | Beta |\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings in Piped YAML\nDESCRIPTION: This YAML configuration shows how to customize the Git user settings for Piped. It specifies a custom username and email to be used for Git commits.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Enabling Bootstrap Tooltip Using jQuery\nDESCRIPTION: Shows how to enable tooltip functionality on an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('enable')\n```\n\n----------------------------------------\n\nTITLE: Basic Toast Implementation in HTML\nDESCRIPTION: Basic implementation of a Bootstrap toast notification with header and body sections. Includes an image placeholder, title, timestamp, and dismiss button.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">\n  <div class=\"toast-header\">\n    <img src=\"...\" class=\"rounded mr-2\" alt=\"...\">\n    <strong class=\"mr-auto\">Bootstrap</strong>\n    <small>11 mins ago</small>\n    <button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"toast-body\">\n    Hello, world! This is a toast message.\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Additional Context Metadata\nDESCRIPTION: Bash command for pushing a new event with context metadata to the PipeCD Control Plane. This metadata will be included in the git commit message when the event triggers updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=sample \\\n    --data=gcr.io/pipecd/helloworld:v0.48.0 \\\n    --contexts Source-Commit-Hash=xxxxxxx,Source-Commit-URL=https://github.com/pipe-cd/pipecd/commit/xxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Exposing PipeCD Control Plane with Port Forwarding\nDESCRIPTION: Command to expose the PipeCD Control Plane service running in Kubernetes to localhost using port forwarding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: Command to run plan-preview using the pipectl CLI tool. It requires specifying the PipeCD control plane address, API key, repository URL, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for Kubernetes Services using Go Templates and Bash\nDESCRIPTION: This snippet provides conditional logic to retrieve the application URL based on the Kubernetes service type and ingress configuration. It handles Ingress, NodePort, LoadBalancer, and ClusterIP scenarios, using Go templating for dynamic value insertion and Bash commands for execution.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/piped/platformprovider/kubernetes/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: go-template\nCODE:\n```\n{{- if .Values.ingress.enabled }}\n{{- range $host := .Values.ingress.hosts }}\n  {{- range .paths }}\n  http{{ if $.Values.ingress.tls }}s{{ end }}://{{ $host.host }}{{ . }}\n  {{- end }}\n{{- end }}\n{{- else if contains \"NodePort\" .Values.service.type }}\n  export NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath=\"{.spec.ports[0].nodePort}\" services {{ include \"testchart.fullname\" . }})\n  export NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath=\"{.items[0].status.addresses[0].address}\")\n  echo http://$NODE_IP:$NODE_PORT\n{{- else if contains \"LoadBalancer\" .Values.service.type }}\n     NOTE: It may take a few minutes for the LoadBalancer IP to be available.\n           You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include \"testchart.fullname\" . }}'\n  export SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include \"testchart.fullname\" . }} --template \"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}\")\n  echo http://$SERVICE_IP:{{ .Values.service.port }}\n{{- else if contains \"ClusterIP\" .Values.service.type }}\n  export POD_NAME=$(kubectl get pods --namespace {{ .Release.Namespace }} -l \"app.kubernetes.io/name={{ include \"testchart.name\" . }},app.kubernetes.io/instance={{ .Release.Name }}\" -o jsonpath=\"{.items[0].metadata.name}\")\n  echo \"Visit http://127.0.0.1:8080 to use your application\"\n  kubectl --namespace {{ .Release.Namespace }} port-forward $POD_NAME 8080:80\n{{- end }}\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome 5 using npm\nDESCRIPTION: Command to install the @fortawesome/fontawesome-free package using npm. This will add the package to your project's dependencies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/fontawesome-free/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm i --save @fortawesome/fontawesome-free\n```\n\n----------------------------------------\n\nTITLE: Adding pipectl Plugin to Asdf\nDESCRIPTION: Command to add the pipectl plugin to the Asdf version manager if not already added.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nasdf add plugin pipectl\n```\n\n----------------------------------------\n\nTITLE: Git Commit Message with Contexts (Bash)\nDESCRIPTION: This snippet shows an example git commit message that includes context information from the registered event. The commit includes metadata about the source commit hash and URL that triggered the update.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\n# In manifest repository\n$ git show                                                                        \ncommit ff46cdc9a3ce87a9a66436269251a4870ac55183 (HEAD -> main, origin/main, origin/HEAD)\nAuthor: ffjlabo <pipecd.dev@gmail.com>\nDate:   Wed Oct 30 16:56:36 2024 +0900\n\n    Replace values with \"gcr.io/pipecd/helloworld:v0.48.0\" set by Event \"simple\"\n\n    Source-Commit-Hash: xxxxxxx\n    Source-Commit-URL: https://github.com/pipe-cd/pipecd/commit/xxxxxxx\n```\n\n----------------------------------------\n\nTITLE: Disabling an Application with pipectl\nDESCRIPTION: Disables a specific application using its ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store\nDESCRIPTION: This bash command stores the Piped configuration as a secure string parameter in AWS Systems Manager Parameter Store. The configuration is base64 encoded before storage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: AWS ECS CLI Commands for Deployment\nDESCRIPTION: Commands to register task definition and create ECS service for Piped deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: Command to forward local port 9082 to the PipeCD ops service pod for accessing the project management interface.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Initializing AWS SAM Project\nDESCRIPTION: Creates a new AWS Serverless Application Model (SAM) project in the current directory using the SAM CLI initialization command. This sets up the basic project structure and required configuration files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/examples/lambda/custom-sync-sam/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsam init\n```\n\n----------------------------------------\n\nTITLE: Cloning and Serving Docsy User Guide Locally\nDESCRIPTION: Commands to clone the Docsy repository, navigate to the user guide directory, and serve the documentation locally using Hugo.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngit clone --recurse-submodules --depth 1 https://github.com/google/docsy.git\ncd docsy/userguide/\nhugo server --themesDir ../..\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition for Piped\nDESCRIPTION: JSON service definition for controlling Piped task deployment with specific deployment configuration and network settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Viewing pipectl Plan Preview Help in Console\nDESCRIPTION: Command to display help information for the plan-preview command in pipectl. This provides details on all available options for the command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config (Console)\nDESCRIPTION: Interactive command to generate an app.pipecd.yaml configuration file using the pipectl init command. This example demonstrates creating a config for an ECS application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_19\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init\nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Media Object in HTML\nDESCRIPTION: This snippet demonstrates the basic structure of a media object using Bootstrap classes. It includes a placeholder image and text content within a flexbox layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/media-object.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"media\">\n  {{< placeholder width=\"64\" height=\"64\" class=\"mr-3\" >}}\n  <div class=\"media-body\">\n    <h5 class=\"mt-0\">Media heading</h5>\n    <p>Will you do the same for me? It's time to face the music I'm no longer your muse. Heard it's beautiful, be the judge and my girls gonna take a vote. I can feel a phoenix inside of me. Heaven is jealous of our love, angels are crying from up above. Yeah, you take me to utopia.</p>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing Web Dependencies for PipeCD Development\nDESCRIPTION: Command to update web dependencies required for PipeCD Control Plane development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nmake update/web-deps\n```\n\n----------------------------------------\n\nTITLE: Updating Application Configuration in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to update an application's configuration in PipeCD. It shows how to change the application name and team label using the application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AppKind\nspec:\n  name: new-name\n  labels:\n    team: new-team\n```\n\n----------------------------------------\n\nTITLE: Building Docker image for Docsy site\nDESCRIPTION: This command builds the Docker image for the Docsy site using Docker Compose. It uses the Dockerfile provided in the docsy-example repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/quickstart-docker.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ndocker-compose build\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart\nDESCRIPTION: This command uninstalls PipeCD components that were installed in quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Running Docker container for Docsy site\nDESCRIPTION: This command runs the built Docker image using Docker Compose, which starts the Docsy site container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/quickstart-docker.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ndocker-compose up\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Installation\nDESCRIPTION: This YAML configuration file sets up Piped with project details, API address, Git repository information, and optional platform providers for Cloud Run and Terraform. It also includes a section for secret management setup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped Service to Cloud Run\nDESCRIPTION: Command to deploy the Piped service to Google Cloud Run using the previously created service manifest file. This creates or updates the Cloud Run service with the specified configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ngcloud beta run services replace cloudrun-piped-service.yaml\n```\n\n----------------------------------------\n\nTITLE: Custom Box-Sizing CSS Override\nDESCRIPTION: CSS snippet to override Bootstrap's default border-box sizing for specific elements when needed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_6\n\nLANGUAGE: css\nCODE:\n```\n.selector-for-some-widget {\n  box-sizing: content-box;\n}\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Executable\nDESCRIPTION: Makes the downloaded pipectl binary executable\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Displaying Help for Plan Preview Command in Console\nDESCRIPTION: This command shows the help information for the plan-preview subcommand of pipectl, providing details on available options and usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Accessing Pprof Index Page\nDESCRIPTION: Command to access the pprof index page that lists available profiling data through the debug endpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal PipeCD use.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Syncing an application (with wait)\nDESCRIPTION: Command to sync an application and wait until the deployment reaches a specified status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_16\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Basic JavaScript Popover Initialization\nDESCRIPTION: JavaScript code showing the most basic way to initialize a popover on an element with the ID 'example'. This method allows passing custom options to the popover.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_7\n\nLANGUAGE: js\nCODE:\n```\n$('#example').popover(options)\n```\n\n----------------------------------------\n\nTITLE: HTML Form Group Row Structure\nDESCRIPTION: Example of new form group structure using row class for horizontal layouts in Bootstrap 4\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"form-group row\">\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in Docker container\nDESCRIPTION: Command to run pipectl in a Docker container, pulling the image from GitHub Container Registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Using jq with SR_CONTEXT_RAW in SCRIPT_RUN stage\nDESCRIPTION: Example showing how to extract deployment information using jq from the SR_CONTEXT_RAW environment variable. This demonstrates accessing structured deployment data within scripts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            echo \"Get deploymentID from SR_CONTEXT_RAW\"\n            echo $SR_CONTEXT_RAW | jq -r '.deploymentID'\n            sleep 10\n          onRollback: |\n            echo \"rollback script-run\"\n```\n\n----------------------------------------\n\nTITLE: Reordering Media Object Content in HTML\nDESCRIPTION: This example shows how to change the order of content in a media object by modifying the HTML structure. The image is placed after the text content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/media-object.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"media\">\n  <div class=\"media-body\">\n    <h5 class=\"mt-0 mb-1\">Media object</h5>\n    <p>I know there will be sacrifice but that's the price. Are you brave enough to let me see your peacock? Be your teenage dream tonight. Uh-huh, I see you. There's no going back. Yeah, we maxed our credit cards and got kicked out of the bar. So let me get you in your birthday suit. You may fall in love when you meet her. Had the world in the palm of your hands. Don't let the greatness get you down, oh, oh yeah. Now we talking astrology, getting our nails did, all Japanese-y. Make me your Aphrodite.</p>\n  </div>\n  {{< placeholder width=\"64\" height=\"64\" class=\"ml-3\" >}}\n</div>\n```\n\n----------------------------------------\n\nTITLE: Feature Phase Definitions Table in Markdown\nDESCRIPTION: Defines the maturity phases used throughout PipeCD, including Incubating, Alpha, Beta, and Stable phases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/feature-status/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Phase | Definition |\n|-|-|\n| Incubating | Under planning/developing the prototype and still not ready to be used. |\n| Alpha | Demo-able, works end-to-end but has limitations. No guarantees on backward compatibility. |\n| Beta | **Usable in production**. Documented. |\n| Stable | Production hardened. Backward compatibility. Documented. |\n```\n\n----------------------------------------\n\nTITLE: Grid-based Card Layout\nDESCRIPTION: Shows how to arrange cards using Bootstrap's grid system for responsive layouts\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"row\">\n  <div class=\"col-sm-6\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Special title treatment</h5>\n        <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n        <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n      </div>\n    </div>\n  </div>\n  <div class=\"col-sm-6\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Special title treatment</h5>\n        <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n        <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Feature Phase Definitions Table in Markdown\nDESCRIPTION: Defines the different maturity phases used to classify PipeCD features, including Incubating, Alpha, Beta, and Stable phases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/feature-status/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Phase | Definition |\n|-|-|\n| Incubating | Under planning/developing the prototype and still not ready to be used. |\n| Alpha | Demo-able, works end-to-end but has limitations. No guarantees on backward compatibility. |\n| Beta | **Usable in production**. Documented. |\n| Stable | Production hardened. Backward compatibility. Documented. |\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in YAML (Deprecated)\nDESCRIPTION: This snippet shows the structure for configuring an event watcher in PipeCD, which is now deprecated. It includes fields for specifying the event name and defining replacements based on file paths and YAML fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Managing External Binary Dependencies in Piped Configuration\nDESCRIPTION: Configuration example showing how to manage external binary dependencies in a Piped configuration file, including version specification and installation scripts for tools like AWS SAM CLI.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0010-custom-stage.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  externalBinaries:\n    - command: \"sam\"\n      version: 1.7.3\n      installScript: |\n        wget https://github.com/aws/aws-sam-cli/releases/download/v{{ .Version }}/aws-sam-cli-macos-arm64.pkg\n        echo {{ .encryptedSecrets.password }} | sudo -S installer -pkg aws-sam-cli-macos-arm64.pkg -target {{ .BinDir }}\n        mv sam sam-{{ .Version }}\n```\n\n----------------------------------------\n\nTITLE: Running pipectl via Docker\nDESCRIPTION: Command to run pipectl using Docker container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring\nDESCRIPTION: Configuration command to enable cluster-wide metrics tracking in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with asdf (Console)\nDESCRIPTION: Uses the asdf version manager to install and set up pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nasdf add plugin pipectl\nasdf install pipectl {VERSION}\nasdf global pipectl {VERSION}\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Applying AlertManager Configuration with Helm\nDESCRIPTION: Command to apply custom AlertManager configuration when installing PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Defining Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio DestinationRule that creates subsets for primary and canary variants of the application, used for traffic routing in canary deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Using pipectl event register command for Deployment Trace\nDESCRIPTION: This command allows developers to register events with commit information to trace deployments. It requires at least the commit hash and URL parameters to enable the Deployment Trace feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/deployment-trace.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  pipectl event register [flags]\n\nFlags:\n      --commit-author string      The author of commit that triggers the event.\n      --commit-hash string        The commit hash that triggers the event.\n      --commit-message string     The message of commit that triggers the event.\n      --commit-timestamp int      The timestamp of commit that triggers the event.\n      --commit-title string       The title of commit that triggers the event.\n      --commit-url string         The URL of commit that triggers the event.\n```\n\n----------------------------------------\n\nTITLE: Helm Installation Command for Datadog Key Files\nDESCRIPTION: Command line example showing how to mount Datadog API and application key files during Helm installation using --set-file parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.datadog-api-key={PATH_TO_API_KEY_FILE} \\\n--set-file secret.data.datadog-application-key={PATH_TO_APPLICATION_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Web Access\nDESCRIPTION: Command to set up port forwarding for accessing PipeCD web interface locally\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service\nDESCRIPTION: Command to start the Piped service using a specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Implementing Bootstrap Tooltip on Disabled Element\nDESCRIPTION: This example shows how to add a tooltip to a disabled button by wrapping it in a span with tabindex and overriding pointer-events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"d-inline-block\" tabindex=\"0\" data-toggle=\"tooltip\" title=\"Disabled tooltip\">\n  <button class=\"btn btn-primary\" style=\"pointer-events: none;\" type=\"button\" disabled>Disabled button</button>\n</span>\n```\n\n----------------------------------------\n\nTITLE: Terraform Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Terraform application configuration file in PipeCD. This defines the application type as TerraformApp and includes placeholders for the input and pipeline sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Initializing Scrollspy via JavaScript\nDESCRIPTION: This JavaScript snippet shows how to initialize scrollspy functionality on the body element using jQuery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\n$('body').scrollspy({ target: '#navbar-example' })\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with Dropdowns in Bootstrap\nDESCRIPTION: Example of a navbar with dropdown menu integration. Shows proper nesting of elements for positioning, with separate elements for .nav-item and .nav-link to accommodate the dropdown functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavDropdown\" aria-controls=\"navbarNavDropdown\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarNavDropdown\">\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Features</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Pricing</a>\n      </li>\n      <li class=\"nav-item dropdown\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdownMenuLink\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          Dropdown link\n        </a>\n        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\n          <a class=\"dropdown-item\" href=\"#\">Action</a>\n          <a class=\"dropdown-item\" href=\"#\">Another action</a>\n          <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n        </div>\n      </li>\n    </ul>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Triggering application sync with pipectl\nDESCRIPTION: Sends a request to sync an application and exits immediately after the deployment is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Executable\nDESCRIPTION: Command to make the downloaded pipectl binary executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD ECS Application with Attachment Feature\nDESCRIPTION: Application configuration for an ECS application that uses the attachment feature. It specifies config.yaml as a source with the reference name 'config' and taskdef.yaml as the target where the attachment will be applied.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Creating Responsive Layouts with Bootstrap Grid in HTML\nDESCRIPTION: This example demonstrates how to create responsive layouts using Bootstrap's grid system. It shows both equal-width columns and specifically sized columns across all breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">col</div>\n    <div class=\"col\">col</div>\n    <div class=\"col\">col</div>\n    <div class=\"col\">col</div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-8\">col-8</div>\n    <div class=\"col-4\">col-4</div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing Hugo on Linux\nDESCRIPTION: These commands download and install the latest extended version of Hugo on a Linux system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nmkdir hugo\ncd hugo\nsudo install hugo /usr/bin\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Configuration\nDESCRIPTION: Example of configuring event watcher directly in the application configuration file using the recommended approach.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Viewing Plan Preview Help Documentation\nDESCRIPTION: Command to display help information for the plan-preview feature in pipectl. This provides additional options and detailed usage instructions for the plan-preview command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in PipeCD\nDESCRIPTION: Basic configuration structure for a Kubernetes application deployment in PipeCD, including API version and kind specification.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication in Piped Configuration\nDESCRIPTION: This snippet demonstrates how to add an OCI registry for Helm charts to the piped configuration file, including authentication credentials. This is required when using Helm charts from OCI registries with authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Waiting for a Specific Deployment Status\nDESCRIPTION: This command waits until a given deployment reaches a specified status. It requires the Control Plane API address, API key, deployment ID, and the desired status to wait for.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration for Private Repositories\nDESCRIPTION: This console command demonstrates how to install the piped agent with Helm, providing necessary configuration files including a private SSH key for accessing private Git repositories.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane Version\nDESCRIPTION: Helm command to upgrade the PipeCD Control Plane to a new version, maintaining the same configuration and credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Toggling Modal via JavaScript\nDESCRIPTION: This JavaScript snippet demonstrates how to manually toggle a modal's visibility using the 'toggle' method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal('toggle')\n```\n\n----------------------------------------\n\nTITLE: Setting Global pipectl Version with Asdf\nDESCRIPTION: Command to set a specific pipectl version as the global default using Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings in Piped YAML\nDESCRIPTION: This YAML snippet shows how to customize the Git user settings for Piped. It specifies a custom username and email to be used for Git commits made by the EventWatcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring in Helm Installation\nDESCRIPTION: This command enables cluster-wide metrics tracking during Helm installation by setting the monitoring.clusterStats flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Waiting for a Deployment to Reach a Specific Status\nDESCRIPTION: Command to wait until a specific deployment reaches the 'DEPLOYMENT_SUCCESS' status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_18\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment wait-status \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --deployment-id={DEPLOYMENT_ID} \\\n    --status=DEPLOYMENT_SUCCESS\n```\n\n----------------------------------------\n\nTITLE: Showing Modal via JavaScript\nDESCRIPTION: This JavaScript snippet shows how to manually open a modal using the 'show' method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal('show')\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: This YAML snippet shows how to configure the piped agent to use the pipe-cd/examples GitHub repository as a deployment source. It specifies the repository ID, remote URL, and branch to monitor for changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Creating MySQL Instance with Docker for PipeCD Migration\nDESCRIPTION: Docker command to create a MySQL 8.0 instance for the migration target. It configures the root password and initializes the database with the specified name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/migrate-control-plane-datastore-to-mysql.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ docker run -d \\\n    --name test-db \\\n    -e MYSQL_ROOT_PASSWORD=XXX \\\n    -e MYSQL_DATABASE=*database-name* \\\n    mysql:8.0\n```\n\n----------------------------------------\n\nTITLE: Creating Pagination with Icon Indicators in HTML\nDESCRIPTION: This example shows how to implement pagination with icon indicators ( and ) for previous and next navigation while maintaining accessibility using aria-label and aria-hidden attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination\">\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\" aria-label=\"Previous\">\n        <span aria-hidden=\"true\">&laquo;</span>\n      </a>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\" aria-label=\"Next\">\n        <span aria-hidden=\"true\">&raquo;</span>\n      </a>\n    </li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Free Solid Icons with NPM\nDESCRIPTION: Command to install the @fortawesome/free-solid-svg-icons package using NPM package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-solid-svg-icons/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm i --save @fortawesome/free-solid-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Using Custom Values File with Helm Install\nDESCRIPTION: Helm command to use a custom values YAML file when installing PipeCD Control plane, particularly for AlertManager configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Changing directory to Docsy example project in Bash\nDESCRIPTION: This command changes the current working directory to the newly created docsy-example folder after cloning the repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/quickstart-docker.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncd docsy-example\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in PipeCD (YAML)\nDESCRIPTION: This YAML snippet demonstrates how to configure an EventWatcher in PipeCD. It defines an event named 'helloworld-image-update' and specifies a replacement rule for updating a container image in a Kubernetes deployment file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager to store the Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Theme Colors Map Addition\nDESCRIPTION: Example of adding new colors to the theme colors map\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_6\n\nLANGUAGE: scss\nCODE:\n```\n$theme-colors: (\n  \"custom-color\": #900\n);\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally\nDESCRIPTION: Command for running Piped agent locally with a configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/contribution-guidelines/development.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Service for Canary Deployment\nDESCRIPTION: Basic Kubernetes Service configuration that routes traffic based on pod selector labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Retrieving Execution Trace from Piped\nDESCRIPTION: This command retrieves the execution trace data from Piped and saves it to a file named trace.out. It uses curl to send a GET request to the /debug/pprof/trace endpoint on the local Piped admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring in PipeCD\nDESCRIPTION: This Helm install option enables cluster-wide metrics tracking for PipeCD. It sets the 'monitoring.clusterStats' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Release Note Block in Markdown\nDESCRIPTION: A markdown code block indicating no user-facing changes in the release notes\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/git/testdata/log.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n```release-note\nNONE\n```\n```\n\n----------------------------------------\n\nTITLE: Defining Metadata for PipeCD Documentation in Markdown\nDESCRIPTION: This code snippet defines the metadata for the PipeCD documentation page. It specifies the title, link title, and type of the document using YAML front matter in a Markdown file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.43.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Disabling Bootstrap Popover\nDESCRIPTION: JavaScript method to disable a Bootstrap popover element\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('disable')\n```\n\n----------------------------------------\n\nTITLE: Practical Example of Text-Hide with Background Image\nDESCRIPTION: This HTML example demonstrates a practical use of the .text-hide class combined with inline CSS to replace text with a background image. It includes specific dimensions and an image URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/image-replacement.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<h1 class=\"text-hide\" style=\"background-image: url('...');\">Bootstrap</h1>\n```\n\n----------------------------------------\n\nTITLE: Running pipectl Docker Image\nDESCRIPTION: This command shows how to run the pipectl Docker image, which is stored on Google Cloud Container Registry. It allows users to execute pipectl commands without local installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: docker\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to PATH\nDESCRIPTION: Command to move the pipectl binary to a directory in your PATH for system-wide access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: JavaScript Dropdown Initialization\nDESCRIPTION: JavaScript code to initialize dropdown functionality using jQuery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n$('.dropdown-toggle').dropdown()\n```\n\n----------------------------------------\n\nTITLE: Customizing Breadcrumb Separator with SCSS\nDESCRIPTION: Shows how to modify the breadcrumb separator using SCSS variables. Includes examples for changing the separator to a custom character, using a base64 embedded SVG icon, or removing the separator entirely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/breadcrumb.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n$breadcrumb-divider: quote(\">\");\n```\n\nLANGUAGE: scss\nCODE:\n```\n$breadcrumb-divider: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPjxwYXRoIGQ9Ik0yLjUgMEwxIDEuNSAzLjUgNCAxIDYuNSAyLjUgOGw0LTQtNC00eiIgZmlsbD0iY3VycmVudENvbG9yIi8+PC9zdmc+);\n```\n\nLANGUAGE: scss\nCODE:\n```\n$breadcrumb-divider: none;\n```\n\n----------------------------------------\n\nTITLE: Implementing Card Panes with cardpane and card Shortcodes in Go HTML Template\nDESCRIPTION: This snippet demonstrates the use of cardpane and card shortcodes in Docsy to create card-like elements for displaying content. It includes an example showing information about US Presidents.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_10\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* cardpane */>}}\n{{</* card header=\"**George Washington**\" title=\"*1732 &nbsp;&nbsp;&nbsp; 1799\" subtitle=\"**President:** 1789  1797\" footer=\"![SignatureGeorgeWashington](https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/George_Washington_signature.svg/320px-George_Washington_signature.svg.png \\\"Signature George Washington\\\")\" */>}}\n![PortraitGeorgeWashington](https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Gilbert_Stuart_Williamstown_Portrait_of_George_Washington.jpg/633px-Gilbert_Stuart_Williamstown_Portrait_of_George_Washington.jpg \"Portrait George Washington\")\n{{</* /card */>}}\n// ... more cards ...\n{{</* /cardpane */>}}\n```\n\n----------------------------------------\n\nTITLE: Accessing Grafana with Port Forwarding\nDESCRIPTION: Command to access the Grafana dashboard by setting up port forwarding to the Grafana service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in Application Configuration\nDESCRIPTION: Example of defining event watcher with labels in an application configuration file, allowing for targeted event handling based on specific label combinations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ApplicationKind\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Task with Remote-upgrade Feature for ECS Fargate\nDESCRIPTION: This JSON defines a task definition for Piped with remote-upgrade feature enabled. It uses the launcher image and retrieves the configuration from AWS Secrets Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ],\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: Collecting CPU Profile from Piped\nDESCRIPTION: Shows how to capture CPU profiling data and analyze it using the pprof tool. This provides insights into CPU usage and performance bottlenecks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Registering an Event for EventWatcher with pipectl\nDESCRIPTION: This snippet demonstrates how to register an event that can be used by EventWatcher using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for PipeCD\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for internal use in PipeCD, particularly for GKE Ingress.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application to Use Helm Chart Repository\nDESCRIPTION: This snippet demonstrates how to configure a Kubernetes application to load a chart from a specific chart repository for deployment execution, referencing the repository configured in the piped configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Application configuration file.\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    # Helm chart sourced from a Helm Chart Repository.\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode on Kubernetes. It disables the default Kubernetes cloud provider and sets the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Port forwarding PipeCD console\nDESCRIPTION: Sets up port forwarding to access the PipeCD console after installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Retrieving Configuration Files from S3 for PipeCD in ECS\nDESCRIPTION: This script installs the AWS CLI and uses it to download PipeCD control plane configuration files from a private S3 bucket for use in an ECS environment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0009-control-plane-without-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n# get configuration files from private S3 bucket via aws-cli\napk add aws-cli\naws s3 cp s3://namba-pipecd-control-plane-config/control-plane-config.yaml ./\n```\n\n----------------------------------------\n\nTITLE: Disposing Bootstrap Tooltip Using jQuery\nDESCRIPTION: Demonstrates how to destroy and remove a tooltip from an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('dispose')\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Homebrew - Adding tap\nDESCRIPTION: Commands to add the PipeCD tap to Homebrew and update the formulae list.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\nbrew tap pipe-cd/tap\nbrew update\n```\n\n----------------------------------------\n\nTITLE: Tab Event Handling Example\nDESCRIPTION: Example of handling tab events to execute code when tabs are shown or hidden. Shows how to access the target and related target elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n$('a[data-toggle=\"list\"]').on('shown.bs.tab', function (event) {\n  event.target // newly activated tab\n  event.relatedTarget // previous active tab\n})\n```\n\n----------------------------------------\n\nTITLE: Using Color YIQ Function in SCSS\nDESCRIPTION: This snippet shows how to use the color-yiq function in Bootstrap 4. It returns a color value based on the input color, allowing for dynamic text color adjustment based on background color.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_2\n\nLANGUAGE: scss\nCODE:\n```\ncolor: color-yiq(#000);\n```\n\n----------------------------------------\n\nTITLE: Listing deployments\nDESCRIPTION: Shows a list of deployments based on specified filters like application ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_21\n\nLANGUAGE: console\nCODE:\n```\npipectl deployment list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Stats Monitoring\nDESCRIPTION: Command to enable cluster-wide metrics tracking in PipeCD monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Loading Bootstrap CSS via CDN\nDESCRIPTION: Adds the Bootstrap CSS stylesheet to your page via jsDelivr CDN. Must be placed in the head section before other stylesheets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<link rel=\"stylesheet\" href=\"{{< param \"cdn.css\" >}}\" integrity=\"{{< param \"cdn.css_hash\" >}}\" crossorigin=\"anonymous\">\n```\n\n----------------------------------------\n\nTITLE: Justify Content Examples\nDESCRIPTION: Demonstrates different justify-content utilities for aligning flex items along the main axis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex justify-content-start\">...</div>\n<div class=\"d-flex justify-content-end\">...</div>\n<div class=\"d-flex justify-content-center\">...</div>\n<div class=\"d-flex justify-content-between\">...</div>\n<div class=\"d-flex justify-content-around\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Disabling Default Taxonomies in Hugo Config\nDESCRIPTION: TOML configuration to disable default taxonomies in Hugo. This is the default setting in Docsy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/taxonomy.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\ndisableKinds = [\"taxonomy\", \"taxonomyTerm\"]\n```\n\n----------------------------------------\n\nTITLE: Git Commit Sign-off Command\nDESCRIPTION: Command to sign off commits for PipeCD contributions in accordance with the Developer Certificate of Origin (DCO) requirements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/contribution-guidelines/contributing.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit commit -s\n```\n\n----------------------------------------\n\nTITLE: Configuring Helm Chart Registry with Authentication\nDESCRIPTION: Configuration example for adding an authenticated OCI registry to the Piped configuration file. Includes registry address and authentication credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-helm-chart-repository-or-registry.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n# piped configuration file\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  chartRegistries:\n    - type: OCI\n      address: registry.example.com\n      username: sample-username\n      password: sample-password\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Labels using pipectl\nDESCRIPTION: Command to register an event with specific labels to match the event watcher configuration, ensuring that only the appropriate files are updated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Basic PipeCD Helm Deployment\nDESCRIPTION: Basic Helm command to deploy PipeCD with custom security context and disabled default Kubernetes cloud provider. This configuration requires manual restarts when config changes are needed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade the PipeCD Control Plane to a new version. Uses the same configuration as installation but specifies a different version number.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Carousel with JavaScript\nDESCRIPTION: This JavaScript snippet demonstrates how to initialize a Bootstrap carousel using JavaScript. It selects all elements with the 'carousel' class and applies the carousel functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n$('.carousel').carousel()\n```\n\n----------------------------------------\n\nTITLE: Customizing Bootstrap Sanitizer Whitelist in JavaScript\nDESCRIPTION: This code demonstrates how to add new values to the default whitelist used by Bootstrap's sanitizer, including custom elements and attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_10\n\nLANGUAGE: JavaScript\nCODE:\n```\nvar myDefaultWhiteList = $.fn.tooltip.Constructor.Default.whiteList\n\n// To allow table elements\nmyDefaultWhiteList.table = []\n\n// To allow td elements and data-option attributes on td elements\nmyDefaultWhiteList.td = ['data-option']\n\n// You can push your custom regex to validate your attributes.\n// Be careful about your regular expressions being too lax\nvar myCustomRegex = /^data-my-app-[\\w-]+/\nmyDefaultWhiteList['*'].push(myCustomRegex)\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane using Helm\nDESCRIPTION: Helm command to install PipeCD Control Plane with configuration and secret files\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-controlplane.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Running pipectl with Docker\nDESCRIPTION: Command to run pipectl using Docker, pulling the image from GitHub Container Registry.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Hide Toast Method Example\nDESCRIPTION: JavaScript method to programmatically hide a toast element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').toast('hide')\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Relabeling for PipeCD Variants\nDESCRIPTION: Shows how to configure Prometheus relabel_configs to support variant labels in the monitoring system. Demonstrates the required kubernetes service discovery and relabeling rules.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\n      - job_name: kube-state-metrics\n        kubernetes_sd_configs:\n          - role: endpoints\n        relabel_configs:\n          - source_labels: [__meta_kubernetes_service_annotation_pipecd_dev_variant]\n            action: keep\n            regex: variant\n```\n\n----------------------------------------\n\nTITLE: Implementing Disabled and Active States in Pagination\nDESCRIPTION: This example demonstrates how to create pagination with disabled and active states using the .disabled and .active classes. It includes proper accessibility attributes like tabindex and aria-disabled for the disabled link.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"...\">\n  <ul class=\"pagination\">\n    <li class=\"page-item disabled\">\n      <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item active\" aria-current=\"page\">\n      <a class=\"page-link\" href=\"#\">2</a>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\">Next</a>\n    </li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Google Custom Search Engine Configuration in TOML\nDESCRIPTION: TOML configuration for adding Google Custom Search Engine ID to the site parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_7\n\nLANGUAGE: toml\nCODE:\n```\n# Google Custom Search Engine ID. Remove or comment out to disable search.\ngcs_engine_id = \"011737558837375720776:fsdu1nryfng\"\n```\n\n----------------------------------------\n\nTITLE: Enabling PipeCD Monitoring System via Helm Install\nDESCRIPTION: This snippet shows how to enable the monitoring system for PipeCD using a Helm install command. It sets the 'monitoring.enabled' flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Swagger UI Integration\nDESCRIPTION: Integrates Swagger UI documentation using OpenAPI specifications in YAML or JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Pet Store API\"\ntype: swagger\nweight: 1\ndescription: Reference for the Pet Store API\n---\n\n{{< swaggerui src=\"/openapi/petstore.yaml\" >}}\n```\n\n----------------------------------------\n\nTITLE: Displaying Help for Plan Preview Command in Console\nDESCRIPTION: Command to show additional options and help information for the plan-preview feature using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager for Piped Configuration\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to securely store the Piped configuration data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Implementing Carousel with Captions in HTML\nDESCRIPTION: HTML structure for a carousel with captions for each slide. Captions are hidden on smaller screens using responsive display utilities and become visible on medium-sized devices and larger.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleCaptions\" class=\"carousel slide\" data-ride=\"carousel\">\n  <ol class=\"carousel-indicators\">\n    <li data-target=\"#carouselExampleCaptions\" data-slide-to=\"0\" class=\"active\"></li>\n    <li data-target=\"#carouselExampleCaptions\" data-slide-to=\"1\"></li>\n    <li data-target=\"#carouselExampleCaptions\" data-slide-to=\"2\"></li>\n  </ol>\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n      <div class=\"carousel-caption d-none d-md-block\">\n        <h5>First slide label</h5>\n        <p>Some representative placeholder content for the first slide.</p>\n      </div>\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n      <div class=\"carousel-caption d-none d-md-block\">\n        <h5>Second slide label</h5>\n        <p>Some representative placeholder content for the second slide.</p>\n      </div>\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n      <div class=\"carousel-caption d-none d-md-block\">\n        <h5>Third slide label</h5>\n        <p>Some representative placeholder content for the third slide.</p>\n      </div>\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleCaptions\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleCaptions\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Non-autohiding Toast with Close Button\nDESCRIPTION: Example of a toast with autohide disabled, including a header with close button and toast body content. Demonstrates proper accessibility attributes and structure.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" class=\"toast\" data-autohide=\"false\">\n  <div class=\"toast-header\">\n    <strong class=\"mr-auto\">Bootstrap</strong>\n    <small>11 mins ago</small>\n    <button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"toast-body\">\n    Hello, world! This is a toast message.\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Provider in PipeCD\nDESCRIPTION: Configuration for adding an AWS ECS provider with region specification and authentication settings. Supports multiple credential sources including environment variables and IAM roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Updating Cloned Docsy Theme Commands\nDESCRIPTION: Commands for updating a directly cloned Docsy theme in the themes directory, including navigation, remote verification, and pulling latest changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Updating/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd themes\n```\n\nLANGUAGE: bash\nCODE:\n```\ngit remote -v\n```\n\nLANGUAGE: bash\nCODE:\n```\ngit pull origin master\n```\n\n----------------------------------------\n\nTITLE: Enabling Monitoring System in Helm Installation for PipeCD\nDESCRIPTION: This command enables the monitoring system for PipeCD during Helm installation by setting the monitoring.enabled flag to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/metrics.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\n--set monitoring.enabled=true\n```\n\n----------------------------------------\n\nTITLE: Programmatically Closing Alerts with JavaScript\nDESCRIPTION: JavaScript method to programmatically close an alert by selecting it and calling the close method. This removes the alert from the DOM after any fade animations complete.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/alerts.md#2025-04-14_snippet_2\n\nLANGUAGE: js\nCODE:\n```\n$('.alert').alert('close')\n```\n\n----------------------------------------\n\nTITLE: Displaying GitHub Release Badge in Markdown\nDESCRIPTION: This code snippet shows how to create a badge that links to the GitHub release action for the pipe-cd/pipecd project. It uses a static image shield with custom label, message, and color.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/multi-release-comment.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![RELEASE](https://img.shields.io/static/v1?label=GitHub&message=RELEASE&color=success&style=flat)](https://github.com/pipe-cd/actions-gh-release)\n```\n\n----------------------------------------\n\nTITLE: Creating Actionable List Group Items with Buttons in HTML\nDESCRIPTION: Shows how to implement clickable list group items using button elements and appropriate classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"list-group\">\n  <button type=\"button\" class=\"list-group-item list-group-item-action active\" aria-current=\"true\">\n    The current button\n  </button>\n  <button type=\"button\" class=\"list-group-item list-group-item-action\">A second item</button>\n  <button type=\"button\" class=\"list-group-item list-group-item-action\">A third button item</button>\n  <button type=\"button\" class=\"list-group-item list-group-item-action\">A fourth button item</button>\n  <button type=\"button\" class=\"list-group-item list-group-item-action\" disabled>A disabled button item</button>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Flush List Group in HTML\nDESCRIPTION: Demonstrates how to create a list group without borders using the .list-group-flush class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group list-group-flush\">\n  <li class=\"list-group-item\">An item</li>\n  <li class=\"list-group-item\">A second item</li>\n  <li class=\"list-group-item\">A third item</li>\n  <li class=\"list-group-item\">A fourth item</li>\n  <li class=\"list-group-item\">And a fifth one</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Getting Application Information with pipectl\nDESCRIPTION: Retrieves and displays information about a specific application in JSON format using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - ECS Examples\nDESCRIPTION: Table listing ECS deployment examples including simple deployments and various strategies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/ecs/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Enabling Collapse Component via JavaScript\nDESCRIPTION: This snippet shows how to manually enable the collapse functionality on elements with the 'collapse' class using JavaScript.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/collapse.md#2025-04-14_snippet_0\n\nLANGUAGE: js\nCODE:\n```\n$('.collapse').collapse()\n```\n\n----------------------------------------\n\nTITLE: Navbar Color Scheme Implementation\nDESCRIPTION: Examples of different navbar color schemes using Bootstrap's theming classes and background utilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-dark bg-dark\">\n  <!-- Navbar content -->\n</nav>\n\n<nav class=\"navbar navbar-dark bg-primary\">\n  <!-- Navbar content -->\n</nav>\n\n<nav class=\"navbar navbar-light\" style=\"background-color: #e3f2fd;\">\n  <!-- Navbar content -->\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Basic Button Examples in Bootstrap\nDESCRIPTION: Examples of Bootstrap's predefined button styles with semantic purposes, including theme color variations and link style.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-{{ .name }}\">{{ .name | title }}</button>\n\n<button type=\"button\" class=\"btn btn-link\">Link</button>\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Ops Service\nDESCRIPTION: Command to expose PipeCD ops service for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Configuring GKE Ingress Annotations for PipeCD\nDESCRIPTION: YAML configuration for setting up GKE Ingress annotations to enable HTTP2 for the PipeCD service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition for Piped\nDESCRIPTION: JSON service definition for controlling Piped task deployment with Fargate launch type and network configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_3\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\"\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Application Deployment with Docker\nDESCRIPTION: This YAML configuration defines the deployment settings for a PipeCD application using Docker. It specifies the application name, kind, and Docker image details including the image name and tag.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/empty-config.txt#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Application\nspec:\n  name: pipecd\n  labels:\n    env: dev\n    team: product\n  description: PipeCD application\n  kind: DEPLOYMENT\n  destination:\n    kind: DASHBOARD\n  deployment:\n    kind: DOCKER\n    spec:\n      image: ghcr.io/pipe-cd/pipecd:latest\n      containerPort: 8080\n```\n\n----------------------------------------\n\nTITLE: Creating PipeCD Namespace in Kubernetes\nDESCRIPTION: Creates a dedicated Kubernetes namespace called 'pipecd' for deploying PipeCD components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/quickstart/README.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nkubectl create namespace pipecd\n```\n\n----------------------------------------\n\nTITLE: Specifying Key Files During Piped Installation\nDESCRIPTION: Helm command options for providing the generated public and private key files when installing Piped on Kubernetes. These keys are needed for the secret encryption/decryption functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Carousel with Slides Only in HTML\nDESCRIPTION: HTML structure for a basic carousel with three slides. It includes the essential carousel container with class 'carousel slide' and inner elements with carousel-item classes. The active class is applied to the first slide.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n        {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating CloudRun Application Resource\nDESCRIPTION: Terraform configuration for managing a CloudRun application in PipeCD. Specifies application properties including platform provider, Git repository details, and deployment configuration path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with pipectl in Console\nDESCRIPTION: This command uses the pipectl tool to generate a plan preview for a pull request. It requires the PipeCD control plane address, API key, repository URL, and branch information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Starting PipeCD installation\nDESCRIPTION: Initiates the PipeCD quickstart installation process with specified version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Visualizing Canary Rollout in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart illustrates the canary rollout stage of a Blue/Green deployment in Amazon ECS. A new canary service with version 2 tasks is created, but not yet receiving traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_7\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v1]\n            1b[Task v1]\n        end\n\n        subgraph s2[service-abc-canary]\n            direction LR\n            2a[Task v2]\n            2b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Updating Bootstrap Modal Position\nDESCRIPTION: Method to manually readjust a modal's position when its height changes while open, useful when scrollbars appear.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_19\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal('handleUpdate')\n```\n\n----------------------------------------\n\nTITLE: Adding Navigation to Bootstrap Card Headers\nDESCRIPTION: Shows how to incorporate Bootstrap's nav components into a card's header. Includes examples of both tab-style and pill-style navigation within card headers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card text-center\">\n  <div class=\"card-header\">\n    <ul class=\"nav nav-tabs card-header-tabs\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link active\" href=\"#\">Active</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n  </div>\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Special title treatment</h5>\n    <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Adding Responsive Display Utilities in CSS\nDESCRIPTION: New responsive display utilities have been added to replace the old hidden classes. These allow for more flexible control over element visibility across breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_12\n\nLANGUAGE: CSS\nCODE:\n```\n.d-none\n.d-sm-none\n.d-md-none\n.d-lg-none\n.d-xl-none\n```\n\n----------------------------------------\n\nTITLE: Importing Individual Bootstrap JavaScript Plugins\nDESCRIPTION: Demonstrates how to selectively import individual Bootstrap JavaScript plugins for better optimization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nimport 'bootstrap/js/dist/util';\nimport 'bootstrap/js/dist/alert';\n...\n```\n\n----------------------------------------\n\nTITLE: Deleting an application by ID\nDESCRIPTION: Removes an application from the PipeCD project using its unique identifier.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Configuring Modal Options in JavaScript\nDESCRIPTION: This JavaScript snippet shows how to configure modal options when initializing it programmatically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal({\n  keyboard: false\n})\n```\n\n----------------------------------------\n\nTITLE: Card with List Group Implementation\nDESCRIPTION: Shows how to create a card with a flush list group and optional header/footer\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item\">An item</li>\n    <li class=\"list-group-item\">A second item</li>\n    <li class=\"list-group-item\">A third item</li>\n  </ul>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Margin and Padding Utility Classes in SCSS\nDESCRIPTION: These SCSS snippets demonstrate how Bootstrap defines margin and padding utility classes. They show examples for top margin, left margin, horizontal padding, and all-sides padding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/spacing.md#2025-04-14_snippet_0\n\nLANGUAGE: scss\nCODE:\n```\n.mt-0 {\n  margin-top: 0 !important;\n}\n\n.ml-1 {\n  margin-left: ($spacer * .25) !important;\n}\n\n.px-2 {\n  padding-left: ($spacer * .5) !important;\n  padding-right: ($spacer * .5) !important;\n}\n\n.p-3 {\n  padding: $spacer !important;\n}\n```\n\n----------------------------------------\n\nTITLE: Page Navigation Metadata in YAML\nDESCRIPTION: Front matter configuration for a documentation page showing weight and title settings\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Navigation and Search\"\nlinkTitle: \"Navigation and Search\"\ndate: 2017-01-05\nweight: 3\ndescription: >\n  Customize site navigation and search for your Docsy site.\n---\n```\n\n----------------------------------------\n\nTITLE: Checking PipeCD Component Readiness\nDESCRIPTION: This command lists all pods in the pipecd namespace to verify the readiness of PipeCD components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl get pod -n pipecd\n```\n\n----------------------------------------\n\nTITLE: Visualizing Final Traffic Routing in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart shows the final traffic routing stage of a Blue/Green deployment in Amazon ECS. All traffic is now directed back to the primary service running version 2 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_10\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        \n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n        subgraph s2[service-abc-canary]\n            direction LR\n            2a[Task v2]\n            2b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Platform Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run platform provider that specifies the Google Cloud project, region where Cloud Run service is running, and optional service account file path for authorization if the piped machine lacks sufficient permissions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Visualizing Primary Rollout in ECS Canary Deployment\nDESCRIPTION: This Mermaid flowchart illustrates the primary rollout stage of a Canary deployment in Amazon ECS. It shows traffic distribution between primary and canary services, with tasks running version 2.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_3\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 33% --> 1a\n        sd -- 33% --> 1b\n        sd -- 33% --> 2a\n\n        subgraph s1[service-abc-primary]\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with Labels using pipectl\nDESCRIPTION: Command to register a new event with specific labels to target only the applications configured with matching labels. This provides granular control over which configurations are updated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=image-update \\\n    --labels env=dev,appName=helloworld \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate\nDESCRIPTION: Command to generate a self-signed TLS certificate for internal use in GKE Ingress.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-controlplane.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Refreshing ScrollSpy Instance in JavaScript\nDESCRIPTION: Example showing how to refresh ScrollSpy when DOM elements are added or removed. This method should be called to update ScrollSpy when the target elements change.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n$('[data-spy=\"scroll\"]').each(function () {\n  var $spy = $(this).scrollspy('refresh')\n})\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Plugins with Options in JavaScript\nDESCRIPTION: These examples show different ways to initialize a Bootstrap plugin (modal in this case) with default options, custom options, or method calls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_3\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('#myModal').modal() // initialized with defaults\n$('#myModal').modal({ keyboard: false }) // initialized with no keyboard\n$('#myModal').modal('show') // initializes and invokes show immediately\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding to Access PipeCD Web Interface\nDESCRIPTION: Command for port forwarding to access the PipeCD web interface locally when an ingress is not configured. Exposes the PipeCD service on localhost port 8080.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via Curl (Linux/macOS)\nDESCRIPTION: Downloads the latest version of pipectl for Linux or macOS and makes it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\nchmod +x ./pipectl\nsudo mv ./pipectl /usr/local/bin/pipectl\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Border Radius Examples in HTML\nDESCRIPTION: Demonstration of various border-radius utilities for rounding corners of elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/borders.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded\" title=\"Example rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-top\" title=\"Example top rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-right\" title=\"Example right rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-bottom\" title=\"Example bottom rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-left\" title=\"Example left rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-circle\" title=\"Completely round image\" >}}\n{{< placeholder width=\"150\" height=\"75\" class=\"rounded-pill\" title=\"Rounded pill image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-0\" title=\"Example non-rounded image (overrides rounding applied elsewhere)\" >}}\n```\n\n----------------------------------------\n\nTITLE: Configuring CloudRun Application in PipeCD\nDESCRIPTION: Basic YAML configuration for a Google Cloud Run application in PipeCD, specifying application name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Service for Canary Deployment\nDESCRIPTION: Basic Kubernetes Service configuration that routes traffic based on pod selector labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Disabled Anchor Buttons in Bootstrap\nDESCRIPTION: Examples of disabled anchor buttons using the .disabled class with appropriate ARIA attributes and tabindex for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"#\" class=\"btn btn-primary btn-lg disabled\" tabindex=\"-1\" role=\"button\" aria-disabled=\"true\">Primary link</a>\n<a href=\"#\" class=\"btn btn-secondary btn-lg disabled\" tabindex=\"-1\" role=\"button\" aria-disabled=\"true\">Link</a>\n```\n\n----------------------------------------\n\nTITLE: Local Search Results Width Styling in SCSS\nDESCRIPTION: SCSS styling to customize the width of local search results popover.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_10\n\nLANGUAGE: scss\nCODE:\n```\nbody {\n    .popover.offline-search-result {\n        max-width: 460px;\n    }\n}\n```\n\n----------------------------------------\n\nTITLE: EventWatcher with Context Information\nDESCRIPTION: Advanced pipectl command example showing how to include source code context information when registering events for better traceability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/ci-cd-gap-fulfill-with-pipecd.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register --name=event-test --data=ghcr.io/pipecd/helloworld:v0.49.0 \\\n--context=Source-Commit-Hash= 6512b1f3fcba7342c11,Source-URL=https://github.com/pipe-cd/pipecd/commit/6512b1f3fcba7342c11,PipeCD-Official-Docs=https://pipecd.dev/\n```\n\n----------------------------------------\n\nTITLE: Implementing Code Card Shortcode in Hugo\nDESCRIPTION: Shows how to use the card-code shortcode for displaying programming code with syntax highlighting. Includes language specification and optional highlighting parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_12\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* card-code header=\"**C**\" lang=\"C\" */>}}\n#include <stdio.h>\n#include <stdlib.h>\n\nint main(void)\n{\n  puts(\"Hello World!\");\n  return EXIT_SUCCESS;\n}\n{{</* /card-code */>}}\n```\n\n----------------------------------------\n\nTITLE: Starting Piped with Configuration File\nDESCRIPTION: This console command starts the Piped instance using the specified configuration file. Replace {PATH_TO_PIPED_CONFIG_FILE} with the actual path to your Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: Shell command to create a new secret in Google Cloud Secret Manager to store Piped configuration securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\ngcloud secrets create vm-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Tooltip Markup Structure\nDESCRIPTION: This snippet shows the basic HTML structure required for a tooltip and the markup generated by the Bootstrap tooltip plugin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!-- HTML to write -->\n<a href=\"#\" data-toggle=\"tooltip\" title=\"Some tooltip text!\">Hover over me</a>\n\n<!-- Generated markup by the plugin -->\n<div class=\"tooltip bs-tooltip-top\" role=\"tooltip\">\n  <div class=\"arrow\"></div>\n  <div class=\"tooltip-inner\">\n    Some tooltip text!\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Changing Progress Bar Background Colors with Utility Classes\nDESCRIPTION: Examples of applying different background color utility classes (bg-success, bg-info, bg-warning, bg-danger) to Bootstrap progress bars, providing visual indicators for different statuses or priorities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar bg-info\" role=\"progressbar\" style=\"width: 50%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar bg-warning\" role=\"progressbar\" style=\"width: 75%\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar bg-danger\" role=\"progressbar\" style=\"width: 100%\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD\nDESCRIPTION: Deprecated configuration for setting up event watchers to handle image updates and file replacements based on events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Adding External Link to Main Menu in YAML\nDESCRIPTION: Configuration for adding an external GitHub link to the main navigation menu\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n[[menu.main]]\n    name = \"GitHub\"\n    weight = 50\n    url = \"https://github.com/google/docsy/\"\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via asdf\nDESCRIPTION: Installs pipectl using the asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Handling Asynchronous Transitions in Bootstrap\nDESCRIPTION: This code demonstrates how to execute actions after a Bootstrap transition (collapse in this case) is complete using event listeners.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_4\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('#myCollapse').on('shown.bs.collapse', function (event) {\n  // Action to execute once the collapsible area is expanded\n})\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Plan Preview Badge in Markdown\nDESCRIPTION: This snippet shows how to create a badge for PipeCD Plan Preview using Markdown and shields.io. It includes a link to the PipeCD documentation for plan preview.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-has-failed-app.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![PLAN_PREVIEW](https://img.shields.io/static/v1?label=PipeCD&message=Plan_Preview&color=orange&style=flat)](https://pipecd.dev/docs/user-guide/plan-preview/)\n```\n\n----------------------------------------\n\nTITLE: Multiple Addons in Input Groups in HTML\nDESCRIPTION: Shows implementation of multiple add-ons in a single input group, which can be placed at the beginning or end of the input and mixed with form controls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\">$</span>\n    <span class=\"input-group-text\">0.00</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Dollar amount (with dot and two decimal places)\">\n</div>\n\n<div class=\"input-group\">\n  <input type=\"text\" class=\"form-control\" aria-label=\"Dollar amount (with dot and two decimal places)\">\n  <div class=\"input-group-append\">\n    <span class=\"input-group-text\">$</span>\n    <span class=\"input-group-text\">0.00</span>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Figure with Right-Aligned Caption\nDESCRIPTION: This example shows how to create a figure with a right-aligned caption by applying Bootstrap's text alignment utility class. It uses the same figure structure but adds the text-right class to the figcaption element to align the caption text to the right.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/figures.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<figure class=\"figure\">\n  {{< placeholder width=\"400\" height=\"300\" class=\"figure-img img-fluid rounded\" >}}\n  <figcaption class=\"figure-caption text-right\">A caption for the above image.</figcaption>\n</figure>\n```\n\n----------------------------------------\n\nTITLE: Application Message with Deploy Targets in Protocol Buffers\nDESCRIPTION: Protocol Buffer definition for the Application message with deploy_targets field to support multi-cluster deployments, replacing the platform_provider field which is now reserved for backward compatibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_2\n\nLANGUAGE: proto\nCODE:\n```\nmessage Application {\n    reserved 3;\n    ...\n    // TODO: Add validation for this field.\n    string platform_provider = 15;\n    // \n    repeated string deploy_targets = 16;\n    ...\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring External Release Link in Hugo Frontmatter\nDESCRIPTION: YAML frontmatter configuration that defines a releases page link in the documentation navigation. Sets the title, manual link to GitHub releases, target behavior, and navigation weight.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/releases/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Releases \"\nmanualLink: \"https://github.com/pipe-cd/pipecd/releases\"\nmanualLinkTarget: \"_blank\"\nweight: 99\n```\n\n----------------------------------------\n\nTITLE: Modifying Badge Classes in CSS\nDESCRIPTION: Changes to badge classes include the addition of '.badge-pill' for rounded badges and '.badge-secondary' to replace '.badge-default'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_8\n\nLANGUAGE: CSS\nCODE:\n```\n.badge-pill\n.badge-secondary\n```\n\n----------------------------------------\n\nTITLE: Active State Buttons in Bootstrap\nDESCRIPTION: Examples of buttons with active state appearance using the .active class and aria-pressed attribute for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"#\" class=\"btn btn-primary btn-lg active\" role=\"button\" aria-pressed=\"true\">Primary link</a>\n<a href=\"#\" class=\"btn btn-secondary btn-lg active\" role=\"button\" aria-pressed=\"true\">Link</a>\n```\n\n----------------------------------------\n\nTITLE: Directional Popover Examples\nDESCRIPTION: HTML markup for popovers positioned in four different directions: top, right, bottom, and left. Each button demonstrates a different placement option.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-secondary\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"top\" data-content=\"Top popover\">\n  Popover on top\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"right\" data-content=\"Right popover\">\n  Popover on right\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"Bottom popover\">\n  Popover on bottom\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"Left popover\">\n  Popover on left\n</button>\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Console via Port Forwarding\nDESCRIPTION: Uses kubectl to set up port forwarding, allowing access to the PipeCD console on localhost:8080 after the quickstart process has completed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Generating PipeCD Application Config Interactively\nDESCRIPTION: This snippet shows how to use the pipectl init command to interactively generate an app.pipecd.yaml file. It demonstrates the command-line interaction for selecting the platform and naming the application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl init \nWhich platform? Enter the number [0]Kubernetes [1]ECS: 1\nName of the application: myApp\n...\n```\n\n----------------------------------------\n\nTITLE: PipeCD Booth Information Configuration\nDESCRIPTION: Placeholder configuration for PipeCD's booth details at KubeCon Hong Kong 2024, including project name, kiosk number, shift timing, and location information. All fields are currently marked as TBA (To Be Announced).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/pipecd-at-kubecon-hongkong-2024.md#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nProject: PipeCDi\nKiosk #: TBA\nKiosk Shift: TBA\nLocation: TBA\n```\n\n----------------------------------------\n\nTITLE: ECS Task Definition with Remote Upgrade\nDESCRIPTION: JSON task definition for Piped with remote upgrade capability, including container configuration and resource specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"family\": \"piped\",\n  \"executionRoleArn\": \"{PIPED_TASK_EXECUTION_ROLE_ARN}\",\n  \"containerDefinitions\": [\n    {\n      \"name\": \"piped\",\n      \"essential\": true,\n      \"image\": \"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\",\n      \"entryPoint\": [\n        \"sh\",\n        \"-c\"\n      ],\n      \"command\": [\n        \"/bin/sh -c \\\"launcher launcher --config-data=$(echo $CONFIG_DATA)\\\"\"\n      ],\n      \"secrets\": [\n        {\n          \"valueFrom\": \"{PIPED_SECRET_MANAGER_ARN}\",\n          \"name\": \"CONFIG_DATA\"\n        }\n      ]\n    }\n  ],\n  \"requiresCompatibilities\": [\n    \"FARGATE\"\n  ],\n  \"networkMode\": \"awsvpc\",\n  \"memory\": \"512\",\n  \"cpu\": \"256\"\n}\n```\n\n----------------------------------------\n\nTITLE: GKE Service Configuration with HTTP2\nDESCRIPTION: YAML configuration for enabling HTTP2 protocol in GKE service annotations\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Flex Direction Examples\nDESCRIPTION: Shows how to control flex item direction using flex-row and flex-row-reverse utilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex flex-row bd-highlight mb-3\">\n  <div class=\"p-2 bd-highlight\">Flex item 1</div>\n  <div class=\"p-2 bd-highlight\">Flex item 2</div>\n  <div class=\"p-2 bd-highlight\">Flex item 3</div>\n</div>\n<div class=\"d-flex flex-row-reverse bd-highlight\">\n  <div class=\"p-2 bd-highlight\">Flex item 1</div>\n  <div class=\"p-2 bd-highlight\">Flex item 2</div>\n  <div class=\"p-2 bd-highlight\">Flex item 3</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client using curl\nDESCRIPTION: Downloads the PipeCD client (pipectl) binary for either Darwin or Linux operating systems using curl command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\n----------------------------------------\n\nTITLE: Outline Button Styles in Bootstrap\nDESCRIPTION: Examples of Bootstrap's outline button styles that remove background colors and images while maintaining button functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-outline-{{ .name }}\">{{ .name | title }}</button>\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account for Piped on Google Cloud\nDESCRIPTION: These shell commands create a new Service Account for Piped and assign necessary IAM roles for accessing secrets, logging, and optionally managing Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\n# Allow Piped to access the created secret.\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\n# Allow Piped to write its log messages to Google Cloud Logging service.\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional\n# If you want to use this Piped to handle Cloud Run application\n# run the following command to give it the needed roles.\n# https://cloud.google.com/run/docs/reference/iam/roles#additional-configuration\n#\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Making pipectl executable\nDESCRIPTION: Changes the file permissions to make the pipectl binary executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Creating Card Groups in Hugo\nDESCRIPTION: Demonstrates how to group multiple cards together using the cardpane shortcode for side-by-side display. Useful for comparing different content or code examples.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_13\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* cardpane */>}}\n  {{</* card header=\"Header card 1\" */>}}\n    Content card 1\n  {{</* /card */>}}\n  {{</* card header=\"Header card 2\" */>}}\n    Content card 2\n  {{</* /card */>}}\n  {{</* card header=\"Header card 3\" */>}}\n    Content card 3\n  {{</* /card */>}}\n{{</* /cardpane */>}}\n```\n\n----------------------------------------\n\nTITLE: Disabling Touch Swiping in Bootstrap Carousel\nDESCRIPTION: This HTML snippet shows how to create a Bootstrap carousel with touch swiping disabled using the data-touch attribute. It also disables autoplay by setting data-interval to false.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleControlsNoTouching\" class=\"carousel slide\" data-touch=\"false\" data-interval=\"false\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleControlsNoTouching\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleControlsNoTouching\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Demonstrating HTML Form Elements Styling in Bootstrap\nDESCRIPTION: This snippet showcases Bootstrap's styling for various form elements including fieldset, legend, input, select, checkbox, radio buttons, textarea, and different types of submit buttons. It demonstrates both enabled and disabled states of form controls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/reboot.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<form class=\"bd-example\">\n  <fieldset>\n    <legend>Example legend</legend>\n    <p>\n      <label for=\"input\">Example input</label>\n      <input type=\"text\" id=\"input\" placeholder=\"Example input\">\n    </p>\n    <p>\n      <label for=\"select\">Example select</label>\n      <select id=\"select\">\n        <option value=\"\">Choose...</option>\n        <optgroup label=\"Option group 1\">\n          <option value=\"\">Option 1</option>\n          <option value=\"\">Option 2</option>\n          <option value=\"\">Option 3</option>\n        </optgroup>\n        <optgroup label=\"Option group 2\">\n          <option value=\"\">Option 4</option>\n          <option value=\"\">Option 5</option>\n          <option value=\"\">Option 6</option>\n        </optgroup>\n      </select>\n    </p>\n    <p>\n      <label>\n        <input type=\"checkbox\" value=\"\">\n        Check this checkbox\n      </label>\n    </p>\n    <p>\n      <label>\n        <input type=\"radio\" name=\"optionsRadios\" id=\"optionsRadios1\" value=\"option1\" checked>\n        Option one is this and that\n      </label>\n      <label>\n        <input type=\"radio\" name=\"optionsRadios\" id=\"optionsRadios2\" value=\"option2\">\n        Option two is something else that's also super long to demonstrate the wrapping of these fancy form controls.\n      </label>\n      <label>\n        <input type=\"radio\" name=\"optionsRadios\" id=\"optionsRadios3\" value=\"option3\" disabled>\n        Option three is disabled\n      </label>\n    </p>\n    <p>\n      <label for=\"textarea\">Example textarea</label>\n      <textarea id=\"textarea\" rows=\"3\"></textarea>\n    </p>\n    <p>\n      <label for=\"date\">Example date</label>\n      <input type=\"date\" id=\"date\">\n    </p>\n    <p>\n      <label for=\"time\">Example time</label>\n      <input type=\"time\" id=\"time\">\n    </p>\n    <p>\n      <label for=\"output\">Example output</label>\n      <output name=\"result\" id=\"output\">100</output>\n    </p>\n    <p>\n      <button type=\"submit\">Button submit</button>\n      <input type=\"submit\" value=\"Input submit button\">\n      <input type=\"reset\" value=\"Input reset button\">\n      <input type=\"button\" value=\"Input button\">\n    </p>\n    <p>\n      <button type=\"submit\" disabled>Button submit</button>\n      <input type=\"submit\" value=\"Input submit button\" disabled>\n      <input type=\"reset\" value=\"Input reset button\" disabled>\n      <input type=\"button\" value=\"Input button\" disabled>\n    </p>\n  </fieldset>\n</form>\n```\n\n----------------------------------------\n\nTITLE: Updating Carousel Classes in CSS\nDESCRIPTION: Carousel classes have been renamed and simplified. New classes for items, controls, and indicators have been introduced.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_11\n\nLANGUAGE: CSS\nCODE:\n```\n.carousel-item-next\n.carousel-item-prev\n.carousel-item-left\n.carousel-item-right\n.carousel-item\n.carousel-control-next\n.carousel-control-prev\n```\n\n----------------------------------------\n\nTITLE: Unsupported Breakpoint Variable Usage in Media Query\nDESCRIPTION: Demonstrates incorrect usage of CSS custom properties in media query conditions. CSS variables cannot be used directly in media query declarations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_13\n\nLANGUAGE: css\nCODE:\n```\n@media (min-width: var(--breakpoint-sm)) {\n  ...\n}\n```\n\n----------------------------------------\n\nTITLE: Deleting an Application with pipectl\nDESCRIPTION: Removes an application from the PipeCD project using its ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Implementing Bootstrap Tooltips with HTML\nDESCRIPTION: This example shows how to create tooltip buttons with different placements (top, right, bottom, left) and a tooltip with custom HTML content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Tooltip on top\">\n  Tooltip on top\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"right\" title=\"Tooltip on right\">\n  Tooltip on right\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"Tooltip on bottom\">\n  Tooltip on bottom\n</button>\n<button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-placement=\"left\" title=\"Tooltip on left\">\n  Tooltip on left\n</button>\n```\n\n----------------------------------------\n\nTITLE: Handling Bootstrap Carousel Events\nDESCRIPTION: This JavaScript snippet demonstrates how to listen for the 'slide.bs.carousel' event on a Bootstrap carousel. It allows you to execute custom code when a slide transition is about to start.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myCarousel').on('slide.bs.carousel', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Horizontally Centering Block-Level Content with Bootstrap\nDESCRIPTION: This HTML snippet shows how to use the .mx-auto class to horizontally center fixed-width block-level content in Bootstrap.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/spacing.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"mx-auto\" style=\"width: 200px;\">\n  Centered element\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Hugo Blog Section Front Matter in YAML\nDESCRIPTION: YAML front matter configuration for the PipeCD blog section that specifies the title, link title and menu weight for positioning in the main navigation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"PipeCD Blog\"\nlinkTitle: \"Blog\"\nmenu:\n  main:\n    weight: 30\n```\n\n----------------------------------------\n\nTITLE: Updating Git Submodules for Docsy Theme in Bash\nDESCRIPTION: This command updates the submodules of a Docsy theme that has been newly added to a local site. It's necessary to run this before serving the site if the theme was just added as a submodule.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Deployment/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ngit submodule update --init --recursive\n```\n\n----------------------------------------\n\nTITLE: Setting Up Docsy Example Site Locally\nDESCRIPTION: These commands clone the Docsy example site, initialize submodules, and start the Hugo server for local preview.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\ngit clone https://github.com/google/docsy-example.git\ncd docsy-example\ngit submodule update --init --recursive\nhugo server\n```\n\n----------------------------------------\n\nTITLE: Registering a Helm release event with pipectl\nDESCRIPTION: This Bash command registers a Helm chart release event with PipeCD, including the new version number as data. This triggers the EventWatcher to update the Helm chart version in the application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Auth0 Custom Roles Mapping Action\nDESCRIPTION: JavaScript code for Auth0 Actions to map role information to custom claims in the ID token.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nexports.onExecutePostLogin = async (event, api) => {\n  let namespace = \"custom\";\n  if (namespace && !namespace.endsWith(\"/\")) {\n    namespace += \":\";\n  }\n  api.idToken.setCustomClaim(namespace + \"roles\", event.authorization.roles);\n};\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane on Local Cluster\nDESCRIPTION: Commands for installing PipeCD Control Plane on a local Kubernetes cluster and exposing it via port forwarding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/contribution-guidelines/development.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nmake run/pipecd\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Creating Dropdown Menu with Dividers\nDESCRIPTION: HTML structure for a dropdown menu that includes dividers to separate groups of menu items.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown-menu\">\n  <a class=\"dropdown-item\" href=\"#\">Action</a>\n  <a class=\"dropdown-item\" href=\"#\">Another action</a>\n  <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n  <div class=\"dropdown-divider\"></div>\n  <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Scrollable Modal Structure in Bootstrap HTML\nDESCRIPTION: This snippet provides the essential structure for creating a scrollable modal in Bootstrap. It demonstrates the use of the 'modal-dialog-scrollable' class to enable scrolling within the modal body.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<!-- Scrollable modal -->\n<div class=\"modal-dialog modal-dialog-scrollable\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Checking PipeCD Component Status\nDESCRIPTION: This command lists all PipeCD-related pods in the designated namespace to verify that all components are running properly. This helps confirm the successful installation of both the control plane and piped agent.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl get pod -n pipecd\nNAME                              READY   STATUS    RESTARTS      AGE\npipecd-cache-56c7c65ddc-xqcst     1/1     Running   0             38m\npipecd-gateway-58589b55f9-9nbrv   1/1     Running   0             38m\npipecd-minio-677999d5bb-xnb78     1/1     Running   0             38m\npipecd-mysql-6fff49fbc7-hkvt4     1/1     Running   0             38m\npipecd-ops-779d6844db-nvbwn       1/1     Running   0             38m\npipecd-server-5769df7fcb-9hc45    1/1     Running   1 (38m ago)   38m\npiped-8477b5d55d-74s5v            1/1     Running   0             97s\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via Asdf\nDESCRIPTION: Commands for installing pipectl using the asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf add plugin pipectl\nasdf install pipectl {VERSION}\nasdf global pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Implementing Flex Wrap Container\nDESCRIPTION: Example of a flex container that allows items to wrap onto multiple lines using the flex-wrap utility class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex flex-wrap\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Resulting Helm Chart Version Change after Event Processing\nDESCRIPTION: The diff showing how the Helm chart version is updated in the application configuration file after the event watcher processes the chart release event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/event-watcher.md#2025-04-14_snippet_9\n\nLANGUAGE: diff\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n-     version: 0.1.0\n+     version: 0.2.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Creating Bootstrap Tooltip with Custom HTML Content\nDESCRIPTION: This snippet shows how to create a tooltip with custom HTML content using the 'data-html' attribute.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-secondary\" data-toggle=\"tooltip\" data-html=\"true\" title=\"<em>Tooltip</em> <u>with</u> <b>HTML</b>\">\n  Tooltip with HTML\n</button>\n```\n\n----------------------------------------\n\nTITLE: Setting Version Menu Title in TOML\nDESCRIPTION: Configuration for customizing the title of the version dropdown menu in the navigation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/versioning.md#2025-04-14_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\nversion_menu = \"Releases\"\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Deployment Chain Examples\nDESCRIPTION: Table showing deployment chain examples for coordinating multiple deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_5\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/deployment-chain/simple) | Simple deployment chain which uses application name as a filter in chain configuration. |\n```\n\n----------------------------------------\n\nTITLE: Creating Stacked-to-Horizontal Layout with Bootstrap Grid in HTML\nDESCRIPTION: This snippet shows how to create a grid system that starts stacked on small screens and becomes horizontal on larger screens. It uses 'col-sm-*' classes for responsive behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-sm-8\">col-sm-8</div>\n    <div class=\"col-sm-4\">col-sm-4</div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm\">col-sm</div>\n    <div class=\"col-sm\">col-sm</div>\n    <div class=\"col-sm\">col-sm</div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Kubernetes Examples\nDESCRIPTION: Table listing example deployments for Kubernetes applications, including simple deployments, Helm charts, Kustomize, and various deployment strategies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/kubernetes/simple) | Deploy plain-yaml manifests in application directory without using pipeline. |\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Tests with Make Commands\nDESCRIPTION: Commands for running unit tests for Go modules, web components, and integration tests.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/contribution-guidelines/development.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nmake test/go\nmake test/web\nmake test/integration\n```\n\n----------------------------------------\n\nTITLE: Implementing Scrollspy via Data Attributes in HTML\nDESCRIPTION: This HTML snippet demonstrates how to implement scrollspy functionality using data attributes on the body element and a navigation component.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<body data-spy=\"scroll\" data-target=\"#navbar-example\">\n  ...\n  <div id=\"navbar-example\">\n    <ul class=\"nav nav-tabs\" role=\"tablist\">\n      ...\n    </ul>\n  </div>\n  ...\n</body>\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with External Content Trigger in Bootstrap\nDESCRIPTION: This example demonstrates how to use the collapse plugin to trigger a container element for content that structurally sits outside of the .navbar. It uses a fixed-top container with a dark-themed navbar.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_15\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"fixed-top\">\n  <div class=\"collapse\" id=\"navbarToggleExternalContent\">\n    <div class=\"bg-dark p-4\">\n      <h5 class=\"text-white h4\">Collapsed content</h5>\n      <span class=\"text-muted\">Toggleable via the navbar brand.</span>\n    </div>\n  </div>\n  <nav class=\"navbar navbar-dark bg-dark\">\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarToggleExternalContent\" aria-controls=\"navbarToggleExternalContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n  </nav>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Feature Phase Definitions Table in Markdown\nDESCRIPTION: Markdown table defining the different maturity phases used to classify PipeCD features.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/feature-status/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Phase | Definition |\n|-|-|\n| Incubating | Under planning/developing the prototype and still not ready to be used. |\n| Alpha | Demo-able, works end-to-end but has limitations. No guarantees on backward compatibility. |\n| Beta | **Usable in production**. Documented. |\n| Stable | Production hardened. Backward compatibility. Documented. |\n```\n\n----------------------------------------\n\nTITLE: Visualizing Traffic Routing in ECS Canary Deployment\nDESCRIPTION: This Mermaid flowchart shows the traffic routing stage of a Canary deployment in Amazon ECS. All traffic is now directed to the primary service running version 2 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_4\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf\nDESCRIPTION: Command to install a specific version of pipectl using the Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Chaining Bootstrap Plugin Methods in JavaScript\nDESCRIPTION: This snippet demonstrates chaining multiple Bootstrap plugin methods and jQuery functions in a single line.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_2\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('.btn.danger').button('toggle').addClass('fat')\n```\n\n----------------------------------------\n\nTITLE: Handling Bootstrap Collapse Events with jQuery\nDESCRIPTION: A JavaScript example showing how to listen for the 'hidden.bs.collapse' event that fires when a collapse element has been fully hidden. This event waits for CSS transitions to complete before firing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/collapse.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myCollapsible').on('hidden.bs.collapse', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Variable Override Example\nDESCRIPTION: Demonstration of overriding Bootstrap default variables\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_4\n\nLANGUAGE: scss\nCODE:\n```\n// Required\n@import \"../node_modules/bootstrap/scss/functions\";\n@import \"../node_modules/bootstrap/scss/variables\";\n@import \"../node_modules/bootstrap/scss/mixins\";\n\n// Your variable overrides\n$body-bg: #000;\n$body-color: #111;\n\n// Bootstrap and its default variables\n\n// Optional\n@import \"../node_modules/bootstrap/scss/root\";\n@import \"../node_modules/bootstrap/scss/reboot\";\n@import \"../node_modules/bootstrap/scss/type\";\n// etc\n```\n\n----------------------------------------\n\nTITLE: Input Groups with Checkboxes and Radios in HTML\nDESCRIPTION: Shows how to integrate checkboxes and radio buttons within input group addons, providing interactive form control options alongside text inputs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <div class=\"input-group-text\">\n      <input type=\"checkbox\" aria-label=\"Checkbox for following text input\">\n    </div>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with checkbox\">\n</div>\n\n<div class=\"input-group\">\n  <div class=\"input-group-prepend\">\n    <div class=\"input-group-text\">\n      <input type=\"radio\" aria-label=\"Radio button for following text input\">\n    </div>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with radio button\">\n</div>\n```\n\n----------------------------------------\n\nTITLE: Application Definition with Kind Label in YAML\nDESCRIPTION: YAML configuration for an Application that uses labels to define the application kind (KUBERNETES in this example) instead of a dedicated kind field, allowing for more flexibility in the plugin architecture.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Application\nmetadata:\n  labels:\n    kind: KUBERNETES # <- like this\nspec:\n  name: myApp\n```\n\n----------------------------------------\n\nTITLE: Enabling Section Print Output in TOML Configuration\nDESCRIPTION: Configuration settings to enable the 'print entire section' feature by adding print output format for section type in config.toml.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/print.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\n[outputs]\nsection = [ \"HTML\", \"RSS\", \"print\" ]\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Dropdown Menu in HTML\nDESCRIPTION: Basic HTML structure for a dropdown menu with button trigger and menu items. Uses data-toggle and data-display attributes for functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown-menu\">\n  <h6 class=\"dropdown-header\">Dropdown header</h6>\n  <a class=\"dropdown-item\" href=\"#\">Action</a>\n  <a class=\"dropdown-item\" href=\"#\">Another action</a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Executing Piped with Runtime Options in Bash\nDESCRIPTION: This snippet shows the usage and available flags for running the Piped component. It includes options for configuration, networking, caching, and various integrations with cloud services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --app-manifest-cache-count int               The number of app manifests to cache. The cache-key contains the commit hash. The default is 150. (default 150)     \n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-aws-ssm-parameter string            The name of parameter of Piped config stored in AWS Systems Manager Parameter Store. SecureString is also supported.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Implementing Auto-Scrolling Modal in Bootstrap HTML\nDESCRIPTION: This snippet demonstrates a modal with long content that automatically scrolls when it exceeds the viewport height. It includes a header, body with placeholder text, and footer with action buttons.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"modal fade\" id=\"exampleModalLong\" tabindex=\"-1\" aria-labelledby=\"exampleModalLongTitle\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <p>What follows is just some placeholder text for this modal dialog. Sipping on Ros, Silver Lake sun, coming up all lazy. It's in the palm of your hand now baby. So we hit the boulevard. So make a wish, I'll make it like your birthday everyday. Do you ever feel already buried deep six feet under? It's time to bring out the big balloons. You could've been the greatest. Passport stamps, she's cosmopolitan. Your kiss is cosmic, every move is magic.</p>\n        <!-- More paragraphs of placeholder text -->\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Basic Button Dropdown in Bootstrap\nDESCRIPTION: HTML markup for creating a basic dropdown menu triggered by a button element. The dropdown includes three action links within the dropdown menu.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown\">\n  <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropdown button\n  </button>\n  <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n    <a class=\"dropdown-item\" href=\"#\">Action</a>\n    <a class=\"dropdown-item\" href=\"#\">Another action</a>\n    <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Console via Port Forwarding\nDESCRIPTION: This command sets up port forwarding to access the PipeCD console on localhost:8080 after the installation process has completed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Client (pipectl) on Linux or macOS\nDESCRIPTION: This snippet shows how to download and install the PipeCD client (pipectl) for either Linux or macOS. It uses curl to download the binary and then makes it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n# OS=\"darwin\" or \"linux\"\ncurl -Lo ./pipectl https://github.com/pipe-cd/pipecd/releases/download/{{< blocks/latest_version >}}/pipectl_{{< blocks/latest_version >}}_{OS}_amd64\n```\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Setting global pipectl version with asdf\nDESCRIPTION: Sets a global version of pipectl using asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Navbar Position Variants\nDESCRIPTION: Examples of different navbar positioning options including default, fixed-top, fixed-bottom, and sticky-top.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Default</a>\n</nav>\n\n<nav class=\"navbar fixed-top navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Fixed top</a>\n</nav>\n\n<nav class=\"navbar fixed-bottom navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Fixed bottom</a>\n</nav>\n\n<nav class=\"navbar sticky-top navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Sticky top</a>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Registering Helm Release Event\nDESCRIPTION: Command to register a new Helm chart version event with labels using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Checkbox Style Button in Bootstrap\nDESCRIPTION: Example of a checkbox style button toggle using the Button plugin with data-toggle=\"buttons\" and .btn-group-toggle classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group-toggle\" data-toggle=\"buttons\">\n  <label class=\"btn btn-secondary active\">\n    <input type=\"checkbox\" checked> Checked\n  </label>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped Instance\nDESCRIPTION: Shell command to create a Google Cloud VM instance running Piped without remote upgrade capability using the direct piped container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Target Manifest with Attachment Reference\nDESCRIPTION: Example of how to reference attached configuration within a target manifest file using template syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n...\ncontainerDefinitions:\n  - command: \"echo {{ .attachment.config }}\"\n    image: nginx:1\n    cpu: 100\n    memory: 100\n    name: web\n...\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl Version\nDESCRIPTION: Command to check the version of the installed pipectl binary to ensure it's up-to-date.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Conditional File Reading Template in Hugo\nDESCRIPTION: A Hugo template that reads a file and processes its content based on parameters. Supports markdown rendering with markdownify, syntax highlighting with highlight function, or raw HTML output with safeHTML.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/layouts/shortcodes/readfile.md#2025-04-14_snippet_0\n\nLANGUAGE: go-template\nCODE:\n```\n{{$file := .Get \"file\"}}\n{{- if eq (.Get \"markdown\") \"true\" -}}\n{{- $file  | readFile | markdownify -}}\n{{- else if  (.Get \"highlight\") -}}\n{{-  highlight ($file  | readFile) (.Get \"highlight\") \"\" -}}\n{{- else -}}\n{{ $file  | readFile | safeHTML }}\n{{- end -}}\n```\n\n----------------------------------------\n\nTITLE: Creating a Card Group with Equal Dimensions in Bootstrap\nDESCRIPTION: This snippet demonstrates how to create a card group with three cards that have equal width and height. The cards are attached and use 'display: flex' for uniform dimensions starting at the 'sm' breakpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_9\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card-group\">\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This card has supporting text below as a natural lead-in to additional content.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Default Whitelist for Bootstrap Sanitizer\nDESCRIPTION: This code defines the default whitelist used by Bootstrap's built-in sanitizer for Tooltips and Popovers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_9\n\nLANGUAGE: JavaScript\nCODE:\n```\nvar ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i\nvar DefaultWhitelist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  div: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Overflow Utility Classes in HTML\nDESCRIPTION: This snippet demonstrates the usage of Bootstrap's overflow utility classes .overflow-auto and .overflow-hidden. These classes control how content overflows an element with set dimensions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/overflow.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"overflow-auto\">...</div>\n<div class=\"overflow-hidden\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Hidden Page Configuration in YAML\nDESCRIPTION: Front matter configuration to hide a page from both TOC menu and section summary\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"My Hidden Page\"\nweight: 99\ntoc_hide: true\nhide_summary: true\ndescription: >\n  Page hidden from both the TOC menu and the section summary list.\n---\n```\n\n----------------------------------------\n\nTITLE: Feature Phase Definitions Table in Markdown\nDESCRIPTION: Defines the maturity phases used to classify PipeCD features, from Incubating through Stable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/feature-status/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Phase | Definition |\n|-|-|\n| Incubating | Under planning/developing the prototype and still not ready to be used. |\n| Alpha | Demo-able, works end-to-end but has limitations. No guarantees on backward compatibility. |\n| Beta | **Usable in production**. Documented. |\n| Stable | Production hardened. Backward compatibility. Documented. |\n```\n\n----------------------------------------\n\nTITLE: Block Level Buttons in Bootstrap\nDESCRIPTION: Examples of block level buttons that span the full width of a parent element using the .btn-block class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary btn-lg btn-block\">Block level button</button>\n<button type=\"button\" class=\"btn btn-secondary btn-lg btn-block\">Block level button</button>\n```\n\n----------------------------------------\n\nTITLE: Creating Equal-Width Columns with Bootstrap Grid in HTML\nDESCRIPTION: This snippet demonstrates how to create three equal-width columns using Bootstrap's grid system. It uses the 'container', 'row', and 'col-sm' classes to create a responsive layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col-sm\">\n      One of three columns\n    </div>\n    <div class=\"col-sm\">\n      One of three columns\n    </div>\n    <div class=\"col-sm\">\n      One of three columns\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Toggling Bootstrap Popover Enable State\nDESCRIPTION: JavaScript method to toggle the enabled state of a Bootstrap popover\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_15\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('toggleEnabled')\n```\n\n----------------------------------------\n\nTITLE: Hugo Alert Shortcode Usage\nDESCRIPTION: Shows how to implement an alert/tip block in Hugo using shortcodes with a title parameter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Best practices/site-guidance.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n{{% alert title=\"Tip\" %}}\n[Per comments on the known issue](https://github.com/russross/blackfriday/issues/329#issuecomment-277602856), some\nusers have found that using 4 spaces instead of a 'tab' results in consistent behavior. For example, consider\nconfiguring your local editor to use 4 spaces when the **Tab** key is pressed.\n{{% /alert %}}\n```\n\n----------------------------------------\n\nTITLE: Accessing Pprof Index Page in Piped\nDESCRIPTION: Command to access the pprof index page that lists available profiling data through Piped's admin server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Triggering Bootstrap Tooltip via JavaScript\nDESCRIPTION: This example demonstrates how to trigger a tooltip programmatically using JavaScript and how to set custom options like the boundary.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n$('#example').tooltip(options)\n\n$('#example').tooltip({ boundary: 'window' })\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Cloud Provider in PipeCD\nDESCRIPTION: This snippet shows how to add a Kubernetes cloud provider to the PipeCD configuration. It specifies a name and type for the provider, connecting to the Kubernetes cluster where piped is running.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Responsive Navbar with Bootstrap\nDESCRIPTION: Example of a responsive light-themed navbar that includes branding, navigation links with dropdown, and a search form. The navbar automatically collapses at the large (lg) breakpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n\n  <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n    <ul class=\"navbar-nav mr-auto\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item dropdown\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n          Dropdown\n        </a>\n        <div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n          <a class=\"dropdown-item\" href=\"#\">Action</a>\n          <a class=\"dropdown-item\" href=\"#\">Another action</a>\n          <div class=\"dropdown-divider\"></div>\n          <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n        </div>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n    <form class=\"form-inline my-2 my-lg-0\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n      <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n    </form>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Registering Event with pipectl Command\nDESCRIPTION: Command to register a new event using pipectl CLI tool to trigger configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: MySQL FULLTEXT Index Creation Error on JSON Field\nDESCRIPTION: Shows the error encountered when trying to create a FULLTEXT index directly on a JSON field expression in MySQL. Indicates that a stored generated column is required as an intermediate step.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_5\n\nLANGUAGE: sql\nCODE:\n```\n# MySQL v8\nmysql> CREATE FULLTEXT INDEX idz ON applications ((CAST(data->>'$.name' AS CHAR(10))));\nERROR 3759 (HY000): Fulltext functional index is not supported.\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally with Config File\nDESCRIPTION: Command to run the Piped agent locally with a specified configuration file, with option to connect to a local Control Plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Aligning Media Objects in HTML\nDESCRIPTION: This snippet demonstrates different alignment options for media objects using Bootstrap's flexbox utilities. It includes examples of top, center, and bottom alignment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/media-object.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"media\">\n  {{< placeholder width=\"64\" height=\"64\" class=\"align-self-start mr-3\" >}}\n  <div class=\"media-body\">\n    <h5 class=\"mt-0\">Top-aligned media</h5>\n    <p>I'm gon' put her in a coma. You give a hundred reasons why, and you say you're really gonna try. So I sat quietly, agreed politely. Suiting up for my crowning battle. And on my 18th Birthday we got matching tattoos. So trs chic, yeah, she's a classic. I am ready for the road less traveled.</p>\n    <p>I'm walking on air (tonight). But down to earth. You're original, cannot be replaced. But in another life I would be your girl. We drove to Cali and got drunk on the beach. We can dance, until we die, you and I, will be young forever. Saw you downtown singing the Blues.</p>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Disabled Element Popover Example\nDESCRIPTION: HTML markup showing how to implement a popover on a disabled button by using a wrapper span with pointer-events styling. This is a workaround for the limitation of disabled elements not triggering events.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"d-inline-block\" data-toggle=\"popover\" data-content=\"Disabled popover\">\n  <button class=\"btn btn-primary\" style=\"pointer-events: none;\" type=\"button\" disabled>Disabled button</button>\n</span>\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade PipeCD Control Plane to a new version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote-upgrade on Kubernetes using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode with remote-upgrade enabled. It allows upgrading Piped from the web console while restricting its permissions to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Common HTML Position Classes\nDESCRIPTION: Basic position utility classes for static, relative, absolute, fixed, and sticky positioning of elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/position.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"position-static\">...</div>\n<div class=\"position-relative\">...</div>\n<div class=\"position-absolute\">...</div>\n<div class=\"position-fixed\">...</div>\n<div class=\"position-sticky\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the configuration file structure for a Terraform application in PipeCD. It includes the API version, kind, and basic spec fields like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Lambda Examples\nDESCRIPTION: Table showing AWS Lambda deployment examples with different strategies and configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/lambda/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Indicating Variables with var tag\nDESCRIPTION: Example showing how to mark variables in mathematical expressions using the HTML var tag.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/code.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<var>y</var> = <var>m</var><var>x</var> + <var>b</var>\n```\n\n----------------------------------------\n\nTITLE: Basic Card with Stretched Link\nDESCRIPTION: Example of implementing a stretched link within a Bootstrap card component. The card contains an image placeholder, title, text, and a button that becomes clickable across the entire card area.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/stretched-link.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\" \" title=\"Card image cap\" >}}\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card with stretched link</h5>\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n    <a href=\"#\" class=\"btn btn-primary stretched-link\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Building Carousel with Indicators and Controls in HTML\nDESCRIPTION: HTML structure for a carousel with both indicators and navigation controls. The indicators show the user's current position in the slideshow and allow direct navigation to specific slides.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-ride=\"carousel\">\n  <ol class=\"carousel-indicators\">\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"0\" class=\"active\"></li>\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"1\"></li>\n    <li data-target=\"#carouselExampleIndicators\" data-slide-to=\"2\"></li>\n  </ol>\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleIndicators\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Basic Popover Toggle Button Example\nDESCRIPTION: HTML markup for a basic Bootstrap popover toggle button. This example includes title and content data attributes for the popover content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-lg btn-danger\" data-toggle=\"popover\" title=\"Popover title\" data-content=\"And here's some amazing content. It's very engaging. Right?\">Click to toggle popover</button>\n```\n\n----------------------------------------\n\nTITLE: Configuring Manifest Attachment for ECS Application in YAML\nDESCRIPTION: PipeCD application configuration specifying the attachment source and target files for an ECS application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: PipeCD Initialization Command\nDESCRIPTION: Command to initialize a new PipeCD application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0011-pipectrl-init.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ pipectl init\n```\n\n----------------------------------------\n\nTITLE: Aligning Flex Content End\nDESCRIPTION: Shows how to align flex items to the end of the container using align-content-end utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-end flex-wrap\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with List-Based Navigation in Bootstrap\nDESCRIPTION: Example of a navbar with list-based navigation links. Shows how to implement active states with the .active class and includes a toggler for responsive behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Features</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Pricing</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Displaying GitHub Release Badge in Markdown\nDESCRIPTION: This code snippet shows how to embed a GitHub release badge using Markdown syntax. The badge indicates a successful release status for the PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/one-release-comment.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![RELEASE](https://img.shields.io/static/v1?label=GitHub&message=RELEASE&color=success&style=flat)](https://github.com/pipe-cd/actions-gh-release)\n```\n\n----------------------------------------\n\nTITLE: Defining YAML Frontmatter for PipeCD Documentation Page\nDESCRIPTION: This YAML frontmatter defines metadata for the PipeCD documentation welcome page. It specifies the title, link title, and type of the page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.41.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Binary Executable\nDESCRIPTION: Command to change the permissions of the pipectl binary file to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with Brand on Left and Toggler on Right in Bootstrap\nDESCRIPTION: This example demonstrates a navbar with the brand name shown on the left and the toggler on the right. It includes navigation links and a search form within the collapsible content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_13\n\nLANGUAGE: HTML\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n\n  <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n    <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n    <form class=\"form-inline my-2 my-lg-0\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\">\n      <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n    </form>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Adding Active Items to List Group in HTML\nDESCRIPTION: Shows how to indicate the current active selection in a list group using the .active class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group\">\n  <li class=\"list-group-item active\" aria-current=\"true\">An active item</li>\n  <li class=\"list-group-item\">A second item</li>\n  <li class=\"list-group-item\">A third item</li>\n  <li class=\"list-group-item\">A fourth item</li>\n  <li class=\"list-group-item\">And a fifth one</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Starting Local Documentation Server\nDESCRIPTION: Command to start the local documentation server after installing dependencies.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/build-tools.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nnpm run docs-serve\n```\n\n----------------------------------------\n\nTITLE: Implementing Additive Borders in HTML\nDESCRIPTION: Examples of adding borders to elements using utility classes for all sides or individual sides.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/borders.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"border\"></span>\n<span class=\"border-top\"></span>\n<span class=\"border-right\"></span>\n<span class=\"border-bottom\"></span>\n<span class=\"border-left\"></span>\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher with Labels in .pipe directory\nDESCRIPTION: Example of an EventWatcher configuration that includes labels for more specific event targeting, allowing the same event name to be used across different environments or applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/event-watcher.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Creating Custom File Inputs in Bootstrap Input Groups\nDESCRIPTION: This snippet shows how to implement custom file input elements within Bootstrap input groups. It includes examples with prepended and appended labels or buttons, and requires the bs-custom-file-input plugin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"inputGroupFileAddon01\">Upload</span>\n  </div>\n  <div class=\"custom-file\">\n    <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\">\n    <label class=\"custom-file-label\" for=\"inputGroupFile01\">Choose file</label>\n  </div>\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"custom-file\">\n    <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile02\">\n    <label class=\"custom-file-label\" for=\"inputGroupFile02\" aria-describedby=\"inputGroupFileAddon02\">Choose file</label>\n  </div>\n  <div class=\"input-group-append\">\n    <span class=\"input-group-text\" id=\"inputGroupFileAddon02\">Upload</span>\n  </div>\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"inputGroupFileAddon03\">Button</button>\n  </div>\n  <div class=\"custom-file\">\n    <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile03\" aria-describedby=\"inputGroupFileAddon03\">\n    <label class=\"custom-file-label\" for=\"inputGroupFile03\">Choose file</label>\n  </div>\n</div>\n\n<div class=\"input-group\">\n  <div class=\"custom-file\">\n    <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile04\" aria-describedby=\"inputGroupFileAddon04\">\n    <label class=\"custom-file-label\" for=\"inputGroupFile04\">Choose file</label>\n  </div>\n  <div class=\"input-group-append\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"inputGroupFileAddon04\">Button</button>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Updating Custom Checkbox Styles in SCSS\nDESCRIPTION: This snippet shows how to style custom checkboxes and radios in Bootstrap 4. It uses pseudo-elements for the background and icon, allowing for easier customization of individual components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_0\n\nLANGUAGE: scss\nCODE:\n```\n.custom-control-label::before {\n  // styles for fill and gradient\n}\n\n.custom-control-label::after {\n  // styles for icon\n}\n```\n\n----------------------------------------\n\nTITLE: Handling ScrollSpy Activation Events in JavaScript\nDESCRIPTION: Example demonstrating how to bind to the activate.bs.scrollspy event which fires whenever a new item becomes activated by the scrollspy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n$('[data-spy=\"scroll\"]').on('activate.bs.scrollspy', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar Brand in Bootstrap\nDESCRIPTION: Examples showing how to implement the navbar brand as either a link or a heading. The navbar brand is typically used for displaying company, product, or project name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<!-- As a link -->\n<nav class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n</nav>\n\n<!-- As a heading -->\n<nav class=\"navbar navbar-light bg-light\">\n  <span class=\"navbar-brand mb-0 h1\">Navbar</span>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Executable\nDESCRIPTION: This command changes the permissions of the pipectl binary to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Migrating PipeCD Data from MongoDB to MySQL using pipectl\nDESCRIPTION: Command to migrate all data from a MongoDB instance to a MySQL instance using the pipectl datastore migrate command. It specifies source and target connection strings and the database name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/migrate-control-plane-datastore-to-mysql.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ pipectl datastore migrate \\\n    --upstream-data-src=\"mongodb://127.0.0.1:27017/quickstart\" \\\n    --downstream-data-src=\"root:test@tcp(127.0.0.1:3306)\" \\\n    --database=quickstart\n```\n\n----------------------------------------\n\nTITLE: Visualizing Traffic Routing in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart shows the traffic routing stage of a Blue/Green deployment in Amazon ECS. All traffic is now directed to the canary service running version 2 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_8\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        %% transparent line\n        sd --- 1a\n        linkStyle 1 stroke-width:0px\n        \n        sd -- 50% --> 2a\n        sd -- 50% --> 2b\n\n        subgraph s1[service-abc-primary]\n            direction LR\n            1a[Task v1]\n            1b[Task v1]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n            2b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Toggle State Button in Bootstrap\nDESCRIPTION: Example of a button with toggle state functionality using data-toggle=\"button\" attribute for the Button plugin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"button\" aria-pressed=\"false\">\n  Single toggle\n</button>\n```\n\n----------------------------------------\n\nTITLE: Alternative KubernetesApp ImageWatcher Configuration\nDESCRIPTION: An alternative approach considered but not implemented, which would define the image watcher configuration directly in the Deployment Configuration rather than as a separate file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0001-image-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  imageWatcher:\n    targets:\n    - image: gcr.io/pipecd/helloworld\n      path:\n        filename: deployment.yaml\n        field: spec.containers[0].image\n      provider: my-dockerhub\n```\n\n----------------------------------------\n\nTITLE: Combining Button Groups with Input Groups in HTML\nDESCRIPTION: Integrates button groups with input groups in toolbar layouts. Uses spacing utilities and includes examples with different justification approaches.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-toolbar mb-3\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\n    <button type=\"button\" class=\"btn btn-secondary\">1</button>\n    <button type=\"button\" class=\"btn btn-secondary\">2</button>\n    <button type=\"button\" class=\"btn btn-secondary\">3</button>\n    <button type=\"button\" class=\"btn btn-secondary\">4</button>\n  </div>\n  <div class=\"input-group\">\n    <div class=\"input-group-prepend\">\n      <div class=\"input-group-text\" id=\"btnGroupAddon\">@</div>\n    </div>\n    <input type=\"text\" class=\"form-control\" placeholder=\"Input group example\" aria-label=\"Input group example\" aria-describedby=\"btnGroupAddon\">\n  </div>\n</div>\n\n<div class=\"btn-toolbar justify-content-between\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n  <div class=\"btn-group\" role=\"group\" aria-label=\"First group\">\n    <button type=\"button\" class=\"btn btn-secondary\">1</button>\n    <button type=\"button\" class=\"btn btn-secondary\">2</button>\n    <button type=\"button\" class=\"btn btn-secondary\">3</button>\n    <button type=\"button\" class=\"btn btn-secondary\">4</button>\n  </div>\n  <div class=\"input-group\">\n    <div class=\"input-group-prepend\">\n      <div class=\"input-group-text\" id=\"btnGroupAddon2\">@</div>\n    </div>\n    <input type=\"text\" class=\"form-control\" placeholder=\"Input group example\" aria-label=\"Input group example\" aria-describedby=\"btnGroupAddon2\">\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote Upgrade Support\nDESCRIPTION: Shell command to create a Google Cloud VM instance running Piped with remote upgrade capability using the launcher container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: PostgreSQL JSON Field Text Search Execution Plans with LIKE Operator\nDESCRIPTION: Shows how PostgreSQL handles text search on JSON fields using EXPLAIN statements with the LIKE operator. Demonstrates that PostgreSQL also defaults to sequential scans for JSON field text searches.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_4\n\nLANGUAGE: sql\nCODE:\n```\n# set enable_seqscan=false;\npostgres=> explain select data from test.applications where data->>'name' like 'app-%';\n                                   QUERY PLAN                                    \n---------------------------------------------------------------------------------\n Seq Scan on applications  (cost=10000000000.00..10000000001.05 rows=1 width=32)\n   Filter: ((data ->> 'name'::text) ~~ 'app-%'::text)\n JIT:\n   Functions: 4\n   Options: Inlining true, Optimization true, Expressions true, Deforming true\n(5 rows)\n# set enable_seqscan=true;\npostgres=> explain select data from test.applications where data->>'name' like 'app-%';\n                         QUERY PLAN                          \n-------------------------------------------------------------\n Seq Scan on applications  (cost=0.00..1.04 rows=1 width=32)\n   Filter: ((data ->> 'name'::text) ~~ 'app-%'::text)\n(2 rows)\n```\n\n----------------------------------------\n\nTITLE: Displaying Taxonomy Terms for Articles\nDESCRIPTION: Go HTML template to display all assigned taxonomy terms for each page in the docs section using the 'taxonomy_terms_article' partial.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/taxonomy.md#2025-04-14_snippet_3\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{ $context := . }}\n{{ range $taxo, $taxo_map := .Site.Taxonomies }}\n  {{ partial \"taxonomy_terms_article.html\" (dict \"context\" $context \"taxo\" $taxo ) }}\n{{ end }}\n```\n\n----------------------------------------\n\nTITLE: SCSS No Gutters Implementation\nDESCRIPTION: Shows the SCSS code needed to remove gutters between grid columns by zeroing out margins and padding. Uses attribute selectors to target immediate column children.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_8\n\nLANGUAGE: scss\nCODE:\n```\n.no-gutters {\n  margin-right: 0;\n  margin-left: 0;\n\n  > .col,\n  > [class*=\"col-\"] {\n    padding-right: 0;\n    padding-left: 0;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Responsive Float Classes Example\nDESCRIPTION: Demonstrates responsive float utilities that activate at different viewport breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/float.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"float-sm-left\">Float left on viewports sized SM (small) or wider</div><br>\n<div class=\"float-md-left\">Float left on viewports sized MD (medium) or wider</div><br>\n<div class=\"float-lg-left\">Float left on viewports sized LG (large) or wider</div><br>\n<div class=\"float-xl-left\">Float left on viewports sized XL (extra-large) or wider</div><br>\n```\n\n----------------------------------------\n\nTITLE: Z-Index Component Structure Example\nDESCRIPTION: Demonstrates Bootstrap's z-index scale for component elements showing the hierarchy of states from default to focus.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/extend/approach.md#2025-04-14_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n0 is default (initial), 1 is :hover, 2 is :active/.active, and 3 is :focus.\n```\n\n----------------------------------------\n\nTITLE: Search Exclusion Configuration in YAML\nDESCRIPTION: YAML frontmatter configuration to exclude pages from local search results.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_11\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Index\"\nweight: 10\nexclude_search: true\n---\n```\n\n----------------------------------------\n\nTITLE: YAML Front Matter for PipeCD Release Page Link\nDESCRIPTION: YAML configuration that defines an external link to the PipeCD GitHub releases page. It specifies the title, external link URL, target behavior, and navigation weight.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/releases/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Releases \"\nmanualLink: \"https://github.com/pipe-cd/pipecd/releases\"\nmanualLinkTarget: \"_blank\"\nweight: 99\n---\n```\n\n----------------------------------------\n\nTITLE: Adding Bootstrap to Ruby projects via Bundler\nDESCRIPTION: This snippet shows how to add Bootstrap to a Ruby project's Gemfile when using Bundler. It specifies a version range for compatibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_4\n\nLANGUAGE: ruby\nCODE:\n```\ngem 'bootstrap', '~> {{< param current_ruby_version >}}'\n```\n\n----------------------------------------\n\nTITLE: Inline Elements Vertical Alignment Examples\nDESCRIPTION: Demonstrates the use of vertical alignment utility classes with inline span elements. Shows different alignment options including baseline, top, middle, bottom, text-top, and text-bottom.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/vertical-align.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"align-baseline\">baseline</span>\n<span class=\"align-top\">top</span>\n<span class=\"align-middle\">middle</span>\n<span class=\"align-bottom\">bottom</span>\n<span class=\"align-text-top\">text-top</span>\n<span class=\"align-text-bottom\">text-bottom</span>\n```\n\n----------------------------------------\n\nTITLE: Resolving Namespace Conflicts in Bootstrap Plugins\nDESCRIPTION: This code demonstrates how to use the noConflict method to resolve namespace conflicts when using Bootstrap plugins with other UI frameworks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_7\n\nLANGUAGE: JavaScript\nCODE:\n```\nvar bootstrapButton = $.fn.button.noConflict() // return $.fn.button to previously assigned value\n$.fn.bootstrapBtn = bootstrapButton // give $().bootstrapBtn the Bootstrap functionality\n```\n\n----------------------------------------\n\nTITLE: SEO Meta Description Template\nDESCRIPTION: HTML template for generating meta description tags using page description or content truncation\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/feedback.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n{{ if .Page.Description }}\n  <meta name=\"description\" content=\"{{ .Page.Description }}\">\n{{ else }}\n  {{ $desc := (.Page.Content | safeHTML | truncate 150) }}\n  <meta name=\"description\" content=\"{{ $desc }}\">\n{{ end }}\n```\n\n----------------------------------------\n\nTITLE: Implementing Flex Nowrap Container\nDESCRIPTION: Example of a flex container that prevents items from wrapping using the flex-nowrap utility class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex flex-nowrap\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Nesting Button Groups with Dropdowns in HTML\nDESCRIPTION: Shows how to nest button groups to create dropdown menus mixed with regular buttons. Includes necessary attributes for dropdown functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group\" role=\"group\" aria-label=\"Button group with nested dropdown\">\n  <button type=\"button\" class=\"btn btn-secondary\">1</button>\n  <button type=\"button\" class=\"btn btn-secondary\">2</button>\n\n  <div class=\"btn-group\" role=\"group\">\n    <button id=\"btnGroupDrop1\" type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n      Dropdown\n    </button>\n    <div class=\"dropdown-menu\" aria-labelledby=\"btnGroupDrop1\">\n      <a class=\"dropdown-item\" href=\"#\">Dropdown link</a>\n      <a class=\"dropdown-item\" href=\"#\">Dropdown link</a>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to PATH\nDESCRIPTION: Moves the pipectl executable to the system PATH for global access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with Hidden Brand in Bootstrap\nDESCRIPTION: This example shows a navbar with a hidden brand at the smallest breakpoint. It includes a toggler, navigation links, and a search form. The brand becomes visible when the navbar expands.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_12\n\nLANGUAGE: HTML\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarTogglerDemo01\" aria-controls=\"navbarTogglerDemo01\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarTogglerDemo01\">\n    <a class=\"navbar-brand\" href=\"#\">Hidden brand</a>\n    <ul class=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n      </li>\n    </ul>\n    <form class=\"form-inline my-2 my-lg-0\">\n      <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n      <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n    </form>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Applying Alertmanager Configuration in Helm Installation\nDESCRIPTION: This command applies the Alertmanager configuration when installing PipeCD using Helm.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Custom Grid Configuration\nDESCRIPTION: Example of customizing grid tiers by modifying breakpoints and container widths for a simplified four-tier grid system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_12\n\nLANGUAGE: scss\nCODE:\n```\n$grid-breakpoints: (\n  xs: 0,\n  sm: 480px,\n  md: 768px,\n  lg: 1024px\n);\n\n$container-max-widths: (\n  sm: 420px,\n  md: 720px,\n  lg: 960px\n);\n```\n\n----------------------------------------\n\nTITLE: Hiding Bootstrap Tooltip Using jQuery\nDESCRIPTION: Demonstrates how to programmatically hide a tooltip on an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('hide')\n```\n\n----------------------------------------\n\nTITLE: Applying Alertmanager Configuration in Helm Install\nDESCRIPTION: This command shows how to apply the Alertmanager configuration file during the Helm installation of PipeCD. It uses the '--values' flag to specify the configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Getting Help with pipectl Plan Preview\nDESCRIPTION: Command to display help information for the plan-preview functionality in pipectl, showing all available options and their usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/plan-preview.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\npipectl plan-preview --help\n```\n\n----------------------------------------\n\nTITLE: EventWatcher Configuration with Labels in .pipe Directory (YAML)\nDESCRIPTION: This snippet demonstrates how to use labels to uniquely identify events in the deprecated .pipe directory configuration. It defines an event with labels for environment and application name to distinguish it from other events with the same name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/event-watcher.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: image-update\n      labels:\n        env: dev\n        appName: helloworld\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Enabling Navbar Logo in Docsy Config\nDESCRIPTION: This TOML configuration enables the navbar logo in a Docsy project by setting the 'navbar_logo' parameter to true.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/iconsimages.md#2025-04-14_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\nnavbar_logo = true\n```\n\n----------------------------------------\n\nTITLE: Implementing Visually Hidden Content with Bootstrap in HTML\nDESCRIPTION: This snippet demonstrates how to use the .sr-only class to create content that is visually hidden but remains accessible to assistive technologies. It's useful for providing additional context to non-visual users.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/accessibility.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-danger\">\n  <span class=\"sr-only\">Danger: </span>\n  This action is not reversible\n</p>\n```\n\n----------------------------------------\n\nTITLE: Centering Spinner with Flexbox in HTML\nDESCRIPTION: Demonstrates how to center a spinner using flexbox utilities. The spinner is wrapped in a flex container with justify-content-center class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"d-flex justify-content-center\">\n  <div class=\"spinner-border\" role=\"status\">\n    <span class=\"sr-only\">Loading...</span>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Carousel with Navigation Controls in HTML\nDESCRIPTION: HTML structure for a carousel with previous and next controls. This builds upon the basic slides-only carousel by adding navigation links that allow users to manually advance or return to previous slides.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleControls\" class=\"carousel slide\" data-ride=\"carousel\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleControls\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Modifying Default Plugin Settings in Bootstrap\nDESCRIPTION: This example shows how to change the default settings for a Bootstrap plugin by modifying its Constructor.Default object.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_6\n\nLANGUAGE: JavaScript\nCODE:\n```\n// changes default for the modal plugin's `keyboard` option to false\n$.fn.modal.Constructor.Default.keyboard = false\n```\n\n----------------------------------------\n\nTITLE: Collecting CPU Profile in Piped\nDESCRIPTION: This command collects CPU profiling data from Piped and saves it to a file named cpu.pprof. It uses curl to send a GET request to the /debug/pprof/profile endpoint and redirects the output to a file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Listing Firestore Composite Indexes using gcloud CLI\nDESCRIPTION: Command to retrieve and format the list of composite indexes from Google Firestore. The output is formatted as JSON and sorted by name, with the __name__ field removed from the final output.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/ops/firestoreindexensurer/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngcloud firestore indexes composite list --format=json --sort-by=name\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Card Shortcode in Hugo\nDESCRIPTION: Demonstrates how to create a basic card element with header, title, subtitle, and footer parameters using the card shortcode. Shows implementation using song lyrics as example content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_11\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* card header=\"**Imagine**\" title=\"Artist and songwriter: John Lennon\" subtitle=\"Co-writer: Yoko Ono\"\n          footer=\"![SignatureJohnLennon](https://server.tld//signature.png \\\"Signature John Lennon\\\")\">*/>}}\nImagine there's no heaven, It's easy if you try<br/>\nNo hell below us, above us only sky<br/>\nImagine all the people living for today\n\n\n{{</* /card */>}}\n```\n\n----------------------------------------\n\nTITLE: Implementing Vertically Centered Bootstrap Modals\nDESCRIPTION: Shows how to create vertically centered modal dialogs using Bootstrap classes. Includes both standard and scrollable variants using modal-dialog-centered class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<!-- Vertically centered modal -->\n<div class=\"modal-dialog modal-dialog-centered\">\n  ...\n</div>\n\n<!-- Vertically centered scrollable modal -->\n<div class=\"modal-dialog modal-dialog-centered modal-dialog-scrollable\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Enabling Alert Dismissal with JavaScript\nDESCRIPTION: This snippet shows how to initialize alert dismissal functionality using JavaScript. This makes alerts listen for click events on elements with the data-dismiss attribute.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/alerts.md#2025-04-14_snippet_0\n\nLANGUAGE: js\nCODE:\n```\n$('.alert').alert()\n```\n\n----------------------------------------\n\nTITLE: Implementing Nested Navigation Scrollspy in HTML\nDESCRIPTION: This snippet shows how to create a nested navigation structure with scrollspy functionality using Bootstrap classes and data attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<nav id=\"navbar-example3\" class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <nav class=\"nav nav-pills flex-column\">\n    <a class=\"nav-link\" href=\"#item-1\">Item 1</a>\n    <nav class=\"nav nav-pills flex-column\">\n      <a class=\"nav-link ml-3 my-1\" href=\"#item-1-1\">Item 1-1</a>\n      <a class=\"nav-link ml-3 my-1\" href=\"#item-1-2\">Item 1-2</a>\n    </nav>\n    <a class=\"nav-link\" href=\"#item-2\">Item 2</a>\n    <a class=\"nav-link\" href=\"#item-3\">Item 3</a>\n    <nav class=\"nav nav-pills flex-column\">\n      <a class=\"nav-link ml-3 my-1\" href=\"#item-3-1\">Item 3-1</a>\n      <a class=\"nav-link ml-3 my-1\" href=\"#item-3-2\">Item 3-2</a>\n    </nav>\n  </nav>\n</nav>\n\n<div data-spy=\"scroll\" data-target=\"#navbar-example3\" data-offset=\"0\">\n  <h4 id=\"item-1\">Item 1</h4>\n  <p>...</p>\n  <h5 id=\"item-1-1\">Item 1-1</h5>\n  <p>...</p>\n  <h5 id=\"item-1-2\">Item 1-2</h5>\n  <p>...</p>\n  <h4 id=\"item-2\">Item 2</h4>\n  <p>...</p>\n  <h4 id=\"item-3\">Item 3</h4>\n  <p>...</p>\n  <h5 id=\"item-3-1\">Item 3-1</h5>\n  <p>...</p>\n  <h5 id=\"item-3-2\">Item 3-2</h5>\n  <p>...</p>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Making pipectl binary executable\nDESCRIPTION: Command to change permissions on the downloaded pipectl binary to make it executable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Adding Image to Navbar Brand in Bootstrap\nDESCRIPTION: Example showing how to add just an image to the navbar brand. Custom styles or utilities are typically required to properly size images in the navbar brand.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<!-- Just an image -->\n<nav class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">\n    <img src=\"/docs/{{< param docs_version >}}/assets/brand/bootstrap-solid.svg\" width=\"30\" height=\"30\" alt=\"\">\n  </a>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Creating New Hugo Site with Docsy Theme\nDESCRIPTION: These commands create a new Hugo site, add Docsy as a submodule, and configure it as the site's theme.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\nhugo new site myproject\ncd myproject\ngit init\ngit submodule add https://github.com/google/docsy.git themes/docsy\necho 'theme = \"docsy\"' >> config.toml\ngit submodule update --init --recursive\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Brand Icons via NPM\nDESCRIPTION: Command to install @fortawesome/free-brands-svg-icons package using npm package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-brands-svg-icons/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm i --save @fortawesome/free-brands-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Displaying Inline Code with HTML code tag\nDESCRIPTION: Example of using the code tag to display inline code snippets with proper HTML escaping for angle brackets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/code.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\nFor example, <code>&lt;section&gt;</code> should be wrapped as inline.\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Web Directory Structure\nDESCRIPTION: This snippet shows the directory structure of the PipeCD web project, including key folders for components, API clients, hooks, and more. It provides a clear overview of the project's organization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsrc\n __fixtures__ # dummy models\n api # API clients\n components # shared components\n   comp-name\n      comp-name # component's components\n      index.tsx\n      index.test.ts\n      index.stories.ts\n constants # shared constants\n hooks # shared hooks\n middlewares # redux middlewares\n mocks # API mock files\n   services\n modules # redux modules\n   module-name\n      index.ts\n      index.test.ts\n styles # shared styles\n types # application types\n utils # utils files\n```\n\n----------------------------------------\n\nTITLE: Creating Small Button Dropdown Groups in Bootstrap\nDESCRIPTION: Shows how to implement small-sized button dropdowns using the btn-sm class modifier, including both default and split button variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<!-- Small button groups (default and split) -->\n<div class=\"btn-group\">\n  <button class=\"btn btn-secondary btn-sm dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Small button\n  </button>\n  <div class=\"dropdown-menu\">\n    ...\n  </div>\n</div>\n<div class=\"btn-group\">\n  <button class=\"btn btn-secondary btn-sm\" type=\"button\">\n    Small split button\n  </button>\n  <button type=\"button\" class=\"btn btn-sm btn-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <span class=\"sr-only\">Toggle Dropdown</span>\n  </button>\n  <div class=\"dropdown-menu\">\n    ...\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: CSS Margin Utility Example\nDESCRIPTION: Example of margin utility class for controlling element spacing with responsive variants\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/utilities-for-layout.md#2025-04-14_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n.mr-3, .mr-md-3\n```\n\n----------------------------------------\n\nTITLE: Applying Relative Positioning for Scrollspy in CSS\nDESCRIPTION: This CSS snippet shows how to apply relative positioning to the body element, which is required for scrollspy to function properly.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_3\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  position: relative;\n}\n```\n\n----------------------------------------\n\nTITLE: Initializing Modal Event Listener in JavaScript\nDESCRIPTION: This snippet demonstrates how to set up an event listener for a modal's show event, extracting data attributes and updating the modal content dynamically.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\n$('#exampleModal').on('show.bs.modal', function (event) {\n  var button = $(event.relatedTarget) // Button that triggered the modal\n  var recipient = button.data('whatever') // Extract info from data-* attributes\n  // If necessary, you could initiate an AJAX request here (and then do the updating in a callback).\n  // Update the modal's content. We'll use jQuery here, but you could use a data binding library or other methods instead.\n  var modal = $(this)\n  modal.find('.modal-title').text('New message to ' + recipient)\n  modal.find('.modal-body input').val(recipient)\n})\n```\n\n----------------------------------------\n\nTITLE: Referencing YAML Configuration File\nDESCRIPTION: The default configuration file name for PipeCD applications that contains application information and settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/concepts/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napp.pipecd.yaml\n```\n\n----------------------------------------\n\nTITLE: MySQL JSON Field Text Search Execution Plans with LIKE Operator\nDESCRIPTION: Demonstrates how MySQL handles text search on JSON fields using EXPLAIN statements with different approaches. Shows that normal indexes are not used when the LIKE operator is applied to JSON fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_3\n\nLANGUAGE: sql\nCODE:\n```\nmysql> EXPLAIN SELECT data->\"$.name\" FROM applications FORCE INDEX (idx) WHERE CAST(data->>'$.name' AS CHAR(10)) = 'app-1';\n+----+-------------+--------------+------------+------+---------------+------+---------+-------+------+----------+-------+\n| id | select_type | table        | partitions | type | possible_keys | key  | key_len | ref   | rows | filtered | Extra |\n+----+-------------+--------------+------------+------+---------------+------+---------+-------+------+----------+-------+\n|  1 | SIMPLE      | applications | NULL       | ref  | idx           | idx  | 13      | const |    1 |   100.00 | NULL  |\n+----+-------------+--------------+------------+------+---------------+------+---------+-------+------+----------+-------+\n1 row in set, 1 warning (0.00 sec)\n\nmysql> EXPLAIN SELECT data->\"$.name\" FROM applications FORCE INDEX (idx) WHERE CAST(data->>'$.name' AS CHAR(10)) LIKE 'app-%';\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n| id | select_type | table        | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | applications | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    6 |   100.00 | Using where |\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n\nmysql> EXPLAIN SELECT data->\"$.name\" FROM applications FORCE INDEX (idy) WHERE JSON_VALUE(data, '$.name' RETURNING CHAR(10)) LIKE 'app-%';\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n| id | select_type | table        | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n|  1 | SIMPLE      | applications | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    6 |   100.00 | Using where |\n+----+-------------+--------------+------------+------+---------------+------+---------+------+------+----------+-------------+\n1 row in set, 1 warning (0.00 sec)\n```\n\n----------------------------------------\n\nTITLE: Creating Anchor-Based Dropdown in Bootstrap\nDESCRIPTION: HTML markup for creating a dropdown menu triggered by an anchor link instead of a button. This implementation uses the same dropdown structure but with an <a> element as the trigger.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown\">\n  <a class=\"btn btn-secondary dropdown-toggle\" href=\"#\" role=\"button\" id=\"dropdownMenuLink\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropdown link\n  </a>\n\n  <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n    <a class=\"dropdown-item\" href=\"#\">Action</a>\n    <a class=\"dropdown-item\" href=\"#\">Another action</a>\n    <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Asdf - Installing version\nDESCRIPTION: Command to install a specific version of pipectl using Asdf version manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\n----------------------------------------\n\nTITLE: Navbar Container Implementation\nDESCRIPTION: Examples showing how to wrap navbar components in containers for centered positioning and responsive behavior.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"container\">\n  <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n    <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  </nav>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for BlueGreen Deployment in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService for a blue-green deployment. It routes all traffic to the 'primary' subset of the service, which can be adjusted during the deployment process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Executing External Script File in SCRIPT_RUN Stage\nDESCRIPTION: Example showing how to execute an external script file within the SCRIPT_RUN stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: script-run\n  pipeline:\n    stages:\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            sh script.sh\n```\n\n----------------------------------------\n\nTITLE: Visualizing Initial State in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart shows the initial state before a Blue/Green deployment in Amazon ECS. All traffic is routed to the primary service running version 1 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_6\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v1]\n            1b[Task v1]\n        end\n    end\n```\n\n----------------------------------------\n\nTITLE: Styling SVG Logo in Docsy Navbar\nDESCRIPTION: This SCSS snippet defines the default styling for SVG logos in the Docsy navbar, including display properties, margins, and height.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/iconsimages.md#2025-04-14_snippet_2\n\nLANGUAGE: scss\nCODE:\n```\nsvg {\n    display: inline-block;\n    margin: 0 10px;\n    height: 30px;\n}\n```\n\n----------------------------------------\n\nTITLE: Setting One Column Width in Bootstrap Grid HTML\nDESCRIPTION: This example demonstrates how to set the width of one column while allowing sibling columns to automatically resize. It uses predefined grid classes to control column widths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">\n      1 of 3\n    </div>\n    <div class=\"col-6\">\n      2 of 3 (wider)\n    </div>\n    <div class=\"col\">\n      3 of 3\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col\">\n      1 of 3\n    </div>\n    <div class=\"col-5\">\n      2 of 3 (wider)\n    </div>\n    <div class=\"col\">\n      3 of 3\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Width Utilities in HTML and CSS\nDESCRIPTION: This snippet shows how to use Bootstrap's width utilities to set element widths as percentages of their parent container. It includes examples for 25%, 50%, 75%, 100%, and auto widths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/sizing.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"w-25 p-3\" style=\"background-color: #eee;\">Width 25%</div>\n<div class=\"w-50 p-3\" style=\"background-color: #eee;\">Width 50%</div>\n<div class=\"w-75 p-3\" style=\"background-color: #eee;\">Width 75%</div>\n<div class=\"w-100 p-3\" style=\"background-color: #eee;\">Width 100%</div>\n<div class=\"w-auto p-3\" style=\"background-color: #eee;\">Width auto</div>\n```\n\n----------------------------------------\n\nTITLE: Full Bootstrap Sass Import\nDESCRIPTION: Example of importing all Bootstrap Sass components\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_2\n\nLANGUAGE: scss\nCODE:\n```\n// Custom.scss\n// Option A: Include all of Bootstrap\n\n@import \"../node_modules/bootstrap/scss/bootstrap\";\n\n// Add custom code after this\n```\n\n----------------------------------------\n\nTITLE: Example Meta Description Frontmatter\nDESCRIPTION: Example of setting page description in markdown frontmatter for SEO purposes\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/feedback.md#2025-04-14_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n---\ndescription: >\n  Add Google Analytics tracking to your site.\n---\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Runtime Options\nDESCRIPTION: Command-line flags for configuring the Piped agent, including settings for admin server, caching, security, cloud providers, and tool management. Default values and configuration options for logging, metrics, and profiling are also provided.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/runtime-options.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nUsage:\n  piped piped [flags]\n\nFlags:\n      --add-login-user-to-passwd                   Whether to add login user to $HOME/passwd. This is typically for applications running as a random user ID.\n      --admin-port int                             The port number used to run a HTTP server for admin tasks such as metrics, healthz. (default 9085)\n      --app-manifest-cache-count int               The number of app manifests to cache. The cache-key contains the commit hash. The default is 150. (default 150)     \n      --cert-file string                           The path to the TLS certificate file.\n      --config-aws-secret string                   The ARN of secret that contains Piped config and be stored in AWS Secrets Manager.\n      --config-data string                         The base64 encoded string of the configuration data.\n      --config-file string                         The path to the configuration file.\n      --config-gcp-secret string                   The resource ID of secret that contains Piped config and be stored in GCP SecretManager.\n      --enable-default-kubernetes-cloud-provider   Whether the default kubernetes provider is enabled or not. This feature is deprecated.\n      --grace-period duration                      How long to wait for graceful shutdown. (default 30s)\n  -h, --help                                       help for piped\n      --insecure                                   Whether disabling transport security while connecting to control-plane.\n      --launcher-version string                    The version of launcher which initialized this Piped.\n      --tools-dir string                           The path to directory where to install needed tools such as kubectl, helm, kustomize. (default \"~/.piped/tools\")\n\nGlobal Flags:\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Align Self Examples\nDESCRIPTION: Demonstrates individual flex item alignment using align-self utilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"align-self-start\">Aligned flex item</div>\n<div class=\"align-self-end\">Aligned flex item</div>\n<div class=\"align-self-center\">Aligned flex item</div>\n<div class=\"align-self-baseline\">Aligned flex item</div>\n<div class=\"align-self-stretch\">Aligned flex item</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Asynchronous QUnit Test for Bootstrap Components\nDESCRIPTION: Example of an asynchronous QUnit test for Bootstrap components using assert.async(). It demonstrates how to set up tooltips, spy on methods using Sinon, and test event-driven functionality with proper test completion signaling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/js/tests/README.md#2025-04-14_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\n// Asynchronous test\nQUnit.test('should describe the unit being tested', function (assert) {\n  assert.expect(2)\n  var done = assert.async()\n\n  var $tooltip = $('<div title=\"tooltip title\"></div>').bootstrapTooltip()\n  var tooltipInstance = $tooltip.data('bs.tooltip')\n  var spyShow = sinon.spy(tooltipInstance, 'show')\n\n  $tooltip.appendTo('#qunit-fixture')\n    .on('shown.bs.tooltip', function () {\n      assert.ok(true, '\"shown\" event was fired after calling \"show\"')\n      assert.ok(spyShow.called, 'show called')\n      done()\n    })\n    .bootstrapTooltip('show')\n})\n```\n\n----------------------------------------\n\nTITLE: Supported CSS Variable Usage Within Media Query\nDESCRIPTION: Shows the correct way to use CSS custom properties within media query rulesets. Variables can be used inside the declaration blocks of media queries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_14\n\nLANGUAGE: css\nCODE:\n```\n@media (min-width: 768px) {\n  .custom-element {\n    color: var(--primary);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Visualizing Primary Rollout in ECS Blue/Green Deployment\nDESCRIPTION: This Mermaid flowchart depicts the primary rollout stage of a Blue/Green deployment in Amazon ECS. The primary service is updated to version 2 tasks, but traffic is still routed to the canary service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_9\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        %% transparent line\n        sd --- 1a\n        linkStyle 1 stroke-width:0px\n        \n        sd -- 50% --> 2a\n        sd -- 50% --> 2b\n\n        subgraph s1[service-abc-primary]\n            direction LR\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n            2b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Event and Encryption Commands\nDESCRIPTION: Commands for registering events and encrypting data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/command-line-tool.md#2025-04-14_snippet_9\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Fixed Bottom Position HTML Class\nDESCRIPTION: Utility class for positioning an element fixed at the bottom of the viewport edge-to-edge.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/position.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"fixed-bottom\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Application Config\nDESCRIPTION: YAML configuration showing how to define event watching behavior within a Kubernetes application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Implementing List Group with Badges in HTML\nDESCRIPTION: Demonstrates how to add badges to list group items to show unread counts or other information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_7\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group\">\n  <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n    A list item\n    <span class=\"badge badge-primary badge-pill\">14</span>\n  </li>\n  <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n    A second list item\n    <span class=\"badge badge-primary badge-pill\">2</span>\n  </li>\n  <li class=\"list-group-item d-flex justify-content-between align-items-center\">\n    A third list item\n    <span class=\"badge badge-primary badge-pill\">1</span>\n  </li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Plan Preview Badge in Markdown\nDESCRIPTION: Creates a shield.io badge link to the PipeCD Plan Preview documentation, providing a visual indicator of the plan preview status.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-has-failed-piped.txt#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n[![PLAN_PREVIEW](https://img.shields.io/static/v1?label=PipeCD&message=Plan_Preview&color=orange&style=flat)](https://pipecd.dev/docs/user-guide/plan-preview/)\n```\n\n----------------------------------------\n\nTITLE: Implementing Scrollable Navbar with Bootstrap\nDESCRIPTION: This snippet demonstrates how to create a scrollable navbar using Bootstrap classes. It includes a brand, toggler, navigation links, dropdown menu, and search form. The navbar uses .navbar-nav-scroll for vertical scrolling within collapsed content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_11\n\nLANGUAGE: HTML\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar scroll</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarScroll\" aria-controls=\"navbarScroll\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarScroll\">\n    <ul class=\"navbar-nav mr-auto my-2 my-lg-0 navbar-nav-scroll\" style=\"max-height: 100px;\">\n      <li class=\"nav-item active\">\n        <a class=\"nav-link\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" href=\"#\">Link</a>\n      </li>\n      <li class=\"nav-item dropdown\">\n        <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarScrollingDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n          Link\n        </a>\n        <ul class=\"dropdown-menu\" aria-labelledby=\"navbarScrollingDropdown\">\n          <li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n          <li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n          <li><hr class=\"dropdown-divider\"></li>\n          <li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n        </ul>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Link</a>\n      </li>\n    </ul>\n    <form class=\"d-flex\">\n      <input class=\"form-control mr-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n      <button class=\"btn btn-outline-success\" type=\"submit\">Search</button>\n    </form>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Capturing CPU Profile Data\nDESCRIPTION: Commands to capture CPU profile data and analyze it using Go's pprof tool. The profile data is saved to a file and then analyzed using the pprof command line tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/profile > cpu.pprof\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool pprof cpu.pprof\n```\n\n----------------------------------------\n\nTITLE: Applying Shadow Utilities in HTML with Bootstrap\nDESCRIPTION: This snippet demonstrates the use of Bootstrap's shadow utility classes to add different levels of shadow to div elements. It includes examples for no shadow, small shadow, regular shadow, and larger shadow.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/shadows.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"shadow-none p-3 mb-5 bg-light rounded\">No shadow</div>\n<div class=\"shadow-sm p-3 mb-5 bg-white rounded\">Small shadow</div>\n<div class=\"shadow p-3 mb-5 bg-white rounded\">Regular shadow</div>\n<div class=\"shadow-lg p-3 mb-5 bg-white rounded\">Larger shadow</div>\n```\n\n----------------------------------------\n\nTITLE: Right-Aligning Pagination Component with Flexbox\nDESCRIPTION: This example shows how to right-align a pagination component using the justify-content-end flexbox utility class. It includes disabled state for the Previous link and active states for other navigation items.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"Page navigation example\">\n  <ul class=\"pagination justify-content-end\">\n    <li class=\"page-item disabled\">\n      <a class=\"page-link\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Previous</a>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\">Next</a>\n    </li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding PipeCD Console\nDESCRIPTION: Sets up port forwarding to access the PipeCD console on localhost:8080.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset of the application, setting the stage for canary deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Registering Helm Release Event\nDESCRIPTION: Command to register a new Helm chart version event using pipectl with labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address=CONTROL_PLANE_API_ADDRESS \\\n    --api-key=API_KEY \\\n    --name=helm-release \\\n    --labels env=dev,appName=helloworld \\\n    --data=0.2.0\n```\n\n----------------------------------------\n\nTITLE: Displaying Taxonomy Term Cloud\nDESCRIPTION: Go HTML template to display a cloud of all used terms for each taxonomy using the 'taxonomy_terms_cloud' partial.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/taxonomy.md#2025-04-14_snippet_4\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{ $context := . }}\n{{ range $taxo, $taxo_map := .Site.Taxonomies }}\n  {{ partial \"taxonomy_terms_cloud.html\" (dict \"context\" $context \"taxo\" $taxo \"title\" ( humanize $taxo ) ) }}\n{{ end }}\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Connection Address\nDESCRIPTION: Template code demonstrating variable interpolation for PipeCD address configuration using Go templating syntax\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/manifests/piped/templates/NOTES.txt#2025-04-14_snippet_0\n\nLANGUAGE: go-template\nCODE:\n```\n{{ .Values.args.address }}\n```\n\n----------------------------------------\n\nTITLE: Handling Bootstrap Popover Hidden Event in JavaScript\nDESCRIPTION: Example showing how to bind an event handler to the hidden.bs.popover event using jQuery. This event fires when a popover has completely finished being hidden from the user, including any CSS transitions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_17\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myPopover').on('hidden.bs.popover', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Kitchen Sink Card Example\nDESCRIPTION: Demonstrates a card combining multiple content types including image, text, list group, and links\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_2\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  <div class=\"card-img-top\">Image cap</div>\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card title</h5>\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n  </div>\n  <ul class=\"list-group list-group-flush\">\n    <li class=\"list-group-item\">An item</li>\n    <li class=\"list-group-item\">A second item</li>\n    <li class=\"list-group-item\">A third item</li>\n  </ul>\n  <div class=\"card-body\">\n    <a href=\"#\" class=\"card-link\">Card link</a>\n    <a href=\"#\" class=\"card-link\">Another link</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Toast Event Handler Example\nDESCRIPTION: Example of attaching an event handler to toast hidden event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myToast').on('hidden.bs.toast', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Deleting an Application with pipectl\nDESCRIPTION: Deletes a specific application using its ID with pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Disabling PipeCD Web API Mocking\nDESCRIPTION: This configuration in the .env file explicitly disables API mocking, allowing the web application to connect to a real API server instead of using mocked responses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\nENABLE_MOCK=false\n```\n\n----------------------------------------\n\nTITLE: YAML Front Matter Configuration for Docsy Documentation\nDESCRIPTION: YAML configuration block that sets up the page title, link title, and menu properties for the main documentation page of a Docsy site. Includes Font Awesome icon configuration for the menu item.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Welcome to Docsy\"\nlinkTitle: \"Documentation\"\nmenu:\n  main:\n    weight: 20\n    pre: <i class='fas fa-book'></i>\n```\n\n----------------------------------------\n\nTITLE: Implementing Growing Spinner in HTML\nDESCRIPTION: Creates a growing spinner, which repeatedly grows instead of spinning. It uses similar structure to the border spinner but with a different class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_2\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"spinner-grow\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Breadcrumb Navigation in HTML\nDESCRIPTION: Demonstrates the HTML structure for creating breadcrumb navigation with varying levels of depth. Includes examples for single-level, two-level, and three-level breadcrumbs using Bootstrap classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/breadcrumb.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"breadcrumb\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">Home</li>\n  </ol>\n</nav>\n\n<nav aria-label=\"breadcrumb\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><a href=\"#\">Home</a></li>\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">Library</li>\n  </ol>\n</nav>\n\n<nav aria-label=\"breadcrumb\">\n  <ol class=\"breadcrumb\">\n    <li class=\"breadcrumb-item\"><a href=\"#\">Home</a></li>\n    <li class=\"breadcrumb-item\"><a href=\"#\">Library</a></li>\n    <li class=\"breadcrumb-item active\" aria-current=\"page\">Data</li>\n  </ol>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Implementing Actionable List Group Items with Links in HTML\nDESCRIPTION: Demonstrates how to create clickable list group items using anchor tags and appropriate classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"list-group\">\n  <a href=\"#\" class=\"list-group-item list-group-item-action active\" aria-current=\"true\">\n    The current link item\n  </a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action\">A second link item</a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action\">A third link item</a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action\">A fourth link item</a>\n  <a href=\"#\" class=\"list-group-item list-group-item-action disabled\" tabindex=\"-1\" aria-disabled=\"true\">A disabled link item</a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Syncing an application with immediate exit\nDESCRIPTION: Command to trigger a sync operation for an application and exit immediately when the deployment is triggered.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Sticky Top Position HTML Class\nDESCRIPTION: Utility class for sticky positioning at viewport top, using position: sticky. Includes IE11/IE10 fallback to position: relative.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/position.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"sticky-top\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Centering Flex Content\nDESCRIPTION: Illustrates centering flex items in the container using align-content-center utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-center flex-wrap\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Google Cloud VM Installation\nDESCRIPTION: This YAML configuration defines the essential settings for a Piped instance including project ID, authentication credentials, API connection details, Git repository information, and optional features like Cloud Run, Terraform, and Secret Management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Cloud Run application.\n  # platformProviders:\n  #  - name: cloudrun-in-project\n  #    type: CLOUDRUN\n  #    config:\n  #      project: {GCP_PROJECT_ID}\n  #      region: {GCP_PROJECT_REGION}\n\n  # Optional\n  # Uncomment this if you want to enable this Piped to handle Terraform application.\n  #  - name: terraform-gcp\n  #    type: TERRAFORM\n\n  # Optional\n  # Uncomment this if you want to enable SecretManagement feature.\n  # https://pipecd.dev//docs/user-guide/managing-application/secret-management/\n  # secretManagement:\n  #   type: KEY_PAIR\n  #   config:\n  #     privateKeyData: {BASE64_ENCODED_PRIVATE_KEY}\n  #     publicKeyData: {BASE64_ENCODED_PUBLIC_KEY}\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio DestinationRule for Canary Deployment in Kubernetes\nDESCRIPTION: Defines an Istio DestinationRule that creates subsets for primary and canary variants using PipeCD variant labels. This resource is required for enabling traffic splitting between deployment variants.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: DestinationRule\nmetadata:\n  name: mesh-istio-canary\nspec:\n  host: mesh-istio-canary.default.svc.cluster.local\n  subsets:\n  - name: primary\n    labels:\n      pipecd.dev/variant: primary\n  - name: canary\n    labels:\n      pipecd.dev/variant: canary\n```\n\n----------------------------------------\n\nTITLE: Sized Input Groups in HTML\nDESCRIPTION: Demonstrates different sizing options for input groups using input-group-sm, default, and input-group-lg classes, which automatically resize all contents.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group input-group-sm mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"inputGroup-sizing-sm\">Small</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-sm\">\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"inputGroup-sizing-default\">Default</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-default\">\n</div>\n\n<div class=\"input-group input-group-lg\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"inputGroup-sizing-lg\">Large</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Sizing example input\" aria-describedby=\"inputGroup-sizing-lg\">\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Dropleft Menus in Bootstrap\nDESCRIPTION: Shows how to create dropdown menus that appear to the left of the trigger element using the .dropleft class. Includes both default and split button variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<!-- Default dropleft button -->\n<div class=\"btn-group dropleft\">\n  <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropleft\n  </button>\n  <div class=\"dropdown-menu\">\n    <!-- Dropdown menu links -->\n  </div>\n</div>\n\n<!-- Split dropleft button -->\n<div class=\"btn-group\">\n  <div class=\"btn-group dropleft\" role=\"group\">\n    <button type=\"button\" class=\"btn btn-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n      <span class=\"sr-only\">Toggle Dropleft</span>\n    </button>\n    <div class=\"dropdown-menu\">\n      <!-- Dropdown menu links -->\n    </div>\n  </div>\n  <button type=\"button\" class=\"btn btn-secondary\">\n    Split dropleft\n  </button>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Brand Icons via Yarn\nDESCRIPTION: Alternative command to install @fortawesome/free-brands-svg-icons package using yarn package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-brands-svg-icons/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ yarn add @fortawesome/free-brands-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Creating Color Variants of Border Spinners in HTML\nDESCRIPTION: Demonstrates how to create border spinners with different color variants using Bootstrap's text color utilities. Each spinner uses a different theme color class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n{{< spinner.inline >}}\n{{- range (index $.Site.Data \"theme-colors\") }}\n<div class=\"spinner-border text-{{ .name }}\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n{{- end -}}\n{{< /spinner.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Show Toast Method Example\nDESCRIPTION: JavaScript method to programmatically show a toast element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').toast('show')\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Lambda Application Examples\nDESCRIPTION: Table showing AWS Lambda deployment examples with different deployment strategies and configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/lambda/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in YAML using .pipe directory (Deprecated)\nDESCRIPTION: Example of creating an EventWatcher configuration file that specifies which files and YAML fields should be updated when a new event occurs. This method is deprecated in favor of application configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Configuring Front Matter for PipeCD Documentation\nDESCRIPTION: YAML front matter block that defines the title, link title and type for the PipeCD documentation welcome page. This metadata is used to structure and display the documentation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.49.x]\"\ntype: docs\n```\n\n----------------------------------------\n\nTITLE: Implementing Split Danger Button Dropdown in Bootstrap\nDESCRIPTION: Creates a split button dropdown with danger styling. The button is divided into two parts - the main action button and a dropdown toggle, with a menu containing multiple action items.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!-- Example split danger button -->\n<div class=\"btn-group\">\n  <button type=\"button\" class=\"btn btn-danger\">Action</button>\n  <button type=\"button\" class=\"btn btn-danger dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <span class=\"sr-only\">Toggle Dropdown</span>\n  </button>\n  <div class=\"dropdown-menu\">\n    <a class=\"dropdown-item\" href=\"#\">Action</a>\n    <a class=\"dropdown-item\" href=\"#\">Another action</a>\n    <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n    <div class=\"dropdown-divider\"></div>\n    <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Aqua - Adding to config\nDESCRIPTION: Command to add pipectl to the Aqua configuration file using Aqua's generator command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\n```\n\n----------------------------------------\n\nTITLE: Aligning Spinners with Margin Utilities in HTML\nDESCRIPTION: Shows how to use margin utilities to add spacing around a spinner. This example uses the m-5 class for margin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"spinner-border m-5\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating ECS Service for Piped (Bash)\nDESCRIPTION: Bash command to create an ECS service that controls the Piped task deployment, ensuring continuous operation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Cloning Docsy Example Site\nDESCRIPTION: This command clones the Docsy example site repository, including all submodules, to create a local copy for editing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\ngit clone --recurse-submodules --depth 1 https://github.com/my/example.git\n```\n\n----------------------------------------\n\nTITLE: Defining Z-index Scale in SCSS\nDESCRIPTION: Sets up a standardized z-index scale for Bootstrap components to ensure consistent layering of elements like dropdowns, modals, and tooltips.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_5\n\nLANGUAGE: scss\nCODE:\n```\n$zindex-dropdown:          1000 !default;\n$zindex-sticky:            1020 !default;\n$zindex-fixed:             1030 !default;\n$zindex-modal-backdrop:    1040 !default;\n$zindex-modal:             1050 !default;\n$zindex-popover:           1060 !default;\n$zindex-tooltip:           1070 !default;\n```\n\n----------------------------------------\n\nTITLE: Border Color Theming in HTML\nDESCRIPTION: Example of applying theme-based border colors using border utility classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/borders.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"border border-white\"></span>\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap via Composer\nDESCRIPTION: This command installs Bootstrap using Composer, a dependency management tool for PHP.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_6\n\nLANGUAGE: sh\nCODE:\n```\ncomposer require twbs/bootstrap:{{< param current_version >}}\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Free Regular SVG Icons with NPM\nDESCRIPTION: Command to install the @fortawesome/free-regular-svg-icons package using NPM. This installs the SVG with JavaScript version of Font Awesome 5 regular icons as a project dependency.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-regular-svg-icons/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ npm i --save @fortawesome/free-regular-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Restarting Only the PipeCD Server Component\nDESCRIPTION: Commands to restart only the server component while preserving data in other services. This allows updating the server without losing Piped or application configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-local-docker-compose.md#2025-04-14_snippet_2\n\nLANGUAGE: sh\nCODE:\n```\n# Restart only the server component.\ndocker-compose rm -fsv pipecd-server\ndocker-compose up pipecd-server\n```\n\n----------------------------------------\n\nTITLE: Advanced Stretched Link Examples\nDESCRIPTION: Demonstrates various cases where stretched links may or may not work based on CSS positioning and transforms. Includes examples of containing block behavior modifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/stretched-link.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\" \" title=\"Card image cap\" >}}\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card with stretched links</h5>\n    <p class=\"card-text\">Some quick example text to build on the card title and make up the bulk of the card's content.</p>\n    <p class=\"card-text\">\n      <a href=\"#\" class=\"stretched-link text-danger\" style=\"position: relative;\">Stretched link will not work here, because <code>position: relative</code> is added to the link</a>\n    </p>\n    <p class=\"card-text bg-light\" style=\"transform: rotate(0);\">\n      This <a href=\"#\" class=\"text-warning stretched-link\">stretched link</a> will only be spread over the <code>p</code>-tag, because a transform is applied to it.\n    </p>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Feature Block\nDESCRIPTION: Implements a single feature block with icon, title, and content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_3\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{% blocks/feature icon=\"fab fa-github\" title=\"Contributions welcome!\" url=\"https://github.com/gohugoio/hugo\" %}}\nWe do a [Pull Request](https://github.com/gohugoio/hugo/pulls) contributions workflow on **GitHub**. New users are always welcome!\n{{% /blocks/feature %}}\n```\n\n----------------------------------------\n\nTITLE: Example Preformatted CSS Block\nDESCRIPTION: Demonstration of preformatted text styling using the <pre> element, showing CSS margin properties with rem units.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/reboot.md#2025-04-14_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n.example-element {\n  margin-bottom: 1rem;\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Bootstrap Figure Implementation with Caption\nDESCRIPTION: This snippet demonstrates how to implement a basic figure element with an image and caption using Bootstrap's figure component classes. It applies the .figure class to the container, .figure-img and other utility classes to the image placeholder, and .figure-caption to the caption text.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/figures.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<figure class=\"figure\">\n  {{< placeholder width=\"400\" height=\"300\" class=\"figure-img img-fluid rounded\" >}}\n  <figcaption class=\"figure-caption\">A caption for the above image.</figcaption>\n</figure>\n```\n\n----------------------------------------\n\nTITLE: Using Monospace Font in HTML\nDESCRIPTION: This snippet demonstrates how to use the .text-monospace class to change text to a monospace font stack.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-monospace\">This is in monospace</p>\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap via yarn\nDESCRIPTION: This command installs Bootstrap using the yarn package manager, an alternative to npm for Node.js applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_3\n\nLANGUAGE: sh\nCODE:\n```\nyarn add bootstrap\n```\n\n----------------------------------------\n\nTITLE: Displaying Plan Details in Markdown with Diff Syntax\nDESCRIPTION: This snippet demonstrates how to use Markdown to create a collapsible section for plan details. It includes a diff code block to show the planned changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-no-env.txt#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n<details>\n<summary>Details (Click me)</summary>\n<p>\n\n``` diff\nplan-details-1\n```\n</p>\n</details>\n```\n\n----------------------------------------\n\nTITLE: Creating Encryption Key Secret\nDESCRIPTION: Command to generate and store a random encryption key in AWS Secrets Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name encryption-key \\\n--description \"Encryption key for control plane\" \\\n--secret-string `openssl rand 64 | base64`\n```\n\n----------------------------------------\n\nTITLE: Reporting Go Runtime Metrics in Prometheus Format\nDESCRIPTION: This snippet shows various Go runtime metrics exported in Prometheus format. It includes metrics for garbage collection, memory usage, goroutines, and threads. These metrics provide insights into the Go application's performance and resource utilization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/piped/statsreporter/testdata/metrics.txt#2025-04-14_snippet_0\n\nLANGUAGE: prometheus\nCODE:\n```\n# HELP go_gc_duration_seconds A summary of the pause duration of garbage collection cycles.\n# TYPE go_gc_duration_seconds summary\ngo_gc_duration_seconds{quantile=\"0\"} 3.8913e-05\ngo_gc_duration_seconds{quantile=\"0.25\"} 4.4122e-05\ngo_gc_duration_seconds{quantile=\"0.5\"} 6.918e-05\ngo_gc_duration_seconds{quantile=\"0.75\"} 0.00014006\ngo_gc_duration_seconds{quantile=\"1\"} 0.00017785\ngo_gc_duration_seconds_sum 0.000994407\ngo_gc_duration_seconds_count 11\n# HELP go_goroutines Number of goroutines that currently exist.\n# TYPE go_goroutines gauge\ngo_goroutines 305\n# HELP go_info Information about the Go environment.\n# TYPE go_info gauge\ngo_info{version=\"go1.14.4\"} 1\n# HELP go_memstats_alloc_bytes Number of bytes allocated and still in use.\n# TYPE go_memstats_alloc_bytes gauge\ngo_memstats_alloc_bytes 1.2961024e+07\n# HELP go_threads Number of OS threads created.\n# TYPE go_threads gauge\ngo_threads 23\n```\n\n----------------------------------------\n\nTITLE: Importing Bootstrap JavaScript Bundle\nDESCRIPTION: Shows how to import the complete Bootstrap JavaScript bundle into the application entry point.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\nimport 'bootstrap';\n```\n\n----------------------------------------\n\nTITLE: Rendering Examples Gallery Using Hugo Templating\nDESCRIPTION: This Hugo template iterates through examples data, organizing them by category and displaying each example with an image, title, and description in a responsive grid layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/examples/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: hugo\nCODE:\n```\n{{< list-examples.inline >}}\n{{ range $entry := $.Site.Data.examples -}}\n  <h2>{{ $entry.category }}</h2>\n  <p>{{ $entry.description }}</p>\n\n  {{ range $i, $example := $entry.examples -}}\n    {{- $len := len $entry.examples -}}\n    {{ if (eq $i 0) }}<div class=\"row\">{{ end }}\n      <div class=\"col-sm-6 col-md-4 col-xl-3 mb-3\">\n        <a href=\"/docs/{{ $.Site.Params.docs_version }}/examples/{{ $example.name | urlize }}/\">\n          <img class=\"img-thumbnail mb-3\" srcset=\"/docs/{{ $.Site.Params.docs_version }}/assets/img/examples/{{ $example.name | urlize }}.png,\n                                                  /docs/{{ $.Site.Params.docs_version }}/assets/img/examples/{{ $example.name | urlize }}@2x.png 2x\"\n                                          src=\"/docs/{{ $.Site.Params.docs_version }}/assets/img/examples/{{ $example.name | urlize }}.png\"\n                                          alt=\"\"\n                                          width=\"480\" height=\"300\"\n                                          loading=\"lazy\">\n          <h3 class=\"h5 mb-1\">{{ $example.name }}</h3>\n        </a>\n        <p class=\"text-muted\">{{ $example.description }}</p>\n      </div>\n    {{ if (eq (add $i 1) $len) }}</div>{{ end }}\n  {{ end -}}\n{{ end -}}\n{{< /list-examples.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Terraform Examples\nDESCRIPTION: Table showing Terraform application deployment examples, including simple deployments, module usage, and approval workflows.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/terraform/simple) |  Automatically applies when any changes were detected.  |\n```\n\n----------------------------------------\n\nTITLE: Starting Local Kubernetes Cluster with Kind\nDESCRIPTION: Command to start a local Kubernetes cluster using Kind for development purposes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/contribution-guidelines/development.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nmake kind-up\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote-upgrade on Google Cloud VM\nDESCRIPTION: Shell command to create a Google Cloud VM instance running Piped with remote-upgrade capability using the launcher container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/launcher:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"launcher\" \\\n  --container-arg=\"--config-from-gcp-secret=true\" \\\n  --container-arg=\"--gcp-secret-id=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Remote for Docsy Site\nDESCRIPTION: These commands set up the Git remote for a new Docsy-based site repository and push the initial content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\ngit remote set-url origin https://github.com/MY-SITE/EXAMPLE.git\ngit remote -v\ngit push -u origin master\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for NodePort Services in Kubernetes\nDESCRIPTION: This snippet retrieves the application URL for NodePort services. It uses kubectl commands to get the node port and IP, then constructs the URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/plugin/kubernetes/provider/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nexport NODE_PORT=$(kubectl get --namespace {{ .Release.Namespace }} -o jsonpath=\"{.spec.ports[0].nodePort}\" services {{ include \"testchart.fullname\" . }})\nexport NODE_IP=$(kubectl get nodes --namespace {{ .Release.Namespace }} -o jsonpath=\"{.items[0].status.addresses[0].address}\")\necho http://$NODE_IP:$NODE_PORT\n```\n\n----------------------------------------\n\nTITLE: Creating Small-Sized Pagination Component\nDESCRIPTION: This example shows how to create a smaller pagination component using the .pagination-sm class. It includes an active state for the current page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"...\">\n  <ul class=\"pagination pagination-sm\">\n    <li class=\"page-item active\" aria-current=\"page\">\n      <span class=\"page-link\">1</span>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Initializing Toast via JavaScript\nDESCRIPTION: Basic JavaScript initialization of toast components with optional configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\n$('.toast').toast(option)\n```\n\n----------------------------------------\n\nTITLE: Creating Full-Width Fluid Container in HTML\nDESCRIPTION: Applies the .container-fluid class to create a full-width container that spans the entire width of the viewport.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"container-fluid\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: YAML configuration for defining an AWS ECS application in PipeCD with basic settings including name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Cloning a Git Repository with Submodules in Bash\nDESCRIPTION: This command clones a Git repository and its submodules, which is necessary for Docsy theme sites. The --recurse-submodules flag ensures all submodules are also cloned, while --depth 1 creates a shallow clone to save space.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Deployment/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone --recurse-submodules --depth 1 https://github.com/my/example.git\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher using .pipe Directory\nDESCRIPTION: Example of deprecated EventWatcher configuration using the .pipe directory to update Kubernetes manifests when specific events occur.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/event-watcher.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Using Helm Chart Repository in Kubernetes App Configuration\nDESCRIPTION: Kubernetes application configuration using a Helm chart from a chart repository. This specifies the repository name, chart name, and version to use.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Dispose Toast Method Example\nDESCRIPTION: JavaScript method to dispose of a toast element while keeping it in the DOM.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_7\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').toast('dispose')\n```\n\n----------------------------------------\n\nTITLE: Implementing Navbar with Non-List Navigation in Bootstrap\nDESCRIPTION: Example of a navbar with navigation links implemented without using list elements. Navigation is implemented using div and anchor elements with the appropriate classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n  </button>\n  <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n    <div class=\"navbar-nav\">\n      <a class=\"nav-link active\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n      <a class=\"nav-link\" href=\"#\">Features</a>\n      <a class=\"nav-link\" href=\"#\">Pricing</a>\n      <a class=\"nav-link disabled\" href=\"#\" tabindex=\"-1\" aria-disabled=\"true\">Disabled</a>\n    </div>\n  </div>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Displaying application add help\nDESCRIPTION: Shows detailed help information for the 'application add' command including all available flags and their descriptions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl application add --help\n\nAdd a new application.\n\nUsage:\n  pipectl application add [flags]\n\nFlags:\n      --app-dir string            The relative path from the root of repository to the application directory.\n      --app-kind string           The kind of application. (KUBERNETES|TERRAFORM|LAMBDA|CLOUDRUN)\n      --app-name string           The application name.\n      --platform-provider string  The platform provider name. One of the registered providers in the piped configuration. The previous name of this field is cloud-provider.\n      --config-file-name string   The configuration file name. (default \"app.pipecd.yaml\")\n      --description string        The description of the application.\n  -h, --help                      help for add\n      --piped-id string           The ID of piped that should handle this application.\n      --repo-id string            The repository ID. One the registered repositories in the piped configuration.\n\nGlobal Flags:\n      --address string                     The address to Control Plane api.\n      --api-key string                     The API key used while authenticating with Control Plane.\n      --api-key-file string                Path to the file containing API key used while authenticating with Control Plane.\n      --cert-file string                   The path to the TLS certificate file.\n      --insecure                           Whether disabling transport security while connecting to Control Plane.\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n```\n\n----------------------------------------\n\nTITLE: Applying Font Weight and Italics in HTML\nDESCRIPTION: This snippet shows how to use Bootstrap classes to change the weight of text or italicize it.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"font-weight-bold\">Bold text.</p>\n<p class=\"font-weight-bolder\">Bolder weight text (relative to the parent element).</p>\n<p class=\"font-weight-normal\">Normal weight text.</p>\n<p class=\"font-weight-light\">Light weight text.</p>\n<p class=\"font-weight-lighter\">Lighter weight text (relative to the parent element).</p>\n<p class=\"font-italic\">Italic text.</p>\n```\n\n----------------------------------------\n\nTITLE: Rendering Canary Deployment Flow After Canary Rollout\nDESCRIPTION: A mermaid flowchart illustrating the state after canary rollout (scale:50). It shows the addition of a canary service with a v2 task, which is not yet receiving traffic from Service Discovery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_1\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v1]\n            1b[Task v1]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Secrets Manager\nDESCRIPTION: This Bash command stores the Piped configuration in AWS Secrets Manager. It creates a secret named 'PipedConfig' with the base64-encoded content of the piped-config.yaml file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\n----------------------------------------\n\nTITLE: Application Configuration with Encrypted Secrets\nDESCRIPTION: YAML configuration showing how to specify encrypted secrets in a PipeCD application configuration file. It includes the encryptedSecrets section for storing encrypted values and decryptionTargets for files that should be processed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/secret-management.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\n# One of Piped defined app kind such as: KubernetesApp\nkind: {APPLICATION_KIND}\nspec:\n  encryption:\n    encryptedSecrets:\n      password: encrypted-data\n    decryptionTargets:\n      - secret.yaml\n```\n\n----------------------------------------\n\nTITLE: Implementing Subtractive Borders in HTML\nDESCRIPTION: Examples of removing borders from elements using utility classes for all sides or individual sides.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/borders.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<span class=\"border-0\"></span>\n<span class=\"border-top-0\"></span>\n<span class=\"border-right-0\"></span>\n<span class=\"border-bottom-0\"></span>\n<span class=\"border-left-0\"></span>\n```\n\n----------------------------------------\n\nTITLE: Creating Nested Media Objects in HTML\nDESCRIPTION: This example shows how to nest media objects within each other. It uses multiple levels of `.media` and `.media-body` classes to create a hierarchical structure.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/media-object.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"media\">\n  {{< placeholder width=\"64\" height=\"64\" class=\"mr-3\" >}}\n  <div class=\"media-body\">\n    <h5 class=\"mt-0\">Media heading</h5>\n    <p>Standing on the frontline when the bombs start to fall. Heaven is jealous of our love, angels are crying from up above. Can't replace you with a million rings. Boy, when you're with me I'll give you a taste. There's no going back. Before you met me I was alright but things were kinda heavy. Heavy is the head that wears the crown.</p>\n\n    <div class=\"media mt-3\">\n      <a class=\"mr-3\" href=\"#\">\n        {{< placeholder width=\"64\" height=\"64\" >}}\n      </a>\n      <div class=\"media-body\">\n        <h5 class=\"mt-0\">Media heading</h5>\n        <p>Greetings loved ones let's take a journey. Yes, we make angels cry, raining down on earth from up above. Give you something good to celebrate. I used to bite my tongue and hold my breath. I'm ma get your heart racing in my skin-tight jeans. As I march alone to a different beat. Summer after high school when we first met. You're so hypnotizing, could you be the devil? Could you be an angel? It's time to bring out the big balloons. Thought that I was the exception. Bikinis, zucchinis, Martinis, no weenies.</p>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: YAML Frontmatter Configuration for PipeCD Documentation\nDESCRIPTION: YAML frontmatter block that configures the documentation page title, link title and page type for the PipeCD documentation homepage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.51.x]\"\ntype: docs\n```\n\n----------------------------------------\n\nTITLE: Defining Hugo Front Matter for Browser Bugs Page\nDESCRIPTION: Sets up the Hugo front matter that defines the page title, group, and URL aliases for the browser bugs documentation page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/browser-bugs.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\nlayout: docs\ntitle: Wall of browser bugs\ngroup: browser-bugs\naliases: \"/browser-bugs/\"\n---\n```\n\n----------------------------------------\n\nTITLE: Updating Bootstrap Tooltip Position Using jQuery\nDESCRIPTION: Demonstrates how to update the position of a tooltip using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('update')\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Cloud Run Examples\nDESCRIPTION: Table listing Cloud Run deployment examples, showcasing various deployment strategies and configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/examples/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/cloudrun/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Activating Modal via JavaScript\nDESCRIPTION: This JavaScript snippet demonstrates how to activate a modal programmatically using jQuery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').modal(options)\n```\n\n----------------------------------------\n\nTITLE: Attaching Event Handler to Bootstrap Dropdown in JavaScript\nDESCRIPTION: Example of how to listen for dropdown events by attaching an event handler to a dropdown element. This code demonstrates how to react when a dropdown is about to be shown by binding to the 'show.bs.dropdown' event.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myDropdown').on('show.bs.dropdown', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Customizing Git User Settings for Event Watcher in PipeCD\nDESCRIPTION: This YAML configuration shows how to customize the git username and email used for commits made by Event Watcher. By default, it uses 'piped' as username and 'pipecd.dev@gmail.com' as email.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Basic YAML configuration for an AWS ECS application in PipeCD, specifying application name and team labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Adding Documentation Section to Main Menu in YAML\nDESCRIPTION: Front matter configuration to add a documentation section to the main navigation menu with a custom icon\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Welcome to Docsy\"\nlinkTitle: \"Documentation\"\nmenu:\n  main:\n    weight: 20\n    pre: <i class='fas fa-book'></i>\n---\n```\n\n----------------------------------------\n\nTITLE: Defining Modal Sizes in HTML\nDESCRIPTION: These HTML snippets demonstrate how to set different sizes for modals using Bootstrap's predefined classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_12\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"modal-dialog modal-xl\">...</div>\n<div class=\"modal-dialog modal-lg\">...</div>\n<div class=\"modal-dialog modal-sm\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Customizing Bootstrap Grid with Spacing Utilities\nDESCRIPTION: This HTML example shows how to customize the Bootstrap grid at the medium breakpoint using spacing utilities. It increases column padding and counteracts it with negative margin on the row.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/spacing.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"row mx-md-n5\">\n  <div class=\"col px-md-5\"><div class=\"p-3 border bg-light\">Custom column padding</div></div>\n  <div class=\"col px-md-5\"><div class=\"p-3 border bg-light\">Custom column padding</div></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Including Bootstrap CSS and JS via CDN in HTML\nDESCRIPTION: This snippet demonstrates how to include Bootstrap's compiled CSS and JavaScript files via jsDelivr CDN. It includes the integrity hashes for security.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<link rel=\"stylesheet\" href=\"{{< param \"cdn.css\" >}}\" integrity=\"{{< param \"cdn.css_hash\" >}}\" crossorigin=\"anonymous\">\n<script src=\"{{< param \"cdn.js_bundle\" >}}\" integrity=\"{{< param \"cdn.js_bundle_hash\" >}}\" crossorigin=\"anonymous\"></script>\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap Sass via NuGet\nDESCRIPTION: This PowerShell command installs the Bootstrap Sass package using NuGet, allowing for customization in .NET projects.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_8\n\nLANGUAGE: powershell\nCODE:\n```\nInstall-Package bootstrap.sass\n```\n\n----------------------------------------\n\nTITLE: Font Display CSS Property\nDESCRIPTION: Default font-display CSS property setting introduced in v5.7.0.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_4\n\nLANGUAGE: css\nCODE:\n```\nfont-display: auto\n```\n\n----------------------------------------\n\nTITLE: Disabling Table of Contents for Print View\nDESCRIPTION: TOML configuration to disable the table of contents in the printable view by setting the disable_toc parameter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/print.md#2025-04-14_snippet_1\n\nLANGUAGE: toml\nCODE:\n```\n[params.print]\ndisable_toc = true\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: Example of a Kubernetes Deployment manifest that might be used in a PipeCD application. It defines a simple deployment with replicas and container specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Creating Alert Block\nDESCRIPTION: Implements an alert block for displaying notices or warnings with customizable colors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_5\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{% alert title=\"Warning\" color=\"warning\" %}}\nThis is a warning.\n{{% /alert %}}\n```\n\n----------------------------------------\n\nTITLE: Unstyled List Implementation\nDESCRIPTION: Example of removing default list styling using Bootstrap's list-unstyled class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/typography.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<ul class=\"list-unstyled\">\n  <li>This is a list.</li>\n  <li>It appears completely unstyled.</li>\n  <li>Structurally, it's still a list.</li>\n  <li>However, this style only applies to immediate child elements.</li>\n  <li>Nested lists:\n    <ul>\n      <li>are unaffected by this style</li>\n      <li>will still show a bullet</li>\n      <li>and have appropriate left margin</li>\n    </ul>\n  </li>\n  <li>This may still come in handy in some situations.</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Verifying pipectl installation\nDESCRIPTION: Command to check the version of pipectl to ensure successful installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Using Text-Hide Mixin in SCSS\nDESCRIPTION: This SCSS snippet shows how to use the text-hide mixin to apply the text hiding functionality to a custom class. It's used within a .heading class definition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/image-replacement.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n// Usage as a mixin\n.heading {\n  @include text-hide;\n}\n```\n\n----------------------------------------\n\nTITLE: Algolia DocSearch Configuration in TOML\nDESCRIPTION: TOML configuration for enabling Algolia DocSearch functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_8\n\nLANGUAGE: toml\nCODE:\n```\n# Enable Algolia DocSearch\nalgolia_docsearch = true\n```\n\n----------------------------------------\n\nTITLE: Defining Piped Configuration with Plugin Support in YAML\nDESCRIPTION: YAML configuration for the Piped agent that defines plugin configurations and deploy targets. This replaces the previous platform provider concept with plugin-based deployTargets that can be labeled and configured separately.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0015-pipecd-plugin-arch-meta.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n...\n  plugin:\n    - name: k8s_plugin\n      port: 8081\n      deployTargets:\n        - name: dev\n          labels: \n            env: dev\n          config: # depends on plugins\n            masterURL: http://cluster-dev\n            kubeConfigPath: ./kubeconfig-dev\n```\n\n----------------------------------------\n\nTITLE: Button Tag Variations in Bootstrap\nDESCRIPTION: Examples showing how the .btn classes can be applied to different HTML elements including anchor, button, and input types.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<a class=\"btn btn-primary\" href=\"#\" role=\"button\">Link</a>\n<button class=\"btn btn-primary\" type=\"submit\">Button</button>\n<input class=\"btn btn-primary\" type=\"button\" value=\"Input\">\n<input class=\"btn btn-primary\" type=\"submit\" value=\"Submit\">\n<input class=\"btn btn-primary\" type=\"reset\" value=\"Reset\">\n```\n\n----------------------------------------\n\nTITLE: Displaying Bootstrap Precompiled File Structure\nDESCRIPTION: Shows the directory structure of the precompiled Bootstrap package, including CSS and JS files with their variations (minified, map files, etc.).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/contents.md#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nbootstrap/\n css/\n    bootstrap-grid.css\n    bootstrap-grid.css.map\n    bootstrap-grid.min.css\n    bootstrap-grid.min.css.map\n    bootstrap-reboot.css\n    bootstrap-reboot.css.map\n    bootstrap-reboot.min.css\n    bootstrap-reboot.min.css.map\n    bootstrap.css\n    bootstrap.css.map\n    bootstrap.min.css\n    bootstrap.min.css.map\n js/\n     bootstrap.bundle.js\n     bootstrap.bundle.js.map\n     bootstrap.bundle.min.js\n     bootstrap.bundle.min.js.map\n     bootstrap.js\n     bootstrap.js.map\n     bootstrap.min.js\n     bootstrap.min.js.map\n```\n\n----------------------------------------\n\nTITLE: Generating Version List with Hugo Templating\nDESCRIPTION: This snippet uses Hugo templating to iterate through Bootstrap documentation versions, grouping them and creating a list of links. It highlights the latest version and organizes versions in descending order.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/versions.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n{{< list-versions.inline >}}\n<div class=\"row\">\n  {{- range $release := sort (index $.Site.Data \"docs-versions\") \"group\" \"desc\" }}\n  <div class=\"col-md-6 col-lg-4 col-xl mb-4\">\n    <h2>{{ $release.group }}</h2>\n    <p>{{ $release.description }}</p>\n    {{- $versions := sort $release.versions \"v\" \"desc\" -}}\n    {{- range $i, $version := $versions }}\n      {{- $len := len $versions -}}\n      {{ if (eq $i 0) }}<div class=\"list-group\">{{ end }}\n        <a class=\"list-group-item list-group-item-action py-2 text-primary{{ if (eq $version.v $.Site.Params.docs_version) }} d-flex justify-content-between align-items-center{{ end }}\" href=\"{{ $release.baseurl }}/{{ $version.v }}/\">\n          {{ $version.v }}\n          {{ if (eq $version.v $.Site.Params.docs_version) -}}\n          <span class=\"badge badge-primary\">Latest</span>\n          {{- end }}\n        </a>\n      {{ if (eq (add $i 1) $len) }}</div>{{ end }}\n    {{ end -}}\n  </div>\n  {{ end -}}\n</div>\n{{< /list-versions.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Starting Local Kubernetes Cluster with Kind\nDESCRIPTION: Command to create a local Kubernetes cluster using Kind for development purposes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipecd/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nmake kind-up\n```\n\n----------------------------------------\n\nTITLE: Disabling an application\nDESCRIPTION: Command to disable a PipeCD application with a specified ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_19\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Aqua\nDESCRIPTION: Command to install pipectl using Aqua package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\naqua i\n```\n\n----------------------------------------\n\nTITLE: Registering an Event for EventWatcher with pipectl\nDESCRIPTION: Registers a custom event that can be used by the EventWatcher feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Implementing Dismissible Alert Button HTML\nDESCRIPTION: HTML markup for a dismiss button that can be placed within an alert. The button uses the data-dismiss=\"alert\" attribute to trigger the JavaScript functionality for closing the alert.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/alerts.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n  <span aria-hidden=\"true\">&times;</span>\n</button>\n```\n\n----------------------------------------\n\nTITLE: Retrieving Application URL for LoadBalancer Services in Kubernetes\nDESCRIPTION: This snippet retrieves the application URL for LoadBalancer services. It uses kubectl to get the LoadBalancer IP and constructs the URL. It also includes a note about potential delay in IP availability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/pipedv1/plugin/kubernetes/provider/testdata/testchart/templates/NOTES.txt#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nNOTE: It may take a few minutes for the LoadBalancer IP to be available.\n     You can watch the status of by running 'kubectl get --namespace {{ .Release.Namespace }} svc -w {{ include \"testchart.fullname\" . }}'\nexport SERVICE_IP=$(kubectl get svc --namespace {{ .Release.Namespace }} {{ include \"testchart.fullname\" . }} --template \"{{ range (index .status.loadBalancer.ingress 0) }}{{.}}{{ end }}\")\necho http://$SERVICE_IP:{{ .Values.service.port }}\n```\n\n----------------------------------------\n\nTITLE: JavaScript Tab Initialization\nDESCRIPTION: JavaScript code for manually initializing and controlling tab behavior, including various methods to activate specific tabs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myList a').on('click', function (event) {\n  event.preventDefault()\n  $(this).tab('show')\n})\n\n$('#myList a[href=\"#profile\"]').tab('show') // Select tab by name\n$('#myList a:first-child').tab('show') // Select first tab\n$('#myList a:last-child').tab('show') // Select last tab\n$('#myList a:nth-child(3)').tab('show') // Select third tab\n```\n\n----------------------------------------\n\nTITLE: Creating Progress Bar with Utility Class for Width\nDESCRIPTION: Example of a Bootstrap progress bar using the w-75 utility class to set the width to 75% instead of using inline styles, demonstrating an alternative approach to setting progress bar widths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar w-75\" role=\"progressbar\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Applying Word Break in HTML\nDESCRIPTION: This snippet shows how to use the .text-break class to prevent long strings of text from breaking layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-break\">mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm</p>\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane in Kubernetes\nDESCRIPTION: These commands create a namespace for PipeCD and apply the control plane manifest to install PipeCD in quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/quickstart/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl create namespace pipecd\n$ kubectl apply -n pipecd -f https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/control-plane.yaml\n```\n\n----------------------------------------\n\nTITLE: Specifying GitHub Branch in TOML\nDESCRIPTION: Sets the GitHub branch to be used for edit links and issue creation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/repository-links.md#2025-04-14_snippet_3\n\nLANGUAGE: toml\nCODE:\n```\ngithub_branch = \"release\"\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Provider Features Table in Markdown\nDESCRIPTION: Lists Kubernetes-specific features and their maturity phases including deployment, rollback, and service mesh support.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/feature-status/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Feature | Phase |\n|-|-|\n| Quick sync deployment | Beta |\n| Deployment with a defined pipeline (e.g. canary, analysis) | Beta |\n| [Automated rollback](../user-guide/managing-application/rolling-back-a-deployment/) | Beta |\n| [Automated configuration drift detection](../user-guide/managing-application/configuration-drift-detection/) | Beta |\n| [Application live state](../user-guide/managing-application/application-live-state/) | Beta |\n| Support Helm | Beta |\n| Support Kustomize | Beta |\n| Support Istio service mesh | Beta |\n| Support SMI service mesh | Incubating |\n| Support [AWS App Mesh](https://aws.amazon.com/app-mesh/) | Incubating |\n| [Plan preview](../user-guide/plan-preview) | Beta |\n| [Manifest attachment](../user-guide/managing-application/manifest-attachment) | Alpha |\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Canary Deployment Strategy\nDESCRIPTION: PipeCD application configuration defining the canary deployment pipeline stages including rollout, approval, and cleanup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Responsive Text Alignment Using SASS Loops\nDESCRIPTION: Demonstrates generating responsive text alignment utilities using SASS loops and media queries\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_11\n\nLANGUAGE: scss\nCODE:\n```\n@each $breakpoint in map-keys($grid-breakpoints) {\n  @include media-breakpoint-up($breakpoint) {\n    $infix: breakpoint-infix($breakpoint, $grid-breakpoints);\n\n    .text#{$infix}-left   { text-align: left !important; }\n    .text#{$infix}-right  { text-align: right !important; }\n    .text#{$infix}-center { text-align: center !important; }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Dropup Buttons in Bootstrap\nDESCRIPTION: Shows how to create dropdown menus that appear above the trigger element using the .dropup class. Includes both default and split button variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<!-- Default dropup button -->\n<div class=\"btn-group dropup\">\n  <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropup\n  </button>\n  <div class=\"dropdown-menu\">\n    <!-- Dropdown menu links -->\n  </div>\n</div>\n\n<!-- Split dropup button -->\n<div class=\"btn-group dropup\">\n  <button type=\"button\" class=\"btn btn-secondary\">\n    Split dropup\n  </button>\n  <button type=\"button\" class=\"btn btn-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <span class=\"sr-only\">Toggle Dropdown</span>\n  </button>\n  <div class=\"dropdown-menu\">\n    <!-- Dropdown menu links -->\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Cover Block in Hugo with Docsy\nDESCRIPTION: Creates a landing page cover block with customizable title, buttons and content. Supports parameters for image anchoring, height and color.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n{{< blocks/cover title=\"Welcome!\" image_anchor=\"center\" height=\"full\" color=\"primary\" >}}\n<div class=\"mx-auto\">\n\t<a class=\"btn btn-lg btn-primary mr-3 mb-4\" href=\"{{< relref \"/docs\" >}}\">\n\t\tLearn More <i class=\"fas fa-arrow-alt-circle-right ml-2\"></i>\n\t</a>\n\t<a class=\"btn btn-lg btn-secondary mr-3 mb-4\" href=\"https://example.org\">\n\t\tDownload <i class=\"fab fa-github ml-2 \"></i>\n\t</a>\n\t<p class=\"lead mt-5\">This program is now available in <a href=\"#\">AppStore!</a></p>\n\t<div class=\"mx-auto mt-5\">\n\t\t{{< blocks/link-down color=\"info\" >}}\n\t</div>\n</div>\n{{< /blocks/cover >}}\n```\n\n----------------------------------------\n\nTITLE: Implementing Clearfix Mixin in SCSS\nDESCRIPTION: Shows how to create a clearfix mixin in SCSS and use it as a reusable component. The mixin uses the ::after pseudo-element to clear floats.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/clearfix.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n// Mixin itself\n@mixin clearfix() {\n  &::after {\n    display: block;\n    content: \"\";\n    clear: both;\n  }\n}\n\n// Usage as a mixin\n.element {\n  @include clearfix;\n}\n```\n\n----------------------------------------\n\nTITLE: Loading Bootstrap Bundle JS\nDESCRIPTION: Includes complete Bootstrap JavaScript functionality with Popper.js included. Requires jQuery to be loaded first.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<script src=\"{{< param \"cdn.jquery\" >}}\" integrity=\"{{< param \"cdn.jquery_hash\" >}}\" crossorigin=\"anonymous\"></script>\n<script src=\"{{< param \"cdn.js_bundle\" >}}\" integrity=\"{{< param \"cdn.js_bundle_hash\" >}}\" crossorigin=\"anonymous\"></script>\n```\n\n----------------------------------------\n\nTITLE: Configuring Remote Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a Helm chart from a Helm chart repository for a Kubernetes application in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.5.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Cloud Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda provider that specifies the region, profile, and credentials file. Multiple authentication methods are supported including environment variables and IAM roles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Defining Visibility Classes and Mixins in SCSS\nDESCRIPTION: Shows the SCSS definitions for .visible and .invisible classes, as well as a deprecated mixin for applying visibility. The mixin is noted to be removed in v5.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/visibility.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n// Class\n.visible {\n  visibility: visible !important;\n}\n.invisible {\n  visibility: hidden !important;\n}\n\n// Usage as a mixin\n// Warning: The `invisible()` mixin has been deprecated as of v4.3.0. It will be removed entirely in v5.\n.element {\n  @include invisible(visible);\n}\n.element {\n  @include invisible(hidden);\n}\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Browser Bug Table Shortcode\nDESCRIPTION: Defines an inline Hugo shortcode that generates a table of browser bugs from site data. The shortcode supports configurable data source and type parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/browser-bugs.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n{{< bug.inline >}}\n{{- $type := .Get \"type\" | default \"bug\" -}}\n{{- $data := .Get \"data\" | default \"browser-bugs\" -}}\n<table class=\"bd-browser-bugs table table-bordered table-hover\">\n  <thead>\n    <tr>\n      <th>Browser(s)</th>\n      <th>Summary of {{ $type }}</th>\n      <th>Upstream issue(s)</th>\n      <th>Bootstrap issue(s)</th>\n    </tr>\n  </thead>\n  <tbody>\n    {{- range (index $.Site.Data $data) }}\n    <tr>\n      <td>{{ .browser | chomp }}</td>\n      <td>{{ .summary | markdownify }}</td>\n      <td>{{ partial \"bugify\" .upstream_bug }}</td>\n      <td>{{ partial \"bugify\" .origin }}</td>\n    </tr>\n    {{- end }}\n  </tbody>\n</table>\n {{< /bug.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Image Processing with imgproc\nDESCRIPTION: Processes and displays images from the current Page Bundle with specified dimensions and scaling options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_6\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{< imgproc spruce Fill \"400x450\" >}}\nNorway Spruce Picea abies shoot with foliage buds.\n{{< /imgproc >}}\n```\n\n----------------------------------------\n\nTITLE: Basic Flexbox Container Examples\nDESCRIPTION: Demonstrates creation of basic flex containers using d-flex and d-inline-flex utility classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex p-2 bd-highlight\">I'm a flexbox container!</div>\n<div class=\"d-inline-flex p-2 bd-highlight\">I'm an inline flexbox container!</div>\n```\n\n----------------------------------------\n\nTITLE: Migrating from Deployment to Application Configuration in PipeCD\nDESCRIPTION: Comparison showing how to migrate from the deprecated deployment configuration file (.pipe.yaml) to the new application configuration file format. The new format requires adding a name field and optionally includes labels for categorization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/february-2022-update.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n# Old deployment configuration file\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  ...\n```\n\nLANGUAGE: yaml\nCODE:\n```\n# New application configuration file\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: example # Add this field.\n  labels:\n    env: prod\n    team: product\n  ...\n```\n\n----------------------------------------\n\nTITLE: Configuring Embed Aspect Ratios in SCSS\nDESCRIPTION: SCSS variable configuration for defining custom embed aspect ratios. Shows how to modify the $embed-responsive-aspect-ratios list to adjust available ratio options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/embed.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n$embed-responsive-aspect-ratios: (\n  (21 9),\n  (16 9),\n  (4 3),\n  (1 1)\n) !default;\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment in YAML\nDESCRIPTION: This snippet shows an example of a Kubernetes Deployment manifest with specified replicas and container arguments. It's used to demonstrate fields that might be ignored in drift detection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: Pushing Events with pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using the pipectl tool with the Control Plane API.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Adding Full Viewport Cover Image with Docsy Shortcode\nDESCRIPTION: This HTML snippet demonstrates how to use the Docsy 'blocks/cover' shortcode to add a full viewport height cover image to a landing page, with customizable title, image anchor, and color.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/iconsimages.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n{{</* blocks/cover title=\"Welcome to the Docsy Example Project!\" image_anchor=\"top\" height=\"full\" color=\"orange\" */>}}\n...\n{{</* /blocks/cover */>}}\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Free Regular SVG Icons with Yarn\nDESCRIPTION: Command to install the @fortawesome/free-regular-svg-icons package using Yarn. This adds the SVG with JavaScript version of Font Awesome 5 regular icons as a project dependency.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-regular-svg-icons/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ yarn add @fortawesome/free-regular-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Displaying Inline Elements with CSS Classes in HTML\nDESCRIPTION: This snippet demonstrates the use of 'd-inline' class to display elements inline with background colors and text styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/display.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"d-inline p-2 bg-primary text-white\">d-inline</div>\n<div class=\"d-inline p-2 bg-dark text-white\">d-inline</div>\n```\n\n----------------------------------------\n\nTITLE: Displaying Block Elements with CSS Classes in HTML\nDESCRIPTION: This example shows how to use the 'd-block' class to display elements as blocks with background colors and text styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/display.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n<span class=\"d-block p-2 bg-primary text-white\">d-block</span>\n<span class=\"d-block p-2 bg-dark text-white\">d-block</span>\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap Ruby gem directly\nDESCRIPTION: This command installs the Bootstrap Ruby gem directly without using Bundler, specifying a particular version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_5\n\nLANGUAGE: sh\nCODE:\n```\ngem install bootstrap -v {{< param current_ruby_version >}}\n```\n\n----------------------------------------\n\nTITLE: Displaying Plan Details in Markdown with Diff Formatting\nDESCRIPTION: This snippet demonstrates how to present plan details in a collapsible section using Markdown. The plan details are formatted as a diff to highlight changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-has-failed-app.txt#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n<details>\n<summary>Details (Click me)</summary>\n<p>\n\n``` diff\nplan-details-1\n```\n</p>\n</details>\n```\n\n----------------------------------------\n\nTITLE: Configuring Alertmanager for Slack Notifications\nDESCRIPTION: This YAML configuration sets up Alertmanager to send notifications to Slack. It includes global settings and receiver configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Starting Hugo Server for Local Preview\nDESCRIPTION: Commands to change to the userguide directory and start the Hugo server for local preview of the Docsy documentation. The themesDir flag is used because the site files are inside the theme repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Contribution guidelines/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\ncd userguide\nhugo server --themesDir ../..\n```\n\n----------------------------------------\n\nTITLE: Creating Basic List Group in HTML\nDESCRIPTION: Demonstrates how to create a simple unordered list with list-group classes for basic styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<ul class=\"list-group\">\n  <li class=\"list-group-item\">An item</li>\n  <li class=\"list-group-item\">A second item</li>\n  <li class=\"list-group-item\">A third item</li>\n  <li class=\"list-group-item\">A fourth item</li>\n  <li class=\"list-group-item\">And a fifth one</li>\n</ul>\n```\n\n----------------------------------------\n\nTITLE: Configuring SVG with JavaScript using script tag attributes\nDESCRIPTION: Configuration of SVG with JavaScript can now be done by adding attributes to the script tag that loads Font Awesome.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<script src=\"fontawesome.js\" data-auto-replace-svg=\"nest\"></script>\n```\n\n----------------------------------------\n\nTITLE: Removing Docker container and images for Docsy site\nDESCRIPTION: This command removes the Docker container and images created for the Docsy site, cleaning up the system after usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/quickstart-docker.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\ndocker-compose rm\n```\n\n----------------------------------------\n\nTITLE: Installing PostCSS Dependencies for Docsy Hugo Theme\nDESCRIPTION: Commands to install PostCSS and its dependencies locally for building CSS assets in a Docsy-based Hugo site.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/README.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsudo npm install -D --save autoprefixer\nsudo npm install -D --save postcss-cli\n```\n\n----------------------------------------\n\nTITLE: Upgrading PipeCD Control Plane\nDESCRIPTION: Helm command to upgrade an existing PipeCD Control Plane installation to a newer version while maintaining the same configuration files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {NEW_VERSION} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Webpack Configuration for CSS Processing\nDESCRIPTION: Basic webpack configuration for processing CSS files using style-loader and css-loader.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\nmodule: {\n  rules: [\n    {\n      test: /\\.css$/,\n      use: ['style-loader', 'css-loader']\n    }\n  ]\n}\n```\n\n----------------------------------------\n\nTITLE: Search Results Page Configuration in Markdown\nDESCRIPTION: Markdown frontmatter configuration for the search results page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_6\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: Search Results\nlayout: search\n---\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Basic HTML Template\nDESCRIPTION: Complete HTML5 starter template with Bootstrap CSS and JS includes, meta tags, and basic structure.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"{{< param \"cdn.css\" >}}\" integrity=\"{{< param \"cdn.css_hash\" >}}\" crossorigin=\"anonymous\">\n\n    <title>Hello, world!</title>\n  </head>\n  <body>\n    <h1>Hello, world!</h1>\n\n    <!-- Optional JavaScript; choose one of the two! -->\n\n    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->\n    <script src=\"{{< param \"cdn.jquery\" >}}\" integrity=\"{{< param \"cdn.jquery_hash\" >}}\" crossorigin=\"anonymous\"></script>\n    <script src=\"{{< param \"cdn.js_bundle\" >}}\" integrity=\"{{< param \"cdn.js_bundle_hash\" >}}\" crossorigin=\"anonymous\"></script>\n\n    <!-- Option 2: Separate Popper and Bootstrap JS -->\n    <!--\n    <script src=\"{{< param \"cdn.jquery\" >}}\" integrity=\"{{< param \"cdn.jquery_hash\" >}}\" crossorigin=\"anonymous\"></script>\n    <script src=\"{{< param \"cdn.popper\" >}}\" integrity=\"{{< param \"cdn.popper_hash\" >}}\" crossorigin=\"anonymous\"></script>\n    <script src=\"{{< param \"cdn.js\" >}}\" integrity=\"{{< param \"cdn.js_hash\" >}}\" crossorigin=\"anonymous\"></script>\n    -->\n  </body>\n</html>\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Cloud Run Application Examples\nDESCRIPTION: Table documenting Cloud Run deployment examples demonstrating various deployment patterns and configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/cloudrun/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Control Plane with Helm\nDESCRIPTION: Helm command to install or upgrade PipeCD control plane, specifying configuration files, encryption key, and service account credentials.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nhelm upgrade -i pipecd oci://ghcr.io/pipe-cd/chart/pipecd --version {{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data=path-to-control-plane-configuration-file \\\n  --set-file secret.encryptionKey.data=path-to-encryption-key-file \\\n  --set-file secret.firestoreServiceAccount.data=path-to-service-account-file \\\n  --set-file secret.gcsServiceAccount.data=path-to-service-account-file\n```\n\n----------------------------------------\n\nTITLE: Initializing Popovers with Focus Trigger\nDESCRIPTION: JavaScript code to initialize popovers with the focus trigger option. This enables dismiss-on-next-click functionality for popovers with the popover-dismiss class.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_5\n\nLANGUAGE: js\nCODE:\n```\n$('.popover-dismiss').popover({\n  trigger: 'focus'\n})\n```\n\n----------------------------------------\n\nTITLE: Installing Hugo as npm Module\nDESCRIPTION: This command installs the extended version of Hugo as an npm module using hugo-bin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpm install hugo-extended --save-dev\n```\n\n----------------------------------------\n\nTITLE: Creating a Basic Bootstrap Jumbotron\nDESCRIPTION: Demonstrates how to create a standard Bootstrap jumbotron component with a heading, lead text, horizontal rule, paragraph, and call-to-action button. This version has rounded corners and default padding.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/jumbotron.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"jumbotron\">\n  <h1 class=\"display-4\">Hello, world!</h1>\n  <p class=\"lead\">This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.</p>\n  <hr class=\"my-4\">\n  <p>It uses utility classes for typography and spacing to space content out within the larger container.</p>\n  <a class=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\">Learn more</a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Using Span Elements for Non-Interactive Pagination Items\nDESCRIPTION: This example shows how to use span elements instead of anchors for non-interactive pagination items, which is useful for indicating current page or disabled navigation options while maintaining proper styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"...\">\n  <ul class=\"pagination\">\n    <li class=\"page-item disabled\">\n      <span class=\"page-link\">Previous</span>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">1</a></li>\n    <li class=\"page-item active\" aria-current=\"page\">\n      <span class=\"page-link\">2</span>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n    <li class=\"page-item\">\n      <a class=\"page-link\" href=\"#\">Next</a>\n    </li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap CSS via NuGet\nDESCRIPTION: This PowerShell command installs the Bootstrap CSS package using NuGet, a package manager for .NET development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_7\n\nLANGUAGE: powershell\nCODE:\n```\nInstall-Package bootstrap\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl Using Asdf Version Manager\nDESCRIPTION: This snippet demonstrates how to install pipectl using the Asdf version manager, including adding the plugin, installing a specific version, and setting it globally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\n```\n\nLANGUAGE: console\nCODE:\n```\nasdf install pipectl {VERSION}\n```\n\nLANGUAGE: console\nCODE:\n```\nasdf global pipectl {VERSION}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Large Button Sizes in Bootstrap\nDESCRIPTION: Examples of larger buttons in Bootstrap using the .btn-lg class with primary and secondary styles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary btn-lg\">Large button</button>\n<button type=\"button\" class=\"btn btn-secondary btn-lg\">Large button</button>\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - ECS Application Examples\nDESCRIPTION: Table listing Amazon ECS deployment examples showing various deployment patterns and configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/ecs/simple) | Quick sync by rolling out the new version and switching all traffic to it. |\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application with Gradual Rollout Pipeline\nDESCRIPTION: Example configuration for ECS application deployment using a gradual rollout strategy with canary deployment, traffic routing, and analysis stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/defining-app-configuration/ecs.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n    serviceDefinitionFile: servicedef.yaml\n    taskDefinitionFile: taskdef.yaml\n    targetGroups:\n      primary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-blue/YYYY\n        containerName: web\n        containerPort: 80\n      canary:\n        targetGroupArn: arn:aws:elasticloadbalancing:ap-northeast-1:XXXX:targetgroup/ecs-canary-green/YYYY\n        containerName: web\n        containerPort: 80\n  pipeline:\n    stages:\n      - name: ECS_CANARY_ROLLOUT\n        with:\n          scale: 30\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          canary: 20\n      - name: ANALYSIS\n      - name: ECS_PRIMARY_ROLLOUT\n      - name: ECS_TRAFFIC_ROUTING\n        with:\n          primary: 100\n      - name: ECS_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Installing Bootstrap Dependencies\nDESCRIPTION: Basic command to install Bootstrap's local dependencies after navigating to the root directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/build-tools.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nnpm install\n```\n\n----------------------------------------\n\nTITLE: Toggling Bootstrap Tooltip Enabled State Using jQuery\nDESCRIPTION: Shows how to toggle the enabled/disabled state of a tooltip using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_12\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('toggleEnabled')\n```\n\n----------------------------------------\n\nTITLE: Modal Event Handler Example\nDESCRIPTION: Example showing how to attach an event handler to a Bootstrap modal's hidden event using jQuery.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_20\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myModal').on('hidden.bs.modal', function (event) {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Practical Example of Clearfix Usage in HTML\nDESCRIPTION: Demonstrates a practical example of using the clearfix utility with floated buttons. The clearfix class is applied to the parent div to ensure proper layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/clearfix.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"bg-info clearfix\">\n  <button type=\"button\" class=\"btn btn-secondary float-left\">Example Button floated left</button>\n  <button type=\"button\" class=\"btn btn-secondary float-right\">Example Button floated right</button>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Internationalization in TOML\nDESCRIPTION: TOML configuration for setting up multiple languages (Norwegian and Farsi) in a Docsy-based Hugo site. Includes language-specific settings like title, description, and date formats.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_11\n\nLANGUAGE: toml\nCODE:\n```\n[languages.no]\ntitle = \"Docsy\"\ndescription = \"Docsy er operativsystem for skyen\"\nlanguageName =\"Norsk\"\ncontentDir = \"content/no\"\ntime_format_default = \"02.01.2006\"\ntime_format_blog = \"02.01.2006\"\n\n[languages.fa]\ntitle = \" \"\ndescription = \"    \"\nlanguageName =\"\"\ncontentDir = \"content/fa\"\ntime_format_default = \"2006.01.02\"\ntime_format_blog = \"2006.01.02\"\n```\n\n----------------------------------------\n\nTITLE: Using SR_CONTEXT_RAW with jq\nDESCRIPTION: Example demonstrating how to extract deployment information from SR_CONTEXT_RAW using jq command in a SCRIPT_RUN stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/script-run.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n      - name: SCRIPT_RUN\n        with:\n          run: |\n            echo \"Get deploymentID from SR_CONTEXT_RAW\"\n            echo $SR_CONTEXT_RAW | jq -r '.deploymentID'\n            sleep 10\n          onRollback: |\n            echo \"rollback script-run\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Cloud Provider in PipeCD\nDESCRIPTION: Configuration for an AWS Lambda provider in PipeCD. This requires specifying the AWS region where Lambda service is running, along with authentication parameters like profile and credentials file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: lambda-dev\n      type: LAMBDA\n      config:\n        region: {LAMBDA_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Initializing Collapse with Options\nDESCRIPTION: This code demonstrates how to initialize a collapse component with specific options. In this example, the 'toggle' option is set to false, which prevents the component from toggling on initialization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/collapse.md#2025-04-14_snippet_1\n\nLANGUAGE: js\nCODE:\n```\n$('#myCollapsible').collapse({\n  toggle: false\n})\n```\n\n----------------------------------------\n\nTITLE: Rendering Danger Callout with Hugo Shortcode\nDESCRIPTION: Uses Hugo's callout shortcode with danger styling to display a warning that the content is outdated and will be removed in the next major release.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/browser-bugs.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n{{< callout danger >}}\n##### Outdated content\n\nThis page is outdated and is no longer applicable to the latest versions of Bootstrap. It's here purely for historical purposes now and will be removed in our next major release.\n{{< /callout >}}\n```\n\n----------------------------------------\n\nTITLE: Disabling Navbar Logo in Docsy Config\nDESCRIPTION: This TOML configuration disables the navbar logo in a Docsy project by setting the 'navbar_logo' parameter to false.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/iconsimages.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\nnavbar_logo = false\n```\n\n----------------------------------------\n\nTITLE: Defining Negative Margin Utility in SCSS\nDESCRIPTION: This SCSS snippet demonstrates how Bootstrap defines a negative margin utility class, specifically for top margin.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/spacing.md#2025-04-14_snippet_2\n\nLANGUAGE: scss\nCODE:\n```\n.mt-n1 {\n  margin-top: -0.25rem !important;\n}\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for PipeCD\nDESCRIPTION: Command to generate a self-signed TLS certificate for PipeCD's internal use, particularly when using GKE Ingress. Creates a key and certificate valid for 10 years.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Pushing Events with pipectl Command\nDESCRIPTION: Command line example showing how to register a new event using the pipectl tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Configuring Secret Management in Piped Configuration\nDESCRIPTION: YAML configuration to enable and configure secret management feature in Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  pipedID: your-piped-id\n  ...\n  secretManagement:\n    type: KEY_PAIR\n    config:\n      privateKeyFile: /etc/piped-secret/secret-private-key\n      publicKeyFile: /etc/piped-secret/secret-public-key\n```\n\n----------------------------------------\n\nTITLE: Using Max-Height Utility in HTML and CSS\nDESCRIPTION: This example shows how to use Bootstrap's max-height utility class 'mh-100' to set an element's maximum height to 100% of its parent container, which has a fixed height of 100px.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/sizing.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div style=\"height: 100px; background-color: rgba(255,0,0,0.1);\">\n  <div class=\"mh-100\" style=\"width: 100px; height: 200px; background-color: rgba(0,0,255,0.1);\">Max-height 100%</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Front Matter in Hugo Markdown\nDESCRIPTION: Sets up the page metadata and menu configuration for the 'About Docsy' page in a Hugo site using YAML front matter.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/about/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: About Docsy\nlinkTitle: About\nmenu:\n  main:\n    weight: 10\n    pre: <i class='fas fa-info-circle'></i>\nlayout: docs\n---\n```\n\n----------------------------------------\n\nTITLE: HTML Heading Elements Implementation\nDESCRIPTION: Basic implementation of all HTML heading levels (h1-h6) with Bootstrap styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/typography.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<h1>h1. Bootstrap heading</h1>\n<h2>h2. Bootstrap heading</h2>\n<h3>h3. Bootstrap heading</h3>\n<h4>h4. Bootstrap heading</h4>\n<h5>h5. Bootstrap heading</h5>\n<h6>h6. Bootstrap heading</h6>\n```\n\n----------------------------------------\n\nTITLE: Displaying Keyboard Input with kbd tag\nDESCRIPTION: Examples of using the kbd tag to indicate keyboard input, including both single keys and key combinations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/code.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\nTo switch directories, type <kbd>cd</kbd> followed by the name of the directory.<br>\nTo edit settings, press <kbd><kbd>ctrl</kbd> + <kbd>,</kbd></kbd>\n```\n\n----------------------------------------\n\nTITLE: Markdown Table Structure for Application Examples\nDESCRIPTION: Structured tables showing different deployment examples for various platforms including Kubernetes, Terraform, Cloud Run, Lambda, and ECS applications. Each table contains example names and their descriptions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/examples/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/kubernetes/simple) | Deploy plain-yaml manifests in application directory without using pipeline. |\n```\n\n----------------------------------------\n\nTITLE: Displaying Plan Details in Diff Format\nDESCRIPTION: Shows the deployment plan details in a collapsible diff format, highlighting changes that will be applied when the pull request is merged.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-has-no-diff-apps.txt#2025-04-14_snippet_0\n\nLANGUAGE: diff\nCODE:\n```\nplan-details-1\n```\n\n----------------------------------------\n\nTITLE: Setting up Service Account and IAM Permissions for Piped on Google Cloud\nDESCRIPTION: These commands create a new Service Account for Piped and assign necessary IAM roles for accessing secrets, logging, and optionally managing Cloud Run applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\ngcloud iam service-accounts create vm-piped \\\n  --description=\"Using by Piped running on Google Cloud VM\" \\\n  --display-name=\"vm-piped\"\n\ngcloud secrets add-iam-policy-binding vm-piped-config \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/secretmanager.secretAccessor\"\n\ngcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n  --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n  --role=\"roles/logging.logWriter\"\n\n# Optional Cloud Run permissions\n# gcloud projects add-iam-policy-binding {GCP_PROJECT_ID} \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/run.developer\"\n#\n# gcloud iam service-accounts add-iam-policy-binding {GCP_PROJECT_NUMBER}-compute@developer.gserviceaccount.com \\\n#   --member=\"serviceAccount:vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\" \\\n#   --role=\"roles/iam.serviceAccountUser\"\n```\n\n----------------------------------------\n\nTITLE: Cloning Docsy Repository with Submodules\nDESCRIPTION: Command to clone the Docsy repository, including all submodules. This is necessary to get a working copy of the site with all required code.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Contribution guidelines/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ngit clone --recurse-submodules --depth 1 https://github.com/google/docsy.git\n```\n\n----------------------------------------\n\nTITLE: Accessible Badge with Screen Reader Text in HTML\nDESCRIPTION: Demonstrates how to make badges more accessible by adding screen reader context.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/badge.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary\">\n  Profile <span class=\"badge badge-light\">9</span>\n  <span class=\"sr-only\">unread messages</span>\n</button>\n```\n\n----------------------------------------\n\nTITLE: Using pipectl help command\nDESCRIPTION: Example of running the help command to see available pipectl commands and options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/command-line-tool.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\n$ pipectl --help\n\nThe command line tool for PipeCD.\n\nUsage:\n  pipectl [command]\n\nAvailable Commands:\n  application  Manage application resources.\n  deployment   Manage deployment resources.\n  encrypt      Encrypt the plaintext entered in either stdin or the --input-file flag.\n  event        Manage event resources.\n  help         Help about any command\n  init         Generate an application config (app.pipecd.yaml) easily and interactively.\n  piped        Manage piped resources.\n  plan-preview Show plan preview against the specified commit.\n  version      Print the information of current binary.\n\nFlags:\n  -h, --help                               help for pipectl\n      --log-encoding string                The encoding type for logger [json|console|humanize]. (default \"humanize\")\n      --log-level string                   The minimum enabled logging level. (default \"info\")\n      --metrics                            Whether metrics is enabled or not. (default true)\n      --profile                            If true enables uploading the profiles to Stackdriver.\n      --profile-debug-logging              If true enables logging debug information of profiler.\n      --profiler-credentials-file string   The path to the credentials file using while sending profiles to Stackdriver.\n\nUse \"pipectl [command] --help\" for more information about a command.\n```\n\n----------------------------------------\n\nTITLE: Generating Environment-Aware robots.txt in Hugo\nDESCRIPTION: Template that generates robots.txt configuration by checking environment variables to determine if crawling should be allowed. It specifically checks for production environment and Netlify deployment status to control crawler access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/layouts/robots.txt#2025-04-14_snippet_0\n\nLANGUAGE: hugo\nCODE:\n```\n# www.robotstxt.org\n\n{{- $isProduction := eq hugo.Environment \"production\" -}}\n{{- $isNetlify := eq (getenv \"NETLIFY\") \"true\" -}}\n{{- $allowCrawling := and (not $isNetlify) $isProduction -}}\n\n{{ if $allowCrawling }}\n# Allow crawling of all content\n{{- end }}\nUser-agent: *\nDisallow:{{ if not $allowCrawling }} /{{ end }}\nSitemap: {{ \"/sitemap.xml\" | absURL }}\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog Analysis Provider in PipeCD\nDESCRIPTION: This snippet demonstrates how to set up a Datadog analysis provider in the Piped configuration file. It includes the provider name, type, and paths to the API key and application key files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Building Hugo Site with Non-Production Environment in Bash\nDESCRIPTION: This command builds a Hugo site with a specific environment flag. It's useful for creating development or test versions of the site that shouldn't be indexed by search engines.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Deployment/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhugo -e development\n```\n\n----------------------------------------\n\nTITLE: Implementing Bootstrap Scrollspy in HTML\nDESCRIPTION: This code snippet demonstrates how to implement Bootstrap's Scrollspy component within a navbar. It includes a navigation structure with dropdown menu and a scrollable content area with corresponding sections.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/scrollspy.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<nav id=\"navbar-example2\" class=\"navbar navbar-light bg-light\">\n  <a class=\"navbar-brand\" href=\"#\">Navbar</a>\n  <ul class=\"nav nav-pills\">\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" href=\"#fat\">@fat</a>\n    </li>\n    <li class=\"nav-item\">\n      <a class=\"nav-link\" href=\"#mdo\">@mdo</a>\n    </li>\n    <li class=\"nav-item dropdown\">\n      <a class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown</a>\n      <div class=\"dropdown-menu\">\n        <a class=\"dropdown-item\" href=\"#one\">one</a>\n        <a class=\"dropdown-item\" href=\"#two\">two</a>\n        <div role=\"separator\" class=\"dropdown-divider\"></div>\n        <a class=\"dropdown-item\" href=\"#three\">three</a>\n      </div>\n    </li>\n  </ul>\n</nav>\n<div data-spy=\"scroll\" data-target=\"#navbar-example2\" data-offset=\"0\">\n  <h4 id=\"fat\">@fat</h4>\n  <p>...</p>\n  <h4 id=\"mdo\">@mdo</h4>\n  <p>...</p>\n  <h4 id=\"one\">one</h4>\n  <p>...</p>\n  <h4 id=\"two\">two</h4>\n  <p>...</p>\n  <h4 id=\"three\">three</h4>\n  <p>...</p>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing Piped Agent with Custom Configuration\nDESCRIPTION: This command fetches the piped agent manifest, replaces placeholders with the actual piped ID and encoded key generated from the UI, and applies the configuration to the Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/quickstart/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\n$ curl -s https://raw.githubusercontent.com/pipe-cd/pipecd/master/quickstart/manifests/piped.yaml | \\\n  sed -e 's/<YOUR_PIPED_ID>/<COPIED_PIPED_ID>/g' \\\n      -e 's/<YOUR_PIPED_KEY_DATA>/<COPIED_ENCODED_PIPED_KEY>/g' | \\\n  kubectl apply -n pipecd -f -\n```\n\n----------------------------------------\n\nTITLE: Responsive Viewport Meta Tag\nDESCRIPTION: Meta tag required for proper responsive behavior and touch zooming across devices.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in YAML (Deprecated)\nDESCRIPTION: Deprecated configuration for event watchers in PipeCD. Defines events and their corresponding file replacements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running Piped Agent Locally\nDESCRIPTION: Command to run Piped Agent locally using make with a specified configuration file path.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/piped/README.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nmake run/piped CONFIG_FILE=piped-config.yaml\n```\n\n----------------------------------------\n\nTITLE: Markdown Table - Terraform Application Examples\nDESCRIPTION: Table listing Terraform deployment examples showing various deployment scenarios including simple applications, module usage, and approval workflows.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/examples/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Name                                                                        | Description |\n|-----------------------------------------------------------------------------|-------------|\n| [simple](https://github.com/pipe-cd/examples/tree/master/terraform/simple) |  Automatically applies when any changes were detected.  |\n```\n\n----------------------------------------\n\nTITLE: Listing applications with filters\nDESCRIPTION: Command to list applications matching specific criteria like name and kind, displaying results in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_18\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: Registering a New Event with pipectl Command\nDESCRIPTION: Bash command for pushing a new event to the PipeCD Control Plane using pipectl. This registers an image update event that will trigger the configured event watchers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=helloworld-image-update \\\n    --data=gcr.io/pipecd/helloworld:v0.2.0\n```\n\n----------------------------------------\n\nTITLE: Creating Small-sized Spinners in HTML\nDESCRIPTION: Shows how to create smaller spinners using specific classes. Both border and growing spinners can be made smaller with respective classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"spinner-border spinner-border-sm\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n<div class=\"spinner-grow spinner-grow-sm\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Increasing File Descriptor Limits on MacOS in Bash\nDESCRIPTION: Commands to temporarily increase the file descriptor limits on MacOS to resolve 'too many open files' errors when running hugo server for large sites.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_13\n\nLANGUAGE: bash\nCODE:\n```\nsudo launchctl limit maxfiles 65535 200000\nulimit -n 65535\nsudo sysctl -w kern.maxfiles=200000\nsudo sysctl -w kern.maxfilesperproc=65535\n```\n\n----------------------------------------\n\nTITLE: Implementing Non-Button Element as Button in HTML\nDESCRIPTION: This snippet demonstrates how to use the role=\"button\" attribute to make a non-button element behave like a button. It changes the default cursor to pointer, indicating interactivity.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/reboot.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<span role=\"button\" tabindex=\"0\">Non-button element button</span>\n```\n\n----------------------------------------\n\nTITLE: Dismiss-on-next-click Popover Example\nDESCRIPTION: HTML markup for a popover that dismisses when users click elsewhere. Utilizes an anchor tag with tabindex for proper cross-browser functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<a tabindex=\"0\" class=\"btn btn-lg btn-danger\" role=\"button\" data-toggle=\"popover\" data-trigger=\"focus\" title=\"Dismissible popover\" data-content=\"And here's some amazing content. It's very engaging. Right?\">Dismissible popover</a>\n```\n\n----------------------------------------\n\nTITLE: Updating JavaScript Imports in Font Awesome 5.1.0\nDESCRIPTION: Shows the transition from default imports to named imports in Font Awesome, including library initialization and DOM watching. Demonstrates both full package and individual icon imports.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/UPGRADING.md#2025-04-14_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nimport fontawesome from '@fortawesome/fontawesome'\nimport solid from '@fortawesome/fontawesome-free-solid'\nimport faTwitter from '@fortawesome/fontawesome-free-brands/faTwitter'\nimport FontAwesomeIcon from '@fortawesome/vue-fontawesome'\n\nlibrary.add(solid, faTwitter)\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport { library, dom } from '@fortawesome/fontawesome-svg-core'\nimport { fas } from '@fortawesome/free-solid-svg-icons'\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\n\nlibrary.add(fas, faTwitter)\n\n// Kicks off the process of finding <i> tags and replacing with <svg>\ndom.watch()\n```\n\nLANGUAGE: javascript\nCODE:\n```\nimport { faTwitter } from '@fortawesome/free-brands-svg-icons/faTwitter'\n```\n\n----------------------------------------\n\nTITLE: Disabling an application\nDESCRIPTION: Command to disable an application with a specific application ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/command-line-tool.md#2025-04-14_snippet_19\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Tooltips with JavaScript\nDESCRIPTION: This snippet demonstrates how to initialize all tooltips on a page by selecting elements with the 'data-toggle' attribute set to 'tooltip'.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_0\n\nLANGUAGE: javascript\nCODE:\n```\n$(function () {\n  $('[data-toggle=\"tooltip\"]').tooltip()\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring an Event Watcher in YAML (Deprecated)\nDESCRIPTION: Structure for a deprecated Event Watcher configuration that defines events and replacements to update container images in Kubernetes manifests when matching events occur.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Running All Available npm Scripts\nDESCRIPTION: Command to view all available npm scripts defined in package.json.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/build-tools.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nnpm run\n```\n\n----------------------------------------\n\nTITLE: Fixed Top Position HTML Class\nDESCRIPTION: Utility class for positioning an element fixed at the top of the viewport edge-to-edge.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/position.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"fixed-top\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Creating a Card Deck with Equal Width and Height in Bootstrap\nDESCRIPTION: This snippet demonstrates how to create a card deck, which consists of equal width and height cards that are not attached to one another. This is useful when you need a set of cards with consistent dimensions but want them to be separate.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_11\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card-deck\">\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"200\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"200\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This card has supporting text below as a natural lead-in to additional content.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"200\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>\n      <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Google Custom Search in TOML\nDESCRIPTION: TOML configuration for enabling Google Custom Search Engine in a Docsy-based Hugo site by specifying the search engine ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_12\n\nLANGUAGE: toml\nCODE:\n```\n# Google Custom Search Engine ID. Remove or comment out to disable search.\ngcs_engine_id = \"011737558837375720776:fsdu1nryfng\"\n```\n\n----------------------------------------\n\nTITLE: Aligning Flex Content Start\nDESCRIPTION: Demonstrates aligning flex items to the start of the container using align-content-start utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-start flex-wrap\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Making pipectl Executable\nDESCRIPTION: Makes the downloaded pipectl binary executable using chmod command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nchmod +x ./pipectl\n```\n\n----------------------------------------\n\nTITLE: Executing Plan Preview with PipeCD CLI\nDESCRIPTION: Command to request a plan-preview result using the pipectl command-line tool. This requires specifying the control plane address, API key, repository URL, and branch/commit information.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/plan-preview.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\npipectl plan-preview \\\n  --address={ PIPECD_CONTROL_PLANE_ADDRESS } \\\n  --api-key={ PIPECD_API_KEY } \\\n  --repo-remote-url={ REPO_REMOTE_GIT_SSH_URL } \\\n  --head-branch={ HEAD_BRANCH } \\\n  --head-commit={ HEAD_COMMIT } \\\n  --base-branch={ BASE_BRANCH }\n```\n\n----------------------------------------\n\nTITLE: Creating Equal-Width Columns Across Multiple Rows in HTML\nDESCRIPTION: This example shows how to create equal-width columns across multiple rows using Bootstrap's grid system. It demonstrates the flexibility of the grid for different layouts.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">\n      1 of 2\n    </div>\n    <div class=\"col\">\n      2 of 2\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col\">\n      1 of 3\n    </div>\n    <div class=\"col\">\n      2 of 3\n    </div>\n    <div class=\"col\">\n      3 of 3\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome Free Solid Icons with Yarn\nDESCRIPTION: Command to install the @fortawesome/free-solid-svg-icons package using Yarn package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/free-solid-svg-icons/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ yarn add @fortawesome/free-solid-svg-icons\n```\n\n----------------------------------------\n\nTITLE: Viewport-Relative Sizing Utilities in HTML\nDESCRIPTION: This code snippet demonstrates the use of Bootstrap's viewport-relative sizing utilities. It includes examples for minimum viewport width, minimum viewport height, full viewport width, and full viewport height.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/sizing.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"min-vw-100\">Min-width 100vw</div>\n<div class=\"min-vh-100\">Min-height 100vh</div>\n<div class=\"vw-100\">Width 100vw</div>\n<div class=\"vh-100\">Height 100vh</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in YAML for PipeCD (Deprecated)\nDESCRIPTION: Defines an event watcher configuration for PipeCD, specifying events to watch and file replacements to perform when events occur. This feature is deprecated.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Border Spinner in HTML\nDESCRIPTION: Creates a basic border spinner with accessibility considerations. The spinner uses a div element with appropriate classes and includes a screen reader-only text for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"spinner-border\" role=\"status\">\n  <span class=\"sr-only\">Loading...</span>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Change Categories Format\nDESCRIPTION: Standard format for categorizing changes within each version (Added, Changed, Fixed).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n### Added\n* New brand icons deezer, edge-legacy, google-pay, rust, tiktok, and unsplash\n\n### Changed\n* Updated brand icons bandcamp, google-plus, tripadvisor, and yahoo\n\n### Fixed\n* Icon hand-holding-water missing 5.13.0 in its versions\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade on Kubernetes\nDESCRIPTION: This Helm command installs Piped on Kubernetes with remote upgrade capabilities enabled. This allows upgrading Piped to a new version from the web console, but config updates still require a manual restart.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Button Addons in Input Groups in HTML\nDESCRIPTION: Demonstrates adding buttons to input groups using btn classes, allowing for interactive elements to be prepended or appended to form controls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon1\">Button</button>\n  </div>\n  <input type=\"text\" class=\"form-control\" placeholder=\"\" aria-label=\"Example text with button addon\" aria-describedby=\"button-addon1\">\n</div>\n\n<div class=\"input-group mb-3\">\n  <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"button-addon2\">\n  <div class=\"input-group-append\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\" id=\"button-addon2\">Button</button>\n  </div>\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\" id=\"button-addon3\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n  </div>\n  <input type=\"text\" class=\"form-control\" placeholder=\"\" aria-label=\"Example text with two button addons\" aria-describedby=\"button-addon3\">\n</div>\n\n<div class=\"input-group\">\n  <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username with two button addons\" aria-describedby=\"button-addon4\">\n  <div class=\"input-group-append\" id=\"button-addon4\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Setting Hugo Environment for Production\nDESCRIPTION: Command to build Hugo site with production environment flag for analytics tracking\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/feedback.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ env HUGO_ENV=\"production\" hugo\n```\n\n----------------------------------------\n\nTITLE: Displaying GitHub Release Status Badge in HTML\nDESCRIPTION: This HTML code snippet displays a badge indicating the release status of the project on GitHub. It uses the img.shields.io service to generate a static badge with custom styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-gh-release/testdata/no-release-comment.txt#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"https://github.com/pipe-cd/actions-gh-release\"><img src=\"https://img.shields.io/static/v1?label=GitHub&message=RELEASE&color=success&style=flat\" alt=\"RELEASE\"></a>\n```\n\n----------------------------------------\n\nTITLE: Configuring Native Font Stack in Bootstrap SCSS\nDESCRIPTION: Default font-family configuration in Bootstrap 4 that implements a native font stack for optimal text rendering across different devices and operating systems. Includes fallbacks for various platforms and emoji support.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/reboot.md#2025-04-14_snippet_0\n\nLANGUAGE: scss\nCODE:\n```\n$font-family-sans-serif:\n  // Safari for macOS and iOS (San Francisco)\n  -apple-system,\n  // Chrome < 56 for macOS (San Francisco)\n  BlinkMacSystemFont,\n  // Windows\n  \"Segoe UI\",\n  // Android\n  Roboto,\n  // Basic web fallback\n  \"Helvetica Neue\", Arial,\n  // Linux\n  \"Noto Sans\",\n  \"Liberation Sans\",\n  // Sans serif fallback\n  sans-serif,\n  // Emoji fonts\n  \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\" !default;\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT Stage in PipeCD Kubernetes Deployment Pipeline (YAML)\nDESCRIPTION: This YAML snippet demonstrates how to add a WAIT stage to a PipeCD deployment pipeline for a Kubernetes application. The WAIT stage is configured with a duration of 5 minutes, positioned between the canary rollout and primary rollout stages.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/customizing-deployment/adding-a-wait-stage.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT\n        with:\n          duration: 5m\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Using Bootstrap Grid System in Modals\nDESCRIPTION: Shows how to implement the Bootstrap grid system within modal dialogs using container-fluid and standard grid classes. Includes nested grid examples.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"modal-body\">\n  <div class=\"container-fluid\">\n    <div class=\"row\">\n      <div class=\"col-md-4\">.col-md-4</div>\n      <div class=\"col-md-4 ml-auto\">.col-md-4 .ml-auto</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-3 ml-auto\">.col-md-3 .ml-auto</div>\n      <div class=\"col-md-2 ml-auto\">.col-md-2 .ml-auto</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-md-6 ml-auto\">.col-md-6 .ml-auto</div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-sm-9\">\n        Level 1: .col-sm-9\n        <div class=\"row\">\n          <div class=\"col-8 col-sm-6\">\n            Level 2: .col-8 .col-sm-6\n          </div>\n          <div class=\"col-4 col-sm-6\">\n            Level 2: .col-4 .col-sm-6\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Custom Select Dropdowns in Bootstrap Input Groups\nDESCRIPTION: This snippet demonstrates various ways to create custom select dropdowns within Bootstrap input groups. It shows options for prepending and appending labels or buttons to the select element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_9\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <label class=\"input-group-text\" for=\"inputGroupSelect01\">Options</label>\n  </div>\n  <select class=\"custom-select\" id=\"inputGroupSelect01\">\n    <option selected>Choose...</option>\n    <option value=\"1\">One</option>\n    <option value=\"2\">Two</option>\n    <option value=\"3\">Three</option>\n  </select>\n</div>\n\n<div class=\"input-group mb-3\">\n  <select class=\"custom-select\" id=\"inputGroupSelect02\">\n    <option selected>Choose...</option>\n    <option value=\"1\">One</option>\n    <option value=\"2\">Two</option>\n    <option value=\"3\">Three</option>\n  </select>\n  <div class=\"input-group-append\">\n    <label class=\"input-group-text\" for=\"inputGroupSelect02\">Options</label>\n  </div>\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n  </div>\n  <select class=\"custom-select\" id=\"inputGroupSelect03\" aria-label=\"Example select with button addon\">\n    <option selected>Choose...</option>\n    <option value=\"1\">One</option>\n    <option value=\"2\">Two</option>\n    <option value=\"3\">Three</option>\n  </select>\n</div>\n\n<div class=\"input-group\">\n  <select class=\"custom-select\" id=\"inputGroupSelect04\" aria-label=\"Example select with button addon\">\n    <option selected>Choose...</option>\n    <option value=\"1\">One</option>\n    <option value=\"2\">Two</option>\n    <option value=\"3\">Three</option>\n  </select>\n  <div class=\"input-group-append\">\n    <button class=\"btn btn-outline-secondary\" type=\"button\">Button</button>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: ECS Service Definition Configuration\nDESCRIPTION: Sample taskdef.json configuration for ECS TaskDefinition parameters. Required for defining task-level properties. Must be in either YAML or JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/configuration-reference.md#2025-04-14_snippet_7\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"serviceDefinitionFile\": \"service.json\",\n  \"taskDefinitionFile\": \"taskdef.json\",\n  \"targetGroups\": {\n    \"primary\": {\n      \"targetGroupArn\": \"arn:aws:...\",\n      \"containerName\": \"myapp\",\n      \"containerPort\": 8080\n    }\n  },\n  \"runStandaloneTask\": true,\n  \"accessType\": \"ELB\"\n}\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Console via Port Forwarding\nDESCRIPTION: This kubectl command sets up port forwarding to access the PipeCD console on localhost:8080 after the installation process is complete.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Creating JSON Attribute Indexes in MySQL and PostgreSQL\nDESCRIPTION: Commands for creating secondary indexes on JSON attributes in both MySQL and PostgreSQL, showing different approaches for JSON field indexing\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_2\n\nLANGUAGE: sql\nCODE:\n```\nmysql> CREATE INDEX idx ON applications ( ( CAST( data->>'$.name' AS CHAR(10) ) ) );\n# OR\nmysql> CREATE INDEX idy ON applications ( (JSON_VALUE(data, '$.name' RETURNING CHAR(10))) );\n\npostgres=> CREATE INDEX idx ON test.applications ((data->>'name'));\n```\n\n----------------------------------------\n\nTITLE: Theme Colors Map Removal\nDESCRIPTION: Example of removing colors from the theme colors map\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_7\n\nLANGUAGE: scss\nCODE:\n```\n// Required\n@import \"../node_modules/bootstrap/scss/functions\";\n@import \"../node_modules/bootstrap/scss/variables\";\n@import \"../node_modules/bootstrap/scss/mixins\";\n\n$theme-colors: map-remove($theme-colors, \"info\", \"light\", \"dark\");\n\n// Optional\n@import \"../node_modules/bootstrap/scss/root\";\n@import \"../node_modules/bootstrap/scss/reboot\";\n@import \"../node_modules/bootstrap/scss/type\";\n...\n```\n\n----------------------------------------\n\nTITLE: Modifying Progress Bar Classes in CSS\nDESCRIPTION: Contextual classes for progress bars now use background utility classes. The 'active' class for animation has been renamed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_10\n\nLANGUAGE: CSS\nCODE:\n```\n.progress-bar.bg-danger\n.progress-bar-animated\n```\n\n----------------------------------------\n\nTITLE: Creating Button Toolbar in HTML\nDESCRIPTION: Combines multiple button groups into a toolbar with spacing using margin utilities. Each group has its own ARIA label for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-toolbar\" role=\"toolbar\" aria-label=\"Toolbar with button groups\">\n  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"First group\">\n    <button type=\"button\" class=\"btn btn-secondary\">1</button>\n    <button type=\"button\" class=\"btn btn-secondary\">2</button>\n    <button type=\"button\" class=\"btn btn-secondary\">3</button>\n    <button type=\"button\" class=\"btn btn-secondary\">4</button>\n  </div>\n  <div class=\"btn-group mr-2\" role=\"group\" aria-label=\"Second group\">\n    <button type=\"button\" class=\"btn btn-secondary\">5</button>\n    <button type=\"button\" class=\"btn btn-secondary\">6</button>\n    <button type=\"button\" class=\"btn btn-secondary\">7</button>\n  </div>\n  <div class=\"btn-group\" role=\"group\" aria-label=\"Third group\">\n    <button type=\"button\" class=\"btn btn-secondary\">8</button>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Controlling Display for Print with CSS Classes in HTML\nDESCRIPTION: This example shows how to use print-specific display classes to control element visibility when printing.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/display.md#2025-04-14_snippet_3\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"d-print-none\">Screen Only (Hide on print only)</div>\n<div class=\"d-none d-print-block\">Print Only (Hide on screen only)</div>\n<div class=\"d-none d-lg-block d-print-block\">Hide up to large on screen, but always show on print</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: Configuration structure for deploying AWS Lambda functions using PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Disabling Bootstrap Tooltip Using jQuery\nDESCRIPTION: Demonstrates how to disable tooltip functionality on an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('disable')\n```\n\n----------------------------------------\n\nTITLE: Collecting and Viewing Execution Trace in Piped\nDESCRIPTION: Commands to collect execution trace data from Piped and view it using Go's trace tool. The trace is saved to a local file and then visualized with the trace tool.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/trace > trace.out\n```\n\nLANGUAGE: bash\nCODE:\n```\ngo tool trace trace.out\n```\n\n----------------------------------------\n\nTITLE: Implementing Text Transformation in HTML\nDESCRIPTION: This snippet demonstrates how to use Bootstrap classes for text capitalization, including lowercase, uppercase, and capitalized text.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-lowercase\">Lowercased text.</p>\n<p class=\"text-uppercase\">Uppercased text.</p>\n<p class=\"text-capitalize\">CapiTaliZed text.</p>\n```\n\n----------------------------------------\n\nTITLE: Using Font Awesome layer() method in TypeScript\nDESCRIPTION: The fontawesome.layer() method can be used in TypeScript to create layered icons.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_8\n\nLANGUAGE: TypeScript\nCODE:\n```\nfontawesome.layer(options);\n```\n\n----------------------------------------\n\nTITLE: Cloning Docsy Theme in Bash\nDESCRIPTION: Commands to clone the Docsy theme into your project's themes folder and initialize its submodules for local development.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\ncd themes\ngit clone https://github.com/google/docsy\n```\n\nLANGUAGE: bash\nCODE:\n```\ngit submodule update --init --recursive\n```\n\n----------------------------------------\n\nTITLE: Using Bug Shortcode for Features Table\nDESCRIPTION: Calls the custom bug.inline shortcode with parameters to display a table of most wanted browser features from a different data source.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/browser-bugs.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n{{< bug.inline data=\"browser-features\" type=\"feature\" />}}\n```\n\n----------------------------------------\n\nTITLE: Deploying Standard Piped on Cloud Run\nDESCRIPTION: Cloud Run service manifest for deploying standard Piped installation without remote-upgrade capability.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'\n        autoscaling.knative.dev/minScale: '1'\n        run.googleapis.com/cpu-throttling: \"false\"\n    spec:\n      containerConcurrency: 1\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Applying Pointer Events to Modals in CSS\nDESCRIPTION: This snippet demonstrates the new pointer-events usage on modals in Bootstrap 4. It allows for custom click handling on the modal backdrop while maintaining normal interaction with the modal content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_3\n\nLANGUAGE: css\nCODE:\n```\n.modal-dialog {\n  pointer-events: none;\n}\n\n.modal-content {\n  pointer-events: auto;\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Font Awesome SVG Core via Yarn\nDESCRIPTION: Command to install the Font Awesome SVG core package using Yarn package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/fontawesome-svg-core/README.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ yarn add @fortawesome/fontawesome-svg-core\n```\n\n----------------------------------------\n\nTITLE: Using Max-Width Utility in HTML\nDESCRIPTION: This snippet demonstrates the use of Bootstrap's max-width utility class 'mw-100' to set an element's maximum width to 100% of its parent container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/sizing.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n{{< placeholder width=\"100%\" height=\"100\" class=\"mw-100\" text=\"Max-width 100%\" >}}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped with Remote-upgrade on Cloud Run in YAML\nDESCRIPTION: This YAML configuration sets up a Cloud Run service for Piped with remote-upgrade feature enabled. It specifies container settings, resource limits, and mounts the configuration from Secret Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\n  annotaions:\n    run.googleapis.com/ingress: internal\n    run.googleapis.com/ingress-status: internal\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1 to ensure Piped work correctly.\n      containers:\n        - image: gcr.io/pipecd/launcher:{{< blocks/latest_version >}}\n          args:\n            - launcher\n            - --launcher-admin-port=9086\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9086\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Alertmanager Slack Configuration\nDESCRIPTION: YAML configuration for setting up Slack notifications through Alertmanager in PipeCD.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Enabling Bootstrap Popover\nDESCRIPTION: JavaScript method to enable a Bootstrap popover element\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_13\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('enable')\n```\n\n----------------------------------------\n\nTITLE: Configuring Git Repository in Piped Configuration\nDESCRIPTION: YAML configuration snippet for adding a Git repository to PipeCD's piped configuration. This example configures the pipe-cd/examples repository's master branch as a deployment target.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  repositories:\n    - repoId: examples\n      remote: git@github.com:pipe-cd/examples.git\n      branch: master\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD\nDESCRIPTION: Removes PipeCD installation from the cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Uninstalling PipeCD Quickstart\nDESCRIPTION: This command uninstalls PipeCD components that were installed using the quickstart mode.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\npipectl quickstart --uninstall\n```\n\n----------------------------------------\n\nTITLE: Installing Piped in Namespaced Mode on Kubernetes\nDESCRIPTION: Bash commands for installing Piped in namespaced mode on Kubernetes using Helm. Includes options for basic installation, remote upgrade, and remote config.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Rendering Bootstrap Core Team List with Hugo Shortcode\nDESCRIPTION: A Hugo shortcode that renders a list of Bootstrap core team members. It loops through the core-team data in the site's data files, displaying each member with their GitHub profile picture, name, and GitHub username.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/about/team.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n{{< team.inline >}}\n<div class=\"list-group mb-3\">\n  {{- range (index $.Site.Data \"core-team\") }}\n    <a class=\"list-group-item list-group-item-action d-flex align-items-center\" href=\"https://github.com/{{ .user }}\">\n      <img src=\"https://github.com/{{ .user }}.png\" alt=\"@{{ .user }}\" width=\"32\" height=\"32\" class=\"rounded mr-2\" loading=\"lazy\">\n      <span>\n        <strong>{{ .name }}</strong> @{{ .user }}\n      </span>\n    </a>\n  {{ end -}}\n</div>\n{{< /team.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Service for Canary Deployment\nDESCRIPTION: This YAML snippet defines a Kubernetes Service resource that selects pods with the 'app: helloworld' label. It exposes port 9085 for TCP traffic.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Preventing Modal Show Event in JavaScript\nDESCRIPTION: This code shows how to use the 'show.bs.modal' event to prevent a modal from being shown based on a condition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_1\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('#myModal').on('show.bs.modal', function (event) {\n  if (!data) {\n    return event.preventDefault() // stops modal from being shown\n  }\n})\n```\n\n----------------------------------------\n\nTITLE: Multiple Inputs in Input Group in HTML\nDESCRIPTION: Demonstrates how to include multiple input elements within a single input group, though validation styles are only available for groups with a single input.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\">First and last name</span>\n  </div>\n  <input type=\"text\" aria-label=\"First name\" class=\"form-control\">\n  <input type=\"text\" aria-label=\"Last name\" class=\"form-control\">\n</div>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: Command to forward local port 9082 to the PipeCD ops service pod for accessing the project management interface. This allows operators to access the internal web service for project administration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Updating Breadcrumb Class in CSS\nDESCRIPTION: A new class '.breadcrumb-item' is now required on descendants of '.breadcrumb' elements for proper styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_7\n\nLANGUAGE: CSS\nCODE:\n```\n.breadcrumb-item\n```\n\n----------------------------------------\n\nTITLE: Heading Badge Examples in HTML\nDESCRIPTION: Demonstrates how badges scale with different heading sizes using relative font sizing and em units.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/badge.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<h1>Example heading <span class=\"badge badge-secondary\">New</span></h1>\n<h2>Example heading <span class=\"badge badge-secondary\">New</span></h2>\n<h3>Example heading <span class=\"badge badge-secondary\">New</span></h3>\n<h4>Example heading <span class=\"badge badge-secondary\">New</span></h4>\n<h5>Example heading <span class=\"badge badge-secondary\">New</span></h5>\n<h6>Example heading <span class=\"badge badge-secondary\">New</span></h6>\n```\n\n----------------------------------------\n\nTITLE: Configuring ANALYSIS Stage with PREVIOUS Strategy in Kubernetes App\nDESCRIPTION: This snippet shows how to configure an ANALYSIS stage using the PREVIOUS strategy which compares current metrics with those from the last successful deployment. The deviation is set to HIGH, meaning the stage fails if the current error rate is higher than the previous.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Toggling Bootstrap Popover\nDESCRIPTION: JavaScript method to toggle visibility of a Bootstrap popover element\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_11\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('toggle')\n```\n\n----------------------------------------\n\nTITLE: Referencing Analysis Template in Kubernetes App Configuration\nDESCRIPTION: This snippet shows how to reference an Analysis Template in a Kubernetes application configuration for PipeCD. It uses the 'template' field to specify the template name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in YAML\nDESCRIPTION: Configuration for AWS ECS platform provider specifying region and authentication details for ECS cluster access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Directory Structure for Bootstrap Framework Distribution\nDESCRIPTION: Shows the directory structure and files included in the Bootstrap distribution package. Contains compiled and minified CSS/JS files along with source maps and bundle files that include Popper.js.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/README.md#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nbootstrap/\n dist/\n     css/\n        bootstrap-grid.css\n        bootstrap-grid.css.map\n        bootstrap-grid.min.css\n        bootstrap-grid.min.css.map\n        bootstrap-reboot.css\n        bootstrap-reboot.css.map\n        bootstrap-reboot.min.css\n        bootstrap-reboot.min.css.map\n        bootstrap.css\n        bootstrap.css.map\n        bootstrap.min.css\n        bootstrap.min.css.map\n     js/\n         bootstrap.bundle.js\n         bootstrap.bundle.js.map\n         bootstrap.bundle.min.js\n         bootstrap.bundle.min.js.map\n         bootstrap.js\n         bootstrap.js.map\n         bootstrap.min.js\n         bootstrap.min.js.map\n```\n\n----------------------------------------\n\nTITLE: Configuring Archive Banner Settings in TOML\nDESCRIPTION: Configuration for enabling and customizing the archive banner, including version number and latest documentation URL.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/versioning.md#2025-04-14_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\narchived_version = true\nversion = \"0.1\"\nurl_latest_version = \"https://your-latest-doc-site.com\"\n```\n\n----------------------------------------\n\nTITLE: Creating Lead Block with Docsy\nDESCRIPTION: Implements a simple lead/title block with centered text and downward arrow navigation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_1\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{% blocks/lead color=\"dark\" %}}\nTechOS is the OS of the future. \n\nRuns on **bare metal** in the **cloud**!\n{{% /blocks/lead %}}\n```\n\n----------------------------------------\n\nTITLE: Analysis Stage with Custom Variant Arguments\nDESCRIPTION: Example showing how to use custom arguments for different variants in the analysis query template.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              baselineArgs:\n                job: bar\n              canaryArgs:\n                job: baz\n              interval: 5m\n              query: cpu_usage{job=\"{{ .VariantCustomArgs.job }}\", status=~\"5.*\"}\n```\n\n----------------------------------------\n\nTITLE: Adding Icon and Alert to Menu Item in YAML\nDESCRIPTION: Configuration showing how to add both an icon and an alert badge to a menu item\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n[[menu.main]]\n    name = \"GitHub\"\n    weight = 50\n    url = \"https://github.com/google/docsy/\"\n    pre = \"<i class='fab fa-github'></i>\"\n    post = \"<span class='alert'>New!</span>\"\n```\n\n----------------------------------------\n\nTITLE: Running pipectl in Docker Container\nDESCRIPTION: Shows how to run pipectl in a Docker container, specifying the desired version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\ndocker run --rm ghcr.io/pipe-cd/pipectl:{VERSION} -h\n```\n\n----------------------------------------\n\nTITLE: Creating Explicitly Scrollable Modal in Bootstrap HTML\nDESCRIPTION: This snippet shows how to create a modal with a scrollable body by adding the 'modal-dialog-scrollable' class. It includes a header, scrollable body with placeholder text, and footer with action buttons.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"modal fade\" id=\"exampleModalScrollable\" tabindex=\"-1\" aria-labelledby=\"exampleModalScrollableTitle\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-scrollable\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalScrollableTitle\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <p>What follows is just some placeholder text for this modal dialog. You just gotta ignite the light and let it shine! Come just as you are to me. Just own the night like the 4th of July. Infect me with your love and fill me with your poison. Come just as you are to me. End of the rainbow looking treasure.</p>\n        <!-- More paragraphs of placeholder text -->\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Importing Compiled Bootstrap CSS\nDESCRIPTION: Shows how to import the pre-compiled Bootstrap CSS directly into the application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_4\n\nLANGUAGE: javascript\nCODE:\n```\nimport 'bootstrap/dist/css/bootstrap.min.css';\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset. It specifies the host, gateway, and sets a 100% weight for the primary destination.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Live Toast with Button Trigger\nDESCRIPTION: Implementation of a toast with a trigger button that shows a hidden toast notification. Includes positioning utilities and a 2-second delay.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary\" id=\"liveToastBtn\">Show live toast</button>\n\n<div class=\"position-fixed bottom-0 right-0 p-3\" style=\"z-index: 5; right: 0; bottom: 0;\">\n  <div id=\"liveToast\" class=\"toast hide\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" data-delay=\"2000\">\n    <div class=\"toast-header\">\n      <img src=\"...\" class=\"rounded mr-2\" alt=\"...\">\n      <strong class=\"mr-auto\">Bootstrap</strong>\n      <small>11 mins ago</small>\n      <button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\">\n        <span aria-hidden=\"true\">&times;</span>\n      </button>\n    </div>\n    <div class=\"toast-body\">\n      Hello, world! This is a toast message.\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Radio Button Style Group in Bootstrap\nDESCRIPTION: Example of radio style button group using the Button plugin with appropriate toggling behavior and styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_11\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group btn-group-toggle\" data-toggle=\"buttons\">\n  <label class=\"btn btn-secondary active\">\n    <input type=\"radio\" name=\"options\" id=\"option1\" checked> Active\n  </label>\n  <label class=\"btn btn-secondary\">\n    <input type=\"radio\" name=\"options\" id=\"option2\"> Radio\n  </label>\n  <label class=\"btn btn-secondary\">\n    <input type=\"radio\" name=\"options\" id=\"option3\"> Radio\n  </label>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Secret in Google Cloud Secret Manager\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration securely. The secret is named 'cloudrun-piped-config' and uses the content of the specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via Asdf\nDESCRIPTION: Installs pipectl using the Asdf version manager, adding the plugin and setting the version.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl\nasdf install pipectl {VERSION}\nasdf global pipectl {VERSION}\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Configuring EventWatcher in Kubernetes Application Configuration\nDESCRIPTION: Example of defining event watching functionality directly in a Kubernetes application configuration, specifying matchers for events and handlers that update YAML fields in deployment files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/event-watcher.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: helloworld\n  eventWatcher:\n    - matcher:\n        name: helloworld-image-update\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: deployment.yaml\n              yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Using the Picture Element with Bootstrap Image Classes in HTML\nDESCRIPTION: Demonstrates how to properly use the HTML <picture> element with Bootstrap image classes. The example shows that image classes should be applied to the <img> tag rather than the <picture> element, with support for different image sources.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/images.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<picture>\n  <source srcset=\"...\" type=\"image/svg+xml\">\n  <img src=\"...\" class=\"img-fluid img-thumbnail\" alt=\"...\">\n</picture>\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Application in PipeCD\nDESCRIPTION: Base configuration structure for an ECS application in PipeCD showing required spec fields including input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Apache 2.0 License Header for PipeCD\nDESCRIPTION: Copyright notice and Apache License 2.0 terms for the PipeCD project, indicating usage permissions and liability disclaimers. Sets 2024 as the copyright year for The PipeCD Authors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/hack/boilerplate.go.txt#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n// Copyright 2024 The PipeCD Authors.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n```\n\n----------------------------------------\n\nTITLE: Configuring ECS Platform Provider in YAML\nDESCRIPTION: Configuration for AWS ECS platform provider with region, profile, and credentials file settings for AWS authentication.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: ecs-dev\n      type: ECS\n      config:\n        region: {ECS_CLUSTER_REGION}\n        profile: default\n        credentialsFile: {PATH_TO_THE_CREDENTIAL_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image as Lambda Function in PipeCD\nDESCRIPTION: Sample function.yaml configuration for deploying a container image as a Lambda function. It includes required fields like name, image, role, memory, and timeout, as well as optional fields like tags, environments, ephemeralStorage, and vpcConfig.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  # ephemeralStorage is optional value. If you define a ephemeral storage to lambda, you can\n  # use this field. The value must be in between 512 to 10240 MB.\n  ephemeralStorage:\n    size: 512\n  # vpcConfig is optional value. If you define a vpc configuration to lambda, you can\n  # use this field.\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config using Helm in Cluster-wide Mode\nDESCRIPTION: Helm command for installing Piped with both remote-upgrade and remote-config capabilities in cluster-wide mode. This allows both upgrading Piped and updating its configuration from the web console without manual intervention.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Analysis Template in PipeCD\nDESCRIPTION: Analysis template configuration for metrics monitoring with Prometheus, including interval, provider, and failure limit settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/configuration-reference.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: AnalysisTemplate\nspec:\n  metrics:\n    grpc_error_rate_percentage:\n      interval: 1m\n      provider: prometheus-dev\n      failureLimit: 1\n      expected:\n        max: 10\n      query: awesome_query\n```\n\n----------------------------------------\n\nTITLE: Moving pipectl to PATH\nDESCRIPTION: Moves the pipectl binary to system PATH for global access\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nsudo mv ./pipectl /usr/local/bin/pipectl\n```\n\n----------------------------------------\n\nTITLE: Configuring OpenTelemetry Collector Exports in Helm\nDESCRIPTION: Helm values configuration example showing how to set up the OpenTelemetry Collector to export traces to an OTLP receiver. This configuration demonstrates sending traces to an external OTLP endpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0013-export-deployment-traces-with-otlp.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nopentelemetry-collector:\n    exporters:\n      otlp:\n        endpoint: otlp.example.com:4317\n\n    service:\n      pipelines:\n        traces:\n          exporters:\n            - otlp\n```\n\n----------------------------------------\n\nTITLE: CSS Custom Properties Usage Example\nDESCRIPTION: Shows how to use Bootstrap's CSS custom properties for font and color styling\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_12\n\nLANGUAGE: css\nCODE:\n```\nbody {\n  font: 1rem/1.5 var(--font-family-sans-serif);\n}\na {\n  color: var(--blue);\n}\n```\n\n----------------------------------------\n\nTITLE: Rendering Canary Deployment Flow After Traffic Routing\nDESCRIPTION: A mermaid flowchart showing the state after traffic routing (canary:33). The Service Discovery now routes traffic to both primary and canary services, distributing 33% of traffic to each task including the new v2 task.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_2\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 33% --> 1a\n        sd -- 33% --> 1b\n        sd -- 33% --> 2a\n\n        subgraph s1[service-abc-primary]\n            1a[Task v1]\n            1b[Task v1]\n        end\n\n        subgraph s2[service-abc-canary]\n            2a[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Helm in Cluster-wide Mode\nDESCRIPTION: Bash commands for installing Piped using Helm in cluster-wide mode. Includes options for basic installation, remote upgrade, and remote upgrade with remote config.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Color Map Definition\nDESCRIPTION: Shows the structure of Bootstrap's color system using a SASS map to define the core color palette\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_9\n\nLANGUAGE: scss\nCODE:\n```\n$colors: (\n  \"blue\": $blue,\n  \"indigo\": $indigo,\n  \"purple\": $purple,\n  \"pink\": $pink,\n  \"red\": $red,\n  \"orange\": $orange,\n  \"yellow\": $yellow,\n  \"green\": $green,\n  \"teal\": $teal,\n  \"cyan\": $cyan,\n  \"white\": $white,\n  \"gray\": $gray-600,\n  \"gray-dark\": $gray-800\n) !default;\n```\n\n----------------------------------------\n\nTITLE: Syncing Latest Released Docs to Stable Version\nDESCRIPTION: Synchronizes the latest released version of documentation to the stable docs directory using a make command.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_12\n\nLANGUAGE: console\nCODE:\n```\nmake gen/stable-docs\n```\n\n----------------------------------------\n\nTITLE: Small Button Sizes in Bootstrap\nDESCRIPTION: Examples of smaller buttons in Bootstrap using the .btn-sm class with primary and secondary styles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-primary btn-sm\">Small button</button>\n<button type=\"button\" class=\"btn btn-secondary btn-sm\">Small button</button>\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service via Command Line\nDESCRIPTION: This console command starts the Piped service using the specified configuration file. Replace {PATH_TO_PIPED_CONFIG_FILE} with the actual path to your Piped configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuration Data Example in YAML\nDESCRIPTION: Sample configuration file (config.yaml) containing MySQL database settings that will be attached to other manifests.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\nmysql:\n  rootPassword: \"test\"\n  database: \"pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Deployment for Primary Variant\nDESCRIPTION: This YAML snippet defines a Kubernetes Deployment resource for the primary variant of the application. It includes labels and selectors for PipeCD to manage the deployment, and specifies the container image and configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: helloworld\n  labels:\n    app: helloworld\n    pipecd.dev/variant: primary\nspec:\n  replicas: 30\n  revisionHistoryLimit: 2\n  selector:\n    matchLabels:\n      app: helloworld\n      pipecd.dev/variant: primary\n  template:\n    metadata:\n      labels:\n        app: helloworld\n        pipecd.dev/variant: primary\n    spec:\n      containers:\n      - name: helloworld\n        image: gcr.io/pipecd/helloworld:v0.1.0\n        args:\n          - server\n        ports:\n          - containerPort: 9085\n```\n\n----------------------------------------\n\nTITLE: Border Radius Sizes in HTML\nDESCRIPTION: Examples of different border-radius sizes using sm and lg modifiers.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/borders.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-sm\" title=\"Example small rounded image\" >}}\n{{< placeholder width=\"75\" height=\"75\" class=\"rounded-lg\" title=\"Example large rounded image\" >}}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This snippet shows the configuration structure for a Cloud Run application in PipeCD. It includes fields for input, pipeline, and other Cloud Run-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Safari Print Width Fix CSS\nDESCRIPTION: CSS media query to resolve Safari's small font size printing issue with fixed-width containers\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/browsers-devices.md#2025-04-14_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n@media print {\n  .container {\n    width: auto;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment in YAML\nDESCRIPTION: This snippet demonstrates how to configure a function.yaml file for deploying a container image as a Lambda function. It includes settings for the function name, image, IAM role, memory, timeout, tags, and environment variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # The amount of memory available to the Lambda application \n  # at runtime. The value can be any multiple of 1 MB.\n  memory: 512\n  # Timeout of the Lambda application, the value must\n  # in between 1 to 900 seconds.\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP Archive Lambda Function\nDESCRIPTION: Configuration for deploying a Lambda function using a ZIP file stored in S3. Includes function runtime settings, handler configuration, and S3 source location details.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Configuring Feedback Widget Response Text\nDESCRIPTION: TOML configuration for customizing the user feedback widget response messages\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/feedback.md#2025-04-14_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[params.ui.feedback]\nenable = true\nyes = 'Glad to hear it! Please <a href=\"https://github.com/USERNAME/REPOSITORY/issues/new\">tell us how we can improve</a>.'\nno = 'Sorry to hear that. Please <a href=\"https://github.com/USERNAME/REPOSITORY/issues/new\">tell us how we can improve</a>.'\n```\n\n----------------------------------------\n\nTITLE: Example Kubernetes Deployment Manifest\nDESCRIPTION: Sample Kubernetes deployment manifest showing a basic configuration that might be subject to drift detection.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/configuration-drift-detection.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: simple\nspec:\n  replicas: 2\n  template:\n    spec:\n      containers:\n        - args:\n            - hi\n            - hello\n          image: gcr.io/pipecd/helloworld:v1.0.0\n          name: helloworld\n```\n\n----------------------------------------\n\nTITLE: CSS Class Definition for Icon Flipping\nDESCRIPTION: New CSS class introduced in v5.7.0 that combines horizontal and vertical icon flipping.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_3\n\nLANGUAGE: css\nCODE:\n```\nfa-flip-both\n```\n\n----------------------------------------\n\nTITLE: Stretching Flex Content\nDESCRIPTION: Shows how to stretch flex items to fill the container using align-content-stretch utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_13\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-stretch flex-wrap\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Bootstrap Grid Mixins\nDESCRIPTION: Essential Sass mixins used for generating semantic CSS for grid columns including creation of rows, columns and offsets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_10\n\nLANGUAGE: scss\nCODE:\n```\n// Creates a wrapper for a series of columns\n@include make-row();\n\n// Make the element grid-ready (applying everything but the width)\n@include make-col-ready();\n@include make-col($size, $columns: $grid-columns);\n\n// Get fancy by offsetting, or changing the sort order\n@include make-col-offset($size, $columns: $grid-columns);\n```\n\n----------------------------------------\n\nTITLE: Configuring YAML Frontmatter for PipeCD Releases Page\nDESCRIPTION: This YAML frontmatter configures a webpage that links to the PipeCD releases on GitHub. It sets the page title, specifies an external link to the releases page, sets the link to open in a new tab, and assigns a weight for navigation ordering.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/releases/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Releases \"\nmanualLink: \"https://github.com/pipe-cd/pipecd/releases\"\nmanualLinkTarget: \"_blank\"\nweight: 99\n---\n```\n\n----------------------------------------\n\nTITLE: Accessing Pprof Index Page in Piped\nDESCRIPTION: This command accesses the pprof index page, which lists available profiling data. It uses curl to send a GET request to the /debug/pprof/ endpoint on the local Piped server.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-piped/using-pprof-in-piped.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\ncurl http://localhost:9085/debug/pprof/\n```\n\n----------------------------------------\n\nTITLE: Dropdown Button Addons in Input Groups in HTML\nDESCRIPTION: Shows how to implement dropdown buttons within input groups, providing extended functionality through dropdown menus alongside form controls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown</button>\n    <div class=\"dropdown-menu\">\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n      <div role=\"separator\" class=\"dropdown-divider\"></div>\n      <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n    </div>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with dropdown button\">\n</div>\n\n<div class=\"input-group\">\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with dropdown button\">\n  <div class=\"input-group-append\">\n    <button class=\"btn btn-outline-secondary dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">Dropdown</button>\n    <div class=\"dropdown-menu\">\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n      <div role=\"separator\" class=\"dropdown-divider\"></div>\n      <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Components Locally\nDESCRIPTION: Commands to run Piped agent and PipeCD site locally using Make targets.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nmake run/piped\n```\n\nLANGUAGE: bash\nCODE:\n```\nmake run/site\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Dashboards for Monitoring\nDESCRIPTION: Command to enable cluster-wide metrics dashboards that are disabled by default.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Visualizing Canary Clean in ECS Deployment\nDESCRIPTION: This Mermaid flowchart depicts the final stage of a Canary deployment in Amazon ECS. The canary service has been removed, and all traffic is routed to the primary service running version 2 tasks.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0012-ecs-not-under-elb.md#2025-04-14_snippet_5\n\nLANGUAGE: mermaid\nCODE:\n```\nflowchart \n\n    subgraph ECS\n        other[Other ECS Service]--[serviceName=abc]--> sd\n\n        sd[Service Discovery]\n        sd -- 50% --> 1a\n        sd -- 50% --> 1b\n\n        subgraph s1[service-abc-primary]\n            1a[Task v2]\n            1b[Task v2]\n        end\n\n    end\n```\n\n----------------------------------------\n\nTITLE: Installing Namespaced Piped with Remote Upgrade using Helm\nDESCRIPTION: This Helm command installs Piped in namespaced mode with the remote upgrade feature enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Implementing Text Wrapping and Overflow in HTML\nDESCRIPTION: This snippet demonstrates how to use Bootstrap classes for text wrapping, preventing wrapping, and truncating text with an ellipsis.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"badge badge-primary text-wrap\" style=\"width: 6rem;\">\n  This text should wrap.\n</div>\n```\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"text-nowrap bd-highlight\" style=\"width: 8rem;\">\n  This text should overflow the parent.\n</div>\n```\n\nLANGUAGE: html\nCODE:\n```\n<!-- Block level -->\n<div class=\"row\">\n  <div class=\"col-2 text-truncate\">\n    Praeterea iter est quasdam res quas ex communi.\n  </div>\n</div>\n\n<!-- Inline level -->\n<span class=\"d-inline-block text-truncate\" style=\"max-width: 150px;\">\n  Praeterea iter est quasdam res quas ex communi.\n</span>\n```\n\n----------------------------------------\n\nTITLE: Defining Grid System Variables in SCSS\nDESCRIPTION: Core Sass variables that define the Bootstrap grid system including number of columns, gutter width, and breakpoints for responsive design.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_9\n\nLANGUAGE: scss\nCODE:\n```\n$grid-columns:      12;\n$grid-gutter-width: 30px;\n\n$grid-breakpoints: (\n  // Extra small screen / phone\n  xs: 0,\n  // Small screen / phone\n  sm: 576px,\n  // Medium screen / tablet\n  md: 768px,\n  // Large screen / desktop\n  lg: 992px,\n  // Extra large screen / wide desktop\n  xl: 1200px\n);\n\n$container-max-widths: (\n  sm: 540px,\n  md: 720px,\n  lg: 960px,\n  xl: 1140px\n);\n```\n\n----------------------------------------\n\nTITLE: Registering and Running Piped TaskDefinition on ECS\nDESCRIPTION: Command line instructions to register the Piped task definition with AWS ECS and run it on the specified cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: bash\nCODE:\n```\naws ecs register-task-definition --cli-input-json file://taskdef.json\naws ecs run-task --cluster {ECS_CLUSTER} --task-definition piped\n```\n\n----------------------------------------\n\nTITLE: Installing PostCSS Dependencies\nDESCRIPTION: These commands install the necessary PostCSS dependencies for building CSS resources in a Docsy project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nsudo npm install -D autoprefixer\nsudo npm install -D postcss-cli\nsudo npm install -D postcss\n```\n\n----------------------------------------\n\nTITLE: Configuring Attachment in PipeCD Application Manifest\nDESCRIPTION: Example of how to configure the attachment feature in a PipeCD application manifest for an ECS application.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/manifest-attachment.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: secret-management\n  labels:\n    env: example\n    team: xyz\n  input:\n    ...\n  attachment:\n    sources:\n      config: config.yaml\n    targets:\n      - taskdef.yaml\n```\n\n----------------------------------------\n\nTITLE: Table Cell Vertical Alignment Examples\nDESCRIPTION: Shows how to apply vertical alignment utilities to table cells. Demonstrates the same alignment options in a table context with a fixed height of 100px.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/vertical-align.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<table style=\"height: 100px;\">\n  <tbody>\n    <tr>\n      <td class=\"align-baseline\">baseline</td>\n      <td class=\"align-top\">top</td>\n      <td class=\"align-middle\">middle</td>\n      <td class=\"align-bottom\">bottom</td>\n      <td class=\"align-text-top\">text-top</td>\n      <td class=\"align-text-bottom\">text-bottom</td>\n    </tr>\n  </tbody>\n</table>\n```\n\n----------------------------------------\n\nTITLE: Component Modifier Generation with SASS Loops\nDESCRIPTION: Example of using SASS @each loops to generate alert and background color modifier classes from theme colors\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_10\n\nLANGUAGE: scss\nCODE:\n```\n// Generate alert modifier classes\n@each $color, $value in $theme-colors {\n  .alert-#{$color} {\n    @include alert-variant(theme-color-level($color, -10), theme-color-level($color, -9), theme-color-level($color, 6));\n  }\n}\n\n// Generate `.bg-*` color utilities\n@each $color, $value in $theme-colors {\n  @include bg-variant('.bg-#{$color}', $value);\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Deployment Methods in PipeCD\nDESCRIPTION: Demonstrates three different methods for deploying AWS Lambda functions with PipeCD: directly from Git source code, using a Zip package stored in S3, or using a container image. These configuration options provide flexibility for developers with different infrastructure setups.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/november-2021-update.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n# Deploy Lambda function directly from source code stored in a Git repository.\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  source:\n    git: git@github.com:username/lambda-function-code.git\n    ref: v1.0.0\n    path: hello-world\n```\n\nLANGUAGE: yaml\nCODE:\n```\n# Deploy Lambda function by a Zip packing source code stored in S3.\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n```\n\nLANGUAGE: yaml\nCODE:\n```\n# Deploy Lambda function by using a container image.\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store (Bash)\nDESCRIPTION: Bash command to store the Piped configuration in AWS Systems Manager Parameter Store as an alternative to Secrets Manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Creating Database Tables in PostgreSQL and MySQL\nDESCRIPTION: SQL commands for creating projects and applications tables with JSON/JSONB support in both PostgreSQL and MySQL. Tables include UUID primary keys and JSON fields for flexible schema storage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_0\n\nLANGUAGE: sql\nCODE:\n```\n# PostgreSQL\nCREATE TABLE projects (\n  id UUID PRIMARY KEY,\n  data JSONB NOT NULL,\n  disabled BOOL NOT NULL,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL\n);\nCREATE TABLE applications (\n  id UUID PRIMARY KEY,\n  project_id UUID NOT NULL,\n  data JSONB NOT NULL,\n  disabled BOOL NOT NULL,\n  created_at BIGINT NOT NULL,\n  updated_at BIGINT NOT NULL\n);\n\n# MySQL\nCREATE TABLE projects (\n  id BINARY(16) PRIMARY KEY,\n  data JSON NOT NULL,\n  disabled BOOL NOT NULL,\n  created_at INT(11) NOT NULL,\n  updated_at INT(11) NOT NULL\n) ENGINE=InnoDB;\n\nCREATE TABLE applications (\n  id BINARY(16) PRIMARY KEY,\n  project_id BINARY(16) NOT NULL,\n  data JSON NOT NULL,\n  disabled BOOL NOT NULL,\n  created_at INT(11) NOT NULL,\n  updated_at INT(11) NOT NULL\n) ENGINE=InnoDB;\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade Feature using Helm\nDESCRIPTION: This Helm command installs Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console. The command includes similar security and RBAC settings as the basic installation, but uses a different image repository for the launcher.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Updating Panel to Card Classes in CSS\nDESCRIPTION: Panel classes have been replaced with card classes. This includes changes to the main container, header, body, and footer classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_9\n\nLANGUAGE: CSS\nCODE:\n```\n.card\n.card-header\n.card-title\n.card-body\n.card-footer\n```\n\n----------------------------------------\n\nTITLE: Dark Theme Table Styling\nDESCRIPTION: Table implementation with dark background using the .table-dark class for inverted color scheme.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/tables.md#2025-04-14_snippet_1\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"table table-dark\">\n  <thead>\n    <tr>\n      <th scope=\"col\">#</th>\n      <th scope=\"col\">First</th>\n      <th scope=\"col\">Last</th>\n      <th scope=\"col\">Handle</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th scope=\"row\">1</th>\n      <td>Mark</td>\n      <td>Otto</td>\n      <td>@mdo</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">2</th>\n      <td>Jacob</td>\n      <td>Thornton</td>\n      <td>@fat</td>\n    </tr>\n    <tr>\n      <th scope=\"row\">3</th>\n      <td>Larry</td>\n      <td>the Bird</td>\n      <td>@twitter</td>\n    </tr>\n  </tbody>\n</table>\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Configuration in AWS Systems Manager Parameter Store\nDESCRIPTION: Bash command to store the Piped configuration as a secure parameter in AWS Systems Manager Parameter Store, providing an alternative method to securely store configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Remote Upgrade Feature using Helm\nDESCRIPTION: This Helm command deploys Piped with the remote upgrade feature enabled. It allows upgrading Piped to a new version from the web console. The command includes similar configuration options as the basic setup, with the addition of the launcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Generating Code from Protobuf and Mock Definitions\nDESCRIPTION: Command to generate Go and TypeScript code from protobuf files and mock configs after making changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nmake gen/code\n```\n\n----------------------------------------\n\nTITLE: Implementing Accessible Toast Structure in HTML\nDESCRIPTION: Example of basic toast markup with proper ARIA attributes for accessibility. Includes role='alert' and aria-live attributes to ensure proper screen reader announcement.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/toasts.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"toast\" role=\"alert\" aria-live=\"polite\" aria-atomic=\"true\" data-delay=\"10000\">\n  <div role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\">...</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Kubernetes Provider Features Table in Markdown\nDESCRIPTION: Markdown table listing features and their maturity phases for the Kubernetes provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/feature-status/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n| Feature | Phase |\n|-|-|\n| Quick sync deployment | Beta |\n| Deployment with a defined pipeline (e.g. canary, analysis) | Beta |\n| [Automated rollback](../user-guide/managing-application/rolling-back-a-deployment/) | Beta |\n| [Automated configuration drift detection](../user-guide/managing-application/configuration-drift-detection/) | Beta |\n| [Application live state](../user-guide/managing-application/application-live-state/) | Beta |\n| Support Helm | Beta |\n| Support Kustomize | Beta |\n| Support Istio service mesh | Beta |\n| Support SMI service mesh | Incubating |\n| Support [AWS App Mesh](https://aws.amazon.com/app-mesh/) | Incubating |\n| [Plan preview](../user-guide/plan-preview) | Beta |\n```\n\n----------------------------------------\n\nTITLE: Implementing Responsive Embed Examples\nDESCRIPTION: Examples of implementing responsive embeds with different aspect ratios using Bootstrap classes. Shows the HTML structure for 21:9, 16:9, 4:3, and 1:1 aspect ratios.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/embed.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<!-- 21:9 aspect ratio -->\n<div class=\"embed-responsive embed-responsive-21by9\">\n  <iframe class=\"embed-responsive-item\" src=\"...\"></iframe>\n</div>\n\n<!-- 16:9 aspect ratio -->\n<div class=\"embed-responsive embed-responsive-16by9\">\n  <iframe class=\"embed-responsive-item\" src=\"...\"></iframe>\n</div>\n\n<!-- 4:3 aspect ratio -->\n<div class=\"embed-responsive embed-responsive-4by3\">\n  <iframe class=\"embed-responsive-item\" src=\"...\"></iframe>\n</div>\n\n<!-- 1:1 aspect ratio -->\n<div class=\"embed-responsive embed-responsive-1by1\">\n  <iframe class=\"embed-responsive-item\" src=\"...\"></iframe>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Font Icon Unicode Value Updates CSS\nDESCRIPTION: Mapping table showing icon name changes and unicode value reassignments from version 5.12.x/5.13.x to 5.14.0. Unicode values were changed to stay within Private Unicode Area range to prevent display issues with CJK ideographs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/UPGRADING.md#2025-04-14_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n/* Example unicode value updates required in CSS content property:\n.fa-bacteria { content: \"\\e059\"; }        /* Changed from f959 */\n.fa-bacterium { content: \"\\e05a\"; }      /* Changed from f95a */\n.fa-box-tissue { content: \"\\e05b\"; }    /* Changed from f95b */\n/* See full table in upgrade guide for complete list */\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade Feature\nDESCRIPTION: This Helm upgrade command installs or upgrades PipeCD Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console. The command includes similar configuration as the basic installation but adds the launcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring ZIP File Archive Lambda Function Deployment in YAML\nDESCRIPTION: This snippet demonstrates how to configure a function.yaml file for deploying a Lambda function using a .zip file archive stored in AWS S3. It includes fields for S3 bucket, key, and object version, as well as runtime and handler specifications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Creating Secret for Piped Configuration (Console)\nDESCRIPTION: This command creates a new secret in Google Cloud Secret Manager to store the Piped configuration file securely.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Plan Preview Results in Diff Format\nDESCRIPTION: Shows the detailed plan preview results for application deployments in a diff format, highlighting changes that will be applied when the pull request is merged.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/tool/actions-plan-preview/testdata/comment-only-changed-app.txt#2025-04-14_snippet_0\n\nLANGUAGE: diff\nCODE:\n```\nplan-details-1\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in Namespaced Mode\nDESCRIPTION: Helm command to install Piped with both remote-upgrade and remote-config capabilities in namespaced mode. This allows both upgrading Piped and updating its configuration remotely while maintaining namespace-level restrictions.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\n# Enable both remote-upgrade and remote-config features of Piped.\n# https://pipecd.dev/docs/user-guide/managing-piped/remote-upgrade-remote-config/#remote-config\n# Beside of the ability to upgrade Piped to a new version from the web console,\n# remote-config allows loading the Piped config stored in a remote location such as a Git repository.\n# Whenever the config data is changed, it loads the new config and restarts Piped to use that new config.\n\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade Feature\nDESCRIPTION: This Helm command installs PipeCD Piped with the remote-upgrade feature enabled. It allows upgrading Piped to a new version from the web console. The command includes similar configurations as the basic installation but adds the launcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Partial Bootstrap Sass Import\nDESCRIPTION: Example of importing specific Bootstrap Sass components\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_3\n\nLANGUAGE: scss\nCODE:\n```\n// Custom.scss\n// Option B: Include parts of Bootstrap\n\n// Required\n@import \"../node_modules/bootstrap/scss/functions\";\n@import \"../node_modules/bootstrap/scss/variables\";\n@import \"../node_modules/bootstrap/scss/mixins\";\n\n// Include custom variable default overrides here\n\n// Optional\n@import \"../node_modules/bootstrap/scss/reboot\";\n@import \"../node_modules/bootstrap/scss/type\";\n@import \"../node_modules/bootstrap/scss/images\";\n@import \"../node_modules/bootstrap/scss/code\";\n@import \"../node_modules/bootstrap/scss/grid\";\n```\n\n----------------------------------------\n\nTITLE: PipeCD Event Watcher Configuration\nDESCRIPTION: Configuration fields for event watching functionality including check intervals and git repository settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_2\n\nLANGUAGE: markdown\nCODE:\n```\n## EventWatcher\n| Field | Type | Description | Required |\n|-|-|-|-|\n| checkInterval | duration | Interval to fetch the latest event and compare it with one defined in EventWatcher config files. Defaults to `1m`. | No |\n| gitRepos | [][EventWatcherGitRepo](#eventwatchergitrepo) | The configuration list of git repositories to be observed. Only the repositories in this list will be observed by Piped. | No |\n```\n\n----------------------------------------\n\nTITLE: Storing Piped Config in AWS Secrets Manager\nDESCRIPTION: Commands for storing Piped configuration in AWS Secrets Manager or Systems Manager Parameter Store for secure access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Displaying Bootstrap Icons Image in HTML\nDESCRIPTION: This HTML snippet displays an image of Bootstrap Icons with responsive sizing and lazy loading. It uses the srcset attribute for different resolutions and includes accessibility attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/extend/icons.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<img class=\"img-fluid mt-3 mx-auto\" srcset=\"/docs/{{< param docs_version >}}/assets/img/bootstrap-icons.png,\n                                            /docs/{{< param docs_version >}}/assets/img/bootstrap-icons@2x.png 2x\"\n                                            src=\"/docs/{{< param docs_version >}}/assets/img/bootstrap-icons.png\"\n                                            alt=\"Bootstrap Icons\" width=\"966\" height=\"600\" loading=\"lazy\">\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Mode in YAML\nDESCRIPTION: Extended Piped configuration for namespaced mode, which includes a Kubernetes platform provider with namespace restrictions to limit Piped's operational scope.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Starting Piped with Configuration File\nDESCRIPTION: This command starts the Piped agent using the specified configuration file. It runs the piped binary with the required parameters to connect to the PipeCD control plane.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watchers in PipeCD (Deprecated)\nDESCRIPTION: YAML configuration for an Event Watcher in PipeCD (marked as deprecated). This defines an event to watch for image updates and specifies replacements in Kubernetes manifests when the event occurs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Installing Basic Piped Agent in OKD Using Helm\nDESCRIPTION: Helm command to install the basic Piped agent in an OKD environment. This configuration requires manual restarts when updating and uses OKD-specific images with security context settings required for OpenShift.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Applying Text-Hide Class in HTML\nDESCRIPTION: This snippet demonstrates how to use the .text-hide class in HTML to replace text content with a background image. It's applied to an h1 element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/image-replacement.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<h1 class=\"text-hide\">Custom heading</h1>\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Base Configuration\nDESCRIPTION: Basic YAML configuration for Piped setup including project settings, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade Feature\nDESCRIPTION: Helm command to install PipeCD Piped with remote-upgrade capability enabled. Allows version upgrades via web console but still requires manual restart for config changes. Uses OKD-specific launcher image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Control Plane Configuration for Firestore and GCS\nDESCRIPTION: Example YAML configuration for PipeCD Control Plane using Firestore as the datastore and Google Cloud Storage (GCS) as the filestore. Includes settings for project configuration, namespace, and credentials file paths.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  stateKey: {RANDOM_STRING}\n  datastore:\n    type: FIRESTORE\n    config:\n      namespace: pipecd\n      environment: dev\n      project: {YOUR_GCP_PROJECT_NAME}\n      # Must be a service account with \"Cloud Datastore User\" and \"Cloud Datastore Index Admin\" roles\n      # since PipeCD needs them to creates the needed Firestore composite indexes in the background.\n      credentialsFile: /etc/pipecd-secret/firestore-service-account\n  filestore:\n    type: GCS\n    config:\n      bucket: {YOUR_BUCKET_NAME}\n      # Must be a service account with \"Storage Object Admin (roles/storage.objectAdmin)\" role on the given bucket\n      # since PipeCD need to write file object such as deployment log file to that bucket.\n      credentialsFile: /etc/pipecd-secret/gcs-service-account\n```\n\n----------------------------------------\n\nTITLE: Configuring CloudRun Application with PipeCD Terraform Provider\nDESCRIPTION: Example configuration demonstrating how to set up a CloudRun application in PipeCD using the Terraform provider. The code configures the provider requirements and defines a CloudRun application with Git repository details and platform-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\n// Setup the provider\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\n// Declaration of CloudRun Application\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Basic Dropdown Structure with Data Attributes\nDESCRIPTION: Example showing the basic HTML structure required for dropdown functionality using data attributes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_12\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"dropdown\">\n  <button id=\"dLabel\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropdown trigger\n  </button>\n  <div class=\"dropdown-menu\" aria-labelledby=\"dLabel\">\n    ...\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Adding Tooltips and Popovers to Bootstrap Modals\nDESCRIPTION: Demonstrates how to implement tooltips and popovers within modal dialogs. Shows tooltip and popover initialization with proper data attributes and containment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"modal-body\">\n  <h5>Popover in a modal</h5>\n  <p>This <a href=\"#\" role=\"button\" class=\"btn btn-secondary popover-test\" title=\"Popover title\" data-content=\"Popover body content is set in this attribute.\">button</a> triggers a popover on click.</p>\n  <hr>\n  <h5>Tooltips in a modal</h5>\n  <p><a href=\"#\" class=\"tooltip-test\" title=\"Tooltip\">This link</a> and <a href=\"#\" class=\"tooltip-test\" title=\"Tooltip\">that link</a> have tooltips on hover.</p>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Gradual Rollout for Cloud Run Application in PipeCD\nDESCRIPTION: This YAML configuration demonstrates a custom pipeline for gradually rolling out a new version of a Cloud Run application using PipeCD. It includes stages for promoting traffic percentages and wait periods.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/defining-app-configuration/cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  pipeline:\n    stages:\n      # Promote new version to receive 10% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 10\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive 50% of traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 50\n      - name: WAIT\n        with:\n          duration: 10m\n      # Promote new version to receive all traffic.\n      - name: CLOUDRUN_PROMOTE\n        with:\n          percent: 100\n```\n\n----------------------------------------\n\nTITLE: Creating Dropright Menus in Bootstrap\nDESCRIPTION: Demonstrates how to create dropdown menus that appear to the right of the trigger element using the .dropright class. Includes both default and split button variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<!-- Default dropright button -->\n<div class=\"btn-group dropright\">\n  <button type=\"button\" class=\"btn btn-secondary dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Dropright\n  </button>\n  <div class=\"dropdown-menu\">\n    <!-- Dropdown menu links -->\n  </div>\n</div>\n\n<!-- Split dropright button -->\n<div class=\"btn-group dropright\">\n  <button type=\"button\" class=\"btn btn-secondary\">\n    Split dropright\n  </button>\n  <button type=\"button\" class=\"btn btn-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <span class=\"sr-only\">Toggle Dropright</span>\n  </button>\n  <div class=\"dropdown-menu\">\n    <!-- Dropdown menu links -->\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding PipeCD Control Plane Service\nDESCRIPTION: This command sets up port forwarding to access the PipeCD Control Plane UI on localhost:8080.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/quickstart/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl port-forward -n pipecd svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Remote Git Helm Chart Configuration\nDESCRIPTION: Configuration for loading a Helm chart from a different git repository with specific version reference.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      gitRemote: git@github.com:pipe-cd/manifests.git\n      ref: v0.5.0\n      path: manifests/helloworld\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Helm Installation with Secret Keys\nDESCRIPTION: Helm installation command for PipeCD, specifying the paths to the public and private key files for secret management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Remote-upgrade and Remote-config\nDESCRIPTION: Helm command to install PipeCD Piped with both remote-upgrade and remote-config features enabled. Supports loading config from Git repository and automatic restart on config changes. Uses OKD-specific launcher image.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Applying Custom Values File in Helm Installation for PipeCD\nDESCRIPTION: This command applies a custom values file named 'values.yaml' when installing PipeCD using Helm. It's used to include additional configurations such as Alertmanager settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n--values=values.yaml\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Kubernetes Deployment\nDESCRIPTION: This YAML configuration extends the basic Piped config to include a Kubernetes platform provider, restricting Piped's access to a specific namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Storing Configuration in AWS Services\nDESCRIPTION: Bash commands for storing Piped configuration in either AWS Secrets Manager or AWS Systems Manager Parameter Store.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\naws secretsmanager create-secret --name PipedConfig \\\n  --description \"Configuration of piped running as ECS Fargate task\" \\\n  --secret-string `base64 piped-config.yaml`\n```\n\nLANGUAGE: bash\nCODE:\n```\naws ssm put-parameter \\\n  --name PipedConfig \\\n  --value `base64 piped-config.yaml` \\\n  --type SecureString\n```\n\n----------------------------------------\n\nTITLE: Configuring Canary-Baseline Strategy for Automated Deployment Analysis in Kubernetes\nDESCRIPTION: Example of configuring an ANALYSIS stage in a PipeCD pipeline using the CANARY_BASELINE strategy. This compares metrics between Canary and Baseline variants using template interpolation for variant-specific data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: CANARY_BASELINE\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\", status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total{job=\"foo-{{ .Variant.Name }}\"}[5m]))\n```\n\n----------------------------------------\n\nTITLE: Creating Variable Width Content Columns in Bootstrap Grid HTML\nDESCRIPTION: This snippet shows how to create columns with variable width content using Bootstrap's grid system. It uses 'col-{breakpoint}-auto' classes to size columns based on their content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"container\">\n  <div class=\"row justify-content-md-center\">\n    <div class=\"col col-lg-2\">\n      1 of 3\n    </div>\n    <div class=\"col-md-auto\">\n      Variable width content\n    </div>\n    <div class=\"col col-lg-2\">\n      3 of 3\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col\">\n      1 of 3\n    </div>\n    <div class=\"col-md-auto\">\n      Variable width content\n    </div>\n    <div class=\"col col-lg-2\">\n      3 of 3\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Generating Self-Signed TLS Certificate for PipeCD Internal Use\nDESCRIPTION: OpenSSL command to generate a self-signed TLS certificate for internal use in PipeCD, particularly useful for GKE Ingress configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-control-plane/installing-controlplane-on-k8s.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\nopenssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout tls.key -out tls.crt -subj \"/CN={YOUR_DOMAIN}\"\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote-upgrade and Remote-config in OpenShift\nDESCRIPTION: Installs Piped with both remote-upgrade and remote-config features, allowing loading configuration from a Git repository and automatic restart upon config changes. Includes OpenShift-specific security context and launcher settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_10\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set launcher.image.repository=\"ghcr.io/pipe-cd/launcher-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring WAIT_APPROVAL Stage in Kubernetes Pipeline\nDESCRIPTION: This YAML configuration adds a manual approval stage to a Kubernetes application deployment pipeline. It requires approval from a specific user before proceeding to the primary rollout stage. The approval has a timeout of 6 hours after which the deployment will fail if not approved.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-application/customizing-deployment/adding-a-manual-approval.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n      - name: WAIT_APPROVAL\n        with:\n          timeout: 6h\n          approvers:\n            - user-abc\n      - name: K8S_PRIMARY_ROLLOUT\n```\n\n----------------------------------------\n\nTITLE: Configuring Container Image Lambda Function Deployment\nDESCRIPTION: Configuration for deploying a Lambda function using container images. Specifies function name, image source, IAM role, memory, timeout, tags, environment variables and optional VPC configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleFunction\n  image: ecr.ap-northeast-1.amazonaws.com/lambda-test:v0.0.1\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  memory: 512\n  timeout: 30\n  tags:\n    app: simple\n  environments:\n    FOO: bar\n  ephemeralStorage:\n    size: 512\n  vpcConfig:\n    securityGroupIds:\n      - sg-01234\n      - sg-56789\n    subnetIds:\n      - subnet-01234\n      - subnet-56789\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with Remote Upgrade and Remote Config\nDESCRIPTION: This Helm command installs Piped with both remote upgrade and remote config features enabled, allowing version upgrades and config updates from a Git repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set launcher.enabled=true \\\n  --set launcher.configFromGitRepo.enabled=true \\\n  --set launcher.configFromGitRepo.repoUrl=git@github.com:{GIT_ORG}/{GIT_REPO}.git \\\n  --set launcher.configFromGitRepo.branch={GIT_BRANCH} \\\n  --set launcher.configFromGitRepo.configFile={RELATIVE_PATH_TO_PIPED_CONFIG_FILE_IN_GIT_REPO} \\\n  --set launcher.configFromGitRepo.sshKeyFile=/etc/piped-secret/ssh-key \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped YAML for Cloud Run\nDESCRIPTION: Basic configuration file for Piped including project settings, API connections, Git repository access, and optional platform providers for Cloud Run and Terraform.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyData: {BASE64_ENCODED_PIPED_KEY}\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n\n  git:\n    sshKeyData: {BASE64_ENCODED_PRIVATE_SSH_KEY}\n\n  repositories:\n    - repoId: {REPO_ID_OR_NAME}\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n\n  platformProviders:\n    - name: cloudrun-in-project\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT_ID}\n        region: {GCP_PROJECT_REGION}\n```\n\n----------------------------------------\n\nTITLE: Diff showing Helm chart version update by EventWatcher\nDESCRIPTION: This diff shows the changes made by EventWatcher when triggered by a Helm release event. It updates the Helm chart version from 0.1.0 to 0.2.0 in the application configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/event-watcher.md#2025-04-14_snippet_9\n\nLANGUAGE: diff\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      name: helloworld\n-     version: 0.1.0\n+     version: 0.2.0\n  eventWatcher:\n    - matcher:\n        name: image-update\n        labels:\n          env: dev\n          appName: helloworld\n      handler:\n        type: GIT_UPDATE\n        config:\n          replacements:\n            - file: app.pipecd.yaml\n              yamlField: $.spec.input.helmChart.version\n```\n\n----------------------------------------\n\nTITLE: Retrieving application information with pipectl (Console)\nDESCRIPTION: Fetches and displays information about a specific application in JSON format.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: SCSS Row Columns Mixin Implementation\nDESCRIPTION: Demonstrates how to use the row-cols() SCSS mixin to create responsive column layouts with media breakpoints. Shows implementation for 3 columns by default and 5 columns on medium screens and up.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_7\n\nLANGUAGE: scss\nCODE:\n```\n.element {\n  // Three columns to start\n  @include row-cols(3);\n\n  // Five columns from medium breakpoint up\n  @include media-breakpoint-up(md) {\n    @include row-cols(5);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Encrypting data for deployment with pipectl (Console)\nDESCRIPTION: Encrypts sensitive data for use in deployments, reading from stdin or a file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/command-line-tool.md#2025-04-14_snippet_14\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped with Basic Configuration using Helm in Bash\nDESCRIPTION: This Helm command deploys Piped with basic configuration. It sets up Piped without remote-upgrade or remote-config features, configuring various security settings and disabling the default Kubernetes cloud provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Pipeline with PREVIOUS Analysis\nDESCRIPTION: Pipeline example for analyzing a primary deployment using the PREVIOUS strategy. This pipeline rolls out to primary directly and then compares CPU usage metrics with the previous successful deployment over a 30-minute period.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Configuring Previous Strategy for Automated Deployment Analysis in Kubernetes\nDESCRIPTION: Example of configuring an ANALYSIS stage in a PipeCD pipeline using the PREVIOUS strategy. This compares current metrics with the last successful deployment, failing if the error rate increases.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Setting up PipeCD Terraform Provider\nDESCRIPTION: This snippet demonstrates how to set up the PipeCD Terraform provider in a Terraform configuration file. It specifies the required provider and version, and optionally sets the control plane's host name and API key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_0\n\nLANGUAGE: hcl\nCODE:\n```\nterraform {\n  required_providers {\n    pipecd = {\n      source  = \"pipe-cd/pipecd\"\n      version = \"0.1.0\"\n    }\n  }\n  required_version = \">= 1.4\"\n}\n\nprovider \"pipecd\" {\n  # pipecd_host    = \"\" // optional, if not set, read from environments as PIPECD_HOST\n  # pipecd_api_key = \"\" // optional, if not set, read from environments as PIPECD_API_KEY\n}\n```\n\n----------------------------------------\n\nTITLE: Using Sass Mixins for Responsive Breakpoints\nDESCRIPTION: New Sass mixins have been introduced to replace the old @screen variables for responsive breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_14\n\nLANGUAGE: SCSS\nCODE:\n```\n@include media-breakpoint-up()\n@include media-breakpoint-down()\n@include media-breakpoint-only()\n```\n\n----------------------------------------\n\nTITLE: Generating Stable Documentation from Latest Released Version\nDESCRIPTION: Command to synchronize the latest released version documentation to the stable documentation directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/contribution-guidelines/development.md#2025-04-14_snippet_9\n\nLANGUAGE: bash\nCODE:\n```\nmake gen/stable-docs\n```\n\n----------------------------------------\n\nTITLE: Disabled Button Elements in Bootstrap\nDESCRIPTION: Examples of disabled button elements using the disabled attribute on standard button elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" class=\"btn btn-lg btn-primary\" disabled>Primary button</button>\n<button type=\"button\" class=\"btn btn-secondary btn-lg\" disabled>Button</button>\n```\n\n----------------------------------------\n\nTITLE: No-Wrap Input Group Implementation in HTML\nDESCRIPTION: Shows how to create an input group that doesn't wrap using the flex-nowrap class, useful for maintaining single-line display.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group flex-nowrap\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"addon-wrapping\">@</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"addon-wrapping\">\n</div>\n```\n\n----------------------------------------\n\nTITLE: Defining YAML Front Matter for Search Results Page\nDESCRIPTION: This YAML front matter defines the page title as 'Search Results' and specifies the layout to be used as 'search'. This configuration is typically used in static site generators to set metadata and layout templates for the page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/search.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: Search Results\nlayout: search\n\n---\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing in Kubernetes\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset, serving as the starting point for canary deployment.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/examples/k8s-app-canary-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-canary\nspec:\n  hosts:\n    - mesh-istio-canary.pipecd.dev\n  gateways:\n    - mesh-istio-canary\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-canary.default.svc.cluster.local\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Configuring PREVIOUS Strategy Analysis\nDESCRIPTION: Configuration example for comparing metrics with previous successful deployments using the PREVIOUS strategy. This setup monitors error rates by comparing current metrics against historical data.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              deviation: HIGH\n              interval: 5m\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Implementing Danger Button Dropdown with Divider in Bootstrap\nDESCRIPTION: HTML example showing how to create a dropdown menu with a danger-styled button. This snippet includes a dropdown divider to separate groups of menu items for better organization.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<!-- Example single danger button -->\n<div class=\"btn-group\">\n  <button type=\"button\" class=\"btn btn-danger dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Action\n  </button>\n  <div class=\"dropdown-menu\">\n    <a class=\"dropdown-item\" href=\"#\">Action</a>\n    <a class=\"dropdown-item\" href=\"#\">Another action</a>\n    <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n    <div class=\"dropdown-divider\"></div>\n    <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl via aqua\nDESCRIPTION: Installs pipectl using the aqua package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl && aqua i\n```\n\n----------------------------------------\n\nTITLE: Basic Navbar Form Implementation in Bootstrap\nDESCRIPTION: Example of implementing a search form within a navbar using Bootstrap's form-inline class and form controls.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/navbar.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<nav class=\"navbar navbar-light bg-light\">\n  <form class=\"form-inline\">\n    <input class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\">\n    <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\">Search</button>\n  </form>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Managing Applications with pipectl\nDESCRIPTION: These snippets demonstrate various operations on applications using pipectl, including getting application info, listing applications, disabling, and deleting applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_7\n\nLANGUAGE: console\nCODE:\n```\npipectl application get \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application list \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-name={APPLICATION_NAME} \\\n    --app-kind=KUBERNETES\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Hiding Bootstrap Popover\nDESCRIPTION: JavaScript method to manually hide a Bootstrap popover element\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_10\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('hide')\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Piped with Basic Configuration\nDESCRIPTION: This Helm command installs PipeCD Piped with basic configuration. It sets up the Piped config, SSH key, and various security contexts. The command disables the default Kubernetes cloud provider and sets the RBAC scope to namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_8\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Primary Deployment Pipeline with Previous Analysis\nDESCRIPTION: Example of a Kubernetes deployment pipeline implementing the PREVIOUS strategy for analysis. This simpler pipeline performs primary rollout then analysis against metrics from previous successful deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 5m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[5m])\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Service for Piped Task Deployment\nDESCRIPTION: This JSON service definition controls the deployment of the Piped task on ECS Fargate. It ensures one instance of the Piped task is running and configures network and launch settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_5\n\nLANGUAGE: json\nCODE:\n```\n{\n  \"cluster\": \"{ECS_CLUSTER}\",\n  \"serviceName\": \"piped\",\n  \"desiredCount\": 1,\n  \"taskDefinition\": \"{PIPED_TASK_DEFINITION_ARN}\",\n  \"deploymentConfiguration\": {\n    \"minimumHealthyPercent\": 0,\n    \"maximumPercent\": 100\n  },\n  \"schedulingStrategy\": \"REPLICA\",\n  \"launchType\": \"FARGATE\",\n  \"networkConfiguration\": {\n    \"awsvpcConfiguration\": {\n      \"assignPublicIp\": \"ENABLED\",\n      ...\n    }\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Managing Carousel Transitions in Bootstrap\nDESCRIPTION: This snippet shows how to handle carousel transitions and method calls, including a case where a method call is ignored during an ongoing transition.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/javascript.md#2025-04-14_snippet_5\n\nLANGUAGE: JavaScript\nCODE:\n```\n$('#myCarousel').on('slid.bs.carousel', function (event) {\n  $('#myCarousel').carousel('2') // Will slide to the slide 2 as soon as the transition to slide 1 is finished\n})\n\n$('#myCarousel').carousel('1') // Will start sliding to the slide 1 and returns to the caller\n$('#myCarousel').carousel('2') // !! Will be ignored, as the transition to the slide 1 is not finished !!\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Popovers with data-toggle Attribute\nDESCRIPTION: JavaScript code to initialize all popovers on a page by selecting elements with the data-toggle=\"popover\" attribute. This is a common way to enable popovers site-wide.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_0\n\nLANGUAGE: js\nCODE:\n```\n$(function () {\n  $('[data-toggle=\"popover\"]').popover()\n})\n```\n\n----------------------------------------\n\nTITLE: Creating Large Button Dropdown Groups in Bootstrap\nDESCRIPTION: Demonstrates implementation of large-sized button dropdowns, including both default and split button variations with the btn-lg class modifier.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/dropdowns.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!-- Large button groups (default and split) -->\n<div class=\"btn-group\">\n  <button class=\"btn btn-secondary btn-lg dropdown-toggle\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    Large button\n  </button>\n  <div class=\"dropdown-menu\">\n    ...\n  </div>\n</div>\n<div class=\"btn-group\">\n  <button class=\"btn btn-secondary btn-lg\" type=\"button\">\n    Large split button\n  </button>\n  <button type=\"button\" class=\"btn btn-lg btn-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n    <span class=\"sr-only\">Toggle Dropdown</span>\n  </button>\n  <div class=\"dropdown-menu\">\n    ...\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Encrypting Secret Data from file with pipectl\nDESCRIPTION: Command to encrypt plaintext data from a file using pipectl. Uses the --input-file flag to specify the path to the secret file instead of stdin. Requires the same authentication parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/command-line-tool.md#2025-04-14_snippet_11\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Including Bootstrap JS with Separate Popper via CDN in HTML\nDESCRIPTION: This snippet shows how to include Bootstrap's JavaScript with Popper as a separate file, along with jQuery, all via CDN. It includes integrity hashes for each file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/download.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<script src=\"{{< param \"cdn.jquery\" >}}\" integrity=\"{{< param \"cdn.jquery_hash\" >}}\" crossorigin=\"anonymous\"></script>\n<script src=\"{{< param \"cdn.popper\" >}}\" integrity=\"{{< param \"cdn.popper_hash\" >}}\" crossorigin=\"anonymous\"></script>\n<script src=\"{{< param \"cdn.js\" >}}\" integrity=\"{{< param \"cdn.js_hash\" >}}\" crossorigin=\"anonymous\"></script>\n```\n\n----------------------------------------\n\nTITLE: Configuring Datadog as Analysis Provider in PipeCD\nDESCRIPTION: This YAML snippet demonstrates how to set up Datadog as an analysis provider in the Piped configuration file. It includes the provider name, type, and file paths for the API key and application key.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: datadog-dev\n      type: DATADOG\n      config:\n        apiKeyFile: /etc/piped-secret/datadog-api-key\n        applicationKeyFile: /etc/piped-secret/datadog-application-key\n```\n\n----------------------------------------\n\nTITLE: Deploying Piped without Remote-upgrade on Google Cloud VM\nDESCRIPTION: This command creates a Google Cloud VM instance running Piped with a specific version, requiring manual restarts for upgrades or configuration updates.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/installation/install-piped/installing-on-google-cloud-vm.md#2025-04-14_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ngcloud compute instances create-with-container vm-piped \\\n  --container-image=\"ghcr.io/pipe-cd/piped:{{< blocks/latest_version >}}\" \\\n  --container-arg=\"piped\" \\\n  --container-arg=\"--config-gcp-secret=projects/{GCP_PROJECT_ID}/secrets/vm-piped-config/versions/{SECRET_VERSION}\" \\\n  --network=\"{VPC_NETWORK}\" \\\n  --subnet=\"{VPC_SUBNET}\" \\\n  --scopes=\"cloud-platform\" \\\n  --service-account=\"vm-piped@{GCP_PROJECT_ID}.iam.gserviceaccount.com\"\n```\n\n----------------------------------------\n\nTITLE: Basic Kubernetes App Configuration for Quick Sync Using Helm Chart\nDESCRIPTION: A simple Kubernetes application configuration missing the pipeline field, which will trigger quick sync deployments for any pull request changes. This example uses a Helm chart from a repository.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      repository: pipecd\n      name: helloworld\n      version: v0.3.0\n```\n\n----------------------------------------\n\nTITLE: GPU Acceleration Fix for Blurry Popovers\nDESCRIPTION: JavaScript code workaround to fix blurry popovers on Windows 10 devices due to GPU acceleration and modified system DPI. This adjusts Popper.js default settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_8\n\nLANGUAGE: js\nCODE:\n```\nPopper.Defaults.modifiers.computeStyle.gpuAcceleration = !(window.devicePixelRatio < 1.5 && /Win/.test(navigator.platform))\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Carousel with Individual Item Intervals\nDESCRIPTION: This HTML snippet demonstrates how to create a Bootstrap carousel with individual slide intervals using the data-interval attribute. It includes controls for navigating between slides.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleInterval\" class=\"carousel slide\" data-ride=\"carousel\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\" data-interval=\"10000\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\" data-interval=\"2000\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleInterval\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleInterval\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Homebrew\nDESCRIPTION: Installs pipectl using Homebrew package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\nbrew install pipectl\n```\n\n----------------------------------------\n\nTITLE: Implementing Image Caps in Bootstrap Cards\nDESCRIPTION: Demonstrates how to add images to the top or bottom of a Bootstrap card using the 'image cap' technique. Shows examples of both top and bottom image caps.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card mb-3\">\n  {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card title</h5>\n    <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n    <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n  </div>\n</div>\n<div class=\"card\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Card title</h5>\n    <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n    <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n  </div>\n  {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-bottom\" text=\"Image cap\" >}}\n</div>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Ops Service\nDESCRIPTION: This command uses kubectl to forward a local port to the PipeCD ops service, allowing access to the internal web page for project management.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-controlplane/adding-a-project.md#2025-04-14_snippet_0\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward service/pipecd-ops 9082 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Showing Bootstrap Tooltip Using jQuery\nDESCRIPTION: Shows how to programmatically display a tooltip on an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('show')\n```\n\n----------------------------------------\n\nTITLE: Basic Piped Installation with Helm\nDESCRIPTION: Basic Helm command to install Piped with namespace-scoped RBAC and custom security context settings. Uses OKD-specific image and disables default Kubernetes cloud provider.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\nhelm upgrade -i dev-piped oci://ghcr.io/pipe-cd/chart/piped --version={{< blocks/latest_version >}} --namespace={NAMESPACE} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE} \\\n  --set args.enableDefaultKubernetesCloudProvider=false \\\n  --set rbac.scope=namespace\n  --set args.addLoginUserToPasswd=true \\\n  --set securityContext.runAsNonRoot=true \\\n  --set securityContext.runAsUser={UID} \\\n  --set securityContext.fsGroup={FS_GROUP} \\\n  --set securityContext.runAsGroup=0 \\\n  --set image.repository=\"ghcr.io/pipe-cd/piped-okd\"\n```\n\n----------------------------------------\n\nTITLE: Configuring Threshold Strategy Analysis Stage in Kubernetes\nDESCRIPTION: Example configuration for THRESHOLD strategy in an analysis stage that evaluates HTTP error rates against a static threshold over a 30-minute duration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: THRESHOLD\n              provider: my-prometheus\n              interval: 5m\n              expected:\n                max: 0.01\n              query: |\n                sum (rate(http_requests_total{status=~\"5.*\"}[5m]))\n                /\n                sum (rate(http_requests_total[5m]))\n```\n\n----------------------------------------\n\nTITLE: Configuring Istio VirtualService for Initial Traffic Routing\nDESCRIPTION: This YAML snippet defines an Istio VirtualService that initially routes all traffic to the primary subset. This is the starting point for the blue-green deployment process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/examples/k8s-app-bluegreen-with-istio.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: networking.istio.io/v1beta1\nkind: VirtualService\nmetadata:\n  name: mesh-istio-bluegreen\nspec:\n  hosts:\n    - mesh-istio-bluegreen.pipecd.dev\n  gateways:\n    - mesh-istio-bluegreen\n  http:\n    - route:\n      - destination:\n          host: mesh-istio-bluegreen\n          subset: primary\n        weight: 100\n```\n\n----------------------------------------\n\nTITLE: Creating Large-Sized Pagination Component\nDESCRIPTION: This example demonstrates how to implement a larger pagination component using the .pagination-lg class. It shows the pagination with an active state for the current page.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/pagination.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<nav aria-label=\"...\">\n  <ul class=\"pagination pagination-lg\">\n    <li class=\"page-item active\" aria-current=\"page\">\n      <span class=\"page-link\">1</span>\n    </li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">2</a></li>\n    <li class=\"page-item\"><a class=\"page-link\" href=\"#\">3</a></li>\n  </ul>\n</nav>\n```\n\n----------------------------------------\n\nTITLE: Data Attribute Based Tab Implementation\nDESCRIPTION: Implementation of tabs using data attributes without JavaScript initialization. Uses data-toggle=\"list\" for automatic functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/list-group.md#2025-04-14_snippet_10\n\nLANGUAGE: html\nCODE:\n```\n<div role=\"tabpanel\">\n  <!-- List group -->\n  <div class=\"list-group\" id=\"myList\" role=\"tablist\">\n    <a class=\"list-group-item list-group-item-action active\" data-toggle=\"list\" href=\"#home\" role=\"tab\">Home</a>\n    <a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#profile\" role=\"tab\">Profile</a>\n    <a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#messages\" role=\"tab\">Messages</a>\n    <a class=\"list-group-item list-group-item-action\" data-toggle=\"list\" href=\"#settings\" role=\"tab\">Settings</a>\n  </div>\n\n  <!-- Tab panes -->\n  <div class=\"tab-content\">\n    <div class=\"tab-pane active\" id=\"home\" role=\"tabpanel\">...</div>\n    <div class=\"tab-pane\" id=\"profile\" role=\"tabpanel\">...</div>\n    <div class=\"tab-pane\" id=\"messages\" role=\"tabpanel\">...</div>\n    <div class=\"tab-pane\" id=\"settings\" role=\"tabpanel\">...</div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Segmented Button Dropdowns in Input Groups in HTML\nDESCRIPTION: Demonstrates segmented button implementation in input groups, with a main action button paired with a dropdown toggle for additional options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_8\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <button type=\"button\" class=\"btn btn-outline-secondary\">Action</button>\n    <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n      <span class=\"sr-only\">Toggle Dropdown</span>\n    </button>\n    <div class=\"dropdown-menu\">\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n      <div role=\"separator\" class=\"dropdown-divider\"></div>\n      <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n    </div>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with segmented dropdown button\">\n</div>\n\n<div class=\"input-group\">\n  <input type=\"text\" class=\"form-control\" aria-label=\"Text input with segmented dropdown button\">\n  <div class=\"input-group-append\">\n    <button type=\"button\" class=\"btn btn-outline-secondary\">Action</button>\n    <button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-toggle-split\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n      <span class=\"sr-only\">Toggle Dropdown</span>\n    </button>\n    <div class=\"dropdown-menu\">\n      <a class=\"dropdown-item\" href=\"#\">Action</a>\n      <a class=\"dropdown-item\" href=\"#\">Another action</a>\n      <a class=\"dropdown-item\" href=\"#\">Something else here</a>\n      <div role=\"separator\" class=\"dropdown-divider\"></div>\n      <a class=\"dropdown-item\" href=\"#\">Separated link</a>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Basic Button Group in HTML\nDESCRIPTION: Creates a basic horizontal button group with three buttons using the .btn-group container class. Includes proper ARIA attributes for accessibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n  <button type=\"button\" class=\"btn btn-secondary\">Left</button>\n  <button type=\"button\" class=\"btn btn-secondary\">Middle</button>\n  <button type=\"button\" class=\"btn btn-secondary\">Right</button>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Loading Bootstrap JS Components Separately\nDESCRIPTION: Loads jQuery, Popper.js, and Bootstrap JavaScript components as separate files for more granular control.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<script src=\"{{< param \"cdn.jquery\" >}}\" integrity=\"{{< param \"cdn.jquery_hash\" >}}\" crossorigin=\"anonymous\"></script>\n<script src=\"{{< param \"cdn.popper\" >}}\" integrity=\"{{< param \"cdn.popper_hash\" >}}\" crossorigin=\"anonymous\"></script>\n<script src=\"{{< param \"cdn.js\" >}}\" integrity=\"{{< param \"cdn.js_hash\" >}}\" crossorigin=\"anonymous\"></script>\n```\n\n----------------------------------------\n\nTITLE: Implementing Contextual Table Classes in HTML\nDESCRIPTION: Demonstrates how to apply contextual classes to table rows and cells for styling. Includes both regular and themed color variations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/tables.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<!-- On rows -->\n<tr class=\"table-active\">...</tr>\n<tr class=\"table-primary\">...</tr>\n\n<!-- On cells (`td` or `th`) -->\n<tr>\n  <td class=\"table-active\">...</td>\n  <td class=\"table-primary\">...</td>\n</tr>\n```\n\n----------------------------------------\n\nTITLE: Disabling an Application\nDESCRIPTION: Command to disable a specific application identified by its ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/command-line-tool.md#2025-04-14_snippet_15\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: SVG Accessibility Attribute\nDESCRIPTION: Fix for IE11 double-focus bug by adding focusable attribute to SVG elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\nfocusable=\"false\"\n```\n\n----------------------------------------\n\nTITLE: Accessing PipeCD Web Interface via Port Forwarding\nDESCRIPTION: kubectl command to access the PipeCD web interface by port forwarding the service to localhost.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/installation/install-controlplane.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\nkubectl port-forward svc/pipecd 8080 --namespace={NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: HTML Button Component Class Structure Example\nDESCRIPTION: Example showing Bootstrap's class structure methodology with base and modifier classes for button components.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/extend/approach.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n.btn and .btn-primary\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped for Namespaced Mode\nDESCRIPTION: YAML configuration for Piped in namespaced mode, including platform provider configuration to restrict access within a namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/installation/install-piped/installing-on-kubernetes.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: {PROJECT_ID}\n  pipedID: {PIPED_ID}\n  pipedKeyFile: /etc/piped-secret/piped-key\n  # Write in a format like \"host:443\" because the communication is done via gRPC.\n  apiAddress: {CONTROL_PLANE_API_ADDRESS}\n  git:\n    sshKeyFile: /etc/piped-secret/ssh-key\n  repositories:\n    - repoId: REPO_ID_OR_NAME\n      remote: git@github.com:{GIT_ORG}/{GIT_REPO}.git\n      branch: {GIT_BRANCH}\n  syncInterval: 1m\n  # This is needed to restrict to limit the access range to within a namespace.\n  platformProviders:\n    - name: my-kubernetes\n      type: KUBERNETES\n      config:\n        appStateInformer:\n          namespace: {NAMESPACE}\n```\n\n----------------------------------------\n\nTITLE: Creating CloudRun Application Resource\nDESCRIPTION: Configures a CloudRun application resource in PipeCD with Git repository integration, including platform provider settings and application metadata.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_2\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_application\" \"main\" {\n  kind              = \"CLOUDRUN\"\n  name              = \"example-application\"\n  description       = \"This is the simple application\"\n  platform_provider = \"cloudrun-inproject\"\n  piped_id          = \"your-piped-id\"\n  git = {\n    repository_id = \"examples\"\n    remote        = \"git@github.com:pipe-cd/examples.git\"\n    branch        = \"master\"\n    path          = \"cloudrun/simple\"\n    filename      = \"app.pipecd.yaml\"\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Installing Piped with SSH Key Configuration\nDESCRIPTION: Helm command for installing piped with SSH key configuration for accessing private repositories. Shows how to set config data and SSH key files during installation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-git-repository.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\nhelm install dev-piped pipecd/piped --version={VERSION} \\\n  --set-file config.data={PATH_TO_PIPED_CONFIG_FILE} \\\n  --set-file secret.data.piped-key={PATH_TO_PIPED_KEY_FILE} \\\n  --set-file secret.data.ssh-key={PATH_TO_PRIVATE_SSH_KEY_FILE}\n```\n\n----------------------------------------\n\nTITLE: Syncing an Application with pipectl\nDESCRIPTION: These snippets show how to use pipectl to sync an application. The first command triggers a sync and exits immediately, while the second waits for the deployment to reach specified statuses.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/command-line-tool.md#2025-04-14_snippet_6\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl application sync \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID} \\\n    --wait-status=DEPLOYMENT_SUCCESS,DEPLOYMENT_FAILURE\n```\n\n----------------------------------------\n\nTITLE: Adding User-Facing Change Section in Pull Request Description for PipeCD\nDESCRIPTION: This markdown snippet demonstrates the format for adding a section in the pull request description to document user-facing changes, including whether it's a breaking change and migration instructions if applicable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/CONTRIBUTING.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n**Does this PR introduce a user-facing change?**:\n- **How are users affected by this change**:\n- **Is this breaking change**:\n- **How to migrate (if breaking change)**:\n```\n\n----------------------------------------\n\nTITLE: Defining Kubernetes Application Configuration in YAML\nDESCRIPTION: Basic structure for a Kubernetes application configuration in PipeCD. This snippet shows the required schema with apiVersion and kind fields, along with the spec object which contains input and pipeline configurations.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Applying Input Group Styles in CSS\nDESCRIPTION: This snippet demonstrates the new input group classes in Bootstrap 4. It shows how to use .input-group-prepend and .input-group-append for adding elements before or after inputs.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_1\n\nLANGUAGE: css\nCODE:\n```\n.input-group-prepend,\n.input-group-append {\n  // styles for input group addons\n}\n\n.input-group-text {\n  // styles for text within input group addons\n}\n```\n\n----------------------------------------\n\nTITLE: Creating Crossfade Carousel Effect in HTML\nDESCRIPTION: HTML structure for a carousel with a fade transition effect instead of sliding. This is achieved by adding the 'carousel-fade' class alongside the standard carousel classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<div id=\"carouselExampleFade\" class=\"carousel slide carousel-fade\" data-ride=\"carousel\">\n  <div class=\"carousel-inner\">\n    <div class=\"carousel-item active\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#555\" background=\"#777\" text=\"First slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#444\" background=\"#666\" text=\"Second slide\" >}}\n    </div>\n    <div class=\"carousel-item\">\n      {{< placeholder width=\"800\" height=\"400\" class=\"bd-placeholder-img-lg d-block w-100\" color=\"#333\" background=\"#555\" text=\"Third slide\" >}}\n    </div>\n  </div>\n  <a class=\"carousel-control-prev\" href=\"#carouselExampleFade\" role=\"button\" data-slide=\"prev\">\n    <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Previous</span>\n  </a>\n  <a class=\"carousel-control-next\" href=\"#carouselExampleFade\" role=\"button\" data-slide=\"next\">\n    <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n    <span class=\"sr-only\">Next</span>\n  </a>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Height Utilities in HTML and CSS\nDESCRIPTION: This example illustrates the use of Bootstrap's height utilities to set element heights as percentages of their parent container. It shows examples for 25%, 50%, 75%, 100%, and auto heights within a 100px tall container.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/sizing.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div style=\"height: 100px; background-color: rgba(255,0,0,0.1);\">\n  <div class=\"h-25 d-inline-block\" style=\"width: 120px; background-color: rgba(0,0,255,.1)\">Height 25%</div>\n  <div class=\"h-50 d-inline-block\" style=\"width: 120px; background-color: rgba(0,0,255,.1)\">Height 50%</div>\n  <div class=\"h-75 d-inline-block\" style=\"width: 120px; background-color: rgba(0,0,255,.1)\">Height 75%</div>\n  <div class=\"h-100 d-inline-block\" style=\"width: 120px; background-color: rgba(0,0,255,.1)\">Height 100%</div>\n  <div class=\"h-auto d-inline-block\" style=\"width: 120px; background-color: rgba(0,0,255,.1)\">Height auto</div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Lambda Function Configuration YAML Structure\nDESCRIPTION: YAML structure for configuring Lambda functions in PipeCD, including function settings, resource allocations, and deployment options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\nname: string\nrole: string\nimage: string\ns3Bucket: string\ns3Key: string\ns3ObjectVersion: string\nsource:\n  git: string\n  ref: string\n  path: string\nhandler: string\nruntime: string\narchitectures:\n  - name: string\nephemeralStorage:\n  size: int32\nmemory: int32\ntimeout: int32\ntags:\n  key: value\nenvironments:\n  key: value\nvpcConfig:\n  securityGroupIds:\n    - string\n  subnetIds:\n    - string\nlayers:\n  - string\n```\n\n----------------------------------------\n\nTITLE: Media Object with Stretched Link\nDESCRIPTION: Demonstrates using stretched link within a Bootstrap media object. Requires position-relative class to contain the clickable area within the media object boundaries.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/stretched-link.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"media position-relative\">\n  {{< placeholder width=\"144\" height=\"144\" class=\"mr-3\" text=\" \" title=\"Generic placeholder image\" >}}\n  <div class=\"media-body\">\n    <h5 class=\"mt-0\">Media with stretched link</h5>\n    <p>This is some placeholder content for the media object. It is intended to mimic what some real-world content would look like, and we're using it here to give the component a bit of body and size.</p>\n    <a href=\"#\" class=\"stretched-link\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Registering an Event with pipectl\nDESCRIPTION: Registers an event for EventWatcher using pipectl.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_17\n\nLANGUAGE: console\nCODE:\n```\npipectl event register \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --name=example-image-pushed \\\n    --data=gcr.io/pipecd/example:v0.1.0\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Text Alignment in HTML\nDESCRIPTION: This snippet shows how to use Bootstrap classes for text alignment, including justified, left, center, and right alignment. It also demonstrates responsive alignment classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-justify\">Some placeholder text to demonstrate justified text alignment. Will you do the same for me? It's time to face the music I'm no longer your muse. Heard it's beautiful, be the judge and my girls gonna take a vote. I can feel a phoenix inside of me. Heaven is jealous of our love, angels are crying from up above. Yeah, you take me to utopia.</p>\n```\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"text-left\">Left aligned text on all viewport sizes.</p>\n<p class=\"text-center\">Center aligned text on all viewport sizes.</p>\n<p class=\"text-right\">Right aligned text on all viewport sizes.</p>\n\n<p class=\"text-sm-left\">Left aligned text on viewports sized SM (small) or wider.</p>\n<p class=\"text-md-left\">Left aligned text on viewports sized MD (medium) or wider.</p>\n<p class=\"text-lg-left\">Left aligned text on viewports sized LG (large) or wider.</p>\n<p class=\"text-xl-left\">Left aligned text on viewports sized XL (extra-large) or wider.</p>\n```\n\n----------------------------------------\n\nTITLE: Cleaning Up PipeCD Installation\nDESCRIPTION: This command removes the entire PipeCD installation by deleting the namespace that contains all PipeCD components. This provides a simple way to uninstall PipeCD when it's no longer needed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/quickstart/_index.md#2025-04-14_snippet_4\n\nLANGUAGE: console\nCODE:\n```\n$ kubectl delete ns pipecd\n```\n\n----------------------------------------\n\nTITLE: Customizing Text Selection Classes with SCSS Variables\nDESCRIPTION: Reference to SCSS configuration showing that text selection classes can be customized by modifying the $user-selects list in the _variables.scss file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/interactions.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n$user-selects\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped without Remote-upgrade for Cloud Run (YAML)\nDESCRIPTION: This Cloud Run service manifest configures Piped without the remote-upgrade feature. It uses a specific Piped image version, sets up volume mounts for the configuration, and specifies resource limits and concurrency settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: piped\nspec:\n  template:\n    metadata:\n      annotations:\n        autoscaling.knative.dev/maxScale: '1'           # This must be 1.\n        autoscaling.knative.dev/minScale: '1'           # This must be 1.\n        run.googleapis.com/ingress: internal\n        run.googleapis.com/ingress-status: internal\n        run.googleapis.com/cpu-throttling: \"false\"      # This is required.\n    spec:\n      containerConcurrency: 1                           # This must be 1.\n      containers:\n        - image: gcr.io/pipecd/piped:{{< blocks/latest_version >}}\n          args:\n            - piped\n            - --config-file=/etc/piped-config/config.yaml\n          ports:\n            - containerPort: 9085\n          volumeMounts:\n            - mountPath: /etc/piped-config\n              name: piped-config\n          resources:\n            limits:\n              cpu: 1000m\n              memory: 2Gi\n      volumes:\n        - name: piped-config\n          secret:\n            secretName: cloudrun-piped-config\n            items:\n              - path: config.yaml\n                key: latest\n```\n\n----------------------------------------\n\nTITLE: Configuring Piped Installation for Secret Management in Kubernetes\nDESCRIPTION: Helm chart options to specify the public and private key files when installing Piped on Kubernetes. These keys are used for secret encryption and decryption.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n--set-file secret.data.secret-public-key=PATH_TO_PUBLIC_KEY_FILE \\\n--set-file secret.data.secret-private-key=PATH_TO_PRIVATE_KEY_FILE\n```\n\n----------------------------------------\n\nTITLE: Configuring Auth0 SSO in PipeCD Control Plane\nDESCRIPTION: YAML configuration for setting up Auth0 SSO integration in PipeCD Control Plane with client credentials and OIDC parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-controlplane/auth.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: \"pipecd.dev/v1beta1\"\nkind: ControlPlane\nspec:\n  sharedSSOConfigs:\n    - name: oidc\n      provider: OIDC\n      oidc:\n        clientId: <CLIENT_ID>\n        clientSecret: <CLIENT_SECRET>\n        issuer: https://<AUTH0_ADDRESS>\n        redirect_uri: https://<PIPECD_ADDRESS>/auth/callback\n        scopes:\n          - openid\n          - profile\n```\n\n----------------------------------------\n\nTITLE: Managing Piped Agent with Terraform\nDESCRIPTION: This snippet shows how to manage a Piped agent using the 'pipecd_piped' resource in Terraform. It specifies the name, description, and ID of the Piped agent.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Application in PipeCD\nDESCRIPTION: This YAML snippet demonstrates the configuration for a Google Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and team label.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Button Group Flex Layout\nDESCRIPTION: New button group wrapper structure using flexbox and full width utilities\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_5\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"btn-group d-flex\" role=\"group\"></div>\n```\n\n----------------------------------------\n\nTITLE: Button Plugin Methods Table in Bootstrap\nDESCRIPTION: Table showing available JavaScript methods for the Button plugin including toggle and dispose functionality.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/buttons.md#2025-04-14_snippet_12\n\nLANGUAGE: html\nCODE:\n```\n| Method | Description |\n| --- | --- |\n| `$().button('toggle')` | Toggles push state. Gives the button the appearance that it has been activated. |\n| `$().button('dispose')` | Destroys an element's button. |\n```\n\n----------------------------------------\n\nTITLE: Defining ECS Application Configuration in YAML\nDESCRIPTION: This snippet shows the configuration file structure for an ECS application in PipeCD. It includes the API version, kind, and basic spec fields like name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ECSApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Creating Content Sections with Docsy Shortcodes\nDESCRIPTION: Demonstrates the use of Docsy's 'blocks/section' shortcode to create styled content sections with different background colors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/about/_index.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n{{% blocks/section type=\"section\" color=\"primary\" %}}\n## So what's a technical documentation site?\n\n// Content here\n{{% /blocks/section %}}\n\n{{% blocks/section type=\"section\" color=\"white\" %}}\n## How does Docsy help?\n\n// Content here\n{{% /blocks/section %}}\n\n{{% blocks/section type=\"section\" color=\"primary\" %}}\n## What's next for Docsy?\n\n// Content here\n{{% /blocks/section %}}\n```\n\n----------------------------------------\n\nTITLE: Using Analysis Template in Kubernetes Application Config\nDESCRIPTION: Demonstrates how to reference and use a previously defined Analysis Template within a Kubernetes application configuration using the template field in the analysis stage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-application/customizing-deployment/automated-deployment-analysis.md#2025-04-14_snippet_7\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - template:\n                name: http_error_rate\n```\n\n----------------------------------------\n\nTITLE: Defining Terraform Application Configuration in YAML\nDESCRIPTION: This snippet demonstrates the configuration for a Terraform application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: TerraformApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Platform Provider in YAML\nDESCRIPTION: Basic configuration for a Kubernetes platform provider that connects to the cluster where piped is running and watches all predefined resources across all namespaces.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.48.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: kubernetes-dev\n      type: KUBERNETES\n```\n\n----------------------------------------\n\nTITLE: CSS Position Sticky Support Check\nDESCRIPTION: CSS feature detection for position:sticky support using @supports rule\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/migration.md#2025-04-14_snippet_6\n\nLANGUAGE: CSS\nCODE:\n```\n@supports (position: sticky) { ... }\n```\n\n----------------------------------------\n\nTITLE: Event Watcher Configuration in YAML (Deprecated)\nDESCRIPTION: Configuration for an Event Watcher in PipeCD that monitors for specific events and triggers updates. This example watches for image updates and replaces the container image field in a deployment manifest.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Removing Text Decoration in HTML\nDESCRIPTION: This snippet demonstrates how to use the .text-decoration-none class to remove text decoration from a link.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/text.md#2025-04-14_snippet_7\n\nLANGUAGE: html\nCODE:\n```\n<a href=\"#\" class=\"text-decoration-none\">Non-underlined link</a>\n```\n\n----------------------------------------\n\nTITLE: Running PipeCD Documentation Website Locally\nDESCRIPTION: Command to run the PipeCD documentation website locally using Hugo server. Requires Hugo 0.92.1+extended to be installed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/README.md#2025-04-14_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nmake run/site\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This YAML snippet shows the basic structure for configuring a Lambda application in PipeCD. It includes the apiVersion, kind, and spec fields, with a placeholder for the pipeline configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Initializing Piped Configuration in YAML\nDESCRIPTION: This snippet shows the basic structure of a Piped configuration file. It includes the API version and kind, followed by the spec section where detailed configuration is defined.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-piped/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  projectID: ...\n  pipedID: ...\n  ...\n```\n\n----------------------------------------\n\nTITLE: Creating Piped Agent Resource\nDESCRIPTION: Terraform configuration for managing a Piped agent resource. Defines basic properties like name, description, and ID for the Piped agent.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Cloud Run Provider in PipeCD\nDESCRIPTION: Configuration for a Cloud Run provider specifying GCP project, region, and service account credentials for accessing Cloud Run services.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/managing-piped/adding-a-cloud-provider.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  cloudProviders:\n    - name: cloudrun-dev\n      type: CLOUDRUN\n      config:\n        project: {GCP_PROJECT}\n        region: {CLOUDRUN_REGION}\n        credentialsFile: {PATH_TO_THE_SERVICE_ACCOUNT_FILE}\n```\n\n----------------------------------------\n\nTITLE: Custom Page Edit URL in YAML Frontmatter\nDESCRIPTION: Example of setting a page-specific edit URL in the page's frontmatter metadata.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/repository-links.md#2025-04-14_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Example Page\"\nlinkTitle: \"Example Page\"\ndate: 2017-01-05\ngithub_url: \"https://github.com/MyUsername/myrepo/edit/main/README.md\"\ndescription: >\n  An example page.\n---\n```\n\n----------------------------------------\n\nTITLE: Manual Bootstrap Setup Structure\nDESCRIPTION: Directory structure for manually downloaded Bootstrap source files\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_1\n\nLANGUAGE: text\nCODE:\n```\nyour-project/\n scss\n    custom.scss\n bootstrap/\n     js\n     scss\n```\n\n----------------------------------------\n\nTITLE: Color Usage with SASS Variables and Functions\nDESCRIPTION: Demonstrates how to use Bootstrap color variables both directly and through the color() function\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_8\n\nLANGUAGE: scss\nCODE:\n```\n// With variable\n.alpha { color: $purple; }\n\n// From the Sass map with our `color()` function\n.beta { color: color(\"purple\"); }\n```\n\n----------------------------------------\n\nTITLE: Configuring Prometheus Analysis Provider in PipeCD\nDESCRIPTION: YAML configuration for setting up Prometheus as an analysis provider in PipeCD. Specifies the provider name, type, and Prometheus server address for metrics querying.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-piped/adding-an-analysis-provider.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  analysisProviders:\n    - name: prometheus-dev\n      type: PROMETHEUS\n      config:\n        address: https://your-prometheus.dev\n```\n\n----------------------------------------\n\nTITLE: Cherry-picking Commits for Release in PipeCD\nDESCRIPTION: Shell command to cherry-pick specific pull requests into a release branch, where branch specifies the release branch and pull_numbers lists the PRs to include.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/RELEASES.md#2025-04-14_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\nmake release/pick branch=release-vX.Y.x pull_numbers=\"1234 5678\"\n```\n\n----------------------------------------\n\nTITLE: Creating a Secret in GCP Secret Manager\nDESCRIPTION: Command to create a new secret in Google Cloud Secret Manager to store the Piped configuration file securely. This secret will later be mounted into the Cloud Run service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/installation/install-piped/installing-on-cloudrun.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\ngcloud secrets create cloudrun-piped-config --data-file={PATH_TO_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Lambda Application Configuration Structure in YAML\nDESCRIPTION: Basic structure of a Lambda application configuration file in PipeCD. This defines the application type as LambdaApp and includes placeholders for the pipeline section and other configuration options.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: PipeCD Canary Deployment Configuration\nDESCRIPTION: PipeCD application configuration defining the canary deployment strategy with staged rollout process.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_CANARY_ROLLOUT\n        with:\n          replicas: 50%\n      - name: WAIT_APPROVAL\n        with:\n          duration: 10s\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: K8S_CANARY_CLEAN\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Service for Canary Deployment\nDESCRIPTION: Basic Kubernetes Service configuration that routes traffic to pods based on the 'app' label selector.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/examples/k8s-app-canary-with-pod-selector.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: v1\nkind: Service\nmetadata:\n  name: helloworld\nspec:\n  selector:\n    app: helloworld\n  ports:\n    - protocol: TCP\n      port: 9085\n```\n\n----------------------------------------\n\nTITLE: Configuring Event Watcher in PipeCD (Deprecated)\nDESCRIPTION: This YAML snippet shows the configuration for an event watcher in PipeCD, which is now deprecated. It defines events and their corresponding replacements in specified files.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/user-guide/configuration-reference.md#2025-04-14_snippet_6\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: EventWatcher\nspec:\n  events:\n    - name: helloworld-image-update\n      replacements:\n        - file: helloworld/deployment.yaml\n          yamlField: $.spec.template.spec.containers[0].image\n```\n\n----------------------------------------\n\nTITLE: Creating Piped Agent Resource\nDESCRIPTION: Defines a PipeCD Piped agent resource with basic configuration including name, description, and ID using Terraform HCL syntax.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/user-guide/terraform-provider-pipecd.md#2025-04-14_snippet_1\n\nLANGUAGE: hcl\nCODE:\n```\nresource \"pipecd_piped\" \"mypiped\" {\n  name        = \"mypiped\"\n  description = \"This is my piped\"\n  id          = \"my-piped-id\"\n}\n```\n\n----------------------------------------\n\nTITLE: Align Items Examples\nDESCRIPTION: Shows alignment options for flex items on the cross axis using align-items utilities.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-items-start\">...</div>\n<div class=\"d-flex align-items-end\">...</div>\n<div class=\"d-flex align-items-center\">...</div>\n<div class=\"d-flex align-items-baseline\">...</div>\n<div class=\"d-flex align-items-stretch\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Configuring Markdown Front Matter for PipeCD Documentation\nDESCRIPTION: YAML front matter block that sets up the documentation page title, link title and type for PipeCD documentation version 0.39.x.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.39.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: Configuring PREVIOUS Strategy for Kubernetes App in PipeCD\nDESCRIPTION: Example configuration for the new PREVIOUS strategy in PipeCD's Automated Deployment Analysis. This strategy compares metrics between the current and previous Primary deployments.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0006-ada-dynamic.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  pipeline:\n    stages:\n      - name: K8S_PRIMARY_ROLLOUT\n      - name: ANALYSIS\n        with:\n          duration: 30m\n          metrics:\n            - strategy: PREVIOUS\n              provider: my-prometheus\n              interval: 10m\n              deviation: HIGH\n              query: rate(cpu_usage_total{app=\"foo\"}[10m])\n```\n\n----------------------------------------\n\nTITLE: Hiding Elements Based on Screen Size with CSS Classes in HTML\nDESCRIPTION: This snippet demonstrates how to use display classes to hide elements on specific screen sizes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/display.md#2025-04-14_snippet_2\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"d-lg-none\">hide on lg and wider screens</div>\n<div class=\"d-none d-lg-block\">hide on screens smaller than lg</div>\n```\n\n----------------------------------------\n\nTITLE: Defining Screen Reader Mixins in SCSS\nDESCRIPTION: This SCSS snippet shows how to use the sr-only and sr-only-focusable mixins to create a skip navigation class. These mixins provide the same functionality as their respective classes but can be applied more flexibly in SCSS.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/screen-readers.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n// Usage as a mixin\n.skip-navigation {\n  @include sr-only;\n  @include sr-only-focusable;\n}\n```\n\n----------------------------------------\n\nTITLE: Encrypting Sensitive Data with pipectl\nDESCRIPTION: Demonstrates how to encrypt sensitive data for use in deployments, either from stdin or a file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/command-line-tool.md#2025-04-14_snippet_13\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} <{PATH_TO_SECRET_FILE}\n```\n\nLANGUAGE: console\nCODE:\n```\npipectl encrypt \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --piped-id={PIPED_ID} \\\n    --input-file={PATH_TO_SECRET_FILE}\n```\n\n----------------------------------------\n\nTITLE: Activating Modal via Data Attributes in HTML\nDESCRIPTION: This HTML snippet shows how to activate a modal without JavaScript by using data attributes on a button element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_13\n\nLANGUAGE: html\nCODE:\n```\n<button type=\"button\" data-toggle=\"modal\" data-target=\"#myModal\">Launch modal</button>\n```\n\n----------------------------------------\n\nTITLE: Adding Shorter Cover Image with Docsy Shortcode\nDESCRIPTION: This HTML snippet shows how to use the Docsy 'blocks/cover' shortcode to add a shorter cover image to a page, with options for minimum height and bottom image anchoring.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/iconsimages.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n{{</* blocks/cover title=\"About the Docsy Example\" image_anchor=\"bottom\" height=\"min\" */>}}\n...\n{{</* /blocks/cover */>}}\n```\n\n----------------------------------------\n\nTITLE: Configuring Multi-language Support in Hugo's config.toml\nDESCRIPTION: This TOML configuration defines language settings for a Hugo site, specifying English and Norwegian as available languages. It sets the default language, content directories, and language-specific metadata.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Language/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: toml\nCODE:\n```\ncontentDir = \"content/en\"\ndefaultContentLanguage = \"en\"\ndefaultContentLanguageInSubdir = false\n...\n[languages]\n[languages.en]\ntitle = \"Docsy\"\ndescription = \"Docsy does docs\"\nlanguageName =\"English\"\n# Weight used for sorting.\nweight = 1\n[languages.no]\ntitle = \"Docsy\"\ndescription = \"Docsy er operativsystem for skyen\"\nlanguageName =\"Norsk\"\ncontentDir = \"content/no\"\ntime_format_default = \"02.01.2006\"\ntime_format_blog = \"02.01.2006\"\n```\n\n----------------------------------------\n\nTITLE: Creating ECS Service for Piped Task Control\nDESCRIPTION: This Bash command creates an ECS service to control the Piped task deployment using the previously defined service configuration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.49.x/installation/install-piped/installing-on-fargate.md#2025-04-14_snippet_7\n\nLANGUAGE: bash\nCODE:\n```\naws ecs create-service \\\n  --cluster {ECS_CLUSTER} \\\n  --service-name piped \\\n  --cli-input-json file://service.json\n```\n\n----------------------------------------\n\nTITLE: Running Go Unit Tests in PipeCD\nDESCRIPTION: Executes all unit tests for go modules in the PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_2\n\nLANGUAGE: console\nCODE:\n```\nmake test/go\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Using ASDF Version Manager\nDESCRIPTION: Installs PipeCD client using the ASDF version manager, adding the plugin and setting it as global.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.45.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nasdf plugin add pipectl && asdf install pipectl latest && asdf global pipectl latest\n```\n\n----------------------------------------\n\nTITLE: Configuring GKE Ingress Annotations (YAML)\nDESCRIPTION: YAML configuration for setting up GKE Ingress annotations to enable HTTP2 protocol for the PipeCD service.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.42.x/installation/install-controlplane.md#2025-04-14_snippet_8\n\nLANGUAGE: yaml\nCODE:\n```\nservice:\n  port: 443\n  annotations:\n    cloud.google.com/app-protocols: '{\"service\":\"HTTP2\"}'\n```\n\n----------------------------------------\n\nTITLE: Basic Float HTML Classes Example\nDESCRIPTION: Demonstrates the basic usage of float utility classes for left, right and no float behaviors.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/float.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"float-left\">Float left on all viewport sizes</div><br>\n<div class=\"float-right\">Float right on all viewport sizes</div><br>\n<div class=\"float-none\">Don't float on all viewport sizes</div>\n```\n\n----------------------------------------\n\nTITLE: Checking Hugo Version in Bash\nDESCRIPTION: This command checks the installed version of Hugo to ensure it is v0.75 or later and has the Extended feature.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Getting started/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nhugo version\n```\n\n----------------------------------------\n\nTITLE: Showing Program Output with samp tag\nDESCRIPTION: Example of using the samp tag to display sample output from a computer program.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/code.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<samp>This text is meant to be treated as sample output from a computer program.</samp>\n```\n\n----------------------------------------\n\nTITLE: Alertmanager Configuration for Slack Notifications\nDESCRIPTION: YAML configuration for setting up Slack alert notifications in Alertmanager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/metrics.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\nprometheus:\n  alertmanagerFiles:\n    alertmanager.yml:\n      global:\n        slack_api_url: {YOUR_WEBHOOK_URL}\n      route:\n        receiver: slack-notifications\n      receivers:\n        - name: slack-notifications\n          slack_configs:\n            - channel: '#your-channel'\n```\n\n----------------------------------------\n\nTITLE: Basic Control Plane Configuration in YAML\nDESCRIPTION: Example of basic Control Plane configuration structure showing required apiVersion, kind and spec fields.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-controlplane/configuration-reference.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: ControlPlane\nspec:\n  address: https://your-pipecd-address\n  ...\n```\n\n----------------------------------------\n\nTITLE: Handling Bootstrap Tooltip Hidden Event in JavaScript\nDESCRIPTION: This code snippet demonstrates how to attach an event handler to the 'hidden.bs.tooltip' event of a Bootstrap tooltip. The handler function will be executed when the tooltip has finished being hidden from the user, after CSS transitions are complete.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_14\n\nLANGUAGE: javascript\nCODE:\n```\n$('#myTooltip').on('hidden.bs.tooltip', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Setting PipeCD Web API Cookie\nDESCRIPTION: This snippet shows how to set the API cookie in the .env file for authentication with the API server. Replace {COOKIE} with the actual cookie value obtained from an authenticated client.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/web/README.md#2025-04-14_snippet_6\n\nLANGUAGE: bash\nCODE:\n```\nAPI_COOKIE={COOKIE}\n```\n\n----------------------------------------\n\nTITLE: Creating a Cover Block in Hugo with Docsy Shortcode\nDESCRIPTION: Uses the Docsy 'blocks/cover' shortcode to create a cover section for the About page, introducing Docsy and linking to documentation.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/about/_index.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n{{% blocks/cover title=\"About Docsy\" height=\"auto\" %}}\n\nDocsy is a pre-configured Hugo theme that provides the core features and behaviors needed to create a technical documentation site. Use Docsy to set up your documentation website, including an optional Blog section, and then spend your time focusing on authoring technical content. Depending on how you choose to configure Docsy and whether you use a hosting service that supports continuous builds, you can even just add your Markdown or HTML content file into a folder on your source repository, and then sit back while it automatically gets added to your site - complete with updated menus.\n\nRead on to find out more, or visit our [documentation](/docs/) to get started!\n{{% /blocks/cover %}}\n```\n\n----------------------------------------\n\nTITLE: Configuring Terraform Platform Provider in YAML for PipeCD\nDESCRIPTION: Example configuration for a Terraform platform provider that includes shared terraform variables. These variables will be applied while running deployments of its applications.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.50.x/user-guide/managing-piped/adding-a-platform-provider.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  ...\n  platformProviders:\n    - name: terraform-dev\n      type: TERRAFORM\n      config:\n        vars:\n          - \"project=pipecd\"\n```\n\n----------------------------------------\n\nTITLE: Browserslist Configuration Text\nDESCRIPTION: Configuration file contents specifying supported browser versions for Bootstrap via Browserslist\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/browsers-devices.md#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n{{< rf.inline >}}\n{{- readFile \".browserslistrc\" | chomp | htmlEscape -}}\n{{< /rf.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Installing pipectl with Aqua\nDESCRIPTION: Shows the process of installing pipectl using the Aqua package manager.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/user-guide/command-line-tool.md#2025-04-14_snippet_5\n\nLANGUAGE: console\nCODE:\n```\naqua g -i pipe-cd/pipecd/pipectl\naqua i\npipectl version\n```\n\n----------------------------------------\n\nTITLE: Exposing PipeCD Control Plane Locally\nDESCRIPTION: Uses kubectl port-forward to expose the PipeCD Control Plane service on localhost for access.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_10\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Float Sass Mixins Implementation\nDESCRIPTION: Shows how to implement float behaviors using Sass mixins instead of utility classes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/float.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n.element {\n  @include float-left;\n}\n.another-element {\n  @include float-right;\n}\n.one-more {\n  @include float-none;\n}\n```\n\n----------------------------------------\n\nTITLE: RDS Datastore Configuration\nDESCRIPTION: YAML configuration for connecting PipeCD to RDS MySQL database.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/control-plane-on-ecs.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\n  datastore:\n    type: MYSQL\n    config: \n        url: root:password@tcp(endpoint_of_rds:3306) \n        database: quickstart\n```\n\n----------------------------------------\n\nTITLE: Starting Piped Service\nDESCRIPTION: Command line instruction for starting the Piped service with a specified configuration file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/installation/install-piped/installing-on-single-machine.md#2025-04-14_snippet_1\n\nLANGUAGE: console\nCODE:\n```\n./piped piped --config-file={PATH_TO_PIPED_CONFIG_FILE}\n```\n\n----------------------------------------\n\nTITLE: Updating Documentation for Patch Release in PipeCD\nDESCRIPTION: Optional shell command to update documentation during a patch release when docs changes are included.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/RELEASES.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\nmake release/docs version=vX.Y.Z\n```\n\n----------------------------------------\n\nTITLE: Webpack Configuration for Sass Processing\nDESCRIPTION: Configuration for webpack to process Sass files with necessary loaders including style-loader, css-loader, postcss-loader, and sass-loader.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/webpack.md#2025-04-14_snippet_3\n\nLANGUAGE: javascript\nCODE:\n```\n{\n  test: /\\.(scss)$/,\n  use: [{\n    loader: 'style-loader', // inject CSS to page\n  }, {\n    loader: 'css-loader', // translates CSS into CommonJS modules\n  }, {\n    loader: 'postcss-loader', // Run postcss actions\n    options: {\n      plugins: function () { // postcss plugins, can be exported to postcss.config.js\n        return [\n          require('autoprefixer')\n        ];\n      }\n    }\n  }, {\n    loader: 'sass-loader' // compiles Sass to CSS\n  }]\n}\n```\n\n----------------------------------------\n\nTITLE: Installing PipeCD Components\nDESCRIPTION: This command starts the PipeCD installation process in quickstart mode. Replace {{< blocks/latest_version >}} with the actual version number.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\npipectl quickstart --version {{< blocks/latest_version >}}\n```\n\n----------------------------------------\n\nTITLE: Rendering Translation Links with Hugo Template\nDESCRIPTION: A Hugo template shortcode that iterates through translation data to generate a list of links to community-translated Bootstrap documentation sites. Each list item contains a link with the translation URL, language code, and description with the translation name.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/about/translations.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n{{< translations.inline >}}\n<ul>\n{{ range .Site.Data.translations -}}\n  <li><a href=\"{{ .url }}\" hreflang=\"{{ .code }}\">{{ .description }} ({{ .name }})</a></li>\n{{ end -}}\n</ul>\n{{< /translations.inline >}}\n```\n\n----------------------------------------\n\nTITLE: Deleting an application\nDESCRIPTION: Deletes an application with the given ID.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/command-line-tool.md#2025-04-14_snippet_20\n\nLANGUAGE: console\nCODE:\n```\npipectl application delete \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Creating a Live Modal Demo with Trigger Button in HTML\nDESCRIPTION: This HTML snippet shows how to create a button that triggers a modal and the structure of the modal itself. It includes data attributes for toggling the modal and demonstrates the full modal markup.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<!-- Button trigger modal -->\n<button type=\"button\" class=\"btn btn-primary\" data-toggle=\"modal\" data-target=\"#exampleModal\">\n  Launch demo modal\n</button>\n\n<!-- Modal -->\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"exampleModalLabel\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        ...\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Enabling Cluster Dashboards in PipeCD Monitoring\nDESCRIPTION: This command enables cluster-wide metrics tracking in PipeCD monitoring system.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.44.x/user-guide/metrics.md#2025-04-14_snippet_2\n\nLANGUAGE: shell\nCODE:\n```\n--monitoring.clusterStats=true\n```\n\n----------------------------------------\n\nTITLE: Installing Control Plane in Local Cluster\nDESCRIPTION: Command to deploy the PipeCD Control Plane to the local Kubernetes cluster.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/cmd/pipecd/README.md#2025-04-14_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nmake run/pipecd\n```\n\n----------------------------------------\n\nTITLE: Disabling Application\nDESCRIPTION: Disables a specific application by ID\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/command-line-tool.md#2025-04-14_snippet_8\n\nLANGUAGE: console\nCODE:\n```\npipectl application disable \\\n    --address={CONTROL_PLANE_API_ADDRESS} \\\n    --api-key={API_KEY} \\\n    --app-id={APPLICATION_ID}\n```\n\n----------------------------------------\n\nTITLE: Two-Column Layout Implementation\nDESCRIPTION: Example implementation of a two-column layout using Bootstrap grid mixins with responsive breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/grid.md#2025-04-14_snippet_11\n\nLANGUAGE: scss\nCODE:\n```\n.example-container {\n  @include make-container();\n  // Make sure to define this width after the mixin to override\n  // `width: 100%` generated by `make-container()`\n  width: 800px;\n}\n\n.example-row {\n  @include make-row();\n}\n\n.example-content-main {\n  @include make-col-ready();\n\n  @include media-breakpoint-up(sm) {\n    @include make-col(6);\n  }\n  @include media-breakpoint-up(lg) {\n    @include make-col(8);\n  }\n}\n\n.example-content-secondary {\n  @include make-col-ready();\n\n  @include media-breakpoint-up(sm) {\n    @include make-col(6);\n  }\n  @include media-breakpoint-up(lg) {\n    @include make-col(4);\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for PipeCD Console Access\nDESCRIPTION: This kubectl command sets up port forwarding to access the PipeCD console on localhost:8080 after the quickstart process has completed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/quickstart/_index.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nkubectl -n pipecd port-forward svc/pipecd 8080\n```\n\n----------------------------------------\n\nTITLE: Implementing Spinners in Buttons with HTML\nDESCRIPTION: Demonstrates how to use spinners within buttons to indicate processing. The example shows both text and icon-only versions with different spinner types.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/spinners.md#2025-04-14_snippet_6\n\nLANGUAGE: HTML\nCODE:\n```\n<button class=\"btn btn-primary\" type=\"button\" disabled>\n  <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n  <span class=\"sr-only\">Loading...</span>\n</button>\n<button class=\"btn btn-primary\" type=\"button\" disabled>\n  <span class=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\n  Loading...\n</button>\n```\n\n----------------------------------------\n\nTITLE: Project Directory Structure Example\nDESCRIPTION: Shows the recommended file structure for a Bootstrap project using npm package manager\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_0\n\nLANGUAGE: text\nCODE:\n```\nyour-project/\n scss\n    custom.scss\n node_modules/\n     bootstrap\n         js\n         scss\n```\n\n----------------------------------------\n\nTITLE: Running Web Unit Tests in PipeCD\nDESCRIPTION: Executes all unit tests for the web components of the PipeCD project.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/contribution-guidelines/development.md#2025-04-14_snippet_3\n\nLANGUAGE: console\nCODE:\n```\nmake test/web\n```\n\n----------------------------------------\n\nTITLE: Configuring Taxonomy Display in Docsy\nDESCRIPTION: TOML configuration to control the display of taxonomy clouds and page headers in Docsy theme.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/taxonomy.md#2025-04-14_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\n[params.taxonomy]\ntaxonomyCloud = [\"projects\", \"tags\"] # set taxonomyCloud = [] to hide taxonomy clouds\ntaxonomyCloudTitle = [\"Our Projects\", \"Tag Cloud\"] # if used, must have same lang as taxonomyCloud\ntaxonomyPageHeader = [\"tags\", \"categories\"] # set taxonomyPageHeader = [] to hide taxonomies on the page headers\n```\n\n----------------------------------------\n\nTITLE: Configuring PipeCD Documentation Homepage Frontmatter\nDESCRIPTION: YAML frontmatter configuration for the PipeCD documentation homepage, specifying the title, link title with version, and document type.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.47.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\n---\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.47.x]\"\ntype: docs\n---\n```\n\n----------------------------------------\n\nTITLE: HTML5 Doctype Declaration\nDESCRIPTION: Required HTML5 doctype declaration for proper Bootstrap functionality and styling.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/introduction.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<!doctype html>\n<html lang=\"en\">\n  ...\n</html>\n```\n\n----------------------------------------\n\nTITLE: Using Sass Mixins for Media Queries in SCSS\nDESCRIPTION: Demonstrates the use of Sass mixins to create responsive designs, including an example of hiding and showing an element at different breakpoints.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/overview.md#2025-04-14_snippet_4\n\nLANGUAGE: scss\nCODE:\n```\n// No media query necessary for xs breakpoint as it's effectively `@media (min-width: 0) { ... }`\n@include media-breakpoint-up(sm) { ... }\n@include media-breakpoint-up(md) { ... }\n@include media-breakpoint-up(lg) { ... }\n@include media-breakpoint-up(xl) { ... }\n\n// Example: Hide starting at `min-width: 0`, and then show at the `sm` breakpoint\n.custom-class {\n  display: none;\n}\n@include media-breakpoint-up(sm) {\n  .custom-class {\n    display: block;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Application in PipeCD\nDESCRIPTION: This snippet illustrates the configuration structure for a Lambda application in PipeCD. It includes fields for pipeline and other Lambda-specific settings.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/configuration-reference.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaApp\nspec:\n  pipeline:\n  ...\n```\n\n----------------------------------------\n\nTITLE: Inline Text Elements Example\nDESCRIPTION: Demonstration of various inline HTML5 text elements with Bootstrap styling including mark, del, ins, and emphasis elements.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/typography.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<p>You can use the mark tag to <mark>highlight</mark> text.</p>\n<p><del>This line of text is meant to be treated as deleted text.</del></p>\n<p><s>This line of text is meant to be treated as no longer accurate.</s></p>\n<p><ins>This line of text is meant to be treated as an addition to the document.</ins></p>\n<p><u>This line of text will render as underlined</u></p>\n<p><small>This line of text is meant to be treated as fine print.</small></p>\n<p><strong>This line rendered as bold text.</strong></p>\n<p><em>This line rendered as italicized text.</em></p>\n```\n\n----------------------------------------\n\nTITLE: Theme Colors Map Modification\nDESCRIPTION: Examples of modifying the Bootstrap theme colors Sass map\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/theming.md#2025-04-14_snippet_5\n\nLANGUAGE: scss\nCODE:\n```\n$theme-colors: (\n  \"primary\": #0074d9,\n  \"danger\": #ff4136\n);\n```\n\n----------------------------------------\n\nTITLE: Embedding External Content with iframe Shortcode in Go HTML Template\nDESCRIPTION: This snippet demonstrates the usage of the iframe shortcode in Docsy to embed external content. It includes a table of parameters and their descriptions for customizing the iframe.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_8\n\nLANGUAGE: go-html-template\nCODE:\n```\n{{</* iframe src=\"URL\" width=\"100%\" tryautoheight=\"true\" style=\"min-height:98vh; border:none;\" sandbox=\"false\" name=\"iframe-name\" id=\"iframe-id\" class=\"optional-class\" sub=\"Your browser cannot display embedded frames. You can access the embedded page via the following link:\" */>}}\n```\n\n----------------------------------------\n\nTITLE: YAML Frontmatter Configuration for PipeCD Documentation\nDESCRIPTION: Basic YAML frontmatter configuration for the PipeCD documentation homepage, specifying the title, link title and content type.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/_index.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\ntitle: \"Welcome to PipeCD\"\nlinkTitle: \"Documentation [v0.46.x]\"\ntype: docs\n```\n\n----------------------------------------\n\nTITLE: Displaying Bootstrap Source Code File Structure\nDESCRIPTION: Illustrates the directory structure of the Bootstrap source code, including the precompiled assets, documentation, and source files for Sass and JavaScript.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/contents.md#2025-04-14_snippet_1\n\nLANGUAGE: text\nCODE:\n```\nbootstrap/\n dist/\n    css/\n    js/\n site/\n   content/\n|      docs/\n|          4.6/\n|              examples/\n js/\n scss/\n```\n\n----------------------------------------\n\nTITLE: Customizing Overflow Utilities with Sass Variables\nDESCRIPTION: This snippet mentions how to customize the overflow utilities in Bootstrap by modifying the $overflows Sass variable in the _variables.scss file.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/overflow.md#2025-04-14_snippet_1\n\nLANGUAGE: scss\nCODE:\n```\n// Mentioned in text, not actual code\n// $overflows variable in _variables.scss\n```\n\n----------------------------------------\n\nTITLE: Configuring Local Helm Chart for Kubernetes App in PipeCD\nDESCRIPTION: This YAML configuration shows how to use a local Helm chart for a Kubernetes application in PipeCD, where the chart is located in the same git repository as the application directory.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.41.x/user-guide/managing-application/defining-app-configuration/kubernetes.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  input:\n    helmChart:\n      path: ../../local/helm-charts/helloworld\n```\n\n----------------------------------------\n\nTITLE: Using HTML5 [hidden] Attribute\nDESCRIPTION: This snippet shows how to use the HTML5 [hidden] attribute to hide an input element. Bootstrap enhances this attribute to ensure it's not accidentally overridden.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/reboot.md#2025-04-14_snippet_4\n\nLANGUAGE: html\nCODE:\n```\n<input type=\"text\" hidden>\n```\n\n----------------------------------------\n\nTITLE: Toggling Bootstrap Tooltip Using jQuery\nDESCRIPTION: Shows how to programmatically toggle a tooltip's visibility on an element using jQuery method.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/tooltips.md#2025-04-14_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').tooltip('toggle')\n```\n\n----------------------------------------\n\nTITLE: Adding Link Down Navigation\nDESCRIPTION: Creates a navigation link pointing to the next section.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/Shortcodes/index.md#2025-04-14_snippet_4\n\nLANGUAGE: go-html-template\nCODE:\n```\n<div class=\"mx-auto mt-5\">\n\t{{< blocks/link-down color=\"info\" >}}\n</div>\n```\n\n----------------------------------------\n\nTITLE: MySQL UUID Handling Documentation Example\nDESCRIPTION: Example from MySQL documentation showing UUID handling with swap_flag parameter for improved indexing efficiency\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/rfcs/0003-sql-datastore.md#2025-04-14_snippet_1\n\nLANGUAGE: sql\nCODE:\n```\n  o If swap_flag is 0, the two-argument form is equivalent to the\n    one-argument form. The binary result is in the same order as the\n    string argument.\n\n  o If swap_flag is 1, the format of the return value differs: The\n    time-low and time-high parts (the first and third groups of\n    hexadecimal digits, respectively) are swapped. This moves the more\n    rapidly varying part to the right and can improve indexing\n    efficiency if the result is stored in an indexed column.\n```\n\n----------------------------------------\n\nTITLE: Configuring Kubernetes Application in YAML\nDESCRIPTION: This snippet shows the basic configuration for a Kubernetes application in PipeCD. It defines the API version, kind, and basic spec including name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.46.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: KubernetesApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Applying Visibility Classes in HTML\nDESCRIPTION: Demonstrates how to apply .visible and .invisible classes to HTML elements to control their visibility without affecting layout.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/visibility.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"visible\">...</div>\n<div class=\"invisible\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Space Between Flex Content\nDESCRIPTION: Shows how to distribute space between flex items using align-content-between utility class with flex-wrap enabled.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/flex.md#2025-04-14_snippet_11\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"d-flex align-content-between flex-wrap\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Contextual Link Colors Example - HTML\nDESCRIPTION: Shows how to apply contextual colors to anchor links with hover and focus states. Includes theme colors and special cases for white and muted links.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/colors.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<p><a href=\"#\" class=\"text-muted\">Muted link</a></p>\n<p><a href=\"#\" class=\"text-white bg-dark\">White link</a></p>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Grafana Access\nDESCRIPTION: kubectl command to set up port forwarding for accessing Grafana dashboard on port 3000.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.40.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Defining Cloud Run Application Configuration in YAML\nDESCRIPTION: This snippet illustrates the configuration for a Cloud Run application in PipeCD. It includes the API version, kind, and basic metadata such as name and labels.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.51.x/user-guide/managing-application/adding-an-application.md#2025-04-14_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: CloudRunApp\nspec:\n  name: foo\n  labels:\n    team: bar\n```\n\n----------------------------------------\n\nTITLE: Importing IconName Type from Font Awesome SVG Core\nDESCRIPTION: Demonstrates the recommended way to import Font Awesome types from the main package rather than directly from the common-types package. This example shows importing the IconName type to use when defining icon variables.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/js-packages/@fortawesome/fontawesome-common-types/README.md#2025-04-14_snippet_0\n\nLANGUAGE: typescript\nCODE:\n```\nimport {\n  IconName\n} from `@fortawesome/fontawesome-svg-core`\n\nconst myIcon: IconName = \"...\"\n```\n\n----------------------------------------\n\nTITLE: Using Hugo Link Shortcode\nDESCRIPTION: Demonstrates how to use Hugo's built-in link shortcode for cross-referencing content within the site.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Best practices/site-guidance.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n{{</* ref \"filename.md\" */>}}\n```\n\n----------------------------------------\n\nTITLE: Android Stock Browser Select Fix\nDESCRIPTION: JavaScript solution to handle Android stock browser's select element styling issues by removing form-control class\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/browsers-devices.md#2025-04-14_snippet_2\n\nLANGUAGE: html\nCODE:\n```\n<script>\n$(function () {\n  var nua = navigator.userAgent\n  var isAndroid = (nua.indexOf('Mozilla/5.0') > -1 && nua.indexOf('Android ') > -1 && nua.indexOf('AppleWebKit') > -1 && nua.indexOf('Chrome') === -1)\n  if (isAndroid) {\n    $('select.form-control').removeClass('form-control').css('width', '100%')\n  }\n})\n</script>\n```\n\n----------------------------------------\n\nTITLE: Port Forwarding for Accessing Grafana in PipeCD\nDESCRIPTION: This command sets up port forwarding to access the Grafana dashboard for PipeCD. It forwards local port 3000 to the Grafana service port 80 in the specified namespace.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.39.x/user-guide/managing-controlplane/metrics.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nkubectl port-forward -n {NAMESPACE} svc/{PIPECD_RELEASE_NAME}-grafana 3000:80\n```\n\n----------------------------------------\n\nTITLE: Configuring Git User Settings for Piped in PipeCD YAML\nDESCRIPTION: This YAML configuration shows how to customize the Git user settings for Piped. It specifies a custom username and email for Git commits made by Piped.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-dev/user-guide/managing-piped/configuring-event-watcher.md#2025-04-14_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: Piped\nspec:\n  git:\n    username: foo\n    email: foo@example.com\n```\n\n----------------------------------------\n\nTITLE: Setting Project Repository URL in TOML\nDESCRIPTION: Configures a separate project repository URL for creating project-specific issues.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/repository-links.md#2025-04-14_snippet_2\n\nLANGUAGE: toml\nCODE:\n```\ngithub_project_repo = \"https://github.com/google/docsy\"\n```\n\n----------------------------------------\n\nTITLE: Implementing a Card Group with Footers in Bootstrap\nDESCRIPTION: This example shows how to create a card group with footers. The content of the footers will automatically line up, maintaining a consistent layout across all cards in the group.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_10\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card-group\">\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This card has supporting text below as a natural lead-in to additional content.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n  <div class=\"card\">\n    {{< placeholder width=\"100%\" height=\"180\" class=\"card-img-top\" text=\"Image cap\" >}}\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">Card title</h5>\n      <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action.</p>\n    </div>\n    <div class=\"card-footer\">\n      <small class=\"text-muted\">Last updated 3 mins ago</small>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Running Bootstrap Build Commands\nDESCRIPTION: Common npm commands for building dist files, running tests, and serving documentation locally.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/build-tools.md#2025-04-14_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nnpm run dist\nnpm test\nnpm run docs-serve\n```\n\n----------------------------------------\n\nTITLE: Displaying PipeCD Booth Information at KubeCon EU 2024\nDESCRIPTION: Text block showing the booth information for PipeCD at KubeCon EU 2024, including project name, kiosk number, shift timing, and location details within the Solutions Showcase.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/blog/pipecd-at-kubecon-eu-2024.md#2025-04-14_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nProject: PipeCD\nKiosk #: PP16-A\nKiosk Shift: Part-time - AM (Fri)\nLocation: Solutions Showcase | Level 7.2 | Hall 7.2 | Project Pavilion\n```\n\n----------------------------------------\n\nTITLE: Demonstrating Text Selection Utility Classes in HTML\nDESCRIPTION: Example showing three text selection utility classes: user-select-all for selecting entire paragraph on click, user-select-auto for default selection behavior, and user-select-none to prevent selection. Note that user-select-all is not supported in IE and Legacy Edge.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/utilities/interactions.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<p class=\"user-select-all\">This paragraph will be entirely selected when clicked by the user.</p>\n<p class=\"user-select-auto\">This paragraph has the default select behavior.</p>\n<p class=\"user-select-none\">This paragraph will not be selectable when clicked by the user.</p>\n```\n\n----------------------------------------\n\nTITLE: Reporting Custom Application Metrics in Prometheus Format\nDESCRIPTION: This snippet shows custom application metrics exported in Prometheus format. It includes metrics for Kubernetes API requests and Prometheus HTTP handler requests. These metrics provide insights into the application's interaction with Kubernetes and its own metrics endpoint usage.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/pkg/app/piped/statsreporter/testdata/metrics.txt#2025-04-14_snippet_1\n\nLANGUAGE: prometheus\nCODE:\n```\n# HELP livestatestore_kubernetes_api_requests_total Number of requests sent to kubernetes api server.\n# TYPE livestatestore_kubernetes_api_requests_total counter\nlivestatetstore_kubernetes_api_requests_total{code=\"200\",host=\"34.84.220.84\",method=\"GET\"} 110\n# HELP promhttp_metric_handler_requests_in_flight Current number of scrapes being served.\n# TYPE promhttp_metric_handler_requests_in_flight gauge\npromhttp_metric_handler_requests_in_flight 1\n# HELP promhttp_metric_handler_requests_total Total number of scrapes by HTTP status code.\n# TYPE promhttp_metric_handler_requests_total counter\npromhttp_metric_handler_requests_total{code=\"200\"} 0\npromhttp_metric_handler_requests_total{code=\"500\"} 0\npromhttp_metric_handler_requests_total{code=\"503\"} 0\n```\n\n----------------------------------------\n\nTITLE: Disabling Sidebar Search in TOML\nDESCRIPTION: Configuration setting to disable the sidebar search box in Docsy.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/userguide/content/en/docs/Adding content/navigation.md#2025-04-14_snippet_5\n\nLANGUAGE: toml\nCODE:\n```\nsidebar_search_disable = true\n```\n\n----------------------------------------\n\nTITLE: Initializing Bootstrap Carousel with Custom Options\nDESCRIPTION: This JavaScript snippet shows how to initialize a Bootstrap carousel with custom options. In this example, it sets the interval between slides to 2000 milliseconds (2 seconds).\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/carousel.md#2025-04-14_snippet_8\n\nLANGUAGE: javascript\nCODE:\n```\n$('.carousel').carousel({\n  interval: 2000\n})\n```\n\n----------------------------------------\n\nTITLE: Customizing Card Columns Responsive Layout with SCSS Mixins\nDESCRIPTION: This SCSS snippet demonstrates how to customize the Bootstrap card-columns component by adjusting the column count at different breakpoints. It uses media-breakpoint-only mixins to set 4 columns at large screens and 5 columns at extra-large screens.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_13\n\nLANGUAGE: scss\nCODE:\n```\n.card-columns {\n  @include media-breakpoint-only(lg) {\n    column-count: 4;\n  }\n  @include media-breakpoint-only(xl) {\n    column-count: 5;\n  }\n}\n```\n\n----------------------------------------\n\nTITLE: Configuring Lambda Function with Encrypted Environment Variables\nDESCRIPTION: YAML configuration for a Lambda function that uses an encrypted secret as an environment variable. The encrypted secret 'key' will be decrypted and set as the value for the 'KEY' environment variable.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/secret-management.md#2025-04-14_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: HelloFunction\n  environments:\n    KEY: \"{{ .encryptedSecrets.key }}\"\n```\n\n----------------------------------------\n\nTITLE: Handling Alert Close Events with JavaScript\nDESCRIPTION: Example of binding to the closed.bs.alert event that fires after an alert has been closed and CSS transitions have completed. This allows for executing code after an alert is fully removed.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/alerts.md#2025-04-14_snippet_3\n\nLANGUAGE: js\nCODE:\n```\n$('#myAlert').on('closed.bs.alert', function () {\n  // do something...\n})\n```\n\n----------------------------------------\n\nTITLE: Implementing a Static Modal Example in HTML\nDESCRIPTION: This HTML snippet shows the structure of a static modal example, including the modal header, body, and footer. It demonstrates the basic components and layout of a Bootstrap modal.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"modal\" tabindex=\"-1\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\">Modal title</h5>\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\">\n        <p>Modal body text goes here.</p>\n      </div>\n      <div class=\"modal-footer\">\n        <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Close</button>\n        <button type=\"button\" class=\"btn btn-primary\">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Updating Bootstrap Popover Position\nDESCRIPTION: JavaScript method to update the position of a Bootstrap popover\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_16\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('update')\n```\n\n----------------------------------------\n\nTITLE: Creating Horizontal Bootstrap Cards\nDESCRIPTION: Shows how to create a horizontal card layout using Bootstrap's grid system and utility classes. This example demonstrates a responsive design that becomes horizontal at the 'md' breakpoint.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_7\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card mb-3\" style=\"max-width: 540px;\">\n  <div class=\"row no-gutters\">\n    <div class=\"col-md-4\">\n      {{< placeholder width=\"100%\" height=\"250\" class=\"\" text=\"Image\" >}}\n    </div>\n    <div class=\"col-md-8\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">Card title</h5>\n        <p class=\"card-text\">This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>\n        <p class=\"card-text\"><small class=\"text-muted\">Last updated 3 mins ago</small></p>\n      </div>\n    </div>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Deploying ZIP File Archives as Lambda Function Configuration in YAML\nDESCRIPTION: A sample function.yaml that configures a Lambda deployment using a ZIP file stored in AWS S3. It specifies S3 bucket details, handler, runtime, and other required Lambda function parameters.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/content/en/docs-v0.43.x/user-guide/managing-application/defining-app-configuration/lambda.md#2025-04-14_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: pipecd.dev/v1beta1\nkind: LambdaFunction\nspec:\n  name: SimpleZipPackingS3Function\n  role: arn:aws:iam::76xxxxxxx:role/lambda-role\n  # --- 3 next lines allow Piped to determine your Lambda function code stored in AWS S3.\n  s3Bucket: pipecd-sample-lambda\n  s3Key: pipecd-sample-src\n  s3ObjectVersion: 1pTK9_v0Kd7I8Sk4n6abzCL\n  # ---\n  handler: app.lambdaHandler\n  runtime: nodejs14.x\n  memory: 512\n  timeout: 30\n  environments:\n    FOO: bar\n  tags:\n    app: simple-zip-s3\n```\n\n----------------------------------------\n\nTITLE: Removing Modal Animation in HTML\nDESCRIPTION: This HTML snippet shows how to remove the fade animation from a modal by omitting the 'fade' class from the modal element.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/modal.md#2025-04-14_snippet_11\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"modal\" tabindex=\"-1\" aria-labelledby=\"...\" aria-hidden=\"true\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Creating Stacked Progress Bars with Multiple Colors\nDESCRIPTION: Example of combining multiple progress bars within a single progress component to create a stacked effect. This demonstrates how to represent multiple metrics or categories within a single horizontal space.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 15%\" aria-valuenow=\"15\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n  <div class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 30%\" aria-valuenow=\"30\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n  <div class=\"progress-bar bg-info\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Implementing Text Alignment in Bootstrap Cards\nDESCRIPTION: Demonstrates how to use Bootstrap's text alignment classes to adjust the alignment of content within cards. Shows examples of left-aligned (default), center-aligned, and right-aligned card content.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/card.md#2025-04-14_snippet_4\n\nLANGUAGE: HTML\nCODE:\n```\n<div class=\"card\" style=\"width: 18rem;\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Special title treatment</h5>\n    <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n  </div>\n</div>\n\n<div class=\"card text-center\" style=\"width: 18rem;\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Special title treatment</h5>\n    <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n  </div>\n</div>\n\n<div class=\"card text-right\" style=\"width: 18rem;\">\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">Special title treatment</h5>\n    <p class=\"card-text\">With supporting text below as a natural lead-in to additional content.</p>\n    <a href=\"#\" class=\"btn btn-primary\">Go somewhere</a>\n  </div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Sizing Button Groups with Class Modifiers in HTML\nDESCRIPTION: Demonstrates how to apply sizing classes to button groups using the .btn-group-lg and .btn-group-sm modifiers instead of applying sizing to individual buttons.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group btn-group-lg\" role=\"group\" aria-label=\"...\">...</div>\n<div class=\"btn-group\" role=\"group\" aria-label=\"...\">...</div>\n<div class=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"...\">...</div>\n```\n\n----------------------------------------\n\nTITLE: Adding Striped Effects to Bootstrap Progress Bars\nDESCRIPTION: Examples of creating striped progress bars using the .progress-bar-striped class combined with different background colors. The stripes are created with CSS gradients applied over the background color.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_6\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped\" role=\"progressbar\" style=\"width: 10%\" aria-valuenow=\"10\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped bg-success\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped bg-info\" role=\"progressbar\" style=\"width: 50%\" aria-valuenow=\"50\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped bg-warning\" role=\"progressbar\" style=\"width: 75%\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\">\n  <div class=\"progress-bar progress-bar-striped bg-danger\" role=\"progressbar\" style=\"width: 100%\" aria-valuenow=\"100\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Customizing Bootstrap Progress Bar Heights\nDESCRIPTION: Examples of customizing progress bar heights using inline styles. The first example shows a thin 1px height progress bar, while the second shows a taller 20px height progress bar, demonstrating size flexibility.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/progress.md#2025-04-14_snippet_3\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"progress\" style=\"height: 1px;\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 25%;\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n<div class=\"progress\" style=\"height: 20px;\">\n  <div class=\"progress-bar\" role=\"progressbar\" style=\"width: 25%;\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n</div>\n```\n\n----------------------------------------\n\nTITLE: CSS Display Property Example\nDESCRIPTION: Example of display property usage in CSS classes for responsive toggling of element visibility\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/layout/utilities-for-layout.md#2025-04-14_snippet_0\n\nLANGUAGE: css\nCODE:\n```\n.d-flex\n```\n\n----------------------------------------\n\nTITLE: Basic Input Group Implementation in HTML\nDESCRIPTION: Demonstrates various basic input group implementations including prepended and appended text elements, URL prefixes, currency inputs, and textarea integration.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/input-group.md#2025-04-14_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\" aria-describedby=\"basic-addon1\">\n</div>\n\n<div class=\"input-group mb-3\">\n  <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\" aria-describedby=\"basic-addon2\">\n  <div class=\"input-group-append\">\n    <span class=\"input-group-text\" id=\"basic-addon2\">@example.com</span>\n  </div>\n</div>\n\n<label for=\"basic-url\">Your vanity URL</label>\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\" id=\"basic-addon3\">https://example.com/users/</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\">\n</div>\n\n<div class=\"input-group mb-3\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\">$</span>\n  </div>\n  <input type=\"text\" class=\"form-control\" aria-label=\"Amount (to the nearest dollar)\">\n  <div class=\"input-group-append\">\n    <span class=\"input-group-text\">.00</span>\n  </div>\n</div>\n\n<div class=\"input-group\">\n  <div class=\"input-group-prepend\">\n    <span class=\"input-group-text\">With textarea</span>\n  </div>\n  <textarea class=\"form-control\" aria-label=\"With textarea\"></textarea>\n</div>\n```\n\n----------------------------------------\n\nTITLE: Showing Bootstrap Popover\nDESCRIPTION: JavaScript method to manually show a Bootstrap popover element\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/popovers.md#2025-04-14_snippet_9\n\nLANGUAGE: javascript\nCODE:\n```\n$('#element').popover('show')\n```\n\n----------------------------------------\n\nTITLE: Creating Visually Hidden Interactive Controls with Bootstrap in HTML\nDESCRIPTION: This example shows how to combine .sr-only and .sr-only-focusable classes to create visually hidden interactive controls, such as skip links. These become visible when focused, benefiting sighted keyboard users.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/getting-started/accessibility.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<a class=\"sr-only sr-only-focusable\" href=\"#content\">Skip to main content</a>\n```\n\n----------------------------------------\n\nTITLE: Creating Vertical Button Groups in HTML\nDESCRIPTION: Implements vertically stacked buttons using the .btn-group-vertical class instead of the standard horizontal arrangement. Note that split button dropdowns are not supported.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/components/button-group.md#2025-04-14_snippet_5\n\nLANGUAGE: html\nCODE:\n```\n<div class=\"btn-group-vertical\">\n  ...\n</div>\n```\n\n----------------------------------------\n\nTITLE: Display Heading Implementation\nDESCRIPTION: Implementation of Bootstrap's display headings for larger, more impactful text styles.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/bootstrap/site/content/docs/4.6/content/typography.md#2025-04-14_snippet_1\n\nLANGUAGE: html\nCODE:\n```\n<h1 class=\"display-1\">Display 1</h1>\n<h1 class=\"display-2\">Display 2</h1>\n<h1 class=\"display-3\">Display 3</h1>\n<h1 class=\"display-4\">Display 4</h1>\n```\n\n----------------------------------------\n\nTITLE: Changelog Entry Example\nDESCRIPTION: Standard format for documenting version changes in the Font Awesome project, including version number, date, and categorized changes.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_0\n\nLANGUAGE: markdown\nCODE:\n```\n## [5.15.2](https://github.com/FortAwesome/Font-Awesome/releases/tag/5.15.2) - 2021-01-13\n\n### Changed\n\n* Support release to improve Font Awesome Kits performance\n```\n\n----------------------------------------\n\nTITLE: Version Header Format\nDESCRIPTION: Standard header format used for each version entry in the changelog, including version number, link to release, and date.\nSOURCE: https://github.com/pipe-cd/pipecd/blob/master/docs/themes/docsy/assets/vendor/Font-Awesome/CHANGELOG.md#2025-04-14_snippet_1\n\nLANGUAGE: markdown\nCODE:\n```\n## [5.15.1](https://github.com/FortAwesome/Font-Awesome/releases/tag/5.15.1) - 2020-10-05\n```"
  }
]