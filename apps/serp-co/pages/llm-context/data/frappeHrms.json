[
  {
    "owner": "frappe",
    "repo": "hrms",
    "content": "TITLE: Calculating Average Score for Appraisal in Python\nDESCRIPTION: This method calculates the average score for a parent Appraisal by summing up the scores of its child Appraisal Goals, considering their weights. It handles cases where goals may have different weights and ensures the total weight is normalized to 100.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/hr/doctype/appraisal_goal/README.md#2025-04-16_snippet_0\n\nLANGUAGE: Python\nCODE:\n```\ndef calculate_average_score(self):\n\ttotal_score = 0\n\ttotal_weight = 0\n\n\tfor goal in self.goals:\n\t\tif goal.score:\n\t\t\ttotal_score += goal.score * (goal.weight / 100)\n\t\t\ttotal_weight += goal.weight\n\n\tif total_weight < 100:\n\t\ttotal_score = total_score * (100 / total_weight)\n\n\tself.score = round(total_score, 2)\n\n\tfrappe.db.set_value(\"Appraisal\", self.name, \"score\", self.score)\n```\n\n----------------------------------------\n\nTITLE: Setting up Frappe HR using Docker\nDESCRIPTION: Commands to clone the Frappe HR repository and start it using Docker and docker-compose. This will create a new site and make it accessible at http://localhost:8000.\nSOURCE: https://github.com/frappe/hrms/blob/develop/README.md#2025-04-16_snippet_0\n\nLANGUAGE: Bash\nCODE:\n```\ngit clone https://github.com/frappe/hrms\ncd hrms/docker\ndocker-compose up\n```\n\n----------------------------------------\n\nTITLE: Setting up Frappe HR locally using Bench\nDESCRIPTION: Commands for setting up Frappe HR locally using the Bench CLI tool. This creates a new site, installs the necessary applications, and makes the site accessible at http://hrms.local:8080.\nSOURCE: https://github.com/frappe/hrms/blob/develop/README.md#2025-04-16_snippet_1\n\nLANGUAGE: Bash\nCODE:\n```\n$ bench start\n```\n\nLANGUAGE: Bash\nCODE:\n```\n$ bench new-site hrms.local\n$ bench get-app erpnext\n$ bench get-app hrms\n$ bench --site hrms.local install-app hrms\n$ bench --site hrms.local add-to-hosts\n```\n\n----------------------------------------\n\nTITLE: Creating Training Event Email Template with HTML and Jinja2\nDESCRIPTION: This template creates an email notification for a training event. It displays the event name, introduction, location, dates/times (with conditional formatting based on event duration), a link to the event, and a note if the training is mandatory. The template uses Jinja2 templating for dynamic content and conditional logic.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/hr/notification/training_scheduled/training_scheduled.md#2025-04-16_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"panel-header\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n    <tr height=\"10\"></tr>\n    <tr>\n        <td width=\"15\"></td>\n        <td>\n            <div class=\"text-medium text-muted\">\n                <span>{{_(\"Training Event:\")}} {{ doc.event_name }}</span>\n            </div>\n        </td>\n        <td width=\"15\"></td>\n    </tr>\n    <tr height=\"10\"></tr>\n</table>\n\n<table class=\"panel-body\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n    <tr height=\"10\"></tr>\n    <tr>\n        <td width=\"15\"></td>\n        <td>\n            <div>\n                {{ doc.introduction }}\n                <ul class=\"list-unstyled\" style=\"line-height: 1.7\">\n                    <li>{{_(\"Event Location\")}}: <b>{{ doc.location }}</b></li>\n                    {% set start = frappe.utils.get_datetime(doc.start_time) %}\n                    {% set end = frappe.utils.get_datetime(doc.end_time) %}\n                    {% if start.date() == end.date() %}\n                        <li>{{_(\"Date\")}}: <b>{{ start.strftime(\"%A, %d %b %Y\") }}</b></li>\n                        <li>\n                            {{_(\"Timing\")}}: <b>{{ start.strftime(\"%I:%M %p\") + ' to ' + end.strftime(\"%I:%M %p\") }}</b>\n                        </li>\n                    {% else %}\n                        <li>\n                            {{_(\"Start Time\")}}: <b>{{ start.strftime(\"%A, %d %b %Y at %I:%M %p\") }}</b>\n                        </li>\n                        <li>{{_(\"End Time\")}}: <b>{{ end.strftime(\"%A, %d %b %Y at %I:%M %p\") }}</b></li>\n                    {% endif %}\n                    <li>{{ _(\"Event Link\") }}: {{ frappe.utils.get_link_to_form(doc.doctype, doc.name) }}</li>\n                    {% if doc.is_mandatory %}\n                        <li>{{ _(\"Note: This Training Event is mandatory\") }}</li>\n                    {% endif %}\n                </ul>\n            </div>\n        </td>\n        <td width=\"15\"></td>\n    </tr>\n    <tr height=\"10\"></tr>\n</table>\n```\n\n----------------------------------------\n\nTITLE: Displaying Training Event Details with HTML and Jinja Templating\nDESCRIPTION: This template renders training event information using Jinja templating embedded in HTML. It shows the event name as a clickable link along with location, timing details, and attendance information. The template uses translation tags for internationalization.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/hr/notification/training_feedback/training_feedback.md#2025-04-16_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<h3>{{_('Training Event')}}</h3>\n<p>{{ message }}</p>\n\n<h4>{{_('Details')}}</h4>\n{{_('Event Name')}}: <a href=\"{{ event_link }}\">{{ name }}</a>\n<br>{{_('Event Location')}}: {{ location }}\n<br>{{_('Start Time')}}: {{ start_time }}\n<br>{{_('End Time')}}: {{ end_time }}\n<br>{{_('Attendance')}}: {{ attendance }}\n```\n\n----------------------------------------\n\nTITLE: Email Thread Template with Liquid Syntax\nDESCRIPTION: A template for displaying email conversations that includes a title, a loop through replies showing sender names and content, and conditional display of people who did not reply. This uses Liquid templating syntax which is common in email templates.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/templates/emails/daily_work_summary.txt#2025-04-16_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n{{ title }}\n\n{% for reply in replies %}\n{{ reply.sender_name }}:\n{{ reply.content }}\n\n\n{% endfor %}\n{% if did_not_reply %}\n{{ did_not_reply_title }}: {{ did_not_reply }}\n{% endif %}\n```\n\n----------------------------------------\n\nTITLE: Rendering Exit Interview Notification Template with HTML and Jinja\nDESCRIPTION: This HTML template uses Jinja templating to display information about a scheduled exit interview. It shows a header with the interview name, followed by employee details, interview date, a list of interviewers, and a link to the interview document.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/hr/notification/exit_interview_scheduled/exit_interview_scheduled.md#2025-04-16_snippet_0\n\nLANGUAGE: HTML\nCODE:\n```\n<table class=\"panel-header\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n\t<tr height=\"10\"></tr>\n\t<tr>\n\t\t<td width=\"15\"></td>\n\t\t<td>\n\t\t\t<div class=\"text-medium text-muted\">\n\t\t\t\t<h2>{{_('Exit Interview Scheduled:')}} {{ doc.name }}</h2>\n\t\t\t</div>\n\t\t</td>\n\t\t<td width=\"15\"></td>\n\t</tr>\n\t<tr height=\"10\"></tr>\n</table>\n\n<table class=\"panel-body\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\n\t<tr height=\"10\"></tr>\n\t<tr>\n\t\t<td width=\"15\"></td>\n\t\t<td>\n\t\t\t<div>\n\t\t\t\t<ul class=\"list-unstyled\" style=\"line-height: 1.7\">\n\t\t\t\t\t<li><b>{{_(\"Employee\")}}: </b>{{ doc.employee }} - {{ doc.employee_name }}</li>\n\t\t\t\t\t<li><b>{{_(\"Date\")}}: </b>{{ frappe.utils.formatdate(doc.date) }}</li>\n\t\t\t\t\t<li><b>{{_(\"Interviewers\")}}:</b> </li>\n\t\t\t\t\t{% for entry in doc.interviewers %}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t<li>{{ entry.user }}</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t{% endfor %}\n\t\t\t\t\t<li><b>{{ _(\"Interview Document\") }}:</b> {{ frappe.utils.get_link_to_form(doc.doctype, doc.name) }}</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</td>\n\t\t<td width=\"15\"></td>\n\t</tr>\n\t<tr height=\"10\"></tr>\n</table>\n```\n\n----------------------------------------\n\nTITLE: Rendering Employee Retention Bonus Email Template in HTML\nDESCRIPTION: HTML template with Jinja templating that displays a greeting and retention bonus information. Uses translation functions and doc variables to show employee name and bonus payment date.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/payroll/notification/retention_bonus/retention_bonus.md#2025-04-16_snippet_0\n\nLANGUAGE: html\nCODE:\n```\n<p>{{ _(\"Hello\") }},</p>\n\n<p> {{ _(\"Retention Bonus for\") }} {{ doc.employee_name }} {{ _(\"due on\") }} {{ doc.bonus_payment_date }}</p>\n```\n\n----------------------------------------\n\nTITLE: Configuring HRMS Database Patches in Plaintext\nDESCRIPTION: This configuration lists database patches to be executed when installing or upgrading the HRMS module. Patches are divided into pre_model_sync (executed before database schema changes) and post_model_sync (executed after schema changes) sections. Each line references a Python module path with optional date comments indicating when patches were added.\nSOURCE: https://github.com/frappe/hrms/blob/develop/hrms/patches.txt#2025-04-16_snippet_0\n\nLANGUAGE: plaintext\nCODE:\n```\n[pre_model_sync]\nhrms.patches.v15_0.check_version_compatibility_with_frappe #2023-06-27\n\n[post_model_sync]\nhrms.patches.post_install.set_payroll_entry_status\nhrms.patches.v1_0.rearrange_employee_fields\nhrms.patches.post_install.update_allocate_on_in_leave_type\nhrms.patches.v14_0.create_custom_field_for_appraisal_template\nhrms.patches.post_install.update_performance_module_changes #2023-04-17\nhrms.patches.v14_0.update_payroll_frequency_to_none_if_salary_slip_is_based_on_timesheet\nhrms.patches.v14_0.update_ess_user_access #2023-08-14\nexecute:frappe.db.set_default(\"date_format\", frappe.db.get_single_value(\"System Settings\", \"date_format\"))\nhrms.patches.v14_0.create_vehicle_service_item\nhrms.patches.v14_0.add_expense_claim_to_repost_settings\nhrms.patches.v15_0.notify_about_loan_app_separation\nhrms.patches.v15_0.rename_enable_late_entry_early_exit_grace_period\nhrms.patches.v14_0.update_repay_from_salary_and_payroll_payable_account_fields\nhrms.patches.v14_0.create_custom_field_in_loan\nhrms.patches.v14_0.update_loan_repayment_repay_from_salary\nhrms.patches.v15_0.migrate_loan_type_to_loan_product\nhrms.patches.v15_0.rename_and_update_leave_encashment_fields\nhrms.patches.v14_0.update_title_in_employee_onboarding_and_separation_templates\nhrms.patches.v15_0.make_hr_settings_tab_in_company_master\nhrms.patches.v15_0.enable_allow_checkin_setting\nhrms.patches.v15_0.set_default_asset_action_in_fnf\nhrms.patches.v15_0.add_loan_docperms_to_ess #2024-05-14\nhrms.patches.v15_0.migrate_shift_assignment_schedule_to_shift_schedule\nhrms.patches.v15_0.update_payment_status_for_leave_encashment\nhrms.patches.v15_0.create_accounting_dimensions_in_leave_encashment\n```\n\n----------------------------------------\n\nTITLE: GNU GPL Source File License Notice Template\nDESCRIPTION: A template for the license notice that should be attached to the start of each source file when applying the GNU GPL to a program. It includes copyright information and the basic terms of the GPL license.\nSOURCE: https://github.com/frappe/hrms/blob/develop/license.txt#2025-04-16_snippet_0\n\nLANGUAGE: text\nCODE:\n```\n<one line to give the program's name and a brief idea of what it does.>\nCopyright (C) <year>  <name of author>\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n```\n\n----------------------------------------\n\nTITLE: GNU GPL Terminal Interaction Notice Template\nDESCRIPTION: A template for the short notice that programs with terminal interaction should display when starting in interactive mode. It informs users about the warranty disclaimer and redistribution conditions.\nSOURCE: https://github.com/frappe/hrms/blob/develop/license.txt#2025-04-16_snippet_1\n\nLANGUAGE: text\nCODE:\n```\n<program>  Copyright (C) <year>  <name of author>\nThis program comes with ABSOLUTELY NO WARRANTY; for details type `show w'.\nThis is free software, and you are welcome to redistribute it\nunder certain conditions; type `show c' for details.\n```"
  }
]