[
  {
    "owner": "mailosaur",
    "repo": "cypress-mailosaur",
    "content": "TITLE: Writing a Password Reset Test with Mailosaur in Cypress\nDESCRIPTION: This comprehensive JavaScript code snippet demonstrates a full password reset test flow using Cypress and Mailosaur, including requesting a reset, retrieving the email, and following the reset link.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_5\n\nLANGUAGE: javascript\nCODE:\n```\ndescribe('Password reset', () => {\n    const serverId = 'abcd1234'\n    const serverDomain = 'abcd1234.mailosaur.net'\n    const emailAddress = 'password-reset@' + serverDomain\n\n    it('Makes a Password Reset request', () => {\n        cy.visit('https://github.com/password_reset')\n        cy.title().should('equal', 'Forgot your password?')\n        cy.get('#email_field').type(emailAddress)\n    })\n\n    it('Gets Password Reset email from Mailosaur', () => {\n        cy.mailosaurGetMessage(serverId, {\n            sentTo: emailAddress\n        }).then(email => {\n            expect(email.subject).to.equal('Reset your password');\n            passwordResetLink = email.text.links[0].href;\n        })\n    })\n\n    it('Follows the link from the email', () => {\n        const validPassword = 'delighted cheese jolly cloud'\n\n        cy.visit(passwordResetLink)\n        cy.title().should('contain', 'Change your password')\n        cy.get('#password').type(validPassword)\n        cy.get('#password_confirmation').type(validPassword)\n        cy.get('form').submit()\n    })\n})\n```\n\n----------------------------------------\n\nTITLE: Testing SMS Messages with Mailosaur in Cypress\nDESCRIPTION: This JavaScript snippet shows how to use Mailosaur to test SMS messages in a Cypress test, demonstrating the retrieval and assertion of SMS content.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_6\n\nLANGUAGE: javascript\nCODE:\n```\ncy.mailosaurGetMessage(serverId, {\n    sentTo: '447555111222'\n}).then(sms => {\n    expect(sms.text.body).to.equal('Your OTP code is: 123456')\n})\n```\n\n----------------------------------------\n\nTITLE: Configuring Mailosaur API Key in Cypress Config\nDESCRIPTION: This snippet shows how to add the Mailosaur API key to the Cypress configuration file for authentication.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_2\n\nLANGUAGE: javascript\nCODE:\n```\nmodule.exports = defineConfig({\n  env: {\n    MAILOSAUR_API_KEY: \"your-key-here\",\n  },\n\n  // ...\n});\n```\n\n----------------------------------------\n\nTITLE: Importing Cypress-Mailosaur Commands\nDESCRIPTION: This code snippet demonstrates how to import Mailosaur commands into a Cypress project by adding a require statement to the support file.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_1\n\nLANGUAGE: javascript\nCODE:\n```\nrequire('cypress-mailosaur');\n```\n\n----------------------------------------\n\nTITLE: Installing Cypress-Mailosaur via npm or yarn\nDESCRIPTION: This snippet shows how to install the Cypress-Mailosaur package using npm or yarn package managers.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nnpm i -D cypress-mailosaur\n# or\nyarn add -D cypress-mailosaur\n```\n\n----------------------------------------\n\nTITLE: Setting Mailosaur API Key as Environment Variable\nDESCRIPTION: This command demonstrates how to set the Mailosaur API key as a system environment variable for Cypress to use.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\nexport CYPRESS_MAILOSAUR_API_KEY=your-key-here\n```\n\n----------------------------------------\n\nTITLE: Setting Up Development Environment for Cypress-Mailosaur\nDESCRIPTION: These shell commands demonstrate how to set up the development environment for Cypress-Mailosaur, including installing dependencies and setting required environment variables.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_7\n\nLANGUAGE: shell\nCODE:\n```\ncd test/react-app\nnpm i\ncd ../../\nnpm i\n\nexport CYPRESS_MAILOSAUR_API_KEY=your_api_key\nexport CYPRESS_MAILOSAUR_SERVER=server_id\n\nnpm test\n```\n\n----------------------------------------\n\nTITLE: Creating a New Cypress Test Spec File\nDESCRIPTION: This shell command creates a new test specification file for writing Cypress tests with Mailosaur.\nSOURCE: https://github.com/mailosaur/cypress-mailosaur/blob/main/README.md#2025-04-22_snippet_4\n\nLANGUAGE: shell\nCODE:\n```\ntouch cypress/e2e/password-reset.cy.js\n```"
  }
]