[
  {
    "owner": "google-github-actions",
    "repo": "deploy-cloudrun",
    "content": "TITLE: Deploying to Cloud Run using GitHub Actions Workflow\nDESCRIPTION: Example workflow configuration demonstrating how to deploy a container to Cloud Run using the deploy-cloudrun action. Includes authentication setup using Workload Identity Federation and shows how to access the deployed service URL.\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_0\n\nLANGUAGE: yaml\nCODE:\n```\njobs:\n  job_id:\n    # ...\n\n    permissions:\n      contents: 'read'\n      id-token: 'write'\n\n    steps:\n    - uses: 'actions/checkout@v4'\n\n    - uses: 'google-github-actions/auth@v2'\n      with:\n        workload_identity_provider: 'projects/123456789/locations/global/workloadIdentityPools/my-pool/providers/my-provider'\n        service_account: 'my-service-account@my-project.iam.gserviceaccount.com'\n\n    - id: 'deploy'\n      uses: 'google-github-actions/deploy-cloudrun@v2'\n      with:\n        service: 'hello-cloud-run'\n        image: 'gcr.io/cloudrun/hello'\n\n    - name: 'Use output'\n      run: 'curl \"${{ steps.deploy.outputs.url }}\"'\n```\n\n----------------------------------------\n\nTITLE: GitHub Actions Workflow with Workload Identity\nDESCRIPTION: Example GitHub Actions workflow configuration using Workload Identity Federation for authentication and deploying to Cloud Run\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_4\n\nLANGUAGE: yaml\nCODE:\n```\njobs:\n  job_id:\n    permissions:\n      contents: 'read'\n      id-token: 'write'\n\n    steps:\n\n    # ...\n\n    - uses: 'google-github-actions/auth@v2'\n      with:\n        workload_identity_provider: 'projects/123456789/locations/global/workloadIdentityPools/my-pool/providers/my-provider'\n        service_account: 'my-service-account@my-project.iam.gserviceaccount.com'\n\n    - uses: 'google-github-actions/deploy-cloudrun@v2'\n      with:\n        image: 'gcr.io/cloudrun/hello'\n        service: 'hello-cloud-run'\n```\n\n----------------------------------------\n\nTITLE: GitHub Actions Workflow with Default Credentials\nDESCRIPTION: Example GitHub Actions workflow configuration using Application Default Credentials for GCP-hosted runners\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_5\n\nLANGUAGE: yaml\nCODE:\n```\njobs:\n  job_id:\n    steps:\n    # ...\n\n    - uses: 'google-github-actions/deploy-cloudrun@v2'\n      with:\n        image: 'gcr.io/cloudrun/hello'\n        service: 'hello-cloud-run'\n```\n\n----------------------------------------\n\nTITLE: Cloud Run Service Definition YAML\nDESCRIPTION: YAML configuration template for deploying a new service to Cloud Run. Defines basic service metadata and container specifications.\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_2\n\nLANGUAGE: yaml\nCODE:\n```\napiVersion: serving.knative.dev/v1\nkind: Service\nmetadata:\n  name: SERVICE\nspec:\n  template:\n    spec:\n      containers:\n      - image: IMAGE\n```\n\n----------------------------------------\n\nTITLE: Handling Complex Arguments in Traffic Update Flags\nDESCRIPTION: Example showing how to properly quote nested flags in traffic update commands to ensure they're correctly passed to the underlying gcloud command.\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\nwith:\n\n```\n\n----------------------------------------\n\nTITLE: Defining Environment Variables with Special Characters for Cloud Run Deployment\nDESCRIPTION: Sets environment variables with TEXT_ prefix for Google Cloud Run deployment. Demonstrates both simple variable assignment and complex variables with escaped special characters like commas, pipes, and ampersands.\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/tests/fixtures/env_vars.txt#2025-04-21_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nTEXT_FOO=bar\nTEXT_ZIP=zap\\,with|separators\\,and&stuff\n```\n\n----------------------------------------\n\nTITLE: Retrieve Cloud Run Service Description\nDESCRIPTION: Shell command to download and export the YAML service definition for an existing Cloud Run service\nSOURCE: https://github.com/google-github-actions/deploy-cloudrun/blob/main/README.md#2025-04-21_snippet_3\n\nLANGUAGE: shell\nCODE:\n```\ngcloud run services describe SERVICE --format yaml > service.yaml\n```"
  }
]