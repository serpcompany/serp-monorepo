[
  {
    "owner": "syncthing",
    "repo": "syncthing",
    "content": "TITLE: Syncthing Docker Compose Configuration\nDESCRIPTION: Docker Compose configuration for Syncthing with environment variables, volume mounts, port mappings, and healthcheck settings.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/README-Docker.md#2025-04-21_snippet_1\n\nLANGUAGE: yaml\nCODE:\n```\n---\nversion: \"3\"\nservices:\n  syncthing:\n    image: syncthing/syncthing\n    container_name: syncthing\n    hostname: my-syncthing\n    environment:\n      - PUID=1000\n      - PGID=1000\n    volumes:\n      - /wherever/st-sync:/var/syncthing\n    ports:\n      - 8384:8384 # Web UI\n      - 22000:22000/tcp # TCP file transfers\n      - 22000:22000/udp # QUIC file transfers\n      - 21027:21027/udp # Receive local discovery broadcasts\n    restart: unless-stopped\n    healthcheck:\n      test: curl -fkLsS -m 2 127.0.0.1:8384/rest/noauth/health | grep -o --color=never OK || exit 1\n      interval: 1m\n      timeout: 10s\n      retries: 3\n```\n\n----------------------------------------\n\nTITLE: Docker Compose with Host Network Mode\nDESCRIPTION: Docker Compose configuration using host network mode for optimal local network performance and device discovery.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/README-Docker.md#2025-04-21_snippet_3\n\nLANGUAGE: yaml\nCODE:\n```\n---\nversion: \"3\"\nservices:\n  syncthing:\n    image: syncthing/syncthing\n    container_name: syncthing\n    hostname: my-syncthing\n    environment:\n      - PUID=1000\n      - PGID=1000\n    volumes:\n      - /wherever/st-sync:/var/syncthing\n    network_mode: host\n    restart: unless-stopped\n    healthcheck:\n      test: curl -fkLsS -m 2 127.0.0.1:8384/rest/noauth/health | grep -o --color=never OK || exit 1\n      interval: 1m\n      timeout: 10s\n      retries: 3\n```\n\n----------------------------------------\n\nTITLE: Running Syncthing Container with Docker CLI\nDESCRIPTION: Basic Docker command to run Syncthing container with port mappings and volume mount. Exposes web UI, TCP/UDP file transfers, and discovery ports.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/README-Docker.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ docker pull syncthing/syncthing\n$ docker run -p 8384:8384 -p 22000:22000/tcp -p 22000:22000/udp -p 21027:21027/udp \\\n    -v /wherever/st-sync:/var/syncthing \\\n    --hostname=my-syncthing \\\n    syncthing/syncthing:latest\n```\n\n----------------------------------------\n\nTITLE: Running Syncthing with Host Network Mode\nDESCRIPTION: Docker CLI command to run Syncthing using host network mode for better local device discovery and transfer rates.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/README-Docker.md#2025-04-21_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ docker pull syncthing/syncthing\n$ docker run --network=host \\\n    -v /wherever/st-sync:/var/syncthing \\\n    syncthing/syncthing:latest\n```\n\n----------------------------------------\n\nTITLE: Verifying UFW Configuration for Syncthing\nDESCRIPTION: Command to check the current UFW status and verify that the correct ports are open for Syncthing. This helps ensure the firewall is configured correctly.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/firewall-ufw/README.md#2025-04-21_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\nsudo ufw status verbose\n```\n\n----------------------------------------\n\nTITLE: Allowing Syncthing Ports in UFW\nDESCRIPTION: Command to allow the default Syncthing ports through the UFW firewall. This enables Syncthing to communicate properly.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/firewall-ufw/README.md#2025-04-21_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nsudo ufw allow syncthing\n```\n\n----------------------------------------\n\nTITLE: Updating Syncthing UFW Application Presets\nDESCRIPTION: Commands to update the Syncthing and Syncthing GUI application presets in UFW. This step loads the preset configurations into UFW.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/firewall-ufw/README.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsudo ufw app update syncthing\nsudo ufw app update syncthing-gui\n```\n\n----------------------------------------\n\nTITLE: Installing Syncthing Tech UI from release zip\nDESCRIPTION: Commands to download and install the Syncthing Tech UI into the GUI override directory for a default Linux setup. This places the UI files where Syncthing can serve them as an alternative interface.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/next-gen-gui/README.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\n$ cd ~/.config/syncthing\n$ mkdir -p gui/default\n$ cd gui/default\n$ unzip ~/tech-ui-v1.0.0.zip\n```\n\n----------------------------------------\n\nTITLE: Building and deploying Syncthing Tech UI to config directory\nDESCRIPTION: Commands to build the UI in production mode and copy the built assets to Syncthing's config directory, allowing it to be served directly by Syncthing at the /tech-ui/ endpoint.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/next-gen-gui/README.md#2025-04-21_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\n$ npm run build -- --prod\n$ rsync -va --delete dist/tech-ui/ ~/.config/syncthing/gui/default/tech-ui/\n```\n\n----------------------------------------\n\nTITLE: Deploying Syncthing Tech UI using STGUIASSETS environment variable\nDESCRIPTION: Alternative deployment method that builds the UI in production mode and sets the STGUIASSETS environment variable to point to the distribution directory before starting Syncthing.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/next-gen-gui/README.md#2025-04-21_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n$ npm run build -- --prod\n$ ln -sf . dist/default\n$ export STGUIASSETS=$(pwd)/dist\n$ syncthing\n```\n\n----------------------------------------\n\nTITLE: Syncthing GUI Security Configuration\nDESCRIPTION: Docker command to run Syncthing with custom GUI security settings by unsetting the STGUIADDRESS environment variable.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/README-Docker.md#2025-04-21_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ docker pull syncthing/syncthing\n$ docker run -e STGUIADDRESS= \\\n    -v /wherever/st-sync:/var/syncthing \\\n    syncthing/syncthing:latest\n```\n\n----------------------------------------\n\nTITLE: Applying sysctl Changes for Syncthing UDP Buffer Configuration\nDESCRIPTION: This command applies the sysctl changes system-wide, including the new configuration for Syncthing's UDP buffer size. It uses sudo for elevated permissions and the -q flag for quiet operation.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/linux-sysctl/README.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsudo sysctl -q --system\n```\n\n----------------------------------------\n\nTITLE: Verifying UDP Buffer Size Configuration for Syncthing\nDESCRIPTION: This command checks the current value of the net.core.rmem_max sysctl parameter, which represents the maximum receive buffer size for all types of connections, including UDP used by Syncthing.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/linux-sysctl/README.md#2025-04-21_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nsysctl net.core.rmem_max\n```\n\n----------------------------------------\n\nTITLE: Enabling Syncthing Autostart in FreeBSD rc.conf\nDESCRIPTION: This snippet shows the configuration line to add to /etc/rc.conf for automatically starting Syncthing at boot time on FreeBSD systems.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/freebsd-rc/README.md#2025-04-21_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nsyncthing_enable=YES\n```\n\n----------------------------------------\n\nTITLE: Optional Syncthing Configuration in FreeBSD rc.conf\nDESCRIPTION: These are optional configuration settings for Syncthing in FreeBSD's rc.conf. They allow specifying the home directory, log file location, and the user/group under which Syncthing runs.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/freebsd-rc/README.md#2025-04-21_snippet_1\n\nLANGUAGE: shell\nCODE:\n```\nsyncthing_home=</path/to/syncthing/config/dir>\nsyncthing_log_file=</path/to/syncthing/log/file>\nsyncthing_user=<syncthing_user>\nsyncthing_group=<syncthing_group>\n```\n\n----------------------------------------\n\nTITLE: macOS launchd Commands for Syncthing\nDESCRIPTION: Command to load the Syncthing launch agent configuration into launchd system on macOS.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/macos-launchd/README.md#2025-04-21_snippet_0\n\nLANGUAGE: shell\nCODE:\n```\nlaunchctl load ~/Library/LaunchAgents/syncthing.plist\n```\n\n----------------------------------------\n\nTITLE: Starting Syncthing Manually via Upstart\nDESCRIPTION: Command to manually start Syncthing when using the system-level Upstart configuration. Requires sudo privileges to execute the initctl command.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/linux-upstart/README.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nsudo initctl start syncthing\n```\n\n----------------------------------------\n\nTITLE: Installing Syncthing Binary for SMF on Solaris\nDESCRIPTION: Instructions for placing the Syncthing binary in the home directory's bin folder to prepare for SMF configuration.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/solaris-smf/README.md#2025-04-21_snippet_0\n\nLANGUAGE: bash\nCODE:\n```\nInstall the `syncthing` binary in a directory called `bin` in your\nhome directory.\n```\n\n----------------------------------------\n\nTITLE: Editing SMF Configuration File for Syncthing on Solaris\nDESCRIPTION: Instructions for customizing the syncthing.xml service manifest by replacing placeholder values with the actual username and home directory path.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/solaris-smf/README.md#2025-04-21_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\nEdit the `syncthing.xml` file in the two places that refer to your\nusername and home directory; that is, replace `jb` with your actual\nusername and `/home/jb` with your actual home directory location.\n```\n\n----------------------------------------\n\nTITLE: Loading Syncthing Service Manifest in Solaris SMF\nDESCRIPTION: Command to import the Syncthing service manifest into the Solaris Service Management Facility (SMF). This must be executed with appropriate privileges.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/solaris-smf/README.md#2025-04-21_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsvccfg import syncthing.xml\n```\n\n----------------------------------------\n\nTITLE: Generated Relay Server URI\nDESCRIPTION: Example URI generated by strelaysrv containing server ID and configuration parameters\nSOURCE: https://github.com/syncthing/syncthing/blob/main/cmd/strelaysrv/README.md#2025-04-21_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nrelay://:22067/?id=EZQOIDM-6DDD4ZI-DJ65NSM-4OQWRAT-EIKSMJO-OZ552BO-WQZEGYY-STS5RQM&pingInterval=1m0s&networkTimeout=2m0s&sessionLimitBps=0&globalLimitBps=0&statusAddr=:22070\n```\n\n----------------------------------------\n\nTITLE: Relay Server Status Endpoint JSON Response\nDESCRIPTION: Example JSON response from the relay server's /status endpoint showing metrics like bytes proxied, system info, and configuration options.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/cmd/strelaysrv/README.md#2025-04-21_snippet_0\n\nLANGUAGE: json\nCODE:\n```\n{\n    \"bytesProxied\": 0,\n    \"goArch\": \"amd64\",\n    \"goMaxProcs\": 1,\n    \"goNumRoutine\": 13,\n    \"goOS\": \"linux\",\n    \"goVersion\": \"go1.6\",\n    \"kbps10s1m5m15m30m60m\": [\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n    ],\n    \"numActiveSessions\": 0,\n    \"numConnections\": 0,\n    \"numPendingSessionKeys\": 2,\n    \"numProxies\": 0,\n    \"options\": {\n        \"global-rate\": 0,\n        \"message-timeout\": 60,\n        \"network-timeout\": 120,\n        \"per-session-rate\": 0,\n        \"ping-interval\": 60,\n        \"pools\": [\n            \"https://relays.syncthing.net/endpoint\"\n        ],\n        \"provided-by\": \"\"\n    },\n    \"startTime\": \"2016-03-06T12:53:07.090847749-05:00\",\n    \"uptimeSeconds\": 17\n}\n```\n\n----------------------------------------\n\nTITLE: Test Utility Client Command\nDESCRIPTION: Command to start the test utility client for testing relay connectivity\nSOURCE: https://github.com/syncthing/syncthing/blob/main/cmd/strelaysrv/README.md#2025-04-21_snippet_3\n\nLANGUAGE: bash\nCODE:\n```\n./testutil -relay=\"relay://192.0.2.1:22067\" -keys=certs/client/ -join\n```\n\n----------------------------------------\n\nTITLE: Test Utility Server Command\nDESCRIPTION: Command to start the test utility server for testing relay connectivity\nSOURCE: https://github.com/syncthing/syncthing/blob/main/cmd/strelaysrv/README.md#2025-04-21_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n./testutil -relay=\"relay://192.0.2.1:22067\" -keys=certs/server/ -connect=BG2C5ZA-W7XPFDO-LH222Z6-65F3HJX-ADFTGRT-3SBFIGM-KV26O2Q-E5RMRQ2\n```\n\n----------------------------------------\n\nTITLE: Allowing Syncthing GUI Access in UFW\nDESCRIPTION: Optional command to allow access to the Syncthing GUI from any IP address. This step is not necessary for typical installations where GUI access is only needed from localhost.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/etc/firewall-ufw/README.md#2025-04-21_snippet_2\n\nLANGUAGE: bash\nCODE:\n```\nsudo ufw allow syncthing-gui\n```\n\n----------------------------------------\n\nTITLE: Running the development server for Syncthing Tech UI\nDESCRIPTION: Command to start the development server, which runs on port 4200 and provides automatic reloading when source files are changed.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/next-gen-gui/README.md#2025-04-21_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n$ npm run serve\n```\n\n----------------------------------------\n\nTITLE: Generating new Angular components for Syncthing Tech UI\nDESCRIPTION: Angular CLI command to generate new components, which can be adapted to generate other Angular artifacts such as directives, pipes, services, etc.\nSOURCE: https://github.com/syncthing/syncthing/blob/main/next-gen-gui/README.md#2025-04-21_snippet_4\n\nLANGUAGE: bash\nCODE:\n```\n$ ng generate component component-name\n```\n\n----------------------------------------\n\nTITLE: Public Pool Join Confirmation Log\nDESCRIPTION: Log message showing successful connection to the public relay pool\nSOURCE: https://github.com/syncthing/syncthing/blob/main/cmd/strelaysrv/README.md#2025-04-21_snippet_1\n\nLANGUAGE: bash\nCODE:\n```\n2015/09/21 22:45:46 pool.go:60: Joined https://relays.syncthing.net/endpoint rejoining in 48m0s\n```"
  }
]